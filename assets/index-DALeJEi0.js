function _mergeNamespaces(Z,_){for(var K=0;K<_.length;K++){const te=_[K];if(typeof te!="string"&&!Array.isArray(te)){for(const ne in te)if(ne!=="default"&&!(ne in Z)){const ie=Object.getOwnPropertyDescriptor(te,ne);ie&&Object.defineProperty(Z,ne,ie.get?ie:{enumerable:!0,get:()=>te[ne]})}}}return Object.freeze(Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const ne of document.querySelectorAll('link[rel="modulepreload"]'))te(ne);new MutationObserver(ne=>{for(const ie of ne)if(ie.type==="childList")for(const oe of ie.addedNodes)oe.tagName==="LINK"&&oe.rel==="modulepreload"&&te(oe)}).observe(document,{childList:!0,subtree:!0});function K(ne){const ie={};return ne.integrity&&(ie.integrity=ne.integrity),ne.referrerPolicy&&(ie.referrerPolicy=ne.referrerPolicy),ne.crossOrigin==="use-credentials"?ie.credentials="include":ne.crossOrigin==="anonymous"?ie.credentials="omit":ie.credentials="same-origin",ie}function te(ne){if(ne.ep)return;ne.ep=!0;const ie=K(ne);fetch(ne.href,ie)}})();function getDefaultExportFromCjs(Z){return Z&&Z.__esModule&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var Z=Symbol.for("react.element"),_=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),oe=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),pe=Symbol.iterator;function me(qe){return qe===null||typeof qe!="object"?null:(qe=pe&&qe[pe]||qe["@@iterator"],typeof qe=="function"?qe:null)}var ve={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ye=Object.assign,Ee={};function Se(qe,lt,_t){this.props=qe,this.context=lt,this.refs=Ee,this.updater=_t||ve}Se.prototype.isReactComponent={},Se.prototype.setState=function(qe,lt){if(typeof qe!="object"&&typeof qe!="function"&&qe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,qe,lt,"setState")},Se.prototype.forceUpdate=function(qe){this.updater.enqueueForceUpdate(this,qe,"forceUpdate")};function _e(){}_e.prototype=Se.prototype;function Te(qe,lt,_t){this.props=qe,this.context=lt,this.refs=Ee,this.updater=_t||ve}var Re=Te.prototype=new _e;Re.constructor=Te,ye(Re,Se.prototype),Re.isPureReactComponent=!0;var Pe=Array.isArray,Fe=Object.prototype.hasOwnProperty,$e={current:null},ke={key:!0,ref:!0,__self:!0,__source:!0};function ze(qe,lt,_t){var ut,St={},Et=null,At=null;if(lt!=null)for(ut in lt.ref!==void 0&&(At=lt.ref),lt.key!==void 0&&(Et=""+lt.key),lt)Fe.call(lt,ut)&&!ke.hasOwnProperty(ut)&&(St[ut]=lt[ut]);var kt=arguments.length-2;if(kt===1)St.children=_t;else if(1<kt){for(var jt=Array(kt),en=0;en<kt;en++)jt[en]=arguments[en+2];St.children=jt}if(qe&&qe.defaultProps)for(ut in kt=qe.defaultProps,kt)St[ut]===void 0&&(St[ut]=kt[ut]);return{$$typeof:Z,type:qe,key:Et,ref:At,props:St,_owner:$e.current}}function Ue(qe,lt){return{$$typeof:Z,type:qe.type,key:lt,ref:qe.ref,props:qe.props,_owner:qe._owner}}function Oe(qe){return typeof qe=="object"&&qe!==null&&qe.$$typeof===Z}function Ve(qe){var lt={"=":"=0",":":"=2"};return"$"+qe.replace(/[=:]/g,function(_t){return lt[_t]})}var Ye=/\/+/g;function Ke(qe,lt){return typeof qe=="object"&&qe!==null&&qe.key!=null?Ve(""+qe.key):lt.toString(36)}function rt(qe,lt,_t,ut,St){var Et=typeof qe;(Et==="undefined"||Et==="boolean")&&(qe=null);var At=!1;if(qe===null)At=!0;else switch(Et){case"string":case"number":At=!0;break;case"object":switch(qe.$$typeof){case Z:case _:At=!0}}if(At)return At=qe,St=St(At),qe=ut===""?"."+Ke(At,0):ut,Pe(St)?(_t="",qe!=null&&(_t=qe.replace(Ye,"$&/")+"/"),rt(St,lt,_t,"",function(en){return en})):St!=null&&(Oe(St)&&(St=Ue(St,_t+(!St.key||At&&At.key===St.key?"":(""+St.key).replace(Ye,"$&/")+"/")+qe)),lt.push(St)),1;if(At=0,ut=ut===""?".":ut+":",Pe(qe))for(var kt=0;kt<qe.length;kt++){Et=qe[kt];var jt=ut+Ke(Et,kt);At+=rt(Et,lt,_t,jt,St)}else if(jt=me(qe),typeof jt=="function")for(qe=jt.call(qe),kt=0;!(Et=qe.next()).done;)Et=Et.value,jt=ut+Ke(Et,kt++),At+=rt(Et,lt,_t,jt,St);else if(Et==="object")throw lt=String(qe),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(qe).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.");return At}function ct(qe,lt,_t){if(qe==null)return qe;var ut=[],St=0;return rt(qe,ut,"","",function(Et){return lt.call(_t,Et,St++)}),ut}function at(qe){if(qe._status===-1){var lt=qe._result;lt=lt(),lt.then(function(_t){(qe._status===0||qe._status===-1)&&(qe._status=1,qe._result=_t)},function(_t){(qe._status===0||qe._status===-1)&&(qe._status=2,qe._result=_t)}),qe._status===-1&&(qe._status=0,qe._result=lt)}if(qe._status===1)return qe._result.default;throw qe._result}var mt={current:null},je={transition:null},it={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:je,ReactCurrentOwner:$e};function et(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ct,forEach:function(qe,lt,_t){ct(qe,function(){lt.apply(this,arguments)},_t)},count:function(qe){var lt=0;return ct(qe,function(){lt++}),lt},toArray:function(qe){return ct(qe,function(lt){return lt})||[]},only:function(qe){if(!Oe(qe))throw Error("React.Children.only expected to receive a single React element child.");return qe}},react_production_min.Component=Se,react_production_min.Fragment=K,react_production_min.Profiler=ne,react_production_min.PureComponent=Te,react_production_min.StrictMode=te,react_production_min.Suspense=le,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=it,react_production_min.act=et,react_production_min.cloneElement=function(qe,lt,_t){if(qe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+qe+".");var ut=ye({},qe.props),St=qe.key,Et=qe.ref,At=qe._owner;if(lt!=null){if(lt.ref!==void 0&&(Et=lt.ref,At=$e.current),lt.key!==void 0&&(St=""+lt.key),qe.type&&qe.type.defaultProps)var kt=qe.type.defaultProps;for(jt in lt)Fe.call(lt,jt)&&!ke.hasOwnProperty(jt)&&(ut[jt]=lt[jt]===void 0&&kt!==void 0?kt[jt]:lt[jt])}var jt=arguments.length-2;if(jt===1)ut.children=_t;else if(1<jt){kt=Array(jt);for(var en=0;en<jt;en++)kt[en]=arguments[en+2];ut.children=kt}return{$$typeof:Z,type:qe.type,key:St,ref:Et,props:ut,_owner:At}},react_production_min.createContext=function(qe){return qe={$$typeof:oe,_currentValue:qe,_currentValue2:qe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},qe.Provider={$$typeof:ie,_context:qe},qe.Consumer=qe},react_production_min.createElement=ze,react_production_min.createFactory=function(qe){var lt=ze.bind(null,qe);return lt.type=qe,lt},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(qe){return{$$typeof:se,render:qe}},react_production_min.isValidElement=Oe,react_production_min.lazy=function(qe){return{$$typeof:fe,_payload:{_status:-1,_result:qe},_init:at}},react_production_min.memo=function(qe,lt){return{$$typeof:ce,type:qe,compare:lt===void 0?null:lt}},react_production_min.startTransition=function(qe){var lt=je.transition;je.transition={};try{qe()}finally{je.transition=lt}},react_production_min.unstable_act=et,react_production_min.useCallback=function(qe,lt){return mt.current.useCallback(qe,lt)},react_production_min.useContext=function(qe){return mt.current.useContext(qe)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(qe){return mt.current.useDeferredValue(qe)},react_production_min.useEffect=function(qe,lt){return mt.current.useEffect(qe,lt)},react_production_min.useId=function(){return mt.current.useId()},react_production_min.useImperativeHandle=function(qe,lt,_t){return mt.current.useImperativeHandle(qe,lt,_t)},react_production_min.useInsertionEffect=function(qe,lt){return mt.current.useInsertionEffect(qe,lt)},react_production_min.useLayoutEffect=function(qe,lt){return mt.current.useLayoutEffect(qe,lt)},react_production_min.useMemo=function(qe,lt){return mt.current.useMemo(qe,lt)},react_production_min.useReducer=function(qe,lt,_t){return mt.current.useReducer(qe,lt,_t)},react_production_min.useRef=function(qe){return mt.current.useRef(qe)},react_production_min.useState=function(qe){return mt.current.useState(qe)},react_production_min.useSyncExternalStore=function(qe,lt,_t){return mt.current.useSyncExternalStore(qe,lt,_t)},react_production_min.useTransition=function(){return mt.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var Z=requireReact(),_=Symbol.for("react.element"),K=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,ne=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ie={key:!0,ref:!0,__self:!0,__source:!0};function oe(se,le,ce){var fe,pe={},me=null,ve=null;ce!==void 0&&(me=""+ce),le.key!==void 0&&(me=""+le.key),le.ref!==void 0&&(ve=le.ref);for(fe in le)te.call(le,fe)&&!ie.hasOwnProperty(fe)&&(pe[fe]=le[fe]);if(se&&se.defaultProps)for(fe in le=se.defaultProps,le)pe[fe]===void 0&&(pe[fe]=le[fe]);return{$$typeof:_,type:se,key:me,ref:ve,props:pe,_owner:ne.current}}return reactJsxRuntime_production_min.Fragment=K,reactJsxRuntime_production_min.jsx=oe,reactJsxRuntime_production_min.jsxs=oe,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min$1;function requireScheduler_production_min$1(){return hasRequiredScheduler_production_min$1||(hasRequiredScheduler_production_min$1=1,function(Z){function _(je,it){var et=je.length;je.push(it);e:for(;0<et;){var qe=et-1>>>1,lt=je[qe];if(0<ne(lt,it))je[qe]=it,je[et]=lt,et=qe;else break e}}function K(je){return je.length===0?null:je[0]}function te(je){if(je.length===0)return null;var it=je[0],et=je.pop();if(et!==it){je[0]=et;e:for(var qe=0,lt=je.length,_t=lt>>>1;qe<_t;){var ut=2*(qe+1)-1,St=je[ut],Et=ut+1,At=je[Et];if(0>ne(St,et))Et<lt&&0>ne(At,St)?(je[qe]=At,je[Et]=et,qe=Et):(je[qe]=St,je[ut]=et,qe=ut);else if(Et<lt&&0>ne(At,et))je[qe]=At,je[Et]=et,qe=Et;else break e}}return it}function ne(je,it){var et=je.sortIndex-it.sortIndex;return et!==0?et:je.id-it.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ie=performance;Z.unstable_now=function(){return ie.now()}}else{var oe=Date,se=oe.now();Z.unstable_now=function(){return oe.now()-se}}var le=[],ce=[],fe=1,pe=null,me=3,ve=!1,ye=!1,Ee=!1,Se=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Re(je){for(var it=K(ce);it!==null;){if(it.callback===null)te(ce);else if(it.startTime<=je)te(ce),it.sortIndex=it.expirationTime,_(le,it);else break;it=K(ce)}}function Pe(je){if(Ee=!1,Re(je),!ye)if(K(le)!==null)ye=!0,at(Fe);else{var it=K(ce);it!==null&&mt(Pe,it.startTime-je)}}function Fe(je,it){ye=!1,Ee&&(Ee=!1,_e(ze),ze=-1),ve=!0;var et=me;try{for(Re(it),pe=K(le);pe!==null&&(!(pe.expirationTime>it)||je&&!Ve());){var qe=pe.callback;if(typeof qe=="function"){pe.callback=null,me=pe.priorityLevel;var lt=qe(pe.expirationTime<=it);it=Z.unstable_now(),typeof lt=="function"?pe.callback=lt:pe===K(le)&&te(le),Re(it)}else te(le);pe=K(le)}if(pe!==null)var _t=!0;else{var ut=K(ce);ut!==null&&mt(Pe,ut.startTime-it),_t=!1}return _t}finally{pe=null,me=et,ve=!1}}var $e=!1,ke=null,ze=-1,Ue=5,Oe=-1;function Ve(){return!(Z.unstable_now()-Oe<Ue)}function Ye(){if(ke!==null){var je=Z.unstable_now();Oe=je;var it=!0;try{it=ke(!0,je)}finally{it?Ke():($e=!1,ke=null)}}else $e=!1}var Ke;if(typeof Te=="function")Ke=function(){Te(Ye)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,ct=rt.port2;rt.port1.onmessage=Ye,Ke=function(){ct.postMessage(null)}}else Ke=function(){Se(Ye,0)};function at(je){ke=je,$e||($e=!0,Ke())}function mt(je,it){ze=Se(function(){je(Z.unstable_now())},it)}Z.unstable_IdlePriority=5,Z.unstable_ImmediatePriority=1,Z.unstable_LowPriority=4,Z.unstable_NormalPriority=3,Z.unstable_Profiling=null,Z.unstable_UserBlockingPriority=2,Z.unstable_cancelCallback=function(je){je.callback=null},Z.unstable_continueExecution=function(){ye||ve||(ye=!0,at(Fe))},Z.unstable_forceFrameRate=function(je){0>je||125<je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<je?Math.floor(1e3/je):5},Z.unstable_getCurrentPriorityLevel=function(){return me},Z.unstable_getFirstCallbackNode=function(){return K(le)},Z.unstable_next=function(je){switch(me){case 1:case 2:case 3:var it=3;break;default:it=me}var et=me;me=it;try{return je()}finally{me=et}},Z.unstable_pauseExecution=function(){},Z.unstable_requestPaint=function(){},Z.unstable_runWithPriority=function(je,it){switch(je){case 1:case 2:case 3:case 4:case 5:break;default:je=3}var et=me;me=je;try{return it()}finally{me=et}},Z.unstable_scheduleCallback=function(je,it,et){var qe=Z.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?qe+et:qe):et=qe,je){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=et+lt,je={id:fe++,callback:it,priorityLevel:je,startTime:et,expirationTime:lt,sortIndex:-1},et>qe?(je.sortIndex=et,_(ce,je),K(le)===null&&je===K(ce)&&(Ee?(_e(ze),ze=-1):Ee=!0,mt(Pe,et-qe))):(je.sortIndex=lt,_(le,je),ye||ve||(ye=!0,at(Fe))),je},Z.unstable_shouldYield=Ve,Z.unstable_wrapCallback=function(je){var it=me;return function(){var et=me;me=it;try{return je.apply(this,arguments)}finally{me=et}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler$1;function requireScheduler$1(){return hasRequiredScheduler$1||(hasRequiredScheduler$1=1,scheduler$1.exports=requireScheduler_production_min$1()),scheduler$1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var Z=requireReact(),_=requireScheduler$1();function K(ae){for(var ue="https://reactjs.org/docs/error-decoder.html?invariant="+ae,ge=1;ge<arguments.length;ge++)ue+="&args[]="+encodeURIComponent(arguments[ge]);return"Minified React error #"+ae+"; visit "+ue+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var te=new Set,ne={};function ie(ae,ue){oe(ae,ue),oe(ae+"Capture",ue)}function oe(ae,ue){for(ne[ae]=ue,ae=0;ae<ue.length;ae++)te.add(ue[ae])}var se=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),le=Object.prototype.hasOwnProperty,ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe={},pe={};function me(ae){return le.call(pe,ae)?!0:le.call(fe,ae)?!1:ce.test(ae)?pe[ae]=!0:(fe[ae]=!0,!1)}function ve(ae,ue,ge,we){if(ge!==null&&ge.type===0)return!1;switch(typeof ue){case"function":case"symbol":return!0;case"boolean":return we?!1:ge!==null?!ge.acceptsBooleans:(ae=ae.toLowerCase().slice(0,5),ae!=="data-"&&ae!=="aria-");default:return!1}}function ye(ae,ue,ge,we){if(ue===null||typeof ue>"u"||ve(ae,ue,ge,we))return!0;if(we)return!1;if(ge!==null)switch(ge.type){case 3:return!ue;case 4:return ue===!1;case 5:return isNaN(ue);case 6:return isNaN(ue)||1>ue}return!1}function Ee(ae,ue,ge,we,Ie,De,Ge){this.acceptsBooleans=ue===2||ue===3||ue===4,this.attributeName=we,this.attributeNamespace=Ie,this.mustUseProperty=ge,this.propertyName=ae,this.type=ue,this.sanitizeURL=De,this.removeEmptyString=Ge}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ae){Se[ae]=new Ee(ae,0,!1,ae,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ae){var ue=ae[0];Se[ue]=new Ee(ue,1,!1,ae[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(ae){Se[ae]=new Ee(ae,2,!1,ae.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ae){Se[ae]=new Ee(ae,2,!1,ae,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ae){Se[ae]=new Ee(ae,3,!1,ae.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(ae){Se[ae]=new Ee(ae,3,!0,ae,null,!1,!1)}),["capture","download"].forEach(function(ae){Se[ae]=new Ee(ae,4,!1,ae,null,!1,!1)}),["cols","rows","size","span"].forEach(function(ae){Se[ae]=new Ee(ae,6,!1,ae,null,!1,!1)}),["rowSpan","start"].forEach(function(ae){Se[ae]=new Ee(ae,5,!1,ae.toLowerCase(),null,!1,!1)});var _e=/[\-:]([a-z])/g;function Te(ae){return ae[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ae){var ue=ae.replace(_e,Te);Se[ue]=new Ee(ue,1,!1,ae,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ae){var ue=ae.replace(_e,Te);Se[ue]=new Ee(ue,1,!1,ae,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(ae){var ue=ae.replace(_e,Te);Se[ue]=new Ee(ue,1,!1,ae,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(ae){Se[ae]=new Ee(ae,1,!1,ae.toLowerCase(),null,!1,!1)}),Se.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(ae){Se[ae]=new Ee(ae,1,!1,ae.toLowerCase(),null,!0,!0)});function Re(ae,ue,ge,we){var Ie=Se.hasOwnProperty(ue)?Se[ue]:null;(Ie!==null?Ie.type!==0:we||!(2<ue.length)||ue[0]!=="o"&&ue[0]!=="O"||ue[1]!=="n"&&ue[1]!=="N")&&(ye(ue,ge,Ie,we)&&(ge=null),we||Ie===null?me(ue)&&(ge===null?ae.removeAttribute(ue):ae.setAttribute(ue,""+ge)):Ie.mustUseProperty?ae[Ie.propertyName]=ge===null?Ie.type===3?!1:"":ge:(ue=Ie.attributeName,we=Ie.attributeNamespace,ge===null?ae.removeAttribute(ue):(Ie=Ie.type,ge=Ie===3||Ie===4&&ge===!0?"":""+ge,we?ae.setAttributeNS(we,ue,ge):ae.setAttribute(ue,ge))))}var Pe=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),$e=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),ze=Symbol.for("react.strict_mode"),Ue=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),mt=Symbol.for("react.offscreen"),je=Symbol.iterator;function it(ae){return ae===null||typeof ae!="object"?null:(ae=je&&ae[je]||ae["@@iterator"],typeof ae=="function"?ae:null)}var et=Object.assign,qe;function lt(ae){if(qe===void 0)try{throw Error()}catch(ge){var ue=ge.stack.trim().match(/\n( *(at )?)/);qe=ue&&ue[1]||""}return`
`+qe+ae}var _t=!1;function ut(ae,ue){if(!ae||_t)return"";_t=!0;var ge=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ue)if(ue=function(){throw Error()},Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(Tt){var we=Tt}Reflect.construct(ae,[],ue)}else{try{ue.call()}catch(Tt){we=Tt}ae.call(ue.prototype)}else{try{throw Error()}catch(Tt){we=Tt}ae()}}catch(Tt){if(Tt&&we&&typeof Tt.stack=="string"){for(var Ie=Tt.stack.split(`
`),De=we.stack.split(`
`),Ge=Ie.length-1,Je=De.length-1;1<=Ge&&0<=Je&&Ie[Ge]!==De[Je];)Je--;for(;1<=Ge&&0<=Je;Ge--,Je--)if(Ie[Ge]!==De[Je]){if(Ge!==1||Je!==1)do if(Ge--,Je--,0>Je||Ie[Ge]!==De[Je]){var st=`
`+Ie[Ge].replace(" at new "," at ");return ae.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",ae.displayName)),st}while(1<=Ge&&0<=Je);break}}}finally{_t=!1,Error.prepareStackTrace=ge}return(ae=ae?ae.displayName||ae.name:"")?lt(ae):""}function St(ae){switch(ae.tag){case 5:return lt(ae.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 2:case 15:return ae=ut(ae.type,!1),ae;case 11:return ae=ut(ae.type.render,!1),ae;case 1:return ae=ut(ae.type,!0),ae;default:return""}}function Et(ae){if(ae==null)return null;if(typeof ae=="function")return ae.displayName||ae.name||null;if(typeof ae=="string")return ae;switch(ae){case ke:return"Fragment";case $e:return"Portal";case Ue:return"Profiler";case ze:return"StrictMode";case Ke:return"Suspense";case rt:return"SuspenseList"}if(typeof ae=="object")switch(ae.$$typeof){case Ve:return(ae.displayName||"Context")+".Consumer";case Oe:return(ae._context.displayName||"Context")+".Provider";case Ye:var ue=ae.render;return ae=ae.displayName,ae||(ae=ue.displayName||ue.name||"",ae=ae!==""?"ForwardRef("+ae+")":"ForwardRef"),ae;case ct:return ue=ae.displayName||null,ue!==null?ue:Et(ae.type)||"Memo";case at:ue=ae._payload,ae=ae._init;try{return Et(ae(ue))}catch{}}return null}function At(ae){var ue=ae.type;switch(ae.tag){case 24:return"Cache";case 9:return(ue.displayName||"Context")+".Consumer";case 10:return(ue._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ae=ue.render,ae=ae.displayName||ae.name||"",ue.displayName||(ae!==""?"ForwardRef("+ae+")":"ForwardRef");case 7:return"Fragment";case 5:return ue;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Et(ue);case 8:return ue===ze?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ue=="function")return ue.displayName||ue.name||null;if(typeof ue=="string")return ue}return null}function kt(ae){switch(typeof ae){case"boolean":case"number":case"string":case"undefined":return ae;case"object":return ae;default:return""}}function jt(ae){var ue=ae.type;return(ae=ae.nodeName)&&ae.toLowerCase()==="input"&&(ue==="checkbox"||ue==="radio")}function en(ae){var ue=jt(ae)?"checked":"value",ge=Object.getOwnPropertyDescriptor(ae.constructor.prototype,ue),we=""+ae[ue];if(!ae.hasOwnProperty(ue)&&typeof ge<"u"&&typeof ge.get=="function"&&typeof ge.set=="function"){var Ie=ge.get,De=ge.set;return Object.defineProperty(ae,ue,{configurable:!0,get:function(){return Ie.call(this)},set:function(Ge){we=""+Ge,De.call(this,Ge)}}),Object.defineProperty(ae,ue,{enumerable:ge.enumerable}),{getValue:function(){return we},setValue:function(Ge){we=""+Ge},stopTracking:function(){ae._valueTracker=null,delete ae[ue]}}}}function un(ae){ae._valueTracker||(ae._valueTracker=en(ae))}function It(ae){if(!ae)return!1;var ue=ae._valueTracker;if(!ue)return!0;var ge=ue.getValue(),we="";return ae&&(we=jt(ae)?ae.checked?"true":"false":ae.value),ae=we,ae!==ge?(ue.setValue(ae),!0):!1}function Ot(ae){if(ae=ae||(typeof document<"u"?document:void 0),typeof ae>"u")return null;try{return ae.activeElement||ae.body}catch{return ae.body}}function Ze(ae,ue){var ge=ue.checked;return et({},ue,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ge??ae._wrapperState.initialChecked})}function sn(ae,ue){var ge=ue.defaultValue==null?"":ue.defaultValue,we=ue.checked!=null?ue.checked:ue.defaultChecked;ge=kt(ue.value!=null?ue.value:ge),ae._wrapperState={initialChecked:we,initialValue:ge,controlled:ue.type==="checkbox"||ue.type==="radio"?ue.checked!=null:ue.value!=null}}function Bt(ae,ue){ue=ue.checked,ue!=null&&Re(ae,"checked",ue,!1)}function rn(ae,ue){Bt(ae,ue);var ge=kt(ue.value),we=ue.type;if(ge!=null)we==="number"?(ge===0&&ae.value===""||ae.value!=ge)&&(ae.value=""+ge):ae.value!==""+ge&&(ae.value=""+ge);else if(we==="submit"||we==="reset"){ae.removeAttribute("value");return}ue.hasOwnProperty("value")?pn(ae,ue.type,ge):ue.hasOwnProperty("defaultValue")&&pn(ae,ue.type,kt(ue.defaultValue)),ue.checked==null&&ue.defaultChecked!=null&&(ae.defaultChecked=!!ue.defaultChecked)}function Gt(ae,ue,ge){if(ue.hasOwnProperty("value")||ue.hasOwnProperty("defaultValue")){var we=ue.type;if(!(we!=="submit"&&we!=="reset"||ue.value!==void 0&&ue.value!==null))return;ue=""+ae._wrapperState.initialValue,ge||ue===ae.value||(ae.value=ue),ae.defaultValue=ue}ge=ae.name,ge!==""&&(ae.name=""),ae.defaultChecked=!!ae._wrapperState.initialChecked,ge!==""&&(ae.name=ge)}function pn(ae,ue,ge){(ue!=="number"||Ot(ae.ownerDocument)!==ae)&&(ge==null?ae.defaultValue=""+ae._wrapperState.initialValue:ae.defaultValue!==""+ge&&(ae.defaultValue=""+ge))}var qt=Array.isArray;function Xe(ae,ue,ge,we){if(ae=ae.options,ue){ue={};for(var Ie=0;Ie<ge.length;Ie++)ue["$"+ge[Ie]]=!0;for(ge=0;ge<ae.length;ge++)Ie=ue.hasOwnProperty("$"+ae[ge].value),ae[ge].selected!==Ie&&(ae[ge].selected=Ie),Ie&&we&&(ae[ge].defaultSelected=!0)}else{for(ge=""+kt(ge),ue=null,Ie=0;Ie<ae.length;Ie++){if(ae[Ie].value===ge){ae[Ie].selected=!0,we&&(ae[Ie].defaultSelected=!0);return}ue!==null||ae[Ie].disabled||(ue=ae[Ie])}ue!==null&&(ue.selected=!0)}}function He(ae,ue){if(ue.dangerouslySetInnerHTML!=null)throw Error(K(91));return et({},ue,{value:void 0,defaultValue:void 0,children:""+ae._wrapperState.initialValue})}function tt(ae,ue){var ge=ue.value;if(ge==null){if(ge=ue.children,ue=ue.defaultValue,ge!=null){if(ue!=null)throw Error(K(92));if(qt(ge)){if(1<ge.length)throw Error(K(93));ge=ge[0]}ue=ge}ue==null&&(ue=""),ge=ue}ae._wrapperState={initialValue:kt(ge)}}function pt(ae,ue){var ge=kt(ue.value),we=kt(ue.defaultValue);ge!=null&&(ge=""+ge,ge!==ae.value&&(ae.value=ge),ue.defaultValue==null&&ae.defaultValue!==ge&&(ae.defaultValue=ge)),we!=null&&(ae.defaultValue=""+we)}function Lt(ae){var ue=ae.textContent;ue===ae._wrapperState.initialValue&&ue!==""&&ue!==null&&(ae.value=ue)}function Ct(ae){switch(ae){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(ae,ue){return ae==null||ae==="http://www.w3.org/1999/xhtml"?Ct(ue):ae==="http://www.w3.org/2000/svg"&&ue==="foreignObject"?"http://www.w3.org/1999/xhtml":ae}var Xt,Qt=function(ae){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ue,ge,we,Ie){MSApp.execUnsafeLocalFunction(function(){return ae(ue,ge,we,Ie)})}:ae}(function(ae,ue){if(ae.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ae)ae.innerHTML=ue;else{for(Xt=Xt||document.createElement("div"),Xt.innerHTML="<svg>"+ue.valueOf().toString()+"</svg>",ue=Xt.firstChild;ae.firstChild;)ae.removeChild(ae.firstChild);for(;ue.firstChild;)ae.appendChild(ue.firstChild)}});function Rn(ae,ue){if(ue){var ge=ae.firstChild;if(ge&&ge===ae.lastChild&&ge.nodeType===3){ge.nodeValue=ue;return}}ae.textContent=ue}var Ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ft=["Webkit","ms","Moz","O"];Object.keys(Ut).forEach(function(ae){Ft.forEach(function(ue){ue=ue+ae.charAt(0).toUpperCase()+ae.substring(1),Ut[ue]=Ut[ae]})});function Zt(ae,ue,ge){return ue==null||typeof ue=="boolean"||ue===""?"":ge||typeof ue!="number"||ue===0||Ut.hasOwnProperty(ae)&&Ut[ae]?(""+ue).trim():ue+"px"}function yn(ae,ue){ae=ae.style;for(var ge in ue)if(ue.hasOwnProperty(ge)){var we=ge.indexOf("--")===0,Ie=Zt(ge,ue[ge],we);ge==="float"&&(ge="cssFloat"),we?ae.setProperty(ge,Ie):ae[ge]=Ie}}var an=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(ae,ue){if(ue){if(an[ae]&&(ue.children!=null||ue.dangerouslySetInnerHTML!=null))throw Error(K(137,ae));if(ue.dangerouslySetInnerHTML!=null){if(ue.children!=null)throw Error(K(60));if(typeof ue.dangerouslySetInnerHTML!="object"||!("__html"in ue.dangerouslySetInnerHTML))throw Error(K(61))}if(ue.style!=null&&typeof ue.style!="object")throw Error(K(62))}}function $t(ae,ue){if(ae.indexOf("-")===-1)return typeof ue.is=="string";switch(ae){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function nt(ae){return ae=ae.target||ae.srcElement||window,ae.correspondingUseElement&&(ae=ae.correspondingUseElement),ae.nodeType===3?ae.parentNode:ae}var zt=null,wt=null,Nt=null;function dn(ae){if(ae=yo(ae)){if(typeof zt!="function")throw Error(K(280));var ue=ae.stateNode;ue&&(ue=$l(ue),zt(ae.stateNode,ae.type,ue))}}function cn(ae){wt?Nt?Nt.push(ae):Nt=[ae]:wt=ae}function Pn(){if(wt){var ae=wt,ue=Nt;if(Nt=wt=null,dn(ae),ue)for(ae=0;ae<ue.length;ae++)dn(ue[ae])}}function Yn(ae,ue){return ae(ue)}function sr(){}var Gn=!1;function xr(ae,ue,ge){if(Gn)return ae(ue,ge);Gn=!0;try{return Yn(ae,ue,ge)}finally{Gn=!1,(wt!==null||Nt!==null)&&(sr(),Pn())}}function wr(ae,ue){var ge=ae.stateNode;if(ge===null)return null;var we=$l(ge);if(we===null)return null;ge=we[ue];e:switch(ue){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(we=!we.disabled)||(ae=ae.type,we=!(ae==="button"||ae==="input"||ae==="select"||ae==="textarea")),ae=!we;break e;default:ae=!1}if(ae)return null;if(ge&&typeof ge!="function")throw Error(K(231,ue,typeof ge));return ge}var Cs=!1;if(se)try{var $o={};Object.defineProperty($o,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{Cs=!1}function Yi(ae,ue,ge,we,Ie,De,Ge,Je,st){var Tt=Array.prototype.slice.call(arguments,3);try{ue.apply(ge,Tt)}catch(Ht){this.onError(Ht)}}var Fi=!1,Xo=null,ki=!1,Do=null,Xa={onError:function(ae){Fi=!0,Xo=ae}};function Ps(ae,ue,ge,we,Ie,De,Ge,Je,st){Fi=!1,Xo=null,Yi.apply(Xa,arguments)}function Ya(ae,ue,ge,we,Ie,De,Ge,Je,st){if(Ps.apply(this,arguments),Fi){if(Fi){var Tt=Xo;Fi=!1,Xo=null}else throw Error(K(198));ki||(ki=!0,Do=Tt)}}function Ki(ae){var ue=ae,ge=ae;if(ae.alternate)for(;ue.return;)ue=ue.return;else{ae=ue;do ue=ae,ue.flags&4098&&(ge=ue.return),ae=ue.return;while(ae)}return ue.tag===3?ge:null}function Ka(ae){if(ae.tag===13){var ue=ae.memoizedState;if(ue===null&&(ae=ae.alternate,ae!==null&&(ue=ae.memoizedState)),ue!==null)return ue.dehydrated}return null}function Za(ae){if(Ki(ae)!==ae)throw Error(K(188))}function Qa(ae){var ue=ae.alternate;if(!ue){if(ue=Ki(ae),ue===null)throw Error(K(188));return ue!==ae?null:ae}for(var ge=ae,we=ue;;){var Ie=ge.return;if(Ie===null)break;var De=Ie.alternate;if(De===null){if(we=Ie.return,we!==null){ge=we;continue}break}if(Ie.child===De.child){for(De=Ie.child;De;){if(De===ge)return Za(Ie),ae;if(De===we)return Za(Ie),ue;De=De.sibling}throw Error(K(188))}if(ge.return!==we.return)ge=Ie,we=De;else{for(var Ge=!1,Je=Ie.child;Je;){if(Je===ge){Ge=!0,ge=Ie,we=De;break}if(Je===we){Ge=!0,we=Ie,ge=De;break}Je=Je.sibling}if(!Ge){for(Je=De.child;Je;){if(Je===ge){Ge=!0,ge=De,we=Ie;break}if(Je===we){Ge=!0,we=De,ge=Ie;break}Je=Je.sibling}if(!Ge)throw Error(K(189))}}if(ge.alternate!==we)throw Error(K(190))}if(ge.tag!==3)throw Error(K(188));return ge.stateNode.current===ge?ae:ue}function Ja(ae){return ae=Qa(ae),ae!==null?el(ae):null}function el(ae){if(ae.tag===5||ae.tag===6)return ae;for(ae=ae.child;ae!==null;){var ue=el(ae);if(ue!==null)return ue;ae=ae.sibling}return null}var We=_.unstable_scheduleCallback,gt=_.unstable_cancelCallback,Mt=_.unstable_shouldYield,Rt=_.unstable_requestPaint,ft=_.unstable_now,Wt=_.unstable_getCurrentPriorityLevel,ln=_.unstable_ImmediatePriority,mn=_.unstable_UserBlockingPriority,_n=_.unstable_NormalPriority,Nn=_.unstable_LowPriority,In=_.unstable_IdlePriority,Sn=null,gn=null;function Cn(ae){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Sn,ae,void 0,(ae.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:Mn,qn=Math.log,Fn=Math.LN2;function Mn(ae){return ae>>>=0,ae===0?32:31-(qn(ae)/Fn|0)|0}var ir=64,On=4194304;function Mr(ae){switch(ae&-ae){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ae&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ae&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ae}}function Mi(ae,ue){var ge=ae.pendingLanes;if(ge===0)return 0;var we=0,Ie=ae.suspendedLanes,De=ae.pingedLanes,Ge=ge&268435455;if(Ge!==0){var Je=Ge&~Ie;Je!==0?we=Mr(Je):(De&=Ge,De!==0&&(we=Mr(De)))}else Ge=ge&~Ie,Ge!==0?we=Mr(Ge):De!==0&&(we=Mr(De));if(we===0)return 0;if(ue!==0&&ue!==we&&!(ue&Ie)&&(Ie=we&-we,De=ue&-ue,Ie>=De||Ie===16&&(De&4194240)!==0))return ue;if(we&4&&(we|=ge&16),ue=ae.entangledLanes,ue!==0)for(ae=ae.entanglements,ue&=we;0<ue;)ge=31-jn(ue),Ie=1<<ge,we|=ae[ge],ue&=~Ie;return we}function Wr(ae,ue){switch(ae){case 1:case 2:case 4:return ue+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ue+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(ae,ue){for(var ge=ae.suspendedLanes,we=ae.pingedLanes,Ie=ae.expirationTimes,De=ae.pendingLanes;0<De;){var Ge=31-jn(De),Je=1<<Ge,st=Ie[Ge];st===-1?(!(Je&ge)||Je&we)&&(Ie[Ge]=Wr(Je,ue)):st<=ue&&(ae.expiredLanes|=Je),De&=~Je}}function tr(ae){return ae=ae.pendingLanes&-1073741825,ae!==0?ae:ae&1073741824?1073741824:0}function ur(){var ae=ir;return ir<<=1,!(ir&4194240)&&(ir=64),ae}function jr(ae){for(var ue=[],ge=0;31>ge;ge++)ue.push(ae);return ue}function Sr(ae,ue,ge){ae.pendingLanes|=ue,ue!==536870912&&(ae.suspendedLanes=0,ae.pingedLanes=0),ae=ae.eventTimes,ue=31-jn(ue),ae[ue]=ge}function qr(ae,ue){var ge=ae.pendingLanes&~ue;ae.pendingLanes=ue,ae.suspendedLanes=0,ae.pingedLanes=0,ae.expiredLanes&=ue,ae.mutableReadLanes&=ue,ae.entangledLanes&=ue,ue=ae.entanglements;var we=ae.eventTimes;for(ae=ae.expirationTimes;0<ge;){var Ie=31-jn(ge),De=1<<Ie;ue[Ie]=0,we[Ie]=-1,ae[Ie]=-1,ge&=~De}}function Qi(ae,ue){var ge=ae.entangledLanes|=ue;for(ae=ae.entanglements;ge;){var we=31-jn(ge),Ie=1<<we;Ie&ue|ae[we]&ue&&(ae[we]|=ue),ge&=~Ie}}var Hn=0;function Is(ae){return ae&=-ae,1<ae?4<ae?ae&268435455?16:536870912:4:1}var la,Ql,jc,tl,nl,Yo=!1,rl=[],Ji=null,Xn=null,co=null,Ko=new Map,Ls=new Map,No=[],ku="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cr(ae,ue){switch(ae){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Ko.delete(ue.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(ue.pointerId)}}function Zo(ae,ue,ge,we,Ie,De){return ae===null||ae.nativeEvent!==De?(ae={blockedOn:ue,domEventName:ge,eventSystemFlags:we,nativeEvent:De,targetContainers:[Ie]},ue!==null&&(ue=yo(ue),ue!==null&&Ql(ue)),ae):(ae.eventSystemFlags|=we,ue=ae.targetContainers,Ie!==null&&ue.indexOf(Ie)===-1&&ue.push(Ie),ae)}function Uu(ae,ue,ge,we,Ie){switch(ue){case"focusin":return Ji=Zo(Ji,ae,ue,ge,we,Ie),!0;case"dragenter":return Xn=Zo(Xn,ae,ue,ge,we,Ie),!0;case"mouseover":return co=Zo(co,ae,ue,ge,we,Ie),!0;case"pointerover":var De=Ie.pointerId;return Ko.set(De,Zo(Ko.get(De)||null,ae,ue,ge,we,Ie)),!0;case"gotpointercapture":return De=Ie.pointerId,Ls.set(De,Zo(Ls.get(De)||null,ae,ue,ge,we,Ie)),!0}return!1}function il(ae){var ue=Vo(ae.target);if(ue!==null){var ge=Ki(ue);if(ge!==null){if(ue=ge.tag,ue===13){if(ue=Ka(ge),ue!==null){ae.blockedOn=ue,nl(ae.priority,function(){jc(ge)});return}}else if(ue===3&&ge.stateNode.current.memoizedState.isDehydrated){ae.blockedOn=ge.tag===3?ge.stateNode.containerInfo:null;return}}}ae.blockedOn=null}function ol(ae){if(ae.blockedOn!==null)return!1;for(var ue=ae.targetContainers;0<ue.length;){var ge=Ri(ae.domEventName,ae.eventSystemFlags,ue[0],ae.nativeEvent);if(ge===null){ge=ae.nativeEvent;var we=new ge.constructor(ge.type,ge);tn=we,ge.target.dispatchEvent(we),tn=null}else return ue=yo(ge),ue!==null&&Ql(ue),ae.blockedOn=ge,!1;ue.shift()}return!0}function ca(ae,ue,ge){ol(ae)&&ge.delete(ue)}function eo(){Yo=!1,Ji!==null&&ol(Ji)&&(Ji=null),Xn!==null&&ol(Xn)&&(Xn=null),co!==null&&ol(co)&&(co=null),Ko.forEach(ca),Ls.forEach(ca)}function ua(ae,ue){ae.blockedOn===ue&&(ae.blockedOn=null,Yo||(Yo=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,eo)))}function fa(ae){function ue(Ie){return ua(Ie,ae)}if(0<rl.length){ua(rl[0],ae);for(var ge=1;ge<rl.length;ge++){var we=rl[ge];we.blockedOn===ae&&(we.blockedOn=null)}}for(Ji!==null&&ua(Ji,ae),Xn!==null&&ua(Xn,ae),co!==null&&ua(co,ae),Ko.forEach(ue),Ls.forEach(ue),ge=0;ge<No.length;ge++)we=No[ge],we.blockedOn===ae&&(we.blockedOn=null);for(;0<No.length&&(ge=No[0],ge.blockedOn===null);)il(ge),ge.blockedOn===null&&No.shift()}var Jr=Pe.ReactCurrentBatchConfig,Ti=!0;function sl(ae,ue,ge,we){var Ie=Hn,De=Jr.transition;Jr.transition=null;try{Hn=1,al(ae,ue,ge,we)}finally{Hn=Ie,Jr.transition=De}}function Jl(ae,ue,ge,we){var Ie=Hn,De=Jr.transition;Jr.transition=null;try{Hn=4,al(ae,ue,ge,we)}finally{Hn=Ie,Jr.transition=De}}function al(ae,ue,ge,we){if(Ti){var Ie=Ri(ae,ue,ge,we);if(Ie===null)Rl(ae,ue,we,ll,ge),Cr(ae,we);else if(Uu(Ie,ae,ue,ge,we))we.stopPropagation();else if(Cr(ae,we),ue&4&&-1<ku.indexOf(ae)){for(;Ie!==null;){var De=yo(Ie);if(De!==null&&la(De),De=Ri(ae,ue,ge,we),De===null&&Rl(ae,ue,we,ll,ge),De===Ie)break;Ie=De}Ie!==null&&we.stopPropagation()}else Rl(ae,ue,we,null,ge)}}var ll=null;function Ri(ae,ue,ge,we){if(ll=null,ae=nt(we),ae=Vo(ae),ae!==null)if(ue=Ki(ae),ue===null)ae=null;else if(ge=ue.tag,ge===13){if(ae=Ka(ue),ae!==null)return ae;ae=null}else if(ge===3){if(ue.stateNode.current.memoizedState.isDehydrated)return ue.tag===3?ue.stateNode.containerInfo:null;ae=null}else ue!==ae&&(ae=null);return ll=ae,null}function qc(ae){switch(ae){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wt()){case ln:return 1;case mn:return 4;case _n:case Nn:return 16;case In:return 536870912;default:return 16}default:return 16}}var Ui=null,ec=null,li=null;function da(){if(li)return li;var ae,ue=ec,ge=ue.length,we,Ie="value"in Ui?Ui.value:Ui.textContent,De=Ie.length;for(ae=0;ae<ge&&ue[ae]===Ie[ae];ae++);var Ge=ge-ae;for(we=1;we<=Ge&&ue[ge-we]===Ie[De-we];we++);return li=Ie.slice(ae,1<we?1-we:void 0)}function Qo(ae){var ue=ae.keyCode;return"charCode"in ae?(ae=ae.charCode,ae===0&&ue===13&&(ae=13)):ae=ue,ae===10&&(ae=13),32<=ae||ae===13?ae:0}function uo(){return!0}function cl(){return!1}function ei(ae){function ue(ge,we,Ie,De,Ge){this._reactName=ge,this._targetInst=Ie,this.type=we,this.nativeEvent=De,this.target=Ge,this.currentTarget=null;for(var Je in ae)ae.hasOwnProperty(Je)&&(ge=ae[Je],this[Je]=ge?ge(De):De[Je]);return this.isDefaultPrevented=(De.defaultPrevented!=null?De.defaultPrevented:De.returnValue===!1)?uo:cl,this.isPropagationStopped=cl,this}return et(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ge=this.nativeEvent;ge&&(ge.preventDefault?ge.preventDefault():typeof ge.returnValue!="unknown"&&(ge.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var ge=this.nativeEvent;ge&&(ge.stopPropagation?ge.stopPropagation():typeof ge.cancelBubble!="unknown"&&(ge.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),ue}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ae){return ae.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=ei(Jo),ts=et({},Jo,{view:0,detail:0}),$s=ei(ts),ci,Ai,Ci,Ds=et({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(ae){return ae.relatedTarget===void 0?ae.fromElement===ae.srcElement?ae.toElement:ae.fromElement:ae.relatedTarget},movementX:function(ae){return"movementX"in ae?ae.movementX:(ae!==Ci&&(Ci&&ae.type==="mousemove"?(ci=ae.screenX-Ci.screenX,Ai=ae.screenY-Ci.screenY):Ai=ci=0,Ci=ae),ci)},movementY:function(ae){return"movementY"in ae?ae.movementY:Ai}}),tc=ei(Ds),fo=et({},Ds,{dataTransfer:0}),Oo=ei(fo),ul=et({},ts,{relatedTarget:0}),fl=ei(ul),dl=et({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=ei(dl),Yc=et({},Jo,{clipboardData:function(ae){return"clipboardData"in ae?ae.clipboardData:window.clipboardData}}),nc=ei(Yc),hl=et({},Jo,{data:0}),rc=ei(hl),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(ae){var ue=this.nativeEvent;return ue.getModifierState?ue.getModifierState(ae):(ae=ic[ae])?!!ue[ae]:!1}function Fo(){return Ns}var pl=et({},ts,{key:function(ae){if(ae.key){var ue=Kc[ae.key]||ae.key;if(ue!=="Unidentified")return ue}return ae.type==="keypress"?(ae=Qo(ae),ae===13?"Enter":String.fromCharCode(ae)):ae.type==="keydown"||ae.type==="keyup"?Zc[ae.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(ae){return ae.type==="keypress"?Qo(ae):0},keyCode:function(ae){return ae.type==="keydown"||ae.type==="keyup"?ae.keyCode:0},which:function(ae){return ae.type==="keypress"?Qo(ae):ae.type==="keydown"||ae.type==="keyup"?ae.keyCode:0}}),ml=ei(pl),Pi=et({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mi=ei(Pi),ns=et({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),ho=ei(ns),po=et({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),rs=ei(po),Qc=et({},Ds,{deltaX:function(ae){return"deltaX"in ae?ae.deltaX:"wheelDeltaX"in ae?-ae.wheelDeltaX:0},deltaY:function(ae){return"deltaY"in ae?ae.deltaY:"wheelDeltaY"in ae?-ae.wheelDeltaY:"wheelDelta"in ae?-ae.wheelDelta:0},deltaZ:0,deltaMode:0}),oc=ei(Qc),sc=[9,13,27,32],ti=se&&"CompositionEvent"in window,kr=null;se&&"documentMode"in document&&(kr=document.documentMode);var hr=se&&"TextEvent"in window&&!kr,Os=se&&(!ti||kr&&8<kr&&11>=kr),Ii=" ",ac=!1;function lc(ae,ue){switch(ae){case"keyup":return sc.indexOf(ue.keyCode)!==-1;case"keydown":return ue.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gl(ae){return ae=ae.detail,typeof ae=="object"&&"data"in ae?ae.data:null}var ko=!1;function Jc(ae,ue){switch(ae){case"compositionend":return gl(ue);case"keypress":return ue.which!==32?null:(ac=!0,Ii);case"textInput":return ae=ue.data,ae===Ii&&ac?null:ae;default:return null}}function pa(ae,ue){if(ko)return ae==="compositionend"||!ti&&lc(ae,ue)?(ae=da(),li=ec=Ui=null,ko=!1,ae):null;switch(ae){case"paste":return null;case"keypress":if(!(ue.ctrlKey||ue.altKey||ue.metaKey)||ue.ctrlKey&&ue.altKey){if(ue.char&&1<ue.char.length)return ue.char;if(ue.which)return String.fromCharCode(ue.which)}return null;case"compositionend":return Os&&ue.locale!=="ko"?null:ue.data;default:return null}}var Fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vl(ae){var ue=ae&&ae.nodeName&&ae.nodeName.toLowerCase();return ue==="input"?!!Fs[ae.type]:ue==="textarea"}function ks(ae,ue,ge,we){cn(we),ue=Al(ue,"onChange"),0<ue.length&&(ge=new ha("onChange","change",null,ge,we),ae.push({event:ge,listeners:ue}))}var Uo=null,Us=null;function eu(ae){Gs(ae,0)}function mo(ae){var ue=Er(ae);if(It(ue))return ae}function tu(ae,ue){if(ae==="change")return ue}var Bs=!1;if(se){var ui;if(se){var os="oninput"in document;if(!os){var ss=document.createElement("div");ss.setAttribute("oninput","return;"),os=typeof ss.oninput=="function"}ui=os}else ui=!1;Bs=ui&&(!document.documentMode||9<document.documentMode)}function Bi(){Uo&&(Uo.detachEvent("onpropertychange",yl),Us=Uo=null)}function yl(ae){if(ae.propertyName==="value"&&mo(Us)){var ue=[];ks(ue,Us,ae,nt(ae)),xr(eu,ue)}}function zs(ae,ue,ge){ae==="focusin"?(Bi(),Uo=ue,Us=ge,Uo.attachEvent("onpropertychange",yl)):ae==="focusout"&&Bi()}function nu(ae){if(ae==="selectionchange"||ae==="keyup"||ae==="keydown")return mo(Us)}function cc(ae,ue){if(ae==="click")return mo(ue)}function mr(ae,ue){if(ae==="input"||ae==="change")return mo(ue)}function _l(ae,ue){return ae===ue&&(ae!==0||1/ae===1/ue)||ae!==ae&&ue!==ue}var gi=typeof Object.is=="function"?Object.is:_l;function as(ae,ue){if(gi(ae,ue))return!0;if(typeof ae!="object"||ae===null||typeof ue!="object"||ue===null)return!1;var ge=Object.keys(ae),we=Object.keys(ue);if(ge.length!==we.length)return!1;for(we=0;we<ge.length;we++){var Ie=ge[we];if(!le.call(ue,Ie)||!gi(ae[Ie],ue[Ie]))return!1}return!0}function ma(ae){for(;ae&&ae.firstChild;)ae=ae.firstChild;return ae}function vi(ae,ue){var ge=ma(ae);ae=0;for(var we;ge;){if(ge.nodeType===3){if(we=ae+ge.textContent.length,ae<=ue&&we>=ue)return{node:ge,offset:ue-ae};ae=we}e:{for(;ge;){if(ge.nextSibling){ge=ge.nextSibling;break e}ge=ge.parentNode}ge=void 0}ge=ma(ge)}}function ls(ae,ue){return ae&&ue?ae===ue?!0:ae&&ae.nodeType===3?!1:ue&&ue.nodeType===3?ls(ae,ue.parentNode):"contains"in ae?ae.contains(ue):ae.compareDocumentPosition?!!(ae.compareDocumentPosition(ue)&16):!1:!1}function gr(){for(var ae=window,ue=Ot();ue instanceof ae.HTMLIFrameElement;){try{var ge=typeof ue.contentWindow.location.href=="string"}catch{ge=!1}if(ge)ae=ue.contentWindow;else break;ue=Ot(ae.document)}return ue}function Lr(ae){var ue=ae&&ae.nodeName&&ae.nodeName.toLowerCase();return ue&&(ue==="input"&&(ae.type==="text"||ae.type==="search"||ae.type==="tel"||ae.type==="url"||ae.type==="password")||ue==="textarea"||ae.contentEditable==="true")}function $r(ae){var ue=gr(),ge=ae.focusedElem,we=ae.selectionRange;if(ue!==ge&&ge&&ge.ownerDocument&&ls(ge.ownerDocument.documentElement,ge)){if(we!==null&&Lr(ge)){if(ue=we.start,ae=we.end,ae===void 0&&(ae=ue),"selectionStart"in ge)ge.selectionStart=ue,ge.selectionEnd=Math.min(ae,ge.value.length);else if(ae=(ue=ge.ownerDocument||document)&&ue.defaultView||window,ae.getSelection){ae=ae.getSelection();var Ie=ge.textContent.length,De=Math.min(we.start,Ie);we=we.end===void 0?De:Math.min(we.end,Ie),!ae.extend&&De>we&&(Ie=we,we=De,De=Ie),Ie=vi(ge,De);var Ge=vi(ge,we);Ie&&Ge&&(ae.rangeCount!==1||ae.anchorNode!==Ie.node||ae.anchorOffset!==Ie.offset||ae.focusNode!==Ge.node||ae.focusOffset!==Ge.offset)&&(ue=ue.createRange(),ue.setStart(Ie.node,Ie.offset),ae.removeAllRanges(),De>we?(ae.addRange(ue),ae.extend(Ge.node,Ge.offset)):(ue.setEnd(Ge.node,Ge.offset),ae.addRange(ue)))}}for(ue=[],ae=ge;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<ue.length;ge++)ae=ue[ge],ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}var xl=se&&"documentMode"in document&&11>=document.documentMode,to=null,cs=null,ga=null,Dr=!1;function Sl(ae,ue,ge){var we=ge.window===ge?ge.document:ge.nodeType===9?ge:ge.ownerDocument;Dr||to==null||to!==Ot(we)||(we=to,"selectionStart"in we&&Lr(we)?we={start:we.selectionStart,end:we.selectionEnd}:(we=(we.ownerDocument&&we.ownerDocument.defaultView||window).getSelection(),we={anchorNode:we.anchorNode,anchorOffset:we.anchorOffset,focusNode:we.focusNode,focusOffset:we.focusOffset}),ga&&as(ga,we)||(ga=we,we=Al(cs,"onSelect"),0<we.length&&(ue=new ha("onSelect","select",null,ue,ge),ae.push({event:ue,listeners:we}),ue.target=to)))}function Vs(ae,ue){var ge={};return ge[ae.toLowerCase()]=ue.toLowerCase(),ge["Webkit"+ae]="webkit"+ue,ge["Moz"+ae]="moz"+ue,ge}var Bo={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},zi={},Vi={};se&&(Vi=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function no(ae){if(zi[ae])return zi[ae];if(!Bo[ae])return ae;var ue=Bo[ae],ge;for(ge in ue)if(ue.hasOwnProperty(ge)&&ge in Vi)return zi[ae]=ue[ge];return ae}var va=no("animationend"),ya=no("animationiteration"),uc=no("animationstart"),fc=no("transitionend"),dc=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(ae,ue){dc.set(ae,ue),ie(ue,[ae])}for(var El=0;El<hc.length;El++){var xa=hc[El],Sa=xa.toLowerCase(),ru=xa[0].toUpperCase()+xa.slice(1);go(Sa,"on"+ru)}go(va,"onAnimationEnd"),go(ya,"onAnimationIteration"),go(uc,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(fc,"onTransitionEnd"),oe("onMouseEnter",["mouseout","mouseover"]),oe("onMouseLeave",["mouseout","mouseover"]),oe("onPointerEnter",["pointerout","pointerover"]),oe("onPointerLeave",["pointerout","pointerover"]),ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bl=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function wl(ae,ue,ge){var we=ae.type||"unknown-event";ae.currentTarget=ge,Ya(we,ue,void 0,ae),ae.currentTarget=null}function Gs(ae,ue){ue=(ue&4)!==0;for(var ge=0;ge<ae.length;ge++){var we=ae[ge],Ie=we.event;we=we.listeners;e:{var De=void 0;if(ue)for(var Ge=we.length-1;0<=Ge;Ge--){var Je=we[Ge],st=Je.instance,Tt=Je.currentTarget;if(Je=Je.listener,st!==De&&Ie.isPropagationStopped())break e;wl(Ie,Je,Tt),De=st}else for(Ge=0;Ge<we.length;Ge++){if(Je=we[Ge],st=Je.instance,Tt=Je.currentTarget,Je=Je.listener,st!==De&&Ie.isPropagationStopped())break e;wl(Ie,Je,Tt),De=st}}}if(ki)throw ae=Do,ki=!1,Do=null,ae}function ar(ae,ue){var ge=ue[ds];ge===void 0&&(ge=ue[ds]=new Set);var we=ae+"__bubble";ge.has(we)||(Tl(ue,ae,2,!1),ge.add(we))}function Ml(ae,ue,ge){var we=0;ue&&(we|=4),Tl(ge,ae,we,ue)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function Hs(ae){if(!ae[Ea]){ae[Ea]=!0,te.forEach(function(ge){ge!=="selectionchange"&&(bl.has(ge)||Ml(ge,!1,ae),Ml(ge,!0,ae))});var ue=ae.nodeType===9?ae:ae.ownerDocument;ue===null||ue[Ea]||(ue[Ea]=!0,Ml("selectionchange",!1,ue))}}function Tl(ae,ue,ge,we){switch(qc(ue)){case 1:var Ie=sl;break;case 4:Ie=Jl;break;default:Ie=al}ge=Ie.bind(null,ue,ge,ae),Ie=void 0,!Cs||ue!=="touchstart"&&ue!=="touchmove"&&ue!=="wheel"||(Ie=!0),we?Ie!==void 0?ae.addEventListener(ue,ge,{capture:!0,passive:Ie}):ae.addEventListener(ue,ge,!0):Ie!==void 0?ae.addEventListener(ue,ge,{passive:Ie}):ae.addEventListener(ue,ge,!1)}function Rl(ae,ue,ge,we,Ie){var De=we;if(!(ue&1)&&!(ue&2)&&we!==null)e:for(;;){if(we===null)return;var Ge=we.tag;if(Ge===3||Ge===4){var Je=we.stateNode.containerInfo;if(Je===Ie||Je.nodeType===8&&Je.parentNode===Ie)break;if(Ge===4)for(Ge=we.return;Ge!==null;){var st=Ge.tag;if((st===3||st===4)&&(st=Ge.stateNode.containerInfo,st===Ie||st.nodeType===8&&st.parentNode===Ie))return;Ge=Ge.return}for(;Je!==null;){if(Ge=Vo(Je),Ge===null)return;if(st=Ge.tag,st===5||st===6){we=De=Ge;continue e}Je=Je.parentNode}}we=we.return}xr(function(){var Tt=De,Ht=nt(ge),Yt=[];e:{var Vt=dc.get(ae);if(Vt!==void 0){var vn=ha,bn=ae;switch(ae){case"keypress":if(Qo(ge)===0)break e;case"keydown":case"keyup":vn=ml;break;case"focusin":bn="focus",vn=fl;break;case"focusout":bn="blur",vn=fl;break;case"beforeblur":case"afterblur":vn=fl;break;case"click":if(ge.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vn=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vn=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vn=ho;break;case va:case ya:case uc:vn=Xc;break;case fc:vn=rs;break;case"scroll":vn=$s;break;case"wheel":vn=oc;break;case"copy":case"cut":case"paste":vn=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vn=mi}var wn=(ue&4)!==0,Ir=!wn&&ae==="scroll",yt=wn?Vt!==null?Vt+"Capture":null:Vt;wn=[];for(var dt=Tt,xt;dt!==null;){xt=dt;var Jt=xt.stateNode;if(xt.tag===5&&Jt!==null&&(xt=Jt,yt!==null&&(Jt=wr(dt,yt),Jt!=null&&wn.push(Ws(dt,Jt,xt)))),Ir)break;dt=dt.return}0<wn.length&&(Vt=new vn(Vt,bn,null,ge,Ht),Yt.push({event:Vt,listeners:wn}))}}if(!(ue&7)){e:{if(Vt=ae==="mouseover"||ae==="pointerover",vn=ae==="mouseout"||ae==="pointerout",Vt&&ge!==tn&&(bn=ge.relatedTarget||ge.fromElement)&&(Vo(bn)||bn[yi]))break e;if((vn||Vt)&&(Vt=Ht.window===Ht?Ht:(Vt=Ht.ownerDocument)?Vt.defaultView||Vt.parentWindow:window,vn?(bn=ge.relatedTarget||ge.toElement,vn=Tt,bn=bn?Vo(bn):null,bn!==null&&(Ir=Ki(bn),bn!==Ir||bn.tag!==5&&bn.tag!==6)&&(bn=null)):(vn=null,bn=Tt),vn!==bn)){if(wn=tc,Jt="onMouseLeave",yt="onMouseEnter",dt="mouse",(ae==="pointerout"||ae==="pointerover")&&(wn=mi,Jt="onPointerLeave",yt="onPointerEnter",dt="pointer"),Ir=vn==null?Vt:Er(vn),xt=bn==null?Vt:Er(bn),Vt=new wn(Jt,dt+"leave",vn,ge,Ht),Vt.target=Ir,Vt.relatedTarget=xt,Jt=null,Vo(Ht)===Tt&&(wn=new wn(yt,dt+"enter",bn,ge,Ht),wn.target=xt,wn.relatedTarget=Ir,Jt=wn),Ir=Jt,vn&&bn)t:{for(wn=vn,yt=bn,dt=0,xt=wn;xt;xt=us(xt))dt++;for(xt=0,Jt=yt;Jt;Jt=us(Jt))xt++;for(;0<dt-xt;)wn=us(wn),dt--;for(;0<xt-dt;)yt=us(yt),xt--;for(;dt--;){if(wn===yt||yt!==null&&wn===yt.alternate)break t;wn=us(wn),yt=us(yt)}wn=null}else wn=null;vn!==null&&iu(Yt,Vt,vn,wn,!1),bn!==null&&Ir!==null&&iu(Yt,Ir,bn,wn,!0)}}e:{if(Vt=Tt?Er(Tt):window,vn=Vt.nodeName&&Vt.nodeName.toLowerCase(),vn==="select"||vn==="input"&&Vt.type==="file")var An=tu;else if(vl(Vt))if(Bs)An=mr;else{An=nu;var $n=zs}else(vn=Vt.nodeName)&&vn.toLowerCase()==="input"&&(Vt.type==="checkbox"||Vt.type==="radio")&&(An=cc);if(An&&(An=An(ae,Tt))){ks(Yt,An,ge,Ht);break e}$n&&$n(ae,Vt,Tt),ae==="focusout"&&($n=Vt._wrapperState)&&$n.controlled&&Vt.type==="number"&&pn(Vt,"number",Vt.value)}switch($n=Tt?Er(Tt):window,ae){case"focusin":(vl($n)||$n.contentEditable==="true")&&(to=$n,cs=Tt,ga=null);break;case"focusout":ga=cs=to=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,Sl(Yt,ge,Ht);break;case"selectionchange":if(xl)break;case"keydown":case"keyup":Sl(Yt,ge,Ht)}var Dn;if(ti)e:{switch(ae){case"compositionstart":var kn="onCompositionStart";break e;case"compositionend":kn="onCompositionEnd";break e;case"compositionupdate":kn="onCompositionUpdate";break e}kn=void 0}else ko?lc(ae,ge)&&(kn="onCompositionEnd"):ae==="keydown"&&ge.keyCode===229&&(kn="onCompositionStart");kn&&(Os&&ge.locale!=="ko"&&(ko||kn!=="onCompositionStart"?kn==="onCompositionEnd"&&ko&&(Dn=da()):(Ui=Ht,ec="value"in Ui?Ui.value:Ui.textContent,ko=!0)),$n=Al(Tt,kn),0<$n.length&&(kn=new rc(kn,ae,null,ge,Ht),Yt.push({event:kn,listeners:$n}),Dn?kn.data=Dn:(Dn=gl(ge),Dn!==null&&(kn.data=Dn)))),(Dn=hr?Jc(ae,ge):pa(ae,ge))&&(Tt=Al(Tt,"onBeforeInput"),0<Tt.length&&(Ht=new rc("onBeforeInput","beforeinput",null,ge,Ht),Yt.push({event:Ht,listeners:Tt}),Ht.data=Dn))}Gs(Yt,ue)})}function Ws(ae,ue,ge){return{instance:ae,listener:ue,currentTarget:ge}}function Al(ae,ue){for(var ge=ue+"Capture",we=[];ae!==null;){var Ie=ae,De=Ie.stateNode;Ie.tag===5&&De!==null&&(Ie=De,De=wr(ae,ge),De!=null&&we.unshift(Ws(ae,De,Ie)),De=wr(ae,ue),De!=null&&we.push(Ws(ae,De,Ie))),ae=ae.return}return we}function us(ae){if(ae===null)return null;do ae=ae.return;while(ae&&ae.tag!==5);return ae||null}function iu(ae,ue,ge,we,Ie){for(var De=ue._reactName,Ge=[];ge!==null&&ge!==we;){var Je=ge,st=Je.alternate,Tt=Je.stateNode;if(st!==null&&st===we)break;Je.tag===5&&Tt!==null&&(Je=Tt,Ie?(st=wr(ge,De),st!=null&&Ge.unshift(Ws(ge,st,Je))):Ie||(st=wr(ge,De),st!=null&&Ge.push(Ws(ge,st,Je)))),ge=ge.return}Ge.length!==0&&ae.push({event:ue,listeners:Ge})}var Bu=/\r\n?/g,ou=/\u0000|\uFFFD/g;function pc(ae){return(typeof ae=="string"?ae:""+ae).replace(Bu,`
`).replace(ou,"")}function ba(ae,ue,ge){if(ue=pc(ue),pc(ae)!==ue&&ge)throw Error(K(425))}function wa(){}var js=null,mc=null;function gc(ae,ue){return ae==="textarea"||ae==="noscript"||typeof ue.children=="string"||typeof ue.children=="number"||typeof ue.dangerouslySetInnerHTML=="object"&&ue.dangerouslySetInnerHTML!==null&&ue.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,yc=typeof clearTimeout=="function"?clearTimeout:void 0,Cl=typeof Promise=="function"?Promise:void 0,zu=typeof queueMicrotask=="function"?queueMicrotask:typeof Cl<"u"?function(ae){return Cl.resolve(null).then(ae).catch(su)}:vc;function su(ae){setTimeout(function(){throw ae})}function Pl(ae,ue){var ge=ue,we=0;do{var Ie=ge.nextSibling;if(ae.removeChild(ge),Ie&&Ie.nodeType===8)if(ge=Ie.data,ge==="/$"){if(we===0){ae.removeChild(Ie),fa(ue);return}we--}else ge!=="$"&&ge!=="$?"&&ge!=="$!"||we++;ge=Ie}while(ge);fa(ue)}function vo(ae){for(;ae!=null;ae=ae.nextSibling){var ue=ae.nodeType;if(ue===1||ue===3)break;if(ue===8){if(ue=ae.data,ue==="$"||ue==="$!"||ue==="$?")break;if(ue==="/$")return null}}return ae}function _c(ae){ae=ae.previousSibling;for(var ue=0;ae;){if(ae.nodeType===8){var ge=ae.data;if(ge==="$"||ge==="$!"||ge==="$?"){if(ue===0)return ae;ue--}else ge==="/$"&&ue++}ae=ae.previousSibling}return null}var fs=Math.random().toString(36).slice(2),Pr="__reactFiber$"+fs,qs="__reactProps$"+fs,yi="__reactContainer$"+fs,ds="__reactEvents$"+fs,Il="__reactListeners$"+fs,Ll="__reactHandles$"+fs;function Vo(ae){var ue=ae[Pr];if(ue)return ue;for(var ge=ae.parentNode;ge;){if(ue=ge[yi]||ge[Pr]){if(ge=ue.alternate,ue.child!==null||ge!==null&&ge.child!==null)for(ae=_c(ae);ae!==null;){if(ge=ae[Pr])return ge;ae=_c(ae)}return ue}ae=ge,ge=ae.parentNode}return null}function yo(ae){return ae=ae[Pr]||ae[yi],!ae||ae.tag!==5&&ae.tag!==6&&ae.tag!==13&&ae.tag!==3?null:ae}function Er(ae){if(ae.tag===5||ae.tag===6)return ae.stateNode;throw Error(K(33))}function $l(ae){return ae[qs]||null}var xc=[],Nr=-1;function vr(ae){return{current:ae}}function lr(ae){0>Nr||(ae.current=xc[Nr],xc[Nr]=null,Nr--)}function or(ae,ue){Nr++,xc[Nr]=ae.current,ae.current=ue}var _o={},Ur=vr(_o),ni=vr(!1),xo=_o;function hs(ae,ue){var ge=ae.type.contextTypes;if(!ge)return _o;var we=ae.stateNode;if(we&&we.__reactInternalMemoizedUnmaskedChildContext===ue)return we.__reactInternalMemoizedMaskedChildContext;var Ie={},De;for(De in ge)Ie[De]=ue[De];return we&&(ae=ae.stateNode,ae.__reactInternalMemoizedUnmaskedChildContext=ue,ae.__reactInternalMemoizedMaskedChildContext=Ie),Ie}function Xr(ae){return ae=ae.childContextTypes,ae!=null}function Ma(){lr(ni),lr(Ur)}function Sc(ae,ue,ge){if(Ur.current!==_o)throw Error(K(168));or(Ur,ue),or(ni,ge)}function Ta(ae,ue,ge){var we=ae.stateNode;if(ue=ue.childContextTypes,typeof we.getChildContext!="function")return ge;we=we.getChildContext();for(var Ie in we)if(!(Ie in ue))throw Error(K(108,At(ae)||"Unknown",Ie));return et({},ge,we)}function ps(ae){return ae=(ae=ae.stateNode)&&ae.__reactInternalMemoizedMergedChildContext||_o,xo=Ur.current,or(Ur,ae),or(ni,ni.current),!0}function Ec(ae,ue,ge){var we=ae.stateNode;if(!we)throw Error(K(169));ge?(ae=Ta(ae,ue,xo),we.__reactInternalMemoizedMergedChildContext=ae,lr(ni),lr(Ur),or(Ur,ae)):lr(ni),or(ni,ge)}var Gi=null,Ra=!1,Dl=!1;function Aa(ae){Gi===null?Gi=[ae]:Gi.push(ae)}function au(ae){Ra=!0,Aa(ae)}function ro(){if(!Dl&&Gi!==null){Dl=!0;var ae=0,ue=Hn;try{var ge=Gi;for(Hn=1;ae<ge.length;ae++){var we=ge[ae];do we=we(!0);while(we!==null)}Gi=null,Ra=!1}catch(Ie){throw Gi!==null&&(Gi=Gi.slice(ae+1)),We(ln,ro),Ie}finally{Hn=ue,Dl=!1}}return null}var ms=[],fi=0,Nl=null,Ol=0,ri=[],Or=0,gs=null,on=1,Li="";function So(ae,ue){ms[fi++]=Ol,ms[fi++]=Nl,Nl=ae,Ol=ue}function bc(ae,ue,ge){ri[Or++]=on,ri[Or++]=Li,ri[Or++]=gs,gs=ae;var we=on;ae=Li;var Ie=32-jn(we)-1;we&=~(1<<Ie),ge+=1;var De=32-jn(ue)+Ie;if(30<De){var Ge=Ie-Ie%5;De=(we&(1<<Ge)-1).toString(32),we>>=Ge,Ie-=Ge,on=1<<32-jn(ue)+Ie|ge<<Ie|we,Li=De+ae}else on=1<<De|ge<<Ie|we,Li=ae}function wc(ae){ae.return!==null&&(So(ae,1),bc(ae,1,0))}function Eo(ae){for(;ae===Nl;)Nl=ms[--fi],ms[fi]=null,Ol=ms[--fi],ms[fi]=null;for(;ae===gs;)gs=ri[--Or],ri[Or]=null,Li=ri[--Or],ri[Or]=null,on=ri[--Or],ri[Or]=null}var Br=null,ii=null,fr=!1,$i=null;function Mc(ae,ue){var ge=lo(5,null,null,0);ge.elementType="DELETED",ge.stateNode=ue,ge.return=ae,ue=ae.deletions,ue===null?(ae.deletions=[ge],ae.flags|=16):ue.push(ge)}function Tc(ae,ue){switch(ae.tag){case 5:var ge=ae.type;return ue=ue.nodeType!==1||ge.toLowerCase()!==ue.nodeName.toLowerCase()?null:ue,ue!==null?(ae.stateNode=ue,Br=ae,ii=vo(ue.firstChild),!0):!1;case 6:return ue=ae.pendingProps===""||ue.nodeType!==3?null:ue,ue!==null?(ae.stateNode=ue,Br=ae,ii=null,!0):!1;case 13:return ue=ue.nodeType!==8?null:ue,ue!==null?(ge=gs!==null?{id:on,overflow:Li}:null,ae.memoizedState={dehydrated:ue,treeContext:ge,retryLane:1073741824},ge=lo(18,null,null,0),ge.stateNode=ue,ge.return=ae,ae.child=ge,Br=ae,ii=null,!0):!1;default:return!1}}function Fl(ae){return(ae.mode&1)!==0&&(ae.flags&128)===0}function kl(ae){if(fr){var ue=ii;if(ue){var ge=ue;if(!Tc(ae,ue)){if(Fl(ae))throw Error(K(418));ue=vo(ge.nextSibling);var we=Br;ue&&Tc(ae,ue)?Mc(we,ge):(ae.flags=ae.flags&-4097|2,fr=!1,Br=ae)}}else{if(Fl(ae))throw Error(K(418));ae.flags=ae.flags&-4097|2,fr=!1,Br=ae}}}function Ul(ae){for(ae=ae.return;ae!==null&&ae.tag!==5&&ae.tag!==3&&ae.tag!==13;)ae=ae.return;Br=ae}function Xs(ae){if(ae!==Br)return!1;if(!fr)return Ul(ae),fr=!0,!1;var ue;if((ue=ae.tag!==3)&&!(ue=ae.tag!==5)&&(ue=ae.type,ue=ue!=="head"&&ue!=="body"&&!gc(ae.type,ae.memoizedProps)),ue&&(ue=ii)){if(Fl(ae))throw Rc(),Error(K(418));for(;ue;)Mc(ae,ue),ue=vo(ue.nextSibling)}if(Ul(ae),ae.tag===13){if(ae=ae.memoizedState,ae=ae!==null?ae.dehydrated:null,!ae)throw Error(K(317));e:{for(ae=ae.nextSibling,ue=0;ae;){if(ae.nodeType===8){var ge=ae.data;if(ge==="/$"){if(ue===0){ii=vo(ae.nextSibling);break e}ue--}else ge!=="$"&&ge!=="$!"&&ge!=="$?"||ue++}ae=ae.nextSibling}ii=null}}else ii=Br?vo(ae.stateNode.nextSibling):null;return!0}function Rc(){for(var ae=ii;ae;)ae=vo(ae.nextSibling)}function Go(){ii=Br=null,fr=!1}function Ys(ae){$i===null?$i=[ae]:$i.push(ae)}var Vu=Pe.ReactCurrentBatchConfig;function Ca(ae,ue,ge){if(ae=ge.ref,ae!==null&&typeof ae!="function"&&typeof ae!="object"){if(ge._owner){if(ge=ge._owner,ge){if(ge.tag!==1)throw Error(K(309));var we=ge.stateNode}if(!we)throw Error(K(147,ae));var Ie=we,De=""+ae;return ue!==null&&ue.ref!==null&&typeof ue.ref=="function"&&ue.ref._stringRef===De?ue.ref:(ue=function(Ge){var Je=Ie.refs;Ge===null?delete Je[De]:Je[De]=Ge},ue._stringRef=De,ue)}if(typeof ae!="string")throw Error(K(284));if(!ge._owner)throw Error(K(290,ae))}return ae}function Pa(ae,ue){throw ae=Object.prototype.toString.call(ue),Error(K(31,ae==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":ae))}function Ac(ae){var ue=ae._init;return ue(ae._payload)}function Cc(ae){function ue(yt,dt){if(ae){var xt=yt.deletions;xt===null?(yt.deletions=[dt],yt.flags|=16):xt.push(dt)}}function ge(yt,dt){if(!ae)return null;for(;dt!==null;)ue(yt,dt),dt=dt.sibling;return null}function we(yt,dt){for(yt=new Map;dt!==null;)dt.key!==null?yt.set(dt.key,dt):yt.set(dt.index,dt),dt=dt.sibling;return yt}function Ie(yt,dt){return yt=sa(yt,dt),yt.index=0,yt.sibling=null,yt}function De(yt,dt,xt){return yt.index=xt,ae?(xt=yt.alternate,xt!==null?(xt=xt.index,xt<dt?(yt.flags|=2,dt):xt):(yt.flags|=2,dt)):(yt.flags|=1048576,dt)}function Ge(yt){return ae&&yt.alternate===null&&(yt.flags|=2),yt}function Je(yt,dt,xt,Jt){return dt===null||dt.tag!==6?(dt=lf(xt,yt.mode,Jt),dt.return=yt,dt):(dt=Ie(dt,xt),dt.return=yt,dt)}function st(yt,dt,xt,Jt){var An=xt.type;return An===ke?Ht(yt,dt,xt.props.children,Jt,xt.key):dt!==null&&(dt.elementType===An||typeof An=="object"&&An!==null&&An.$$typeof===at&&Ac(An)===dt.type)?(Jt=Ie(dt,xt.props),Jt.ref=Ca(yt,dt,xt),Jt.return=yt,Jt):(Jt=Pu(xt.type,xt.key,xt.props,null,yt.mode,Jt),Jt.ref=Ca(yt,dt,xt),Jt.return=yt,Jt)}function Tt(yt,dt,xt,Jt){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==xt.containerInfo||dt.stateNode.implementation!==xt.implementation?(dt=cf(xt,yt.mode,Jt),dt.return=yt,dt):(dt=Ie(dt,xt.children||[]),dt.return=yt,dt)}function Ht(yt,dt,xt,Jt,An){return dt===null||dt.tag!==7?(dt=qa(xt,yt.mode,Jt,An),dt.return=yt,dt):(dt=Ie(dt,xt),dt.return=yt,dt)}function Yt(yt,dt,xt){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return dt=lf(""+dt,yt.mode,xt),dt.return=yt,dt;if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case Fe:return xt=Pu(dt.type,dt.key,dt.props,null,yt.mode,xt),xt.ref=Ca(yt,null,dt),xt.return=yt,xt;case $e:return dt=cf(dt,yt.mode,xt),dt.return=yt,dt;case at:var Jt=dt._init;return Yt(yt,Jt(dt._payload),xt)}if(qt(dt)||it(dt))return dt=qa(dt,yt.mode,xt,null),dt.return=yt,dt;Pa(yt,dt)}return null}function Vt(yt,dt,xt,Jt){var An=dt!==null?dt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return An!==null?null:Je(yt,dt,""+xt,Jt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Fe:return xt.key===An?st(yt,dt,xt,Jt):null;case $e:return xt.key===An?Tt(yt,dt,xt,Jt):null;case at:return An=xt._init,Vt(yt,dt,An(xt._payload),Jt)}if(qt(xt)||it(xt))return An!==null?null:Ht(yt,dt,xt,Jt,null);Pa(yt,xt)}return null}function vn(yt,dt,xt,Jt,An){if(typeof Jt=="string"&&Jt!==""||typeof Jt=="number")return yt=yt.get(xt)||null,Je(dt,yt,""+Jt,An);if(typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case Fe:return yt=yt.get(Jt.key===null?xt:Jt.key)||null,st(dt,yt,Jt,An);case $e:return yt=yt.get(Jt.key===null?xt:Jt.key)||null,Tt(dt,yt,Jt,An);case at:var $n=Jt._init;return vn(yt,dt,xt,$n(Jt._payload),An)}if(qt(Jt)||it(Jt))return yt=yt.get(xt)||null,Ht(dt,yt,Jt,An,null);Pa(dt,Jt)}return null}function bn(yt,dt,xt,Jt){for(var An=null,$n=null,Dn=dt,kn=dt=0,Qr=null;Dn!==null&&kn<xt.length;kn++){Dn.index>kn?(Qr=Dn,Dn=null):Qr=Dn.sibling;var er=Vt(yt,Dn,xt[kn],Jt);if(er===null){Dn===null&&(Dn=Qr);break}ae&&Dn&&er.alternate===null&&ue(yt,Dn),dt=De(er,dt,kn),$n===null?An=er:$n.sibling=er,$n=er,Dn=Qr}if(kn===xt.length)return ge(yt,Dn),fr&&So(yt,kn),An;if(Dn===null){for(;kn<xt.length;kn++)Dn=Yt(yt,xt[kn],Jt),Dn!==null&&(dt=De(Dn,dt,kn),$n===null?An=Dn:$n.sibling=Dn,$n=Dn);return fr&&So(yt,kn),An}for(Dn=we(yt,Dn);kn<xt.length;kn++)Qr=vn(Dn,yt,kn,xt[kn],Jt),Qr!==null&&(ae&&Qr.alternate!==null&&Dn.delete(Qr.key===null?kn:Qr.key),dt=De(Qr,dt,kn),$n===null?An=Qr:$n.sibling=Qr,$n=Qr);return ae&&Dn.forEach(function(aa){return ue(yt,aa)}),fr&&So(yt,kn),An}function wn(yt,dt,xt,Jt){var An=it(xt);if(typeof An!="function")throw Error(K(150));if(xt=An.call(xt),xt==null)throw Error(K(151));for(var $n=An=null,Dn=dt,kn=dt=0,Qr=null,er=xt.next();Dn!==null&&!er.done;kn++,er=xt.next()){Dn.index>kn?(Qr=Dn,Dn=null):Qr=Dn.sibling;var aa=Vt(yt,Dn,er.value,Jt);if(aa===null){Dn===null&&(Dn=Qr);break}ae&&Dn&&aa.alternate===null&&ue(yt,Dn),dt=De(aa,dt,kn),$n===null?An=aa:$n.sibling=aa,$n=aa,Dn=Qr}if(er.done)return ge(yt,Dn),fr&&So(yt,kn),An;if(Dn===null){for(;!er.done;kn++,er=xt.next())er=Yt(yt,er.value,Jt),er!==null&&(dt=De(er,dt,kn),$n===null?An=er:$n.sibling=er,$n=er);return fr&&So(yt,kn),An}for(Dn=we(yt,Dn);!er.done;kn++,er=xt.next())er=vn(Dn,yt,kn,er.value,Jt),er!==null&&(ae&&er.alternate!==null&&Dn.delete(er.key===null?kn:er.key),dt=De(er,dt,kn),$n===null?An=er:$n.sibling=er,$n=er);return ae&&Dn.forEach(function(pd){return ue(yt,pd)}),fr&&So(yt,kn),An}function Ir(yt,dt,xt,Jt){if(typeof xt=="object"&&xt!==null&&xt.type===ke&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Fe:e:{for(var An=xt.key,$n=dt;$n!==null;){if($n.key===An){if(An=xt.type,An===ke){if($n.tag===7){ge(yt,$n.sibling),dt=Ie($n,xt.props.children),dt.return=yt,yt=dt;break e}}else if($n.elementType===An||typeof An=="object"&&An!==null&&An.$$typeof===at&&Ac(An)===$n.type){ge(yt,$n.sibling),dt=Ie($n,xt.props),dt.ref=Ca(yt,$n,xt),dt.return=yt,yt=dt;break e}ge(yt,$n);break}else ue(yt,$n);$n=$n.sibling}xt.type===ke?(dt=qa(xt.props.children,yt.mode,Jt,xt.key),dt.return=yt,yt=dt):(Jt=Pu(xt.type,xt.key,xt.props,null,yt.mode,Jt),Jt.ref=Ca(yt,dt,xt),Jt.return=yt,yt=Jt)}return Ge(yt);case $e:e:{for($n=xt.key;dt!==null;){if(dt.key===$n)if(dt.tag===4&&dt.stateNode.containerInfo===xt.containerInfo&&dt.stateNode.implementation===xt.implementation){ge(yt,dt.sibling),dt=Ie(dt,xt.children||[]),dt.return=yt,yt=dt;break e}else{ge(yt,dt);break}else ue(yt,dt);dt=dt.sibling}dt=cf(xt,yt.mode,Jt),dt.return=yt,yt=dt}return Ge(yt);case at:return $n=xt._init,Ir(yt,dt,$n(xt._payload),Jt)}if(qt(xt))return bn(yt,dt,xt,Jt);if(it(xt))return wn(yt,dt,xt,Jt);Pa(yt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,dt!==null&&dt.tag===6?(ge(yt,dt.sibling),dt=Ie(dt,xt),dt.return=yt,yt=dt):(ge(yt,dt),dt=lf(xt,yt.mode,Jt),dt.return=yt,yt=dt),Ge(yt)):ge(yt,dt)}return Ir}var vs=Cc(!0),Ia=Cc(!1),ys=vr(null),_s=null,bo=null,Ks=null;function xs(){Ks=bo=_s=null}function La(ae){var ue=ys.current;lr(ys),ae._currentValue=ue}function $a(ae,ue,ge){for(;ae!==null;){var we=ae.alternate;if((ae.childLanes&ue)!==ue?(ae.childLanes|=ue,we!==null&&(we.childLanes|=ue)):we!==null&&(we.childLanes&ue)!==ue&&(we.childLanes|=ue),ae===ge)break;ae=ae.return}}function Ho(ae,ue){_s=ae,Ks=bo=null,ae=ae.dependencies,ae!==null&&ae.firstContext!==null&&(ae.lanes&ue&&(Wn=!0),ae.firstContext=null)}function _i(ae){var ue=ae._currentValue;if(Ks!==ae)if(ae={context:ae,memoizedValue:ue,next:null},bo===null){if(_s===null)throw Error(K(308));bo=ae,_s.dependencies={lanes:0,firstContext:ae}}else bo=bo.next=ae;return ue}var wo=null;function Pc(ae){wo===null?wo=[ae]:wo.push(ae)}function Da(ae,ue,ge,we){var Ie=ue.interleaved;return Ie===null?(ge.next=ge,Pc(ue)):(ge.next=Ie.next,Ie.next=ge),ue.interleaved=ge,Hi(ae,we)}function Hi(ae,ue){ae.lanes|=ue;var ge=ae.alternate;for(ge!==null&&(ge.lanes|=ue),ge=ae,ae=ae.return;ae!==null;)ae.childLanes|=ue,ge=ae.alternate,ge!==null&&(ge.childLanes|=ue),ge=ae,ae=ae.return;return ge.tag===3?ge.stateNode:null}var nr=!1;function Vn(ae){ae.updateQueue={baseState:ae.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function br(ae,ue){ae=ae.updateQueue,ue.updateQueue===ae&&(ue.updateQueue={baseState:ae.baseState,firstBaseUpdate:ae.firstBaseUpdate,lastBaseUpdate:ae.lastBaseUpdate,shared:ae.shared,effects:ae.effects})}function rr(ae,ue){return{eventTime:ae,lane:ue,tag:0,payload:null,callback:null,next:null}}function pr(ae,ue,ge){var we=ae.updateQueue;if(we===null)return null;if(we=we.shared,Jn&2){var Ie=we.pending;return Ie===null?ue.next=ue:(ue.next=Ie.next,Ie.next=ue),we.pending=ue,Hi(ae,ge)}return Ie=we.interleaved,Ie===null?(ue.next=ue,Pc(we)):(ue.next=Ie.next,Ie.next=ue),we.interleaved=ue,Hi(ae,ge)}function Yr(ae,ue,ge){if(ue=ue.updateQueue,ue!==null&&(ue=ue.shared,(ge&4194240)!==0)){var we=ue.lanes;we&=ae.pendingLanes,ge|=we,ue.lanes=ge,Qi(ae,ge)}}function Ss(ae,ue){var ge=ae.updateQueue,we=ae.alternate;if(we!==null&&(we=we.updateQueue,ge===we)){var Ie=null,De=null;if(ge=ge.firstBaseUpdate,ge!==null){do{var Ge={eventTime:ge.eventTime,lane:ge.lane,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null};De===null?Ie=De=Ge:De=De.next=Ge,ge=ge.next}while(ge!==null);De===null?Ie=De=ue:De=De.next=ue}else Ie=De=ue;ge={baseState:we.baseState,firstBaseUpdate:Ie,lastBaseUpdate:De,shared:we.shared,effects:we.effects},ae.updateQueue=ge;return}ae=ge.lastBaseUpdate,ae===null?ge.firstBaseUpdate=ue:ae.next=ue,ge.lastBaseUpdate=ue}function yr(ae,ue,ge,we){var Ie=ae.updateQueue;nr=!1;var De=Ie.firstBaseUpdate,Ge=Ie.lastBaseUpdate,Je=Ie.shared.pending;if(Je!==null){Ie.shared.pending=null;var st=Je,Tt=st.next;st.next=null,Ge===null?De=Tt:Ge.next=Tt,Ge=st;var Ht=ae.alternate;Ht!==null&&(Ht=Ht.updateQueue,Je=Ht.lastBaseUpdate,Je!==Ge&&(Je===null?Ht.firstBaseUpdate=Tt:Je.next=Tt,Ht.lastBaseUpdate=st))}if(De!==null){var Yt=Ie.baseState;Ge=0,Ht=Tt=st=null,Je=De;do{var Vt=Je.lane,vn=Je.eventTime;if((we&Vt)===Vt){Ht!==null&&(Ht=Ht.next={eventTime:vn,lane:0,tag:Je.tag,payload:Je.payload,callback:Je.callback,next:null});e:{var bn=ae,wn=Je;switch(Vt=ue,vn=ge,wn.tag){case 1:if(bn=wn.payload,typeof bn=="function"){Yt=bn.call(vn,Yt,Vt);break e}Yt=bn;break e;case 3:bn.flags=bn.flags&-65537|128;case 0:if(bn=wn.payload,Vt=typeof bn=="function"?bn.call(vn,Yt,Vt):bn,Vt==null)break e;Yt=et({},Yt,Vt);break e;case 2:nr=!0}}Je.callback!==null&&Je.lane!==0&&(ae.flags|=64,Vt=Ie.effects,Vt===null?Ie.effects=[Je]:Vt.push(Je))}else vn={eventTime:vn,lane:Vt,tag:Je.tag,payload:Je.payload,callback:Je.callback,next:null},Ht===null?(Tt=Ht=vn,st=Yt):Ht=Ht.next=vn,Ge|=Vt;if(Je=Je.next,Je===null){if(Je=Ie.shared.pending,Je===null)break;Vt=Je,Je=Vt.next,Vt.next=null,Ie.lastBaseUpdate=Vt,Ie.shared.pending=null}}while(!0);if(Ht===null&&(st=Yt),Ie.baseState=st,Ie.firstBaseUpdate=Tt,Ie.lastBaseUpdate=Ht,ue=Ie.shared.interleaved,ue!==null){Ie=ue;do Ge|=Ie.lane,Ie=Ie.next;while(Ie!==ue)}else De===null&&(Ie.shared.lanes=0);Ga|=Ge,ae.lanes=Ge,ae.memoizedState=Yt}}function Zs(ae,ue,ge){if(ae=ue.effects,ue.effects=null,ae!==null)for(ue=0;ue<ae.length;ue++){var we=ae[ue],Ie=we.callback;if(Ie!==null){if(we.callback=null,we=ge,typeof Ie!="function")throw Error(K(191,Ie));Ie.call(we)}}}var io={},xi=vr(io),Es=vr(io),Mo=vr(io);function Tr(ae){if(ae===io)throw Error(K(174));return ae}function Na(ae,ue){switch(or(Mo,ue),or(Es,ae),or(xi,io),ae=ue.nodeType,ae){case 9:case 11:ue=(ue=ue.documentElement)?ue.namespaceURI:nn(null,"");break;default:ae=ae===8?ue.parentNode:ue,ue=ae.namespaceURI||null,ae=ae.tagName,ue=nn(ue,ae)}lr(xi),or(xi,ue)}function Wo(){lr(xi),lr(Es),lr(Mo)}function bs(ae){Tr(Mo.current);var ue=Tr(xi.current),ge=nn(ue,ae.type);ue!==ge&&(or(Es,ae),or(xi,ge))}function Qs(ae){Es.current===ae&&(lr(xi),lr(Es))}var dr=vr(0);function Wi(ae){for(var ue=ae;ue!==null;){if(ue.tag===13){var ge=ue.memoizedState;if(ge!==null&&(ge=ge.dehydrated,ge===null||ge.data==="$?"||ge.data==="$!"))return ue}else if(ue.tag===19&&ue.memoizedProps.revealOrder!==void 0){if(ue.flags&128)return ue}else if(ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===ae)break;for(;ue.sibling===null;){if(ue.return===null||ue.return===ae)return null;ue=ue.return}ue.sibling.return=ue.return,ue=ue.sibling}return null}var Js=[];function oo(){for(var ae=0;ae<Js.length;ae++)Js[ae]._workInProgressVersionPrimary=null;Js.length=0}var ws=Pe.ReactCurrentDispatcher,Ms=Pe.ReactCurrentBatchConfig,To=0,cr=null,_r=null,Qn=null,ji=!1,Kr=!1,jo=0,di=0;function zr(){throw Error(K(321))}function Oa(ae,ue){if(ue===null)return!1;for(var ge=0;ge<ue.length&&ge<ae.length;ge++)if(!gi(ae[ge],ue[ge]))return!1;return!0}function Fa(ae,ue,ge,we,Ie,De){if(To=De,cr=ue,ue.memoizedState=null,ue.updateQueue=null,ue.lanes=0,ws.current=ae===null||ae.memoizedState===null?pu:mu,ae=ge(we,Ie),Kr){De=0;do{if(Kr=!1,jo=0,25<=De)throw Error(K(301));De+=1,Qn=_r=null,ue.updateQueue=null,ws.current=gu,ae=ge(we,Ie)}while(Kr)}if(ws.current=jl,ue=_r!==null&&_r.next!==null,To=0,Qn=_r=cr=null,ji=!1,ue)throw Error(K(300));return ae}function Ic(){var ae=jo!==0;return jo=0,ae}function Vr(){var ae={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?cr.memoizedState=Qn=ae:Qn=Qn.next=ae,Qn}function Si(){if(_r===null){var ae=cr.alternate;ae=ae!==null?ae.memoizedState:null}else ae=_r.next;var ue=Qn===null?cr.memoizedState:Qn.next;if(ue!==null)Qn=ue,_r=ae;else{if(ae===null)throw Error(K(310));_r=ae,ae={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},Qn===null?cr.memoizedState=Qn=ae:Qn=Qn.next=ae}return Qn}function ea(ae,ue){return typeof ue=="function"?ue(ae):ue}function ka(ae){var ue=Si(),ge=ue.queue;if(ge===null)throw Error(K(311));ge.lastRenderedReducer=ae;var we=_r,Ie=we.baseQueue,De=ge.pending;if(De!==null){if(Ie!==null){var Ge=Ie.next;Ie.next=De.next,De.next=Ge}we.baseQueue=Ie=De,ge.pending=null}if(Ie!==null){De=Ie.next,we=we.baseState;var Je=Ge=null,st=null,Tt=De;do{var Ht=Tt.lane;if((To&Ht)===Ht)st!==null&&(st=st.next={lane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),we=Tt.hasEagerState?Tt.eagerState:ae(we,Tt.action);else{var Yt={lane:Ht,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null};st===null?(Je=st=Yt,Ge=we):st=st.next=Yt,cr.lanes|=Ht,Ga|=Ht}Tt=Tt.next}while(Tt!==null&&Tt!==De);st===null?Ge=we:st.next=Je,gi(we,ue.memoizedState)||(Wn=!0),ue.memoizedState=we,ue.baseState=Ge,ue.baseQueue=st,ge.lastRenderedState=we}if(ae=ge.interleaved,ae!==null){Ie=ae;do De=Ie.lane,cr.lanes|=De,Ga|=De,Ie=Ie.next;while(Ie!==ae)}else Ie===null&&(ge.lanes=0);return[ue.memoizedState,ge.dispatch]}function Ro(ae){var ue=Si(),ge=ue.queue;if(ge===null)throw Error(K(311));ge.lastRenderedReducer=ae;var we=ge.dispatch,Ie=ge.pending,De=ue.memoizedState;if(Ie!==null){ge.pending=null;var Ge=Ie=Ie.next;do De=ae(De,Ge.action),Ge=Ge.next;while(Ge!==Ie);gi(De,ue.memoizedState)||(Wn=!0),ue.memoizedState=De,ue.baseQueue===null&&(ue.baseState=De),ge.lastRenderedState=De}return[De,we]}function Lc(){}function $c(ae,ue){var ge=cr,we=Si(),Ie=ue(),De=!gi(we.memoizedState,Ie);if(De&&(we.memoizedState=Ie,Wn=!0),we=we.queue,Oc(lu.bind(null,ge,we,ae),[ae]),we.getSnapshot!==ue||De||Qn!==null&&Qn.memoizedState.tag&1){if(ge.flags|=2048,qi(9,Ua.bind(null,ge,we,Ie,ue),void 0,null),Zr===null)throw Error(K(349));To&30||Bl(ge,ue,Ie)}return Ie}function Bl(ae,ue,ge){ae.flags|=16384,ae={getSnapshot:ue,value:ge},ue=cr.updateQueue,ue===null?(ue={lastEffect:null,stores:null},cr.updateQueue=ue,ue.stores=[ae]):(ge=ue.stores,ge===null?ue.stores=[ae]:ge.push(ae))}function Ua(ae,ue,ge,we){ue.value=ge,ue.getSnapshot=we,cu(ue)&&Dc(ae)}function lu(ae,ue,ge){return ge(function(){cu(ue)&&Dc(ae)})}function cu(ae){var ue=ae.getSnapshot;ae=ae.value;try{var ge=ue();return!gi(ae,ge)}catch{return!0}}function Dc(ae){var ue=Hi(ae,1);ue!==null&&Lo(ue,ae,1,-1)}function Nc(ae){var ue=Vr();return typeof ae=="function"&&(ae=ae()),ue.memoizedState=ue.baseState=ae,ae={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:ae},ue.queue=ae,ae=ae.dispatch=Ts.bind(null,cr,ae),[ue.memoizedState,ae]}function qi(ae,ue,ge,we){return ae={tag:ae,create:ue,destroy:ge,deps:we,next:null},ue=cr.updateQueue,ue===null?(ue={lastEffect:null,stores:null},cr.updateQueue=ue,ue.lastEffect=ae.next=ae):(ge=ue.lastEffect,ge===null?ue.lastEffect=ae.next=ae:(we=ge.next,ge.next=ae,ae.next=we,ue.lastEffect=ae)),ae}function uu(){return Si().memoizedState}function so(ae,ue,ge,we){var Ie=Vr();cr.flags|=ae,Ie.memoizedState=qi(1|ue,ge,void 0,we===void 0?null:we)}function Ba(ae,ue,ge,we){var Ie=Si();we=we===void 0?null:we;var De=void 0;if(_r!==null){var Ge=_r.memoizedState;if(De=Ge.destroy,we!==null&&Oa(we,Ge.deps)){Ie.memoizedState=qi(ue,ge,De,we);return}}cr.flags|=ae,Ie.memoizedState=qi(1|ue,ge,De,we)}function oi(ae,ue){return so(8390656,8,ae,ue)}function Oc(ae,ue){return Ba(2048,8,ae,ue)}function Fc(ae,ue){return Ba(4,2,ae,ue)}function fu(ae,ue){return Ba(4,4,ae,ue)}function du(ae,ue){if(typeof ue=="function")return ae=ae(),ue(ae),function(){ue(null)};if(ue!=null)return ae=ae(),ue.current=ae,function(){ue.current=null}}function kc(ae,ue,ge){return ge=ge!=null?ge.concat([ae]):null,Ba(4,4,du.bind(null,ue,ae),ge)}function zl(){}function hu(ae,ue){var ge=Si();ue=ue===void 0?null:ue;var we=ge.memoizedState;return we!==null&&ue!==null&&Oa(ue,we[1])?we[0]:(ge.memoizedState=[ae,ue],ae)}function Ei(ae,ue){var ge=Si();ue=ue===void 0?null:ue;var we=ge.memoizedState;return we!==null&&ue!==null&&Oa(ue,we[1])?we[0]:(ae=ae(),ge.memoizedState=[ae,ue],ae)}function Vl(ae,ue,ge){return To&21?(gi(ge,ue)||(ge=ur(),cr.lanes|=ge,Ga|=ge,ae.baseState=!0),ue):(ae.baseState&&(ae.baseState=!1,Wn=!0),ae.memoizedState=ge)}function Gu(ae,ue){var ge=Hn;Hn=ge!==0&&4>ge?ge:4,ae(!0);var we=Ms.transition;Ms.transition={};try{ae(!1),ue()}finally{Hn=ge,Ms.transition=we}}function Ao(){return Si().memoizedState}function Gl(ae,ue,ge){var we=ia(ae);if(ge={lane:we,action:ge,hasEagerState:!1,eagerState:null,next:null},za(ae))Hl(ue,ge);else if(ge=Da(ae,ue,ge,we),ge!==null){var Ie=wi();Lo(ge,ae,we,Ie),Wl(ge,ue,we)}}function Ts(ae,ue,ge){var we=ia(ae),Ie={lane:we,action:ge,hasEagerState:!1,eagerState:null,next:null};if(za(ae))Hl(ue,Ie);else{var De=ae.alternate;if(ae.lanes===0&&(De===null||De.lanes===0)&&(De=ue.lastRenderedReducer,De!==null))try{var Ge=ue.lastRenderedState,Je=De(Ge,ge);if(Ie.hasEagerState=!0,Ie.eagerState=Je,gi(Je,Ge)){var st=ue.interleaved;st===null?(Ie.next=Ie,Pc(ue)):(Ie.next=st.next,st.next=Ie),ue.interleaved=Ie;return}}catch{}finally{}ge=Da(ae,ue,Ie,we),ge!==null&&(Ie=wi(),Lo(ge,ae,we,Ie),Wl(ge,ue,we))}}function za(ae){var ue=ae.alternate;return ae===cr||ue!==null&&ue===cr}function Hl(ae,ue){Kr=ji=!0;var ge=ae.pending;ge===null?ue.next=ue:(ue.next=ge.next,ge.next=ue),ae.pending=ue}function Wl(ae,ue,ge){if(ge&4194240){var we=ue.lanes;we&=ae.pendingLanes,ge|=we,ue.lanes=ge,Qi(ae,ge)}}var jl={readContext:_i,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},pu={readContext:_i,useCallback:function(ae,ue){return Vr().memoizedState=[ae,ue===void 0?null:ue],ae},useContext:_i,useEffect:oi,useImperativeHandle:function(ae,ue,ge){return ge=ge!=null?ge.concat([ae]):null,so(4194308,4,du.bind(null,ue,ae),ge)},useLayoutEffect:function(ae,ue){return so(4194308,4,ae,ue)},useInsertionEffect:function(ae,ue){return so(4,2,ae,ue)},useMemo:function(ae,ue){var ge=Vr();return ue=ue===void 0?null:ue,ae=ae(),ge.memoizedState=[ae,ue],ae},useReducer:function(ae,ue,ge){var we=Vr();return ue=ge!==void 0?ge(ue):ue,we.memoizedState=we.baseState=ue,ae={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ae,lastRenderedState:ue},we.queue=ae,ae=ae.dispatch=Gl.bind(null,cr,ae),[we.memoizedState,ae]},useRef:function(ae){var ue=Vr();return ae={current:ae},ue.memoizedState=ae},useState:Nc,useDebugValue:zl,useDeferredValue:function(ae){return Vr().memoizedState=ae},useTransition:function(){var ae=Nc(!1),ue=ae[0];return ae=Gu.bind(null,ae[1]),Vr().memoizedState=ae,[ue,ae]},useMutableSource:function(){},useSyncExternalStore:function(ae,ue,ge){var we=cr,Ie=Vr();if(fr){if(ge===void 0)throw Error(K(407));ge=ge()}else{if(ge=ue(),Zr===null)throw Error(K(349));To&30||Bl(we,ue,ge)}Ie.memoizedState=ge;var De={value:ge,getSnapshot:ue};return Ie.queue=De,oi(lu.bind(null,we,De,ae),[ae]),we.flags|=2048,qi(9,Ua.bind(null,we,De,ge,ue),void 0,null),ge},useId:function(){var ae=Vr(),ue=Zr.identifierPrefix;if(fr){var ge=Li,we=on;ge=(we&~(1<<32-jn(we)-1)).toString(32)+ge,ue=":"+ue+"R"+ge,ge=jo++,0<ge&&(ue+="H"+ge.toString(32)),ue+=":"}else ge=di++,ue=":"+ue+"r"+ge.toString(32)+":";return ae.memoizedState=ue},unstable_isNewReconciler:!1},mu={readContext:_i,useCallback:hu,useContext:_i,useEffect:Oc,useImperativeHandle:kc,useInsertionEffect:Fc,useLayoutEffect:fu,useMemo:Ei,useReducer:ka,useRef:uu,useState:function(){return ka(ea)},useDebugValue:zl,useDeferredValue:function(ae){var ue=Si();return Vl(ue,_r.memoizedState,ae)},useTransition:function(){var ae=ka(ea)[0],ue=Si().memoizedState;return[ae,ue]},useMutableSource:Lc,useSyncExternalStore:$c,useId:Ao,unstable_isNewReconciler:!1},gu={readContext:_i,useCallback:hu,useContext:_i,useEffect:Oc,useImperativeHandle:kc,useInsertionEffect:Fc,useLayoutEffect:fu,useMemo:Ei,useReducer:Ro,useRef:uu,useState:function(){return Ro(ea)},useDebugValue:zl,useDeferredValue:function(ae){var ue=Si();return _r===null?ue.memoizedState=ae:Vl(ue,_r.memoizedState,ae)},useTransition:function(){var ae=Ro(ea)[0],ue=Si().memoizedState;return[ae,ue]},useMutableSource:Lc,useSyncExternalStore:$c,useId:Ao,unstable_isNewReconciler:!1};function Di(ae,ue){if(ae&&ae.defaultProps){ue=et({},ue),ae=ae.defaultProps;for(var ge in ae)ue[ge]===void 0&&(ue[ge]=ae[ge]);return ue}return ue}function Va(ae,ue,ge,we){ue=ae.memoizedState,ge=ge(we,ue),ge=ge==null?ue:et({},ue,ge),ae.memoizedState=ge,ae.lanes===0&&(ae.updateQueue.baseState=ge)}var ql={isMounted:function(ae){return(ae=ae._reactInternals)?Ki(ae)===ae:!1},enqueueSetState:function(ae,ue,ge){ae=ae._reactInternals;var we=wi(),Ie=ia(ae),De=rr(we,Ie);De.payload=ue,ge!=null&&(De.callback=ge),ue=pr(ae,De,Ie),ue!==null&&(Lo(ue,ae,Ie,we),Yr(ue,ae,Ie))},enqueueReplaceState:function(ae,ue,ge){ae=ae._reactInternals;var we=wi(),Ie=ia(ae),De=rr(we,Ie);De.tag=1,De.payload=ue,ge!=null&&(De.callback=ge),ue=pr(ae,De,Ie),ue!==null&&(Lo(ue,ae,Ie,we),Yr(ue,ae,Ie))},enqueueForceUpdate:function(ae,ue){ae=ae._reactInternals;var ge=wi(),we=ia(ae),Ie=rr(ge,we);Ie.tag=2,ue!=null&&(Ie.callback=ue),ue=pr(ae,Ie,we),ue!==null&&(Lo(ue,ae,we,ge),Yr(ue,ae,we))}};function vu(ae,ue,ge,we,Ie,De,Ge){return ae=ae.stateNode,typeof ae.shouldComponentUpdate=="function"?ae.shouldComponentUpdate(we,De,Ge):ue.prototype&&ue.prototype.isPureReactComponent?!as(ge,we)||!as(Ie,De):!0}function de(ae,ue,ge){var we=!1,Ie=_o,De=ue.contextType;return typeof De=="object"&&De!==null?De=_i(De):(Ie=Xr(ue)?xo:Ur.current,we=ue.contextTypes,De=(we=we!=null)?hs(ae,Ie):_o),ue=new ue(ge,De),ae.memoizedState=ue.state!==null&&ue.state!==void 0?ue.state:null,ue.updater=ql,ae.stateNode=ue,ue._reactInternals=ae,we&&(ae=ae.stateNode,ae.__reactInternalMemoizedUnmaskedChildContext=Ie,ae.__reactInternalMemoizedMaskedChildContext=De),ue}function he(ae,ue,ge,we){ae=ue.state,typeof ue.componentWillReceiveProps=="function"&&ue.componentWillReceiveProps(ge,we),typeof ue.UNSAFE_componentWillReceiveProps=="function"&&ue.UNSAFE_componentWillReceiveProps(ge,we),ue.state!==ae&&ql.enqueueReplaceState(ue,ue.state,null)}function be(ae,ue,ge,we){var Ie=ae.stateNode;Ie.props=ge,Ie.state=ae.memoizedState,Ie.refs={},Vn(ae);var De=ue.contextType;typeof De=="object"&&De!==null?Ie.context=_i(De):(De=Xr(ue)?xo:Ur.current,Ie.context=hs(ae,De)),Ie.state=ae.memoizedState,De=ue.getDerivedStateFromProps,typeof De=="function"&&(Va(ae,ue,De,ge),Ie.state=ae.memoizedState),typeof ue.getDerivedStateFromProps=="function"||typeof Ie.getSnapshotBeforeUpdate=="function"||typeof Ie.UNSAFE_componentWillMount!="function"&&typeof Ie.componentWillMount!="function"||(ue=Ie.state,typeof Ie.componentWillMount=="function"&&Ie.componentWillMount(),typeof Ie.UNSAFE_componentWillMount=="function"&&Ie.UNSAFE_componentWillMount(),ue!==Ie.state&&ql.enqueueReplaceState(Ie,Ie.state,null),yr(ae,ge,Ie,we),Ie.state=ae.memoizedState),typeof Ie.componentDidMount=="function"&&(ae.flags|=4194308)}function Ae(ae,ue){try{var ge="",we=ue;do ge+=St(we),we=we.return;while(we);var Ie=ge}catch(De){Ie=`
Error generating stack: `+De.message+`
`+De.stack}return{value:ae,source:ue,stack:Ie,digest:null}}function Le(ae,ue,ge){return{value:ae,source:null,stack:ge??null,digest:ue??null}}function Be(ae,ue){try{console.error(ue.value)}catch(ge){setTimeout(function(){throw ge})}}var Qe=typeof WeakMap=="function"?WeakMap:Map;function ht(ae,ue,ge){ge=rr(-1,ge),ge.tag=3,ge.payload={element:null};var we=ue.value;return ge.callback=function(){wu||(wu=!0,Ju=we),Be(ae,ue)},ge}function Dt(ae,ue,ge){ge=rr(-1,ge),ge.tag=3;var we=ae.type.getDerivedStateFromError;if(typeof we=="function"){var Ie=ue.value;ge.payload=function(){return we(Ie)},ge.callback=function(){Be(ae,ue)}}var De=ae.stateNode;return De!==null&&typeof De.componentDidCatch=="function"&&(ge.callback=function(){Be(ae,ue),typeof we!="function"&&(na===null?na=new Set([this]):na.add(this));var Ge=ue.stack;this.componentDidCatch(ue.value,{componentStack:Ge!==null?Ge:""})}),ge}function Kt(ae,ue,ge){var we=ae.pingCache;if(we===null){we=ae.pingCache=new Qe;var Ie=new Set;we.set(ue,Ie)}else Ie=we.get(ue),Ie===void 0&&(Ie=new Set,we.set(ue,Ie));Ie.has(ge)||(Ie.add(ge),ae=rd.bind(null,ae,ue,ge),ue.then(ae,ae))}function xn(ae){do{var ue;if((ue=ae.tag===13)&&(ue=ae.memoizedState,ue=ue!==null?ue.dehydrated!==null:!0),ue)return ae;ae=ae.return}while(ae!==null);return null}function Un(ae,ue,ge,we,Ie){return ae.mode&1?(ae.flags|=65536,ae.lanes=Ie,ae):(ae===ue?ae.flags|=65536:(ae.flags|=128,ge.flags|=131072,ge.flags&=-52805,ge.tag===1&&(ge.alternate===null?ge.tag=17:(ue=rr(-1,1),ue.tag=2,pr(ge,ue,1))),ge.lanes|=1),ae)}var Ln=Pe.ReactCurrentOwner,Wn=!1;function hn(ae,ue,ge,we){ue.child=ae===null?Ia(ue,null,ge,we):vs(ue,ae.child,ge,we)}function Gr(ae,ue,ge,we,Ie){ge=ge.render;var De=ue.ref;return Ho(ue,Ie),we=Fa(ae,ue,ge,we,De,Ie),ge=Ic(),ae!==null&&!Wn?(ue.updateQueue=ae.updateQueue,ue.flags&=-2053,ae.lanes&=~Ie,Rs(ae,ue,Ie)):(fr&&ge&&wc(ue),ue.flags|=1,hn(ae,ue,we,Ie),ue.child)}function bi(ae,ue,ge,we,Ie){if(ae===null){var De=ge.type;return typeof De=="function"&&!af(De)&&De.defaultProps===void 0&&ge.compare===null&&ge.defaultProps===void 0?(ue.tag=15,ue.type=De,bt(ae,ue,De,we,Ie)):(ae=Pu(ge.type,null,we,ue,ue.mode,Ie),ae.ref=ue.ref,ae.return=ue,ue.child=ae)}if(De=ae.child,!(ae.lanes&Ie)){var Ge=De.memoizedProps;if(ge=ge.compare,ge=ge!==null?ge:as,ge(Ge,we)&&ae.ref===ue.ref)return Rs(ae,ue,Ie)}return ue.flags|=1,ae=sa(De,we),ae.ref=ue.ref,ae.return=ue,ue.child=ae}function bt(ae,ue,ge,we,Ie){if(ae!==null){var De=ae.memoizedProps;if(as(De,we)&&ae.ref===ue.ref)if(Wn=!1,ue.pendingProps=we=De,(ae.lanes&Ie)!==0)ae.flags&131072&&(Wn=!0);else return ue.lanes=ae.lanes,Rs(ae,ue,Ie)}return fn(ae,ue,ge,we,Ie)}function vt(ae,ue,ge){var we=ue.pendingProps,Ie=we.children,De=ae!==null?ae.memoizedState:null;if(we.mode==="hidden")if(!(ue.mode&1))ue.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(Yl,Xi),Xi|=ge;else{if(!(ge&1073741824))return ae=De!==null?De.baseLanes|ge:ge,ue.lanes=ue.childLanes=1073741824,ue.memoizedState={baseLanes:ae,cachePool:null,transitions:null},ue.updateQueue=null,or(Yl,Xi),Xi|=ae,null;ue.memoizedState={baseLanes:0,cachePool:null,transitions:null},we=De!==null?De.baseLanes:ge,or(Yl,Xi),Xi|=we}else De!==null?(we=De.baseLanes|ge,ue.memoizedState=null):we=ge,or(Yl,Xi),Xi|=we;return hn(ae,ue,Ie,ge),ue.child}function Pt(ae,ue){var ge=ue.ref;(ae===null&&ge!==null||ae!==null&&ae.ref!==ge)&&(ue.flags|=512,ue.flags|=2097152)}function fn(ae,ue,ge,we,Ie){var De=Xr(ge)?xo:Ur.current;return De=hs(ue,De),Ho(ue,Ie),ge=Fa(ae,ue,ge,we,De,Ie),we=Ic(),ae!==null&&!Wn?(ue.updateQueue=ae.updateQueue,ue.flags&=-2053,ae.lanes&=~Ie,Rs(ae,ue,Ie)):(fr&&we&&wc(ue),ue.flags|=1,hn(ae,ue,ge,Ie),ue.child)}function Tn(ae,ue,ge,we,Ie){if(Xr(ge)){var De=!0;ps(ue)}else De=!1;if(Ho(ue,Ie),ue.stateNode===null)_u(ae,ue),de(ue,ge,we),be(ue,ge,we,Ie),we=!0;else if(ae===null){var Ge=ue.stateNode,Je=ue.memoizedProps;Ge.props=Je;var st=Ge.context,Tt=ge.contextType;typeof Tt=="object"&&Tt!==null?Tt=_i(Tt):(Tt=Xr(ge)?xo:Ur.current,Tt=hs(ue,Tt));var Ht=ge.getDerivedStateFromProps,Yt=typeof Ht=="function"||typeof Ge.getSnapshotBeforeUpdate=="function";Yt||typeof Ge.UNSAFE_componentWillReceiveProps!="function"&&typeof Ge.componentWillReceiveProps!="function"||(Je!==we||st!==Tt)&&he(ue,Ge,we,Tt),nr=!1;var Vt=ue.memoizedState;Ge.state=Vt,yr(ue,we,Ge,Ie),st=ue.memoizedState,Je!==we||Vt!==st||ni.current||nr?(typeof Ht=="function"&&(Va(ue,ge,Ht,we),st=ue.memoizedState),(Je=nr||vu(ue,ge,Je,we,Vt,st,Tt))?(Yt||typeof Ge.UNSAFE_componentWillMount!="function"&&typeof Ge.componentWillMount!="function"||(typeof Ge.componentWillMount=="function"&&Ge.componentWillMount(),typeof Ge.UNSAFE_componentWillMount=="function"&&Ge.UNSAFE_componentWillMount()),typeof Ge.componentDidMount=="function"&&(ue.flags|=4194308)):(typeof Ge.componentDidMount=="function"&&(ue.flags|=4194308),ue.memoizedProps=we,ue.memoizedState=st),Ge.props=we,Ge.state=st,Ge.context=Tt,we=Je):(typeof Ge.componentDidMount=="function"&&(ue.flags|=4194308),we=!1)}else{Ge=ue.stateNode,br(ae,ue),Je=ue.memoizedProps,Tt=ue.type===ue.elementType?Je:Di(ue.type,Je),Ge.props=Tt,Yt=ue.pendingProps,Vt=Ge.context,st=ge.contextType,typeof st=="object"&&st!==null?st=_i(st):(st=Xr(ge)?xo:Ur.current,st=hs(ue,st));var vn=ge.getDerivedStateFromProps;(Ht=typeof vn=="function"||typeof Ge.getSnapshotBeforeUpdate=="function")||typeof Ge.UNSAFE_componentWillReceiveProps!="function"&&typeof Ge.componentWillReceiveProps!="function"||(Je!==Yt||Vt!==st)&&he(ue,Ge,we,st),nr=!1,Vt=ue.memoizedState,Ge.state=Vt,yr(ue,we,Ge,Ie);var bn=ue.memoizedState;Je!==Yt||Vt!==bn||ni.current||nr?(typeof vn=="function"&&(Va(ue,ge,vn,we),bn=ue.memoizedState),(Tt=nr||vu(ue,ge,Tt,we,Vt,bn,st)||!1)?(Ht||typeof Ge.UNSAFE_componentWillUpdate!="function"&&typeof Ge.componentWillUpdate!="function"||(typeof Ge.componentWillUpdate=="function"&&Ge.componentWillUpdate(we,bn,st),typeof Ge.UNSAFE_componentWillUpdate=="function"&&Ge.UNSAFE_componentWillUpdate(we,bn,st)),typeof Ge.componentDidUpdate=="function"&&(ue.flags|=4),typeof Ge.getSnapshotBeforeUpdate=="function"&&(ue.flags|=1024)):(typeof Ge.componentDidUpdate!="function"||Je===ae.memoizedProps&&Vt===ae.memoizedState||(ue.flags|=4),typeof Ge.getSnapshotBeforeUpdate!="function"||Je===ae.memoizedProps&&Vt===ae.memoizedState||(ue.flags|=1024),ue.memoizedProps=we,ue.memoizedState=bn),Ge.props=we,Ge.state=bn,Ge.context=st,we=Tt):(typeof Ge.componentDidUpdate!="function"||Je===ae.memoizedProps&&Vt===ae.memoizedState||(ue.flags|=4),typeof Ge.getSnapshotBeforeUpdate!="function"||Je===ae.memoizedProps&&Vt===ae.memoizedState||(ue.flags|=1024),we=!1)}return zn(ae,ue,ge,we,De,Ie)}function zn(ae,ue,ge,we,Ie,De){Pt(ae,ue);var Ge=(ue.flags&128)!==0;if(!we&&!Ge)return Ie&&Ec(ue,ge,!1),Rs(ae,ue,De);we=ue.stateNode,Ln.current=ue;var Je=Ge&&typeof ge.getDerivedStateFromError!="function"?null:we.render();return ue.flags|=1,ae!==null&&Ge?(ue.child=vs(ue,ae.child,null,De),ue.child=vs(ue,null,Je,De)):hn(ae,ue,Je,De),ue.memoizedState=we.state,Ie&&Ec(ue,ge,!0),ue.child}function Bn(ae){var ue=ae.stateNode;ue.pendingContext?Sc(ae,ue.pendingContext,ue.pendingContext!==ue.context):ue.context&&Sc(ae,ue.context,!1),Na(ae,ue.containerInfo)}function Zn(ae,ue,ge,we,Ie){return Go(),Ys(Ie),ue.flags|=256,hn(ae,ue,ge,we),ue.child}var Rr={dehydrated:null,treeContext:null,retryLane:0};function Kn(ae){return{baseLanes:ae,cachePool:null,transitions:null}}function Co(ae,ue,ge){var we=ue.pendingProps,Ie=dr.current,De=!1,Ge=(ue.flags&128)!==0,Je;if((Je=Ge)||(Je=ae!==null&&ae.memoizedState===null?!1:(Ie&2)!==0),Je?(De=!0,ue.flags&=-129):(ae===null||ae.memoizedState!==null)&&(Ie|=1),or(dr,Ie&1),ae===null)return kl(ue),ae=ue.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null)?(ue.mode&1?ae.data==="$!"?ue.lanes=8:ue.lanes=1073741824:ue.lanes=1,null):(Ge=we.children,ae=we.fallback,De?(we=ue.mode,De=ue.child,Ge={mode:"hidden",children:Ge},!(we&1)&&De!==null?(De.childLanes=0,De.pendingProps=Ge):De=Iu(Ge,we,0,null),ae=qa(ae,we,ge,null),De.return=ue,ae.return=ue,De.sibling=ae,ue.child=De,ue.child.memoizedState=Kn(ge),ue.memoizedState=Rr,ae):Uc(ue,Ge));if(Ie=ae.memoizedState,Ie!==null&&(Je=Ie.dehydrated,Je!==null))return Wf(ae,ue,Ge,we,Je,Ie,ge);if(De){De=we.fallback,Ge=ue.mode,Ie=ae.child,Je=Ie.sibling;var st={mode:"hidden",children:we.children};return!(Ge&1)&&ue.child!==Ie?(we=ue.child,we.childLanes=0,we.pendingProps=st,ue.deletions=null):(we=sa(Ie,st),we.subtreeFlags=Ie.subtreeFlags&14680064),Je!==null?De=sa(Je,De):(De=qa(De,Ge,ge,null),De.flags|=2),De.return=ue,we.return=ue,we.sibling=De,ue.child=we,we=De,De=ue.child,Ge=ae.child.memoizedState,Ge=Ge===null?Kn(ge):{baseLanes:Ge.baseLanes|ge,cachePool:null,transitions:Ge.transitions},De.memoizedState=Ge,De.childLanes=ae.childLanes&~ge,ue.memoizedState=Rr,we}return De=ae.child,ae=De.sibling,we=sa(De,{mode:"visible",children:we.children}),!(ue.mode&1)&&(we.lanes=ge),we.return=ue,we.sibling=null,ae!==null&&(ge=ue.deletions,ge===null?(ue.deletions=[ae],ue.flags|=16):ge.push(ae)),ue.child=we,ue.memoizedState=null,we}function Uc(ae,ue){return ue=Iu({mode:"visible",children:ue},ae.mode,0,null),ue.return=ae,ae.child=ue}function yu(ae,ue,ge,we){return we!==null&&Ys(we),vs(ue,ae.child,null,ge),ae=Uc(ue,ue.pendingProps.children),ae.flags|=2,ue.memoizedState=null,ae}function Wf(ae,ue,ge,we,Ie,De,Ge){if(ge)return ue.flags&256?(ue.flags&=-257,we=Le(Error(K(422))),yu(ae,ue,Ge,we)):ue.memoizedState!==null?(ue.child=ae.child,ue.flags|=128,null):(De=we.fallback,Ie=ue.mode,we=Iu({mode:"visible",children:we.children},Ie,0,null),De=qa(De,Ie,Ge,null),De.flags|=2,we.return=ue,De.return=ue,we.sibling=De,ue.child=we,ue.mode&1&&vs(ue,ae.child,null,Ge),ue.child.memoizedState=Kn(Ge),ue.memoizedState=Rr,De);if(!(ue.mode&1))return yu(ae,ue,Ge,null);if(Ie.data==="$!"){if(we=Ie.nextSibling&&Ie.nextSibling.dataset,we)var Je=we.dgst;return we=Je,De=Error(K(419)),we=Le(De,we,void 0),yu(ae,ue,Ge,we)}if(Je=(Ge&ae.childLanes)!==0,Wn||Je){if(we=Zr,we!==null){switch(Ge&-Ge){case 4:Ie=2;break;case 16:Ie=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ie=32;break;case 536870912:Ie=268435456;break;default:Ie=0}Ie=Ie&(we.suspendedLanes|Ge)?0:Ie,Ie!==0&&Ie!==De.retryLane&&(De.retryLane=Ie,Hi(ae,Ie),Lo(we,ae,Ie,-1))}return sf(),we=Le(Error(K(421))),yu(ae,ue,Ge,we)}return Ie.data==="$?"?(ue.flags|=128,ue.child=ae.child,ue=id.bind(null,ae),Ie._reactRetry=ue,null):(ae=De.treeContext,ii=vo(Ie.nextSibling),Br=ue,fr=!0,$i=null,ae!==null&&(ri[Or++]=on,ri[Or++]=Li,ri[Or++]=gs,on=ae.id,Li=ae.overflow,gs=ue),ue=Uc(ue,we.children),ue.flags|=4096,ue)}function pf(ae,ue,ge){ae.lanes|=ue;var we=ae.alternate;we!==null&&(we.lanes|=ue),$a(ae.return,ue,ge)}function Hu(ae,ue,ge,we,Ie){var De=ae.memoizedState;De===null?ae.memoizedState={isBackwards:ue,rendering:null,renderingStartTime:0,last:we,tail:ge,tailMode:Ie}:(De.isBackwards=ue,De.rendering=null,De.renderingStartTime=0,De.last=we,De.tail=ge,De.tailMode=Ie)}function mf(ae,ue,ge){var we=ue.pendingProps,Ie=we.revealOrder,De=we.tail;if(hn(ae,ue,we.children,ge),we=dr.current,we&2)we=we&1|2,ue.flags|=128;else{if(ae!==null&&ae.flags&128)e:for(ae=ue.child;ae!==null;){if(ae.tag===13)ae.memoizedState!==null&&pf(ae,ge,ue);else if(ae.tag===19)pf(ae,ge,ue);else if(ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===ue)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===ue)break e;ae=ae.return}ae.sibling.return=ae.return,ae=ae.sibling}we&=1}if(or(dr,we),!(ue.mode&1))ue.memoizedState=null;else switch(Ie){case"forwards":for(ge=ue.child,Ie=null;ge!==null;)ae=ge.alternate,ae!==null&&Wi(ae)===null&&(Ie=ge),ge=ge.sibling;ge=Ie,ge===null?(Ie=ue.child,ue.child=null):(Ie=ge.sibling,ge.sibling=null),Hu(ue,!1,Ie,ge,De);break;case"backwards":for(ge=null,Ie=ue.child,ue.child=null;Ie!==null;){if(ae=Ie.alternate,ae!==null&&Wi(ae)===null){ue.child=Ie;break}ae=Ie.sibling,Ie.sibling=ge,ge=Ie,Ie=ae}Hu(ue,!0,ge,null,De);break;case"together":Hu(ue,!1,null,null,void 0);break;default:ue.memoizedState=null}return ue.child}function _u(ae,ue){!(ue.mode&1)&&ae!==null&&(ae.alternate=null,ue.alternate=null,ue.flags|=2)}function Rs(ae,ue,ge){if(ae!==null&&(ue.dependencies=ae.dependencies),Ga|=ue.lanes,!(ge&ue.childLanes))return null;if(ae!==null&&ue.child!==ae.child)throw Error(K(153));if(ue.child!==null){for(ae=ue.child,ge=sa(ae,ae.pendingProps),ue.child=ge,ge.return=ue;ae.sibling!==null;)ae=ae.sibling,ge=ge.sibling=sa(ae,ae.pendingProps),ge.return=ue;ge.sibling=null}return ue.child}function jf(ae,ue,ge){switch(ue.tag){case 3:Bn(ue),Go();break;case 5:bs(ue);break;case 1:Xr(ue.type)&&ps(ue);break;case 4:Na(ue,ue.stateNode.containerInfo);break;case 10:var we=ue.type._context,Ie=ue.memoizedProps.value;or(ys,we._currentValue),we._currentValue=Ie;break;case 13:if(we=ue.memoizedState,we!==null)return we.dehydrated!==null?(or(dr,dr.current&1),ue.flags|=128,null):ge&ue.child.childLanes?Co(ae,ue,ge):(or(dr,dr.current&1),ae=Rs(ae,ue,ge),ae!==null?ae.sibling:null);or(dr,dr.current&1);break;case 19:if(we=(ge&ue.childLanes)!==0,ae.flags&128){if(we)return mf(ae,ue,ge);ue.flags|=128}if(Ie=ue.memoizedState,Ie!==null&&(Ie.rendering=null,Ie.tail=null,Ie.lastEffect=null),or(dr,dr.current),we)break;return null;case 22:case 23:return ue.lanes=0,vt(ae,ue,ge)}return Rs(ae,ue,ge)}var gf,Wu,vf,yf;gf=function(ae,ue){for(var ge=ue.child;ge!==null;){if(ge.tag===5||ge.tag===6)ae.appendChild(ge.stateNode);else if(ge.tag!==4&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===ue)break;for(;ge.sibling===null;){if(ge.return===null||ge.return===ue)return;ge=ge.return}ge.sibling.return=ge.return,ge=ge.sibling}},Wu=function(){},vf=function(ae,ue,ge,we){var Ie=ae.memoizedProps;if(Ie!==we){ae=ue.stateNode,Tr(xi.current);var De=null;switch(ge){case"input":Ie=Ze(ae,Ie),we=Ze(ae,we),De=[];break;case"select":Ie=et({},Ie,{value:void 0}),we=et({},we,{value:void 0}),De=[];break;case"textarea":Ie=He(ae,Ie),we=He(ae,we),De=[];break;default:typeof Ie.onClick!="function"&&typeof we.onClick=="function"&&(ae.onclick=wa)}ot(ge,we);var Ge;ge=null;for(Tt in Ie)if(!we.hasOwnProperty(Tt)&&Ie.hasOwnProperty(Tt)&&Ie[Tt]!=null)if(Tt==="style"){var Je=Ie[Tt];for(Ge in Je)Je.hasOwnProperty(Ge)&&(ge||(ge={}),ge[Ge]="")}else Tt!=="dangerouslySetInnerHTML"&&Tt!=="children"&&Tt!=="suppressContentEditableWarning"&&Tt!=="suppressHydrationWarning"&&Tt!=="autoFocus"&&(ne.hasOwnProperty(Tt)?De||(De=[]):(De=De||[]).push(Tt,null));for(Tt in we){var st=we[Tt];if(Je=Ie!=null?Ie[Tt]:void 0,we.hasOwnProperty(Tt)&&st!==Je&&(st!=null||Je!=null))if(Tt==="style")if(Je){for(Ge in Je)!Je.hasOwnProperty(Ge)||st&&st.hasOwnProperty(Ge)||(ge||(ge={}),ge[Ge]="");for(Ge in st)st.hasOwnProperty(Ge)&&Je[Ge]!==st[Ge]&&(ge||(ge={}),ge[Ge]=st[Ge])}else ge||(De||(De=[]),De.push(Tt,ge)),ge=st;else Tt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,Je=Je?Je.__html:void 0,st!=null&&Je!==st&&(De=De||[]).push(Tt,st)):Tt==="children"?typeof st!="string"&&typeof st!="number"||(De=De||[]).push(Tt,""+st):Tt!=="suppressContentEditableWarning"&&Tt!=="suppressHydrationWarning"&&(ne.hasOwnProperty(Tt)?(st!=null&&Tt==="onScroll"&&ar("scroll",ae),De||Je===st||(De=[])):(De=De||[]).push(Tt,st))}ge&&(De=De||[]).push("style",ge);var Tt=De;(ue.updateQueue=Tt)&&(ue.flags|=4)}},yf=function(ae,ue,ge,we){ge!==we&&(ue.flags|=4)};function Bc(ae,ue){if(!fr)switch(ae.tailMode){case"hidden":ue=ae.tail;for(var ge=null;ue!==null;)ue.alternate!==null&&(ge=ue),ue=ue.sibling;ge===null?ae.tail=null:ge.sibling=null;break;case"collapsed":ge=ae.tail;for(var we=null;ge!==null;)ge.alternate!==null&&(we=ge),ge=ge.sibling;we===null?ue||ae.tail===null?ae.tail=null:ae.tail.sibling=null:we.sibling=null}}function hi(ae){var ue=ae.alternate!==null&&ae.alternate.child===ae.child,ge=0,we=0;if(ue)for(var Ie=ae.child;Ie!==null;)ge|=Ie.lanes|Ie.childLanes,we|=Ie.subtreeFlags&14680064,we|=Ie.flags&14680064,Ie.return=ae,Ie=Ie.sibling;else for(Ie=ae.child;Ie!==null;)ge|=Ie.lanes|Ie.childLanes,we|=Ie.subtreeFlags,we|=Ie.flags,Ie.return=ae,Ie=Ie.sibling;return ae.subtreeFlags|=we,ae.childLanes=ge,ue}function qf(ae,ue,ge){var we=ue.pendingProps;switch(Eo(ue),ue.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(ue),null;case 1:return Xr(ue.type)&&Ma(),hi(ue),null;case 3:return we=ue.stateNode,Wo(),lr(ni),lr(Ur),oo(),we.pendingContext&&(we.context=we.pendingContext,we.pendingContext=null),(ae===null||ae.child===null)&&(Xs(ue)?ue.flags|=4:ae===null||ae.memoizedState.isDehydrated&&!(ue.flags&256)||(ue.flags|=1024,$i!==null&&(nf($i),$i=null))),Wu(ae,ue),hi(ue),null;case 5:Qs(ue);var Ie=Tr(Mo.current);if(ge=ue.type,ae!==null&&ue.stateNode!=null)vf(ae,ue,ge,we,Ie),ae.ref!==ue.ref&&(ue.flags|=512,ue.flags|=2097152);else{if(!we){if(ue.stateNode===null)throw Error(K(166));return hi(ue),null}if(ae=Tr(xi.current),Xs(ue)){we=ue.stateNode,ge=ue.type;var De=ue.memoizedProps;switch(we[Pr]=ue,we[qs]=De,ae=(ue.mode&1)!==0,ge){case"dialog":ar("cancel",we),ar("close",we);break;case"iframe":case"object":case"embed":ar("load",we);break;case"video":case"audio":for(Ie=0;Ie<zo.length;Ie++)ar(zo[Ie],we);break;case"source":ar("error",we);break;case"img":case"image":case"link":ar("error",we),ar("load",we);break;case"details":ar("toggle",we);break;case"input":sn(we,De),ar("invalid",we);break;case"select":we._wrapperState={wasMultiple:!!De.multiple},ar("invalid",we);break;case"textarea":tt(we,De),ar("invalid",we)}ot(ge,De),Ie=null;for(var Ge in De)if(De.hasOwnProperty(Ge)){var Je=De[Ge];Ge==="children"?typeof Je=="string"?we.textContent!==Je&&(De.suppressHydrationWarning!==!0&&ba(we.textContent,Je,ae),Ie=["children",Je]):typeof Je=="number"&&we.textContent!==""+Je&&(De.suppressHydrationWarning!==!0&&ba(we.textContent,Je,ae),Ie=["children",""+Je]):ne.hasOwnProperty(Ge)&&Je!=null&&Ge==="onScroll"&&ar("scroll",we)}switch(ge){case"input":un(we),Gt(we,De,!0);break;case"textarea":un(we),Lt(we);break;case"select":case"option":break;default:typeof De.onClick=="function"&&(we.onclick=wa)}we=Ie,ue.updateQueue=we,we!==null&&(ue.flags|=4)}else{Ge=Ie.nodeType===9?Ie:Ie.ownerDocument,ae==="http://www.w3.org/1999/xhtml"&&(ae=Ct(ge)),ae==="http://www.w3.org/1999/xhtml"?ge==="script"?(ae=Ge.createElement("div"),ae.innerHTML="<script><\/script>",ae=ae.removeChild(ae.firstChild)):typeof we.is=="string"?ae=Ge.createElement(ge,{is:we.is}):(ae=Ge.createElement(ge),ge==="select"&&(Ge=ae,we.multiple?Ge.multiple=!0:we.size&&(Ge.size=we.size))):ae=Ge.createElementNS(ae,ge),ae[Pr]=ue,ae[qs]=we,gf(ae,ue,!1,!1),ue.stateNode=ae;e:{switch(Ge=$t(ge,we),ge){case"dialog":ar("cancel",ae),ar("close",ae),Ie=we;break;case"iframe":case"object":case"embed":ar("load",ae),Ie=we;break;case"video":case"audio":for(Ie=0;Ie<zo.length;Ie++)ar(zo[Ie],ae);Ie=we;break;case"source":ar("error",ae),Ie=we;break;case"img":case"image":case"link":ar("error",ae),ar("load",ae),Ie=we;break;case"details":ar("toggle",ae),Ie=we;break;case"input":sn(ae,we),Ie=Ze(ae,we),ar("invalid",ae);break;case"option":Ie=we;break;case"select":ae._wrapperState={wasMultiple:!!we.multiple},Ie=et({},we,{value:void 0}),ar("invalid",ae);break;case"textarea":tt(ae,we),Ie=He(ae,we),ar("invalid",ae);break;default:Ie=we}ot(ge,Ie),Je=Ie;for(De in Je)if(Je.hasOwnProperty(De)){var st=Je[De];De==="style"?yn(ae,st):De==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&Qt(ae,st)):De==="children"?typeof st=="string"?(ge!=="textarea"||st!=="")&&Rn(ae,st):typeof st=="number"&&Rn(ae,""+st):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(ne.hasOwnProperty(De)?st!=null&&De==="onScroll"&&ar("scroll",ae):st!=null&&Re(ae,De,st,Ge))}switch(ge){case"input":un(ae),Gt(ae,we,!1);break;case"textarea":un(ae),Lt(ae);break;case"option":we.value!=null&&ae.setAttribute("value",""+kt(we.value));break;case"select":ae.multiple=!!we.multiple,De=we.value,De!=null?Xe(ae,!!we.multiple,De,!1):we.defaultValue!=null&&Xe(ae,!!we.multiple,we.defaultValue,!0);break;default:typeof Ie.onClick=="function"&&(ae.onclick=wa)}switch(ge){case"button":case"input":case"select":case"textarea":we=!!we.autoFocus;break e;case"img":we=!0;break e;default:we=!1}}we&&(ue.flags|=4)}ue.ref!==null&&(ue.flags|=512,ue.flags|=2097152)}return hi(ue),null;case 6:if(ae&&ue.stateNode!=null)yf(ae,ue,ae.memoizedProps,we);else{if(typeof we!="string"&&ue.stateNode===null)throw Error(K(166));if(ge=Tr(Mo.current),Tr(xi.current),Xs(ue)){if(we=ue.stateNode,ge=ue.memoizedProps,we[Pr]=ue,(De=we.nodeValue!==ge)&&(ae=Br,ae!==null))switch(ae.tag){case 3:ba(we.nodeValue,ge,(ae.mode&1)!==0);break;case 5:ae.memoizedProps.suppressHydrationWarning!==!0&&ba(we.nodeValue,ge,(ae.mode&1)!==0)}De&&(ue.flags|=4)}else we=(ge.nodeType===9?ge:ge.ownerDocument).createTextNode(we),we[Pr]=ue,ue.stateNode=we}return hi(ue),null;case 13:if(lr(dr),we=ue.memoizedState,ae===null||ae.memoizedState!==null&&ae.memoizedState.dehydrated!==null){if(fr&&ii!==null&&ue.mode&1&&!(ue.flags&128))Rc(),Go(),ue.flags|=98560,De=!1;else if(De=Xs(ue),we!==null&&we.dehydrated!==null){if(ae===null){if(!De)throw Error(K(318));if(De=ue.memoizedState,De=De!==null?De.dehydrated:null,!De)throw Error(K(317));De[Pr]=ue}else Go(),!(ue.flags&128)&&(ue.memoizedState=null),ue.flags|=4;hi(ue),De=!1}else $i!==null&&(nf($i),$i=null),De=!0;if(!De)return ue.flags&65536?ue:null}return ue.flags&128?(ue.lanes=ge,ue):(we=we!==null,we!==(ae!==null&&ae.memoizedState!==null)&&we&&(ue.child.flags|=8192,ue.mode&1&&(ae===null||dr.current&1?Hr===0&&(Hr=3):sf())),ue.updateQueue!==null&&(ue.flags|=4),hi(ue),null);case 4:return Wo(),Wu(ae,ue),ae===null&&Hs(ue.stateNode.containerInfo),hi(ue),null;case 10:return La(ue.type._context),hi(ue),null;case 17:return Xr(ue.type)&&Ma(),hi(ue),null;case 19:if(lr(dr),De=ue.memoizedState,De===null)return hi(ue),null;if(we=(ue.flags&128)!==0,Ge=De.rendering,Ge===null)if(we)Bc(De,!1);else{if(Hr!==0||ae!==null&&ae.flags&128)for(ae=ue.child;ae!==null;){if(Ge=Wi(ae),Ge!==null){for(ue.flags|=128,Bc(De,!1),we=Ge.updateQueue,we!==null&&(ue.updateQueue=we,ue.flags|=4),ue.subtreeFlags=0,we=ge,ge=ue.child;ge!==null;)De=ge,ae=we,De.flags&=14680066,Ge=De.alternate,Ge===null?(De.childLanes=0,De.lanes=ae,De.child=null,De.subtreeFlags=0,De.memoizedProps=null,De.memoizedState=null,De.updateQueue=null,De.dependencies=null,De.stateNode=null):(De.childLanes=Ge.childLanes,De.lanes=Ge.lanes,De.child=Ge.child,De.subtreeFlags=0,De.deletions=null,De.memoizedProps=Ge.memoizedProps,De.memoizedState=Ge.memoizedState,De.updateQueue=Ge.updateQueue,De.type=Ge.type,ae=Ge.dependencies,De.dependencies=ae===null?null:{lanes:ae.lanes,firstContext:ae.firstContext}),ge=ge.sibling;return or(dr,dr.current&1|2),ue.child}ae=ae.sibling}De.tail!==null&&ft()>Kl&&(ue.flags|=128,we=!0,Bc(De,!1),ue.lanes=4194304)}else{if(!we)if(ae=Wi(Ge),ae!==null){if(ue.flags|=128,we=!0,ge=ae.updateQueue,ge!==null&&(ue.updateQueue=ge,ue.flags|=4),Bc(De,!0),De.tail===null&&De.tailMode==="hidden"&&!Ge.alternate&&!fr)return hi(ue),null}else 2*ft()-De.renderingStartTime>Kl&&ge!==1073741824&&(ue.flags|=128,we=!0,Bc(De,!1),ue.lanes=4194304);De.isBackwards?(Ge.sibling=ue.child,ue.child=Ge):(ge=De.last,ge!==null?ge.sibling=Ge:ue.child=Ge,De.last=Ge)}return De.tail!==null?(ue=De.tail,De.rendering=ue,De.tail=ue.sibling,De.renderingStartTime=ft(),ue.sibling=null,ge=dr.current,or(dr,we?ge&1|2:ge&1),ue):(hi(ue),null);case 22:case 23:return of(),we=ue.memoizedState!==null,ae!==null&&ae.memoizedState!==null!==we&&(ue.flags|=8192),we&&ue.mode&1?Xi&1073741824&&(hi(ue),ue.subtreeFlags&6&&(ue.flags|=8192)):hi(ue),null;case 24:return null;case 25:return null}throw Error(K(156,ue.tag))}function Xf(ae,ue){switch(Eo(ue),ue.tag){case 1:return Xr(ue.type)&&Ma(),ae=ue.flags,ae&65536?(ue.flags=ae&-65537|128,ue):null;case 3:return Wo(),lr(ni),lr(Ur),oo(),ae=ue.flags,ae&65536&&!(ae&128)?(ue.flags=ae&-65537|128,ue):null;case 5:return Qs(ue),null;case 13:if(lr(dr),ae=ue.memoizedState,ae!==null&&ae.dehydrated!==null){if(ue.alternate===null)throw Error(K(340));Go()}return ae=ue.flags,ae&65536?(ue.flags=ae&-65537|128,ue):null;case 19:return lr(dr),null;case 4:return Wo(),null;case 10:return La(ue.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var xu=!1,pi=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,En=null;function Xl(ae,ue){var ge=ae.ref;if(ge!==null)if(typeof ge=="function")try{ge(null)}catch(we){Ar(ae,ue,we)}else ge.current=null}function ju(ae,ue,ge){try{ge()}catch(we){Ar(ae,ue,we)}}var _f=!1;function Kf(ae,ue){if(js=Ti,ae=gr(),Lr(ae)){if("selectionStart"in ae)var ge={start:ae.selectionStart,end:ae.selectionEnd};else e:{ge=(ge=ae.ownerDocument)&&ge.defaultView||window;var we=ge.getSelection&&ge.getSelection();if(we&&we.rangeCount!==0){ge=we.anchorNode;var Ie=we.anchorOffset,De=we.focusNode;we=we.focusOffset;try{ge.nodeType,De.nodeType}catch{ge=null;break e}var Ge=0,Je=-1,st=-1,Tt=0,Ht=0,Yt=ae,Vt=null;t:for(;;){for(var vn;Yt!==ge||Ie!==0&&Yt.nodeType!==3||(Je=Ge+Ie),Yt!==De||we!==0&&Yt.nodeType!==3||(st=Ge+we),Yt.nodeType===3&&(Ge+=Yt.nodeValue.length),(vn=Yt.firstChild)!==null;)Vt=Yt,Yt=vn;for(;;){if(Yt===ae)break t;if(Vt===ge&&++Tt===Ie&&(Je=Ge),Vt===De&&++Ht===we&&(st=Ge),(vn=Yt.nextSibling)!==null)break;Yt=Vt,Vt=Yt.parentNode}Yt=vn}ge=Je===-1||st===-1?null:{start:Je,end:st}}else ge=null}ge=ge||{start:0,end:0}}else ge=null;for(mc={focusedElem:ae,selectionRange:ge},Ti=!1,En=ue;En!==null;)if(ue=En,ae=ue.child,(ue.subtreeFlags&1028)!==0&&ae!==null)ae.return=ue,En=ae;else for(;En!==null;){ue=En;try{var bn=ue.alternate;if(ue.flags&1024)switch(ue.tag){case 0:case 11:case 15:break;case 1:if(bn!==null){var wn=bn.memoizedProps,Ir=bn.memoizedState,yt=ue.stateNode,dt=yt.getSnapshotBeforeUpdate(ue.elementType===ue.type?wn:Di(ue.type,wn),Ir);yt.__reactInternalSnapshotBeforeUpdate=dt}break;case 3:var xt=ue.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(Jt){Ar(ue,ue.return,Jt)}if(ae=ue.sibling,ae!==null){ae.return=ue.return,En=ae;break}En=ue.return}return bn=_f,_f=!1,bn}function zc(ae,ue,ge){var we=ue.updateQueue;if(we=we!==null?we.lastEffect:null,we!==null){var Ie=we=we.next;do{if((Ie.tag&ae)===ae){var De=Ie.destroy;Ie.destroy=void 0,De!==void 0&&ju(ue,ge,De)}Ie=Ie.next}while(Ie!==we)}}function Su(ae,ue){if(ue=ue.updateQueue,ue=ue!==null?ue.lastEffect:null,ue!==null){var ge=ue=ue.next;do{if((ge.tag&ae)===ae){var we=ge.create;ge.destroy=we()}ge=ge.next}while(ge!==ue)}}function qu(ae){var ue=ae.ref;if(ue!==null){var ge=ae.stateNode;switch(ae.tag){case 5:ae=ge;break;default:ae=ge}typeof ue=="function"?ue(ae):ue.current=ae}}function xf(ae){var ue=ae.alternate;ue!==null&&(ae.alternate=null,xf(ue)),ae.child=null,ae.deletions=null,ae.sibling=null,ae.tag===5&&(ue=ae.stateNode,ue!==null&&(delete ue[Pr],delete ue[qs],delete ue[ds],delete ue[Il],delete ue[Ll])),ae.stateNode=null,ae.return=null,ae.dependencies=null,ae.memoizedProps=null,ae.memoizedState=null,ae.pendingProps=null,ae.stateNode=null,ae.updateQueue=null}function Sf(ae){return ae.tag===5||ae.tag===3||ae.tag===4}function Ef(ae){e:for(;;){for(;ae.sibling===null;){if(ae.return===null||Sf(ae.return))return null;ae=ae.return}for(ae.sibling.return=ae.return,ae=ae.sibling;ae.tag!==5&&ae.tag!==6&&ae.tag!==18;){if(ae.flags&2||ae.child===null||ae.tag===4)continue e;ae.child.return=ae,ae=ae.child}if(!(ae.flags&2))return ae.stateNode}}function Xu(ae,ue,ge){var we=ae.tag;if(we===5||we===6)ae=ae.stateNode,ue?ge.nodeType===8?ge.parentNode.insertBefore(ae,ue):ge.insertBefore(ae,ue):(ge.nodeType===8?(ue=ge.parentNode,ue.insertBefore(ae,ge)):(ue=ge,ue.appendChild(ae)),ge=ge._reactRootContainer,ge!=null||ue.onclick!==null||(ue.onclick=wa));else if(we!==4&&(ae=ae.child,ae!==null))for(Xu(ae,ue,ge),ae=ae.sibling;ae!==null;)Xu(ae,ue,ge),ae=ae.sibling}function Yu(ae,ue,ge){var we=ae.tag;if(we===5||we===6)ae=ae.stateNode,ue?ge.insertBefore(ae,ue):ge.appendChild(ae);else if(we!==4&&(ae=ae.child,ae!==null))for(Yu(ae,ue,ge),ae=ae.sibling;ae!==null;)Yu(ae,ue,ge),ae=ae.sibling}var si=null,Po=!1;function ta(ae,ue,ge){for(ge=ge.child;ge!==null;)bf(ae,ue,ge),ge=ge.sibling}function bf(ae,ue,ge){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Sn,ge)}catch{}switch(ge.tag){case 5:pi||Xl(ge,ue);case 6:var we=si,Ie=Po;si=null,ta(ae,ue,ge),si=we,Po=Ie,si!==null&&(Po?(ae=si,ge=ge.stateNode,ae.nodeType===8?ae.parentNode.removeChild(ge):ae.removeChild(ge)):si.removeChild(ge.stateNode));break;case 18:si!==null&&(Po?(ae=si,ge=ge.stateNode,ae.nodeType===8?Pl(ae.parentNode,ge):ae.nodeType===1&&Pl(ae,ge),fa(ae)):Pl(si,ge.stateNode));break;case 4:we=si,Ie=Po,si=ge.stateNode.containerInfo,Po=!0,ta(ae,ue,ge),si=we,Po=Ie;break;case 0:case 11:case 14:case 15:if(!pi&&(we=ge.updateQueue,we!==null&&(we=we.lastEffect,we!==null))){Ie=we=we.next;do{var De=Ie,Ge=De.destroy;De=De.tag,Ge!==void 0&&(De&2||De&4)&&ju(ge,ue,Ge),Ie=Ie.next}while(Ie!==we)}ta(ae,ue,ge);break;case 1:if(!pi&&(Xl(ge,ue),we=ge.stateNode,typeof we.componentWillUnmount=="function"))try{we.props=ge.memoizedProps,we.state=ge.memoizedState,we.componentWillUnmount()}catch(Je){Ar(ge,ue,Je)}ta(ae,ue,ge);break;case 21:ta(ae,ue,ge);break;case 22:ge.mode&1?(pi=(we=pi)||ge.memoizedState!==null,ta(ae,ue,ge),pi=we):ta(ae,ue,ge);break;default:ta(ae,ue,ge)}}function wf(ae){var ue=ae.updateQueue;if(ue!==null){ae.updateQueue=null;var ge=ae.stateNode;ge===null&&(ge=ae.stateNode=new Yf),ue.forEach(function(we){var Ie=od.bind(null,ae,we);ge.has(we)||(ge.add(we),we.then(Ie,Ie))})}}function Io(ae,ue){var ge=ue.deletions;if(ge!==null)for(var we=0;we<ge.length;we++){var Ie=ge[we];try{var De=ae,Ge=ue,Je=Ge;e:for(;Je!==null;){switch(Je.tag){case 5:si=Je.stateNode,Po=!1;break e;case 3:si=Je.stateNode.containerInfo,Po=!0;break e;case 4:si=Je.stateNode.containerInfo,Po=!0;break e}Je=Je.return}if(si===null)throw Error(K(160));bf(De,Ge,Ie),si=null,Po=!1;var st=Ie.alternate;st!==null&&(st.return=null),Ie.return=null}catch(Tt){Ar(Ie,ue,Tt)}}if(ue.subtreeFlags&12854)for(ue=ue.child;ue!==null;)Mf(ue,ae),ue=ue.sibling}function Mf(ae,ue){var ge=ae.alternate,we=ae.flags;switch(ae.tag){case 0:case 11:case 14:case 15:if(Io(ue,ae),qo(ae),we&4){try{zc(3,ae,ae.return),Su(3,ae)}catch(wn){Ar(ae,ae.return,wn)}try{zc(5,ae,ae.return)}catch(wn){Ar(ae,ae.return,wn)}}break;case 1:Io(ue,ae),qo(ae),we&512&&ge!==null&&Xl(ge,ge.return);break;case 5:if(Io(ue,ae),qo(ae),we&512&&ge!==null&&Xl(ge,ge.return),ae.flags&32){var Ie=ae.stateNode;try{Rn(Ie,"")}catch(wn){Ar(ae,ae.return,wn)}}if(we&4&&(Ie=ae.stateNode,Ie!=null)){var De=ae.memoizedProps,Ge=ge!==null?ge.memoizedProps:De,Je=ae.type,st=ae.updateQueue;if(ae.updateQueue=null,st!==null)try{Je==="input"&&De.type==="radio"&&De.name!=null&&Bt(Ie,De),$t(Je,Ge);var Tt=$t(Je,De);for(Ge=0;Ge<st.length;Ge+=2){var Ht=st[Ge],Yt=st[Ge+1];Ht==="style"?yn(Ie,Yt):Ht==="dangerouslySetInnerHTML"?Qt(Ie,Yt):Ht==="children"?Rn(Ie,Yt):Re(Ie,Ht,Yt,Tt)}switch(Je){case"input":rn(Ie,De);break;case"textarea":pt(Ie,De);break;case"select":var Vt=Ie._wrapperState.wasMultiple;Ie._wrapperState.wasMultiple=!!De.multiple;var vn=De.value;vn!=null?Xe(Ie,!!De.multiple,vn,!1):Vt!==!!De.multiple&&(De.defaultValue!=null?Xe(Ie,!!De.multiple,De.defaultValue,!0):Xe(Ie,!!De.multiple,De.multiple?[]:"",!1))}Ie[qs]=De}catch(wn){Ar(ae,ae.return,wn)}}break;case 6:if(Io(ue,ae),qo(ae),we&4){if(ae.stateNode===null)throw Error(K(162));Ie=ae.stateNode,De=ae.memoizedProps;try{Ie.nodeValue=De}catch(wn){Ar(ae,ae.return,wn)}}break;case 3:if(Io(ue,ae),qo(ae),we&4&&ge!==null&&ge.memoizedState.isDehydrated)try{fa(ue.containerInfo)}catch(wn){Ar(ae,ae.return,wn)}break;case 4:Io(ue,ae),qo(ae);break;case 13:Io(ue,ae),qo(ae),Ie=ae.child,Ie.flags&8192&&(De=Ie.memoizedState!==null,Ie.stateNode.isHidden=De,!De||Ie.alternate!==null&&Ie.alternate.memoizedState!==null||(Qu=ft())),we&4&&wf(ae);break;case 22:if(Ht=ge!==null&&ge.memoizedState!==null,ae.mode&1?(pi=(Tt=pi)||Ht,Io(ue,ae),pi=Tt):Io(ue,ae),qo(ae),we&8192){if(Tt=ae.memoizedState!==null,(ae.stateNode.isHidden=Tt)&&!Ht&&ae.mode&1)for(En=ae,Ht=ae.child;Ht!==null;){for(Yt=En=Ht;En!==null;){switch(Vt=En,vn=Vt.child,Vt.tag){case 0:case 11:case 14:case 15:zc(4,Vt,Vt.return);break;case 1:Xl(Vt,Vt.return);var bn=Vt.stateNode;if(typeof bn.componentWillUnmount=="function"){we=Vt,ge=Vt.return;try{ue=we,bn.props=ue.memoizedProps,bn.state=ue.memoizedState,bn.componentWillUnmount()}catch(wn){Ar(we,ge,wn)}}break;case 5:Xl(Vt,Vt.return);break;case 22:if(Vt.memoizedState!==null){Af(Yt);continue}}vn!==null?(vn.return=Vt,En=vn):Af(Yt)}Ht=Ht.sibling}e:for(Ht=null,Yt=ae;;){if(Yt.tag===5){if(Ht===null){Ht=Yt;try{Ie=Yt.stateNode,Tt?(De=Ie.style,typeof De.setProperty=="function"?De.setProperty("display","none","important"):De.display="none"):(Je=Yt.stateNode,st=Yt.memoizedProps.style,Ge=st!=null&&st.hasOwnProperty("display")?st.display:null,Je.style.display=Zt("display",Ge))}catch(wn){Ar(ae,ae.return,wn)}}}else if(Yt.tag===6){if(Ht===null)try{Yt.stateNode.nodeValue=Tt?"":Yt.memoizedProps}catch(wn){Ar(ae,ae.return,wn)}}else if((Yt.tag!==22&&Yt.tag!==23||Yt.memoizedState===null||Yt===ae)&&Yt.child!==null){Yt.child.return=Yt,Yt=Yt.child;continue}if(Yt===ae)break e;for(;Yt.sibling===null;){if(Yt.return===null||Yt.return===ae)break e;Ht===Yt&&(Ht=null),Yt=Yt.return}Ht===Yt&&(Ht=null),Yt.sibling.return=Yt.return,Yt=Yt.sibling}}break;case 19:Io(ue,ae),qo(ae),we&4&&wf(ae);break;case 21:break;default:Io(ue,ae),qo(ae)}}function qo(ae){var ue=ae.flags;if(ue&2){try{e:{for(var ge=ae.return;ge!==null;){if(Sf(ge)){var we=ge;break e}ge=ge.return}throw Error(K(160))}switch(we.tag){case 5:var Ie=we.stateNode;we.flags&32&&(Rn(Ie,""),we.flags&=-33);var De=Ef(ae);Yu(ae,De,Ie);break;case 3:case 4:var Ge=we.stateNode.containerInfo,Je=Ef(ae);Xu(ae,Je,Ge);break;default:throw Error(K(161))}}catch(st){Ar(ae,ae.return,st)}ae.flags&=-3}ue&4096&&(ae.flags&=-4097)}function Zf(ae,ue,ge){En=ae,Tf(ae)}function Tf(ae,ue,ge){for(var we=(ae.mode&1)!==0;En!==null;){var Ie=En,De=Ie.child;if(Ie.tag===22&&we){var Ge=Ie.memoizedState!==null||xu;if(!Ge){var Je=Ie.alternate,st=Je!==null&&Je.memoizedState!==null||pi;Je=xu;var Tt=pi;if(xu=Ge,(pi=st)&&!Tt)for(En=Ie;En!==null;)Ge=En,st=Ge.child,Ge.tag===22&&Ge.memoizedState!==null?Cf(Ie):st!==null?(st.return=Ge,En=st):Cf(Ie);for(;De!==null;)En=De,Tf(De),De=De.sibling;En=Ie,xu=Je,pi=Tt}Rf(ae)}else Ie.subtreeFlags&8772&&De!==null?(De.return=Ie,En=De):Rf(ae)}}function Rf(ae){for(;En!==null;){var ue=En;if(ue.flags&8772){var ge=ue.alternate;try{if(ue.flags&8772)switch(ue.tag){case 0:case 11:case 15:pi||Su(5,ue);break;case 1:var we=ue.stateNode;if(ue.flags&4&&!pi)if(ge===null)we.componentDidMount();else{var Ie=ue.elementType===ue.type?ge.memoizedProps:Di(ue.type,ge.memoizedProps);we.componentDidUpdate(Ie,ge.memoizedState,we.__reactInternalSnapshotBeforeUpdate)}var De=ue.updateQueue;De!==null&&Zs(ue,De,we);break;case 3:var Ge=ue.updateQueue;if(Ge!==null){if(ge=null,ue.child!==null)switch(ue.child.tag){case 5:ge=ue.child.stateNode;break;case 1:ge=ue.child.stateNode}Zs(ue,Ge,ge)}break;case 5:var Je=ue.stateNode;if(ge===null&&ue.flags&4){ge=Je;var st=ue.memoizedProps;switch(ue.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&ge.focus();break;case"img":st.src&&(ge.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ue.memoizedState===null){var Tt=ue.alternate;if(Tt!==null){var Ht=Tt.memoizedState;if(Ht!==null){var Yt=Ht.dehydrated;Yt!==null&&fa(Yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}pi||ue.flags&512&&qu(ue)}catch(Vt){Ar(ue,ue.return,Vt)}}if(ue===ae){En=null;break}if(ge=ue.sibling,ge!==null){ge.return=ue.return,En=ge;break}En=ue.return}}function Af(ae){for(;En!==null;){var ue=En;if(ue===ae){En=null;break}var ge=ue.sibling;if(ge!==null){ge.return=ue.return,En=ge;break}En=ue.return}}function Cf(ae){for(;En!==null;){var ue=En;try{switch(ue.tag){case 0:case 11:case 15:var ge=ue.return;try{Su(4,ue)}catch(st){Ar(ue,ge,st)}break;case 1:var we=ue.stateNode;if(typeof we.componentDidMount=="function"){var Ie=ue.return;try{we.componentDidMount()}catch(st){Ar(ue,Ie,st)}}var De=ue.return;try{qu(ue)}catch(st){Ar(ue,De,st)}break;case 5:var Ge=ue.return;try{qu(ue)}catch(st){Ar(ue,Ge,st)}}}catch(st){Ar(ue,ue.return,st)}if(ue===ae){En=null;break}var Je=ue.sibling;if(Je!==null){Je.return=ue.return,En=Je;break}En=ue.return}}var Qf=Math.ceil,Eu=Pe.ReactCurrentDispatcher,Ku=Pe.ReactCurrentOwner,ao=Pe.ReactCurrentBatchConfig,Jn=0,Zr=null,Fr=null,ai=0,Xi=0,Yl=vr(0),Hr=0,Vc=null,Ga=0,bu=0,Zu=0,Gc=null,Ni=null,Qu=0,Kl=1/0,As=null,wu=!1,Ju=null,na=null,Mu=!1,ra=null,Tu=0,Hc=0,ef=null,Ru=-1,Au=0;function wi(){return Jn&6?ft():Ru!==-1?Ru:Ru=ft()}function ia(ae){return ae.mode&1?Jn&2&&ai!==0?ai&-ai:Vu.transition!==null?(Au===0&&(Au=ur()),Au):(ae=Hn,ae!==0||(ae=window.event,ae=ae===void 0?16:qc(ae.type)),ae):1}function Lo(ae,ue,ge,we){if(50<Hc)throw Hc=0,ef=null,Error(K(185));Sr(ae,ge,we),(!(Jn&2)||ae!==Zr)&&(ae===Zr&&(!(Jn&2)&&(bu|=ge),Hr===4&&oa(ae,ai)),Oi(ae,we),ge===1&&Jn===0&&!(ue.mode&1)&&(Kl=ft()+500,Ra&&ro()))}function Oi(ae,ue){var ge=ae.callbackNode;Zi(ae,ue);var we=Mi(ae,ae===Zr?ai:0);if(we===0)ge!==null&&gt(ge),ae.callbackNode=null,ae.callbackPriority=0;else if(ue=we&-we,ae.callbackPriority!==ue){if(ge!=null&&gt(ge),ue===1)ae.tag===0?au(If.bind(null,ae)):Aa(If.bind(null,ae)),zu(function(){!(Jn&6)&&ro()}),ge=null;else{switch(Is(we)){case 1:ge=ln;break;case 4:ge=mn;break;case 16:ge=_n;break;case 536870912:ge=In;break;default:ge=_n}ge=Uf(ge,Pf.bind(null,ae))}ae.callbackPriority=ue,ae.callbackNode=ge}}function Pf(ae,ue){if(Ru=-1,Au=0,Jn&6)throw Error(K(327));var ge=ae.callbackNode;if(Zl()&&ae.callbackNode!==ge)return null;var we=Mi(ae,ae===Zr?ai:0);if(we===0)return null;if(we&30||we&ae.expiredLanes||ue)ue=Cu(ae,we);else{ue=we;var Ie=Jn;Jn|=2;var De=$f();(Zr!==ae||ai!==ue)&&(As=null,Kl=ft()+500,Wa(ae,ue));do try{td();break}catch(Je){Lf(ae,Je)}while(!0);xs(),Eu.current=De,Jn=Ie,Fr!==null?ue=0:(Zr=null,ai=0,ue=Hr)}if(ue!==0){if(ue===2&&(Ie=tr(ae),Ie!==0&&(we=Ie,ue=tf(ae,Ie))),ue===1)throw ge=Vc,Wa(ae,0),oa(ae,we),Oi(ae,ft()),ge;if(ue===6)oa(ae,we);else{if(Ie=ae.current.alternate,!(we&30)&&!Jf(Ie)&&(ue=Cu(ae,we),ue===2&&(De=tr(ae),De!==0&&(we=De,ue=tf(ae,De))),ue===1))throw ge=Vc,Wa(ae,0),oa(ae,we),Oi(ae,ft()),ge;switch(ae.finishedWork=Ie,ae.finishedLanes=we,ue){case 0:case 1:throw Error(K(345));case 2:ja(ae,Ni,As);break;case 3:if(oa(ae,we),(we&130023424)===we&&(ue=Qu+500-ft(),10<ue)){if(Mi(ae,0)!==0)break;if(Ie=ae.suspendedLanes,(Ie&we)!==we){wi(),ae.pingedLanes|=ae.suspendedLanes&Ie;break}ae.timeoutHandle=vc(ja.bind(null,ae,Ni,As),ue);break}ja(ae,Ni,As);break;case 4:if(oa(ae,we),(we&4194240)===we)break;for(ue=ae.eventTimes,Ie=-1;0<we;){var Ge=31-jn(we);De=1<<Ge,Ge=ue[Ge],Ge>Ie&&(Ie=Ge),we&=~De}if(we=Ie,we=ft()-we,we=(120>we?120:480>we?480:1080>we?1080:1920>we?1920:3e3>we?3e3:4320>we?4320:1960*Qf(we/1960))-we,10<we){ae.timeoutHandle=vc(ja.bind(null,ae,Ni,As),we);break}ja(ae,Ni,As);break;case 5:ja(ae,Ni,As);break;default:throw Error(K(329))}}}return Oi(ae,ft()),ae.callbackNode===ge?Pf.bind(null,ae):null}function tf(ae,ue){var ge=Gc;return ae.current.memoizedState.isDehydrated&&(Wa(ae,ue).flags|=256),ae=Cu(ae,ue),ae!==2&&(ue=Ni,Ni=ge,ue!==null&&nf(ue)),ae}function nf(ae){Ni===null?Ni=ae:Ni.push.apply(Ni,ae)}function Jf(ae){for(var ue=ae;;){if(ue.flags&16384){var ge=ue.updateQueue;if(ge!==null&&(ge=ge.stores,ge!==null))for(var we=0;we<ge.length;we++){var Ie=ge[we],De=Ie.getSnapshot;Ie=Ie.value;try{if(!gi(De(),Ie))return!1}catch{return!1}}}if(ge=ue.child,ue.subtreeFlags&16384&&ge!==null)ge.return=ue,ue=ge;else{if(ue===ae)break;for(;ue.sibling===null;){if(ue.return===null||ue.return===ae)return!0;ue=ue.return}ue.sibling.return=ue.return,ue=ue.sibling}}return!0}function oa(ae,ue){for(ue&=~Zu,ue&=~bu,ae.suspendedLanes|=ue,ae.pingedLanes&=~ue,ae=ae.expirationTimes;0<ue;){var ge=31-jn(ue),we=1<<ge;ae[ge]=-1,ue&=~we}}function If(ae){if(Jn&6)throw Error(K(327));Zl();var ue=Mi(ae,0);if(!(ue&1))return Oi(ae,ft()),null;var ge=Cu(ae,ue);if(ae.tag!==0&&ge===2){var we=tr(ae);we!==0&&(ue=we,ge=tf(ae,we))}if(ge===1)throw ge=Vc,Wa(ae,0),oa(ae,ue),Oi(ae,ft()),ge;if(ge===6)throw Error(K(345));return ae.finishedWork=ae.current.alternate,ae.finishedLanes=ue,ja(ae,Ni,As),Oi(ae,ft()),null}function rf(ae,ue){var ge=Jn;Jn|=1;try{return ae(ue)}finally{Jn=ge,Jn===0&&(Kl=ft()+500,Ra&&ro())}}function Ha(ae){ra!==null&&ra.tag===0&&!(Jn&6)&&Zl();var ue=Jn;Jn|=1;var ge=ao.transition,we=Hn;try{if(ao.transition=null,Hn=1,ae)return ae()}finally{Hn=we,ao.transition=ge,Jn=ue,!(Jn&6)&&ro()}}function of(){Xi=Yl.current,lr(Yl)}function Wa(ae,ue){ae.finishedWork=null,ae.finishedLanes=0;var ge=ae.timeoutHandle;if(ge!==-1&&(ae.timeoutHandle=-1,yc(ge)),Fr!==null)for(ge=Fr.return;ge!==null;){var we=ge;switch(Eo(we),we.tag){case 1:we=we.type.childContextTypes,we!=null&&Ma();break;case 3:Wo(),lr(ni),lr(Ur),oo();break;case 5:Qs(we);break;case 4:Wo();break;case 13:lr(dr);break;case 19:lr(dr);break;case 10:La(we.type._context);break;case 22:case 23:of()}ge=ge.return}if(Zr=ae,Fr=ae=sa(ae.current,null),ai=Xi=ue,Hr=0,Vc=null,Zu=bu=Ga=0,Ni=Gc=null,wo!==null){for(ue=0;ue<wo.length;ue++)if(ge=wo[ue],we=ge.interleaved,we!==null){ge.interleaved=null;var Ie=we.next,De=ge.pending;if(De!==null){var Ge=De.next;De.next=Ie,we.next=Ge}ge.pending=we}wo=null}return ae}function Lf(ae,ue){do{var ge=Fr;try{if(xs(),ws.current=jl,ji){for(var we=cr.memoizedState;we!==null;){var Ie=we.queue;Ie!==null&&(Ie.pending=null),we=we.next}ji=!1}if(To=0,Qn=_r=cr=null,Kr=!1,jo=0,Ku.current=null,ge===null||ge.return===null){Hr=1,Vc=ue,Fr=null;break}e:{var De=ae,Ge=ge.return,Je=ge,st=ue;if(ue=ai,Je.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var Tt=st,Ht=Je,Yt=Ht.tag;if(!(Ht.mode&1)&&(Yt===0||Yt===11||Yt===15)){var Vt=Ht.alternate;Vt?(Ht.updateQueue=Vt.updateQueue,Ht.memoizedState=Vt.memoizedState,Ht.lanes=Vt.lanes):(Ht.updateQueue=null,Ht.memoizedState=null)}var vn=xn(Ge);if(vn!==null){vn.flags&=-257,Un(vn,Ge,Je,De,ue),vn.mode&1&&Kt(De,Tt,ue),ue=vn,st=Tt;var bn=ue.updateQueue;if(bn===null){var wn=new Set;wn.add(st),ue.updateQueue=wn}else bn.add(st);break e}else{if(!(ue&1)){Kt(De,Tt,ue),sf();break e}st=Error(K(426))}}else if(fr&&Je.mode&1){var Ir=xn(Ge);if(Ir!==null){!(Ir.flags&65536)&&(Ir.flags|=256),Un(Ir,Ge,Je,De,ue),Ys(Ae(st,Je));break e}}De=st=Ae(st,Je),Hr!==4&&(Hr=2),Gc===null?Gc=[De]:Gc.push(De),De=Ge;do{switch(De.tag){case 3:De.flags|=65536,ue&=-ue,De.lanes|=ue;var yt=ht(De,st,ue);Ss(De,yt);break e;case 1:Je=st;var dt=De.type,xt=De.stateNode;if(!(De.flags&128)&&(typeof dt.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(na===null||!na.has(xt)))){De.flags|=65536,ue&=-ue,De.lanes|=ue;var Jt=Dt(De,Je,ue);Ss(De,Jt);break e}}De=De.return}while(De!==null)}Nf(ge)}catch(An){ue=An,Fr===ge&&ge!==null&&(Fr=ge=ge.return);continue}break}while(!0)}function $f(){var ae=Eu.current;return Eu.current=jl,ae===null?jl:ae}function sf(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),Zr===null||!(Ga&268435455)&&!(bu&268435455)||oa(Zr,ai)}function Cu(ae,ue){var ge=Jn;Jn|=2;var we=$f();(Zr!==ae||ai!==ue)&&(As=null,Wa(ae,ue));do try{ed();break}catch(Ie){Lf(ae,Ie)}while(!0);if(xs(),Jn=ge,Eu.current=we,Fr!==null)throw Error(K(261));return Zr=null,ai=0,Hr}function ed(){for(;Fr!==null;)Df(Fr)}function td(){for(;Fr!==null&&!Mt();)Df(Fr)}function Df(ae){var ue=kf(ae.alternate,ae,Xi);ae.memoizedProps=ae.pendingProps,ue===null?Nf(ae):Fr=ue,Ku.current=null}function Nf(ae){var ue=ae;do{var ge=ue.alternate;if(ae=ue.return,ue.flags&32768){if(ge=Xf(ge,ue),ge!==null){ge.flags&=32767,Fr=ge;return}if(ae!==null)ae.flags|=32768,ae.subtreeFlags=0,ae.deletions=null;else{Hr=6,Fr=null;return}}else if(ge=qf(ge,ue,Xi),ge!==null){Fr=ge;return}if(ue=ue.sibling,ue!==null){Fr=ue;return}Fr=ue=ae}while(ue!==null);Hr===0&&(Hr=5)}function ja(ae,ue,ge){var we=Hn,Ie=ao.transition;try{ao.transition=null,Hn=1,nd(ae,ue,ge,we)}finally{ao.transition=Ie,Hn=we}return null}function nd(ae,ue,ge,we){do Zl();while(ra!==null);if(Jn&6)throw Error(K(327));ge=ae.finishedWork;var Ie=ae.finishedLanes;if(ge===null)return null;if(ae.finishedWork=null,ae.finishedLanes=0,ge===ae.current)throw Error(K(177));ae.callbackNode=null,ae.callbackPriority=0;var De=ge.lanes|ge.childLanes;if(qr(ae,De),ae===Zr&&(Fr=Zr=null,ai=0),!(ge.subtreeFlags&2064)&&!(ge.flags&2064)||Mu||(Mu=!0,Uf(_n,function(){return Zl(),null})),De=(ge.flags&15990)!==0,ge.subtreeFlags&15990||De){De=ao.transition,ao.transition=null;var Ge=Hn;Hn=1;var Je=Jn;Jn|=4,Ku.current=null,Kf(ae,ge),Mf(ge,ae),$r(mc),Ti=!!js,mc=js=null,ae.current=ge,Zf(ge),Rt(),Jn=Je,Hn=Ge,ao.transition=De}else ae.current=ge;if(Mu&&(Mu=!1,ra=ae,Tu=Ie),De=ae.pendingLanes,De===0&&(na=null),Cn(ge.stateNode),Oi(ae,ft()),ue!==null)for(we=ae.onRecoverableError,ge=0;ge<ue.length;ge++)Ie=ue[ge],we(Ie.value,{componentStack:Ie.stack,digest:Ie.digest});if(wu)throw wu=!1,ae=Ju,Ju=null,ae;return Tu&1&&ae.tag!==0&&Zl(),De=ae.pendingLanes,De&1?ae===ef?Hc++:(Hc=0,ef=ae):Hc=0,ro(),null}function Zl(){if(ra!==null){var ae=Is(Tu),ue=ao.transition,ge=Hn;try{if(ao.transition=null,Hn=16>ae?16:ae,ra===null)var we=!1;else{if(ae=ra,ra=null,Tu=0,Jn&6)throw Error(K(331));var Ie=Jn;for(Jn|=4,En=ae.current;En!==null;){var De=En,Ge=De.child;if(En.flags&16){var Je=De.deletions;if(Je!==null){for(var st=0;st<Je.length;st++){var Tt=Je[st];for(En=Tt;En!==null;){var Ht=En;switch(Ht.tag){case 0:case 11:case 15:zc(8,Ht,De)}var Yt=Ht.child;if(Yt!==null)Yt.return=Ht,En=Yt;else for(;En!==null;){Ht=En;var Vt=Ht.sibling,vn=Ht.return;if(xf(Ht),Ht===Tt){En=null;break}if(Vt!==null){Vt.return=vn,En=Vt;break}En=vn}}}var bn=De.alternate;if(bn!==null){var wn=bn.child;if(wn!==null){bn.child=null;do{var Ir=wn.sibling;wn.sibling=null,wn=Ir}while(wn!==null)}}En=De}}if(De.subtreeFlags&2064&&Ge!==null)Ge.return=De,En=Ge;else e:for(;En!==null;){if(De=En,De.flags&2048)switch(De.tag){case 0:case 11:case 15:zc(9,De,De.return)}var yt=De.sibling;if(yt!==null){yt.return=De.return,En=yt;break e}En=De.return}}var dt=ae.current;for(En=dt;En!==null;){Ge=En;var xt=Ge.child;if(Ge.subtreeFlags&2064&&xt!==null)xt.return=Ge,En=xt;else e:for(Ge=dt;En!==null;){if(Je=En,Je.flags&2048)try{switch(Je.tag){case 0:case 11:case 15:Su(9,Je)}}catch(An){Ar(Je,Je.return,An)}if(Je===Ge){En=null;break e}var Jt=Je.sibling;if(Jt!==null){Jt.return=Je.return,En=Jt;break e}En=Je.return}}if(Jn=Ie,ro(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Sn,ae)}catch{}we=!0}return we}finally{Hn=ge,ao.transition=ue}}return!1}function Of(ae,ue,ge){ue=Ae(ge,ue),ue=ht(ae,ue,1),ae=pr(ae,ue,1),ue=wi(),ae!==null&&(Sr(ae,1,ue),Oi(ae,ue))}function Ar(ae,ue,ge){if(ae.tag===3)Of(ae,ae,ge);else for(;ue!==null;){if(ue.tag===3){Of(ue,ae,ge);break}else if(ue.tag===1){var we=ue.stateNode;if(typeof ue.type.getDerivedStateFromError=="function"||typeof we.componentDidCatch=="function"&&(na===null||!na.has(we))){ae=Ae(ge,ae),ae=Dt(ue,ae,1),ue=pr(ue,ae,1),ae=wi(),ue!==null&&(Sr(ue,1,ae),Oi(ue,ae));break}}ue=ue.return}}function rd(ae,ue,ge){var we=ae.pingCache;we!==null&&we.delete(ue),ue=wi(),ae.pingedLanes|=ae.suspendedLanes&ge,Zr===ae&&(ai&ge)===ge&&(Hr===4||Hr===3&&(ai&130023424)===ai&&500>ft()-Qu?Wa(ae,0):Zu|=ge),Oi(ae,ue)}function Ff(ae,ue){ue===0&&(ae.mode&1?(ue=On,On<<=1,!(On&130023424)&&(On=4194304)):ue=1);var ge=wi();ae=Hi(ae,ue),ae!==null&&(Sr(ae,ue,ge),Oi(ae,ge))}function id(ae){var ue=ae.memoizedState,ge=0;ue!==null&&(ge=ue.retryLane),Ff(ae,ge)}function od(ae,ue){var ge=0;switch(ae.tag){case 13:var we=ae.stateNode,Ie=ae.memoizedState;Ie!==null&&(ge=Ie.retryLane);break;case 19:we=ae.stateNode;break;default:throw Error(K(314))}we!==null&&we.delete(ue),Ff(ae,ge)}var kf;kf=function(ae,ue,ge){if(ae!==null)if(ae.memoizedProps!==ue.pendingProps||ni.current)Wn=!0;else{if(!(ae.lanes&ge)&&!(ue.flags&128))return Wn=!1,jf(ae,ue,ge);Wn=!!(ae.flags&131072)}else Wn=!1,fr&&ue.flags&1048576&&bc(ue,Ol,ue.index);switch(ue.lanes=0,ue.tag){case 2:var we=ue.type;_u(ae,ue),ae=ue.pendingProps;var Ie=hs(ue,Ur.current);Ho(ue,ge),Ie=Fa(null,ue,we,ae,Ie,ge);var De=Ic();return ue.flags|=1,typeof Ie=="object"&&Ie!==null&&typeof Ie.render=="function"&&Ie.$$typeof===void 0?(ue.tag=1,ue.memoizedState=null,ue.updateQueue=null,Xr(we)?(De=!0,ps(ue)):De=!1,ue.memoizedState=Ie.state!==null&&Ie.state!==void 0?Ie.state:null,Vn(ue),Ie.updater=ql,ue.stateNode=Ie,Ie._reactInternals=ue,be(ue,we,ae,ge),ue=zn(null,ue,we,!0,De,ge)):(ue.tag=0,fr&&De&&wc(ue),hn(null,ue,Ie,ge),ue=ue.child),ue;case 16:we=ue.elementType;e:{switch(_u(ae,ue),ae=ue.pendingProps,Ie=we._init,we=Ie(we._payload),ue.type=we,Ie=ue.tag=ad(we),ae=Di(we,ae),Ie){case 0:ue=fn(null,ue,we,ae,ge);break e;case 1:ue=Tn(null,ue,we,ae,ge);break e;case 11:ue=Gr(null,ue,we,ae,ge);break e;case 14:ue=bi(null,ue,we,Di(we.type,ae),ge);break e}throw Error(K(306,we,""))}return ue;case 0:return we=ue.type,Ie=ue.pendingProps,Ie=ue.elementType===we?Ie:Di(we,Ie),fn(ae,ue,we,Ie,ge);case 1:return we=ue.type,Ie=ue.pendingProps,Ie=ue.elementType===we?Ie:Di(we,Ie),Tn(ae,ue,we,Ie,ge);case 3:e:{if(Bn(ue),ae===null)throw Error(K(387));we=ue.pendingProps,De=ue.memoizedState,Ie=De.element,br(ae,ue),yr(ue,we,null,ge);var Ge=ue.memoizedState;if(we=Ge.element,De.isDehydrated)if(De={element:we,isDehydrated:!1,cache:Ge.cache,pendingSuspenseBoundaries:Ge.pendingSuspenseBoundaries,transitions:Ge.transitions},ue.updateQueue.baseState=De,ue.memoizedState=De,ue.flags&256){Ie=Ae(Error(K(423)),ue),ue=Zn(ae,ue,we,ge,Ie);break e}else if(we!==Ie){Ie=Ae(Error(K(424)),ue),ue=Zn(ae,ue,we,ge,Ie);break e}else for(ii=vo(ue.stateNode.containerInfo.firstChild),Br=ue,fr=!0,$i=null,ge=Ia(ue,null,we,ge),ue.child=ge;ge;)ge.flags=ge.flags&-3|4096,ge=ge.sibling;else{if(Go(),we===Ie){ue=Rs(ae,ue,ge);break e}hn(ae,ue,we,ge)}ue=ue.child}return ue;case 5:return bs(ue),ae===null&&kl(ue),we=ue.type,Ie=ue.pendingProps,De=ae!==null?ae.memoizedProps:null,Ge=Ie.children,gc(we,Ie)?Ge=null:De!==null&&gc(we,De)&&(ue.flags|=32),Pt(ae,ue),hn(ae,ue,Ge,ge),ue.child;case 6:return ae===null&&kl(ue),null;case 13:return Co(ae,ue,ge);case 4:return Na(ue,ue.stateNode.containerInfo),we=ue.pendingProps,ae===null?ue.child=vs(ue,null,we,ge):hn(ae,ue,we,ge),ue.child;case 11:return we=ue.type,Ie=ue.pendingProps,Ie=ue.elementType===we?Ie:Di(we,Ie),Gr(ae,ue,we,Ie,ge);case 7:return hn(ae,ue,ue.pendingProps,ge),ue.child;case 8:return hn(ae,ue,ue.pendingProps.children,ge),ue.child;case 12:return hn(ae,ue,ue.pendingProps.children,ge),ue.child;case 10:e:{if(we=ue.type._context,Ie=ue.pendingProps,De=ue.memoizedProps,Ge=Ie.value,or(ys,we._currentValue),we._currentValue=Ge,De!==null)if(gi(De.value,Ge)){if(De.children===Ie.children&&!ni.current){ue=Rs(ae,ue,ge);break e}}else for(De=ue.child,De!==null&&(De.return=ue);De!==null;){var Je=De.dependencies;if(Je!==null){Ge=De.child;for(var st=Je.firstContext;st!==null;){if(st.context===we){if(De.tag===1){st=rr(-1,ge&-ge),st.tag=2;var Tt=De.updateQueue;if(Tt!==null){Tt=Tt.shared;var Ht=Tt.pending;Ht===null?st.next=st:(st.next=Ht.next,Ht.next=st),Tt.pending=st}}De.lanes|=ge,st=De.alternate,st!==null&&(st.lanes|=ge),$a(De.return,ge,ue),Je.lanes|=ge;break}st=st.next}}else if(De.tag===10)Ge=De.type===ue.type?null:De.child;else if(De.tag===18){if(Ge=De.return,Ge===null)throw Error(K(341));Ge.lanes|=ge,Je=Ge.alternate,Je!==null&&(Je.lanes|=ge),$a(Ge,ge,ue),Ge=De.sibling}else Ge=De.child;if(Ge!==null)Ge.return=De;else for(Ge=De;Ge!==null;){if(Ge===ue){Ge=null;break}if(De=Ge.sibling,De!==null){De.return=Ge.return,Ge=De;break}Ge=Ge.return}De=Ge}hn(ae,ue,Ie.children,ge),ue=ue.child}return ue;case 9:return Ie=ue.type,we=ue.pendingProps.children,Ho(ue,ge),Ie=_i(Ie),we=we(Ie),ue.flags|=1,hn(ae,ue,we,ge),ue.child;case 14:return we=ue.type,Ie=Di(we,ue.pendingProps),Ie=Di(we.type,Ie),bi(ae,ue,we,Ie,ge);case 15:return bt(ae,ue,ue.type,ue.pendingProps,ge);case 17:return we=ue.type,Ie=ue.pendingProps,Ie=ue.elementType===we?Ie:Di(we,Ie),_u(ae,ue),ue.tag=1,Xr(we)?(ae=!0,ps(ue)):ae=!1,Ho(ue,ge),de(ue,we,Ie),be(ue,we,Ie,ge),zn(null,ue,we,!0,ae,ge);case 19:return mf(ae,ue,ge);case 22:return vt(ae,ue,ge)}throw Error(K(156,ue.tag))};function Uf(ae,ue){return We(ae,ue)}function sd(ae,ue,ge,we){this.tag=ae,this.key=ge,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ue,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=we,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(ae,ue,ge,we){return new sd(ae,ue,ge,we)}function af(ae){return ae=ae.prototype,!(!ae||!ae.isReactComponent)}function ad(ae){if(typeof ae=="function")return af(ae)?1:0;if(ae!=null){if(ae=ae.$$typeof,ae===Ye)return 11;if(ae===ct)return 14}return 2}function sa(ae,ue){var ge=ae.alternate;return ge===null?(ge=lo(ae.tag,ue,ae.key,ae.mode),ge.elementType=ae.elementType,ge.type=ae.type,ge.stateNode=ae.stateNode,ge.alternate=ae,ae.alternate=ge):(ge.pendingProps=ue,ge.type=ae.type,ge.flags=0,ge.subtreeFlags=0,ge.deletions=null),ge.flags=ae.flags&14680064,ge.childLanes=ae.childLanes,ge.lanes=ae.lanes,ge.child=ae.child,ge.memoizedProps=ae.memoizedProps,ge.memoizedState=ae.memoizedState,ge.updateQueue=ae.updateQueue,ue=ae.dependencies,ge.dependencies=ue===null?null:{lanes:ue.lanes,firstContext:ue.firstContext},ge.sibling=ae.sibling,ge.index=ae.index,ge.ref=ae.ref,ge}function Pu(ae,ue,ge,we,Ie,De){var Ge=2;if(we=ae,typeof ae=="function")af(ae)&&(Ge=1);else if(typeof ae=="string")Ge=5;else e:switch(ae){case ke:return qa(ge.children,Ie,De,ue);case ze:Ge=8,Ie|=8;break;case Ue:return ae=lo(12,ge,ue,Ie|2),ae.elementType=Ue,ae.lanes=De,ae;case Ke:return ae=lo(13,ge,ue,Ie),ae.elementType=Ke,ae.lanes=De,ae;case rt:return ae=lo(19,ge,ue,Ie),ae.elementType=rt,ae.lanes=De,ae;case mt:return Iu(ge,Ie,De,ue);default:if(typeof ae=="object"&&ae!==null)switch(ae.$$typeof){case Oe:Ge=10;break e;case Ve:Ge=9;break e;case Ye:Ge=11;break e;case ct:Ge=14;break e;case at:Ge=16,we=null;break e}throw Error(K(130,ae==null?ae:typeof ae,""))}return ue=lo(Ge,ge,ue,Ie),ue.elementType=ae,ue.type=we,ue.lanes=De,ue}function qa(ae,ue,ge,we){return ae=lo(7,ae,we,ue),ae.lanes=ge,ae}function Iu(ae,ue,ge,we){return ae=lo(22,ae,we,ue),ae.elementType=mt,ae.lanes=ge,ae.stateNode={isHidden:!1},ae}function lf(ae,ue,ge){return ae=lo(6,ae,null,ue),ae.lanes=ge,ae}function cf(ae,ue,ge){return ue=lo(4,ae.children!==null?ae.children:[],ae.key,ue),ue.lanes=ge,ue.stateNode={containerInfo:ae.containerInfo,pendingChildren:null,implementation:ae.implementation},ue}function ld(ae,ue,ge,we,Ie){this.tag=ue,this.containerInfo=ae,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jr(0),this.expirationTimes=jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.identifierPrefix=we,this.onRecoverableError=Ie,this.mutableSourceEagerHydrationData=null}function uf(ae,ue,ge,we,Ie,De,Ge,Je,st){return ae=new ld(ae,ue,ge,Je,st),ue===1?(ue=1,De===!0&&(ue|=8)):ue=0,De=lo(3,null,null,ue),ae.current=De,De.stateNode=ae,De.memoizedState={element:we,isDehydrated:ge,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vn(De),ae}function cd(ae,ue,ge){var we=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$e,key:we==null?null:""+we,children:ae,containerInfo:ue,implementation:ge}}function Bf(ae){if(!ae)return _o;ae=ae._reactInternals;e:{if(Ki(ae)!==ae||ae.tag!==1)throw Error(K(170));var ue=ae;do{switch(ue.tag){case 3:ue=ue.stateNode.context;break e;case 1:if(Xr(ue.type)){ue=ue.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ue=ue.return}while(ue!==null);throw Error(K(171))}if(ae.tag===1){var ge=ae.type;if(Xr(ge))return Ta(ae,ge,ue)}return ue}function zf(ae,ue,ge,we,Ie,De,Ge,Je,st){return ae=uf(ge,we,!0,ae,Ie,De,Ge,Je,st),ae.context=Bf(null),ge=ae.current,we=wi(),Ie=ia(ge),De=rr(we,Ie),De.callback=ue??null,pr(ge,De,Ie),ae.current.lanes=Ie,Sr(ae,Ie,we),Oi(ae,we),ae}function Lu(ae,ue,ge,we){var Ie=ue.current,De=wi(),Ge=ia(Ie);return ge=Bf(ge),ue.context===null?ue.context=ge:ue.pendingContext=ge,ue=rr(De,Ge),ue.payload={element:ae},we=we===void 0?null:we,we!==null&&(ue.callback=we),ae=pr(Ie,ue,Ge),ae!==null&&(Lo(ae,Ie,Ge,De),Yr(ae,Ie,Ge)),Ge}function $u(ae){if(ae=ae.current,!ae.child)return null;switch(ae.child.tag){case 5:return ae.child.stateNode;default:return ae.child.stateNode}}function Vf(ae,ue){if(ae=ae.memoizedState,ae!==null&&ae.dehydrated!==null){var ge=ae.retryLane;ae.retryLane=ge!==0&&ge<ue?ge:ue}}function ff(ae,ue){Vf(ae,ue),(ae=ae.alternate)&&Vf(ae,ue)}function ud(){return null}var Gf=typeof reportError=="function"?reportError:function(ae){console.error(ae)};function df(ae){this._internalRoot=ae}Du.prototype.render=df.prototype.render=function(ae){var ue=this._internalRoot;if(ue===null)throw Error(K(409));Lu(ae,ue,null,null)},Du.prototype.unmount=df.prototype.unmount=function(){var ae=this._internalRoot;if(ae!==null){this._internalRoot=null;var ue=ae.containerInfo;Ha(function(){Lu(null,ae,null,null)}),ue[yi]=null}};function Du(ae){this._internalRoot=ae}Du.prototype.unstable_scheduleHydration=function(ae){if(ae){var ue=tl();ae={blockedOn:null,target:ae,priority:ue};for(var ge=0;ge<No.length&&ue!==0&&ue<No[ge].priority;ge++);No.splice(ge,0,ae),ge===0&&il(ae)}};function hf(ae){return!(!ae||ae.nodeType!==1&&ae.nodeType!==9&&ae.nodeType!==11)}function Nu(ae){return!(!ae||ae.nodeType!==1&&ae.nodeType!==9&&ae.nodeType!==11&&(ae.nodeType!==8||ae.nodeValue!==" react-mount-point-unstable "))}function Hf(){}function fd(ae,ue,ge,we,Ie){if(Ie){if(typeof we=="function"){var De=we;we=function(){var Tt=$u(Ge);De.call(Tt)}}var Ge=zf(ue,we,ae,0,null,!1,!1,"",Hf);return ae._reactRootContainer=Ge,ae[yi]=Ge.current,Hs(ae.nodeType===8?ae.parentNode:ae),Ha(),Ge}for(;Ie=ae.lastChild;)ae.removeChild(Ie);if(typeof we=="function"){var Je=we;we=function(){var Tt=$u(st);Je.call(Tt)}}var st=uf(ae,0,!1,null,null,!1,!1,"",Hf);return ae._reactRootContainer=st,ae[yi]=st.current,Hs(ae.nodeType===8?ae.parentNode:ae),Ha(function(){Lu(ue,st,ge,we)}),st}function Ou(ae,ue,ge,we,Ie){var De=ge._reactRootContainer;if(De){var Ge=De;if(typeof Ie=="function"){var Je=Ie;Ie=function(){var st=$u(Ge);Je.call(st)}}Lu(ue,Ge,ae,Ie)}else Ge=fd(ge,ue,ae,Ie,we);return $u(Ge)}la=function(ae){switch(ae.tag){case 3:var ue=ae.stateNode;if(ue.current.memoizedState.isDehydrated){var ge=Mr(ue.pendingLanes);ge!==0&&(Qi(ue,ge|1),Oi(ue,ft()),!(Jn&6)&&(Kl=ft()+500,ro()))}break;case 13:Ha(function(){var we=Hi(ae,1);if(we!==null){var Ie=wi();Lo(we,ae,1,Ie)}}),ff(ae,1)}},Ql=function(ae){if(ae.tag===13){var ue=Hi(ae,134217728);if(ue!==null){var ge=wi();Lo(ue,ae,134217728,ge)}ff(ae,134217728)}},jc=function(ae){if(ae.tag===13){var ue=ia(ae),ge=Hi(ae,ue);if(ge!==null){var we=wi();Lo(ge,ae,ue,we)}ff(ae,ue)}},tl=function(){return Hn},nl=function(ae,ue){var ge=Hn;try{return Hn=ae,ue()}finally{Hn=ge}},zt=function(ae,ue,ge){switch(ue){case"input":if(rn(ae,ge),ue=ge.name,ge.type==="radio"&&ue!=null){for(ge=ae;ge.parentNode;)ge=ge.parentNode;for(ge=ge.querySelectorAll("input[name="+JSON.stringify(""+ue)+'][type="radio"]'),ue=0;ue<ge.length;ue++){var we=ge[ue];if(we!==ae&&we.form===ae.form){var Ie=$l(we);if(!Ie)throw Error(K(90));It(we),rn(we,Ie)}}}break;case"textarea":pt(ae,ge);break;case"select":ue=ge.value,ue!=null&&Xe(ae,!!ge.multiple,ue,!1)}},Yn=rf,sr=Ha;var dd={usingClientEntryPoint:!1,Events:[yo,Er,$l,cn,Pn,rf]},Wc={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hd={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(ae){return ae=Ja(ae),ae===null?null:ae.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||ud,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Sn=Fu.inject(hd),gn=Fu}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dd,reactDom_production_min.createPortal=function(ae,ue){var ge=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(ue))throw Error(K(200));return cd(ae,ue,null,ge)},reactDom_production_min.createRoot=function(ae,ue){if(!hf(ae))throw Error(K(299));var ge=!1,we="",Ie=Gf;return ue!=null&&(ue.unstable_strictMode===!0&&(ge=!0),ue.identifierPrefix!==void 0&&(we=ue.identifierPrefix),ue.onRecoverableError!==void 0&&(Ie=ue.onRecoverableError)),ue=uf(ae,1,!1,null,null,ge,!1,we,Ie),ae[yi]=ue.current,Hs(ae.nodeType===8?ae.parentNode:ae),new df(ue)},reactDom_production_min.findDOMNode=function(ae){if(ae==null)return null;if(ae.nodeType===1)return ae;var ue=ae._reactInternals;if(ue===void 0)throw typeof ae.render=="function"?Error(K(188)):(ae=Object.keys(ae).join(","),Error(K(268,ae)));return ae=Ja(ue),ae=ae===null?null:ae.stateNode,ae},reactDom_production_min.flushSync=function(ae){return Ha(ae)},reactDom_production_min.hydrate=function(ae,ue,ge){if(!Nu(ue))throw Error(K(200));return Ou(null,ae,ue,!0,ge)},reactDom_production_min.hydrateRoot=function(ae,ue,ge){if(!hf(ae))throw Error(K(405));var we=ge!=null&&ge.hydratedSources||null,Ie=!1,De="",Ge=Gf;if(ge!=null&&(ge.unstable_strictMode===!0&&(Ie=!0),ge.identifierPrefix!==void 0&&(De=ge.identifierPrefix),ge.onRecoverableError!==void 0&&(Ge=ge.onRecoverableError)),ue=zf(ue,null,ae,1,ge??null,Ie,!1,De,Ge),ae[yi]=ue.current,Hs(ae),we)for(ae=0;ae<we.length;ae++)ge=we[ae],Ie=ge._getVersion,Ie=Ie(ge._source),ue.mutableSourceEagerHydrationData==null?ue.mutableSourceEagerHydrationData=[ge,Ie]:ue.mutableSourceEagerHydrationData.push(ge,Ie);return new Du(ue)},reactDom_production_min.render=function(ae,ue,ge){if(!Nu(ue))throw Error(K(200));return Ou(null,ae,ue,!1,ge)},reactDom_production_min.unmountComponentAtNode=function(ae){if(!Nu(ae))throw Error(K(40));return ae._reactRootContainer?(Ha(function(){Ou(null,null,ae,!1,function(){ae._reactRootContainer=null,ae[yi]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=rf,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ae,ue,ge,we){if(!Nu(ge))throw Error(K(200));if(ae==null||ae._reactInternals===void 0)throw Error(K(38));return Ou(ae,ue,ge,!1,we)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Z(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z)}catch(_){console.error(_)}}return Z(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var Z=requireReactDom();return client.createRoot=Z.createRoot,client.hydrateRoot=Z.hydrateRoot,client}var clientExports=requireClient();const scriptRel="modulepreload",assetsURL=function(Z){return"https://touhoupolice.github.io/scifi-portfolio/"+Z},seen={},__vitePreload=function(_,K,te){let ne=Promise.resolve();if(K&&K.length>0){document.getElementsByTagName("link");const oe=document.querySelector("meta[property=csp-nonce]"),se=(oe==null?void 0:oe.nonce)||(oe==null?void 0:oe.getAttribute("nonce"));ne=Promise.allSettled(K.map(le=>{if(le=assetsURL(le),le in seen)return;seen[le]=!0;const ce=le.endsWith(".css"),fe=ce?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${le}"]${fe}`))return;const pe=document.createElement("link");if(pe.rel=ce?"stylesheet":scriptRel,ce||(pe.as="script"),pe.crossOrigin="",pe.href=le,se&&pe.setAttribute("nonce",se),document.head.appendChild(pe),ce)return new Promise((me,ve)=>{pe.addEventListener("load",me),pe.addEventListener("error",()=>ve(new Error(`Unable to preload CSS for ${le}`)))})}))}function ie(oe){const se=new Event("vite:preloadError",{cancelable:!0});if(se.payload=oe,window.dispatchEvent(se),!se.defaultPrevented)throw oe}return ne.then(oe=>{for(const se of oe||[])se.status==="rejected"&&ie(se.reason);return _().catch(ie)})};var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),$2AODx$react=_mergeNamespaces({__proto__:null,default:React},[reactExports]),defaultState={allowOrbitControl:!0,setAllowOrbitControl:()=>{},mousePos:{x:0,y:0},setMousePos:()=>{}},GlobalStateContext=reactExports.createContext(defaultState),GlobalStateProvider=({children:Z})=>{const[_,K]=reactExports.useState(!1),[te,ne]=reactExports.useState({x:0,y:0});return jsxRuntimeExports.jsx(GlobalStateContext.Provider,{value:{allowOrbitControl:_,setAllowOrbitControl:K,mousePos:te,setMousePos:ne},children:Z})};var c$5=function(Z){var _,K;function te(ie){var oe;return(oe=Z.call(this,ie)||this).state={hasError:!1,error:null},oe}K=Z,(_=te).prototype=Object.create(K.prototype),_.prototype.constructor=_,_.__proto__=K,te.getDerivedStateFromError=function(ie){return{hasError:!0,error:ie}};var ne=te.prototype;return ne.componentDidCatch=function(ie,oe){return this.props.onDidCatch(ie,oe)},ne.render=function(){var ie=this.state,oe=this.props,se=oe.render,le=oe.children,ce=oe.renderError;return ie.hasError?ce?ce({error:ie.error}):null:se?se():le||null},te}(reactExports.PureComponent),u$5=function(Z,_){switch(_.type){case"catch":return{didCatch:!0,error:_.error};case"reset":return{didCatch:!1,error:null};default:return Z}};function a$4(Z){var _=reactExports.useReducer(u$5,{didCatch:!1,error:null}),K=_[0],te=_[1],ne=reactExports.useRef(null);function ie(){return le=function(ce,fe){te({type:"catch",error:ce})},function(ce){return React.createElement(c$5,{onDidCatch:le,children:ce.children,render:ce.render,renderError:ce.renderError})};var le}var oe,se=reactExports.useCallback(function(){ne.current=ie(),te({type:"reset"})},[]);return{ErrorBoundary:(oe=ne.current,oe!==null?oe:(ne.current=ie(),ne.current)),didCatch:K.didCatch,error:K.error,reset:se}}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_];for(var te in K)({}).hasOwnProperty.call(K,te)&&(Z[te]=K[te])}return Z},_extends$1.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="171",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;let EventDispatcher$1=class{addEventListener(_,K){this._listeners===void 0&&(this._listeners={});const te=this._listeners;te[_]===void 0&&(te[_]=[]),te[_].indexOf(K)===-1&&te[_].push(K)}hasEventListener(_,K){if(this._listeners===void 0)return!1;const te=this._listeners;return te[_]!==void 0&&te[_].indexOf(K)!==-1}removeEventListener(_,K){if(this._listeners===void 0)return;const ne=this._listeners[_];if(ne!==void 0){const ie=ne.indexOf(K);ie!==-1&&ne.splice(ie,1)}}dispatchEvent(_){if(this._listeners===void 0)return;const te=this._listeners[_.type];if(te!==void 0){_.target=this;const ne=te.slice(0);for(let ie=0,oe=ne.length;ie<oe;ie++)ne[ie].call(this,_);_.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const Z=Math.random()*4294967295|0,_=Math.random()*4294967295|0,K=Math.random()*4294967295|0,te=Math.random()*4294967295|0;return(_lut[Z&255]+_lut[Z>>8&255]+_lut[Z>>16&255]+_lut[Z>>24&255]+"-"+_lut[_&255]+_lut[_>>8&255]+"-"+_lut[_>>16&15|64]+_lut[_>>24&255]+"-"+_lut[K&63|128]+_lut[K>>8&255]+"-"+_lut[K>>16&255]+_lut[K>>24&255]+_lut[te&255]+_lut[te>>8&255]+_lut[te>>16&255]+_lut[te>>24&255]).toLowerCase()}function clamp$3(Z,_,K){return Math.max(_,Math.min(K,Z))}function euclideanModulo(Z,_){return(Z%_+_)%_}function mapLinear(Z,_,K,te,ne){return te+(Z-_)*(ne-te)/(K-_)}function inverseLerp(Z,_,K){return Z!==_?(K-Z)/(_-Z):0}function lerp(Z,_,K){return(1-K)*Z+K*_}function damp(Z,_,K,te){return lerp(Z,_,1-Math.exp(-K*te))}function pingpong(Z,_=1){return _-Math.abs(euclideanModulo(Z,_*2)-_)}function smoothstep(Z,_,K){return Z<=_?0:Z>=K?1:(Z=(Z-_)/(K-_),Z*Z*(3-2*Z))}function smootherstep(Z,_,K){return Z<=_?0:Z>=K?1:(Z=(Z-_)/(K-_),Z*Z*Z*(Z*(Z*6-15)+10))}function randInt(Z,_){return Z+Math.floor(Math.random()*(_-Z+1))}function randFloat(Z,_){return Z+Math.random()*(_-Z)}function randFloatSpread(Z){return Z*(.5-Math.random())}function seededRandom(Z){Z!==void 0&&(_seed=Z);let _=_seed+=1831565813;return _=Math.imul(_^_>>>15,_|1),_^=_+Math.imul(_^_>>>7,_|61),((_^_>>>14)>>>0)/4294967296}function degToRad(Z){return Z*DEG2RAD}function radToDeg(Z){return Z*RAD2DEG}function isPowerOfTwo(Z){return(Z&Z-1)===0&&Z!==0}function ceilPowerOfTwo(Z){return Math.pow(2,Math.ceil(Math.log(Z)/Math.LN2))}function floorPowerOfTwo(Z){return Math.pow(2,Math.floor(Math.log(Z)/Math.LN2))}function setQuaternionFromProperEuler(Z,_,K,te,ne){const ie=Math.cos,oe=Math.sin,se=ie(K/2),le=oe(K/2),ce=ie((_+te)/2),fe=oe((_+te)/2),pe=ie((_-te)/2),me=oe((_-te)/2),ve=ie((te-_)/2),ye=oe((te-_)/2);switch(ne){case"XYX":Z.set(se*fe,le*pe,le*me,se*ce);break;case"YZY":Z.set(le*me,se*fe,le*pe,se*ce);break;case"ZXZ":Z.set(le*pe,le*me,se*fe,se*ce);break;case"XZX":Z.set(se*fe,le*ye,le*ve,se*ce);break;case"YXY":Z.set(le*ve,se*fe,le*ye,se*ce);break;case"ZYZ":Z.set(le*ye,le*ve,se*fe,se*ce);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+ne)}}function denormalize(Z,_){switch(_.constructor){case Float32Array:return Z;case Uint32Array:return Z/4294967295;case Uint16Array:return Z/65535;case Uint8Array:return Z/255;case Int32Array:return Math.max(Z/2147483647,-1);case Int16Array:return Math.max(Z/32767,-1);case Int8Array:return Math.max(Z/127,-1);default:throw new Error("Invalid component type.")}}function normalize$5(Z,_){switch(_.constructor){case Float32Array:return Z;case Uint32Array:return Math.round(Z*4294967295);case Uint16Array:return Math.round(Z*65535);case Uint8Array:return Math.round(Z*255);case Int32Array:return Math.round(Z*2147483647);case Int16Array:return Math.round(Z*32767);case Int8Array:return Math.round(Z*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$3,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$5,denormalize};class Vector2{constructor(_=0,K=0){Vector2.prototype.isVector2=!0,this.x=_,this.y=K}get width(){return this.x}set width(_){this.x=_}get height(){return this.y}set height(_){this.y=_}set(_,K){return this.x=_,this.y=K,this}setScalar(_){return this.x=_,this.y=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setComponent(_,K){switch(_){case 0:this.x=K;break;case 1:this.y=K;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y)}copy(_){return this.x=_.x,this.y=_.y,this}add(_){return this.x+=_.x,this.y+=_.y,this}addScalar(_){return this.x+=_,this.y+=_,this}addVectors(_,K){return this.x=_.x+K.x,this.y=_.y+K.y,this}addScaledVector(_,K){return this.x+=_.x*K,this.y+=_.y*K,this}sub(_){return this.x-=_.x,this.y-=_.y,this}subScalar(_){return this.x-=_,this.y-=_,this}subVectors(_,K){return this.x=_.x-K.x,this.y=_.y-K.y,this}multiply(_){return this.x*=_.x,this.y*=_.y,this}multiplyScalar(_){return this.x*=_,this.y*=_,this}divide(_){return this.x/=_.x,this.y/=_.y,this}divideScalar(_){return this.multiplyScalar(1/_)}applyMatrix3(_){const K=this.x,te=this.y,ne=_.elements;return this.x=ne[0]*K+ne[3]*te+ne[6],this.y=ne[1]*K+ne[4]*te+ne[7],this}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this}clamp(_,K){return this.x=clamp$3(this.x,_.x,K.x),this.y=clamp$3(this.y,_.y,K.y),this}clampScalar(_,K){return this.x=clamp$3(this.x,_,K),this.y=clamp$3(this.y,_,K),this}clampLength(_,K){const te=this.length();return this.divideScalar(te||1).multiplyScalar(clamp$3(te,_,K))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(_){return this.x*_.x+this.y*_.y}cross(_){return this.x*_.y-this.y*_.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(_){const K=Math.sqrt(this.lengthSq()*_.lengthSq());if(K===0)return Math.PI/2;const te=this.dot(_)/K;return Math.acos(clamp$3(te,-1,1))}distanceTo(_){return Math.sqrt(this.distanceToSquared(_))}distanceToSquared(_){const K=this.x-_.x,te=this.y-_.y;return K*K+te*te}manhattanDistanceTo(_){return Math.abs(this.x-_.x)+Math.abs(this.y-_.y)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,K){return this.x+=(_.x-this.x)*K,this.y+=(_.y-this.y)*K,this}lerpVectors(_,K,te){return this.x=_.x+(K.x-_.x)*te,this.y=_.y+(K.y-_.y)*te,this}equals(_){return _.x===this.x&&_.y===this.y}fromArray(_,K=0){return this.x=_[K],this.y=_[K+1],this}toArray(_=[],K=0){return _[K]=this.x,_[K+1]=this.y,_}fromBufferAttribute(_,K){return this.x=_.getX(K),this.y=_.getY(K),this}rotateAround(_,K){const te=Math.cos(K),ne=Math.sin(K),ie=this.x-_.x,oe=this.y-_.y;return this.x=ie*te-oe*ne+_.x,this.y=ie*ne+oe*te+_.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(_,K,te,ne,ie,oe,se,le,ce){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],_!==void 0&&this.set(_,K,te,ne,ie,oe,se,le,ce)}set(_,K,te,ne,ie,oe,se,le,ce){const fe=this.elements;return fe[0]=_,fe[1]=ne,fe[2]=se,fe[3]=K,fe[4]=ie,fe[5]=le,fe[6]=te,fe[7]=oe,fe[8]=ce,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(_){const K=this.elements,te=_.elements;return K[0]=te[0],K[1]=te[1],K[2]=te[2],K[3]=te[3],K[4]=te[4],K[5]=te[5],K[6]=te[6],K[7]=te[7],K[8]=te[8],this}extractBasis(_,K,te){return _.setFromMatrix3Column(this,0),K.setFromMatrix3Column(this,1),te.setFromMatrix3Column(this,2),this}setFromMatrix4(_){const K=_.elements;return this.set(K[0],K[4],K[8],K[1],K[5],K[9],K[2],K[6],K[10]),this}multiply(_){return this.multiplyMatrices(this,_)}premultiply(_){return this.multiplyMatrices(_,this)}multiplyMatrices(_,K){const te=_.elements,ne=K.elements,ie=this.elements,oe=te[0],se=te[3],le=te[6],ce=te[1],fe=te[4],pe=te[7],me=te[2],ve=te[5],ye=te[8],Ee=ne[0],Se=ne[3],_e=ne[6],Te=ne[1],Re=ne[4],Pe=ne[7],Fe=ne[2],$e=ne[5],ke=ne[8];return ie[0]=oe*Ee+se*Te+le*Fe,ie[3]=oe*Se+se*Re+le*$e,ie[6]=oe*_e+se*Pe+le*ke,ie[1]=ce*Ee+fe*Te+pe*Fe,ie[4]=ce*Se+fe*Re+pe*$e,ie[7]=ce*_e+fe*Pe+pe*ke,ie[2]=me*Ee+ve*Te+ye*Fe,ie[5]=me*Se+ve*Re+ye*$e,ie[8]=me*_e+ve*Pe+ye*ke,this}multiplyScalar(_){const K=this.elements;return K[0]*=_,K[3]*=_,K[6]*=_,K[1]*=_,K[4]*=_,K[7]*=_,K[2]*=_,K[5]*=_,K[8]*=_,this}determinant(){const _=this.elements,K=_[0],te=_[1],ne=_[2],ie=_[3],oe=_[4],se=_[5],le=_[6],ce=_[7],fe=_[8];return K*oe*fe-K*se*ce-te*ie*fe+te*se*le+ne*ie*ce-ne*oe*le}invert(){const _=this.elements,K=_[0],te=_[1],ne=_[2],ie=_[3],oe=_[4],se=_[5],le=_[6],ce=_[7],fe=_[8],pe=fe*oe-se*ce,me=se*le-fe*ie,ve=ce*ie-oe*le,ye=K*pe+te*me+ne*ve;if(ye===0)return this.set(0,0,0,0,0,0,0,0,0);const Ee=1/ye;return _[0]=pe*Ee,_[1]=(ne*ce-fe*te)*Ee,_[2]=(se*te-ne*oe)*Ee,_[3]=me*Ee,_[4]=(fe*K-ne*le)*Ee,_[5]=(ne*ie-se*K)*Ee,_[6]=ve*Ee,_[7]=(te*le-ce*K)*Ee,_[8]=(oe*K-te*ie)*Ee,this}transpose(){let _;const K=this.elements;return _=K[1],K[1]=K[3],K[3]=_,_=K[2],K[2]=K[6],K[6]=_,_=K[5],K[5]=K[7],K[7]=_,this}getNormalMatrix(_){return this.setFromMatrix4(_).invert().transpose()}transposeIntoArray(_){const K=this.elements;return _[0]=K[0],_[1]=K[3],_[2]=K[6],_[3]=K[1],_[4]=K[4],_[5]=K[7],_[6]=K[2],_[7]=K[5],_[8]=K[8],this}setUvTransform(_,K,te,ne,ie,oe,se){const le=Math.cos(ie),ce=Math.sin(ie);return this.set(te*le,te*ce,-te*(le*oe+ce*se)+oe+_,-ne*ce,ne*le,-ne*(-ce*oe+le*se)+se+K,0,0,1),this}scale(_,K){return this.premultiply(_m3.makeScale(_,K)),this}rotate(_){return this.premultiply(_m3.makeRotation(-_)),this}translate(_,K){return this.premultiply(_m3.makeTranslation(_,K)),this}makeTranslation(_,K){return _.isVector2?this.set(1,0,_.x,0,1,_.y,0,0,1):this.set(1,0,_,0,1,K,0,0,1),this}makeRotation(_){const K=Math.cos(_),te=Math.sin(_);return this.set(K,-te,0,te,K,0,0,0,1),this}makeScale(_,K){return this.set(_,0,0,0,K,0,0,0,1),this}equals(_){const K=this.elements,te=_.elements;for(let ne=0;ne<9;ne++)if(K[ne]!==te[ne])return!1;return!0}fromArray(_,K=0){for(let te=0;te<9;te++)this.elements[te]=_[te+K];return this}toArray(_=[],K=0){const te=this.elements;return _[K]=te[0],_[K+1]=te[1],_[K+2]=te[2],_[K+3]=te[3],_[K+4]=te[4],_[K+5]=te[5],_[K+6]=te[6],_[K+7]=te[7],_[K+8]=te[8],_}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(Z){for(let _=Z.length-1;_>=0;--_)if(Z[_]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(Z,_){return new TYPED_ARRAYS[Z](_)}function createElementNS(Z){return document.createElementNS("http://www.w3.org/1999/xhtml",Z)}function createCanvasElement(){const Z=createElementNS("canvas");return Z.style.display="block",Z}const _cache={};function warnOnce(Z){Z in _cache||(_cache[Z]=!0,console.warn(Z))}function probeAsync(Z,_,K){return new Promise(function(te,ne){function ie(){switch(Z.clientWaitSync(_,Z.SYNC_FLUSH_COMMANDS_BIT,0)){case Z.WAIT_FAILED:ne();break;case Z.TIMEOUT_EXPIRED:setTimeout(ie,K);break;default:te()}}setTimeout(ie,K)})}function toNormalizedProjectionMatrix(Z){const _=Z.elements;_[2]=.5*_[2]+.5*_[3],_[6]=.5*_[6]+.5*_[7],_[10]=.5*_[10]+.5*_[11],_[14]=.5*_[14]+.5*_[15]}function toReversedProjectionMatrix(Z){const _=Z.elements;_[11]===-1?(_[10]=-_[10]-1,_[14]=-_[14]):(_[10]=-_[10],_[14]=-_[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const Z={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(ne,ie,oe){return this.enabled===!1||ie===oe||!ie||!oe||(this.spaces[ie].transfer===SRGBTransfer&&(ne.r=SRGBToLinear(ne.r),ne.g=SRGBToLinear(ne.g),ne.b=SRGBToLinear(ne.b)),this.spaces[ie].primaries!==this.spaces[oe].primaries&&(ne.applyMatrix3(this.spaces[ie].toXYZ),ne.applyMatrix3(this.spaces[oe].fromXYZ)),this.spaces[oe].transfer===SRGBTransfer&&(ne.r=LinearToSRGB(ne.r),ne.g=LinearToSRGB(ne.g),ne.b=LinearToSRGB(ne.b))),ne},fromWorkingColorSpace:function(ne,ie){return this.convert(ne,this.workingColorSpace,ie)},toWorkingColorSpace:function(ne,ie){return this.convert(ne,ie,this.workingColorSpace)},getPrimaries:function(ne){return this.spaces[ne].primaries},getTransfer:function(ne){return ne===NoColorSpace?LinearTransfer:this.spaces[ne].transfer},getLuminanceCoefficients:function(ne,ie=this.workingColorSpace){return ne.fromArray(this.spaces[ie].luminanceCoefficients)},define:function(ne){Object.assign(this.spaces,ne)},_getMatrix:function(ne,ie,oe){return ne.copy(this.spaces[ie].toXYZ).multiply(this.spaces[oe].fromXYZ)},_getDrawingBufferColorSpace:function(ne){return this.spaces[ne].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(ne=this.workingColorSpace){return this.spaces[ne].workingColorSpaceConfig.unpackColorSpace}},_=[.64,.33,.3,.6,.15,.06],K=[.2126,.7152,.0722],te=[.3127,.329];return Z.define({[LinearSRGBColorSpace]:{primaries:_,whitePoint:te,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:K,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:_,whitePoint:te,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:K,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),Z}const ColorManagement=createColorManagement();function SRGBToLinear(Z){return Z<.04045?Z*.0773993808:Math.pow(Z*.9478672986+.0521327014,2.4)}function LinearToSRGB(Z){return Z<.0031308?Z*12.92:1.055*Math.pow(Z,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(_){if(/^data:/i.test(_.src)||typeof HTMLCanvasElement>"u")return _.src;let K;if(_ instanceof HTMLCanvasElement)K=_;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=_.width,_canvas.height=_.height;const te=_canvas.getContext("2d");_ instanceof ImageData?te.putImageData(_,0,0):te.drawImage(_,0,0,_.width,_.height),K=_canvas}return K.width>2048||K.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",_),K.toDataURL("image/jpeg",.6)):K.toDataURL("image/png")}static sRGBToLinear(_){if(typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_ instanceof ImageBitmap){const K=createElementNS("canvas");K.width=_.width,K.height=_.height;const te=K.getContext("2d");te.drawImage(_,0,0,_.width,_.height);const ne=te.getImageData(0,0,_.width,_.height),ie=ne.data;for(let oe=0;oe<ie.length;oe++)ie[oe]=SRGBToLinear(ie[oe]/255)*255;return te.putImageData(ne,0,0),K}else if(_.data){const K=_.data.slice(0);for(let te=0;te<K.length;te++)K instanceof Uint8Array||K instanceof Uint8ClampedArray?K[te]=Math.floor(SRGBToLinear(K[te]/255)*255):K[te]=SRGBToLinear(K[te]);return{data:K,width:_.width,height:_.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),_}}let _sourceId=0;class Source{constructor(_=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=_,this.dataReady=!0,this.version=0}set needsUpdate(_){_===!0&&this.version++}toJSON(_){const K=_===void 0||typeof _=="string";if(!K&&_.images[this.uuid]!==void 0)return _.images[this.uuid];const te={uuid:this.uuid,url:""},ne=this.data;if(ne!==null){let ie;if(Array.isArray(ne)){ie=[];for(let oe=0,se=ne.length;oe<se;oe++)ne[oe].isDataTexture?ie.push(serializeImage(ne[oe].image)):ie.push(serializeImage(ne[oe]))}else ie=serializeImage(ne);te.url=ie}return K||(_.images[this.uuid]=te),te}}function serializeImage(Z){return typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap?ImageUtils.getDataURL(Z):Z.data?{data:Array.from(Z.data),width:Z.width,height:Z.height,type:Z.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(_=Texture.DEFAULT_IMAGE,K=Texture.DEFAULT_MAPPING,te=ClampToEdgeWrapping,ne=ClampToEdgeWrapping,ie=LinearFilter,oe=LinearMipmapLinearFilter,se=RGBAFormat,le=UnsignedByteType,ce=Texture.DEFAULT_ANISOTROPY,fe=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(_),this.mipmaps=[],this.mapping=K,this.channel=0,this.wrapS=te,this.wrapT=ne,this.magFilter=ie,this.minFilter=oe,this.anisotropy=ce,this.format=se,this.internalFormat=null,this.type=le,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=fe,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(_=null){this.source.data=_}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(_){return this.name=_.name,this.source=_.source,this.mipmaps=_.mipmaps.slice(0),this.mapping=_.mapping,this.channel=_.channel,this.wrapS=_.wrapS,this.wrapT=_.wrapT,this.magFilter=_.magFilter,this.minFilter=_.minFilter,this.anisotropy=_.anisotropy,this.format=_.format,this.internalFormat=_.internalFormat,this.type=_.type,this.offset.copy(_.offset),this.repeat.copy(_.repeat),this.center.copy(_.center),this.rotation=_.rotation,this.matrixAutoUpdate=_.matrixAutoUpdate,this.matrix.copy(_.matrix),this.generateMipmaps=_.generateMipmaps,this.premultiplyAlpha=_.premultiplyAlpha,this.flipY=_.flipY,this.unpackAlignment=_.unpackAlignment,this.colorSpace=_.colorSpace,this.userData=JSON.parse(JSON.stringify(_.userData)),this.needsUpdate=!0,this}toJSON(_){const K=_===void 0||typeof _=="string";if(!K&&_.textures[this.uuid]!==void 0)return _.textures[this.uuid];const te={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(_).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(te.userData=this.userData),K||(_.textures[this.uuid]=te),te}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(_){if(this.mapping!==UVMapping)return _;if(_.applyMatrix3(this.matrix),_.x<0||_.x>1)switch(this.wrapS){case RepeatWrapping:_.x=_.x-Math.floor(_.x);break;case ClampToEdgeWrapping:_.x=_.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_.x)%2)===1?_.x=Math.ceil(_.x)-_.x:_.x=_.x-Math.floor(_.x);break}if(_.y<0||_.y>1)switch(this.wrapT){case RepeatWrapping:_.y=_.y-Math.floor(_.y);break;case ClampToEdgeWrapping:_.y=_.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_.y)%2)===1?_.y=Math.ceil(_.y)-_.y:_.y=_.y-Math.floor(_.y);break}return this.flipY&&(_.y=1-_.y),_}set needsUpdate(_){_===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(_){_===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(_=0,K=0,te=0,ne=1){Vector4.prototype.isVector4=!0,this.x=_,this.y=K,this.z=te,this.w=ne}get width(){return this.z}set width(_){this.z=_}get height(){return this.w}set height(_){this.w=_}set(_,K,te,ne){return this.x=_,this.y=K,this.z=te,this.w=ne,this}setScalar(_){return this.x=_,this.y=_,this.z=_,this.w=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setZ(_){return this.z=_,this}setW(_){return this.w=_,this}setComponent(_,K){switch(_){case 0:this.x=K;break;case 1:this.y=K;break;case 2:this.z=K;break;case 3:this.w=K;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this.w=_.w!==void 0?_.w:1,this}add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this.w+=_.w,this}addScalar(_){return this.x+=_,this.y+=_,this.z+=_,this.w+=_,this}addVectors(_,K){return this.x=_.x+K.x,this.y=_.y+K.y,this.z=_.z+K.z,this.w=_.w+K.w,this}addScaledVector(_,K){return this.x+=_.x*K,this.y+=_.y*K,this.z+=_.z*K,this.w+=_.w*K,this}sub(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this.w-=_.w,this}subScalar(_){return this.x-=_,this.y-=_,this.z-=_,this.w-=_,this}subVectors(_,K){return this.x=_.x-K.x,this.y=_.y-K.y,this.z=_.z-K.z,this.w=_.w-K.w,this}multiply(_){return this.x*=_.x,this.y*=_.y,this.z*=_.z,this.w*=_.w,this}multiplyScalar(_){return this.x*=_,this.y*=_,this.z*=_,this.w*=_,this}applyMatrix4(_){const K=this.x,te=this.y,ne=this.z,ie=this.w,oe=_.elements;return this.x=oe[0]*K+oe[4]*te+oe[8]*ne+oe[12]*ie,this.y=oe[1]*K+oe[5]*te+oe[9]*ne+oe[13]*ie,this.z=oe[2]*K+oe[6]*te+oe[10]*ne+oe[14]*ie,this.w=oe[3]*K+oe[7]*te+oe[11]*ne+oe[15]*ie,this}divide(_){return this.x/=_.x,this.y/=_.y,this.z/=_.z,this.w/=_.w,this}divideScalar(_){return this.multiplyScalar(1/_)}setAxisAngleFromQuaternion(_){this.w=2*Math.acos(_.w);const K=Math.sqrt(1-_.w*_.w);return K<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=_.x/K,this.y=_.y/K,this.z=_.z/K),this}setAxisAngleFromRotationMatrix(_){let K,te,ne,ie;const le=_.elements,ce=le[0],fe=le[4],pe=le[8],me=le[1],ve=le[5],ye=le[9],Ee=le[2],Se=le[6],_e=le[10];if(Math.abs(fe-me)<.01&&Math.abs(pe-Ee)<.01&&Math.abs(ye-Se)<.01){if(Math.abs(fe+me)<.1&&Math.abs(pe+Ee)<.1&&Math.abs(ye+Se)<.1&&Math.abs(ce+ve+_e-3)<.1)return this.set(1,0,0,0),this;K=Math.PI;const Re=(ce+1)/2,Pe=(ve+1)/2,Fe=(_e+1)/2,$e=(fe+me)/4,ke=(pe+Ee)/4,ze=(ye+Se)/4;return Re>Pe&&Re>Fe?Re<.01?(te=0,ne=.707106781,ie=.707106781):(te=Math.sqrt(Re),ne=$e/te,ie=ke/te):Pe>Fe?Pe<.01?(te=.707106781,ne=0,ie=.707106781):(ne=Math.sqrt(Pe),te=$e/ne,ie=ze/ne):Fe<.01?(te=.707106781,ne=.707106781,ie=0):(ie=Math.sqrt(Fe),te=ke/ie,ne=ze/ie),this.set(te,ne,ie,K),this}let Te=Math.sqrt((Se-ye)*(Se-ye)+(pe-Ee)*(pe-Ee)+(me-fe)*(me-fe));return Math.abs(Te)<.001&&(Te=1),this.x=(Se-ye)/Te,this.y=(pe-Ee)/Te,this.z=(me-fe)/Te,this.w=Math.acos((ce+ve+_e-1)/2),this}setFromMatrixPosition(_){const K=_.elements;return this.x=K[12],this.y=K[13],this.z=K[14],this.w=K[15],this}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this.z=Math.min(this.z,_.z),this.w=Math.min(this.w,_.w),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this.z=Math.max(this.z,_.z),this.w=Math.max(this.w,_.w),this}clamp(_,K){return this.x=clamp$3(this.x,_.x,K.x),this.y=clamp$3(this.y,_.y,K.y),this.z=clamp$3(this.z,_.z,K.z),this.w=clamp$3(this.w,_.w,K.w),this}clampScalar(_,K){return this.x=clamp$3(this.x,_,K),this.y=clamp$3(this.y,_,K),this.z=clamp$3(this.z,_,K),this.w=clamp$3(this.w,_,K),this}clampLength(_,K){const te=this.length();return this.divideScalar(te||1).multiplyScalar(clamp$3(te,_,K))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(_){return this.x*_.x+this.y*_.y+this.z*_.z+this.w*_.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,K){return this.x+=(_.x-this.x)*K,this.y+=(_.y-this.y)*K,this.z+=(_.z-this.z)*K,this.w+=(_.w-this.w)*K,this}lerpVectors(_,K,te){return this.x=_.x+(K.x-_.x)*te,this.y=_.y+(K.y-_.y)*te,this.z=_.z+(K.z-_.z)*te,this.w=_.w+(K.w-_.w)*te,this}equals(_){return _.x===this.x&&_.y===this.y&&_.z===this.z&&_.w===this.w}fromArray(_,K=0){return this.x=_[K],this.y=_[K+1],this.z=_[K+2],this.w=_[K+3],this}toArray(_=[],K=0){return _[K]=this.x,_[K+1]=this.y,_[K+2]=this.z,_[K+3]=this.w,_}fromBufferAttribute(_,K){return this.x=_.getX(K),this.y=_.getY(K),this.z=_.getZ(K),this.w=_.getW(K),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(_=1,K=1,te={}){super(),this.isRenderTarget=!0,this.width=_,this.height=K,this.depth=1,this.scissor=new Vector4(0,0,_,K),this.scissorTest=!1,this.viewport=new Vector4(0,0,_,K);const ne={width:_,height:K,depth:1};te=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},te);const ie=new Texture(ne,te.mapping,te.wrapS,te.wrapT,te.magFilter,te.minFilter,te.format,te.type,te.anisotropy,te.colorSpace);ie.flipY=!1,ie.generateMipmaps=te.generateMipmaps,ie.internalFormat=te.internalFormat,this.textures=[];const oe=te.count;for(let se=0;se<oe;se++)this.textures[se]=ie.clone(),this.textures[se].isRenderTargetTexture=!0;this.depthBuffer=te.depthBuffer,this.stencilBuffer=te.stencilBuffer,this.resolveDepthBuffer=te.resolveDepthBuffer,this.resolveStencilBuffer=te.resolveStencilBuffer,this.depthTexture=te.depthTexture,this.samples=te.samples}get texture(){return this.textures[0]}set texture(_){this.textures[0]=_}setSize(_,K,te=1){if(this.width!==_||this.height!==K||this.depth!==te){this.width=_,this.height=K,this.depth=te;for(let ne=0,ie=this.textures.length;ne<ie;ne++)this.textures[ne].image.width=_,this.textures[ne].image.height=K,this.textures[ne].image.depth=te;this.dispose()}this.viewport.set(0,0,_,K),this.scissor.set(0,0,_,K)}clone(){return new this.constructor().copy(this)}copy(_){this.width=_.width,this.height=_.height,this.depth=_.depth,this.scissor.copy(_.scissor),this.scissorTest=_.scissorTest,this.viewport.copy(_.viewport),this.textures.length=0;for(let te=0,ne=_.textures.length;te<ne;te++)this.textures[te]=_.textures[te].clone(),this.textures[te].isRenderTargetTexture=!0;const K=Object.assign({},_.texture.image);return this.texture.source=new Source(K),this.depthBuffer=_.depthBuffer,this.stencilBuffer=_.stencilBuffer,this.resolveDepthBuffer=_.resolveDepthBuffer,this.resolveStencilBuffer=_.resolveStencilBuffer,_.depthTexture!==null&&(this.depthTexture=_.depthTexture.clone()),this.samples=_.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(_=1,K=1,te={}){super(_,K,te),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(_=null,K=1,te=1,ne=1){super(null),this.isDataArrayTexture=!0,this.image={data:_,width:K,height:te,depth:ne},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(_){this.layerUpdates.add(_)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(_=1,K=1,te=1,ne={}){super(_,K,ne),this.isWebGLArrayRenderTarget=!0,this.depth=te,this.texture=new DataArrayTexture(null,_,K,te),this.texture.isRenderTargetTexture=!0}}let Data3DTexture$1=class extends Texture{constructor(_=null,K=1,te=1,ne=1){super(null),this.isData3DTexture=!0,this.image={data:_,width:K,height:te,depth:ne},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(_=1,K=1,te=1,ne={}){super(_,K,ne),this.isWebGL3DRenderTarget=!0,this.depth=te,this.texture=new Data3DTexture$1(null,_,K,te),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(_=0,K=0,te=0,ne=1){this.isQuaternion=!0,this._x=_,this._y=K,this._z=te,this._w=ne}static slerpFlat(_,K,te,ne,ie,oe,se){let le=te[ne+0],ce=te[ne+1],fe=te[ne+2],pe=te[ne+3];const me=ie[oe+0],ve=ie[oe+1],ye=ie[oe+2],Ee=ie[oe+3];if(se===0){_[K+0]=le,_[K+1]=ce,_[K+2]=fe,_[K+3]=pe;return}if(se===1){_[K+0]=me,_[K+1]=ve,_[K+2]=ye,_[K+3]=Ee;return}if(pe!==Ee||le!==me||ce!==ve||fe!==ye){let Se=1-se;const _e=le*me+ce*ve+fe*ye+pe*Ee,Te=_e>=0?1:-1,Re=1-_e*_e;if(Re>Number.EPSILON){const Fe=Math.sqrt(Re),$e=Math.atan2(Fe,_e*Te);Se=Math.sin(Se*$e)/Fe,se=Math.sin(se*$e)/Fe}const Pe=se*Te;if(le=le*Se+me*Pe,ce=ce*Se+ve*Pe,fe=fe*Se+ye*Pe,pe=pe*Se+Ee*Pe,Se===1-se){const Fe=1/Math.sqrt(le*le+ce*ce+fe*fe+pe*pe);le*=Fe,ce*=Fe,fe*=Fe,pe*=Fe}}_[K]=le,_[K+1]=ce,_[K+2]=fe,_[K+3]=pe}static multiplyQuaternionsFlat(_,K,te,ne,ie,oe){const se=te[ne],le=te[ne+1],ce=te[ne+2],fe=te[ne+3],pe=ie[oe],me=ie[oe+1],ve=ie[oe+2],ye=ie[oe+3];return _[K]=se*ye+fe*pe+le*ve-ce*me,_[K+1]=le*ye+fe*me+ce*pe-se*ve,_[K+2]=ce*ye+fe*ve+se*me-le*pe,_[K+3]=fe*ye-se*pe-le*me-ce*ve,_}get x(){return this._x}set x(_){this._x=_,this._onChangeCallback()}get y(){return this._y}set y(_){this._y=_,this._onChangeCallback()}get z(){return this._z}set z(_){this._z=_,this._onChangeCallback()}get w(){return this._w}set w(_){this._w=_,this._onChangeCallback()}set(_,K,te,ne){return this._x=_,this._y=K,this._z=te,this._w=ne,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(_){return this._x=_.x,this._y=_.y,this._z=_.z,this._w=_.w,this._onChangeCallback(),this}setFromEuler(_,K=!0){const te=_._x,ne=_._y,ie=_._z,oe=_._order,se=Math.cos,le=Math.sin,ce=se(te/2),fe=se(ne/2),pe=se(ie/2),me=le(te/2),ve=le(ne/2),ye=le(ie/2);switch(oe){case"XYZ":this._x=me*fe*pe+ce*ve*ye,this._y=ce*ve*pe-me*fe*ye,this._z=ce*fe*ye+me*ve*pe,this._w=ce*fe*pe-me*ve*ye;break;case"YXZ":this._x=me*fe*pe+ce*ve*ye,this._y=ce*ve*pe-me*fe*ye,this._z=ce*fe*ye-me*ve*pe,this._w=ce*fe*pe+me*ve*ye;break;case"ZXY":this._x=me*fe*pe-ce*ve*ye,this._y=ce*ve*pe+me*fe*ye,this._z=ce*fe*ye+me*ve*pe,this._w=ce*fe*pe-me*ve*ye;break;case"ZYX":this._x=me*fe*pe-ce*ve*ye,this._y=ce*ve*pe+me*fe*ye,this._z=ce*fe*ye-me*ve*pe,this._w=ce*fe*pe+me*ve*ye;break;case"YZX":this._x=me*fe*pe+ce*ve*ye,this._y=ce*ve*pe+me*fe*ye,this._z=ce*fe*ye-me*ve*pe,this._w=ce*fe*pe-me*ve*ye;break;case"XZY":this._x=me*fe*pe-ce*ve*ye,this._y=ce*ve*pe-me*fe*ye,this._z=ce*fe*ye+me*ve*pe,this._w=ce*fe*pe+me*ve*ye;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+oe)}return K===!0&&this._onChangeCallback(),this}setFromAxisAngle(_,K){const te=K/2,ne=Math.sin(te);return this._x=_.x*ne,this._y=_.y*ne,this._z=_.z*ne,this._w=Math.cos(te),this._onChangeCallback(),this}setFromRotationMatrix(_){const K=_.elements,te=K[0],ne=K[4],ie=K[8],oe=K[1],se=K[5],le=K[9],ce=K[2],fe=K[6],pe=K[10],me=te+se+pe;if(me>0){const ve=.5/Math.sqrt(me+1);this._w=.25/ve,this._x=(fe-le)*ve,this._y=(ie-ce)*ve,this._z=(oe-ne)*ve}else if(te>se&&te>pe){const ve=2*Math.sqrt(1+te-se-pe);this._w=(fe-le)/ve,this._x=.25*ve,this._y=(ne+oe)/ve,this._z=(ie+ce)/ve}else if(se>pe){const ve=2*Math.sqrt(1+se-te-pe);this._w=(ie-ce)/ve,this._x=(ne+oe)/ve,this._y=.25*ve,this._z=(le+fe)/ve}else{const ve=2*Math.sqrt(1+pe-te-se);this._w=(oe-ne)/ve,this._x=(ie+ce)/ve,this._y=(le+fe)/ve,this._z=.25*ve}return this._onChangeCallback(),this}setFromUnitVectors(_,K){let te=_.dot(K)+1;return te<Number.EPSILON?(te=0,Math.abs(_.x)>Math.abs(_.z)?(this._x=-_.y,this._y=_.x,this._z=0,this._w=te):(this._x=0,this._y=-_.z,this._z=_.y,this._w=te)):(this._x=_.y*K.z-_.z*K.y,this._y=_.z*K.x-_.x*K.z,this._z=_.x*K.y-_.y*K.x,this._w=te),this.normalize()}angleTo(_){return 2*Math.acos(Math.abs(clamp$3(this.dot(_),-1,1)))}rotateTowards(_,K){const te=this.angleTo(_);if(te===0)return this;const ne=Math.min(1,K/te);return this.slerp(_,ne),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(_){return this._x*_._x+this._y*_._y+this._z*_._z+this._w*_._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let _=this.length();return _===0?(this._x=0,this._y=0,this._z=0,this._w=1):(_=1/_,this._x=this._x*_,this._y=this._y*_,this._z=this._z*_,this._w=this._w*_),this._onChangeCallback(),this}multiply(_){return this.multiplyQuaternions(this,_)}premultiply(_){return this.multiplyQuaternions(_,this)}multiplyQuaternions(_,K){const te=_._x,ne=_._y,ie=_._z,oe=_._w,se=K._x,le=K._y,ce=K._z,fe=K._w;return this._x=te*fe+oe*se+ne*ce-ie*le,this._y=ne*fe+oe*le+ie*se-te*ce,this._z=ie*fe+oe*ce+te*le-ne*se,this._w=oe*fe-te*se-ne*le-ie*ce,this._onChangeCallback(),this}slerp(_,K){if(K===0)return this;if(K===1)return this.copy(_);const te=this._x,ne=this._y,ie=this._z,oe=this._w;let se=oe*_._w+te*_._x+ne*_._y+ie*_._z;if(se<0?(this._w=-_._w,this._x=-_._x,this._y=-_._y,this._z=-_._z,se=-se):this.copy(_),se>=1)return this._w=oe,this._x=te,this._y=ne,this._z=ie,this;const le=1-se*se;if(le<=Number.EPSILON){const ve=1-K;return this._w=ve*oe+K*this._w,this._x=ve*te+K*this._x,this._y=ve*ne+K*this._y,this._z=ve*ie+K*this._z,this.normalize(),this}const ce=Math.sqrt(le),fe=Math.atan2(ce,se),pe=Math.sin((1-K)*fe)/ce,me=Math.sin(K*fe)/ce;return this._w=oe*pe+this._w*me,this._x=te*pe+this._x*me,this._y=ne*pe+this._y*me,this._z=ie*pe+this._z*me,this._onChangeCallback(),this}slerpQuaternions(_,K,te){return this.copy(_).slerp(K,te)}random(){const _=2*Math.PI*Math.random(),K=2*Math.PI*Math.random(),te=Math.random(),ne=Math.sqrt(1-te),ie=Math.sqrt(te);return this.set(ne*Math.sin(_),ne*Math.cos(_),ie*Math.sin(K),ie*Math.cos(K))}equals(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._w===this._w}fromArray(_,K=0){return this._x=_[K],this._y=_[K+1],this._z=_[K+2],this._w=_[K+3],this._onChangeCallback(),this}toArray(_=[],K=0){return _[K]=this._x,_[K+1]=this._y,_[K+2]=this._z,_[K+3]=this._w,_}fromBufferAttribute(_,K){return this._x=_.getX(K),this._y=_.getY(K),this._z=_.getZ(K),this._w=_.getW(K),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(_){return this._onChangeCallback=_,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(_=0,K=0,te=0){Vector3.prototype.isVector3=!0,this.x=_,this.y=K,this.z=te}set(_,K,te){return te===void 0&&(te=this.z),this.x=_,this.y=K,this.z=te,this}setScalar(_){return this.x=_,this.y=_,this.z=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setZ(_){return this.z=_,this}setComponent(_,K){switch(_){case 0:this.x=K;break;case 1:this.y=K;break;case 2:this.z=K;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this}add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this}addScalar(_){return this.x+=_,this.y+=_,this.z+=_,this}addVectors(_,K){return this.x=_.x+K.x,this.y=_.y+K.y,this.z=_.z+K.z,this}addScaledVector(_,K){return this.x+=_.x*K,this.y+=_.y*K,this.z+=_.z*K,this}sub(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this}subScalar(_){return this.x-=_,this.y-=_,this.z-=_,this}subVectors(_,K){return this.x=_.x-K.x,this.y=_.y-K.y,this.z=_.z-K.z,this}multiply(_){return this.x*=_.x,this.y*=_.y,this.z*=_.z,this}multiplyScalar(_){return this.x*=_,this.y*=_,this.z*=_,this}multiplyVectors(_,K){return this.x=_.x*K.x,this.y=_.y*K.y,this.z=_.z*K.z,this}applyEuler(_){return this.applyQuaternion(_quaternion$4.setFromEuler(_))}applyAxisAngle(_,K){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(_,K))}applyMatrix3(_){const K=this.x,te=this.y,ne=this.z,ie=_.elements;return this.x=ie[0]*K+ie[3]*te+ie[6]*ne,this.y=ie[1]*K+ie[4]*te+ie[7]*ne,this.z=ie[2]*K+ie[5]*te+ie[8]*ne,this}applyNormalMatrix(_){return this.applyMatrix3(_).normalize()}applyMatrix4(_){const K=this.x,te=this.y,ne=this.z,ie=_.elements,oe=1/(ie[3]*K+ie[7]*te+ie[11]*ne+ie[15]);return this.x=(ie[0]*K+ie[4]*te+ie[8]*ne+ie[12])*oe,this.y=(ie[1]*K+ie[5]*te+ie[9]*ne+ie[13])*oe,this.z=(ie[2]*K+ie[6]*te+ie[10]*ne+ie[14])*oe,this}applyQuaternion(_){const K=this.x,te=this.y,ne=this.z,ie=_.x,oe=_.y,se=_.z,le=_.w,ce=2*(oe*ne-se*te),fe=2*(se*K-ie*ne),pe=2*(ie*te-oe*K);return this.x=K+le*ce+oe*pe-se*fe,this.y=te+le*fe+se*ce-ie*pe,this.z=ne+le*pe+ie*fe-oe*ce,this}project(_){return this.applyMatrix4(_.matrixWorldInverse).applyMatrix4(_.projectionMatrix)}unproject(_){return this.applyMatrix4(_.projectionMatrixInverse).applyMatrix4(_.matrixWorld)}transformDirection(_){const K=this.x,te=this.y,ne=this.z,ie=_.elements;return this.x=ie[0]*K+ie[4]*te+ie[8]*ne,this.y=ie[1]*K+ie[5]*te+ie[9]*ne,this.z=ie[2]*K+ie[6]*te+ie[10]*ne,this.normalize()}divide(_){return this.x/=_.x,this.y/=_.y,this.z/=_.z,this}divideScalar(_){return this.multiplyScalar(1/_)}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this.z=Math.min(this.z,_.z),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this.z=Math.max(this.z,_.z),this}clamp(_,K){return this.x=clamp$3(this.x,_.x,K.x),this.y=clamp$3(this.y,_.y,K.y),this.z=clamp$3(this.z,_.z,K.z),this}clampScalar(_,K){return this.x=clamp$3(this.x,_,K),this.y=clamp$3(this.y,_,K),this.z=clamp$3(this.z,_,K),this}clampLength(_,K){const te=this.length();return this.divideScalar(te||1).multiplyScalar(clamp$3(te,_,K))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(_){return this.x*_.x+this.y*_.y+this.z*_.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,K){return this.x+=(_.x-this.x)*K,this.y+=(_.y-this.y)*K,this.z+=(_.z-this.z)*K,this}lerpVectors(_,K,te){return this.x=_.x+(K.x-_.x)*te,this.y=_.y+(K.y-_.y)*te,this.z=_.z+(K.z-_.z)*te,this}cross(_){return this.crossVectors(this,_)}crossVectors(_,K){const te=_.x,ne=_.y,ie=_.z,oe=K.x,se=K.y,le=K.z;return this.x=ne*le-ie*se,this.y=ie*oe-te*le,this.z=te*se-ne*oe,this}projectOnVector(_){const K=_.lengthSq();if(K===0)return this.set(0,0,0);const te=_.dot(this)/K;return this.copy(_).multiplyScalar(te)}projectOnPlane(_){return _vector$c.copy(this).projectOnVector(_),this.sub(_vector$c)}reflect(_){return this.sub(_vector$c.copy(_).multiplyScalar(2*this.dot(_)))}angleTo(_){const K=Math.sqrt(this.lengthSq()*_.lengthSq());if(K===0)return Math.PI/2;const te=this.dot(_)/K;return Math.acos(clamp$3(te,-1,1))}distanceTo(_){return Math.sqrt(this.distanceToSquared(_))}distanceToSquared(_){const K=this.x-_.x,te=this.y-_.y,ne=this.z-_.z;return K*K+te*te+ne*ne}manhattanDistanceTo(_){return Math.abs(this.x-_.x)+Math.abs(this.y-_.y)+Math.abs(this.z-_.z)}setFromSpherical(_){return this.setFromSphericalCoords(_.radius,_.phi,_.theta)}setFromSphericalCoords(_,K,te){const ne=Math.sin(K)*_;return this.x=ne*Math.sin(te),this.y=Math.cos(K)*_,this.z=ne*Math.cos(te),this}setFromCylindrical(_){return this.setFromCylindricalCoords(_.radius,_.theta,_.y)}setFromCylindricalCoords(_,K,te){return this.x=_*Math.sin(K),this.y=te,this.z=_*Math.cos(K),this}setFromMatrixPosition(_){const K=_.elements;return this.x=K[12],this.y=K[13],this.z=K[14],this}setFromMatrixScale(_){const K=this.setFromMatrixColumn(_,0).length(),te=this.setFromMatrixColumn(_,1).length(),ne=this.setFromMatrixColumn(_,2).length();return this.x=K,this.y=te,this.z=ne,this}setFromMatrixColumn(_,K){return this.fromArray(_.elements,K*4)}setFromMatrix3Column(_,K){return this.fromArray(_.elements,K*3)}setFromEuler(_){return this.x=_._x,this.y=_._y,this.z=_._z,this}setFromColor(_){return this.x=_.r,this.y=_.g,this.z=_.b,this}equals(_){return _.x===this.x&&_.y===this.y&&_.z===this.z}fromArray(_,K=0){return this.x=_[K],this.y=_[K+1],this.z=_[K+2],this}toArray(_=[],K=0){return _[K]=this.x,_[K+1]=this.y,_[K+2]=this.z,_}fromBufferAttribute(_,K){return this.x=_.getX(K),this.y=_.getY(K),this.z=_.getZ(K),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const _=Math.random()*Math.PI*2,K=Math.random()*2-1,te=Math.sqrt(1-K*K);return this.x=te*Math.cos(_),this.y=K,this.z=te*Math.sin(_),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(_=new Vector3(1/0,1/0,1/0),K=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=_,this.max=K}set(_,K){return this.min.copy(_),this.max.copy(K),this}setFromArray(_){this.makeEmpty();for(let K=0,te=_.length;K<te;K+=3)this.expandByPoint(_vector$b.fromArray(_,K));return this}setFromBufferAttribute(_){this.makeEmpty();for(let K=0,te=_.count;K<te;K++)this.expandByPoint(_vector$b.fromBufferAttribute(_,K));return this}setFromPoints(_){this.makeEmpty();for(let K=0,te=_.length;K<te;K++)this.expandByPoint(_[K]);return this}setFromCenterAndSize(_,K){const te=_vector$b.copy(K).multiplyScalar(.5);return this.min.copy(_).sub(te),this.max.copy(_).add(te),this}setFromObject(_,K=!1){return this.makeEmpty(),this.expandByObject(_,K)}clone(){return new this.constructor().copy(this)}copy(_){return this.min.copy(_.min),this.max.copy(_.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(_){return this.isEmpty()?_.set(0,0,0):_.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_){return this.isEmpty()?_.set(0,0,0):_.subVectors(this.max,this.min)}expandByPoint(_){return this.min.min(_),this.max.max(_),this}expandByVector(_){return this.min.sub(_),this.max.add(_),this}expandByScalar(_){return this.min.addScalar(-_),this.max.addScalar(_),this}expandByObject(_,K=!1){_.updateWorldMatrix(!1,!1);const te=_.geometry;if(te!==void 0){const ie=te.getAttribute("position");if(K===!0&&ie!==void 0&&_.isInstancedMesh!==!0)for(let oe=0,se=ie.count;oe<se;oe++)_.isMesh===!0?_.getVertexPosition(oe,_vector$b):_vector$b.fromBufferAttribute(ie,oe),_vector$b.applyMatrix4(_.matrixWorld),this.expandByPoint(_vector$b);else _.boundingBox!==void 0?(_.boundingBox===null&&_.computeBoundingBox(),_box$4.copy(_.boundingBox)):(te.boundingBox===null&&te.computeBoundingBox(),_box$4.copy(te.boundingBox)),_box$4.applyMatrix4(_.matrixWorld),this.union(_box$4)}const ne=_.children;for(let ie=0,oe=ne.length;ie<oe;ie++)this.expandByObject(ne[ie],K);return this}containsPoint(_){return _.x>=this.min.x&&_.x<=this.max.x&&_.y>=this.min.y&&_.y<=this.max.y&&_.z>=this.min.z&&_.z<=this.max.z}containsBox(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y&&this.min.z<=_.min.z&&_.max.z<=this.max.z}getParameter(_,K){return K.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y),(_.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(_){return _.max.x>=this.min.x&&_.min.x<=this.max.x&&_.max.y>=this.min.y&&_.min.y<=this.max.y&&_.max.z>=this.min.z&&_.min.z<=this.max.z}intersectsSphere(_){return this.clampPoint(_.center,_vector$b),_vector$b.distanceToSquared(_.center)<=_.radius*_.radius}intersectsPlane(_){let K,te;return _.normal.x>0?(K=_.normal.x*this.min.x,te=_.normal.x*this.max.x):(K=_.normal.x*this.max.x,te=_.normal.x*this.min.x),_.normal.y>0?(K+=_.normal.y*this.min.y,te+=_.normal.y*this.max.y):(K+=_.normal.y*this.max.y,te+=_.normal.y*this.min.y),_.normal.z>0?(K+=_.normal.z*this.min.z,te+=_.normal.z*this.max.z):(K+=_.normal.z*this.max.z,te+=_.normal.z*this.min.z),K<=-_.constant&&te>=-_.constant}intersectsTriangle(_){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(_.a,_center),_v1$7.subVectors(_.b,_center),_v2$4.subVectors(_.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let K=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(K,_v0$2,_v1$7,_v2$4,_extents)||(K=[1,0,0,0,1,0,0,0,1],!satForAxes(K,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),K=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(K,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(_,K){return K.copy(_).clamp(this.min,this.max)}distanceToPoint(_){return this.clampPoint(_,_vector$b).distanceTo(_)}getBoundingSphere(_){return this.isEmpty()?_.makeEmpty():(this.getCenter(_.center),_.radius=this.getSize(_vector$b).length()*.5),_}intersect(_){return this.min.max(_.min),this.max.min(_.max),this.isEmpty()&&this.makeEmpty(),this}union(_){return this.min.min(_.min),this.max.max(_.max),this}applyMatrix4(_){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(_),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(_),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(_),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(_),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(_),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(_),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(_),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(_),this.setFromPoints(_points),this)}translate(_){return this.min.add(_),this.max.add(_),this}equals(_){return _.min.equals(this.min)&&_.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(Z,_,K,te,ne){for(let ie=0,oe=Z.length-3;ie<=oe;ie+=3){_testAxis.fromArray(Z,ie);const se=ne.x*Math.abs(_testAxis.x)+ne.y*Math.abs(_testAxis.y)+ne.z*Math.abs(_testAxis.z),le=_.dot(_testAxis),ce=K.dot(_testAxis),fe=te.dot(_testAxis);if(Math.max(-Math.max(le,ce,fe),Math.min(le,ce,fe))>se)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(_=new Vector3,K=-1){this.isSphere=!0,this.center=_,this.radius=K}set(_,K){return this.center.copy(_),this.radius=K,this}setFromPoints(_,K){const te=this.center;K!==void 0?te.copy(K):_box$3.setFromPoints(_).getCenter(te);let ne=0;for(let ie=0,oe=_.length;ie<oe;ie++)ne=Math.max(ne,te.distanceToSquared(_[ie]));return this.radius=Math.sqrt(ne),this}copy(_){return this.center.copy(_.center),this.radius=_.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(_){return _.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(_){return _.distanceTo(this.center)-this.radius}intersectsSphere(_){const K=this.radius+_.radius;return _.center.distanceToSquared(this.center)<=K*K}intersectsBox(_){return _.intersectsSphere(this)}intersectsPlane(_){return Math.abs(_.distanceToPoint(this.center))<=this.radius}clampPoint(_,K){const te=this.center.distanceToSquared(_);return K.copy(_),te>this.radius*this.radius&&(K.sub(this.center).normalize(),K.multiplyScalar(this.radius).add(this.center)),K}getBoundingBox(_){return this.isEmpty()?(_.makeEmpty(),_):(_.set(this.center,this.center),_.expandByScalar(this.radius),_)}applyMatrix4(_){return this.center.applyMatrix4(_),this.radius=this.radius*_.getMaxScaleOnAxis(),this}translate(_){return this.center.add(_),this}expandByPoint(_){if(this.isEmpty())return this.center.copy(_),this.radius=0,this;_v1$6.subVectors(_,this.center);const K=_v1$6.lengthSq();if(K>this.radius*this.radius){const te=Math.sqrt(K),ne=(te-this.radius)*.5;this.center.addScaledVector(_v1$6,ne/te),this.radius+=ne}return this}union(_){return _.isEmpty()?this:this.isEmpty()?(this.copy(_),this):(this.center.equals(_.center)===!0?this.radius=Math.max(this.radius,_.radius):(_v2$3.subVectors(_.center,this.center).setLength(_.radius),this.expandByPoint(_v1$6.copy(_.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(_.center).sub(_v2$3))),this)}equals(_){return _.center.equals(this.center)&&_.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(_=new Vector3,K=new Vector3(0,0,-1)){this.origin=_,this.direction=K}set(_,K){return this.origin.copy(_),this.direction.copy(K),this}copy(_){return this.origin.copy(_.origin),this.direction.copy(_.direction),this}at(_,K){return K.copy(this.origin).addScaledVector(this.direction,_)}lookAt(_){return this.direction.copy(_).sub(this.origin).normalize(),this}recast(_){return this.origin.copy(this.at(_,_vector$a)),this}closestPointToPoint(_,K){K.subVectors(_,this.origin);const te=K.dot(this.direction);return te<0?K.copy(this.origin):K.copy(this.origin).addScaledVector(this.direction,te)}distanceToPoint(_){return Math.sqrt(this.distanceSqToPoint(_))}distanceSqToPoint(_){const K=_vector$a.subVectors(_,this.origin).dot(this.direction);return K<0?this.origin.distanceToSquared(_):(_vector$a.copy(this.origin).addScaledVector(this.direction,K),_vector$a.distanceToSquared(_))}distanceSqToSegment(_,K,te,ne){_segCenter.copy(_).add(K).multiplyScalar(.5),_segDir.copy(K).sub(_).normalize(),_diff.copy(this.origin).sub(_segCenter);const ie=_.distanceTo(K)*.5,oe=-this.direction.dot(_segDir),se=_diff.dot(this.direction),le=-_diff.dot(_segDir),ce=_diff.lengthSq(),fe=Math.abs(1-oe*oe);let pe,me,ve,ye;if(fe>0)if(pe=oe*le-se,me=oe*se-le,ye=ie*fe,pe>=0)if(me>=-ye)if(me<=ye){const Ee=1/fe;pe*=Ee,me*=Ee,ve=pe*(pe+oe*me+2*se)+me*(oe*pe+me+2*le)+ce}else me=ie,pe=Math.max(0,-(oe*me+se)),ve=-pe*pe+me*(me+2*le)+ce;else me=-ie,pe=Math.max(0,-(oe*me+se)),ve=-pe*pe+me*(me+2*le)+ce;else me<=-ye?(pe=Math.max(0,-(-oe*ie+se)),me=pe>0?-ie:Math.min(Math.max(-ie,-le),ie),ve=-pe*pe+me*(me+2*le)+ce):me<=ye?(pe=0,me=Math.min(Math.max(-ie,-le),ie),ve=me*(me+2*le)+ce):(pe=Math.max(0,-(oe*ie+se)),me=pe>0?ie:Math.min(Math.max(-ie,-le),ie),ve=-pe*pe+me*(me+2*le)+ce);else me=oe>0?-ie:ie,pe=Math.max(0,-(oe*me+se)),ve=-pe*pe+me*(me+2*le)+ce;return te&&te.copy(this.origin).addScaledVector(this.direction,pe),ne&&ne.copy(_segCenter).addScaledVector(_segDir,me),ve}intersectSphere(_,K){_vector$a.subVectors(_.center,this.origin);const te=_vector$a.dot(this.direction),ne=_vector$a.dot(_vector$a)-te*te,ie=_.radius*_.radius;if(ne>ie)return null;const oe=Math.sqrt(ie-ne),se=te-oe,le=te+oe;return le<0?null:se<0?this.at(le,K):this.at(se,K)}intersectsSphere(_){return this.distanceSqToPoint(_.center)<=_.radius*_.radius}distanceToPlane(_){const K=_.normal.dot(this.direction);if(K===0)return _.distanceToPoint(this.origin)===0?0:null;const te=-(this.origin.dot(_.normal)+_.constant)/K;return te>=0?te:null}intersectPlane(_,K){const te=this.distanceToPlane(_);return te===null?null:this.at(te,K)}intersectsPlane(_){const K=_.distanceToPoint(this.origin);return K===0||_.normal.dot(this.direction)*K<0}intersectBox(_,K){let te,ne,ie,oe,se,le;const ce=1/this.direction.x,fe=1/this.direction.y,pe=1/this.direction.z,me=this.origin;return ce>=0?(te=(_.min.x-me.x)*ce,ne=(_.max.x-me.x)*ce):(te=(_.max.x-me.x)*ce,ne=(_.min.x-me.x)*ce),fe>=0?(ie=(_.min.y-me.y)*fe,oe=(_.max.y-me.y)*fe):(ie=(_.max.y-me.y)*fe,oe=(_.min.y-me.y)*fe),te>oe||ie>ne||((ie>te||isNaN(te))&&(te=ie),(oe<ne||isNaN(ne))&&(ne=oe),pe>=0?(se=(_.min.z-me.z)*pe,le=(_.max.z-me.z)*pe):(se=(_.max.z-me.z)*pe,le=(_.min.z-me.z)*pe),te>le||se>ne)||((se>te||te!==te)&&(te=se),(le<ne||ne!==ne)&&(ne=le),ne<0)?null:this.at(te>=0?te:ne,K)}intersectsBox(_){return this.intersectBox(_,_vector$a)!==null}intersectTriangle(_,K,te,ne,ie){_edge1.subVectors(K,_),_edge2.subVectors(te,_),_normal$1.crossVectors(_edge1,_edge2);let oe=this.direction.dot(_normal$1),se;if(oe>0){if(ne)return null;se=1}else if(oe<0)se=-1,oe=-oe;else return null;_diff.subVectors(this.origin,_);const le=se*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(le<0)return null;const ce=se*this.direction.dot(_edge1.cross(_diff));if(ce<0||le+ce>oe)return null;const fe=-se*_diff.dot(_normal$1);return fe<0?null:this.at(fe/oe,ie)}applyMatrix4(_){return this.origin.applyMatrix4(_),this.direction.transformDirection(_),this}equals(_){return _.origin.equals(this.origin)&&_.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(_,K,te,ne,ie,oe,se,le,ce,fe,pe,me,ve,ye,Ee,Se){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_!==void 0&&this.set(_,K,te,ne,ie,oe,se,le,ce,fe,pe,me,ve,ye,Ee,Se)}set(_,K,te,ne,ie,oe,se,le,ce,fe,pe,me,ve,ye,Ee,Se){const _e=this.elements;return _e[0]=_,_e[4]=K,_e[8]=te,_e[12]=ne,_e[1]=ie,_e[5]=oe,_e[9]=se,_e[13]=le,_e[2]=ce,_e[6]=fe,_e[10]=pe,_e[14]=me,_e[3]=ve,_e[7]=ye,_e[11]=Ee,_e[15]=Se,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(_){const K=this.elements,te=_.elements;return K[0]=te[0],K[1]=te[1],K[2]=te[2],K[3]=te[3],K[4]=te[4],K[5]=te[5],K[6]=te[6],K[7]=te[7],K[8]=te[8],K[9]=te[9],K[10]=te[10],K[11]=te[11],K[12]=te[12],K[13]=te[13],K[14]=te[14],K[15]=te[15],this}copyPosition(_){const K=this.elements,te=_.elements;return K[12]=te[12],K[13]=te[13],K[14]=te[14],this}setFromMatrix3(_){const K=_.elements;return this.set(K[0],K[3],K[6],0,K[1],K[4],K[7],0,K[2],K[5],K[8],0,0,0,0,1),this}extractBasis(_,K,te){return _.setFromMatrixColumn(this,0),K.setFromMatrixColumn(this,1),te.setFromMatrixColumn(this,2),this}makeBasis(_,K,te){return this.set(_.x,K.x,te.x,0,_.y,K.y,te.y,0,_.z,K.z,te.z,0,0,0,0,1),this}extractRotation(_){const K=this.elements,te=_.elements,ne=1/_v1$5.setFromMatrixColumn(_,0).length(),ie=1/_v1$5.setFromMatrixColumn(_,1).length(),oe=1/_v1$5.setFromMatrixColumn(_,2).length();return K[0]=te[0]*ne,K[1]=te[1]*ne,K[2]=te[2]*ne,K[3]=0,K[4]=te[4]*ie,K[5]=te[5]*ie,K[6]=te[6]*ie,K[7]=0,K[8]=te[8]*oe,K[9]=te[9]*oe,K[10]=te[10]*oe,K[11]=0,K[12]=0,K[13]=0,K[14]=0,K[15]=1,this}makeRotationFromEuler(_){const K=this.elements,te=_.x,ne=_.y,ie=_.z,oe=Math.cos(te),se=Math.sin(te),le=Math.cos(ne),ce=Math.sin(ne),fe=Math.cos(ie),pe=Math.sin(ie);if(_.order==="XYZ"){const me=oe*fe,ve=oe*pe,ye=se*fe,Ee=se*pe;K[0]=le*fe,K[4]=-le*pe,K[8]=ce,K[1]=ve+ye*ce,K[5]=me-Ee*ce,K[9]=-se*le,K[2]=Ee-me*ce,K[6]=ye+ve*ce,K[10]=oe*le}else if(_.order==="YXZ"){const me=le*fe,ve=le*pe,ye=ce*fe,Ee=ce*pe;K[0]=me+Ee*se,K[4]=ye*se-ve,K[8]=oe*ce,K[1]=oe*pe,K[5]=oe*fe,K[9]=-se,K[2]=ve*se-ye,K[6]=Ee+me*se,K[10]=oe*le}else if(_.order==="ZXY"){const me=le*fe,ve=le*pe,ye=ce*fe,Ee=ce*pe;K[0]=me-Ee*se,K[4]=-oe*pe,K[8]=ye+ve*se,K[1]=ve+ye*se,K[5]=oe*fe,K[9]=Ee-me*se,K[2]=-oe*ce,K[6]=se,K[10]=oe*le}else if(_.order==="ZYX"){const me=oe*fe,ve=oe*pe,ye=se*fe,Ee=se*pe;K[0]=le*fe,K[4]=ye*ce-ve,K[8]=me*ce+Ee,K[1]=le*pe,K[5]=Ee*ce+me,K[9]=ve*ce-ye,K[2]=-ce,K[6]=se*le,K[10]=oe*le}else if(_.order==="YZX"){const me=oe*le,ve=oe*ce,ye=se*le,Ee=se*ce;K[0]=le*fe,K[4]=Ee-me*pe,K[8]=ye*pe+ve,K[1]=pe,K[5]=oe*fe,K[9]=-se*fe,K[2]=-ce*fe,K[6]=ve*pe+ye,K[10]=me-Ee*pe}else if(_.order==="XZY"){const me=oe*le,ve=oe*ce,ye=se*le,Ee=se*ce;K[0]=le*fe,K[4]=-pe,K[8]=ce*fe,K[1]=me*pe+Ee,K[5]=oe*fe,K[9]=ve*pe-ye,K[2]=ye*pe-ve,K[6]=se*fe,K[10]=Ee*pe+me}return K[3]=0,K[7]=0,K[11]=0,K[12]=0,K[13]=0,K[14]=0,K[15]=1,this}makeRotationFromQuaternion(_){return this.compose(_zero,_,_one)}lookAt(_,K,te){const ne=this.elements;return _z.subVectors(_,K),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(te,_z),_x.lengthSq()===0&&(Math.abs(te.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(te,_z)),_x.normalize(),_y.crossVectors(_z,_x),ne[0]=_x.x,ne[4]=_y.x,ne[8]=_z.x,ne[1]=_x.y,ne[5]=_y.y,ne[9]=_z.y,ne[2]=_x.z,ne[6]=_y.z,ne[10]=_z.z,this}multiply(_){return this.multiplyMatrices(this,_)}premultiply(_){return this.multiplyMatrices(_,this)}multiplyMatrices(_,K){const te=_.elements,ne=K.elements,ie=this.elements,oe=te[0],se=te[4],le=te[8],ce=te[12],fe=te[1],pe=te[5],me=te[9],ve=te[13],ye=te[2],Ee=te[6],Se=te[10],_e=te[14],Te=te[3],Re=te[7],Pe=te[11],Fe=te[15],$e=ne[0],ke=ne[4],ze=ne[8],Ue=ne[12],Oe=ne[1],Ve=ne[5],Ye=ne[9],Ke=ne[13],rt=ne[2],ct=ne[6],at=ne[10],mt=ne[14],je=ne[3],it=ne[7],et=ne[11],qe=ne[15];return ie[0]=oe*$e+se*Oe+le*rt+ce*je,ie[4]=oe*ke+se*Ve+le*ct+ce*it,ie[8]=oe*ze+se*Ye+le*at+ce*et,ie[12]=oe*Ue+se*Ke+le*mt+ce*qe,ie[1]=fe*$e+pe*Oe+me*rt+ve*je,ie[5]=fe*ke+pe*Ve+me*ct+ve*it,ie[9]=fe*ze+pe*Ye+me*at+ve*et,ie[13]=fe*Ue+pe*Ke+me*mt+ve*qe,ie[2]=ye*$e+Ee*Oe+Se*rt+_e*je,ie[6]=ye*ke+Ee*Ve+Se*ct+_e*it,ie[10]=ye*ze+Ee*Ye+Se*at+_e*et,ie[14]=ye*Ue+Ee*Ke+Se*mt+_e*qe,ie[3]=Te*$e+Re*Oe+Pe*rt+Fe*je,ie[7]=Te*ke+Re*Ve+Pe*ct+Fe*it,ie[11]=Te*ze+Re*Ye+Pe*at+Fe*et,ie[15]=Te*Ue+Re*Ke+Pe*mt+Fe*qe,this}multiplyScalar(_){const K=this.elements;return K[0]*=_,K[4]*=_,K[8]*=_,K[12]*=_,K[1]*=_,K[5]*=_,K[9]*=_,K[13]*=_,K[2]*=_,K[6]*=_,K[10]*=_,K[14]*=_,K[3]*=_,K[7]*=_,K[11]*=_,K[15]*=_,this}determinant(){const _=this.elements,K=_[0],te=_[4],ne=_[8],ie=_[12],oe=_[1],se=_[5],le=_[9],ce=_[13],fe=_[2],pe=_[6],me=_[10],ve=_[14],ye=_[3],Ee=_[7],Se=_[11],_e=_[15];return ye*(+ie*le*pe-ne*ce*pe-ie*se*me+te*ce*me+ne*se*ve-te*le*ve)+Ee*(+K*le*ve-K*ce*me+ie*oe*me-ne*oe*ve+ne*ce*fe-ie*le*fe)+Se*(+K*ce*pe-K*se*ve-ie*oe*pe+te*oe*ve+ie*se*fe-te*ce*fe)+_e*(-ne*se*fe-K*le*pe+K*se*me+ne*oe*pe-te*oe*me+te*le*fe)}transpose(){const _=this.elements;let K;return K=_[1],_[1]=_[4],_[4]=K,K=_[2],_[2]=_[8],_[8]=K,K=_[6],_[6]=_[9],_[9]=K,K=_[3],_[3]=_[12],_[12]=K,K=_[7],_[7]=_[13],_[13]=K,K=_[11],_[11]=_[14],_[14]=K,this}setPosition(_,K,te){const ne=this.elements;return _.isVector3?(ne[12]=_.x,ne[13]=_.y,ne[14]=_.z):(ne[12]=_,ne[13]=K,ne[14]=te),this}invert(){const _=this.elements,K=_[0],te=_[1],ne=_[2],ie=_[3],oe=_[4],se=_[5],le=_[6],ce=_[7],fe=_[8],pe=_[9],me=_[10],ve=_[11],ye=_[12],Ee=_[13],Se=_[14],_e=_[15],Te=pe*Se*ce-Ee*me*ce+Ee*le*ve-se*Se*ve-pe*le*_e+se*me*_e,Re=ye*me*ce-fe*Se*ce-ye*le*ve+oe*Se*ve+fe*le*_e-oe*me*_e,Pe=fe*Ee*ce-ye*pe*ce+ye*se*ve-oe*Ee*ve-fe*se*_e+oe*pe*_e,Fe=ye*pe*le-fe*Ee*le-ye*se*me+oe*Ee*me+fe*se*Se-oe*pe*Se,$e=K*Te+te*Re+ne*Pe+ie*Fe;if($e===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ke=1/$e;return _[0]=Te*ke,_[1]=(Ee*me*ie-pe*Se*ie-Ee*ne*ve+te*Se*ve+pe*ne*_e-te*me*_e)*ke,_[2]=(se*Se*ie-Ee*le*ie+Ee*ne*ce-te*Se*ce-se*ne*_e+te*le*_e)*ke,_[3]=(pe*le*ie-se*me*ie-pe*ne*ce+te*me*ce+se*ne*ve-te*le*ve)*ke,_[4]=Re*ke,_[5]=(fe*Se*ie-ye*me*ie+ye*ne*ve-K*Se*ve-fe*ne*_e+K*me*_e)*ke,_[6]=(ye*le*ie-oe*Se*ie-ye*ne*ce+K*Se*ce+oe*ne*_e-K*le*_e)*ke,_[7]=(oe*me*ie-fe*le*ie+fe*ne*ce-K*me*ce-oe*ne*ve+K*le*ve)*ke,_[8]=Pe*ke,_[9]=(ye*pe*ie-fe*Ee*ie-ye*te*ve+K*Ee*ve+fe*te*_e-K*pe*_e)*ke,_[10]=(oe*Ee*ie-ye*se*ie+ye*te*ce-K*Ee*ce-oe*te*_e+K*se*_e)*ke,_[11]=(fe*se*ie-oe*pe*ie-fe*te*ce+K*pe*ce+oe*te*ve-K*se*ve)*ke,_[12]=Fe*ke,_[13]=(fe*Ee*ne-ye*pe*ne+ye*te*me-K*Ee*me-fe*te*Se+K*pe*Se)*ke,_[14]=(ye*se*ne-oe*Ee*ne-ye*te*le+K*Ee*le+oe*te*Se-K*se*Se)*ke,_[15]=(oe*pe*ne-fe*se*ne+fe*te*le-K*pe*le-oe*te*me+K*se*me)*ke,this}scale(_){const K=this.elements,te=_.x,ne=_.y,ie=_.z;return K[0]*=te,K[4]*=ne,K[8]*=ie,K[1]*=te,K[5]*=ne,K[9]*=ie,K[2]*=te,K[6]*=ne,K[10]*=ie,K[3]*=te,K[7]*=ne,K[11]*=ie,this}getMaxScaleOnAxis(){const _=this.elements,K=_[0]*_[0]+_[1]*_[1]+_[2]*_[2],te=_[4]*_[4]+_[5]*_[5]+_[6]*_[6],ne=_[8]*_[8]+_[9]*_[9]+_[10]*_[10];return Math.sqrt(Math.max(K,te,ne))}makeTranslation(_,K,te){return _.isVector3?this.set(1,0,0,_.x,0,1,0,_.y,0,0,1,_.z,0,0,0,1):this.set(1,0,0,_,0,1,0,K,0,0,1,te,0,0,0,1),this}makeRotationX(_){const K=Math.cos(_),te=Math.sin(_);return this.set(1,0,0,0,0,K,-te,0,0,te,K,0,0,0,0,1),this}makeRotationY(_){const K=Math.cos(_),te=Math.sin(_);return this.set(K,0,te,0,0,1,0,0,-te,0,K,0,0,0,0,1),this}makeRotationZ(_){const K=Math.cos(_),te=Math.sin(_);return this.set(K,-te,0,0,te,K,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(_,K){const te=Math.cos(K),ne=Math.sin(K),ie=1-te,oe=_.x,se=_.y,le=_.z,ce=ie*oe,fe=ie*se;return this.set(ce*oe+te,ce*se-ne*le,ce*le+ne*se,0,ce*se+ne*le,fe*se+te,fe*le-ne*oe,0,ce*le-ne*se,fe*le+ne*oe,ie*le*le+te,0,0,0,0,1),this}makeScale(_,K,te){return this.set(_,0,0,0,0,K,0,0,0,0,te,0,0,0,0,1),this}makeShear(_,K,te,ne,ie,oe){return this.set(1,te,ie,0,_,1,oe,0,K,ne,1,0,0,0,0,1),this}compose(_,K,te){const ne=this.elements,ie=K._x,oe=K._y,se=K._z,le=K._w,ce=ie+ie,fe=oe+oe,pe=se+se,me=ie*ce,ve=ie*fe,ye=ie*pe,Ee=oe*fe,Se=oe*pe,_e=se*pe,Te=le*ce,Re=le*fe,Pe=le*pe,Fe=te.x,$e=te.y,ke=te.z;return ne[0]=(1-(Ee+_e))*Fe,ne[1]=(ve+Pe)*Fe,ne[2]=(ye-Re)*Fe,ne[3]=0,ne[4]=(ve-Pe)*$e,ne[5]=(1-(me+_e))*$e,ne[6]=(Se+Te)*$e,ne[7]=0,ne[8]=(ye+Re)*ke,ne[9]=(Se-Te)*ke,ne[10]=(1-(me+Ee))*ke,ne[11]=0,ne[12]=_.x,ne[13]=_.y,ne[14]=_.z,ne[15]=1,this}decompose(_,K,te){const ne=this.elements;let ie=_v1$5.set(ne[0],ne[1],ne[2]).length();const oe=_v1$5.set(ne[4],ne[5],ne[6]).length(),se=_v1$5.set(ne[8],ne[9],ne[10]).length();this.determinant()<0&&(ie=-ie),_.x=ne[12],_.y=ne[13],_.z=ne[14],_m1$2.copy(this);const ce=1/ie,fe=1/oe,pe=1/se;return _m1$2.elements[0]*=ce,_m1$2.elements[1]*=ce,_m1$2.elements[2]*=ce,_m1$2.elements[4]*=fe,_m1$2.elements[5]*=fe,_m1$2.elements[6]*=fe,_m1$2.elements[8]*=pe,_m1$2.elements[9]*=pe,_m1$2.elements[10]*=pe,K.setFromRotationMatrix(_m1$2),te.x=ie,te.y=oe,te.z=se,this}makePerspective(_,K,te,ne,ie,oe,se=WebGLCoordinateSystem){const le=this.elements,ce=2*ie/(K-_),fe=2*ie/(te-ne),pe=(K+_)/(K-_),me=(te+ne)/(te-ne);let ve,ye;if(se===WebGLCoordinateSystem)ve=-(oe+ie)/(oe-ie),ye=-2*oe*ie/(oe-ie);else if(se===WebGPUCoordinateSystem)ve=-oe/(oe-ie),ye=-oe*ie/(oe-ie);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+se);return le[0]=ce,le[4]=0,le[8]=pe,le[12]=0,le[1]=0,le[5]=fe,le[9]=me,le[13]=0,le[2]=0,le[6]=0,le[10]=ve,le[14]=ye,le[3]=0,le[7]=0,le[11]=-1,le[15]=0,this}makeOrthographic(_,K,te,ne,ie,oe,se=WebGLCoordinateSystem){const le=this.elements,ce=1/(K-_),fe=1/(te-ne),pe=1/(oe-ie),me=(K+_)*ce,ve=(te+ne)*fe;let ye,Ee;if(se===WebGLCoordinateSystem)ye=(oe+ie)*pe,Ee=-2*pe;else if(se===WebGPUCoordinateSystem)ye=ie*pe,Ee=-1*pe;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+se);return le[0]=2*ce,le[4]=0,le[8]=0,le[12]=-me,le[1]=0,le[5]=2*fe,le[9]=0,le[13]=-ve,le[2]=0,le[6]=0,le[10]=Ee,le[14]=-ye,le[3]=0,le[7]=0,le[11]=0,le[15]=1,this}equals(_){const K=this.elements,te=_.elements;for(let ne=0;ne<16;ne++)if(K[ne]!==te[ne])return!1;return!0}fromArray(_,K=0){for(let te=0;te<16;te++)this.elements[te]=_[te+K];return this}toArray(_=[],K=0){const te=this.elements;return _[K]=te[0],_[K+1]=te[1],_[K+2]=te[2],_[K+3]=te[3],_[K+4]=te[4],_[K+5]=te[5],_[K+6]=te[6],_[K+7]=te[7],_[K+8]=te[8],_[K+9]=te[9],_[K+10]=te[10],_[K+11]=te[11],_[K+12]=te[12],_[K+13]=te[13],_[K+14]=te[14],_[K+15]=te[15],_}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(_=0,K=0,te=0,ne=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=_,this._y=K,this._z=te,this._order=ne}get x(){return this._x}set x(_){this._x=_,this._onChangeCallback()}get y(){return this._y}set y(_){this._y=_,this._onChangeCallback()}get z(){return this._z}set z(_){this._z=_,this._onChangeCallback()}get order(){return this._order}set order(_){this._order=_,this._onChangeCallback()}set(_,K,te,ne=this._order){return this._x=_,this._y=K,this._z=te,this._order=ne,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(_){return this._x=_._x,this._y=_._y,this._z=_._z,this._order=_._order,this._onChangeCallback(),this}setFromRotationMatrix(_,K=this._order,te=!0){const ne=_.elements,ie=ne[0],oe=ne[4],se=ne[8],le=ne[1],ce=ne[5],fe=ne[9],pe=ne[2],me=ne[6],ve=ne[10];switch(K){case"XYZ":this._y=Math.asin(clamp$3(se,-1,1)),Math.abs(se)<.9999999?(this._x=Math.atan2(-fe,ve),this._z=Math.atan2(-oe,ie)):(this._x=Math.atan2(me,ce),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$3(fe,-1,1)),Math.abs(fe)<.9999999?(this._y=Math.atan2(se,ve),this._z=Math.atan2(le,ce)):(this._y=Math.atan2(-pe,ie),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$3(me,-1,1)),Math.abs(me)<.9999999?(this._y=Math.atan2(-pe,ve),this._z=Math.atan2(-oe,ce)):(this._y=0,this._z=Math.atan2(le,ie));break;case"ZYX":this._y=Math.asin(-clamp$3(pe,-1,1)),Math.abs(pe)<.9999999?(this._x=Math.atan2(me,ve),this._z=Math.atan2(le,ie)):(this._x=0,this._z=Math.atan2(-oe,ce));break;case"YZX":this._z=Math.asin(clamp$3(le,-1,1)),Math.abs(le)<.9999999?(this._x=Math.atan2(-fe,ce),this._y=Math.atan2(-pe,ie)):(this._x=0,this._y=Math.atan2(se,ve));break;case"XZY":this._z=Math.asin(-clamp$3(oe,-1,1)),Math.abs(oe)<.9999999?(this._x=Math.atan2(me,ce),this._y=Math.atan2(se,ie)):(this._x=Math.atan2(-fe,ve),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+K)}return this._order=K,te===!0&&this._onChangeCallback(),this}setFromQuaternion(_,K,te){return _matrix$2.makeRotationFromQuaternion(_),this.setFromRotationMatrix(_matrix$2,K,te)}setFromVector3(_,K=this._order){return this.set(_.x,_.y,_.z,K)}reorder(_){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,_)}equals(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._order===this._order}fromArray(_){return this._x=_[0],this._y=_[1],this._z=_[2],_[3]!==void 0&&(this._order=_[3]),this._onChangeCallback(),this}toArray(_=[],K=0){return _[K]=this._x,_[K+1]=this._y,_[K+2]=this._z,_[K+3]=this._order,_}_onChange(_){return this._onChangeCallback=_,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(_){this.mask=(1<<_|0)>>>0}enable(_){this.mask|=1<<_|0}enableAll(){this.mask=-1}toggle(_){this.mask^=1<<_|0}disable(_){this.mask&=~(1<<_|0)}disableAll(){this.mask=0}test(_){return(this.mask&_.mask)!==0}isEnabled(_){return(this.mask&(1<<_|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const _=new Vector3,K=new Euler,te=new Quaternion,ne=new Vector3(1,1,1);function ie(){te.setFromEuler(K,!1)}function oe(){K.setFromQuaternion(te,void 0,!1)}K._onChange(ie),te._onChange(oe),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:_},rotation:{configurable:!0,enumerable:!0,value:K},quaternion:{configurable:!0,enumerable:!0,value:te},scale:{configurable:!0,enumerable:!0,value:ne},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(_){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(_),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(_){return this.quaternion.premultiply(_),this}setRotationFromAxisAngle(_,K){this.quaternion.setFromAxisAngle(_,K)}setRotationFromEuler(_){this.quaternion.setFromEuler(_,!0)}setRotationFromMatrix(_){this.quaternion.setFromRotationMatrix(_)}setRotationFromQuaternion(_){this.quaternion.copy(_)}rotateOnAxis(_,K){return _q1.setFromAxisAngle(_,K),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(_,K){return _q1.setFromAxisAngle(_,K),this.quaternion.premultiply(_q1),this}rotateX(_){return this.rotateOnAxis(_xAxis,_)}rotateY(_){return this.rotateOnAxis(_yAxis,_)}rotateZ(_){return this.rotateOnAxis(_zAxis,_)}translateOnAxis(_,K){return _v1$4.copy(_).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(K)),this}translateX(_){return this.translateOnAxis(_xAxis,_)}translateY(_){return this.translateOnAxis(_yAxis,_)}translateZ(_){return this.translateOnAxis(_zAxis,_)}localToWorld(_){return this.updateWorldMatrix(!0,!1),_.applyMatrix4(this.matrixWorld)}worldToLocal(_){return this.updateWorldMatrix(!0,!1),_.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(_,K,te){_.isVector3?_target.copy(_):_target.set(_,K,te);const ne=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),ne&&(_m1$1$1.extractRotation(ne.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(_){if(arguments.length>1){for(let K=0;K<arguments.length;K++)this.add(arguments[K]);return this}return _===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",_),this):(_&&_.isObject3D?(_.removeFromParent(),_.parent=this,this.children.push(_),_.dispatchEvent(_addedEvent),_childaddedEvent.child=_,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",_),this)}remove(_){if(arguments.length>1){for(let te=0;te<arguments.length;te++)this.remove(arguments[te]);return this}const K=this.children.indexOf(_);return K!==-1&&(_.parent=null,this.children.splice(K,1),_.dispatchEvent(_removedEvent),_childremovedEvent.child=_,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const _=this.parent;return _!==null&&_.remove(this),this}clear(){return this.remove(...this.children)}attach(_){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),_.parent!==null&&(_.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(_.parent.matrixWorld)),_.applyMatrix4(_m1$1$1),_.removeFromParent(),_.parent=this,this.children.push(_),_.updateWorldMatrix(!1,!0),_.dispatchEvent(_addedEvent),_childaddedEvent.child=_,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(_){return this.getObjectByProperty("id",_)}getObjectByName(_){return this.getObjectByProperty("name",_)}getObjectByProperty(_,K){if(this[_]===K)return this;for(let te=0,ne=this.children.length;te<ne;te++){const oe=this.children[te].getObjectByProperty(_,K);if(oe!==void 0)return oe}}getObjectsByProperty(_,K,te=[]){this[_]===K&&te.push(this);const ne=this.children;for(let ie=0,oe=ne.length;ie<oe;ie++)ne[ie].getObjectsByProperty(_,K,te);return te}getWorldPosition(_){return this.updateWorldMatrix(!0,!1),_.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(_){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_,_scale$2),_}getWorldScale(_){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,_),_}getWorldDirection(_){this.updateWorldMatrix(!0,!1);const K=this.matrixWorld.elements;return _.set(K[8],K[9],K[10]).normalize()}raycast(){}traverse(_){_(this);const K=this.children;for(let te=0,ne=K.length;te<ne;te++)K[te].traverse(_)}traverseVisible(_){if(this.visible===!1)return;_(this);const K=this.children;for(let te=0,ne=K.length;te<ne;te++)K[te].traverseVisible(_)}traverseAncestors(_){const K=this.parent;K!==null&&(_(K),K.traverseAncestors(_))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(_){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||_)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,_=!0);const K=this.children;for(let te=0,ne=K.length;te<ne;te++)K[te].updateMatrixWorld(_)}updateWorldMatrix(_,K){const te=this.parent;if(_===!0&&te!==null&&te.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),K===!0){const ne=this.children;for(let ie=0,oe=ne.length;ie<oe;ie++)ne[ie].updateWorldMatrix(!1,!0)}}toJSON(_){const K=_===void 0||typeof _=="string",te={};K&&(_={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},te.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const ne={};ne.uuid=this.uuid,ne.type=this.type,this.name!==""&&(ne.name=this.name),this.castShadow===!0&&(ne.castShadow=!0),this.receiveShadow===!0&&(ne.receiveShadow=!0),this.visible===!1&&(ne.visible=!1),this.frustumCulled===!1&&(ne.frustumCulled=!1),this.renderOrder!==0&&(ne.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(ne.userData=this.userData),ne.layers=this.layers.mask,ne.matrix=this.matrix.toArray(),ne.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(ne.matrixAutoUpdate=!1),this.isInstancedMesh&&(ne.type="InstancedMesh",ne.count=this.count,ne.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(ne.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(ne.type="BatchedMesh",ne.perObjectFrustumCulled=this.perObjectFrustumCulled,ne.sortObjects=this.sortObjects,ne.drawRanges=this._drawRanges,ne.reservedRanges=this._reservedRanges,ne.visibility=this._visibility,ne.active=this._active,ne.bounds=this._bounds.map(se=>({boxInitialized:se.boxInitialized,boxMin:se.box.min.toArray(),boxMax:se.box.max.toArray(),sphereInitialized:se.sphereInitialized,sphereRadius:se.sphere.radius,sphereCenter:se.sphere.center.toArray()})),ne.maxInstanceCount=this._maxInstanceCount,ne.maxVertexCount=this._maxVertexCount,ne.maxIndexCount=this._maxIndexCount,ne.geometryInitialized=this._geometryInitialized,ne.geometryCount=this._geometryCount,ne.matricesTexture=this._matricesTexture.toJSON(_),this._colorsTexture!==null&&(ne.colorsTexture=this._colorsTexture.toJSON(_)),this.boundingSphere!==null&&(ne.boundingSphere={center:ne.boundingSphere.center.toArray(),radius:ne.boundingSphere.radius}),this.boundingBox!==null&&(ne.boundingBox={min:ne.boundingBox.min.toArray(),max:ne.boundingBox.max.toArray()}));function ie(se,le){return se[le.uuid]===void 0&&(se[le.uuid]=le.toJSON(_)),le.uuid}if(this.isScene)this.background&&(this.background.isColor?ne.background=this.background.toJSON():this.background.isTexture&&(ne.background=this.background.toJSON(_).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(ne.environment=this.environment.toJSON(_).uuid);else if(this.isMesh||this.isLine||this.isPoints){ne.geometry=ie(_.geometries,this.geometry);const se=this.geometry.parameters;if(se!==void 0&&se.shapes!==void 0){const le=se.shapes;if(Array.isArray(le))for(let ce=0,fe=le.length;ce<fe;ce++){const pe=le[ce];ie(_.shapes,pe)}else ie(_.shapes,le)}}if(this.isSkinnedMesh&&(ne.bindMode=this.bindMode,ne.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(ie(_.skeletons,this.skeleton),ne.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const se=[];for(let le=0,ce=this.material.length;le<ce;le++)se.push(ie(_.materials,this.material[le]));ne.material=se}else ne.material=ie(_.materials,this.material);if(this.children.length>0){ne.children=[];for(let se=0;se<this.children.length;se++)ne.children.push(this.children[se].toJSON(_).object)}if(this.animations.length>0){ne.animations=[];for(let se=0;se<this.animations.length;se++){const le=this.animations[se];ne.animations.push(ie(_.animations,le))}}if(K){const se=oe(_.geometries),le=oe(_.materials),ce=oe(_.textures),fe=oe(_.images),pe=oe(_.shapes),me=oe(_.skeletons),ve=oe(_.animations),ye=oe(_.nodes);se.length>0&&(te.geometries=se),le.length>0&&(te.materials=le),ce.length>0&&(te.textures=ce),fe.length>0&&(te.images=fe),pe.length>0&&(te.shapes=pe),me.length>0&&(te.skeletons=me),ve.length>0&&(te.animations=ve),ye.length>0&&(te.nodes=ye)}return te.object=ne,te;function oe(se){const le=[];for(const ce in se){const fe=se[ce];delete fe.metadata,le.push(fe)}return le}}clone(_){return new this.constructor().copy(this,_)}copy(_,K=!0){if(this.name=_.name,this.up.copy(_.up),this.position.copy(_.position),this.rotation.order=_.rotation.order,this.quaternion.copy(_.quaternion),this.scale.copy(_.scale),this.matrix.copy(_.matrix),this.matrixWorld.copy(_.matrixWorld),this.matrixAutoUpdate=_.matrixAutoUpdate,this.matrixWorldAutoUpdate=_.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=_.matrixWorldNeedsUpdate,this.layers.mask=_.layers.mask,this.visible=_.visible,this.castShadow=_.castShadow,this.receiveShadow=_.receiveShadow,this.frustumCulled=_.frustumCulled,this.renderOrder=_.renderOrder,this.animations=_.animations.slice(),this.userData=JSON.parse(JSON.stringify(_.userData)),K===!0)for(let te=0;te<_.children.length;te++){const ne=_.children[te];this.add(ne.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(_=new Vector3,K=new Vector3,te=new Vector3){this.a=_,this.b=K,this.c=te}static getNormal(_,K,te,ne){ne.subVectors(te,K),_v0$1.subVectors(_,K),ne.cross(_v0$1);const ie=ne.lengthSq();return ie>0?ne.multiplyScalar(1/Math.sqrt(ie)):ne.set(0,0,0)}static getBarycoord(_,K,te,ne,ie){_v0$1.subVectors(ne,K),_v1$3.subVectors(te,K),_v2$2.subVectors(_,K);const oe=_v0$1.dot(_v0$1),se=_v0$1.dot(_v1$3),le=_v0$1.dot(_v2$2),ce=_v1$3.dot(_v1$3),fe=_v1$3.dot(_v2$2),pe=oe*ce-se*se;if(pe===0)return ie.set(0,0,0),null;const me=1/pe,ve=(ce*le-se*fe)*me,ye=(oe*fe-se*le)*me;return ie.set(1-ve-ye,ye,ve)}static containsPoint(_,K,te,ne){return this.getBarycoord(_,K,te,ne,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(_,K,te,ne,ie,oe,se,le){return this.getBarycoord(_,K,te,ne,_v3$2)===null?(le.x=0,le.y=0,"z"in le&&(le.z=0),"w"in le&&(le.w=0),null):(le.setScalar(0),le.addScaledVector(ie,_v3$2.x),le.addScaledVector(oe,_v3$2.y),le.addScaledVector(se,_v3$2.z),le)}static getInterpolatedAttribute(_,K,te,ne,ie,oe){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(_,K),_v41.fromBufferAttribute(_,te),_v42.fromBufferAttribute(_,ne),oe.setScalar(0),oe.addScaledVector(_v40,ie.x),oe.addScaledVector(_v41,ie.y),oe.addScaledVector(_v42,ie.z),oe}static isFrontFacing(_,K,te,ne){return _v0$1.subVectors(te,K),_v1$3.subVectors(_,K),_v0$1.cross(_v1$3).dot(ne)<0}set(_,K,te){return this.a.copy(_),this.b.copy(K),this.c.copy(te),this}setFromPointsAndIndices(_,K,te,ne){return this.a.copy(_[K]),this.b.copy(_[te]),this.c.copy(_[ne]),this}setFromAttributeAndIndices(_,K,te,ne){return this.a.fromBufferAttribute(_,K),this.b.fromBufferAttribute(_,te),this.c.fromBufferAttribute(_,ne),this}clone(){return new this.constructor().copy(this)}copy(_){return this.a.copy(_.a),this.b.copy(_.b),this.c.copy(_.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(_){return _.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(_){return Triangle.getNormal(this.a,this.b,this.c,_)}getPlane(_){return _.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(_,K){return Triangle.getBarycoord(_,this.a,this.b,this.c,K)}getInterpolation(_,K,te,ne,ie){return Triangle.getInterpolation(_,this.a,this.b,this.c,K,te,ne,ie)}containsPoint(_){return Triangle.containsPoint(_,this.a,this.b,this.c)}isFrontFacing(_){return Triangle.isFrontFacing(this.a,this.b,this.c,_)}intersectsBox(_){return _.intersectsTriangle(this)}closestPointToPoint(_,K){const te=this.a,ne=this.b,ie=this.c;let oe,se;_vab.subVectors(ne,te),_vac.subVectors(ie,te),_vap.subVectors(_,te);const le=_vab.dot(_vap),ce=_vac.dot(_vap);if(le<=0&&ce<=0)return K.copy(te);_vbp.subVectors(_,ne);const fe=_vab.dot(_vbp),pe=_vac.dot(_vbp);if(fe>=0&&pe<=fe)return K.copy(ne);const me=le*pe-fe*ce;if(me<=0&&le>=0&&fe<=0)return oe=le/(le-fe),K.copy(te).addScaledVector(_vab,oe);_vcp.subVectors(_,ie);const ve=_vab.dot(_vcp),ye=_vac.dot(_vcp);if(ye>=0&&ve<=ye)return K.copy(ie);const Ee=ve*ce-le*ye;if(Ee<=0&&ce>=0&&ye<=0)return se=ce/(ce-ye),K.copy(te).addScaledVector(_vac,se);const Se=fe*ye-ve*pe;if(Se<=0&&pe-fe>=0&&ve-ye>=0)return _vbc.subVectors(ie,ne),se=(pe-fe)/(pe-fe+(ve-ye)),K.copy(ne).addScaledVector(_vbc,se);const _e=1/(Se+Ee+me);return oe=Ee*_e,se=me*_e,K.copy(te).addScaledVector(_vab,oe).addScaledVector(_vac,se)}equals(_){return _.a.equals(this.a)&&_.b.equals(this.b)&&_.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(Z,_,K){return K<0&&(K+=1),K>1&&(K-=1),K<1/6?Z+(_-Z)*6*K:K<1/2?_:K<2/3?Z+(_-Z)*6*(2/3-K):Z}let Color$1=class{constructor(_,K,te){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(_,K,te)}set(_,K,te){if(K===void 0&&te===void 0){const ne=_;ne&&ne.isColor?this.copy(ne):typeof ne=="number"?this.setHex(ne):typeof ne=="string"&&this.setStyle(ne)}else this.setRGB(_,K,te);return this}setScalar(_){return this.r=_,this.g=_,this.b=_,this}setHex(_,K=SRGBColorSpace){return _=Math.floor(_),this.r=(_>>16&255)/255,this.g=(_>>8&255)/255,this.b=(_&255)/255,ColorManagement.toWorkingColorSpace(this,K),this}setRGB(_,K,te,ne=ColorManagement.workingColorSpace){return this.r=_,this.g=K,this.b=te,ColorManagement.toWorkingColorSpace(this,ne),this}setHSL(_,K,te,ne=ColorManagement.workingColorSpace){if(_=euclideanModulo(_,1),K=clamp$3(K,0,1),te=clamp$3(te,0,1),K===0)this.r=this.g=this.b=te;else{const ie=te<=.5?te*(1+K):te+K-te*K,oe=2*te-ie;this.r=hue2rgb(oe,ie,_+1/3),this.g=hue2rgb(oe,ie,_),this.b=hue2rgb(oe,ie,_-1/3)}return ColorManagement.toWorkingColorSpace(this,ne),this}setStyle(_,K=SRGBColorSpace){function te(ie){ie!==void 0&&parseFloat(ie)<1&&console.warn("THREE.Color: Alpha component of "+_+" will be ignored.")}let ne;if(ne=/^(\w+)\(([^\)]*)\)/.exec(_)){let ie;const oe=ne[1],se=ne[2];switch(oe){case"rgb":case"rgba":if(ie=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(se))return te(ie[4]),this.setRGB(Math.min(255,parseInt(ie[1],10))/255,Math.min(255,parseInt(ie[2],10))/255,Math.min(255,parseInt(ie[3],10))/255,K);if(ie=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(se))return te(ie[4]),this.setRGB(Math.min(100,parseInt(ie[1],10))/100,Math.min(100,parseInt(ie[2],10))/100,Math.min(100,parseInt(ie[3],10))/100,K);break;case"hsl":case"hsla":if(ie=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(se))return te(ie[4]),this.setHSL(parseFloat(ie[1])/360,parseFloat(ie[2])/100,parseFloat(ie[3])/100,K);break;default:console.warn("THREE.Color: Unknown color model "+_)}}else if(ne=/^\#([A-Fa-f\d]+)$/.exec(_)){const ie=ne[1],oe=ie.length;if(oe===3)return this.setRGB(parseInt(ie.charAt(0),16)/15,parseInt(ie.charAt(1),16)/15,parseInt(ie.charAt(2),16)/15,K);if(oe===6)return this.setHex(parseInt(ie,16),K);console.warn("THREE.Color: Invalid hex color "+_)}else if(_&&_.length>0)return this.setColorName(_,K);return this}setColorName(_,K=SRGBColorSpace){const te=_colorKeywords[_.toLowerCase()];return te!==void 0?this.setHex(te,K):console.warn("THREE.Color: Unknown color "+_),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(_){return this.r=_.r,this.g=_.g,this.b=_.b,this}copySRGBToLinear(_){return this.r=SRGBToLinear(_.r),this.g=SRGBToLinear(_.g),this.b=SRGBToLinear(_.b),this}copyLinearToSRGB(_){return this.r=LinearToSRGB(_.r),this.g=LinearToSRGB(_.g),this.b=LinearToSRGB(_.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(_=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),_),Math.round(clamp$3(_color.r*255,0,255))*65536+Math.round(clamp$3(_color.g*255,0,255))*256+Math.round(clamp$3(_color.b*255,0,255))}getHexString(_=SRGBColorSpace){return("000000"+this.getHex(_).toString(16)).slice(-6)}getHSL(_,K=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),K);const te=_color.r,ne=_color.g,ie=_color.b,oe=Math.max(te,ne,ie),se=Math.min(te,ne,ie);let le,ce;const fe=(se+oe)/2;if(se===oe)le=0,ce=0;else{const pe=oe-se;switch(ce=fe<=.5?pe/(oe+se):pe/(2-oe-se),oe){case te:le=(ne-ie)/pe+(ne<ie?6:0);break;case ne:le=(ie-te)/pe+2;break;case ie:le=(te-ne)/pe+4;break}le/=6}return _.h=le,_.s=ce,_.l=fe,_}getRGB(_,K=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),K),_.r=_color.r,_.g=_color.g,_.b=_color.b,_}getStyle(_=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),_);const K=_color.r,te=_color.g,ne=_color.b;return _!==SRGBColorSpace?`color(${_} ${K.toFixed(3)} ${te.toFixed(3)} ${ne.toFixed(3)})`:`rgb(${Math.round(K*255)},${Math.round(te*255)},${Math.round(ne*255)})`}offsetHSL(_,K,te){return this.getHSL(_hslA),this.setHSL(_hslA.h+_,_hslA.s+K,_hslA.l+te)}add(_){return this.r+=_.r,this.g+=_.g,this.b+=_.b,this}addColors(_,K){return this.r=_.r+K.r,this.g=_.g+K.g,this.b=_.b+K.b,this}addScalar(_){return this.r+=_,this.g+=_,this.b+=_,this}sub(_){return this.r=Math.max(0,this.r-_.r),this.g=Math.max(0,this.g-_.g),this.b=Math.max(0,this.b-_.b),this}multiply(_){return this.r*=_.r,this.g*=_.g,this.b*=_.b,this}multiplyScalar(_){return this.r*=_,this.g*=_,this.b*=_,this}lerp(_,K){return this.r+=(_.r-this.r)*K,this.g+=(_.g-this.g)*K,this.b+=(_.b-this.b)*K,this}lerpColors(_,K,te){return this.r=_.r+(K.r-_.r)*te,this.g=_.g+(K.g-_.g)*te,this.b=_.b+(K.b-_.b)*te,this}lerpHSL(_,K){this.getHSL(_hslA),_.getHSL(_hslB);const te=lerp(_hslA.h,_hslB.h,K),ne=lerp(_hslA.s,_hslB.s,K),ie=lerp(_hslA.l,_hslB.l,K);return this.setHSL(te,ne,ie),this}setFromVector3(_){return this.r=_.x,this.g=_.y,this.b=_.z,this}applyMatrix3(_){const K=this.r,te=this.g,ne=this.b,ie=_.elements;return this.r=ie[0]*K+ie[3]*te+ie[6]*ne,this.g=ie[1]*K+ie[4]*te+ie[7]*ne,this.b=ie[2]*K+ie[5]*te+ie[8]*ne,this}equals(_){return _.r===this.r&&_.g===this.g&&_.b===this.b}fromArray(_,K=0){return this.r=_[K],this.g=_[K+1],this.b=_[K+2],this}toArray(_=[],K=0){return _[K]=this.r,_[K+1]=this.g,_[K+2]=this.b,_}fromBufferAttribute(_,K){return this.r=_.getX(K),this.g=_.getY(K),this.b=_.getZ(K),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(_){this._alphaTest>0!=_>0&&this.version++,this._alphaTest=_}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(_){if(_!==void 0)for(const K in _){const te=_[K];if(te===void 0){console.warn(`THREE.Material: parameter '${K}' has value of undefined.`);continue}const ne=this[K];if(ne===void 0){console.warn(`THREE.Material: '${K}' is not a property of THREE.${this.type}.`);continue}ne&&ne.isColor?ne.set(te):ne&&ne.isVector3&&te&&te.isVector3?ne.copy(te):this[K]=te}}toJSON(_){const K=_===void 0||typeof _=="string";K&&(_={textures:{},images:{}});const te={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};te.uuid=this.uuid,te.type=this.type,this.name!==""&&(te.name=this.name),this.color&&this.color.isColor&&(te.color=this.color.getHex()),this.roughness!==void 0&&(te.roughness=this.roughness),this.metalness!==void 0&&(te.metalness=this.metalness),this.sheen!==void 0&&(te.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(te.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(te.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(te.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(te.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(te.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(te.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(te.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(te.shininess=this.shininess),this.clearcoat!==void 0&&(te.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(te.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(te.clearcoatMap=this.clearcoatMap.toJSON(_).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(te.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(_).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(te.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(_).uuid,te.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(te.dispersion=this.dispersion),this.iridescence!==void 0&&(te.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(te.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(te.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(te.iridescenceMap=this.iridescenceMap.toJSON(_).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(te.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(_).uuid),this.anisotropy!==void 0&&(te.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(te.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(te.anisotropyMap=this.anisotropyMap.toJSON(_).uuid),this.map&&this.map.isTexture&&(te.map=this.map.toJSON(_).uuid),this.matcap&&this.matcap.isTexture&&(te.matcap=this.matcap.toJSON(_).uuid),this.alphaMap&&this.alphaMap.isTexture&&(te.alphaMap=this.alphaMap.toJSON(_).uuid),this.lightMap&&this.lightMap.isTexture&&(te.lightMap=this.lightMap.toJSON(_).uuid,te.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(te.aoMap=this.aoMap.toJSON(_).uuid,te.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(te.bumpMap=this.bumpMap.toJSON(_).uuid,te.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(te.normalMap=this.normalMap.toJSON(_).uuid,te.normalMapType=this.normalMapType,te.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(te.displacementMap=this.displacementMap.toJSON(_).uuid,te.displacementScale=this.displacementScale,te.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(te.roughnessMap=this.roughnessMap.toJSON(_).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(te.metalnessMap=this.metalnessMap.toJSON(_).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(te.emissiveMap=this.emissiveMap.toJSON(_).uuid),this.specularMap&&this.specularMap.isTexture&&(te.specularMap=this.specularMap.toJSON(_).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(te.specularIntensityMap=this.specularIntensityMap.toJSON(_).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(te.specularColorMap=this.specularColorMap.toJSON(_).uuid),this.envMap&&this.envMap.isTexture&&(te.envMap=this.envMap.toJSON(_).uuid,this.combine!==void 0&&(te.combine=this.combine)),this.envMapRotation!==void 0&&(te.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(te.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(te.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(te.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(te.gradientMap=this.gradientMap.toJSON(_).uuid),this.transmission!==void 0&&(te.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(te.transmissionMap=this.transmissionMap.toJSON(_).uuid),this.thickness!==void 0&&(te.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(te.thicknessMap=this.thicknessMap.toJSON(_).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(te.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(te.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(te.size=this.size),this.shadowSide!==null&&(te.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(te.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(te.blending=this.blending),this.side!==FrontSide&&(te.side=this.side),this.vertexColors===!0&&(te.vertexColors=!0),this.opacity<1&&(te.opacity=this.opacity),this.transparent===!0&&(te.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(te.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(te.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(te.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(te.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(te.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(te.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(te.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(te.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(te.depthFunc=this.depthFunc),this.depthTest===!1&&(te.depthTest=this.depthTest),this.depthWrite===!1&&(te.depthWrite=this.depthWrite),this.colorWrite===!1&&(te.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(te.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(te.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(te.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(te.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(te.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(te.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(te.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(te.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(te.rotation=this.rotation),this.polygonOffset===!0&&(te.polygonOffset=!0),this.polygonOffsetFactor!==0&&(te.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(te.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(te.linewidth=this.linewidth),this.dashSize!==void 0&&(te.dashSize=this.dashSize),this.gapSize!==void 0&&(te.gapSize=this.gapSize),this.scale!==void 0&&(te.scale=this.scale),this.dithering===!0&&(te.dithering=!0),this.alphaTest>0&&(te.alphaTest=this.alphaTest),this.alphaHash===!0&&(te.alphaHash=!0),this.alphaToCoverage===!0&&(te.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(te.premultipliedAlpha=!0),this.forceSinglePass===!0&&(te.forceSinglePass=!0),this.wireframe===!0&&(te.wireframe=!0),this.wireframeLinewidth>1&&(te.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(te.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(te.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(te.flatShading=!0),this.visible===!1&&(te.visible=!1),this.toneMapped===!1&&(te.toneMapped=!1),this.fog===!1&&(te.fog=!1),Object.keys(this.userData).length>0&&(te.userData=this.userData);function ne(ie){const oe=[];for(const se in ie){const le=ie[se];delete le.metadata,oe.push(le)}return oe}if(K){const ie=ne(_.textures),oe=ne(_.images);ie.length>0&&(te.textures=ie),oe.length>0&&(te.images=oe)}return te}clone(){return new this.constructor().copy(this)}copy(_){this.name=_.name,this.blending=_.blending,this.side=_.side,this.vertexColors=_.vertexColors,this.opacity=_.opacity,this.transparent=_.transparent,this.blendSrc=_.blendSrc,this.blendDst=_.blendDst,this.blendEquation=_.blendEquation,this.blendSrcAlpha=_.blendSrcAlpha,this.blendDstAlpha=_.blendDstAlpha,this.blendEquationAlpha=_.blendEquationAlpha,this.blendColor.copy(_.blendColor),this.blendAlpha=_.blendAlpha,this.depthFunc=_.depthFunc,this.depthTest=_.depthTest,this.depthWrite=_.depthWrite,this.stencilWriteMask=_.stencilWriteMask,this.stencilFunc=_.stencilFunc,this.stencilRef=_.stencilRef,this.stencilFuncMask=_.stencilFuncMask,this.stencilFail=_.stencilFail,this.stencilZFail=_.stencilZFail,this.stencilZPass=_.stencilZPass,this.stencilWrite=_.stencilWrite;const K=_.clippingPlanes;let te=null;if(K!==null){const ne=K.length;te=new Array(ne);for(let ie=0;ie!==ne;++ie)te[ie]=K[ie].clone()}return this.clippingPlanes=te,this.clipIntersection=_.clipIntersection,this.clipShadows=_.clipShadows,this.shadowSide=_.shadowSide,this.colorWrite=_.colorWrite,this.precision=_.precision,this.polygonOffset=_.polygonOffset,this.polygonOffsetFactor=_.polygonOffsetFactor,this.polygonOffsetUnits=_.polygonOffsetUnits,this.dithering=_.dithering,this.alphaTest=_.alphaTest,this.alphaHash=_.alphaHash,this.alphaToCoverage=_.alphaToCoverage,this.premultipliedAlpha=_.premultipliedAlpha,this.forceSinglePass=_.forceSinglePass,this.visible=_.visible,this.toneMapped=_.toneMapped,this.userData=JSON.parse(JSON.stringify(_.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(_){_===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class MeshBasicMaterial extends Material{constructor(_){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.fog=_.fog,this}}const _tables=_generateTables();function _generateTables(){const Z=new ArrayBuffer(4),_=new Float32Array(Z),K=new Uint32Array(Z),te=new Uint32Array(512),ne=new Uint32Array(512);for(let le=0;le<256;++le){const ce=le-127;ce<-27?(te[le]=0,te[le|256]=32768,ne[le]=24,ne[le|256]=24):ce<-14?(te[le]=1024>>-ce-14,te[le|256]=1024>>-ce-14|32768,ne[le]=-ce-1,ne[le|256]=-ce-1):ce<=15?(te[le]=ce+15<<10,te[le|256]=ce+15<<10|32768,ne[le]=13,ne[le|256]=13):ce<128?(te[le]=31744,te[le|256]=64512,ne[le]=24,ne[le|256]=24):(te[le]=31744,te[le|256]=64512,ne[le]=13,ne[le|256]=13)}const ie=new Uint32Array(2048),oe=new Uint32Array(64),se=new Uint32Array(64);for(let le=1;le<1024;++le){let ce=le<<13,fe=0;for(;!(ce&8388608);)ce<<=1,fe-=8388608;ce&=-8388609,fe+=947912704,ie[le]=ce|fe}for(let le=1024;le<2048;++le)ie[le]=939524096+(le-1024<<13);for(let le=1;le<31;++le)oe[le]=le<<23;oe[31]=1199570944,oe[32]=2147483648;for(let le=33;le<63;++le)oe[le]=2147483648+(le-32<<23);oe[63]=3347054592;for(let le=1;le<64;++le)le!==32&&(se[le]=1024);return{floatView:_,uint32View:K,baseTable:te,shiftTable:ne,mantissaTable:ie,exponentTable:oe,offsetTable:se}}function toHalfFloat(Z){Math.abs(Z)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),Z=clamp$3(Z,-65504,65504),_tables.floatView[0]=Z;const _=_tables.uint32View[0],K=_>>23&511;return _tables.baseTable[K]+((_&8388607)>>_tables.shiftTable[K])}function fromHalfFloat(Z){const _=Z>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[_]+(Z&1023)]+_tables.exponentTable[_],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(_,K,te=!1){if(Array.isArray(_))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=_,this.itemSize=K,this.count=_!==void 0?_.length/K:0,this.normalized=te,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(_){_===!0&&this.version++}setUsage(_){return this.usage=_,this}addUpdateRange(_,K){this.updateRanges.push({start:_,count:K})}clearUpdateRanges(){this.updateRanges.length=0}copy(_){return this.name=_.name,this.array=new _.array.constructor(_.array),this.itemSize=_.itemSize,this.count=_.count,this.normalized=_.normalized,this.usage=_.usage,this.gpuType=_.gpuType,this}copyAt(_,K,te){_*=this.itemSize,te*=K.itemSize;for(let ne=0,ie=this.itemSize;ne<ie;ne++)this.array[_+ne]=K.array[te+ne];return this}copyArray(_){return this.array.set(_),this}applyMatrix3(_){if(this.itemSize===2)for(let K=0,te=this.count;K<te;K++)_vector2$1.fromBufferAttribute(this,K),_vector2$1.applyMatrix3(_),this.setXY(K,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let K=0,te=this.count;K<te;K++)_vector$9.fromBufferAttribute(this,K),_vector$9.applyMatrix3(_),this.setXYZ(K,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(_){for(let K=0,te=this.count;K<te;K++)_vector$9.fromBufferAttribute(this,K),_vector$9.applyMatrix4(_),this.setXYZ(K,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(_){for(let K=0,te=this.count;K<te;K++)_vector$9.fromBufferAttribute(this,K),_vector$9.applyNormalMatrix(_),this.setXYZ(K,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(_){for(let K=0,te=this.count;K<te;K++)_vector$9.fromBufferAttribute(this,K),_vector$9.transformDirection(_),this.setXYZ(K,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(_,K=0){return this.array.set(_,K),this}getComponent(_,K){let te=this.array[_*this.itemSize+K];return this.normalized&&(te=denormalize(te,this.array)),te}setComponent(_,K,te){return this.normalized&&(te=normalize$5(te,this.array)),this.array[_*this.itemSize+K]=te,this}getX(_){let K=this.array[_*this.itemSize];return this.normalized&&(K=denormalize(K,this.array)),K}setX(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize]=K,this}getY(_){let K=this.array[_*this.itemSize+1];return this.normalized&&(K=denormalize(K,this.array)),K}setY(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+1]=K,this}getZ(_){let K=this.array[_*this.itemSize+2];return this.normalized&&(K=denormalize(K,this.array)),K}setZ(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+2]=K,this}getW(_){let K=this.array[_*this.itemSize+3];return this.normalized&&(K=denormalize(K,this.array)),K}setW(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+3]=K,this}setXY(_,K,te){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array)),this.array[_+0]=K,this.array[_+1]=te,this}setXYZ(_,K,te,ne){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array)),this.array[_+0]=K,this.array[_+1]=te,this.array[_+2]=ne,this}setXYZW(_,K,te,ne,ie){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array),ie=normalize$5(ie,this.array)),this.array[_+0]=K,this.array[_+1]=te,this.array[_+2]=ne,this.array[_+3]=ie,this}onUpload(_){return this.onUploadCallback=_,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const _={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(_.name=this.name),this.usage!==StaticDrawUsage&&(_.usage=this.usage),_}}class Int8BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Int8Array(_),K,te)}}class Uint8BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint8Array(_),K,te)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint8ClampedArray(_),K,te)}}class Int16BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Int16Array(_),K,te)}}class Uint16BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint16Array(_),K,te)}}class Int32BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Int32Array(_),K,te)}}class Uint32BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint32Array(_),K,te)}}class Float16BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint16Array(_),K,te),this.isFloat16BufferAttribute=!0}getX(_){let K=fromHalfFloat(this.array[_*this.itemSize]);return this.normalized&&(K=denormalize(K,this.array)),K}setX(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize]=toHalfFloat(K),this}getY(_){let K=fromHalfFloat(this.array[_*this.itemSize+1]);return this.normalized&&(K=denormalize(K,this.array)),K}setY(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+1]=toHalfFloat(K),this}getZ(_){let K=fromHalfFloat(this.array[_*this.itemSize+2]);return this.normalized&&(K=denormalize(K,this.array)),K}setZ(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+2]=toHalfFloat(K),this}getW(_){let K=fromHalfFloat(this.array[_*this.itemSize+3]);return this.normalized&&(K=denormalize(K,this.array)),K}setW(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+3]=toHalfFloat(K),this}setXY(_,K,te){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array)),this.array[_+0]=toHalfFloat(K),this.array[_+1]=toHalfFloat(te),this}setXYZ(_,K,te,ne){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array)),this.array[_+0]=toHalfFloat(K),this.array[_+1]=toHalfFloat(te),this.array[_+2]=toHalfFloat(ne),this}setXYZW(_,K,te,ne,ie){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array),ie=normalize$5(ie,this.array)),this.array[_+0]=toHalfFloat(K),this.array[_+1]=toHalfFloat(te),this.array[_+2]=toHalfFloat(ne),this.array[_+3]=toHalfFloat(ie),this}}class Float32BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Float32Array(_),K,te)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(_){return Array.isArray(_)?this.index=new(arrayNeedsUint32(_)?Uint32BufferAttribute:Uint16BufferAttribute)(_,1):this.index=_,this}setIndirect(_){return this.indirect=_,this}getIndirect(){return this.indirect}getAttribute(_){return this.attributes[_]}setAttribute(_,K){return this.attributes[_]=K,this}deleteAttribute(_){return delete this.attributes[_],this}hasAttribute(_){return this.attributes[_]!==void 0}addGroup(_,K,te=0){this.groups.push({start:_,count:K,materialIndex:te})}clearGroups(){this.groups=[]}setDrawRange(_,K){this.drawRange.start=_,this.drawRange.count=K}applyMatrix4(_){const K=this.attributes.position;K!==void 0&&(K.applyMatrix4(_),K.needsUpdate=!0);const te=this.attributes.normal;if(te!==void 0){const ie=new Matrix3().getNormalMatrix(_);te.applyNormalMatrix(ie),te.needsUpdate=!0}const ne=this.attributes.tangent;return ne!==void 0&&(ne.transformDirection(_),ne.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(_){return _m1$3.makeRotationFromQuaternion(_),this.applyMatrix4(_m1$3),this}rotateX(_){return _m1$3.makeRotationX(_),this.applyMatrix4(_m1$3),this}rotateY(_){return _m1$3.makeRotationY(_),this.applyMatrix4(_m1$3),this}rotateZ(_){return _m1$3.makeRotationZ(_),this.applyMatrix4(_m1$3),this}translate(_,K,te){return _m1$3.makeTranslation(_,K,te),this.applyMatrix4(_m1$3),this}scale(_,K,te){return _m1$3.makeScale(_,K,te),this.applyMatrix4(_m1$3),this}lookAt(_){return _obj.lookAt(_),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(_){const K=this.getAttribute("position");if(K===void 0){const te=[];for(let ne=0,ie=_.length;ne<ie;ne++){const oe=_[ne];te.push(oe.x,oe.y,oe.z||0)}this.setAttribute("position",new Float32BufferAttribute(te,3))}else{const te=Math.min(_.length,K.count);for(let ne=0;ne<te;ne++){const ie=_[ne];K.setXYZ(ne,ie.x,ie.y,ie.z||0)}_.length>K.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),K.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _=this.attributes.position,K=this.morphAttributes.position;if(_&&_.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(_!==void 0){if(this.boundingBox.setFromBufferAttribute(_),K)for(let te=0,ne=K.length;te<ne;te++){const ie=K[te];_box$2.setFromBufferAttribute(ie),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _=this.attributes.position,K=this.morphAttributes.position;if(_&&_.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(_){const te=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(_),K)for(let ie=0,oe=K.length;ie<oe;ie++){const se=K[ie];_boxMorphTargets.setFromBufferAttribute(se),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(te);let ne=0;for(let ie=0,oe=_.count;ie<oe;ie++)_vector$8.fromBufferAttribute(_,ie),ne=Math.max(ne,te.distanceToSquared(_vector$8));if(K)for(let ie=0,oe=K.length;ie<oe;ie++){const se=K[ie],le=this.morphTargetsRelative;for(let ce=0,fe=se.count;ce<fe;ce++)_vector$8.fromBufferAttribute(se,ce),le&&(_offset.fromBufferAttribute(_,ce),_vector$8.add(_offset)),ne=Math.max(ne,te.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(ne),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const _=this.index,K=this.attributes;if(_===null||K.position===void 0||K.normal===void 0||K.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const te=K.position,ne=K.normal,ie=K.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*te.count),4));const oe=this.getAttribute("tangent"),se=[],le=[];for(let ze=0;ze<te.count;ze++)se[ze]=new Vector3,le[ze]=new Vector3;const ce=new Vector3,fe=new Vector3,pe=new Vector3,me=new Vector2,ve=new Vector2,ye=new Vector2,Ee=new Vector3,Se=new Vector3;function _e(ze,Ue,Oe){ce.fromBufferAttribute(te,ze),fe.fromBufferAttribute(te,Ue),pe.fromBufferAttribute(te,Oe),me.fromBufferAttribute(ie,ze),ve.fromBufferAttribute(ie,Ue),ye.fromBufferAttribute(ie,Oe),fe.sub(ce),pe.sub(ce),ve.sub(me),ye.sub(me);const Ve=1/(ve.x*ye.y-ye.x*ve.y);isFinite(Ve)&&(Ee.copy(fe).multiplyScalar(ye.y).addScaledVector(pe,-ve.y).multiplyScalar(Ve),Se.copy(pe).multiplyScalar(ve.x).addScaledVector(fe,-ye.x).multiplyScalar(Ve),se[ze].add(Ee),se[Ue].add(Ee),se[Oe].add(Ee),le[ze].add(Se),le[Ue].add(Se),le[Oe].add(Se))}let Te=this.groups;Te.length===0&&(Te=[{start:0,count:_.count}]);for(let ze=0,Ue=Te.length;ze<Ue;++ze){const Oe=Te[ze],Ve=Oe.start,Ye=Oe.count;for(let Ke=Ve,rt=Ve+Ye;Ke<rt;Ke+=3)_e(_.getX(Ke+0),_.getX(Ke+1),_.getX(Ke+2))}const Re=new Vector3,Pe=new Vector3,Fe=new Vector3,$e=new Vector3;function ke(ze){Fe.fromBufferAttribute(ne,ze),$e.copy(Fe);const Ue=se[ze];Re.copy(Ue),Re.sub(Fe.multiplyScalar(Fe.dot(Ue))).normalize(),Pe.crossVectors($e,Ue);const Ve=Pe.dot(le[ze])<0?-1:1;oe.setXYZW(ze,Re.x,Re.y,Re.z,Ve)}for(let ze=0,Ue=Te.length;ze<Ue;++ze){const Oe=Te[ze],Ve=Oe.start,Ye=Oe.count;for(let Ke=Ve,rt=Ve+Ye;Ke<rt;Ke+=3)ke(_.getX(Ke+0)),ke(_.getX(Ke+1)),ke(_.getX(Ke+2))}}computeVertexNormals(){const _=this.index,K=this.getAttribute("position");if(K!==void 0){let te=this.getAttribute("normal");if(te===void 0)te=new BufferAttribute(new Float32Array(K.count*3),3),this.setAttribute("normal",te);else for(let me=0,ve=te.count;me<ve;me++)te.setXYZ(me,0,0,0);const ne=new Vector3,ie=new Vector3,oe=new Vector3,se=new Vector3,le=new Vector3,ce=new Vector3,fe=new Vector3,pe=new Vector3;if(_)for(let me=0,ve=_.count;me<ve;me+=3){const ye=_.getX(me+0),Ee=_.getX(me+1),Se=_.getX(me+2);ne.fromBufferAttribute(K,ye),ie.fromBufferAttribute(K,Ee),oe.fromBufferAttribute(K,Se),fe.subVectors(oe,ie),pe.subVectors(ne,ie),fe.cross(pe),se.fromBufferAttribute(te,ye),le.fromBufferAttribute(te,Ee),ce.fromBufferAttribute(te,Se),se.add(fe),le.add(fe),ce.add(fe),te.setXYZ(ye,se.x,se.y,se.z),te.setXYZ(Ee,le.x,le.y,le.z),te.setXYZ(Se,ce.x,ce.y,ce.z)}else for(let me=0,ve=K.count;me<ve;me+=3)ne.fromBufferAttribute(K,me+0),ie.fromBufferAttribute(K,me+1),oe.fromBufferAttribute(K,me+2),fe.subVectors(oe,ie),pe.subVectors(ne,ie),fe.cross(pe),te.setXYZ(me+0,fe.x,fe.y,fe.z),te.setXYZ(me+1,fe.x,fe.y,fe.z),te.setXYZ(me+2,fe.x,fe.y,fe.z);this.normalizeNormals(),te.needsUpdate=!0}}normalizeNormals(){const _=this.attributes.normal;for(let K=0,te=_.count;K<te;K++)_vector$8.fromBufferAttribute(_,K),_vector$8.normalize(),_.setXYZ(K,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function _(se,le){const ce=se.array,fe=se.itemSize,pe=se.normalized,me=new ce.constructor(le.length*fe);let ve=0,ye=0;for(let Ee=0,Se=le.length;Ee<Se;Ee++){se.isInterleavedBufferAttribute?ve=le[Ee]*se.data.stride+se.offset:ve=le[Ee]*fe;for(let _e=0;_e<fe;_e++)me[ye++]=ce[ve++]}return new BufferAttribute(me,fe,pe)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const K=new BufferGeometry,te=this.index.array,ne=this.attributes;for(const se in ne){const le=ne[se],ce=_(le,te);K.setAttribute(se,ce)}const ie=this.morphAttributes;for(const se in ie){const le=[],ce=ie[se];for(let fe=0,pe=ce.length;fe<pe;fe++){const me=ce[fe],ve=_(me,te);le.push(ve)}K.morphAttributes[se]=le}K.morphTargetsRelative=this.morphTargetsRelative;const oe=this.groups;for(let se=0,le=oe.length;se<le;se++){const ce=oe[se];K.addGroup(ce.start,ce.count,ce.materialIndex)}return K}toJSON(){const _={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(_.uuid=this.uuid,_.type=this.type,this.name!==""&&(_.name=this.name),Object.keys(this.userData).length>0&&(_.userData=this.userData),this.parameters!==void 0){const le=this.parameters;for(const ce in le)le[ce]!==void 0&&(_[ce]=le[ce]);return _}_.data={attributes:{}};const K=this.index;K!==null&&(_.data.index={type:K.array.constructor.name,array:Array.prototype.slice.call(K.array)});const te=this.attributes;for(const le in te){const ce=te[le];_.data.attributes[le]=ce.toJSON(_.data)}const ne={};let ie=!1;for(const le in this.morphAttributes){const ce=this.morphAttributes[le],fe=[];for(let pe=0,me=ce.length;pe<me;pe++){const ve=ce[pe];fe.push(ve.toJSON(_.data))}fe.length>0&&(ne[le]=fe,ie=!0)}ie&&(_.data.morphAttributes=ne,_.data.morphTargetsRelative=this.morphTargetsRelative);const oe=this.groups;oe.length>0&&(_.data.groups=JSON.parse(JSON.stringify(oe)));const se=this.boundingSphere;return se!==null&&(_.data.boundingSphere={center:se.center.toArray(),radius:se.radius}),_}clone(){return new this.constructor().copy(this)}copy(_){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const K={};this.name=_.name;const te=_.index;te!==null&&this.setIndex(te.clone(K));const ne=_.attributes;for(const ce in ne){const fe=ne[ce];this.setAttribute(ce,fe.clone(K))}const ie=_.morphAttributes;for(const ce in ie){const fe=[],pe=ie[ce];for(let me=0,ve=pe.length;me<ve;me++)fe.push(pe[me].clone(K));this.morphAttributes[ce]=fe}this.morphTargetsRelative=_.morphTargetsRelative;const oe=_.groups;for(let ce=0,fe=oe.length;ce<fe;ce++){const pe=oe[ce];this.addGroup(pe.start,pe.count,pe.materialIndex)}const se=_.boundingBox;se!==null&&(this.boundingBox=se.clone());const le=_.boundingSphere;return le!==null&&(this.boundingSphere=le.clone()),this.drawRange.start=_.drawRange.start,this.drawRange.count=_.drawRange.count,this.userData=_.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(_=new BufferGeometry,K=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=_,this.material=K,this.updateMorphTargets()}copy(_,K){return super.copy(_,K),_.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=_.morphTargetInfluences.slice()),_.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},_.morphTargetDictionary)),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}updateMorphTargets(){const K=this.geometry.morphAttributes,te=Object.keys(K);if(te.length>0){const ne=K[te[0]];if(ne!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ie=0,oe=ne.length;ie<oe;ie++){const se=ne[ie].name||String(ie);this.morphTargetInfluences.push(0),this.morphTargetDictionary[se]=ie}}}}getVertexPosition(_,K){const te=this.geometry,ne=te.attributes.position,ie=te.morphAttributes.position,oe=te.morphTargetsRelative;K.fromBufferAttribute(ne,_);const se=this.morphTargetInfluences;if(ie&&se){_morphA.set(0,0,0);for(let le=0,ce=ie.length;le<ce;le++){const fe=se[le],pe=ie[le];fe!==0&&(_tempA.fromBufferAttribute(pe,_),oe?_morphA.addScaledVector(_tempA,fe):_morphA.addScaledVector(_tempA.sub(K),fe))}K.add(_morphA)}return K}raycast(_,K){const te=this.geometry,ne=this.material,ie=this.matrixWorld;ne!==void 0&&(te.boundingSphere===null&&te.computeBoundingSphere(),_sphere$6.copy(te.boundingSphere),_sphere$6.applyMatrix4(ie),_ray$3.copy(_.ray).recast(_.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(_.far-_.near)**2))&&(_inverseMatrix$3.copy(ie).invert(),_ray$3.copy(_.ray).applyMatrix4(_inverseMatrix$3),!(te.boundingBox!==null&&_ray$3.intersectsBox(te.boundingBox)===!1)&&this._computeIntersections(_,K,_ray$3)))}_computeIntersections(_,K,te){let ne;const ie=this.geometry,oe=this.material,se=ie.index,le=ie.attributes.position,ce=ie.attributes.uv,fe=ie.attributes.uv1,pe=ie.attributes.normal,me=ie.groups,ve=ie.drawRange;if(se!==null)if(Array.isArray(oe))for(let ye=0,Ee=me.length;ye<Ee;ye++){const Se=me[ye],_e=oe[Se.materialIndex],Te=Math.max(Se.start,ve.start),Re=Math.min(se.count,Math.min(Se.start+Se.count,ve.start+ve.count));for(let Pe=Te,Fe=Re;Pe<Fe;Pe+=3){const $e=se.getX(Pe),ke=se.getX(Pe+1),ze=se.getX(Pe+2);ne=checkGeometryIntersection(this,_e,_,te,ce,fe,pe,$e,ke,ze),ne&&(ne.faceIndex=Math.floor(Pe/3),ne.face.materialIndex=Se.materialIndex,K.push(ne))}}else{const ye=Math.max(0,ve.start),Ee=Math.min(se.count,ve.start+ve.count);for(let Se=ye,_e=Ee;Se<_e;Se+=3){const Te=se.getX(Se),Re=se.getX(Se+1),Pe=se.getX(Se+2);ne=checkGeometryIntersection(this,oe,_,te,ce,fe,pe,Te,Re,Pe),ne&&(ne.faceIndex=Math.floor(Se/3),K.push(ne))}}else if(le!==void 0)if(Array.isArray(oe))for(let ye=0,Ee=me.length;ye<Ee;ye++){const Se=me[ye],_e=oe[Se.materialIndex],Te=Math.max(Se.start,ve.start),Re=Math.min(le.count,Math.min(Se.start+Se.count,ve.start+ve.count));for(let Pe=Te,Fe=Re;Pe<Fe;Pe+=3){const $e=Pe,ke=Pe+1,ze=Pe+2;ne=checkGeometryIntersection(this,_e,_,te,ce,fe,pe,$e,ke,ze),ne&&(ne.faceIndex=Math.floor(Pe/3),ne.face.materialIndex=Se.materialIndex,K.push(ne))}}else{const ye=Math.max(0,ve.start),Ee=Math.min(le.count,ve.start+ve.count);for(let Se=ye,_e=Ee;Se<_e;Se+=3){const Te=Se,Re=Se+1,Pe=Se+2;ne=checkGeometryIntersection(this,oe,_,te,ce,fe,pe,Te,Re,Pe),ne&&(ne.faceIndex=Math.floor(Se/3),K.push(ne))}}}}function checkIntersection$1(Z,_,K,te,ne,ie,oe,se){let le;if(_.side===BackSide?le=te.intersectTriangle(oe,ie,ne,!0,se):le=te.intersectTriangle(ne,ie,oe,_.side===FrontSide,se),le===null)return null;_intersectionPointWorld.copy(se),_intersectionPointWorld.applyMatrix4(Z.matrixWorld);const ce=K.ray.origin.distanceTo(_intersectionPointWorld);return ce<K.near||ce>K.far?null:{distance:ce,point:_intersectionPointWorld.clone(),object:Z}}function checkGeometryIntersection(Z,_,K,te,ne,ie,oe,se,le,ce){Z.getVertexPosition(se,_vA$1),Z.getVertexPosition(le,_vB$1),Z.getVertexPosition(ce,_vC$1);const fe=checkIntersection$1(Z,_,K,te,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(fe){const pe=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,pe),ne&&(fe.uv=Triangle.getInterpolatedAttribute(ne,se,le,ce,pe,new Vector2)),ie&&(fe.uv1=Triangle.getInterpolatedAttribute(ie,se,le,ce,pe,new Vector2)),oe&&(fe.normal=Triangle.getInterpolatedAttribute(oe,se,le,ce,pe,new Vector3),fe.normal.dot(te.direction)>0&&fe.normal.multiplyScalar(-1));const me={a:se,b:le,c:ce,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,me.normal),fe.face=me,fe.barycoord=pe}return fe}class BoxGeometry extends BufferGeometry{constructor(_=1,K=1,te=1,ne=1,ie=1,oe=1){super(),this.type="BoxGeometry",this.parameters={width:_,height:K,depth:te,widthSegments:ne,heightSegments:ie,depthSegments:oe};const se=this;ne=Math.floor(ne),ie=Math.floor(ie),oe=Math.floor(oe);const le=[],ce=[],fe=[],pe=[];let me=0,ve=0;ye("z","y","x",-1,-1,te,K,_,oe,ie,0),ye("z","y","x",1,-1,te,K,-_,oe,ie,1),ye("x","z","y",1,1,_,te,K,ne,oe,2),ye("x","z","y",1,-1,_,te,-K,ne,oe,3),ye("x","y","z",1,-1,_,K,te,ne,ie,4),ye("x","y","z",-1,-1,_,K,-te,ne,ie,5),this.setIndex(le),this.setAttribute("position",new Float32BufferAttribute(ce,3)),this.setAttribute("normal",new Float32BufferAttribute(fe,3)),this.setAttribute("uv",new Float32BufferAttribute(pe,2));function ye(Ee,Se,_e,Te,Re,Pe,Fe,$e,ke,ze,Ue){const Oe=Pe/ke,Ve=Fe/ze,Ye=Pe/2,Ke=Fe/2,rt=$e/2,ct=ke+1,at=ze+1;let mt=0,je=0;const it=new Vector3;for(let et=0;et<at;et++){const qe=et*Ve-Ke;for(let lt=0;lt<ct;lt++){const _t=lt*Oe-Ye;it[Ee]=_t*Te,it[Se]=qe*Re,it[_e]=rt,ce.push(it.x,it.y,it.z),it[Ee]=0,it[Se]=0,it[_e]=$e>0?1:-1,fe.push(it.x,it.y,it.z),pe.push(lt/ke),pe.push(1-et/ze),mt+=1}}for(let et=0;et<ze;et++)for(let qe=0;qe<ke;qe++){const lt=me+qe+ct*et,_t=me+qe+ct*(et+1),ut=me+(qe+1)+ct*(et+1),St=me+(qe+1)+ct*et;le.push(lt,_t,St),le.push(_t,ut,St),je+=6}se.addGroup(ve,je,Ue),ve+=je,me+=mt}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new BoxGeometry(_.width,_.height,_.depth,_.widthSegments,_.heightSegments,_.depthSegments)}}function cloneUniforms(Z){const _={};for(const K in Z){_[K]={};for(const te in Z[K]){const ne=Z[K][te];ne&&(ne.isColor||ne.isMatrix3||ne.isMatrix4||ne.isVector2||ne.isVector3||ne.isVector4||ne.isTexture||ne.isQuaternion)?ne.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),_[K][te]=null):_[K][te]=ne.clone():Array.isArray(ne)?_[K][te]=ne.slice():_[K][te]=ne}}return _}function mergeUniforms(Z){const _={};for(let K=0;K<Z.length;K++){const te=cloneUniforms(Z[K]);for(const ne in te)_[ne]=te[ne]}return _}function cloneUniformsGroups(Z){const _=[];for(let K=0;K<Z.length;K++)_.push(Z[K].clone());return _}function getUnlitUniformColorSpace(Z){const _=Z.getRenderTarget();return _===null?Z.outputColorSpace:_.isXRRenderTarget===!0?_.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(_){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,_!==void 0&&this.setValues(_)}copy(_){return super.copy(_),this.fragmentShader=_.fragmentShader,this.vertexShader=_.vertexShader,this.uniforms=cloneUniforms(_.uniforms),this.uniformsGroups=cloneUniformsGroups(_.uniformsGroups),this.defines=Object.assign({},_.defines),this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.fog=_.fog,this.lights=_.lights,this.clipping=_.clipping,this.extensions=Object.assign({},_.extensions),this.glslVersion=_.glslVersion,this}toJSON(_){const K=super.toJSON(_);K.glslVersion=this.glslVersion,K.uniforms={};for(const ne in this.uniforms){const oe=this.uniforms[ne].value;oe&&oe.isTexture?K.uniforms[ne]={type:"t",value:oe.toJSON(_).uuid}:oe&&oe.isColor?K.uniforms[ne]={type:"c",value:oe.getHex()}:oe&&oe.isVector2?K.uniforms[ne]={type:"v2",value:oe.toArray()}:oe&&oe.isVector3?K.uniforms[ne]={type:"v3",value:oe.toArray()}:oe&&oe.isVector4?K.uniforms[ne]={type:"v4",value:oe.toArray()}:oe&&oe.isMatrix3?K.uniforms[ne]={type:"m3",value:oe.toArray()}:oe&&oe.isMatrix4?K.uniforms[ne]={type:"m4",value:oe.toArray()}:K.uniforms[ne]={value:oe}}Object.keys(this.defines).length>0&&(K.defines=this.defines),K.vertexShader=this.vertexShader,K.fragmentShader=this.fragmentShader,K.lights=this.lights,K.clipping=this.clipping;const te={};for(const ne in this.extensions)this.extensions[ne]===!0&&(te[ne]=!0);return Object.keys(te).length>0&&(K.extensions=te),K}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(_,K){return super.copy(_,K),this.matrixWorldInverse.copy(_.matrixWorldInverse),this.projectionMatrix.copy(_.projectionMatrix),this.projectionMatrixInverse.copy(_.projectionMatrixInverse),this.coordinateSystem=_.coordinateSystem,this}getWorldDirection(_){return super.getWorldDirection(_).negate()}updateMatrixWorld(_){super.updateMatrixWorld(_),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(_,K){super.updateWorldMatrix(_,K),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;let PerspectiveCamera$1=class extends Camera{constructor(_=50,K=1,te=.1,ne=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=_,this.zoom=1,this.near=te,this.far=ne,this.focus=10,this.aspect=K,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(_,K){return super.copy(_,K),this.fov=_.fov,this.zoom=_.zoom,this.near=_.near,this.far=_.far,this.focus=_.focus,this.aspect=_.aspect,this.view=_.view===null?null:Object.assign({},_.view),this.filmGauge=_.filmGauge,this.filmOffset=_.filmOffset,this}setFocalLength(_){const K=.5*this.getFilmHeight()/_;this.fov=RAD2DEG*2*Math.atan(K),this.updateProjectionMatrix()}getFocalLength(){const _=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/_}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(_,K,te){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),K.set(_v3$1.x,_v3$1.y).multiplyScalar(-_/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),te.set(_v3$1.x,_v3$1.y).multiplyScalar(-_/_v3$1.z)}getViewSize(_,K){return this.getViewBounds(_,_minTarget,_maxTarget),K.subVectors(_maxTarget,_minTarget)}setViewOffset(_,K,te,ne,ie,oe){this.aspect=_/K,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=K,this.view.offsetX=te,this.view.offsetY=ne,this.view.width=ie,this.view.height=oe,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _=this.near;let K=_*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,te=2*K,ne=this.aspect*te,ie=-.5*ne;const oe=this.view;if(this.view!==null&&this.view.enabled){const le=oe.fullWidth,ce=oe.fullHeight;ie+=oe.offsetX*ne/le,K-=oe.offsetY*te/ce,ne*=oe.width/le,te*=oe.height/ce}const se=this.filmOffset;se!==0&&(ie+=_*se/this.getFilmWidth()),this.projectionMatrix.makePerspective(ie,ie+ne,K,K-te,_,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_){const K=super.toJSON(_);return K.object.fov=this.fov,K.object.zoom=this.zoom,K.object.near=this.near,K.object.far=this.far,K.object.focus=this.focus,K.object.aspect=this.aspect,this.view!==null&&(K.object.view=Object.assign({},this.view)),K.object.filmGauge=this.filmGauge,K.object.filmOffset=this.filmOffset,K}};const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(_,K,te){super(),this.type="CubeCamera",this.renderTarget=te,this.coordinateSystem=null,this.activeMipmapLevel=0;const ne=new PerspectiveCamera$1(fov,aspect,_,K);ne.layers=this.layers,this.add(ne);const ie=new PerspectiveCamera$1(fov,aspect,_,K);ie.layers=this.layers,this.add(ie);const oe=new PerspectiveCamera$1(fov,aspect,_,K);oe.layers=this.layers,this.add(oe);const se=new PerspectiveCamera$1(fov,aspect,_,K);se.layers=this.layers,this.add(se);const le=new PerspectiveCamera$1(fov,aspect,_,K);le.layers=this.layers,this.add(le);const ce=new PerspectiveCamera$1(fov,aspect,_,K);ce.layers=this.layers,this.add(ce)}updateCoordinateSystem(){const _=this.coordinateSystem,K=this.children.concat(),[te,ne,ie,oe,se,le]=K;for(const ce of K)this.remove(ce);if(_===WebGLCoordinateSystem)te.up.set(0,1,0),te.lookAt(1,0,0),ne.up.set(0,1,0),ne.lookAt(-1,0,0),ie.up.set(0,0,-1),ie.lookAt(0,1,0),oe.up.set(0,0,1),oe.lookAt(0,-1,0),se.up.set(0,1,0),se.lookAt(0,0,1),le.up.set(0,1,0),le.lookAt(0,0,-1);else if(_===WebGPUCoordinateSystem)te.up.set(0,-1,0),te.lookAt(-1,0,0),ne.up.set(0,-1,0),ne.lookAt(1,0,0),ie.up.set(0,0,1),ie.lookAt(0,1,0),oe.up.set(0,0,-1),oe.lookAt(0,-1,0),se.up.set(0,-1,0),se.lookAt(0,0,1),le.up.set(0,-1,0),le.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+_);for(const ce of K)this.add(ce),ce.updateMatrixWorld()}update(_,K){this.parent===null&&this.updateMatrixWorld();const{renderTarget:te,activeMipmapLevel:ne}=this;this.coordinateSystem!==_.coordinateSystem&&(this.coordinateSystem=_.coordinateSystem,this.updateCoordinateSystem());const[ie,oe,se,le,ce,fe]=this.children,pe=_.getRenderTarget(),me=_.getActiveCubeFace(),ve=_.getActiveMipmapLevel(),ye=_.xr.enabled;_.xr.enabled=!1;const Ee=te.texture.generateMipmaps;te.texture.generateMipmaps=!1,_.setRenderTarget(te,0,ne),_.render(K,ie),_.setRenderTarget(te,1,ne),_.render(K,oe),_.setRenderTarget(te,2,ne),_.render(K,se),_.setRenderTarget(te,3,ne),_.render(K,le),_.setRenderTarget(te,4,ne),_.render(K,ce),te.texture.generateMipmaps=Ee,_.setRenderTarget(te,5,ne),_.render(K,fe),_.setRenderTarget(pe,me,ve),_.xr.enabled=ye,te.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce,fe){_=_!==void 0?_:[],K=K!==void 0?K:CubeReflectionMapping,super(_,K,te,ne,ie,oe,se,le,ce,fe),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(_){this.image=_}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(_=1,K={}){super(_,_,K),this.isWebGLCubeRenderTarget=!0;const te={width:_,height:_,depth:1},ne=[te,te,te,te,te,te];this.texture=new CubeTexture(ne,K.mapping,K.wrapS,K.wrapT,K.magFilter,K.minFilter,K.format,K.type,K.anisotropy,K.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=K.generateMipmaps!==void 0?K.generateMipmaps:!1,this.texture.minFilter=K.minFilter!==void 0?K.minFilter:LinearFilter}fromEquirectangularTexture(_,K){this.texture.type=K.type,this.texture.colorSpace=K.colorSpace,this.texture.generateMipmaps=K.generateMipmaps,this.texture.minFilter=K.minFilter,this.texture.magFilter=K.magFilter;const te={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},ne=new BoxGeometry(5,5,5),ie=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(te.uniforms),vertexShader:te.vertexShader,fragmentShader:te.fragmentShader,side:BackSide,blending:NoBlending});ie.uniforms.tEquirect.value=K;const oe=new Mesh(ne,ie),se=K.minFilter;return K.minFilter===LinearMipmapLinearFilter&&(K.minFilter=LinearFilter),new CubeCamera(1,10,this).update(_,oe),K.minFilter=se,oe.geometry.dispose(),oe.material.dispose(),this}clear(_,K,te,ne){const ie=_.getRenderTarget();for(let oe=0;oe<6;oe++)_.setRenderTarget(this,oe),_.clear(K,te,ne);_.setRenderTarget(ie)}}class FogExp2{constructor(_,K=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$1(_),this.density=K}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(_,K=1,te=1e3){this.isFog=!0,this.name="",this.color=new Color$1(_),this.near=K,this.far=te}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(_,K){return super.copy(_,K),_.background!==null&&(this.background=_.background.clone()),_.environment!==null&&(this.environment=_.environment.clone()),_.fog!==null&&(this.fog=_.fog.clone()),this.backgroundBlurriness=_.backgroundBlurriness,this.backgroundIntensity=_.backgroundIntensity,this.backgroundRotation.copy(_.backgroundRotation),this.environmentIntensity=_.environmentIntensity,this.environmentRotation.copy(_.environmentRotation),_.overrideMaterial!==null&&(this.overrideMaterial=_.overrideMaterial.clone()),this.matrixAutoUpdate=_.matrixAutoUpdate,this}toJSON(_){const K=super.toJSON(_);return this.fog!==null&&(K.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(K.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(K.object.backgroundIntensity=this.backgroundIntensity),K.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(K.object.environmentIntensity=this.environmentIntensity),K.object.environmentRotation=this.environmentRotation.toArray(),K}}class InterleavedBuffer{constructor(_,K){this.isInterleavedBuffer=!0,this.array=_,this.stride=K,this.count=_!==void 0?_.length/K:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(_){_===!0&&this.version++}setUsage(_){return this.usage=_,this}addUpdateRange(_,K){this.updateRanges.push({start:_,count:K})}clearUpdateRanges(){this.updateRanges.length=0}copy(_){return this.array=new _.array.constructor(_.array),this.count=_.count,this.stride=_.stride,this.usage=_.usage,this}copyAt(_,K,te){_*=this.stride,te*=K.stride;for(let ne=0,ie=this.stride;ne<ie;ne++)this.array[_+ne]=K.array[te+ne];return this}set(_,K=0){return this.array.set(_,K),this}clone(_){_.arrayBuffers===void 0&&(_.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),_.arrayBuffers[this.array.buffer._uuid]===void 0&&(_.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const K=new this.array.constructor(_.arrayBuffers[this.array.buffer._uuid]),te=new this.constructor(K,this.stride);return te.setUsage(this.usage),te}onUpload(_){return this.onUploadCallback=_,this}toJSON(_){return _.arrayBuffers===void 0&&(_.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),_.arrayBuffers[this.array.buffer._uuid]===void 0&&(_.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(_,K,te,ne=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=_,this.itemSize=K,this.offset=te,this.normalized=ne}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(_){this.data.needsUpdate=_}applyMatrix4(_){for(let K=0,te=this.data.count;K<te;K++)_vector$7.fromBufferAttribute(this,K),_vector$7.applyMatrix4(_),this.setXYZ(K,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(_){for(let K=0,te=this.count;K<te;K++)_vector$7.fromBufferAttribute(this,K),_vector$7.applyNormalMatrix(_),this.setXYZ(K,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(_){for(let K=0,te=this.count;K<te;K++)_vector$7.fromBufferAttribute(this,K),_vector$7.transformDirection(_),this.setXYZ(K,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(_,K){let te=this.array[_*this.data.stride+this.offset+K];return this.normalized&&(te=denormalize(te,this.array)),te}setComponent(_,K,te){return this.normalized&&(te=normalize$5(te,this.array)),this.data.array[_*this.data.stride+this.offset+K]=te,this}setX(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.data.array[_*this.data.stride+this.offset]=K,this}setY(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.data.array[_*this.data.stride+this.offset+1]=K,this}setZ(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.data.array[_*this.data.stride+this.offset+2]=K,this}setW(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.data.array[_*this.data.stride+this.offset+3]=K,this}getX(_){let K=this.data.array[_*this.data.stride+this.offset];return this.normalized&&(K=denormalize(K,this.array)),K}getY(_){let K=this.data.array[_*this.data.stride+this.offset+1];return this.normalized&&(K=denormalize(K,this.array)),K}getZ(_){let K=this.data.array[_*this.data.stride+this.offset+2];return this.normalized&&(K=denormalize(K,this.array)),K}getW(_){let K=this.data.array[_*this.data.stride+this.offset+3];return this.normalized&&(K=denormalize(K,this.array)),K}setXY(_,K,te){return _=_*this.data.stride+this.offset,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array)),this.data.array[_+0]=K,this.data.array[_+1]=te,this}setXYZ(_,K,te,ne){return _=_*this.data.stride+this.offset,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array)),this.data.array[_+0]=K,this.data.array[_+1]=te,this.data.array[_+2]=ne,this}setXYZW(_,K,te,ne,ie){return _=_*this.data.stride+this.offset,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array),ie=normalize$5(ie,this.array)),this.data.array[_+0]=K,this.data.array[_+1]=te,this.data.array[_+2]=ne,this.data.array[_+3]=ie,this}clone(_){if(_===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const K=[];for(let te=0;te<this.count;te++){const ne=te*this.data.stride+this.offset;for(let ie=0;ie<this.itemSize;ie++)K.push(this.data.array[ne+ie])}return new BufferAttribute(new this.array.constructor(K),this.itemSize,this.normalized)}else return _.interleavedBuffers===void 0&&(_.interleavedBuffers={}),_.interleavedBuffers[this.data.uuid]===void 0&&(_.interleavedBuffers[this.data.uuid]=this.data.clone(_)),new InterleavedBufferAttribute(_.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(_){if(_===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const K=[];for(let te=0;te<this.count;te++){const ne=te*this.data.stride+this.offset;for(let ie=0;ie<this.itemSize;ie++)K.push(this.data.array[ne+ie])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:K,normalized:this.normalized}}else return _.interleavedBuffers===void 0&&(_.interleavedBuffers={}),_.interleavedBuffers[this.data.uuid]===void 0&&(_.interleavedBuffers[this.data.uuid]=this.data.toJSON(_)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(_){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.alphaMap=_.alphaMap,this.rotation=_.rotation,this.sizeAttenuation=_.sizeAttenuation,this.fog=_.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(_=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const K=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),te=new InterleavedBuffer(K,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(te,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(te,2,3,!1))}this.geometry=_geometry,this.material=_,this.center=new Vector2(.5,.5)}raycast(_,K){_.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(_.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(_.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),_.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const te=this.material.rotation;let ne,ie;te!==0&&(ie=Math.cos(te),ne=Math.sin(te));const oe=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,oe,_worldScale,ne,ie),transformVertex(_vB.set(.5,-.5,0),_mvPosition,oe,_worldScale,ne,ie),transformVertex(_vC.set(.5,.5,0),_mvPosition,oe,_worldScale,ne,ie),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let se=_.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(se===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,oe,_worldScale,ne,ie),_uvB.set(0,1),se=_.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),se===null))return;const le=_.ray.origin.distanceTo(_intersectPoint);le<_.near||le>_.far||K.push({distance:le,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(_,K){return super.copy(_,K),_.center!==void 0&&this.center.copy(_.center),this.material=_.material,this}}function transformVertex(Z,_,K,te,ne,ie){_alignedPosition.subVectors(Z,K).addScalar(.5).multiply(te),ne!==void 0?(_rotatedPosition.x=ie*_alignedPosition.x-ne*_alignedPosition.y,_rotatedPosition.y=ne*_alignedPosition.x+ie*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),Z.copy(_),Z.x+=_rotatedPosition.x,Z.y+=_rotatedPosition.y,Z.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(_){super.copy(_,!1);const K=_.levels;for(let te=0,ne=K.length;te<ne;te++){const ie=K[te];this.addLevel(ie.object.clone(),ie.distance,ie.hysteresis)}return this.autoUpdate=_.autoUpdate,this}addLevel(_,K=0,te=0){K=Math.abs(K);const ne=this.levels;let ie;for(ie=0;ie<ne.length&&!(K<ne[ie].distance);ie++);return ne.splice(ie,0,{distance:K,hysteresis:te,object:_}),this.add(_),this}removeLevel(_){const K=this.levels;for(let te=0;te<K.length;te++)if(K[te].distance===_){const ne=K.splice(te,1);return this.remove(ne[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(_){const K=this.levels;if(K.length>0){let te,ne;for(te=1,ne=K.length;te<ne;te++){let ie=K[te].distance;if(K[te].object.visible&&(ie-=ie*K[te].hysteresis),_<ie)break}return K[te-1].object}return null}raycast(_,K){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const ne=_.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(ne).raycast(_,K)}}update(_){const K=this.levels;if(K.length>1){_v1$2.setFromMatrixPosition(_.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const te=_v1$2.distanceTo(_v2$1)/_.zoom;K[0].object.visible=!0;let ne,ie;for(ne=1,ie=K.length;ne<ie;ne++){let oe=K[ne].distance;if(K[ne].object.visible&&(oe-=oe*K[ne].hysteresis),te>=oe)K[ne-1].object.visible=!1,K[ne].object.visible=!0;else break}for(this._currentLevel=ne-1;ne<ie;ne++)K[ne].object.visible=!1}}toJSON(_){const K=super.toJSON(_);this.autoUpdate===!1&&(K.object.autoUpdate=!1),K.object.levels=[];const te=this.levels;for(let ne=0,ie=te.length;ne<ie;ne++){const oe=te[ne];K.object.levels.push({object:oe.object.uuid,distance:oe.distance,hysteresis:oe.hysteresis})}return K}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$5=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(_,K){super(_,K),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const _=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const K=_.getAttribute("position");for(let te=0;te<K.count;te++)this.getVertexPosition(te,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const _=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const K=_.getAttribute("position");for(let te=0;te<K.count;te++)this.getVertexPosition(te,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(_,K){return super.copy(_,K),this.bindMode=_.bindMode,this.bindMatrix.copy(_.bindMatrix),this.bindMatrixInverse.copy(_.bindMatrixInverse),this.skeleton=_.skeleton,_.boundingBox!==null&&(this.boundingBox=_.boundingBox.clone()),_.boundingSphere!==null&&(this.boundingSphere=_.boundingSphere.clone()),this}raycast(_,K){const te=this.material,ne=this.matrixWorld;te!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$5.copy(this.boundingSphere),_sphere$5.applyMatrix4(ne),_.ray.intersectsSphere(_sphere$5)!==!1&&(_inverseMatrix$2.copy(ne).invert(),_ray$2.copy(_.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(_,K,_ray$2)))}getVertexPosition(_,K){return super.getVertexPosition(_,K),this.applyBoneTransform(_,K),K}bind(_,K){this.skeleton=_,K===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),K=this.matrixWorld),this.bindMatrix.copy(K),this.bindMatrixInverse.copy(K).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const _=new Vector4,K=this.geometry.attributes.skinWeight;for(let te=0,ne=K.count;te<ne;te++){_.fromBufferAttribute(K,te);const ie=1/_.manhattanLength();ie!==1/0?_.multiplyScalar(ie):_.set(1,0,0,0),K.setXYZW(te,_.x,_.y,_.z,_.w)}}updateMatrixWorld(_){super.updateMatrixWorld(_),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(_,K){const te=this.skeleton,ne=this.geometry;_skinIndex.fromBufferAttribute(ne.attributes.skinIndex,_),_skinWeight.fromBufferAttribute(ne.attributes.skinWeight,_),_basePosition.copy(K).applyMatrix4(this.bindMatrix),K.set(0,0,0);for(let ie=0;ie<4;ie++){const oe=_skinWeight.getComponent(ie);if(oe!==0){const se=_skinIndex.getComponent(ie);_matrix4.multiplyMatrices(te.bones[se].matrixWorld,te.boneInverses[se]),K.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),oe)}}return K.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(_=null,K=1,te=1,ne,ie,oe,se,le,ce=NearestFilter,fe=NearestFilter,pe,me){super(null,oe,se,le,ce,fe,ne,ie,pe,me),this.isDataTexture=!0,this.image={data:_,width:K,height:te},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(_=[],K=[]){this.uuid=generateUUID(),this.bones=_.slice(0),this.boneInverses=K,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const _=this.bones,K=this.boneInverses;if(this.boneMatrices=new Float32Array(_.length*16),K.length===0)this.calculateInverses();else if(_.length!==K.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let te=0,ne=this.bones.length;te<ne;te++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let _=0,K=this.bones.length;_<K;_++){const te=new Matrix4;this.bones[_]&&te.copy(this.bones[_].matrixWorld).invert(),this.boneInverses.push(te)}}pose(){for(let _=0,K=this.bones.length;_<K;_++){const te=this.bones[_];te&&te.matrixWorld.copy(this.boneInverses[_]).invert()}for(let _=0,K=this.bones.length;_<K;_++){const te=this.bones[_];te&&(te.parent&&te.parent.isBone?(te.matrix.copy(te.parent.matrixWorld).invert(),te.matrix.multiply(te.matrixWorld)):te.matrix.copy(te.matrixWorld),te.matrix.decompose(te.position,te.quaternion,te.scale))}}update(){const _=this.bones,K=this.boneInverses,te=this.boneMatrices,ne=this.boneTexture;for(let ie=0,oe=_.length;ie<oe;ie++){const se=_[ie]?_[ie].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(se,K[ie]),_offsetMatrix.toArray(te,ie*16)}ne!==null&&(ne.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let _=Math.sqrt(this.bones.length*4);_=Math.ceil(_/4)*4,_=Math.max(_,4);const K=new Float32Array(_*_*4);K.set(this.boneMatrices);const te=new DataTexture(K,_,_,RGBAFormat,FloatType);return te.needsUpdate=!0,this.boneMatrices=K,this.boneTexture=te,this}getBoneByName(_){for(let K=0,te=this.bones.length;K<te;K++){const ne=this.bones[K];if(ne.name===_)return ne}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(_,K){this.uuid=_.uuid;for(let te=0,ne=_.bones.length;te<ne;te++){const ie=_.bones[te];let oe=K[ie];oe===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",ie),oe=new Bone),this.bones.push(oe),this.boneInverses.push(new Matrix4().fromArray(_.boneInverses[te]))}return this.init(),this}toJSON(){const _={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};_.uuid=this.uuid;const K=this.bones,te=this.boneInverses;for(let ne=0,ie=K.length;ne<ie;ne++){const oe=K[ne];_.bones.push(oe.uuid);const se=te[ne];_.boneInverses.push(se.toArray())}return _}}class InstancedBufferAttribute extends BufferAttribute{constructor(_,K,te,ne=1){super(_,K,te),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=ne}copy(_){return super.copy(_),this.meshPerAttribute=_.meshPerAttribute,this}toJSON(){const _=super.toJSON();return _.meshPerAttribute=this.meshPerAttribute,_.isInstancedBufferAttribute=!0,_}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$4=new Sphere;class InstancedMesh extends Mesh{constructor(_,K,te){super(_,K),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(te*16),16),this.instanceColor=null,this.morphTexture=null,this.count=te,this.boundingBox=null,this.boundingSphere=null;for(let ne=0;ne<te;ne++)this.setMatrixAt(ne,_identity)}computeBoundingBox(){const _=this.geometry,K=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),_.boundingBox===null&&_.computeBoundingBox(),this.boundingBox.makeEmpty();for(let te=0;te<K;te++)this.getMatrixAt(te,_instanceLocalMatrix),_box3.copy(_.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const _=this.geometry,K=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),_.boundingSphere===null&&_.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let te=0;te<K;te++)this.getMatrixAt(te,_instanceLocalMatrix),_sphere$4.copy(_.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$4)}copy(_,K){return super.copy(_,K),this.instanceMatrix.copy(_.instanceMatrix),_.morphTexture!==null&&(this.morphTexture=_.morphTexture.clone()),_.instanceColor!==null&&(this.instanceColor=_.instanceColor.clone()),this.count=_.count,_.boundingBox!==null&&(this.boundingBox=_.boundingBox.clone()),_.boundingSphere!==null&&(this.boundingSphere=_.boundingSphere.clone()),this}getColorAt(_,K){K.fromArray(this.instanceColor.array,_*3)}getMatrixAt(_,K){K.fromArray(this.instanceMatrix.array,_*16)}getMorphAt(_,K){const te=K.morphTargetInfluences,ne=this.morphTexture.source.data.data,ie=te.length+1,oe=_*ie+1;for(let se=0;se<te.length;se++)te[se]=ne[oe+se]}raycast(_,K){const te=this.matrixWorld,ne=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(te),_.ray.intersectsSphere(_sphere$4)!==!1))for(let ie=0;ie<ne;ie++){this.getMatrixAt(ie,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(te,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(_,_instanceIntersects);for(let oe=0,se=_instanceIntersects.length;oe<se;oe++){const le=_instanceIntersects[oe];le.instanceId=ie,le.object=this,K.push(le)}_instanceIntersects.length=0}}setColorAt(_,K){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),K.toArray(this.instanceColor.array,_*3)}setMatrixAt(_,K){K.toArray(this.instanceMatrix.array,_*16)}setMorphAt(_,K){const te=K.morphTargetInfluences,ne=te.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(ne*this.count),ne,this.count,RedFormat,FloatType));const ie=this.morphTexture.source.data.data;let oe=0;for(let ce=0;ce<te.length;ce++)oe+=te[ce];const se=this.geometry.morphTargetsRelative?1:1-oe,le=ne*_;ie[le]=se,ie.set(te,le+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(_=new Vector3(1,0,0),K=0){this.isPlane=!0,this.normal=_,this.constant=K}set(_,K){return this.normal.copy(_),this.constant=K,this}setComponents(_,K,te,ne){return this.normal.set(_,K,te),this.constant=ne,this}setFromNormalAndCoplanarPoint(_,K){return this.normal.copy(_),this.constant=-K.dot(this.normal),this}setFromCoplanarPoints(_,K,te){const ne=_vector1.subVectors(te,K).cross(_vector2.subVectors(_,K)).normalize();return this.setFromNormalAndCoplanarPoint(ne,_),this}copy(_){return this.normal.copy(_.normal),this.constant=_.constant,this}normalize(){const _=1/this.normal.length();return this.normal.multiplyScalar(_),this.constant*=_,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(_){return this.normal.dot(_)+this.constant}distanceToSphere(_){return this.distanceToPoint(_.center)-_.radius}projectPoint(_,K){return K.copy(_).addScaledVector(this.normal,-this.distanceToPoint(_))}intersectLine(_,K){const te=_.delta(_vector1),ne=this.normal.dot(te);if(ne===0)return this.distanceToPoint(_.start)===0?K.copy(_.start):null;const ie=-(_.start.dot(this.normal)+this.constant)/ne;return ie<0||ie>1?null:K.copy(_.start).addScaledVector(te,ie)}intersectsLine(_){const K=this.distanceToPoint(_.start),te=this.distanceToPoint(_.end);return K<0&&te>0||te<0&&K>0}intersectsBox(_){return _.intersectsPlane(this)}intersectsSphere(_){return _.intersectsPlane(this)}coplanarPoint(_){return _.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(_,K){const te=K||_normalMatrix.getNormalMatrix(_),ne=this.coplanarPoint(_vector1).applyMatrix4(_),ie=this.normal.applyMatrix3(te).normalize();return this.constant=-ne.dot(ie),this}translate(_){return this.constant-=_.dot(this.normal),this}equals(_){return _.normal.equals(this.normal)&&_.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(_=new Plane,K=new Plane,te=new Plane,ne=new Plane,ie=new Plane,oe=new Plane){this.planes=[_,K,te,ne,ie,oe]}set(_,K,te,ne,ie,oe){const se=this.planes;return se[0].copy(_),se[1].copy(K),se[2].copy(te),se[3].copy(ne),se[4].copy(ie),se[5].copy(oe),this}copy(_){const K=this.planes;for(let te=0;te<6;te++)K[te].copy(_.planes[te]);return this}setFromProjectionMatrix(_,K=WebGLCoordinateSystem){const te=this.planes,ne=_.elements,ie=ne[0],oe=ne[1],se=ne[2],le=ne[3],ce=ne[4],fe=ne[5],pe=ne[6],me=ne[7],ve=ne[8],ye=ne[9],Ee=ne[10],Se=ne[11],_e=ne[12],Te=ne[13],Re=ne[14],Pe=ne[15];if(te[0].setComponents(le-ie,me-ce,Se-ve,Pe-_e).normalize(),te[1].setComponents(le+ie,me+ce,Se+ve,Pe+_e).normalize(),te[2].setComponents(le+oe,me+fe,Se+ye,Pe+Te).normalize(),te[3].setComponents(le-oe,me-fe,Se-ye,Pe-Te).normalize(),te[4].setComponents(le-se,me-pe,Se-Ee,Pe-Re).normalize(),K===WebGLCoordinateSystem)te[5].setComponents(le+se,me+pe,Se+Ee,Pe+Re).normalize();else if(K===WebGPUCoordinateSystem)te[5].setComponents(se,pe,Ee,Re).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+K);return this}intersectsObject(_){if(_.boundingSphere!==void 0)_.boundingSphere===null&&_.computeBoundingSphere(),_sphere$3.copy(_.boundingSphere).applyMatrix4(_.matrixWorld);else{const K=_.geometry;K.boundingSphere===null&&K.computeBoundingSphere(),_sphere$3.copy(K.boundingSphere).applyMatrix4(_.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(_){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(_.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(_){const K=this.planes,te=_.center,ne=-_.radius;for(let ie=0;ie<6;ie++)if(K[ie].distanceToPoint(te)<ne)return!1;return!0}intersectsBox(_){const K=this.planes;for(let te=0;te<6;te++){const ne=K[te];if(_vector$6.x=ne.normal.x>0?_.max.x:_.min.x,_vector$6.y=ne.normal.y>0?_.max.y:_.min.y,_vector$6.z=ne.normal.z>0?_.max.z:_.min.z,ne.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(_){const K=this.planes;for(let te=0;te<6;te++)if(K[te].distanceToPoint(_)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ascIdSort(Z,_){return Z-_}function sortOpaque(Z,_){return Z.z-_.z}function sortTransparent(Z,_){return _.z-Z.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(_,K,te,ne){const ie=this.pool,oe=this.list;this.index>=ie.length&&ie.push({start:-1,count:-1,z:-1,index:-1});const se=ie[this.index];oe.push(se),this.index++,se.start=_,se.count=K,se.z=te,se.index=ne}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color$1(1,1,1),_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(Z,_,K=0){const te=_.itemSize;if(Z.isInterleavedBufferAttribute||Z.array.constructor!==_.array.constructor){const ne=Z.count;for(let ie=0;ie<ne;ie++)for(let oe=0;oe<te;oe++)_.setComponent(ie+K,oe,Z.getComponent(ie,oe))}else _.array.set(Z.array,K*te);_.needsUpdate=!0}function copyArrayContents(Z,_){if(Z.constructor!==_.constructor){const K=Math.min(Z.length,_.length);for(let te=0;te<K;te++)_[te]=Z[te]}else{const K=Math.min(Z.length,_.length);_.set(new Z.constructor(Z.buffer,0,K))}}class BatchedMesh extends Mesh{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(_,K,te=K*2,ne){super(new BufferGeometry,ne),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=_,this._maxVertexCount=K,this._maxIndexCount=te,this._multiDrawCounts=new Int32Array(_),this._multiDrawStarts=new Int32Array(_),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let _=Math.sqrt(this._maxInstanceCount*4);_=Math.ceil(_/4)*4,_=Math.max(_,4);const K=new Float32Array(_*_*4),te=new DataTexture(K,_,_,RGBAFormat,FloatType);this._matricesTexture=te}_initIndirectTexture(){let _=Math.sqrt(this._maxInstanceCount);_=Math.ceil(_);const K=new Uint32Array(_*_),te=new DataTexture(K,_,_,RedIntegerFormat,UnsignedIntType);this._indirectTexture=te}_initColorsTexture(){let _=Math.sqrt(this._maxInstanceCount);_=Math.ceil(_);const K=new Float32Array(_*_*4).fill(1),te=new DataTexture(K,_,_,RGBAFormat,FloatType);te.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=te}_initializeGeometry(_){const K=this.geometry,te=this._maxVertexCount,ne=this._maxIndexCount;if(this._geometryInitialized===!1){for(const ie in _.attributes){const oe=_.getAttribute(ie),{array:se,itemSize:le,normalized:ce}=oe,fe=new se.constructor(te*le),pe=new BufferAttribute(fe,le,ce);K.setAttribute(ie,pe)}if(_.getIndex()!==null){const ie=te>65535?new Uint32Array(ne):new Uint16Array(ne);K.setIndex(new BufferAttribute(ie,1))}this._geometryInitialized=!0}}_validateGeometry(_){const K=this.geometry;if(!!_.getIndex()!=!!K.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const te in K.attributes){if(!_.hasAttribute(te))throw new Error(`THREE.BatchedMesh: Added geometry missing "${te}". All geometries must have consistent attributes.`);const ne=_.getAttribute(te),ie=K.getAttribute(te);if(ne.itemSize!==ie.itemSize||ne.normalized!==ie.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(_){const K=this._instanceInfo;if(_<0||_>=K.length||K[_].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${_}. Instance is either out of range or has been deleted.`)}validateGeometryId(_){const K=this._geometryInfo;if(_<0||_>=K.length||K[_].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${_}. Geometry is either out of range or has been deleted.`)}setCustomSort(_){return this.customSort=_,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _=this.boundingBox,K=this._instanceInfo;_.makeEmpty();for(let te=0,ne=K.length;te<ne;te++){if(K[te].active===!1)continue;const ie=K[te].geometryIndex;this.getMatrixAt(te,_matrix$1),this.getBoundingBoxAt(ie,_box$1).applyMatrix4(_matrix$1),_.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _=this.boundingSphere,K=this._instanceInfo;_.makeEmpty();for(let te=0,ne=K.length;te<ne;te++){if(K[te].active===!1)continue;const ie=K[te].geometryIndex;this.getMatrixAt(te,_matrix$1),this.getBoundingSphereAt(ie,_sphere$2).applyMatrix4(_matrix$1),_.union(_sphere$2)}}addInstance(_){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const te={visible:!0,active:!0,geometryIndex:_};let ne=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),ne=this._availableInstanceIds.shift(),this._instanceInfo[ne]=te):(ne=this._instanceInfo.length,this._instanceInfo.push(te));const ie=this._matricesTexture;_matrix$1.identity().toArray(ie.image.data,ne*16),ie.needsUpdate=!0;const oe=this._colorsTexture;return oe&&(_whiteColor.toArray(oe.image.data,ne*4),oe.needsUpdate=!0),this._visibilityChanged=!0,ne}addGeometry(_,K=-1,te=-1){this._initializeGeometry(_),this._validateGeometry(_);const ne={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},ie=this._geometryInfo;ne.vertexStart=this._nextVertexStart,ne.reservedVertexCount=K===-1?_.getAttribute("position").count:K;const oe=_.getIndex();if(oe!==null&&(ne.indexStart=this._nextIndexStart,ne.reservedIndexCount=te===-1?oe.count:te),ne.indexStart!==-1&&ne.indexStart+ne.reservedIndexCount>this._maxIndexCount||ne.vertexStart+ne.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let le;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),le=this._availableGeometryIds.shift(),ie[le]=ne):(le=this._geometryCount,this._geometryCount++,ie.push(ne)),this.setGeometryAt(le,_),this._nextIndexStart=ne.indexStart+ne.reservedIndexCount,this._nextVertexStart=ne.vertexStart+ne.reservedVertexCount,le}setGeometryAt(_,K){if(_>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(K);const te=this.geometry,ne=te.getIndex()!==null,ie=te.getIndex(),oe=K.getIndex(),se=this._geometryInfo[_];if(ne&&oe.count>se.reservedIndexCount||K.attributes.position.count>se.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const le=se.vertexStart,ce=se.reservedVertexCount;se.vertexCount=K.getAttribute("position").count;for(const fe in te.attributes){const pe=K.getAttribute(fe),me=te.getAttribute(fe);copyAttributeData(pe,me,le);const ve=pe.itemSize;for(let ye=pe.count,Ee=ce;ye<Ee;ye++){const Se=le+ye;for(let _e=0;_e<ve;_e++)me.setComponent(Se,_e,0)}me.needsUpdate=!0,me.addUpdateRange(le*ve,ce*ve)}if(ne){const fe=se.indexStart,pe=se.reservedIndexCount;se.indexCount=K.getIndex().count;for(let me=0;me<oe.count;me++)ie.setX(fe+me,le+oe.getX(me));for(let me=oe.count,ve=pe;me<ve;me++)ie.setX(fe+me,le);ie.needsUpdate=!0,ie.addUpdateRange(fe,se.reservedIndexCount)}return se.start=ne?se.indexStart:se.vertexStart,se.count=ne?se.indexCount:se.vertexCount,se.boundingBox=null,K.boundingBox!==null&&(se.boundingBox=K.boundingBox.clone()),se.boundingSphere=null,K.boundingSphere!==null&&(se.boundingSphere=K.boundingSphere.clone()),this._visibilityChanged=!0,_}deleteGeometry(_){const K=this._geometryInfo;if(_>=K.length||K[_].active===!1)return this;const te=this._instanceInfo;for(let ne=0,ie=te.length;ne<ie;ne++)te[ne].geometryIndex===_&&this.deleteInstance(ne);return K[_].active=!1,this._availableGeometryIds.push(_),this._visibilityChanged=!0,this}deleteInstance(_){return this.validateInstanceId(_),this._instanceInfo[_].active=!1,this._availableInstanceIds.push(_),this._visibilityChanged=!0,this}optimize(){let _=0,K=0;const te=this._geometryInfo,ne=te.map((oe,se)=>se).sort((oe,se)=>te[oe].vertexStart-te[se].vertexStart),ie=this.geometry;for(let oe=0,se=te.length;oe<se;oe++){const le=ne[oe],ce=te[le];if(ce.active!==!1){if(ie.index!==null){if(ce.indexStart!==K){const{indexStart:fe,vertexStart:pe,reservedIndexCount:me}=ce,ve=ie.index,ye=ve.array,Ee=_-pe;for(let Se=fe;Se<fe+me;Se++)ye[Se]=ye[Se]+Ee;ve.array.copyWithin(K,fe,fe+me),ve.addUpdateRange(K,me),ce.indexStart=K}K+=ce.reservedIndexCount}if(ce.vertexStart!==_){const{vertexStart:fe,reservedVertexCount:pe}=ce,me=ie.attributes;for(const ve in me){const ye=me[ve],{array:Ee,itemSize:Se}=ye;Ee.copyWithin(_*Se,fe*Se,(fe+pe)*Se),ye.addUpdateRange(_*Se,pe*Se)}ce.vertexStart=_}_+=ce.reservedVertexCount,ce.start=ie.index?ce.indexStart:ce.vertexStart,this._nextIndexStart=ie.index?ce.indexStart+ce.reservedIndexCount:0,this._nextVertexStart=ce.vertexStart+ce.reservedVertexCount}}return this}getBoundingBoxAt(_,K){if(_>=this._geometryCount)return null;const te=this.geometry,ne=this._geometryInfo[_];if(ne.boundingBox===null){const ie=new Box3,oe=te.index,se=te.attributes.position;for(let le=ne.start,ce=ne.start+ne.count;le<ce;le++){let fe=le;oe&&(fe=oe.getX(fe)),ie.expandByPoint(_vector$5.fromBufferAttribute(se,fe))}ne.boundingBox=ie}return K.copy(ne.boundingBox),K}getBoundingSphereAt(_,K){if(_>=this._geometryCount)return null;const te=this.geometry,ne=this._geometryInfo[_];if(ne.boundingSphere===null){const ie=new Sphere;this.getBoundingBoxAt(_,_box$1),_box$1.getCenter(ie.center);const oe=te.index,se=te.attributes.position;let le=0;for(let ce=ne.start,fe=ne.start+ne.count;ce<fe;ce++){let pe=ce;oe&&(pe=oe.getX(pe)),_vector$5.fromBufferAttribute(se,pe),le=Math.max(le,ie.center.distanceToSquared(_vector$5))}ie.radius=Math.sqrt(le),ne.boundingSphere=ie}return K.copy(ne.boundingSphere),K}setMatrixAt(_,K){this.validateInstanceId(_);const te=this._matricesTexture,ne=this._matricesTexture.image.data;return K.toArray(ne,_*16),te.needsUpdate=!0,this}getMatrixAt(_,K){return this.validateInstanceId(_),K.fromArray(this._matricesTexture.image.data,_*16)}setColorAt(_,K){return this.validateInstanceId(_),this._colorsTexture===null&&this._initColorsTexture(),K.toArray(this._colorsTexture.image.data,_*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(_,K){return this.validateInstanceId(_),K.fromArray(this._colorsTexture.image.data,_*4)}setVisibleAt(_,K){return this.validateInstanceId(_),this._instanceInfo[_].visible===K?this:(this._instanceInfo[_].visible=K,this._visibilityChanged=!0,this)}getVisibleAt(_){return this.validateInstanceId(_),this._instanceInfo[_].visible}setGeometryIdAt(_,K){return this.validateInstanceId(_),this.validateGeometryId(K),this._instanceInfo[_].geometryIndex=K,this}getGeometryIdAt(_){return this.validateInstanceId(_),this._instanceInfo[_].geometryIndex}getGeometryRangeAt(_,K={}){this.validateGeometryId(_);const te=this._geometryInfo[_];return K.vertexStart=te.vertexStart,K.vertexCount=te.vertexCount,K.reservedVertexCount=te.reservedVertexCount,K.indexStart=te.indexStart,K.indexCount=te.indexCount,K.reservedIndexCount=te.reservedIndexCount,K.start=te.start,K.count=te.count,K}setInstanceCount(_){const K=this._availableInstanceIds,te=this._instanceInfo;for(K.sort(ascIdSort);K[K.length-1]===te.length;)te.pop(),K.pop();if(_<te.length)throw new Error(`BatchedMesh: Instance ids outside the range ${_} are being used. Cannot shrink instance count.`);const ne=new Int32Array(_),ie=new Int32Array(_);copyArrayContents(this._multiDrawCounts,ne),copyArrayContents(this._multiDrawStarts,ie),this._multiDrawCounts=ne,this._multiDrawStarts=ie,this._maxInstanceCount=_;const oe=this._indirectTexture,se=this._matricesTexture,le=this._colorsTexture;oe.dispose(),this._initIndirectTexture(),copyArrayContents(oe.image.data,this._indirectTexture.image.data),se.dispose(),this._initMatricesTexture(),copyArrayContents(se.image.data,this._matricesTexture.image.data),le&&(le.dispose(),this._initColorsTexture(),copyArrayContents(le.image.data,this._colorsTexture.image.data))}setGeometrySize(_,K){const te=[...this._geometryInfo].filter(se=>se.active);if(Math.max(...te.map(se=>se.vertexStart+se.reservedVertexCount))>_)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${K}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...te.map(le=>le.indexStart+le.reservedIndexCount))>K)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${K}. Cannot shrink further.`);const ie=this.geometry;ie.dispose(),this._maxVertexCount=_,this._maxIndexCount=K,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(ie));const oe=this.geometry;ie.index&&copyArrayContents(ie.index.array,oe.index.array);for(const se in ie.attributes)copyArrayContents(ie.attributes[se].array,oe.attributes[se].array)}raycast(_,K){const te=this._instanceInfo,ne=this._geometryInfo,ie=this.matrixWorld,oe=this.geometry;_mesh.material=this.material,_mesh.geometry.index=oe.index,_mesh.geometry.attributes=oe.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let se=0,le=te.length;se<le;se++){if(!te[se].visible||!te[se].active)continue;const ce=te[se].geometryIndex,fe=ne[ce];_mesh.geometry.setDrawRange(fe.start,fe.count),this.getMatrixAt(se,_mesh.matrixWorld).premultiply(ie),this.getBoundingBoxAt(ce,_mesh.geometry.boundingBox),this.getBoundingSphereAt(ce,_mesh.geometry.boundingSphere),_mesh.raycast(_,_batchIntersects);for(let pe=0,me=_batchIntersects.length;pe<me;pe++){const ve=_batchIntersects[pe];ve.object=this,ve.batchId=se,K.push(ve)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(_){return super.copy(_),this.geometry=_.geometry.clone(),this.perObjectFrustumCulled=_.perObjectFrustumCulled,this.sortObjects=_.sortObjects,this.boundingBox=_.boundingBox!==null?_.boundingBox.clone():null,this.boundingSphere=_.boundingSphere!==null?_.boundingSphere.clone():null,this._geometryInfo=_._geometryInfo.map(K=>({...K,boundingBox:K.boundingBox!==null?K.boundingBox.clone():null,boundingSphere:K.boundingSphere!==null?K.boundingSphere.clone():null})),this._instanceInfo=_._instanceInfo.map(K=>({...K})),this._maxInstanceCount=_._maxInstanceCount,this._maxVertexCount=_._maxVertexCount,this._maxIndexCount=_._maxIndexCount,this._geometryInitialized=_._geometryInitialized,this._geometryCount=_._geometryCount,this._multiDrawCounts=_._multiDrawCounts.slice(),this._multiDrawStarts=_._multiDrawStarts.slice(),this._matricesTexture=_._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=_._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(_,K,te,ne,ie){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const oe=ne.getIndex(),se=oe===null?1:oe.array.BYTES_PER_ELEMENT,le=this._instanceInfo,ce=this._multiDrawStarts,fe=this._multiDrawCounts,pe=this._geometryInfo,me=this.perObjectFrustumCulled,ve=this._indirectTexture,ye=ve.image.data;me&&(_matrix$1.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,_.coordinateSystem));let Ee=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(te.matrixWorld).applyMatrix4(_matrix$1),_forward.set(0,0,-1).transformDirection(te.matrixWorld).transformDirection(_matrix$1);for(let Te=0,Re=le.length;Te<Re;Te++)if(le[Te].visible&&le[Te].active){const Pe=le[Te].geometryIndex;this.getMatrixAt(Te,_matrix$1),this.getBoundingSphereAt(Pe,_sphere$2).applyMatrix4(_matrix$1);let Fe=!1;if(me&&(Fe=!_frustum.intersectsSphere(_sphere$2)),!Fe){const $e=pe[Pe],ke=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push($e.start,$e.count,ke,Te)}}const Se=_renderList.list,_e=this.customSort;_e===null?Se.sort(ie.transparent?sortTransparent:sortOpaque):_e.call(this,Se,te);for(let Te=0,Re=Se.length;Te<Re;Te++){const Pe=Se[Te];ce[Ee]=Pe.start*se,fe[Ee]=Pe.count,ye[Ee]=Pe.index,Ee++}_renderList.reset()}else for(let Se=0,_e=le.length;Se<_e;Se++)if(le[Se].visible&&le[Se].active){const Te=le[Se].geometryIndex;let Re=!1;if(me&&(this.getMatrixAt(Se,_matrix$1),this.getBoundingSphereAt(Te,_sphere$2).applyMatrix4(_matrix$1),Re=!_frustum.intersectsSphere(_sphere$2)),!Re){const Pe=pe[Te];ce[Ee]=Pe.start*se,fe[Ee]=Pe.count,ye[Ee]=Se,Ee++}}ve.needsUpdate=!0,this._multiDrawCount=Ee,this._visibilityChanged=!1}onBeforeShadow(_,K,te,ne,ie,oe){this.onBeforeRender(_,null,ne,ie,oe)}}class LineBasicMaterial extends Material{constructor(_){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.linewidth=_.linewidth,this.linecap=_.linecap,this.linejoin=_.linejoin,this.fog=_.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(_=new BufferGeometry,K=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=_,this.material=K,this.updateMorphTargets()}copy(_,K){return super.copy(_,K),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}computeLineDistances(){const _=this.geometry;if(_.index===null){const K=_.attributes.position,te=[0];for(let ne=1,ie=K.count;ne<ie;ne++)_vStart.fromBufferAttribute(K,ne-1),_vEnd.fromBufferAttribute(K,ne),te[ne]=te[ne-1],te[ne]+=_vStart.distanceTo(_vEnd);_.setAttribute("lineDistance",new Float32BufferAttribute(te,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(_,K){const te=this.geometry,ne=this.matrixWorld,ie=_.params.Line.threshold,oe=te.drawRange;if(te.boundingSphere===null&&te.computeBoundingSphere(),_sphere$1.copy(te.boundingSphere),_sphere$1.applyMatrix4(ne),_sphere$1.radius+=ie,_.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(ne).invert(),_ray$1.copy(_.ray).applyMatrix4(_inverseMatrix$1);const se=ie/((this.scale.x+this.scale.y+this.scale.z)/3),le=se*se,ce=this.isLineSegments?2:1,fe=te.index,me=te.attributes.position;if(fe!==null){const ve=Math.max(0,oe.start),ye=Math.min(fe.count,oe.start+oe.count);for(let Ee=ve,Se=ye-1;Ee<Se;Ee+=ce){const _e=fe.getX(Ee),Te=fe.getX(Ee+1),Re=checkIntersection(this,_,_ray$1,le,_e,Te);Re&&K.push(Re)}if(this.isLineLoop){const Ee=fe.getX(ye-1),Se=fe.getX(ve),_e=checkIntersection(this,_,_ray$1,le,Ee,Se);_e&&K.push(_e)}}else{const ve=Math.max(0,oe.start),ye=Math.min(me.count,oe.start+oe.count);for(let Ee=ve,Se=ye-1;Ee<Se;Ee+=ce){const _e=checkIntersection(this,_,_ray$1,le,Ee,Ee+1);_e&&K.push(_e)}if(this.isLineLoop){const Ee=checkIntersection(this,_,_ray$1,le,ye-1,ve);Ee&&K.push(Ee)}}}updateMorphTargets(){const K=this.geometry.morphAttributes,te=Object.keys(K);if(te.length>0){const ne=K[te[0]];if(ne!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ie=0,oe=ne.length;ie<oe;ie++){const se=ne[ie].name||String(ie);this.morphTargetInfluences.push(0),this.morphTargetDictionary[se]=ie}}}}}function checkIntersection(Z,_,K,te,ne,ie){const oe=Z.geometry.attributes.position;if(_vStart.fromBufferAttribute(oe,ne),_vEnd.fromBufferAttribute(oe,ie),K.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>te)return;_intersectPointOnRay.applyMatrix4(Z.matrixWorld);const le=_.ray.origin.distanceTo(_intersectPointOnRay);if(!(le<_.near||le>_.far))return{distance:le,point:_intersectPointOnSegment.clone().applyMatrix4(Z.matrixWorld),index:ne,face:null,faceIndex:null,barycoord:null,object:Z}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(_,K){super(_,K),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const _=this.geometry;if(_.index===null){const K=_.attributes.position,te=[];for(let ne=0,ie=K.count;ne<ie;ne+=2)_start.fromBufferAttribute(K,ne),_end.fromBufferAttribute(K,ne+1),te[ne]=ne===0?0:te[ne-1],te[ne+1]=te[ne]+_start.distanceTo(_end);_.setAttribute("lineDistance",new Float32BufferAttribute(te,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(_,K){super(_,K),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(_){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.alphaMap=_.alphaMap,this.size=_.size,this.sizeAttenuation=_.sizeAttenuation,this.fog=_.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(_=new BufferGeometry,K=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=_,this.material=K,this.updateMorphTargets()}copy(_,K){return super.copy(_,K),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}raycast(_,K){const te=this.geometry,ne=this.matrixWorld,ie=_.params.Points.threshold,oe=te.drawRange;if(te.boundingSphere===null&&te.computeBoundingSphere(),_sphere.copy(te.boundingSphere),_sphere.applyMatrix4(ne),_sphere.radius+=ie,_.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(ne).invert(),_ray$4.copy(_.ray).applyMatrix4(_inverseMatrix);const se=ie/((this.scale.x+this.scale.y+this.scale.z)/3),le=se*se,ce=te.index,pe=te.attributes.position;if(ce!==null){const me=Math.max(0,oe.start),ve=Math.min(ce.count,oe.start+oe.count);for(let ye=me,Ee=ve;ye<Ee;ye++){const Se=ce.getX(ye);_position$2.fromBufferAttribute(pe,Se),testPoint(_position$2,Se,le,ne,_,K,this)}}else{const me=Math.max(0,oe.start),ve=Math.min(pe.count,oe.start+oe.count);for(let ye=me,Ee=ve;ye<Ee;ye++)_position$2.fromBufferAttribute(pe,ye),testPoint(_position$2,ye,le,ne,_,K,this)}}updateMorphTargets(){const K=this.geometry.morphAttributes,te=Object.keys(K);if(te.length>0){const ne=K[te[0]];if(ne!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ie=0,oe=ne.length;ie<oe;ie++){const se=ne[ie].name||String(ie);this.morphTargetInfluences.push(0),this.morphTargetDictionary[se]=ie}}}}}function testPoint(Z,_,K,te,ne,ie,oe){const se=_ray$4.distanceSqToPoint(Z);if(se<K){const le=new Vector3;_ray$4.closestPointToPoint(Z,le),le.applyMatrix4(te);const ce=ne.ray.origin.distanceTo(le);if(ce<ne.near||ce>ne.far)return;ie.push({distance:ce,distanceToRay:Math.sqrt(se),point:le,index:_,face:null,faceIndex:null,barycoord:null,object:oe})}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}class VideoTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce){super(_,K,te,ne,ie,oe,se,le,ce),this.isVideoTexture=!0,this.minFilter=oe!==void 0?oe:LinearFilter,this.magFilter=ie!==void 0?ie:LinearFilter,this.generateMipmaps=!1;const fe=this;function pe(){fe.needsUpdate=!0,_.requestVideoFrameCallback(pe)}"requestVideoFrameCallback"in _&&_.requestVideoFrameCallback(pe)}clone(){return new this.constructor(this.image).copy(this)}update(){const _=this.image;"requestVideoFrameCallback"in _===!1&&_.readyState>=_.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(_,K){super({width:_,height:K}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce,fe,pe,me){super(null,oe,se,le,ce,fe,ne,ie,pe,me),this.isCompressedTexture=!0,this.image={width:K,height:te},this.mipmaps=_,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(_,K,te,ne,ie,oe){super(_,K,te,ie,oe),this.isCompressedArrayTexture=!0,this.image.depth=ne,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(_){this.layerUpdates.add(_)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(_,K,te){super(void 0,_[0].width,_[0].height,K,te,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=_}}class CanvasTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce){super(_,K,te,ne,ie,oe,se,le,ce),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce,fe=DepthFormat){if(fe!==DepthFormat&&fe!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");te===void 0&&fe===DepthFormat&&(te=UnsignedIntType),te===void 0&&fe===DepthStencilFormat&&(te=UnsignedInt248Type),super(null,ne,ie,oe,se,le,fe,te,ce),this.isDepthTexture=!0,this.image={width:_,height:K},this.magFilter=se!==void 0?se:NearestFilter,this.minFilter=le!==void 0?le:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(_){return super.copy(_),this.compareFunction=_.compareFunction,this}toJSON(_){const K=super.toJSON(_);return this.compareFunction!==null&&(K.compareFunction=this.compareFunction),K}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(_,K){const te=this.getUtoTmapping(_);return this.getPoint(te,K)}getPoints(_=5){const K=[];for(let te=0;te<=_;te++)K.push(this.getPoint(te/_));return K}getSpacedPoints(_=5){const K=[];for(let te=0;te<=_;te++)K.push(this.getPointAt(te/_));return K}getLength(){const _=this.getLengths();return _[_.length-1]}getLengths(_=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===_+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const K=[];let te,ne=this.getPoint(0),ie=0;K.push(0);for(let oe=1;oe<=_;oe++)te=this.getPoint(oe/_),ie+=te.distanceTo(ne),K.push(ie),ne=te;return this.cacheArcLengths=K,K}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(_,K){const te=this.getLengths();let ne=0;const ie=te.length;let oe;K?oe=K:oe=_*te[ie-1];let se=0,le=ie-1,ce;for(;se<=le;)if(ne=Math.floor(se+(le-se)/2),ce=te[ne]-oe,ce<0)se=ne+1;else if(ce>0)le=ne-1;else{le=ne;break}if(ne=le,te[ne]===oe)return ne/(ie-1);const fe=te[ne],me=te[ne+1]-fe,ve=(oe-fe)/me;return(ne+ve)/(ie-1)}getTangent(_,K){let ne=_-1e-4,ie=_+1e-4;ne<0&&(ne=0),ie>1&&(ie=1);const oe=this.getPoint(ne),se=this.getPoint(ie),le=K||(oe.isVector2?new Vector2:new Vector3);return le.copy(se).sub(oe).normalize(),le}getTangentAt(_,K){const te=this.getUtoTmapping(_);return this.getTangent(te,K)}computeFrenetFrames(_,K){const te=new Vector3,ne=[],ie=[],oe=[],se=new Vector3,le=new Matrix4;for(let ve=0;ve<=_;ve++){const ye=ve/_;ne[ve]=this.getTangentAt(ye,new Vector3)}ie[0]=new Vector3,oe[0]=new Vector3;let ce=Number.MAX_VALUE;const fe=Math.abs(ne[0].x),pe=Math.abs(ne[0].y),me=Math.abs(ne[0].z);fe<=ce&&(ce=fe,te.set(1,0,0)),pe<=ce&&(ce=pe,te.set(0,1,0)),me<=ce&&te.set(0,0,1),se.crossVectors(ne[0],te).normalize(),ie[0].crossVectors(ne[0],se),oe[0].crossVectors(ne[0],ie[0]);for(let ve=1;ve<=_;ve++){if(ie[ve]=ie[ve-1].clone(),oe[ve]=oe[ve-1].clone(),se.crossVectors(ne[ve-1],ne[ve]),se.length()>Number.EPSILON){se.normalize();const ye=Math.acos(clamp$3(ne[ve-1].dot(ne[ve]),-1,1));ie[ve].applyMatrix4(le.makeRotationAxis(se,ye))}oe[ve].crossVectors(ne[ve],ie[ve])}if(K===!0){let ve=Math.acos(clamp$3(ie[0].dot(ie[_]),-1,1));ve/=_,ne[0].dot(se.crossVectors(ie[0],ie[_]))>0&&(ve=-ve);for(let ye=1;ye<=_;ye++)ie[ye].applyMatrix4(le.makeRotationAxis(ne[ye],ve*ye)),oe[ye].crossVectors(ne[ye],ie[ye])}return{tangents:ne,normals:ie,binormals:oe}}clone(){return new this.constructor().copy(this)}copy(_){return this.arcLengthDivisions=_.arcLengthDivisions,this}toJSON(){const _={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return _.arcLengthDivisions=this.arcLengthDivisions,_.type=this.type,_}fromJSON(_){return this.arcLengthDivisions=_.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(_=0,K=0,te=1,ne=1,ie=0,oe=Math.PI*2,se=!1,le=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=_,this.aY=K,this.xRadius=te,this.yRadius=ne,this.aStartAngle=ie,this.aEndAngle=oe,this.aClockwise=se,this.aRotation=le}getPoint(_,K=new Vector2){const te=K,ne=Math.PI*2;let ie=this.aEndAngle-this.aStartAngle;const oe=Math.abs(ie)<Number.EPSILON;for(;ie<0;)ie+=ne;for(;ie>ne;)ie-=ne;ie<Number.EPSILON&&(oe?ie=0:ie=ne),this.aClockwise===!0&&!oe&&(ie===ne?ie=-ne:ie=ie-ne);const se=this.aStartAngle+_*ie;let le=this.aX+this.xRadius*Math.cos(se),ce=this.aY+this.yRadius*Math.sin(se);if(this.aRotation!==0){const fe=Math.cos(this.aRotation),pe=Math.sin(this.aRotation),me=le-this.aX,ve=ce-this.aY;le=me*fe-ve*pe+this.aX,ce=me*pe+ve*fe+this.aY}return te.set(le,ce)}copy(_){return super.copy(_),this.aX=_.aX,this.aY=_.aY,this.xRadius=_.xRadius,this.yRadius=_.yRadius,this.aStartAngle=_.aStartAngle,this.aEndAngle=_.aEndAngle,this.aClockwise=_.aClockwise,this.aRotation=_.aRotation,this}toJSON(){const _=super.toJSON();return _.aX=this.aX,_.aY=this.aY,_.xRadius=this.xRadius,_.yRadius=this.yRadius,_.aStartAngle=this.aStartAngle,_.aEndAngle=this.aEndAngle,_.aClockwise=this.aClockwise,_.aRotation=this.aRotation,_}fromJSON(_){return super.fromJSON(_),this.aX=_.aX,this.aY=_.aY,this.xRadius=_.xRadius,this.yRadius=_.yRadius,this.aStartAngle=_.aStartAngle,this.aEndAngle=_.aEndAngle,this.aClockwise=_.aClockwise,this.aRotation=_.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(_,K,te,ne,ie,oe){super(_,K,te,te,ne,ie,oe),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let Z=0,_=0,K=0,te=0;function ne(ie,oe,se,le){Z=ie,_=se,K=-3*ie+3*oe-2*se-le,te=2*ie-2*oe+se+le}return{initCatmullRom:function(ie,oe,se,le,ce){ne(oe,se,ce*(se-ie),ce*(le-oe))},initNonuniformCatmullRom:function(ie,oe,se,le,ce,fe,pe){let me=(oe-ie)/ce-(se-ie)/(ce+fe)+(se-oe)/fe,ve=(se-oe)/fe-(le-oe)/(fe+pe)+(le-se)/pe;me*=fe,ve*=fe,ne(oe,se,me,ve)},calc:function(ie){const oe=ie*ie,se=oe*ie;return Z+_*ie+K*oe+te*se}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(_=[],K=!1,te="centripetal",ne=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=_,this.closed=K,this.curveType=te,this.tension=ne}getPoint(_,K=new Vector3){const te=K,ne=this.points,ie=ne.length,oe=(ie-(this.closed?0:1))*_;let se=Math.floor(oe),le=oe-se;this.closed?se+=se>0?0:(Math.floor(Math.abs(se)/ie)+1)*ie:le===0&&se===ie-1&&(se=ie-2,le=1);let ce,fe;this.closed||se>0?ce=ne[(se-1)%ie]:(tmp.subVectors(ne[0],ne[1]).add(ne[0]),ce=tmp);const pe=ne[se%ie],me=ne[(se+1)%ie];if(this.closed||se+2<ie?fe=ne[(se+2)%ie]:(tmp.subVectors(ne[ie-1],ne[ie-2]).add(ne[ie-1]),fe=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ve=this.curveType==="chordal"?.5:.25;let ye=Math.pow(ce.distanceToSquared(pe),ve),Ee=Math.pow(pe.distanceToSquared(me),ve),Se=Math.pow(me.distanceToSquared(fe),ve);Ee<1e-4&&(Ee=1),ye<1e-4&&(ye=Ee),Se<1e-4&&(Se=Ee),px.initNonuniformCatmullRom(ce.x,pe.x,me.x,fe.x,ye,Ee,Se),py.initNonuniformCatmullRom(ce.y,pe.y,me.y,fe.y,ye,Ee,Se),pz.initNonuniformCatmullRom(ce.z,pe.z,me.z,fe.z,ye,Ee,Se)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ce.x,pe.x,me.x,fe.x,this.tension),py.initCatmullRom(ce.y,pe.y,me.y,fe.y,this.tension),pz.initCatmullRom(ce.z,pe.z,me.z,fe.z,this.tension));return te.set(px.calc(le),py.calc(le),pz.calc(le)),te}copy(_){super.copy(_),this.points=[];for(let K=0,te=_.points.length;K<te;K++){const ne=_.points[K];this.points.push(ne.clone())}return this.closed=_.closed,this.curveType=_.curveType,this.tension=_.tension,this}toJSON(){const _=super.toJSON();_.points=[];for(let K=0,te=this.points.length;K<te;K++){const ne=this.points[K];_.points.push(ne.toArray())}return _.closed=this.closed,_.curveType=this.curveType,_.tension=this.tension,_}fromJSON(_){super.fromJSON(_),this.points=[];for(let K=0,te=_.points.length;K<te;K++){const ne=_.points[K];this.points.push(new Vector3().fromArray(ne))}return this.closed=_.closed,this.curveType=_.curveType,this.tension=_.tension,this}}function CatmullRom(Z,_,K,te,ne){const ie=(te-_)*.5,oe=(ne-K)*.5,se=Z*Z,le=Z*se;return(2*K-2*te+ie+oe)*le+(-3*K+3*te-2*ie-oe)*se+ie*Z+K}function QuadraticBezierP0(Z,_){const K=1-Z;return K*K*_}function QuadraticBezierP1(Z,_){return 2*(1-Z)*Z*_}function QuadraticBezierP2(Z,_){return Z*Z*_}function QuadraticBezier(Z,_,K,te){return QuadraticBezierP0(Z,_)+QuadraticBezierP1(Z,K)+QuadraticBezierP2(Z,te)}function CubicBezierP0(Z,_){const K=1-Z;return K*K*K*_}function CubicBezierP1(Z,_){const K=1-Z;return 3*K*K*Z*_}function CubicBezierP2(Z,_){return 3*(1-Z)*Z*Z*_}function CubicBezierP3(Z,_){return Z*Z*Z*_}function CubicBezier(Z,_,K,te,ne){return CubicBezierP0(Z,_)+CubicBezierP1(Z,K)+CubicBezierP2(Z,te)+CubicBezierP3(Z,ne)}class CubicBezierCurve extends Curve{constructor(_=new Vector2,K=new Vector2,te=new Vector2,ne=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=_,this.v1=K,this.v2=te,this.v3=ne}getPoint(_,K=new Vector2){const te=K,ne=this.v0,ie=this.v1,oe=this.v2,se=this.v3;return te.set(CubicBezier(_,ne.x,ie.x,oe.x,se.x),CubicBezier(_,ne.y,ie.y,oe.y,se.y)),te}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this.v3.copy(_.v3),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_.v3=this.v3.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this.v3.fromArray(_.v3),this}}class CubicBezierCurve3 extends Curve{constructor(_=new Vector3,K=new Vector3,te=new Vector3,ne=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=_,this.v1=K,this.v2=te,this.v3=ne}getPoint(_,K=new Vector3){const te=K,ne=this.v0,ie=this.v1,oe=this.v2,se=this.v3;return te.set(CubicBezier(_,ne.x,ie.x,oe.x,se.x),CubicBezier(_,ne.y,ie.y,oe.y,se.y),CubicBezier(_,ne.z,ie.z,oe.z,se.z)),te}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this.v3.copy(_.v3),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_.v3=this.v3.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this.v3.fromArray(_.v3),this}}class LineCurve extends Curve{constructor(_=new Vector2,K=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=_,this.v2=K}getPoint(_,K=new Vector2){const te=K;return _===1?te.copy(this.v2):(te.copy(this.v2).sub(this.v1),te.multiplyScalar(_).add(this.v1)),te}getPointAt(_,K){return this.getPoint(_,K)}getTangent(_,K=new Vector2){return K.subVectors(this.v2,this.v1).normalize()}getTangentAt(_,K){return this.getTangent(_,K)}copy(_){return super.copy(_),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class LineCurve3 extends Curve{constructor(_=new Vector3,K=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=_,this.v2=K}getPoint(_,K=new Vector3){const te=K;return _===1?te.copy(this.v2):(te.copy(this.v2).sub(this.v1),te.multiplyScalar(_).add(this.v1)),te}getPointAt(_,K){return this.getPoint(_,K)}getTangent(_,K=new Vector3){return K.subVectors(this.v2,this.v1).normalize()}getTangentAt(_,K){return this.getTangent(_,K)}copy(_){return super.copy(_),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class QuadraticBezierCurve extends Curve{constructor(_=new Vector2,K=new Vector2,te=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=_,this.v1=K,this.v2=te}getPoint(_,K=new Vector2){const te=K,ne=this.v0,ie=this.v1,oe=this.v2;return te.set(QuadraticBezier(_,ne.x,ie.x,oe.x),QuadraticBezier(_,ne.y,ie.y,oe.y)),te}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(_=new Vector3,K=new Vector3,te=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=_,this.v1=K,this.v2=te}getPoint(_,K=new Vector3){const te=K,ne=this.v0,ie=this.v1,oe=this.v2;return te.set(QuadraticBezier(_,ne.x,ie.x,oe.x),QuadraticBezier(_,ne.y,ie.y,oe.y),QuadraticBezier(_,ne.z,ie.z,oe.z)),te}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class SplineCurve extends Curve{constructor(_=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=_}getPoint(_,K=new Vector2){const te=K,ne=this.points,ie=(ne.length-1)*_,oe=Math.floor(ie),se=ie-oe,le=ne[oe===0?oe:oe-1],ce=ne[oe],fe=ne[oe>ne.length-2?ne.length-1:oe+1],pe=ne[oe>ne.length-3?ne.length-1:oe+2];return te.set(CatmullRom(se,le.x,ce.x,fe.x,pe.x),CatmullRom(se,le.y,ce.y,fe.y,pe.y)),te}copy(_){super.copy(_),this.points=[];for(let K=0,te=_.points.length;K<te;K++){const ne=_.points[K];this.points.push(ne.clone())}return this}toJSON(){const _=super.toJSON();_.points=[];for(let K=0,te=this.points.length;K<te;K++){const ne=this.points[K];_.points.push(ne.toArray())}return _}fromJSON(_){super.fromJSON(_),this.points=[];for(let K=0,te=_.points.length;K<te;K++){const ne=_.points[K];this.points.push(new Vector2().fromArray(ne))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(_){this.curves.push(_)}closePath(){const _=this.curves[0].getPoint(0),K=this.curves[this.curves.length-1].getPoint(1);if(!_.equals(K)){const te=_.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[te](K,_))}return this}getPoint(_,K){const te=_*this.getLength(),ne=this.getCurveLengths();let ie=0;for(;ie<ne.length;){if(ne[ie]>=te){const oe=ne[ie]-te,se=this.curves[ie],le=se.getLength(),ce=le===0?0:1-oe/le;return se.getPointAt(ce,K)}ie++}return null}getLength(){const _=this.getCurveLengths();return _[_.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const _=[];let K=0;for(let te=0,ne=this.curves.length;te<ne;te++)K+=this.curves[te].getLength(),_.push(K);return this.cacheLengths=_,_}getSpacedPoints(_=40){const K=[];for(let te=0;te<=_;te++)K.push(this.getPoint(te/_));return this.autoClose&&K.push(K[0]),K}getPoints(_=12){const K=[];let te;for(let ne=0,ie=this.curves;ne<ie.length;ne++){const oe=ie[ne],se=oe.isEllipseCurve?_*2:oe.isLineCurve||oe.isLineCurve3?1:oe.isSplineCurve?_*oe.points.length:_,le=oe.getPoints(se);for(let ce=0;ce<le.length;ce++){const fe=le[ce];te&&te.equals(fe)||(K.push(fe),te=fe)}}return this.autoClose&&K.length>1&&!K[K.length-1].equals(K[0])&&K.push(K[0]),K}copy(_){super.copy(_),this.curves=[];for(let K=0,te=_.curves.length;K<te;K++){const ne=_.curves[K];this.curves.push(ne.clone())}return this.autoClose=_.autoClose,this}toJSON(){const _=super.toJSON();_.autoClose=this.autoClose,_.curves=[];for(let K=0,te=this.curves.length;K<te;K++){const ne=this.curves[K];_.curves.push(ne.toJSON())}return _}fromJSON(_){super.fromJSON(_),this.autoClose=_.autoClose,this.curves=[];for(let K=0,te=_.curves.length;K<te;K++){const ne=_.curves[K];this.curves.push(new Curves[ne.type]().fromJSON(ne))}return this}}class Path extends CurvePath{constructor(_){super(),this.type="Path",this.currentPoint=new Vector2,_&&this.setFromPoints(_)}setFromPoints(_){this.moveTo(_[0].x,_[0].y);for(let K=1,te=_.length;K<te;K++)this.lineTo(_[K].x,_[K].y);return this}moveTo(_,K){return this.currentPoint.set(_,K),this}lineTo(_,K){const te=new LineCurve(this.currentPoint.clone(),new Vector2(_,K));return this.curves.push(te),this.currentPoint.set(_,K),this}quadraticCurveTo(_,K,te,ne){const ie=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(_,K),new Vector2(te,ne));return this.curves.push(ie),this.currentPoint.set(te,ne),this}bezierCurveTo(_,K,te,ne,ie,oe){const se=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(_,K),new Vector2(te,ne),new Vector2(ie,oe));return this.curves.push(se),this.currentPoint.set(ie,oe),this}splineThru(_){const K=[this.currentPoint.clone()].concat(_),te=new SplineCurve(K);return this.curves.push(te),this.currentPoint.copy(_[_.length-1]),this}arc(_,K,te,ne,ie,oe){const se=this.currentPoint.x,le=this.currentPoint.y;return this.absarc(_+se,K+le,te,ne,ie,oe),this}absarc(_,K,te,ne,ie,oe){return this.absellipse(_,K,te,te,ne,ie,oe),this}ellipse(_,K,te,ne,ie,oe,se,le){const ce=this.currentPoint.x,fe=this.currentPoint.y;return this.absellipse(_+ce,K+fe,te,ne,ie,oe,se,le),this}absellipse(_,K,te,ne,ie,oe,se,le){const ce=new EllipseCurve(_,K,te,ne,ie,oe,se,le);if(this.curves.length>0){const pe=ce.getPoint(0);pe.equals(this.currentPoint)||this.lineTo(pe.x,pe.y)}this.curves.push(ce);const fe=ce.getPoint(1);return this.currentPoint.copy(fe),this}copy(_){return super.copy(_),this.currentPoint.copy(_.currentPoint),this}toJSON(){const _=super.toJSON();return _.currentPoint=this.currentPoint.toArray(),_}fromJSON(_){return super.fromJSON(_),this.currentPoint.fromArray(_.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(_=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],K=12,te=0,ne=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:_,segments:K,phiStart:te,phiLength:ne},K=Math.floor(K),ne=clamp$3(ne,0,Math.PI*2);const ie=[],oe=[],se=[],le=[],ce=[],fe=1/K,pe=new Vector3,me=new Vector2,ve=new Vector3,ye=new Vector3,Ee=new Vector3;let Se=0,_e=0;for(let Te=0;Te<=_.length-1;Te++)switch(Te){case 0:Se=_[Te+1].x-_[Te].x,_e=_[Te+1].y-_[Te].y,ve.x=_e*1,ve.y=-Se,ve.z=_e*0,Ee.copy(ve),ve.normalize(),le.push(ve.x,ve.y,ve.z);break;case _.length-1:le.push(Ee.x,Ee.y,Ee.z);break;default:Se=_[Te+1].x-_[Te].x,_e=_[Te+1].y-_[Te].y,ve.x=_e*1,ve.y=-Se,ve.z=_e*0,ye.copy(ve),ve.x+=Ee.x,ve.y+=Ee.y,ve.z+=Ee.z,ve.normalize(),le.push(ve.x,ve.y,ve.z),Ee.copy(ye)}for(let Te=0;Te<=K;Te++){const Re=te+Te*fe*ne,Pe=Math.sin(Re),Fe=Math.cos(Re);for(let $e=0;$e<=_.length-1;$e++){pe.x=_[$e].x*Pe,pe.y=_[$e].y,pe.z=_[$e].x*Fe,oe.push(pe.x,pe.y,pe.z),me.x=Te/K,me.y=$e/(_.length-1),se.push(me.x,me.y);const ke=le[3*$e+0]*Pe,ze=le[3*$e+1],Ue=le[3*$e+0]*Fe;ce.push(ke,ze,Ue)}}for(let Te=0;Te<K;Te++)for(let Re=0;Re<_.length-1;Re++){const Pe=Re+Te*_.length,Fe=Pe,$e=Pe+_.length,ke=Pe+_.length+1,ze=Pe+1;ie.push(Fe,$e,ze),ie.push(ke,ze,$e)}this.setIndex(ie),this.setAttribute("position",new Float32BufferAttribute(oe,3)),this.setAttribute("uv",new Float32BufferAttribute(se,2)),this.setAttribute("normal",new Float32BufferAttribute(ce,3))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new LatheGeometry(_.points,_.segments,_.phiStart,_.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(_=1,K=1,te=4,ne=8){const ie=new Path;ie.absarc(0,-K/2,_,Math.PI*1.5,0),ie.absarc(0,K/2,_,0,Math.PI*.5),super(ie.getPoints(te),ne),this.type="CapsuleGeometry",this.parameters={radius:_,length:K,capSegments:te,radialSegments:ne}}static fromJSON(_){return new CapsuleGeometry(_.radius,_.length,_.capSegments,_.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(_=1,K=32,te=0,ne=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:_,segments:K,thetaStart:te,thetaLength:ne},K=Math.max(3,K);const ie=[],oe=[],se=[],le=[],ce=new Vector3,fe=new Vector2;oe.push(0,0,0),se.push(0,0,1),le.push(.5,.5);for(let pe=0,me=3;pe<=K;pe++,me+=3){const ve=te+pe/K*ne;ce.x=_*Math.cos(ve),ce.y=_*Math.sin(ve),oe.push(ce.x,ce.y,ce.z),se.push(0,0,1),fe.x=(oe[me]/_+1)/2,fe.y=(oe[me+1]/_+1)/2,le.push(fe.x,fe.y)}for(let pe=1;pe<=K;pe++)ie.push(pe,pe+1,0);this.setIndex(ie),this.setAttribute("position",new Float32BufferAttribute(oe,3)),this.setAttribute("normal",new Float32BufferAttribute(se,3)),this.setAttribute("uv",new Float32BufferAttribute(le,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new CircleGeometry(_.radius,_.segments,_.thetaStart,_.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(_=1,K=1,te=1,ne=32,ie=1,oe=!1,se=0,le=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:_,radiusBottom:K,height:te,radialSegments:ne,heightSegments:ie,openEnded:oe,thetaStart:se,thetaLength:le};const ce=this;ne=Math.floor(ne),ie=Math.floor(ie);const fe=[],pe=[],me=[],ve=[];let ye=0;const Ee=[],Se=te/2;let _e=0;Te(),oe===!1&&(_>0&&Re(!0),K>0&&Re(!1)),this.setIndex(fe),this.setAttribute("position",new Float32BufferAttribute(pe,3)),this.setAttribute("normal",new Float32BufferAttribute(me,3)),this.setAttribute("uv",new Float32BufferAttribute(ve,2));function Te(){const Pe=new Vector3,Fe=new Vector3;let $e=0;const ke=(K-_)/te;for(let ze=0;ze<=ie;ze++){const Ue=[],Oe=ze/ie,Ve=Oe*(K-_)+_;for(let Ye=0;Ye<=ne;Ye++){const Ke=Ye/ne,rt=Ke*le+se,ct=Math.sin(rt),at=Math.cos(rt);Fe.x=Ve*ct,Fe.y=-Oe*te+Se,Fe.z=Ve*at,pe.push(Fe.x,Fe.y,Fe.z),Pe.set(ct,ke,at).normalize(),me.push(Pe.x,Pe.y,Pe.z),ve.push(Ke,1-Oe),Ue.push(ye++)}Ee.push(Ue)}for(let ze=0;ze<ne;ze++)for(let Ue=0;Ue<ie;Ue++){const Oe=Ee[Ue][ze],Ve=Ee[Ue+1][ze],Ye=Ee[Ue+1][ze+1],Ke=Ee[Ue][ze+1];(_>0||Ue!==0)&&(fe.push(Oe,Ve,Ke),$e+=3),(K>0||Ue!==ie-1)&&(fe.push(Ve,Ye,Ke),$e+=3)}ce.addGroup(_e,$e,0),_e+=$e}function Re(Pe){const Fe=ye,$e=new Vector2,ke=new Vector3;let ze=0;const Ue=Pe===!0?_:K,Oe=Pe===!0?1:-1;for(let Ye=1;Ye<=ne;Ye++)pe.push(0,Se*Oe,0),me.push(0,Oe,0),ve.push(.5,.5),ye++;const Ve=ye;for(let Ye=0;Ye<=ne;Ye++){const rt=Ye/ne*le+se,ct=Math.cos(rt),at=Math.sin(rt);ke.x=Ue*at,ke.y=Se*Oe,ke.z=Ue*ct,pe.push(ke.x,ke.y,ke.z),me.push(0,Oe,0),$e.x=ct*.5+.5,$e.y=at*.5*Oe+.5,ve.push($e.x,$e.y),ye++}for(let Ye=0;Ye<ne;Ye++){const Ke=Fe+Ye,rt=Ve+Ye;Pe===!0?fe.push(rt,rt+1,Ke):fe.push(rt+1,rt,Ke),ze+=3}ce.addGroup(_e,ze,Pe===!0?1:2),_e+=ze}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new CylinderGeometry(_.radiusTop,_.radiusBottom,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(_=1,K=1,te=32,ne=1,ie=!1,oe=0,se=Math.PI*2){super(0,_,K,te,ne,ie,oe,se),this.type="ConeGeometry",this.parameters={radius:_,height:K,radialSegments:te,heightSegments:ne,openEnded:ie,thetaStart:oe,thetaLength:se}}static fromJSON(_){return new ConeGeometry(_.radius,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(_=[],K=[],te=1,ne=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:_,indices:K,radius:te,detail:ne};const ie=[],oe=[];se(ne),ce(te),fe(),this.setAttribute("position",new Float32BufferAttribute(ie,3)),this.setAttribute("normal",new Float32BufferAttribute(ie.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2)),ne===0?this.computeVertexNormals():this.normalizeNormals();function se(Te){const Re=new Vector3,Pe=new Vector3,Fe=new Vector3;for(let $e=0;$e<K.length;$e+=3)ve(K[$e+0],Re),ve(K[$e+1],Pe),ve(K[$e+2],Fe),le(Re,Pe,Fe,Te)}function le(Te,Re,Pe,Fe){const $e=Fe+1,ke=[];for(let ze=0;ze<=$e;ze++){ke[ze]=[];const Ue=Te.clone().lerp(Pe,ze/$e),Oe=Re.clone().lerp(Pe,ze/$e),Ve=$e-ze;for(let Ye=0;Ye<=Ve;Ye++)Ye===0&&ze===$e?ke[ze][Ye]=Ue:ke[ze][Ye]=Ue.clone().lerp(Oe,Ye/Ve)}for(let ze=0;ze<$e;ze++)for(let Ue=0;Ue<2*($e-ze)-1;Ue++){const Oe=Math.floor(Ue/2);Ue%2===0?(me(ke[ze][Oe+1]),me(ke[ze+1][Oe]),me(ke[ze][Oe])):(me(ke[ze][Oe+1]),me(ke[ze+1][Oe+1]),me(ke[ze+1][Oe]))}}function ce(Te){const Re=new Vector3;for(let Pe=0;Pe<ie.length;Pe+=3)Re.x=ie[Pe+0],Re.y=ie[Pe+1],Re.z=ie[Pe+2],Re.normalize().multiplyScalar(Te),ie[Pe+0]=Re.x,ie[Pe+1]=Re.y,ie[Pe+2]=Re.z}function fe(){const Te=new Vector3;for(let Re=0;Re<ie.length;Re+=3){Te.x=ie[Re+0],Te.y=ie[Re+1],Te.z=ie[Re+2];const Pe=Se(Te)/2/Math.PI+.5,Fe=_e(Te)/Math.PI+.5;oe.push(Pe,1-Fe)}ye(),pe()}function pe(){for(let Te=0;Te<oe.length;Te+=6){const Re=oe[Te+0],Pe=oe[Te+2],Fe=oe[Te+4],$e=Math.max(Re,Pe,Fe),ke=Math.min(Re,Pe,Fe);$e>.9&&ke<.1&&(Re<.2&&(oe[Te+0]+=1),Pe<.2&&(oe[Te+2]+=1),Fe<.2&&(oe[Te+4]+=1))}}function me(Te){ie.push(Te.x,Te.y,Te.z)}function ve(Te,Re){const Pe=Te*3;Re.x=_[Pe+0],Re.y=_[Pe+1],Re.z=_[Pe+2]}function ye(){const Te=new Vector3,Re=new Vector3,Pe=new Vector3,Fe=new Vector3,$e=new Vector2,ke=new Vector2,ze=new Vector2;for(let Ue=0,Oe=0;Ue<ie.length;Ue+=9,Oe+=6){Te.set(ie[Ue+0],ie[Ue+1],ie[Ue+2]),Re.set(ie[Ue+3],ie[Ue+4],ie[Ue+5]),Pe.set(ie[Ue+6],ie[Ue+7],ie[Ue+8]),$e.set(oe[Oe+0],oe[Oe+1]),ke.set(oe[Oe+2],oe[Oe+3]),ze.set(oe[Oe+4],oe[Oe+5]),Fe.copy(Te).add(Re).add(Pe).divideScalar(3);const Ve=Se(Fe);Ee($e,Oe+0,Te,Ve),Ee(ke,Oe+2,Re,Ve),Ee(ze,Oe+4,Pe,Ve)}}function Ee(Te,Re,Pe,Fe){Fe<0&&Te.x===1&&(oe[Re]=Te.x-1),Pe.x===0&&Pe.z===0&&(oe[Re]=Fe/2/Math.PI+.5)}function Se(Te){return Math.atan2(Te.z,-Te.x)}function _e(Te){return Math.atan2(-Te.y,Math.sqrt(Te.x*Te.x+Te.z*Te.z))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new PolyhedronGeometry(_.vertices,_.indices,_.radius,_.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(_=1,K=0){const te=(1+Math.sqrt(5))/2,ne=1/te,ie=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-ne,-te,0,-ne,te,0,ne,-te,0,ne,te,-ne,-te,0,-ne,te,0,ne,-te,0,ne,te,0,-te,0,-ne,te,0,-ne,-te,0,ne,te,0,ne],oe=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(ie,oe,_,K),this.type="DodecahedronGeometry",this.parameters={radius:_,detail:K}}static fromJSON(_){return new DodecahedronGeometry(_.radius,_.detail)}}const _v0$3=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(_=null,K=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:_,thresholdAngle:K},_!==null){const ne=Math.pow(10,4),ie=Math.cos(DEG2RAD*K),oe=_.getIndex(),se=_.getAttribute("position"),le=oe?oe.count:se.count,ce=[0,0,0],fe=["a","b","c"],pe=new Array(3),me={},ve=[];for(let ye=0;ye<le;ye+=3){oe?(ce[0]=oe.getX(ye),ce[1]=oe.getX(ye+1),ce[2]=oe.getX(ye+2)):(ce[0]=ye,ce[1]=ye+1,ce[2]=ye+2);const{a:Ee,b:Se,c:_e}=_triangle;if(Ee.fromBufferAttribute(se,ce[0]),Se.fromBufferAttribute(se,ce[1]),_e.fromBufferAttribute(se,ce[2]),_triangle.getNormal(_normal),pe[0]=`${Math.round(Ee.x*ne)},${Math.round(Ee.y*ne)},${Math.round(Ee.z*ne)}`,pe[1]=`${Math.round(Se.x*ne)},${Math.round(Se.y*ne)},${Math.round(Se.z*ne)}`,pe[2]=`${Math.round(_e.x*ne)},${Math.round(_e.y*ne)},${Math.round(_e.z*ne)}`,!(pe[0]===pe[1]||pe[1]===pe[2]||pe[2]===pe[0]))for(let Te=0;Te<3;Te++){const Re=(Te+1)%3,Pe=pe[Te],Fe=pe[Re],$e=_triangle[fe[Te]],ke=_triangle[fe[Re]],ze=`${Pe}_${Fe}`,Ue=`${Fe}_${Pe}`;Ue in me&&me[Ue]?(_normal.dot(me[Ue].normal)<=ie&&(ve.push($e.x,$e.y,$e.z),ve.push(ke.x,ke.y,ke.z)),me[Ue]=null):ze in me||(me[ze]={index0:ce[Te],index1:ce[Re],normal:_normal.clone()})}}for(const ye in me)if(me[ye]){const{index0:Ee,index1:Se}=me[ye];_v0$3.fromBufferAttribute(se,Ee),_v1$1.fromBufferAttribute(se,Se),ve.push(_v0$3.x,_v0$3.y,_v0$3.z),ve.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(ve,3))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}}class Shape extends Path{constructor(_){super(_),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(_){const K=[];for(let te=0,ne=this.holes.length;te<ne;te++)K[te]=this.holes[te].getPoints(_);return K}extractPoints(_){return{shape:this.getPoints(_),holes:this.getPointsHoles(_)}}copy(_){super.copy(_),this.holes=[];for(let K=0,te=_.holes.length;K<te;K++){const ne=_.holes[K];this.holes.push(ne.clone())}return this}toJSON(){const _=super.toJSON();_.uuid=this.uuid,_.holes=[];for(let K=0,te=this.holes.length;K<te;K++){const ne=this.holes[K];_.holes.push(ne.toJSON())}return _}fromJSON(_){super.fromJSON(_),this.uuid=_.uuid,this.holes=[];for(let K=0,te=_.holes.length;K<te;K++){const ne=_.holes[K];this.holes.push(new Path().fromJSON(ne))}return this}}const Earcut={triangulate:function(Z,_,K=2){const te=_&&_.length,ne=te?_[0]*K:Z.length;let ie=linkedList(Z,0,ne,K,!0);const oe=[];if(!ie||ie.next===ie.prev)return oe;let se,le,ce,fe,pe,me,ve;if(te&&(ie=eliminateHoles(Z,_,ie,K)),Z.length>80*K){se=ce=Z[0],le=fe=Z[1];for(let ye=K;ye<ne;ye+=K)pe=Z[ye],me=Z[ye+1],pe<se&&(se=pe),me<le&&(le=me),pe>ce&&(ce=pe),me>fe&&(fe=me);ve=Math.max(ce-se,fe-le),ve=ve!==0?32767/ve:0}return earcutLinked(ie,oe,K,se,le,ve,0),oe}};function linkedList(Z,_,K,te,ne){let ie,oe;if(ne===signedArea(Z,_,K,te)>0)for(ie=_;ie<K;ie+=te)oe=insertNode(ie,Z[ie],Z[ie+1],oe);else for(ie=K-te;ie>=_;ie-=te)oe=insertNode(ie,Z[ie],Z[ie+1],oe);return oe&&equals(oe,oe.next)&&(removeNode(oe),oe=oe.next),oe}function filterPoints(Z,_){if(!Z)return Z;_||(_=Z);let K=Z,te;do if(te=!1,!K.steiner&&(equals(K,K.next)||area(K.prev,K,K.next)===0)){if(removeNode(K),K=_=K.prev,K===K.next)break;te=!0}else K=K.next;while(te||K!==_);return _}function earcutLinked(Z,_,K,te,ne,ie,oe){if(!Z)return;!oe&&ie&&indexCurve(Z,te,ne,ie);let se=Z,le,ce;for(;Z.prev!==Z.next;){if(le=Z.prev,ce=Z.next,ie?isEarHashed(Z,te,ne,ie):isEar(Z)){_.push(le.i/K|0),_.push(Z.i/K|0),_.push(ce.i/K|0),removeNode(Z),Z=ce.next,se=ce.next;continue}if(Z=ce,Z===se){oe?oe===1?(Z=cureLocalIntersections(filterPoints(Z),_,K),earcutLinked(Z,_,K,te,ne,ie,2)):oe===2&&splitEarcut(Z,_,K,te,ne,ie):earcutLinked(filterPoints(Z),_,K,te,ne,ie,1);break}}}function isEar(Z){const _=Z.prev,K=Z,te=Z.next;if(area(_,K,te)>=0)return!1;const ne=_.x,ie=K.x,oe=te.x,se=_.y,le=K.y,ce=te.y,fe=ne<ie?ne<oe?ne:oe:ie<oe?ie:oe,pe=se<le?se<ce?se:ce:le<ce?le:ce,me=ne>ie?ne>oe?ne:oe:ie>oe?ie:oe,ve=se>le?se>ce?se:ce:le>ce?le:ce;let ye=te.next;for(;ye!==_;){if(ye.x>=fe&&ye.x<=me&&ye.y>=pe&&ye.y<=ve&&pointInTriangle(ne,se,ie,le,oe,ce,ye.x,ye.y)&&area(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function isEarHashed(Z,_,K,te){const ne=Z.prev,ie=Z,oe=Z.next;if(area(ne,ie,oe)>=0)return!1;const se=ne.x,le=ie.x,ce=oe.x,fe=ne.y,pe=ie.y,me=oe.y,ve=se<le?se<ce?se:ce:le<ce?le:ce,ye=fe<pe?fe<me?fe:me:pe<me?pe:me,Ee=se>le?se>ce?se:ce:le>ce?le:ce,Se=fe>pe?fe>me?fe:me:pe>me?pe:me,_e=zOrder(ve,ye,_,K,te),Te=zOrder(Ee,Se,_,K,te);let Re=Z.prevZ,Pe=Z.nextZ;for(;Re&&Re.z>=_e&&Pe&&Pe.z<=Te;){if(Re.x>=ve&&Re.x<=Ee&&Re.y>=ye&&Re.y<=Se&&Re!==ne&&Re!==oe&&pointInTriangle(se,fe,le,pe,ce,me,Re.x,Re.y)&&area(Re.prev,Re,Re.next)>=0||(Re=Re.prevZ,Pe.x>=ve&&Pe.x<=Ee&&Pe.y>=ye&&Pe.y<=Se&&Pe!==ne&&Pe!==oe&&pointInTriangle(se,fe,le,pe,ce,me,Pe.x,Pe.y)&&area(Pe.prev,Pe,Pe.next)>=0))return!1;Pe=Pe.nextZ}for(;Re&&Re.z>=_e;){if(Re.x>=ve&&Re.x<=Ee&&Re.y>=ye&&Re.y<=Se&&Re!==ne&&Re!==oe&&pointInTriangle(se,fe,le,pe,ce,me,Re.x,Re.y)&&area(Re.prev,Re,Re.next)>=0)return!1;Re=Re.prevZ}for(;Pe&&Pe.z<=Te;){if(Pe.x>=ve&&Pe.x<=Ee&&Pe.y>=ye&&Pe.y<=Se&&Pe!==ne&&Pe!==oe&&pointInTriangle(se,fe,le,pe,ce,me,Pe.x,Pe.y)&&area(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.nextZ}return!0}function cureLocalIntersections(Z,_,K){let te=Z;do{const ne=te.prev,ie=te.next.next;!equals(ne,ie)&&intersects(ne,te,te.next,ie)&&locallyInside(ne,ie)&&locallyInside(ie,ne)&&(_.push(ne.i/K|0),_.push(te.i/K|0),_.push(ie.i/K|0),removeNode(te),removeNode(te.next),te=Z=ie),te=te.next}while(te!==Z);return filterPoints(te)}function splitEarcut(Z,_,K,te,ne,ie){let oe=Z;do{let se=oe.next.next;for(;se!==oe.prev;){if(oe.i!==se.i&&isValidDiagonal(oe,se)){let le=splitPolygon(oe,se);oe=filterPoints(oe,oe.next),le=filterPoints(le,le.next),earcutLinked(oe,_,K,te,ne,ie,0),earcutLinked(le,_,K,te,ne,ie,0);return}se=se.next}oe=oe.next}while(oe!==Z)}function eliminateHoles(Z,_,K,te){const ne=[];let ie,oe,se,le,ce;for(ie=0,oe=_.length;ie<oe;ie++)se=_[ie]*te,le=ie<oe-1?_[ie+1]*te:Z.length,ce=linkedList(Z,se,le,te,!1),ce===ce.next&&(ce.steiner=!0),ne.push(getLeftmost(ce));for(ne.sort(compareX),ie=0;ie<ne.length;ie++)K=eliminateHole(ne[ie],K);return K}function compareX(Z,_){return Z.x-_.x}function eliminateHole(Z,_){const K=findHoleBridge(Z,_);if(!K)return _;const te=splitPolygon(K,Z);return filterPoints(te,te.next),filterPoints(K,K.next)}function findHoleBridge(Z,_){let K=_,te=-1/0,ne;const ie=Z.x,oe=Z.y;do{if(oe<=K.y&&oe>=K.next.y&&K.next.y!==K.y){const me=K.x+(oe-K.y)*(K.next.x-K.x)/(K.next.y-K.y);if(me<=ie&&me>te&&(te=me,ne=K.x<K.next.x?K:K.next,me===ie))return ne}K=K.next}while(K!==_);if(!ne)return null;const se=ne,le=ne.x,ce=ne.y;let fe=1/0,pe;K=ne;do ie>=K.x&&K.x>=le&&ie!==K.x&&pointInTriangle(oe<ce?ie:te,oe,le,ce,oe<ce?te:ie,oe,K.x,K.y)&&(pe=Math.abs(oe-K.y)/(ie-K.x),locallyInside(K,Z)&&(pe<fe||pe===fe&&(K.x>ne.x||K.x===ne.x&&sectorContainsSector(ne,K)))&&(ne=K,fe=pe)),K=K.next;while(K!==se);return ne}function sectorContainsSector(Z,_){return area(Z.prev,Z,_.prev)<0&&area(_.next,Z,Z.next)<0}function indexCurve(Z,_,K,te){let ne=Z;do ne.z===0&&(ne.z=zOrder(ne.x,ne.y,_,K,te)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next;while(ne!==Z);ne.prevZ.nextZ=null,ne.prevZ=null,sortLinked(ne)}function sortLinked(Z){let _,K,te,ne,ie,oe,se,le,ce=1;do{for(K=Z,Z=null,ie=null,oe=0;K;){for(oe++,te=K,se=0,_=0;_<ce&&(se++,te=te.nextZ,!!te);_++);for(le=ce;se>0||le>0&&te;)se!==0&&(le===0||!te||K.z<=te.z)?(ne=K,K=K.nextZ,se--):(ne=te,te=te.nextZ,le--),ie?ie.nextZ=ne:Z=ne,ne.prevZ=ie,ie=ne;K=te}ie.nextZ=null,ce*=2}while(oe>1);return Z}function zOrder(Z,_,K,te,ne){return Z=(Z-K)*ne|0,_=(_-te)*ne|0,Z=(Z|Z<<8)&16711935,Z=(Z|Z<<4)&252645135,Z=(Z|Z<<2)&858993459,Z=(Z|Z<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,Z|_<<1}function getLeftmost(Z){let _=Z,K=Z;do(_.x<K.x||_.x===K.x&&_.y<K.y)&&(K=_),_=_.next;while(_!==Z);return K}function pointInTriangle(Z,_,K,te,ne,ie,oe,se){return(ne-oe)*(_-se)>=(Z-oe)*(ie-se)&&(Z-oe)*(te-se)>=(K-oe)*(_-se)&&(K-oe)*(ie-se)>=(ne-oe)*(te-se)}function isValidDiagonal(Z,_){return Z.next.i!==_.i&&Z.prev.i!==_.i&&!intersectsPolygon(Z,_)&&(locallyInside(Z,_)&&locallyInside(_,Z)&&middleInside(Z,_)&&(area(Z.prev,Z,_.prev)||area(Z,_.prev,_))||equals(Z,_)&&area(Z.prev,Z,Z.next)>0&&area(_.prev,_,_.next)>0)}function area(Z,_,K){return(_.y-Z.y)*(K.x-_.x)-(_.x-Z.x)*(K.y-_.y)}function equals(Z,_){return Z.x===_.x&&Z.y===_.y}function intersects(Z,_,K,te){const ne=sign(area(Z,_,K)),ie=sign(area(Z,_,te)),oe=sign(area(K,te,Z)),se=sign(area(K,te,_));return!!(ne!==ie&&oe!==se||ne===0&&onSegment(Z,K,_)||ie===0&&onSegment(Z,te,_)||oe===0&&onSegment(K,Z,te)||se===0&&onSegment(K,_,te))}function onSegment(Z,_,K){return _.x<=Math.max(Z.x,K.x)&&_.x>=Math.min(Z.x,K.x)&&_.y<=Math.max(Z.y,K.y)&&_.y>=Math.min(Z.y,K.y)}function sign(Z){return Z>0?1:Z<0?-1:0}function intersectsPolygon(Z,_){let K=Z;do{if(K.i!==Z.i&&K.next.i!==Z.i&&K.i!==_.i&&K.next.i!==_.i&&intersects(K,K.next,Z,_))return!0;K=K.next}while(K!==Z);return!1}function locallyInside(Z,_){return area(Z.prev,Z,Z.next)<0?area(Z,_,Z.next)>=0&&area(Z,Z.prev,_)>=0:area(Z,_,Z.prev)<0||area(Z,Z.next,_)<0}function middleInside(Z,_){let K=Z,te=!1;const ne=(Z.x+_.x)/2,ie=(Z.y+_.y)/2;do K.y>ie!=K.next.y>ie&&K.next.y!==K.y&&ne<(K.next.x-K.x)*(ie-K.y)/(K.next.y-K.y)+K.x&&(te=!te),K=K.next;while(K!==Z);return te}function splitPolygon(Z,_){const K=new Node$1(Z.i,Z.x,Z.y),te=new Node$1(_.i,_.x,_.y),ne=Z.next,ie=_.prev;return Z.next=_,_.prev=Z,K.next=ne,ne.prev=K,te.next=K,K.prev=te,ie.next=te,te.prev=ie,te}function insertNode(Z,_,K,te){const ne=new Node$1(Z,_,K);return te?(ne.next=te.next,ne.prev=te,te.next.prev=ne,te.next=ne):(ne.prev=ne,ne.next=ne),ne}function removeNode(Z){Z.next.prev=Z.prev,Z.prev.next=Z.next,Z.prevZ&&(Z.prevZ.nextZ=Z.nextZ),Z.nextZ&&(Z.nextZ.prevZ=Z.prevZ)}function Node$1(Z,_,K){this.i=Z,this.x=_,this.y=K,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(Z,_,K,te){let ne=0;for(let ie=_,oe=K-te;ie<K;ie+=te)ne+=(Z[oe]-Z[ie])*(Z[ie+1]+Z[oe+1]),oe=ie;return ne}class ShapeUtils{static area(_){const K=_.length;let te=0;for(let ne=K-1,ie=0;ie<K;ne=ie++)te+=_[ne].x*_[ie].y-_[ie].x*_[ne].y;return te*.5}static isClockWise(_){return ShapeUtils.area(_)<0}static triangulateShape(_,K){const te=[],ne=[],ie=[];removeDupEndPts(_),addContour(te,_);let oe=_.length;K.forEach(removeDupEndPts);for(let le=0;le<K.length;le++)ne.push(oe),oe+=K[le].length,addContour(te,K[le]);const se=Earcut.triangulate(te,ne);for(let le=0;le<se.length;le+=3)ie.push(se.slice(le,le+3));return ie}}function removeDupEndPts(Z){const _=Z.length;_>2&&Z[_-1].equals(Z[0])&&Z.pop()}function addContour(Z,_){for(let K=0;K<_.length;K++)Z.push(_[K].x),Z.push(_[K].y)}class ExtrudeGeometry extends BufferGeometry{constructor(_=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),K={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:_,options:K},_=Array.isArray(_)?_:[_];const te=this,ne=[],ie=[];for(let se=0,le=_.length;se<le;se++){const ce=_[se];oe(ce)}this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("uv",new Float32BufferAttribute(ie,2)),this.computeVertexNormals();function oe(se){const le=[],ce=K.curveSegments!==void 0?K.curveSegments:12,fe=K.steps!==void 0?K.steps:1,pe=K.depth!==void 0?K.depth:1;let me=K.bevelEnabled!==void 0?K.bevelEnabled:!0,ve=K.bevelThickness!==void 0?K.bevelThickness:.2,ye=K.bevelSize!==void 0?K.bevelSize:ve-.1,Ee=K.bevelOffset!==void 0?K.bevelOffset:0,Se=K.bevelSegments!==void 0?K.bevelSegments:3;const _e=K.extrudePath,Te=K.UVGenerator!==void 0?K.UVGenerator:WorldUVGenerator;let Re,Pe=!1,Fe,$e,ke,ze;_e&&(Re=_e.getSpacedPoints(fe),Pe=!0,me=!1,Fe=_e.computeFrenetFrames(fe,!1),$e=new Vector3,ke=new Vector3,ze=new Vector3),me||(Se=0,ve=0,ye=0,Ee=0);const Ue=se.extractPoints(ce);let Oe=Ue.shape;const Ve=Ue.holes;if(!ShapeUtils.isClockWise(Oe)){Oe=Oe.reverse();for(let It=0,Ot=Ve.length;It<Ot;It++){const Ze=Ve[It];ShapeUtils.isClockWise(Ze)&&(Ve[It]=Ze.reverse())}}const Ke=ShapeUtils.triangulateShape(Oe,Ve),rt=Oe;for(let It=0,Ot=Ve.length;It<Ot;It++){const Ze=Ve[It];Oe=Oe.concat(Ze)}function ct(It,Ot,Ze){return Ot||console.error("THREE.ExtrudeGeometry: vec does not exist"),It.clone().addScaledVector(Ot,Ze)}const at=Oe.length,mt=Ke.length;function je(It,Ot,Ze){let sn,Bt,rn;const Gt=It.x-Ot.x,pn=It.y-Ot.y,qt=Ze.x-It.x,Xe=Ze.y-It.y,He=Gt*Gt+pn*pn,tt=Gt*Xe-pn*qt;if(Math.abs(tt)>Number.EPSILON){const pt=Math.sqrt(He),Lt=Math.sqrt(qt*qt+Xe*Xe),Ct=Ot.x-pn/pt,nn=Ot.y+Gt/pt,Xt=Ze.x-Xe/Lt,Qt=Ze.y+qt/Lt,Rn=((Xt-Ct)*Xe-(Qt-nn)*qt)/(Gt*Xe-pn*qt);sn=Ct+Gt*Rn-It.x,Bt=nn+pn*Rn-It.y;const Ut=sn*sn+Bt*Bt;if(Ut<=2)return new Vector2(sn,Bt);rn=Math.sqrt(Ut/2)}else{let pt=!1;Gt>Number.EPSILON?qt>Number.EPSILON&&(pt=!0):Gt<-Number.EPSILON?qt<-Number.EPSILON&&(pt=!0):Math.sign(pn)===Math.sign(Xe)&&(pt=!0),pt?(sn=-pn,Bt=Gt,rn=Math.sqrt(He)):(sn=Gt,Bt=pn,rn=Math.sqrt(He/2))}return new Vector2(sn/rn,Bt/rn)}const it=[];for(let It=0,Ot=rt.length,Ze=Ot-1,sn=It+1;It<Ot;It++,Ze++,sn++)Ze===Ot&&(Ze=0),sn===Ot&&(sn=0),it[It]=je(rt[It],rt[Ze],rt[sn]);const et=[];let qe,lt=it.concat();for(let It=0,Ot=Ve.length;It<Ot;It++){const Ze=Ve[It];qe=[];for(let sn=0,Bt=Ze.length,rn=Bt-1,Gt=sn+1;sn<Bt;sn++,rn++,Gt++)rn===Bt&&(rn=0),Gt===Bt&&(Gt=0),qe[sn]=je(Ze[sn],Ze[rn],Ze[Gt]);et.push(qe),lt=lt.concat(qe)}for(let It=0;It<Se;It++){const Ot=It/Se,Ze=ve*Math.cos(Ot*Math.PI/2),sn=ye*Math.sin(Ot*Math.PI/2)+Ee;for(let Bt=0,rn=rt.length;Bt<rn;Bt++){const Gt=ct(rt[Bt],it[Bt],sn);At(Gt.x,Gt.y,-Ze)}for(let Bt=0,rn=Ve.length;Bt<rn;Bt++){const Gt=Ve[Bt];qe=et[Bt];for(let pn=0,qt=Gt.length;pn<qt;pn++){const Xe=ct(Gt[pn],qe[pn],sn);At(Xe.x,Xe.y,-Ze)}}}const _t=ye+Ee;for(let It=0;It<at;It++){const Ot=me?ct(Oe[It],lt[It],_t):Oe[It];Pe?(ke.copy(Fe.normals[0]).multiplyScalar(Ot.x),$e.copy(Fe.binormals[0]).multiplyScalar(Ot.y),ze.copy(Re[0]).add(ke).add($e),At(ze.x,ze.y,ze.z)):At(Ot.x,Ot.y,0)}for(let It=1;It<=fe;It++)for(let Ot=0;Ot<at;Ot++){const Ze=me?ct(Oe[Ot],lt[Ot],_t):Oe[Ot];Pe?(ke.copy(Fe.normals[It]).multiplyScalar(Ze.x),$e.copy(Fe.binormals[It]).multiplyScalar(Ze.y),ze.copy(Re[It]).add(ke).add($e),At(ze.x,ze.y,ze.z)):At(Ze.x,Ze.y,pe/fe*It)}for(let It=Se-1;It>=0;It--){const Ot=It/Se,Ze=ve*Math.cos(Ot*Math.PI/2),sn=ye*Math.sin(Ot*Math.PI/2)+Ee;for(let Bt=0,rn=rt.length;Bt<rn;Bt++){const Gt=ct(rt[Bt],it[Bt],sn);At(Gt.x,Gt.y,pe+Ze)}for(let Bt=0,rn=Ve.length;Bt<rn;Bt++){const Gt=Ve[Bt];qe=et[Bt];for(let pn=0,qt=Gt.length;pn<qt;pn++){const Xe=ct(Gt[pn],qe[pn],sn);Pe?At(Xe.x,Xe.y+Re[fe-1].y,Re[fe-1].x+Ze):At(Xe.x,Xe.y,pe+Ze)}}}ut(),St();function ut(){const It=ne.length/3;if(me){let Ot=0,Ze=at*Ot;for(let sn=0;sn<mt;sn++){const Bt=Ke[sn];kt(Bt[2]+Ze,Bt[1]+Ze,Bt[0]+Ze)}Ot=fe+Se*2,Ze=at*Ot;for(let sn=0;sn<mt;sn++){const Bt=Ke[sn];kt(Bt[0]+Ze,Bt[1]+Ze,Bt[2]+Ze)}}else{for(let Ot=0;Ot<mt;Ot++){const Ze=Ke[Ot];kt(Ze[2],Ze[1],Ze[0])}for(let Ot=0;Ot<mt;Ot++){const Ze=Ke[Ot];kt(Ze[0]+at*fe,Ze[1]+at*fe,Ze[2]+at*fe)}}te.addGroup(It,ne.length/3-It,0)}function St(){const It=ne.length/3;let Ot=0;Et(rt,Ot),Ot+=rt.length;for(let Ze=0,sn=Ve.length;Ze<sn;Ze++){const Bt=Ve[Ze];Et(Bt,Ot),Ot+=Bt.length}te.addGroup(It,ne.length/3-It,1)}function Et(It,Ot){let Ze=It.length;for(;--Ze>=0;){const sn=Ze;let Bt=Ze-1;Bt<0&&(Bt=It.length-1);for(let rn=0,Gt=fe+Se*2;rn<Gt;rn++){const pn=at*rn,qt=at*(rn+1),Xe=Ot+sn+pn,He=Ot+Bt+pn,tt=Ot+Bt+qt,pt=Ot+sn+qt;jt(Xe,He,tt,pt)}}}function At(It,Ot,Ze){le.push(It),le.push(Ot),le.push(Ze)}function kt(It,Ot,Ze){en(It),en(Ot),en(Ze);const sn=ne.length/3,Bt=Te.generateTopUV(te,ne,sn-3,sn-2,sn-1);un(Bt[0]),un(Bt[1]),un(Bt[2])}function jt(It,Ot,Ze,sn){en(It),en(Ot),en(sn),en(Ot),en(Ze),en(sn);const Bt=ne.length/3,rn=Te.generateSideWallUV(te,ne,Bt-6,Bt-3,Bt-2,Bt-1);un(rn[0]),un(rn[1]),un(rn[3]),un(rn[1]),un(rn[2]),un(rn[3])}function en(It){ne.push(le[It*3+0]),ne.push(le[It*3+1]),ne.push(le[It*3+2])}function un(It){ie.push(It.x),ie.push(It.y)}}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON(),K=this.parameters.shapes,te=this.parameters.options;return toJSON$1(K,te,_)}static fromJSON(_,K){const te=[];for(let ie=0,oe=_.shapes.length;ie<oe;ie++){const se=K[_.shapes[ie]];te.push(se)}const ne=_.options.extrudePath;return ne!==void 0&&(_.options.extrudePath=new Curves[ne.type]().fromJSON(ne)),new ExtrudeGeometry(te,_.options)}}const WorldUVGenerator={generateTopUV:function(Z,_,K,te,ne){const ie=_[K*3],oe=_[K*3+1],se=_[te*3],le=_[te*3+1],ce=_[ne*3],fe=_[ne*3+1];return[new Vector2(ie,oe),new Vector2(se,le),new Vector2(ce,fe)]},generateSideWallUV:function(Z,_,K,te,ne,ie){const oe=_[K*3],se=_[K*3+1],le=_[K*3+2],ce=_[te*3],fe=_[te*3+1],pe=_[te*3+2],me=_[ne*3],ve=_[ne*3+1],ye=_[ne*3+2],Ee=_[ie*3],Se=_[ie*3+1],_e=_[ie*3+2];return Math.abs(se-fe)<Math.abs(oe-ce)?[new Vector2(oe,1-le),new Vector2(ce,1-pe),new Vector2(me,1-ye),new Vector2(Ee,1-_e)]:[new Vector2(se,1-le),new Vector2(fe,1-pe),new Vector2(ve,1-ye),new Vector2(Se,1-_e)]}};function toJSON$1(Z,_,K){if(K.shapes=[],Array.isArray(Z))for(let te=0,ne=Z.length;te<ne;te++){const ie=Z[te];K.shapes.push(ie.uuid)}else K.shapes.push(Z.uuid);return K.options=Object.assign({},_),_.extrudePath!==void 0&&(K.options.extrudePath=_.extrudePath.toJSON()),K}class IcosahedronGeometry extends PolyhedronGeometry{constructor(_=1,K=0){const te=(1+Math.sqrt(5))/2,ne=[-1,te,0,1,te,0,-1,-te,0,1,-te,0,0,-1,te,0,1,te,0,-1,-te,0,1,-te,te,0,-1,te,0,1,-te,0,-1,-te,0,1],ie=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(ne,ie,_,K),this.type="IcosahedronGeometry",this.parameters={radius:_,detail:K}}static fromJSON(_){return new IcosahedronGeometry(_.radius,_.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(_=1,K=0){const te=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],ne=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(te,ne,_,K),this.type="OctahedronGeometry",this.parameters={radius:_,detail:K}}static fromJSON(_){return new OctahedronGeometry(_.radius,_.detail)}}class PlaneGeometry extends BufferGeometry{constructor(_=1,K=1,te=1,ne=1){super(),this.type="PlaneGeometry",this.parameters={width:_,height:K,widthSegments:te,heightSegments:ne};const ie=_/2,oe=K/2,se=Math.floor(te),le=Math.floor(ne),ce=se+1,fe=le+1,pe=_/se,me=K/le,ve=[],ye=[],Ee=[],Se=[];for(let _e=0;_e<fe;_e++){const Te=_e*me-oe;for(let Re=0;Re<ce;Re++){const Pe=Re*pe-ie;ye.push(Pe,-Te,0),Ee.push(0,0,1),Se.push(Re/se),Se.push(1-_e/le)}}for(let _e=0;_e<le;_e++)for(let Te=0;Te<se;Te++){const Re=Te+ce*_e,Pe=Te+ce*(_e+1),Fe=Te+1+ce*(_e+1),$e=Te+1+ce*_e;ve.push(Re,Pe,$e),ve.push(Pe,Fe,$e)}this.setIndex(ve),this.setAttribute("position",new Float32BufferAttribute(ye,3)),this.setAttribute("normal",new Float32BufferAttribute(Ee,3)),this.setAttribute("uv",new Float32BufferAttribute(Se,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new PlaneGeometry(_.width,_.height,_.widthSegments,_.heightSegments)}}class RingGeometry extends BufferGeometry{constructor(_=.5,K=1,te=32,ne=1,ie=0,oe=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:_,outerRadius:K,thetaSegments:te,phiSegments:ne,thetaStart:ie,thetaLength:oe},te=Math.max(3,te),ne=Math.max(1,ne);const se=[],le=[],ce=[],fe=[];let pe=_;const me=(K-_)/ne,ve=new Vector3,ye=new Vector2;for(let Ee=0;Ee<=ne;Ee++){for(let Se=0;Se<=te;Se++){const _e=ie+Se/te*oe;ve.x=pe*Math.cos(_e),ve.y=pe*Math.sin(_e),le.push(ve.x,ve.y,ve.z),ce.push(0,0,1),ye.x=(ve.x/K+1)/2,ye.y=(ve.y/K+1)/2,fe.push(ye.x,ye.y)}pe+=me}for(let Ee=0;Ee<ne;Ee++){const Se=Ee*(te+1);for(let _e=0;_e<te;_e++){const Te=_e+Se,Re=Te,Pe=Te+te+1,Fe=Te+te+2,$e=Te+1;se.push(Re,Pe,$e),se.push(Pe,Fe,$e)}}this.setIndex(se),this.setAttribute("position",new Float32BufferAttribute(le,3)),this.setAttribute("normal",new Float32BufferAttribute(ce,3)),this.setAttribute("uv",new Float32BufferAttribute(fe,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new RingGeometry(_.innerRadius,_.outerRadius,_.thetaSegments,_.phiSegments,_.thetaStart,_.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(_=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),K=12){super(),this.type="ShapeGeometry",this.parameters={shapes:_,curveSegments:K};const te=[],ne=[],ie=[],oe=[];let se=0,le=0;if(Array.isArray(_)===!1)ce(_);else for(let fe=0;fe<_.length;fe++)ce(_[fe]),this.addGroup(se,le,fe),se+=le,le=0;this.setIndex(te),this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("normal",new Float32BufferAttribute(ie,3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2));function ce(fe){const pe=ne.length/3,me=fe.extractPoints(K);let ve=me.shape;const ye=me.holes;ShapeUtils.isClockWise(ve)===!1&&(ve=ve.reverse());for(let Se=0,_e=ye.length;Se<_e;Se++){const Te=ye[Se];ShapeUtils.isClockWise(Te)===!0&&(ye[Se]=Te.reverse())}const Ee=ShapeUtils.triangulateShape(ve,ye);for(let Se=0,_e=ye.length;Se<_e;Se++){const Te=ye[Se];ve=ve.concat(Te)}for(let Se=0,_e=ve.length;Se<_e;Se++){const Te=ve[Se];ne.push(Te.x,Te.y,0),ie.push(0,0,1),oe.push(Te.x,Te.y)}for(let Se=0,_e=Ee.length;Se<_e;Se++){const Te=Ee[Se],Re=Te[0]+pe,Pe=Te[1]+pe,Fe=Te[2]+pe;te.push(Re,Pe,Fe),le+=3}}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON(),K=this.parameters.shapes;return toJSON(K,_)}static fromJSON(_,K){const te=[];for(let ne=0,ie=_.shapes.length;ne<ie;ne++){const oe=K[_.shapes[ne]];te.push(oe)}return new ShapeGeometry(te,_.curveSegments)}}function toJSON(Z,_){if(_.shapes=[],Array.isArray(Z))for(let K=0,te=Z.length;K<te;K++){const ne=Z[K];_.shapes.push(ne.uuid)}else _.shapes.push(Z.uuid);return _}class SphereGeometry extends BufferGeometry{constructor(_=1,K=32,te=16,ne=0,ie=Math.PI*2,oe=0,se=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:_,widthSegments:K,heightSegments:te,phiStart:ne,phiLength:ie,thetaStart:oe,thetaLength:se},K=Math.max(3,Math.floor(K)),te=Math.max(2,Math.floor(te));const le=Math.min(oe+se,Math.PI);let ce=0;const fe=[],pe=new Vector3,me=new Vector3,ve=[],ye=[],Ee=[],Se=[];for(let _e=0;_e<=te;_e++){const Te=[],Re=_e/te;let Pe=0;_e===0&&oe===0?Pe=.5/K:_e===te&&le===Math.PI&&(Pe=-.5/K);for(let Fe=0;Fe<=K;Fe++){const $e=Fe/K;pe.x=-_*Math.cos(ne+$e*ie)*Math.sin(oe+Re*se),pe.y=_*Math.cos(oe+Re*se),pe.z=_*Math.sin(ne+$e*ie)*Math.sin(oe+Re*se),ye.push(pe.x,pe.y,pe.z),me.copy(pe).normalize(),Ee.push(me.x,me.y,me.z),Se.push($e+Pe,1-Re),Te.push(ce++)}fe.push(Te)}for(let _e=0;_e<te;_e++)for(let Te=0;Te<K;Te++){const Re=fe[_e][Te+1],Pe=fe[_e][Te],Fe=fe[_e+1][Te],$e=fe[_e+1][Te+1];(_e!==0||oe>0)&&ve.push(Re,Pe,$e),(_e!==te-1||le<Math.PI)&&ve.push(Pe,Fe,$e)}this.setIndex(ve),this.setAttribute("position",new Float32BufferAttribute(ye,3)),this.setAttribute("normal",new Float32BufferAttribute(Ee,3)),this.setAttribute("uv",new Float32BufferAttribute(Se,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new SphereGeometry(_.radius,_.widthSegments,_.heightSegments,_.phiStart,_.phiLength,_.thetaStart,_.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(_=1,K=0){const te=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],ne=[2,1,0,0,3,2,1,3,0,2,3,1];super(te,ne,_,K),this.type="TetrahedronGeometry",this.parameters={radius:_,detail:K}}static fromJSON(_){return new TetrahedronGeometry(_.radius,_.detail)}}class TorusGeometry extends BufferGeometry{constructor(_=1,K=.4,te=12,ne=48,ie=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:_,tube:K,radialSegments:te,tubularSegments:ne,arc:ie},te=Math.floor(te),ne=Math.floor(ne);const oe=[],se=[],le=[],ce=[],fe=new Vector3,pe=new Vector3,me=new Vector3;for(let ve=0;ve<=te;ve++)for(let ye=0;ye<=ne;ye++){const Ee=ye/ne*ie,Se=ve/te*Math.PI*2;pe.x=(_+K*Math.cos(Se))*Math.cos(Ee),pe.y=(_+K*Math.cos(Se))*Math.sin(Ee),pe.z=K*Math.sin(Se),se.push(pe.x,pe.y,pe.z),fe.x=_*Math.cos(Ee),fe.y=_*Math.sin(Ee),me.subVectors(pe,fe).normalize(),le.push(me.x,me.y,me.z),ce.push(ye/ne),ce.push(ve/te)}for(let ve=1;ve<=te;ve++)for(let ye=1;ye<=ne;ye++){const Ee=(ne+1)*ve+ye-1,Se=(ne+1)*(ve-1)+ye-1,_e=(ne+1)*(ve-1)+ye,Te=(ne+1)*ve+ye;oe.push(Ee,Se,Te),oe.push(Se,_e,Te)}this.setIndex(oe),this.setAttribute("position",new Float32BufferAttribute(se,3)),this.setAttribute("normal",new Float32BufferAttribute(le,3)),this.setAttribute("uv",new Float32BufferAttribute(ce,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new TorusGeometry(_.radius,_.tube,_.radialSegments,_.tubularSegments,_.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(_=1,K=.4,te=64,ne=8,ie=2,oe=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:_,tube:K,tubularSegments:te,radialSegments:ne,p:ie,q:oe},te=Math.floor(te),ne=Math.floor(ne);const se=[],le=[],ce=[],fe=[],pe=new Vector3,me=new Vector3,ve=new Vector3,ye=new Vector3,Ee=new Vector3,Se=new Vector3,_e=new Vector3;for(let Re=0;Re<=te;++Re){const Pe=Re/te*ie*Math.PI*2;Te(Pe,ie,oe,_,ve),Te(Pe+.01,ie,oe,_,ye),Se.subVectors(ye,ve),_e.addVectors(ye,ve),Ee.crossVectors(Se,_e),_e.crossVectors(Ee,Se),Ee.normalize(),_e.normalize();for(let Fe=0;Fe<=ne;++Fe){const $e=Fe/ne*Math.PI*2,ke=-K*Math.cos($e),ze=K*Math.sin($e);pe.x=ve.x+(ke*_e.x+ze*Ee.x),pe.y=ve.y+(ke*_e.y+ze*Ee.y),pe.z=ve.z+(ke*_e.z+ze*Ee.z),le.push(pe.x,pe.y,pe.z),me.subVectors(pe,ve).normalize(),ce.push(me.x,me.y,me.z),fe.push(Re/te),fe.push(Fe/ne)}}for(let Re=1;Re<=te;Re++)for(let Pe=1;Pe<=ne;Pe++){const Fe=(ne+1)*(Re-1)+(Pe-1),$e=(ne+1)*Re+(Pe-1),ke=(ne+1)*Re+Pe,ze=(ne+1)*(Re-1)+Pe;se.push(Fe,$e,ze),se.push($e,ke,ze)}this.setIndex(se),this.setAttribute("position",new Float32BufferAttribute(le,3)),this.setAttribute("normal",new Float32BufferAttribute(ce,3)),this.setAttribute("uv",new Float32BufferAttribute(fe,2));function Te(Re,Pe,Fe,$e,ke){const ze=Math.cos(Re),Ue=Math.sin(Re),Oe=Fe/Pe*Re,Ve=Math.cos(Oe);ke.x=$e*(2+Ve)*.5*ze,ke.y=$e*(2+Ve)*Ue*.5,ke.z=$e*Math.sin(Oe)*.5}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new TorusKnotGeometry(_.radius,_.tube,_.tubularSegments,_.radialSegments,_.p,_.q)}}class TubeGeometry extends BufferGeometry{constructor(_=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),K=64,te=1,ne=8,ie=!1){super(),this.type="TubeGeometry",this.parameters={path:_,tubularSegments:K,radius:te,radialSegments:ne,closed:ie};const oe=_.computeFrenetFrames(K,ie);this.tangents=oe.tangents,this.normals=oe.normals,this.binormals=oe.binormals;const se=new Vector3,le=new Vector3,ce=new Vector2;let fe=new Vector3;const pe=[],me=[],ve=[],ye=[];Ee(),this.setIndex(ye),this.setAttribute("position",new Float32BufferAttribute(pe,3)),this.setAttribute("normal",new Float32BufferAttribute(me,3)),this.setAttribute("uv",new Float32BufferAttribute(ve,2));function Ee(){for(let Re=0;Re<K;Re++)Se(Re);Se(ie===!1?K:0),Te(),_e()}function Se(Re){fe=_.getPointAt(Re/K,fe);const Pe=oe.normals[Re],Fe=oe.binormals[Re];for(let $e=0;$e<=ne;$e++){const ke=$e/ne*Math.PI*2,ze=Math.sin(ke),Ue=-Math.cos(ke);le.x=Ue*Pe.x+ze*Fe.x,le.y=Ue*Pe.y+ze*Fe.y,le.z=Ue*Pe.z+ze*Fe.z,le.normalize(),me.push(le.x,le.y,le.z),se.x=fe.x+te*le.x,se.y=fe.y+te*le.y,se.z=fe.z+te*le.z,pe.push(se.x,se.y,se.z)}}function _e(){for(let Re=1;Re<=K;Re++)for(let Pe=1;Pe<=ne;Pe++){const Fe=(ne+1)*(Re-1)+(Pe-1),$e=(ne+1)*Re+(Pe-1),ke=(ne+1)*Re+Pe,ze=(ne+1)*(Re-1)+Pe;ye.push(Fe,$e,ze),ye.push($e,ke,ze)}}function Te(){for(let Re=0;Re<=K;Re++)for(let Pe=0;Pe<=ne;Pe++)ce.x=Re/K,ce.y=Pe/ne,ve.push(ce.x,ce.y)}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON();return _.path=this.parameters.path.toJSON(),_}static fromJSON(_){return new TubeGeometry(new Curves[_.path.type]().fromJSON(_.path),_.tubularSegments,_.radius,_.radialSegments,_.closed)}}class WireframeGeometry extends BufferGeometry{constructor(_=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:_},_!==null){const K=[],te=new Set,ne=new Vector3,ie=new Vector3;if(_.index!==null){const oe=_.attributes.position,se=_.index;let le=_.groups;le.length===0&&(le=[{start:0,count:se.count,materialIndex:0}]);for(let ce=0,fe=le.length;ce<fe;++ce){const pe=le[ce],me=pe.start,ve=pe.count;for(let ye=me,Ee=me+ve;ye<Ee;ye+=3)for(let Se=0;Se<3;Se++){const _e=se.getX(ye+Se),Te=se.getX(ye+(Se+1)%3);ne.fromBufferAttribute(oe,_e),ie.fromBufferAttribute(oe,Te),isUniqueEdge(ne,ie,te)===!0&&(K.push(ne.x,ne.y,ne.z),K.push(ie.x,ie.y,ie.z))}}}else{const oe=_.attributes.position;for(let se=0,le=oe.count/3;se<le;se++)for(let ce=0;ce<3;ce++){const fe=3*se+ce,pe=3*se+(ce+1)%3;ne.fromBufferAttribute(oe,fe),ie.fromBufferAttribute(oe,pe),isUniqueEdge(ne,ie,te)===!0&&(K.push(ne.x,ne.y,ne.z),K.push(ie.x,ie.y,ie.z))}}this.setAttribute("position",new Float32BufferAttribute(K,3))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}}function isUniqueEdge(Z,_,K){const te=`${Z.x},${Z.y},${Z.z}-${_.x},${_.y},${_.z}`,ne=`${_.x},${_.y},${_.z}-${Z.x},${Z.y},${Z.z}`;return K.has(te)===!0||K.has(ne)===!0?!1:(K.add(te),K.add(ne),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(_){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.fog=_.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(_){super(_),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(_){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Color$1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.defines={STANDARD:""},this.color.copy(_.color),this.roughness=_.roughness,this.metalness=_.metalness,this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.roughnessMap=_.roughnessMap,this.metalnessMap=_.metalnessMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.envMapIntensity=_.envMapIntensity,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(_){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$3(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(K){this.ior=(1+.4*K)/(1-.4*K)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(_)}get anisotropy(){return this._anisotropy}set anisotropy(_){this._anisotropy>0!=_>0&&this.version++,this._anisotropy=_}get clearcoat(){return this._clearcoat}set clearcoat(_){this._clearcoat>0!=_>0&&this.version++,this._clearcoat=_}get iridescence(){return this._iridescence}set iridescence(_){this._iridescence>0!=_>0&&this.version++,this._iridescence=_}get dispersion(){return this._dispersion}set dispersion(_){this._dispersion>0!=_>0&&this.version++,this._dispersion=_}get sheen(){return this._sheen}set sheen(_){this._sheen>0!=_>0&&this.version++,this._sheen=_}get transmission(){return this._transmission}set transmission(_){this._transmission>0!=_>0&&this.version++,this._transmission=_}copy(_){return super.copy(_),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=_.anisotropy,this.anisotropyRotation=_.anisotropyRotation,this.anisotropyMap=_.anisotropyMap,this.clearcoat=_.clearcoat,this.clearcoatMap=_.clearcoatMap,this.clearcoatRoughness=_.clearcoatRoughness,this.clearcoatRoughnessMap=_.clearcoatRoughnessMap,this.clearcoatNormalMap=_.clearcoatNormalMap,this.clearcoatNormalScale.copy(_.clearcoatNormalScale),this.dispersion=_.dispersion,this.ior=_.ior,this.iridescence=_.iridescence,this.iridescenceMap=_.iridescenceMap,this.iridescenceIOR=_.iridescenceIOR,this.iridescenceThicknessRange=[..._.iridescenceThicknessRange],this.iridescenceThicknessMap=_.iridescenceThicknessMap,this.sheen=_.sheen,this.sheenColor.copy(_.sheenColor),this.sheenColorMap=_.sheenColorMap,this.sheenRoughness=_.sheenRoughness,this.sheenRoughnessMap=_.sheenRoughnessMap,this.transmission=_.transmission,this.transmissionMap=_.transmissionMap,this.thickness=_.thickness,this.thicknessMap=_.thicknessMap,this.attenuationDistance=_.attenuationDistance,this.attenuationColor.copy(_.attenuationColor),this.specularIntensity=_.specularIntensity,this.specularIntensityMap=_.specularIntensityMap,this.specularColor.copy(_.specularColor),this.specularColorMap=_.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(_){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.specular.copy(_.specular),this.shininess=_.shininess,this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshToonMaterial extends Material{constructor(_){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$1(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.gradientMap=_.gradientMap,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.alphaMap=_.alphaMap,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.fog=_.fog,this}}class MeshNormalMaterial extends Material{constructor(_){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(_)}copy(_){return super.copy(_),this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.flatShading=_.flatShading,this}}class MeshLambertMaterial extends Material{constructor(_){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshDepthMaterial extends Material{constructor(_){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(_)}copy(_){return super.copy(_),this.depthPacking=_.depthPacking,this.map=_.map,this.alphaMap=_.alphaMap,this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(_){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(_)}copy(_){return super.copy(_),this.map=_.map,this.alphaMap=_.alphaMap,this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this}}class MeshMatcapMaterial extends Material{constructor(_){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.defines={MATCAP:""},this.color.copy(_.color),this.matcap=_.matcap,this.map=_.map,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.alphaMap=_.alphaMap,this.flatShading=_.flatShading,this.fog=_.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(_){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(_)}copy(_){return super.copy(_),this.scale=_.scale,this.dashSize=_.dashSize,this.gapSize=_.gapSize,this}}function convertArray(Z,_,K){return!Z||!K&&Z.constructor===_?Z:typeof _.BYTES_PER_ELEMENT=="number"?new _(Z):Array.prototype.slice.call(Z)}function isTypedArray(Z){return ArrayBuffer.isView(Z)&&!(Z instanceof DataView)}function getKeyframeOrder(Z){function _(ne,ie){return Z[ne]-Z[ie]}const K=Z.length,te=new Array(K);for(let ne=0;ne!==K;++ne)te[ne]=ne;return te.sort(_),te}function sortedArray(Z,_,K){const te=Z.length,ne=new Z.constructor(te);for(let ie=0,oe=0;oe!==te;++ie){const se=K[ie]*_;for(let le=0;le!==_;++le)ne[oe++]=Z[se+le]}return ne}function flattenJSON(Z,_,K,te){let ne=1,ie=Z[0];for(;ie!==void 0&&ie[te]===void 0;)ie=Z[ne++];if(ie===void 0)return;let oe=ie[te];if(oe!==void 0)if(Array.isArray(oe))do oe=ie[te],oe!==void 0&&(_.push(ie.time),K.push.apply(K,oe)),ie=Z[ne++];while(ie!==void 0);else if(oe.toArray!==void 0)do oe=ie[te],oe!==void 0&&(_.push(ie.time),oe.toArray(K,K.length)),ie=Z[ne++];while(ie!==void 0);else do oe=ie[te],oe!==void 0&&(_.push(ie.time),K.push(oe)),ie=Z[ne++];while(ie!==void 0)}function subclip(Z,_,K,te,ne=30){const ie=Z.clone();ie.name=_;const oe=[];for(let le=0;le<ie.tracks.length;++le){const ce=ie.tracks[le],fe=ce.getValueSize(),pe=[],me=[];for(let ve=0;ve<ce.times.length;++ve){const ye=ce.times[ve]*ne;if(!(ye<K||ye>=te)){pe.push(ce.times[ve]);for(let Ee=0;Ee<fe;++Ee)me.push(ce.values[ve*fe+Ee])}}pe.length!==0&&(ce.times=convertArray(pe,ce.times.constructor),ce.values=convertArray(me,ce.values.constructor),oe.push(ce))}ie.tracks=oe;let se=1/0;for(let le=0;le<ie.tracks.length;++le)se>ie.tracks[le].times[0]&&(se=ie.tracks[le].times[0]);for(let le=0;le<ie.tracks.length;++le)ie.tracks[le].shift(-1*se);return ie.resetDuration(),ie}function makeClipAdditive(Z,_=0,K=Z,te=30){te<=0&&(te=30);const ne=K.tracks.length,ie=_/te;for(let oe=0;oe<ne;++oe){const se=K.tracks[oe],le=se.ValueTypeName;if(le==="bool"||le==="string")continue;const ce=Z.tracks.find(function(_e){return _e.name===se.name&&_e.ValueTypeName===le});if(ce===void 0)continue;let fe=0;const pe=se.getValueSize();se.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(fe=pe/3);let me=0;const ve=ce.getValueSize();ce.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(me=ve/3);const ye=se.times.length-1;let Ee;if(ie<=se.times[0]){const _e=fe,Te=pe-fe;Ee=se.values.slice(_e,Te)}else if(ie>=se.times[ye]){const _e=ye*pe+fe,Te=_e+pe-fe;Ee=se.values.slice(_e,Te)}else{const _e=se.createInterpolant(),Te=fe,Re=pe-fe;_e.evaluate(ie),Ee=_e.resultBuffer.slice(Te,Re)}le==="quaternion"&&new Quaternion().fromArray(Ee).normalize().conjugate().toArray(Ee);const Se=ce.times.length;for(let _e=0;_e<Se;++_e){const Te=_e*ve+me;if(le==="quaternion")Quaternion.multiplyQuaternionsFlat(ce.values,Te,Ee,0,ce.values,Te);else{const Re=ve-me*2;for(let Pe=0;Pe<Re;++Pe)ce.values[Te+Pe]-=Ee[Pe]}}}return Z.blendMode=AdditiveAnimationBlendMode,Z}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(_,K,te,ne){this.parameterPositions=_,this._cachedIndex=0,this.resultBuffer=ne!==void 0?ne:new K.constructor(te),this.sampleValues=K,this.valueSize=te,this.settings=null,this.DefaultSettings_={}}evaluate(_){const K=this.parameterPositions;let te=this._cachedIndex,ne=K[te],ie=K[te-1];e:{t:{let oe;n:{r:if(!(_<ne)){for(let se=te+2;;){if(ne===void 0){if(_<ie)break r;return te=K.length,this._cachedIndex=te,this.copySampleValue_(te-1)}if(te===se)break;if(ie=ne,ne=K[++te],_<ne)break t}oe=K.length;break n}if(!(_>=ie)){const se=K[1];_<se&&(te=2,ie=se);for(let le=te-2;;){if(ie===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(te===le)break;if(ne=ie,ie=K[--te-1],_>=ie)break t}oe=te,te=0;break n}break e}for(;te<oe;){const se=te+oe>>>1;_<K[se]?oe=se:te=se+1}if(ne=K[te],ie=K[te-1],ie===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(ne===void 0)return te=K.length,this._cachedIndex=te,this.copySampleValue_(te-1)}this._cachedIndex=te,this.intervalChanged_(te,ie,ne)}return this.interpolate_(te,ie,_,ne)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(_){const K=this.resultBuffer,te=this.sampleValues,ne=this.valueSize,ie=_*ne;for(let oe=0;oe!==ne;++oe)K[oe]=te[ie+oe];return K}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(_,K,te,ne){super(_,K,te,ne),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(_,K,te){const ne=this.parameterPositions;let ie=_-2,oe=_+1,se=ne[ie],le=ne[oe];if(se===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:ie=_,se=2*K-te;break;case WrapAroundEnding:ie=ne.length-2,se=K+ne[ie]-ne[ie+1];break;default:ie=_,se=te}if(le===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:oe=_,le=2*te-K;break;case WrapAroundEnding:oe=1,le=te+ne[1]-ne[0];break;default:oe=_-1,le=K}const ce=(te-K)*.5,fe=this.valueSize;this._weightPrev=ce/(K-se),this._weightNext=ce/(le-te),this._offsetPrev=ie*fe,this._offsetNext=oe*fe}interpolate_(_,K,te,ne){const ie=this.resultBuffer,oe=this.sampleValues,se=this.valueSize,le=_*se,ce=le-se,fe=this._offsetPrev,pe=this._offsetNext,me=this._weightPrev,ve=this._weightNext,ye=(te-K)/(ne-K),Ee=ye*ye,Se=Ee*ye,_e=-me*Se+2*me*Ee-me*ye,Te=(1+me)*Se+(-1.5-2*me)*Ee+(-.5+me)*ye+1,Re=(-1-ve)*Se+(1.5+ve)*Ee+.5*ye,Pe=ve*Se-ve*Ee;for(let Fe=0;Fe!==se;++Fe)ie[Fe]=_e*oe[fe+Fe]+Te*oe[ce+Fe]+Re*oe[le+Fe]+Pe*oe[pe+Fe];return ie}}class LinearInterpolant extends Interpolant{constructor(_,K,te,ne){super(_,K,te,ne)}interpolate_(_,K,te,ne){const ie=this.resultBuffer,oe=this.sampleValues,se=this.valueSize,le=_*se,ce=le-se,fe=(te-K)/(ne-K),pe=1-fe;for(let me=0;me!==se;++me)ie[me]=oe[ce+me]*pe+oe[le+me]*fe;return ie}}class DiscreteInterpolant extends Interpolant{constructor(_,K,te,ne){super(_,K,te,ne)}interpolate_(_){return this.copySampleValue_(_-1)}}class KeyframeTrack{constructor(_,K,te,ne){if(_===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(K===void 0||K.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+_);this.name=_,this.times=convertArray(K,this.TimeBufferType),this.values=convertArray(te,this.ValueBufferType),this.setInterpolation(ne||this.DefaultInterpolation)}static toJSON(_){const K=_.constructor;let te;if(K.toJSON!==this.toJSON)te=K.toJSON(_);else{te={name:_.name,times:convertArray(_.times,Array),values:convertArray(_.values,Array)};const ne=_.getInterpolation();ne!==_.DefaultInterpolation&&(te.interpolation=ne)}return te.type=_.ValueTypeName,te}InterpolantFactoryMethodDiscrete(_){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),_)}InterpolantFactoryMethodLinear(_){return new LinearInterpolant(this.times,this.values,this.getValueSize(),_)}InterpolantFactoryMethodSmooth(_){return new CubicInterpolant(this.times,this.values,this.getValueSize(),_)}setInterpolation(_){let K;switch(_){case InterpolateDiscrete:K=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:K=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:K=this.InterpolantFactoryMethodSmooth;break}if(K===void 0){const te="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(_!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(te);return console.warn("THREE.KeyframeTrack:",te),this}return this.createInterpolant=K,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(_){if(_!==0){const K=this.times;for(let te=0,ne=K.length;te!==ne;++te)K[te]+=_}return this}scale(_){if(_!==1){const K=this.times;for(let te=0,ne=K.length;te!==ne;++te)K[te]*=_}return this}trim(_,K){const te=this.times,ne=te.length;let ie=0,oe=ne-1;for(;ie!==ne&&te[ie]<_;)++ie;for(;oe!==-1&&te[oe]>K;)--oe;if(++oe,ie!==0||oe!==ne){ie>=oe&&(oe=Math.max(oe,1),ie=oe-1);const se=this.getValueSize();this.times=te.slice(ie,oe),this.values=this.values.slice(ie*se,oe*se)}return this}validate(){let _=!0;const K=this.getValueSize();K-Math.floor(K)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),_=!1);const te=this.times,ne=this.values,ie=te.length;ie===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),_=!1);let oe=null;for(let se=0;se!==ie;se++){const le=te[se];if(typeof le=="number"&&isNaN(le)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,se,le),_=!1;break}if(oe!==null&&oe>le){console.error("THREE.KeyframeTrack: Out of order keys.",this,se,le,oe),_=!1;break}oe=le}if(ne!==void 0&&isTypedArray(ne))for(let se=0,le=ne.length;se!==le;++se){const ce=ne[se];if(isNaN(ce)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,se,ce),_=!1;break}}return _}optimize(){const _=this.times.slice(),K=this.values.slice(),te=this.getValueSize(),ne=this.getInterpolation()===InterpolateSmooth,ie=_.length-1;let oe=1;for(let se=1;se<ie;++se){let le=!1;const ce=_[se],fe=_[se+1];if(ce!==fe&&(se!==1||ce!==_[0]))if(ne)le=!0;else{const pe=se*te,me=pe-te,ve=pe+te;for(let ye=0;ye!==te;++ye){const Ee=K[pe+ye];if(Ee!==K[me+ye]||Ee!==K[ve+ye]){le=!0;break}}}if(le){if(se!==oe){_[oe]=_[se];const pe=se*te,me=oe*te;for(let ve=0;ve!==te;++ve)K[me+ve]=K[pe+ve]}++oe}}if(ie>0){_[oe]=_[ie];for(let se=ie*te,le=oe*te,ce=0;ce!==te;++ce)K[le+ce]=K[se+ce];++oe}return oe!==_.length?(this.times=_.slice(0,oe),this.values=K.slice(0,oe*te)):(this.times=_,this.values=K),this}clone(){const _=this.times.slice(),K=this.values.slice(),te=this.constructor,ne=new te(this.name,_,K);return ne.createInterpolant=this.createInterpolant,ne}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(_,K,te){super(_,K,te)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(_,K,te,ne){super(_,K,te,ne)}interpolate_(_,K,te,ne){const ie=this.resultBuffer,oe=this.sampleValues,se=this.valueSize,le=(te-K)/(ne-K);let ce=_*se;for(let fe=ce+se;ce!==fe;ce+=4)Quaternion.slerpFlat(ie,0,oe,ce-se,oe,ce,le);return ie}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(_){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),_)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(_,K,te){super(_,K,te)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(_="",K=-1,te=[],ne=NormalAnimationBlendMode){this.name=_,this.tracks=te,this.duration=K,this.blendMode=ne,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(_){const K=[],te=_.tracks,ne=1/(_.fps||1);for(let oe=0,se=te.length;oe!==se;++oe)K.push(parseKeyframeTrack(te[oe]).scale(ne));const ie=new this(_.name,_.duration,K,_.blendMode);return ie.uuid=_.uuid,ie}static toJSON(_){const K=[],te=_.tracks,ne={name:_.name,duration:_.duration,tracks:K,uuid:_.uuid,blendMode:_.blendMode};for(let ie=0,oe=te.length;ie!==oe;++ie)K.push(KeyframeTrack.toJSON(te[ie]));return ne}static CreateFromMorphTargetSequence(_,K,te,ne){const ie=K.length,oe=[];for(let se=0;se<ie;se++){let le=[],ce=[];le.push((se+ie-1)%ie,se,(se+1)%ie),ce.push(0,1,0);const fe=getKeyframeOrder(le);le=sortedArray(le,1,fe),ce=sortedArray(ce,1,fe),!ne&&le[0]===0&&(le.push(ie),ce.push(ce[0])),oe.push(new NumberKeyframeTrack(".morphTargetInfluences["+K[se].name+"]",le,ce).scale(1/te))}return new this(_,-1,oe)}static findByName(_,K){let te=_;if(!Array.isArray(_)){const ne=_;te=ne.geometry&&ne.geometry.animations||ne.animations}for(let ne=0;ne<te.length;ne++)if(te[ne].name===K)return te[ne];return null}static CreateClipsFromMorphTargetSequences(_,K,te){const ne={},ie=/^([\w-]*?)([\d]+)$/;for(let se=0,le=_.length;se<le;se++){const ce=_[se],fe=ce.name.match(ie);if(fe&&fe.length>1){const pe=fe[1];let me=ne[pe];me||(ne[pe]=me=[]),me.push(ce)}}const oe=[];for(const se in ne)oe.push(this.CreateFromMorphTargetSequence(se,ne[se],K,te));return oe}static parseAnimation(_,K){if(!_)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const te=function(pe,me,ve,ye,Ee){if(ve.length!==0){const Se=[],_e=[];flattenJSON(ve,Se,_e,ye),Se.length!==0&&Ee.push(new pe(me,Se,_e))}},ne=[],ie=_.name||"default",oe=_.fps||30,se=_.blendMode;let le=_.length||-1;const ce=_.hierarchy||[];for(let pe=0;pe<ce.length;pe++){const me=ce[pe].keys;if(!(!me||me.length===0))if(me[0].morphTargets){const ve={};let ye;for(ye=0;ye<me.length;ye++)if(me[ye].morphTargets)for(let Ee=0;Ee<me[ye].morphTargets.length;Ee++)ve[me[ye].morphTargets[Ee]]=-1;for(const Ee in ve){const Se=[],_e=[];for(let Te=0;Te!==me[ye].morphTargets.length;++Te){const Re=me[ye];Se.push(Re.time),_e.push(Re.morphTarget===Ee?1:0)}ne.push(new NumberKeyframeTrack(".morphTargetInfluence["+Ee+"]",Se,_e))}le=ve.length*oe}else{const ve=".bones["+K[pe].name+"]";te(VectorKeyframeTrack,ve+".position",me,"pos",ne),te(QuaternionKeyframeTrack,ve+".quaternion",me,"rot",ne),te(VectorKeyframeTrack,ve+".scale",me,"scl",ne)}}return ne.length===0?null:new this(ie,le,ne,se)}resetDuration(){const _=this.tracks;let K=0;for(let te=0,ne=_.length;te!==ne;++te){const ie=this.tracks[te];K=Math.max(K,ie.times[ie.times.length-1])}return this.duration=K,this}trim(){for(let _=0;_<this.tracks.length;_++)this.tracks[_].trim(0,this.duration);return this}validate(){let _=!0;for(let K=0;K<this.tracks.length;K++)_=_&&this.tracks[K].validate();return _}optimize(){for(let _=0;_<this.tracks.length;_++)this.tracks[_].optimize();return this}clone(){const _=[];for(let K=0;K<this.tracks.length;K++)_.push(this.tracks[K].clone());return new this.constructor(this.name,this.duration,_,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(Z){switch(Z.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+Z)}function parseKeyframeTrack(Z){if(Z.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const _=getTrackTypeForValueTypeName(Z.type);if(Z.times===void 0){const K=[],te=[];flattenJSON(Z.keys,K,te,"value"),Z.times=K,Z.values=te}return _.parse!==void 0?_.parse(Z):new _(Z.name,Z.times,Z.values,Z.interpolation)}const Cache={enabled:!1,files:{},add:function(Z,_){this.enabled!==!1&&(this.files[Z]=_)},get:function(Z){if(this.enabled!==!1)return this.files[Z]},remove:function(Z){delete this.files[Z]},clear:function(){this.files={}}};class LoadingManager{constructor(_,K,te){const ne=this;let ie=!1,oe=0,se=0,le;const ce=[];this.onStart=void 0,this.onLoad=_,this.onProgress=K,this.onError=te,this.itemStart=function(fe){se++,ie===!1&&ne.onStart!==void 0&&ne.onStart(fe,oe,se),ie=!0},this.itemEnd=function(fe){oe++,ne.onProgress!==void 0&&ne.onProgress(fe,oe,se),oe===se&&(ie=!1,ne.onLoad!==void 0&&ne.onLoad())},this.itemError=function(fe){ne.onError!==void 0&&ne.onError(fe)},this.resolveURL=function(fe){return le?le(fe):fe},this.setURLModifier=function(fe){return le=fe,this},this.addHandler=function(fe,pe){return ce.push(fe,pe),this},this.removeHandler=function(fe){const pe=ce.indexOf(fe);return pe!==-1&&ce.splice(pe,2),this},this.getHandler=function(fe){for(let pe=0,me=ce.length;pe<me;pe+=2){const ve=ce[pe],ye=ce[pe+1];if(ve.global&&(ve.lastIndex=0),ve.test(fe))return ye}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(_){this.manager=_!==void 0?_:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(_,K){const te=this;return new Promise(function(ne,ie){te.load(_,ne,K,ie)})}parse(){}setCrossOrigin(_){return this.crossOrigin=_,this}setWithCredentials(_){return this.withCredentials=_,this}setPath(_){return this.path=_,this}setResourcePath(_){return this.resourcePath=_,this}setRequestHeader(_){return this.requestHeader=_,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(_,K){super(_),this.response=K}}class FileLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){_===void 0&&(_=""),this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const ie=Cache.get(_);if(ie!==void 0)return this.manager.itemStart(_),setTimeout(()=>{K&&K(ie),this.manager.itemEnd(_)},0),ie;if(loading[_]!==void 0){loading[_].push({onLoad:K,onProgress:te,onError:ne});return}loading[_]=[],loading[_].push({onLoad:K,onProgress:te,onError:ne});const oe=new Request(_,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),se=this.mimeType,le=this.responseType;fetch(oe).then(ce=>{if(ce.status===200||ce.status===0){if(ce.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||ce.body===void 0||ce.body.getReader===void 0)return ce;const fe=loading[_],pe=ce.body.getReader(),me=ce.headers.get("X-File-Size")||ce.headers.get("Content-Length"),ve=me?parseInt(me):0,ye=ve!==0;let Ee=0;const Se=new ReadableStream({start(_e){Te();function Te(){pe.read().then(({done:Re,value:Pe})=>{if(Re)_e.close();else{Ee+=Pe.byteLength;const Fe=new ProgressEvent("progress",{lengthComputable:ye,loaded:Ee,total:ve});for(let $e=0,ke=fe.length;$e<ke;$e++){const ze=fe[$e];ze.onProgress&&ze.onProgress(Fe)}_e.enqueue(Pe),Te()}},Re=>{_e.error(Re)})}}});return new Response(Se)}else throw new HttpError(`fetch for "${ce.url}" responded with ${ce.status}: ${ce.statusText}`,ce)}).then(ce=>{switch(le){case"arraybuffer":return ce.arrayBuffer();case"blob":return ce.blob();case"document":return ce.text().then(fe=>new DOMParser().parseFromString(fe,se));case"json":return ce.json();default:if(se===void 0)return ce.text();{const pe=/charset="?([^;"\s]*)"?/i.exec(se),me=pe&&pe[1]?pe[1].toLowerCase():void 0,ve=new TextDecoder(me);return ce.arrayBuffer().then(ye=>ve.decode(ye))}}}).then(ce=>{Cache.add(_,ce);const fe=loading[_];delete loading[_];for(let pe=0,me=fe.length;pe<me;pe++){const ve=fe[pe];ve.onLoad&&ve.onLoad(ce)}}).catch(ce=>{const fe=loading[_];if(fe===void 0)throw this.manager.itemError(_),ce;delete loading[_];for(let pe=0,me=fe.length;pe<me;pe++){const ve=fe[pe];ve.onError&&ve.onError(ce)}this.manager.itemError(_)}).finally(()=>{this.manager.itemEnd(_)}),this.manager.itemStart(_)}setResponseType(_){return this.responseType=_,this}setMimeType(_){return this.mimeType=_,this}}class AnimationLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=new FileLoader(this.manager);oe.setPath(this.path),oe.setRequestHeader(this.requestHeader),oe.setWithCredentials(this.withCredentials),oe.load(_,function(se){try{K(ie.parse(JSON.parse(se)))}catch(le){ne?ne(le):console.error(le),ie.manager.itemError(_)}},te,ne)}parse(_){const K=[];for(let te=0;te<_.length;te++){const ne=AnimationClip.parse(_[te]);K.push(ne)}return K}}class CompressedTextureLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=[],se=new CompressedTexture,le=new FileLoader(this.manager);le.setPath(this.path),le.setResponseType("arraybuffer"),le.setRequestHeader(this.requestHeader),le.setWithCredentials(ie.withCredentials);let ce=0;function fe(pe){le.load(_[pe],function(me){const ve=ie.parse(me,!0);oe[pe]={width:ve.width,height:ve.height,format:ve.format,mipmaps:ve.mipmaps},ce+=1,ce===6&&(ve.mipmapCount===1&&(se.minFilter=LinearFilter),se.image=oe,se.format=ve.format,se.needsUpdate=!0,K&&K(se))},te,ne)}if(Array.isArray(_))for(let pe=0,me=_.length;pe<me;++pe)fe(pe);else le.load(_,function(pe){const me=ie.parse(pe,!0);if(me.isCubemap){const ve=me.mipmaps.length/me.mipmapCount;for(let ye=0;ye<ve;ye++){oe[ye]={mipmaps:[]};for(let Ee=0;Ee<me.mipmapCount;Ee++)oe[ye].mipmaps.push(me.mipmaps[ye*me.mipmapCount+Ee]),oe[ye].format=me.format,oe[ye].width=me.width,oe[ye].height=me.height}se.image=oe}else se.image.width=me.width,se.image.height=me.height,se.mipmaps=me.mipmaps;me.mipmapCount===1&&(se.minFilter=LinearFilter),se.format=me.format,se.needsUpdate=!0,K&&K(se)},te,ne);return se}}class ImageLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const ie=this,oe=Cache.get(_);if(oe!==void 0)return ie.manager.itemStart(_),setTimeout(function(){K&&K(oe),ie.manager.itemEnd(_)},0),oe;const se=createElementNS("img");function le(){fe(),Cache.add(_,this),K&&K(this),ie.manager.itemEnd(_)}function ce(pe){fe(),ne&&ne(pe),ie.manager.itemError(_),ie.manager.itemEnd(_)}function fe(){se.removeEventListener("load",le,!1),se.removeEventListener("error",ce,!1)}return se.addEventListener("load",le,!1),se.addEventListener("error",ce,!1),_.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(se.crossOrigin=this.crossOrigin),ie.manager.itemStart(_),se.src=_,se}}class CubeTextureLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=new CubeTexture;ie.colorSpace=SRGBColorSpace;const oe=new ImageLoader(this.manager);oe.setCrossOrigin(this.crossOrigin),oe.setPath(this.path);let se=0;function le(ce){oe.load(_[ce],function(fe){ie.images[ce]=fe,se++,se===6&&(ie.needsUpdate=!0,K&&K(ie))},void 0,ne)}for(let ce=0;ce<_.length;++ce)le(ce);return ie}}class DataTextureLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=new DataTexture,se=new FileLoader(this.manager);return se.setResponseType("arraybuffer"),se.setRequestHeader(this.requestHeader),se.setPath(this.path),se.setWithCredentials(ie.withCredentials),se.load(_,function(le){let ce;try{ce=ie.parse(le)}catch(fe){if(ne!==void 0)ne(fe);else{console.error(fe);return}}ce.image!==void 0?oe.image=ce.image:ce.data!==void 0&&(oe.image.width=ce.width,oe.image.height=ce.height,oe.image.data=ce.data),oe.wrapS=ce.wrapS!==void 0?ce.wrapS:ClampToEdgeWrapping,oe.wrapT=ce.wrapT!==void 0?ce.wrapT:ClampToEdgeWrapping,oe.magFilter=ce.magFilter!==void 0?ce.magFilter:LinearFilter,oe.minFilter=ce.minFilter!==void 0?ce.minFilter:LinearFilter,oe.anisotropy=ce.anisotropy!==void 0?ce.anisotropy:1,ce.colorSpace!==void 0&&(oe.colorSpace=ce.colorSpace),ce.flipY!==void 0&&(oe.flipY=ce.flipY),ce.format!==void 0&&(oe.format=ce.format),ce.type!==void 0&&(oe.type=ce.type),ce.mipmaps!==void 0&&(oe.mipmaps=ce.mipmaps,oe.minFilter=LinearMipmapLinearFilter),ce.mipmapCount===1&&(oe.minFilter=LinearFilter),ce.generateMipmaps!==void 0&&(oe.generateMipmaps=ce.generateMipmaps),oe.needsUpdate=!0,K&&K(oe,ce)},te,ne),oe}}class TextureLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=new Texture,oe=new ImageLoader(this.manager);return oe.setCrossOrigin(this.crossOrigin),oe.setPath(this.path),oe.load(_,function(se){ie.image=se,ie.needsUpdate=!0,K!==void 0&&K(ie)},te,ne),ie}}class Light extends Object3D{constructor(_,K=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$1(_),this.intensity=K}dispose(){}copy(_,K){return super.copy(_,K),this.color.copy(_.color),this.intensity=_.intensity,this}toJSON(_){const K=super.toJSON(_);return K.object.color=this.color.getHex(),K.object.intensity=this.intensity,this.groundColor!==void 0&&(K.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(K.object.distance=this.distance),this.angle!==void 0&&(K.object.angle=this.angle),this.decay!==void 0&&(K.object.decay=this.decay),this.penumbra!==void 0&&(K.object.penumbra=this.penumbra),this.shadow!==void 0&&(K.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(K.object.target=this.target.uuid),K}}class HemisphereLight extends Light{constructor(_,K,te){super(_,te),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color$1(K)}copy(_,K){return super.copy(_,K),this.groundColor.copy(_.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(_){this.camera=_,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(_){const K=this.camera,te=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(_.matrixWorld),K.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(_.target.matrixWorld),K.lookAt(_lookTarget$1),K.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),te.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),te.multiply(_projScreenMatrix$1)}getViewport(_){return this._viewports[_]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(_){return this.camera=_.camera.clone(),this.intensity=_.intensity,this.bias=_.bias,this.radius=_.radius,this.mapSize.copy(_.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const _={};return this.intensity!==1&&(_.intensity=this.intensity),this.bias!==0&&(_.bias=this.bias),this.normalBias!==0&&(_.normalBias=this.normalBias),this.radius!==1&&(_.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(_.mapSize=this.mapSize.toArray()),_.camera=this.camera.toJSON(!1).object,delete _.camera.matrix,_}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(_){const K=this.camera,te=RAD2DEG*2*_.angle*this.focus,ne=this.mapSize.width/this.mapSize.height,ie=_.distance||K.far;(te!==K.fov||ne!==K.aspect||ie!==K.far)&&(K.fov=te,K.aspect=ne,K.far=ie,K.updateProjectionMatrix()),super.updateMatrices(_)}copy(_){return super.copy(_),this.focus=_.focus,this}}class SpotLight extends Light{constructor(_,K,te=0,ne=Math.PI/3,ie=0,oe=2){super(_,K),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=te,this.angle=ne,this.penumbra=ie,this.decay=oe,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(_){this.intensity=_/Math.PI}dispose(){this.shadow.dispose()}copy(_,K){return super.copy(_,K),this.distance=_.distance,this.angle=_.angle,this.penumbra=_.penumbra,this.decay=_.decay,this.target=_.target.clone(),this.shadow=_.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(_,K=0){const te=this.camera,ne=this.matrix,ie=_.distance||te.far;ie!==te.far&&(te.far=ie,te.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(_.matrixWorld),te.position.copy(_lightPositionWorld),_lookTarget.copy(te.position),_lookTarget.add(this._cubeDirections[K]),te.up.copy(this._cubeUps[K]),te.lookAt(_lookTarget),te.updateMatrixWorld(),ne.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(_,K,te=0,ne=2){super(_,K),this.isPointLight=!0,this.type="PointLight",this.distance=te,this.decay=ne,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(_){this.intensity=_/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(_,K){return super.copy(_,K),this.distance=_.distance,this.decay=_.decay,this.shadow=_.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor(_=-1,K=1,te=1,ne=-1,ie=.1,oe=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=_,this.right=K,this.top=te,this.bottom=ne,this.near=ie,this.far=oe,this.updateProjectionMatrix()}copy(_,K){return super.copy(_,K),this.left=_.left,this.right=_.right,this.top=_.top,this.bottom=_.bottom,this.near=_.near,this.far=_.far,this.zoom=_.zoom,this.view=_.view===null?null:Object.assign({},_.view),this}setViewOffset(_,K,te,ne,ie,oe){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=K,this.view.offsetX=te,this.view.offsetY=ne,this.view.width=ie,this.view.height=oe,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _=(this.right-this.left)/(2*this.zoom),K=(this.top-this.bottom)/(2*this.zoom),te=(this.right+this.left)/2,ne=(this.top+this.bottom)/2;let ie=te-_,oe=te+_,se=ne+K,le=ne-K;if(this.view!==null&&this.view.enabled){const ce=(this.right-this.left)/this.view.fullWidth/this.zoom,fe=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ie+=ce*this.view.offsetX,oe=ie+ce*this.view.width,se-=fe*this.view.offsetY,le=se-fe*this.view.height}this.projectionMatrix.makeOrthographic(ie,oe,se,le,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_){const K=super.toJSON(_);return K.object.zoom=this.zoom,K.object.left=this.left,K.object.right=this.right,K.object.top=this.top,K.object.bottom=this.bottom,K.object.near=this.near,K.object.far=this.far,this.view!==null&&(K.object.view=Object.assign({},this.view)),K}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(_,K){super(_,K),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(_){return super.copy(_),this.target=_.target.clone(),this.shadow=_.shadow.clone(),this}}class AmbientLight extends Light{constructor(_,K){super(_,K),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(_,K,te=10,ne=10){super(_,K),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=te,this.height=ne}get power(){return this.intensity*this.width*this.height*Math.PI}set power(_){this.intensity=_/(this.width*this.height*Math.PI)}copy(_){return super.copy(_),this.width=_.width,this.height=_.height,this}toJSON(_){const K=super.toJSON(_);return K.object.width=this.width,K.object.height=this.height,K}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let _=0;_<9;_++)this.coefficients.push(new Vector3)}set(_){for(let K=0;K<9;K++)this.coefficients[K].copy(_[K]);return this}zero(){for(let _=0;_<9;_++)this.coefficients[_].set(0,0,0);return this}getAt(_,K){const te=_.x,ne=_.y,ie=_.z,oe=this.coefficients;return K.copy(oe[0]).multiplyScalar(.282095),K.addScaledVector(oe[1],.488603*ne),K.addScaledVector(oe[2],.488603*ie),K.addScaledVector(oe[3],.488603*te),K.addScaledVector(oe[4],1.092548*(te*ne)),K.addScaledVector(oe[5],1.092548*(ne*ie)),K.addScaledVector(oe[6],.315392*(3*ie*ie-1)),K.addScaledVector(oe[7],1.092548*(te*ie)),K.addScaledVector(oe[8],.546274*(te*te-ne*ne)),K}getIrradianceAt(_,K){const te=_.x,ne=_.y,ie=_.z,oe=this.coefficients;return K.copy(oe[0]).multiplyScalar(.886227),K.addScaledVector(oe[1],2*.511664*ne),K.addScaledVector(oe[2],2*.511664*ie),K.addScaledVector(oe[3],2*.511664*te),K.addScaledVector(oe[4],2*.429043*te*ne),K.addScaledVector(oe[5],2*.429043*ne*ie),K.addScaledVector(oe[6],.743125*ie*ie-.247708),K.addScaledVector(oe[7],2*.429043*te*ie),K.addScaledVector(oe[8],.429043*(te*te-ne*ne)),K}add(_){for(let K=0;K<9;K++)this.coefficients[K].add(_.coefficients[K]);return this}addScaledSH(_,K){for(let te=0;te<9;te++)this.coefficients[te].addScaledVector(_.coefficients[te],K);return this}scale(_){for(let K=0;K<9;K++)this.coefficients[K].multiplyScalar(_);return this}lerp(_,K){for(let te=0;te<9;te++)this.coefficients[te].lerp(_.coefficients[te],K);return this}equals(_){for(let K=0;K<9;K++)if(!this.coefficients[K].equals(_.coefficients[K]))return!1;return!0}copy(_){return this.set(_.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(_,K=0){const te=this.coefficients;for(let ne=0;ne<9;ne++)te[ne].fromArray(_,K+ne*3);return this}toArray(_=[],K=0){const te=this.coefficients;for(let ne=0;ne<9;ne++)te[ne].toArray(_,K+ne*3);return _}static getBasisAt(_,K){const te=_.x,ne=_.y,ie=_.z;K[0]=.282095,K[1]=.488603*ne,K[2]=.488603*ie,K[3]=.488603*te,K[4]=1.092548*te*ne,K[5]=1.092548*ne*ie,K[6]=.315392*(3*ie*ie-1),K[7]=1.092548*te*ie,K[8]=.546274*(te*te-ne*ne)}}class LightProbe extends Light{constructor(_=new SphericalHarmonics3,K=1){super(void 0,K),this.isLightProbe=!0,this.sh=_}copy(_){return super.copy(_),this.sh.copy(_.sh),this}fromJSON(_){return this.intensity=_.intensity,this.sh.fromArray(_.sh),this}toJSON(_){const K=super.toJSON(_);return K.object.sh=this.sh.toArray(),K}}class MaterialLoader extends Loader{constructor(_){super(_),this.textures={}}load(_,K,te,ne){const ie=this,oe=new FileLoader(ie.manager);oe.setPath(ie.path),oe.setRequestHeader(ie.requestHeader),oe.setWithCredentials(ie.withCredentials),oe.load(_,function(se){try{K(ie.parse(JSON.parse(se)))}catch(le){ne?ne(le):console.error(le),ie.manager.itemError(_)}},te,ne)}parse(_){const K=this.textures;function te(ie){return K[ie]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",ie),K[ie]}const ne=this.createMaterialFromType(_.type);if(_.uuid!==void 0&&(ne.uuid=_.uuid),_.name!==void 0&&(ne.name=_.name),_.color!==void 0&&ne.color!==void 0&&ne.color.setHex(_.color),_.roughness!==void 0&&(ne.roughness=_.roughness),_.metalness!==void 0&&(ne.metalness=_.metalness),_.sheen!==void 0&&(ne.sheen=_.sheen),_.sheenColor!==void 0&&(ne.sheenColor=new Color$1().setHex(_.sheenColor)),_.sheenRoughness!==void 0&&(ne.sheenRoughness=_.sheenRoughness),_.emissive!==void 0&&ne.emissive!==void 0&&ne.emissive.setHex(_.emissive),_.specular!==void 0&&ne.specular!==void 0&&ne.specular.setHex(_.specular),_.specularIntensity!==void 0&&(ne.specularIntensity=_.specularIntensity),_.specularColor!==void 0&&ne.specularColor!==void 0&&ne.specularColor.setHex(_.specularColor),_.shininess!==void 0&&(ne.shininess=_.shininess),_.clearcoat!==void 0&&(ne.clearcoat=_.clearcoat),_.clearcoatRoughness!==void 0&&(ne.clearcoatRoughness=_.clearcoatRoughness),_.dispersion!==void 0&&(ne.dispersion=_.dispersion),_.iridescence!==void 0&&(ne.iridescence=_.iridescence),_.iridescenceIOR!==void 0&&(ne.iridescenceIOR=_.iridescenceIOR),_.iridescenceThicknessRange!==void 0&&(ne.iridescenceThicknessRange=_.iridescenceThicknessRange),_.transmission!==void 0&&(ne.transmission=_.transmission),_.thickness!==void 0&&(ne.thickness=_.thickness),_.attenuationDistance!==void 0&&(ne.attenuationDistance=_.attenuationDistance),_.attenuationColor!==void 0&&ne.attenuationColor!==void 0&&ne.attenuationColor.setHex(_.attenuationColor),_.anisotropy!==void 0&&(ne.anisotropy=_.anisotropy),_.anisotropyRotation!==void 0&&(ne.anisotropyRotation=_.anisotropyRotation),_.fog!==void 0&&(ne.fog=_.fog),_.flatShading!==void 0&&(ne.flatShading=_.flatShading),_.blending!==void 0&&(ne.blending=_.blending),_.combine!==void 0&&(ne.combine=_.combine),_.side!==void 0&&(ne.side=_.side),_.shadowSide!==void 0&&(ne.shadowSide=_.shadowSide),_.opacity!==void 0&&(ne.opacity=_.opacity),_.transparent!==void 0&&(ne.transparent=_.transparent),_.alphaTest!==void 0&&(ne.alphaTest=_.alphaTest),_.alphaHash!==void 0&&(ne.alphaHash=_.alphaHash),_.depthFunc!==void 0&&(ne.depthFunc=_.depthFunc),_.depthTest!==void 0&&(ne.depthTest=_.depthTest),_.depthWrite!==void 0&&(ne.depthWrite=_.depthWrite),_.colorWrite!==void 0&&(ne.colorWrite=_.colorWrite),_.blendSrc!==void 0&&(ne.blendSrc=_.blendSrc),_.blendDst!==void 0&&(ne.blendDst=_.blendDst),_.blendEquation!==void 0&&(ne.blendEquation=_.blendEquation),_.blendSrcAlpha!==void 0&&(ne.blendSrcAlpha=_.blendSrcAlpha),_.blendDstAlpha!==void 0&&(ne.blendDstAlpha=_.blendDstAlpha),_.blendEquationAlpha!==void 0&&(ne.blendEquationAlpha=_.blendEquationAlpha),_.blendColor!==void 0&&ne.blendColor!==void 0&&ne.blendColor.setHex(_.blendColor),_.blendAlpha!==void 0&&(ne.blendAlpha=_.blendAlpha),_.stencilWriteMask!==void 0&&(ne.stencilWriteMask=_.stencilWriteMask),_.stencilFunc!==void 0&&(ne.stencilFunc=_.stencilFunc),_.stencilRef!==void 0&&(ne.stencilRef=_.stencilRef),_.stencilFuncMask!==void 0&&(ne.stencilFuncMask=_.stencilFuncMask),_.stencilFail!==void 0&&(ne.stencilFail=_.stencilFail),_.stencilZFail!==void 0&&(ne.stencilZFail=_.stencilZFail),_.stencilZPass!==void 0&&(ne.stencilZPass=_.stencilZPass),_.stencilWrite!==void 0&&(ne.stencilWrite=_.stencilWrite),_.wireframe!==void 0&&(ne.wireframe=_.wireframe),_.wireframeLinewidth!==void 0&&(ne.wireframeLinewidth=_.wireframeLinewidth),_.wireframeLinecap!==void 0&&(ne.wireframeLinecap=_.wireframeLinecap),_.wireframeLinejoin!==void 0&&(ne.wireframeLinejoin=_.wireframeLinejoin),_.rotation!==void 0&&(ne.rotation=_.rotation),_.linewidth!==void 0&&(ne.linewidth=_.linewidth),_.dashSize!==void 0&&(ne.dashSize=_.dashSize),_.gapSize!==void 0&&(ne.gapSize=_.gapSize),_.scale!==void 0&&(ne.scale=_.scale),_.polygonOffset!==void 0&&(ne.polygonOffset=_.polygonOffset),_.polygonOffsetFactor!==void 0&&(ne.polygonOffsetFactor=_.polygonOffsetFactor),_.polygonOffsetUnits!==void 0&&(ne.polygonOffsetUnits=_.polygonOffsetUnits),_.dithering!==void 0&&(ne.dithering=_.dithering),_.alphaToCoverage!==void 0&&(ne.alphaToCoverage=_.alphaToCoverage),_.premultipliedAlpha!==void 0&&(ne.premultipliedAlpha=_.premultipliedAlpha),_.forceSinglePass!==void 0&&(ne.forceSinglePass=_.forceSinglePass),_.visible!==void 0&&(ne.visible=_.visible),_.toneMapped!==void 0&&(ne.toneMapped=_.toneMapped),_.userData!==void 0&&(ne.userData=_.userData),_.vertexColors!==void 0&&(typeof _.vertexColors=="number"?ne.vertexColors=_.vertexColors>0:ne.vertexColors=_.vertexColors),_.uniforms!==void 0)for(const ie in _.uniforms){const oe=_.uniforms[ie];switch(ne.uniforms[ie]={},oe.type){case"t":ne.uniforms[ie].value=te(oe.value);break;case"c":ne.uniforms[ie].value=new Color$1().setHex(oe.value);break;case"v2":ne.uniforms[ie].value=new Vector2().fromArray(oe.value);break;case"v3":ne.uniforms[ie].value=new Vector3().fromArray(oe.value);break;case"v4":ne.uniforms[ie].value=new Vector4().fromArray(oe.value);break;case"m3":ne.uniforms[ie].value=new Matrix3().fromArray(oe.value);break;case"m4":ne.uniforms[ie].value=new Matrix4().fromArray(oe.value);break;default:ne.uniforms[ie].value=oe.value}}if(_.defines!==void 0&&(ne.defines=_.defines),_.vertexShader!==void 0&&(ne.vertexShader=_.vertexShader),_.fragmentShader!==void 0&&(ne.fragmentShader=_.fragmentShader),_.glslVersion!==void 0&&(ne.glslVersion=_.glslVersion),_.extensions!==void 0)for(const ie in _.extensions)ne.extensions[ie]=_.extensions[ie];if(_.lights!==void 0&&(ne.lights=_.lights),_.clipping!==void 0&&(ne.clipping=_.clipping),_.size!==void 0&&(ne.size=_.size),_.sizeAttenuation!==void 0&&(ne.sizeAttenuation=_.sizeAttenuation),_.map!==void 0&&(ne.map=te(_.map)),_.matcap!==void 0&&(ne.matcap=te(_.matcap)),_.alphaMap!==void 0&&(ne.alphaMap=te(_.alphaMap)),_.bumpMap!==void 0&&(ne.bumpMap=te(_.bumpMap)),_.bumpScale!==void 0&&(ne.bumpScale=_.bumpScale),_.normalMap!==void 0&&(ne.normalMap=te(_.normalMap)),_.normalMapType!==void 0&&(ne.normalMapType=_.normalMapType),_.normalScale!==void 0){let ie=_.normalScale;Array.isArray(ie)===!1&&(ie=[ie,ie]),ne.normalScale=new Vector2().fromArray(ie)}return _.displacementMap!==void 0&&(ne.displacementMap=te(_.displacementMap)),_.displacementScale!==void 0&&(ne.displacementScale=_.displacementScale),_.displacementBias!==void 0&&(ne.displacementBias=_.displacementBias),_.roughnessMap!==void 0&&(ne.roughnessMap=te(_.roughnessMap)),_.metalnessMap!==void 0&&(ne.metalnessMap=te(_.metalnessMap)),_.emissiveMap!==void 0&&(ne.emissiveMap=te(_.emissiveMap)),_.emissiveIntensity!==void 0&&(ne.emissiveIntensity=_.emissiveIntensity),_.specularMap!==void 0&&(ne.specularMap=te(_.specularMap)),_.specularIntensityMap!==void 0&&(ne.specularIntensityMap=te(_.specularIntensityMap)),_.specularColorMap!==void 0&&(ne.specularColorMap=te(_.specularColorMap)),_.envMap!==void 0&&(ne.envMap=te(_.envMap)),_.envMapRotation!==void 0&&ne.envMapRotation.fromArray(_.envMapRotation),_.envMapIntensity!==void 0&&(ne.envMapIntensity=_.envMapIntensity),_.reflectivity!==void 0&&(ne.reflectivity=_.reflectivity),_.refractionRatio!==void 0&&(ne.refractionRatio=_.refractionRatio),_.lightMap!==void 0&&(ne.lightMap=te(_.lightMap)),_.lightMapIntensity!==void 0&&(ne.lightMapIntensity=_.lightMapIntensity),_.aoMap!==void 0&&(ne.aoMap=te(_.aoMap)),_.aoMapIntensity!==void 0&&(ne.aoMapIntensity=_.aoMapIntensity),_.gradientMap!==void 0&&(ne.gradientMap=te(_.gradientMap)),_.clearcoatMap!==void 0&&(ne.clearcoatMap=te(_.clearcoatMap)),_.clearcoatRoughnessMap!==void 0&&(ne.clearcoatRoughnessMap=te(_.clearcoatRoughnessMap)),_.clearcoatNormalMap!==void 0&&(ne.clearcoatNormalMap=te(_.clearcoatNormalMap)),_.clearcoatNormalScale!==void 0&&(ne.clearcoatNormalScale=new Vector2().fromArray(_.clearcoatNormalScale)),_.iridescenceMap!==void 0&&(ne.iridescenceMap=te(_.iridescenceMap)),_.iridescenceThicknessMap!==void 0&&(ne.iridescenceThicknessMap=te(_.iridescenceThicknessMap)),_.transmissionMap!==void 0&&(ne.transmissionMap=te(_.transmissionMap)),_.thicknessMap!==void 0&&(ne.thicknessMap=te(_.thicknessMap)),_.anisotropyMap!==void 0&&(ne.anisotropyMap=te(_.anisotropyMap)),_.sheenColorMap!==void 0&&(ne.sheenColorMap=te(_.sheenColorMap)),_.sheenRoughnessMap!==void 0&&(ne.sheenRoughnessMap=te(_.sheenRoughnessMap)),ne}setTextures(_){return this.textures=_,this}createMaterialFromType(_){return MaterialLoader.createMaterialFromType(_)}static createMaterialFromType(_){const K={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new K[_]}}class LoaderUtils{static decodeText(_){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(_);let K="";for(let te=0,ne=_.length;te<ne;te++)K+=String.fromCharCode(_[te]);try{return decodeURIComponent(escape(K))}catch{return K}}static extractUrlBase(_){const K=_.lastIndexOf("/");return K===-1?"./":_.slice(0,K+1)}static resolveURL(_,K){return typeof _!="string"||_===""?"":(/^https?:\/\//i.test(K)&&/^\//.test(_)&&(K=K.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(_)||/^data:.*,.*$/i.test(_)||/^blob:.*$/i.test(_)?_:K+_)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(_){return super.copy(_),this.instanceCount=_.instanceCount,this}toJSON(){const _=super.toJSON();return _.instanceCount=this.instanceCount,_.isInstancedBufferGeometry=!0,_}}class BufferGeometryLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=new FileLoader(ie.manager);oe.setPath(ie.path),oe.setRequestHeader(ie.requestHeader),oe.setWithCredentials(ie.withCredentials),oe.load(_,function(se){try{K(ie.parse(JSON.parse(se)))}catch(le){ne?ne(le):console.error(le),ie.manager.itemError(_)}},te,ne)}parse(_){const K={},te={};function ne(ve,ye){if(K[ye]!==void 0)return K[ye];const Se=ve.interleavedBuffers[ye],_e=ie(ve,Se.buffer),Te=getTypedArray(Se.type,_e),Re=new InterleavedBuffer(Te,Se.stride);return Re.uuid=Se.uuid,K[ye]=Re,Re}function ie(ve,ye){if(te[ye]!==void 0)return te[ye];const Se=ve.arrayBuffers[ye],_e=new Uint32Array(Se).buffer;return te[ye]=_e,_e}const oe=_.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,se=_.data.index;if(se!==void 0){const ve=getTypedArray(se.type,se.array);oe.setIndex(new BufferAttribute(ve,1))}const le=_.data.attributes;for(const ve in le){const ye=le[ve];let Ee;if(ye.isInterleavedBufferAttribute){const Se=ne(_.data,ye.data);Ee=new InterleavedBufferAttribute(Se,ye.itemSize,ye.offset,ye.normalized)}else{const Se=getTypedArray(ye.type,ye.array),_e=ye.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;Ee=new _e(Se,ye.itemSize,ye.normalized)}ye.name!==void 0&&(Ee.name=ye.name),ye.usage!==void 0&&Ee.setUsage(ye.usage),oe.setAttribute(ve,Ee)}const ce=_.data.morphAttributes;if(ce)for(const ve in ce){const ye=ce[ve],Ee=[];for(let Se=0,_e=ye.length;Se<_e;Se++){const Te=ye[Se];let Re;if(Te.isInterleavedBufferAttribute){const Pe=ne(_.data,Te.data);Re=new InterleavedBufferAttribute(Pe,Te.itemSize,Te.offset,Te.normalized)}else{const Pe=getTypedArray(Te.type,Te.array);Re=new BufferAttribute(Pe,Te.itemSize,Te.normalized)}Te.name!==void 0&&(Re.name=Te.name),Ee.push(Re)}oe.morphAttributes[ve]=Ee}_.data.morphTargetsRelative&&(oe.morphTargetsRelative=!0);const pe=_.data.groups||_.data.drawcalls||_.data.offsets;if(pe!==void 0)for(let ve=0,ye=pe.length;ve!==ye;++ve){const Ee=pe[ve];oe.addGroup(Ee.start,Ee.count,Ee.materialIndex)}const me=_.data.boundingSphere;if(me!==void 0){const ve=new Vector3;me.center!==void 0&&ve.fromArray(me.center),oe.boundingSphere=new Sphere(ve,me.radius)}return _.name&&(oe.name=_.name),_.userData&&(oe.userData=_.userData),oe}}class ObjectLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=this.path===""?LoaderUtils.extractUrlBase(_):this.path;this.resourcePath=this.resourcePath||oe;const se=new FileLoader(this.manager);se.setPath(this.path),se.setRequestHeader(this.requestHeader),se.setWithCredentials(this.withCredentials),se.load(_,function(le){let ce=null;try{ce=JSON.parse(le)}catch(pe){ne!==void 0&&ne(pe),console.error("THREE:ObjectLoader: Can't parse "+_+".",pe.message);return}const fe=ce.metadata;if(fe===void 0||fe.type===void 0||fe.type.toLowerCase()==="geometry"){ne!==void 0&&ne(new Error("THREE.ObjectLoader: Can't load "+_)),console.error("THREE.ObjectLoader: Can't load "+_);return}ie.parse(ce,K)},te,ne)}async loadAsync(_,K){const te=this,ne=this.path===""?LoaderUtils.extractUrlBase(_):this.path;this.resourcePath=this.resourcePath||ne;const ie=new FileLoader(this.manager);ie.setPath(this.path),ie.setRequestHeader(this.requestHeader),ie.setWithCredentials(this.withCredentials);const oe=await ie.loadAsync(_,K),se=JSON.parse(oe),le=se.metadata;if(le===void 0||le.type===void 0||le.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+_);return await te.parseAsync(se)}parse(_,K){const te=this.parseAnimations(_.animations),ne=this.parseShapes(_.shapes),ie=this.parseGeometries(_.geometries,ne),oe=this.parseImages(_.images,function(){K!==void 0&&K(ce)}),se=this.parseTextures(_.textures,oe),le=this.parseMaterials(_.materials,se),ce=this.parseObject(_.object,ie,le,se,te),fe=this.parseSkeletons(_.skeletons,ce);if(this.bindSkeletons(ce,fe),this.bindLightTargets(ce),K!==void 0){let pe=!1;for(const me in oe)if(oe[me].data instanceof HTMLImageElement){pe=!0;break}pe===!1&&K(ce)}return ce}async parseAsync(_){const K=this.parseAnimations(_.animations),te=this.parseShapes(_.shapes),ne=this.parseGeometries(_.geometries,te),ie=await this.parseImagesAsync(_.images),oe=this.parseTextures(_.textures,ie),se=this.parseMaterials(_.materials,oe),le=this.parseObject(_.object,ne,se,oe,K),ce=this.parseSkeletons(_.skeletons,le);return this.bindSkeletons(le,ce),this.bindLightTargets(le),le}parseShapes(_){const K={};if(_!==void 0)for(let te=0,ne=_.length;te<ne;te++){const ie=new Shape().fromJSON(_[te]);K[ie.uuid]=ie}return K}parseSkeletons(_,K){const te={},ne={};if(K.traverse(function(ie){ie.isBone&&(ne[ie.uuid]=ie)}),_!==void 0)for(let ie=0,oe=_.length;ie<oe;ie++){const se=new Skeleton().fromJSON(_[ie],ne);te[se.uuid]=se}return te}parseGeometries(_,K){const te={};if(_!==void 0){const ne=new BufferGeometryLoader;for(let ie=0,oe=_.length;ie<oe;ie++){let se;const le=_[ie];switch(le.type){case"BufferGeometry":case"InstancedBufferGeometry":se=ne.parse(le);break;default:le.type in Geometries?se=Geometries[le.type].fromJSON(le,K):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${le.type}"`)}se.uuid=le.uuid,le.name!==void 0&&(se.name=le.name),le.userData!==void 0&&(se.userData=le.userData),te[le.uuid]=se}}return te}parseMaterials(_,K){const te={},ne={};if(_!==void 0){const ie=new MaterialLoader;ie.setTextures(K);for(let oe=0,se=_.length;oe<se;oe++){const le=_[oe];te[le.uuid]===void 0&&(te[le.uuid]=ie.parse(le)),ne[le.uuid]=te[le.uuid]}}return ne}parseAnimations(_){const K={};if(_!==void 0)for(let te=0;te<_.length;te++){const ne=_[te],ie=AnimationClip.parse(ne);K[ie.uuid]=ie}return K}parseImages(_,K){const te=this,ne={};let ie;function oe(le){return te.manager.itemStart(le),ie.load(le,function(){te.manager.itemEnd(le)},void 0,function(){te.manager.itemError(le),te.manager.itemEnd(le)})}function se(le){if(typeof le=="string"){const ce=le,fe=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ce)?ce:te.resourcePath+ce;return oe(fe)}else return le.data?{data:getTypedArray(le.type,le.data),width:le.width,height:le.height}:null}if(_!==void 0&&_.length>0){const le=new LoadingManager(K);ie=new ImageLoader(le),ie.setCrossOrigin(this.crossOrigin);for(let ce=0,fe=_.length;ce<fe;ce++){const pe=_[ce],me=pe.url;if(Array.isArray(me)){const ve=[];for(let ye=0,Ee=me.length;ye<Ee;ye++){const Se=me[ye],_e=se(Se);_e!==null&&(_e instanceof HTMLImageElement?ve.push(_e):ve.push(new DataTexture(_e.data,_e.width,_e.height)))}ne[pe.uuid]=new Source(ve)}else{const ve=se(pe.url);ne[pe.uuid]=new Source(ve)}}}return ne}async parseImagesAsync(_){const K=this,te={};let ne;async function ie(oe){if(typeof oe=="string"){const se=oe,le=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(se)?se:K.resourcePath+se;return await ne.loadAsync(le)}else return oe.data?{data:getTypedArray(oe.type,oe.data),width:oe.width,height:oe.height}:null}if(_!==void 0&&_.length>0){ne=new ImageLoader(this.manager),ne.setCrossOrigin(this.crossOrigin);for(let oe=0,se=_.length;oe<se;oe++){const le=_[oe],ce=le.url;if(Array.isArray(ce)){const fe=[];for(let pe=0,me=ce.length;pe<me;pe++){const ve=ce[pe],ye=await ie(ve);ye!==null&&(ye instanceof HTMLImageElement?fe.push(ye):fe.push(new DataTexture(ye.data,ye.width,ye.height)))}te[le.uuid]=new Source(fe)}else{const fe=await ie(le.url);te[le.uuid]=new Source(fe)}}}return te}parseTextures(_,K){function te(ie,oe){return typeof ie=="number"?ie:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",ie),oe[ie])}const ne={};if(_!==void 0)for(let ie=0,oe=_.length;ie<oe;ie++){const se=_[ie];se.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',se.uuid),K[se.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",se.image);const le=K[se.image],ce=le.data;let fe;Array.isArray(ce)?(fe=new CubeTexture,ce.length===6&&(fe.needsUpdate=!0)):(ce&&ce.data?fe=new DataTexture:fe=new Texture,ce&&(fe.needsUpdate=!0)),fe.source=le,fe.uuid=se.uuid,se.name!==void 0&&(fe.name=se.name),se.mapping!==void 0&&(fe.mapping=te(se.mapping,TEXTURE_MAPPING)),se.channel!==void 0&&(fe.channel=se.channel),se.offset!==void 0&&fe.offset.fromArray(se.offset),se.repeat!==void 0&&fe.repeat.fromArray(se.repeat),se.center!==void 0&&fe.center.fromArray(se.center),se.rotation!==void 0&&(fe.rotation=se.rotation),se.wrap!==void 0&&(fe.wrapS=te(se.wrap[0],TEXTURE_WRAPPING),fe.wrapT=te(se.wrap[1],TEXTURE_WRAPPING)),se.format!==void 0&&(fe.format=se.format),se.internalFormat!==void 0&&(fe.internalFormat=se.internalFormat),se.type!==void 0&&(fe.type=se.type),se.colorSpace!==void 0&&(fe.colorSpace=se.colorSpace),se.minFilter!==void 0&&(fe.minFilter=te(se.minFilter,TEXTURE_FILTER)),se.magFilter!==void 0&&(fe.magFilter=te(se.magFilter,TEXTURE_FILTER)),se.anisotropy!==void 0&&(fe.anisotropy=se.anisotropy),se.flipY!==void 0&&(fe.flipY=se.flipY),se.generateMipmaps!==void 0&&(fe.generateMipmaps=se.generateMipmaps),se.premultiplyAlpha!==void 0&&(fe.premultiplyAlpha=se.premultiplyAlpha),se.unpackAlignment!==void 0&&(fe.unpackAlignment=se.unpackAlignment),se.compareFunction!==void 0&&(fe.compareFunction=se.compareFunction),se.userData!==void 0&&(fe.userData=se.userData),ne[se.uuid]=fe}return ne}parseObject(_,K,te,ne,ie){let oe;function se(me){return K[me]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",me),K[me]}function le(me){if(me!==void 0){if(Array.isArray(me)){const ve=[];for(let ye=0,Ee=me.length;ye<Ee;ye++){const Se=me[ye];te[Se]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Se),ve.push(te[Se])}return ve}return te[me]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",me),te[me]}}function ce(me){return ne[me]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",me),ne[me]}let fe,pe;switch(_.type){case"Scene":oe=new Scene,_.background!==void 0&&(Number.isInteger(_.background)?oe.background=new Color$1(_.background):oe.background=ce(_.background)),_.environment!==void 0&&(oe.environment=ce(_.environment)),_.fog!==void 0&&(_.fog.type==="Fog"?oe.fog=new Fog(_.fog.color,_.fog.near,_.fog.far):_.fog.type==="FogExp2"&&(oe.fog=new FogExp2(_.fog.color,_.fog.density)),_.fog.name!==""&&(oe.fog.name=_.fog.name)),_.backgroundBlurriness!==void 0&&(oe.backgroundBlurriness=_.backgroundBlurriness),_.backgroundIntensity!==void 0&&(oe.backgroundIntensity=_.backgroundIntensity),_.backgroundRotation!==void 0&&oe.backgroundRotation.fromArray(_.backgroundRotation),_.environmentIntensity!==void 0&&(oe.environmentIntensity=_.environmentIntensity),_.environmentRotation!==void 0&&oe.environmentRotation.fromArray(_.environmentRotation);break;case"PerspectiveCamera":oe=new PerspectiveCamera$1(_.fov,_.aspect,_.near,_.far),_.focus!==void 0&&(oe.focus=_.focus),_.zoom!==void 0&&(oe.zoom=_.zoom),_.filmGauge!==void 0&&(oe.filmGauge=_.filmGauge),_.filmOffset!==void 0&&(oe.filmOffset=_.filmOffset),_.view!==void 0&&(oe.view=Object.assign({},_.view));break;case"OrthographicCamera":oe=new OrthographicCamera(_.left,_.right,_.top,_.bottom,_.near,_.far),_.zoom!==void 0&&(oe.zoom=_.zoom),_.view!==void 0&&(oe.view=Object.assign({},_.view));break;case"AmbientLight":oe=new AmbientLight(_.color,_.intensity);break;case"DirectionalLight":oe=new DirectionalLight(_.color,_.intensity),oe.target=_.target||"";break;case"PointLight":oe=new PointLight(_.color,_.intensity,_.distance,_.decay);break;case"RectAreaLight":oe=new RectAreaLight(_.color,_.intensity,_.width,_.height);break;case"SpotLight":oe=new SpotLight(_.color,_.intensity,_.distance,_.angle,_.penumbra,_.decay),oe.target=_.target||"";break;case"HemisphereLight":oe=new HemisphereLight(_.color,_.groundColor,_.intensity);break;case"LightProbe":oe=new LightProbe().fromJSON(_);break;case"SkinnedMesh":fe=se(_.geometry),pe=le(_.material),oe=new SkinnedMesh(fe,pe),_.bindMode!==void 0&&(oe.bindMode=_.bindMode),_.bindMatrix!==void 0&&oe.bindMatrix.fromArray(_.bindMatrix),_.skeleton!==void 0&&(oe.skeleton=_.skeleton);break;case"Mesh":fe=se(_.geometry),pe=le(_.material),oe=new Mesh(fe,pe);break;case"InstancedMesh":fe=se(_.geometry),pe=le(_.material);const me=_.count,ve=_.instanceMatrix,ye=_.instanceColor;oe=new InstancedMesh(fe,pe,me),oe.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ve.array),16),ye!==void 0&&(oe.instanceColor=new InstancedBufferAttribute(new Float32Array(ye.array),ye.itemSize));break;case"BatchedMesh":fe=se(_.geometry),pe=le(_.material),oe=new BatchedMesh(_.maxInstanceCount,_.maxVertexCount,_.maxIndexCount,pe),oe.geometry=fe,oe.perObjectFrustumCulled=_.perObjectFrustumCulled,oe.sortObjects=_.sortObjects,oe._drawRanges=_.drawRanges,oe._reservedRanges=_.reservedRanges,oe._visibility=_.visibility,oe._active=_.active,oe._bounds=_.bounds.map(Ee=>{const Se=new Box3;Se.min.fromArray(Ee.boxMin),Se.max.fromArray(Ee.boxMax);const _e=new Sphere;return _e.radius=Ee.sphereRadius,_e.center.fromArray(Ee.sphereCenter),{boxInitialized:Ee.boxInitialized,box:Se,sphereInitialized:Ee.sphereInitialized,sphere:_e}}),oe._maxInstanceCount=_.maxInstanceCount,oe._maxVertexCount=_.maxVertexCount,oe._maxIndexCount=_.maxIndexCount,oe._geometryInitialized=_.geometryInitialized,oe._geometryCount=_.geometryCount,oe._matricesTexture=ce(_.matricesTexture.uuid),_.colorsTexture!==void 0&&(oe._colorsTexture=ce(_.colorsTexture.uuid));break;case"LOD":oe=new LOD;break;case"Line":oe=new Line(se(_.geometry),le(_.material));break;case"LineLoop":oe=new LineLoop(se(_.geometry),le(_.material));break;case"LineSegments":oe=new LineSegments(se(_.geometry),le(_.material));break;case"PointCloud":case"Points":oe=new Points(se(_.geometry),le(_.material));break;case"Sprite":oe=new Sprite(le(_.material));break;case"Group":oe=new Group;break;case"Bone":oe=new Bone;break;default:oe=new Object3D}if(oe.uuid=_.uuid,_.name!==void 0&&(oe.name=_.name),_.matrix!==void 0?(oe.matrix.fromArray(_.matrix),_.matrixAutoUpdate!==void 0&&(oe.matrixAutoUpdate=_.matrixAutoUpdate),oe.matrixAutoUpdate&&oe.matrix.decompose(oe.position,oe.quaternion,oe.scale)):(_.position!==void 0&&oe.position.fromArray(_.position),_.rotation!==void 0&&oe.rotation.fromArray(_.rotation),_.quaternion!==void 0&&oe.quaternion.fromArray(_.quaternion),_.scale!==void 0&&oe.scale.fromArray(_.scale)),_.up!==void 0&&oe.up.fromArray(_.up),_.castShadow!==void 0&&(oe.castShadow=_.castShadow),_.receiveShadow!==void 0&&(oe.receiveShadow=_.receiveShadow),_.shadow&&(_.shadow.intensity!==void 0&&(oe.shadow.intensity=_.shadow.intensity),_.shadow.bias!==void 0&&(oe.shadow.bias=_.shadow.bias),_.shadow.normalBias!==void 0&&(oe.shadow.normalBias=_.shadow.normalBias),_.shadow.radius!==void 0&&(oe.shadow.radius=_.shadow.radius),_.shadow.mapSize!==void 0&&oe.shadow.mapSize.fromArray(_.shadow.mapSize),_.shadow.camera!==void 0&&(oe.shadow.camera=this.parseObject(_.shadow.camera))),_.visible!==void 0&&(oe.visible=_.visible),_.frustumCulled!==void 0&&(oe.frustumCulled=_.frustumCulled),_.renderOrder!==void 0&&(oe.renderOrder=_.renderOrder),_.userData!==void 0&&(oe.userData=_.userData),_.layers!==void 0&&(oe.layers.mask=_.layers),_.children!==void 0){const me=_.children;for(let ve=0;ve<me.length;ve++)oe.add(this.parseObject(me[ve],K,te,ne,ie))}if(_.animations!==void 0){const me=_.animations;for(let ve=0;ve<me.length;ve++){const ye=me[ve];oe.animations.push(ie[ye])}}if(_.type==="LOD"){_.autoUpdate!==void 0&&(oe.autoUpdate=_.autoUpdate);const me=_.levels;for(let ve=0;ve<me.length;ve++){const ye=me[ve],Ee=oe.getObjectByProperty("uuid",ye.object);Ee!==void 0&&oe.addLevel(Ee,ye.distance,ye.hysteresis)}}return oe}bindSkeletons(_,K){Object.keys(K).length!==0&&_.traverse(function(te){if(te.isSkinnedMesh===!0&&te.skeleton!==void 0){const ne=K[te.skeleton];ne===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",te.skeleton):te.bind(ne,te.bindMatrix)}})}bindLightTargets(_){_.traverse(function(K){if(K.isDirectionalLight||K.isSpotLight){const te=K.target,ne=_.getObjectByProperty("uuid",te);ne!==void 0?K.target=ne:K.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(_){super(_),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(_){return this.options=_,this}load(_,K,te,ne){_===void 0&&(_=""),this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const ie=this,oe=Cache.get(_);if(oe!==void 0){if(ie.manager.itemStart(_),oe.then){oe.then(ce=>{K&&K(ce),ie.manager.itemEnd(_)}).catch(ce=>{ne&&ne(ce)});return}return setTimeout(function(){K&&K(oe),ie.manager.itemEnd(_)},0),oe}const se={};se.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",se.headers=this.requestHeader;const le=fetch(_,se).then(function(ce){return ce.blob()}).then(function(ce){return createImageBitmap(ce,Object.assign(ie.options,{colorSpaceConversion:"none"}))}).then(function(ce){return Cache.add(_,ce),K&&K(ce),ie.manager.itemEnd(_),ce}).catch(function(ce){ne&&ne(ce),Cache.remove(_),ie.manager.itemError(_),ie.manager.itemEnd(_)});Cache.add(_,le),ie.manager.itemStart(_)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(_){_context=_}}class AudioLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=new FileLoader(this.manager);oe.setResponseType("arraybuffer"),oe.setPath(this.path),oe.setRequestHeader(this.requestHeader),oe.setWithCredentials(this.withCredentials),oe.load(_,function(le){try{const ce=le.slice(0);AudioContext.getContext().decodeAudioData(ce,function(pe){K(pe)}).catch(se)}catch(ce){se(ce)}},te,ne);function se(le){ne?ne(le):console.error(le),ie.manager.itemError(_)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera$1,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera$1,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(_){const K=this._cache;if(K.focus!==_.focus||K.fov!==_.fov||K.aspect!==_.aspect*this.aspect||K.near!==_.near||K.far!==_.far||K.zoom!==_.zoom||K.eyeSep!==this.eyeSep){K.focus=_.focus,K.fov=_.fov,K.aspect=_.aspect*this.aspect,K.near=_.near,K.far=_.far,K.zoom=_.zoom,K.eyeSep=this.eyeSep,_projectionMatrix.copy(_.projectionMatrix);const ne=K.eyeSep/2,ie=ne*K.near/K.focus,oe=K.near*Math.tan(DEG2RAD*K.fov*.5)/K.zoom;let se,le;_eyeLeft.elements[12]=-ne,_eyeRight.elements[12]=ne,se=-oe*K.aspect+ie,le=oe*K.aspect+ie,_projectionMatrix.elements[0]=2*K.near/(le-se),_projectionMatrix.elements[8]=(le+se)/(le-se),this.cameraL.projectionMatrix.copy(_projectionMatrix),se=-oe*K.aspect-ie,le=oe*K.aspect-ie,_projectionMatrix.elements[0]=2*K.near/(le-se),_projectionMatrix.elements[8]=(le+se)/(le-se),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(_.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(_.matrixWorld).multiply(_eyeRight)}}class ArrayCamera extends PerspectiveCamera$1{constructor(_=[]){super(),this.isArrayCamera=!0,this.cameras=_}}class Clock{constructor(_=!0){this.autoStart=_,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let _=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const K=now();_=(K-this.oldTime)/1e3,this.oldTime=K,this.elapsedTime+=_}return _}}function now(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(_){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=_,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(_){return this.gain.gain.setTargetAtTime(_,this.context.currentTime,.01),this}updateMatrixWorld(_){super.updateMatrixWorld(_);const K=this.context.listener,te=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),K.positionX){const ne=this.context.currentTime+this.timeDelta;K.positionX.linearRampToValueAtTime(_position$1.x,ne),K.positionY.linearRampToValueAtTime(_position$1.y,ne),K.positionZ.linearRampToValueAtTime(_position$1.z,ne),K.forwardX.linearRampToValueAtTime(_orientation$1.x,ne),K.forwardY.linearRampToValueAtTime(_orientation$1.y,ne),K.forwardZ.linearRampToValueAtTime(_orientation$1.z,ne),K.upX.linearRampToValueAtTime(te.x,ne),K.upY.linearRampToValueAtTime(te.y,ne),K.upZ.linearRampToValueAtTime(te.z,ne)}else K.setPosition(_position$1.x,_position$1.y,_position$1.z),K.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,te.x,te.y,te.z)}}class Audio extends Object3D{constructor(_){super(),this.type="Audio",this.listener=_,this.context=_.context,this.gain=this.context.createGain(),this.gain.connect(_.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(_){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=_,this.connect(),this}setMediaElementSource(_){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(_),this.connect(),this}setMediaStreamSource(_){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(_),this.connect(),this}setBuffer(_){return this.buffer=_,this.sourceType="buffer",this.autoplay&&this.play(),this}play(_=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+_;const K=this.context.createBufferSource();return K.buffer=this.buffer,K.loop=this.loop,K.loopStart=this.loopStart,K.loopEnd=this.loopEnd,K.onended=this.onEnded.bind(this),K.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=K,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(_=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+_),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let _=1,K=this.filters.length;_<K;_++)this.filters[_-1].connect(this.filters[_]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let _=1,K=this.filters.length;_<K;_++)this.filters[_-1].disconnect(this.filters[_]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(_){return _||(_=[]),this._connected===!0?(this.disconnect(),this.filters=_.slice(),this.connect()):this.filters=_.slice(),this}setDetune(_){return this.detune=_,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(_){return this.setFilters(_?[_]:[])}setPlaybackRate(_){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=_,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(_){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=_,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(_){return this.loopStart=_,this}setLoopEnd(_){return this.loopEnd=_,this}getVolume(){return this.gain.gain.value}setVolume(_){return this.gain.gain.setTargetAtTime(_,this.context.currentTime,.01),this}copy(_,K){return super.copy(_,K),_.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=_.autoplay,this.buffer=_.buffer,this.detune=_.detune,this.loop=_.loop,this.loopStart=_.loopStart,this.loopEnd=_.loopEnd,this.offset=_.offset,this.duration=_.duration,this.playbackRate=_.playbackRate,this.hasPlaybackControl=_.hasPlaybackControl,this.sourceType=_.sourceType,this.filters=_.filters.slice(),this)}clone(_){return new this.constructor(this.listener).copy(this,_)}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(_){super(_),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(_){return this.panner.refDistance=_,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(_){return this.panner.rolloffFactor=_,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(_){return this.panner.distanceModel=_,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(_){return this.panner.maxDistance=_,this}setDirectionalCone(_,K,te){return this.panner.coneInnerAngle=_,this.panner.coneOuterAngle=K,this.panner.coneOuterGain=te,this}updateMatrixWorld(_){if(super.updateMatrixWorld(_),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const K=this.panner;if(K.positionX){const te=this.context.currentTime+this.listener.timeDelta;K.positionX.linearRampToValueAtTime(_position.x,te),K.positionY.linearRampToValueAtTime(_position.y,te),K.positionZ.linearRampToValueAtTime(_position.z,te),K.orientationX.linearRampToValueAtTime(_orientation.x,te),K.orientationY.linearRampToValueAtTime(_orientation.y,te),K.orientationZ.linearRampToValueAtTime(_orientation.z,te)}else K.setPosition(_position.x,_position.y,_position.z),K.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(_,K=2048){this.analyser=_.context.createAnalyser(),this.analyser.fftSize=K,this.data=new Uint8Array(this.analyser.frequencyBinCount),_.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let _=0;const K=this.getFrequencyData();for(let te=0;te<K.length;te++)_+=K[te];return _/K.length}}class PropertyMixer{constructor(_,K,te){this.binding=_,this.valueSize=te;let ne,ie,oe;switch(K){case"quaternion":ne=this._slerp,ie=this._slerpAdditive,oe=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(te*6),this._workIndex=5;break;case"string":case"bool":ne=this._select,ie=this._select,oe=this._setAdditiveIdentityOther,this.buffer=new Array(te*5);break;default:ne=this._lerp,ie=this._lerpAdditive,oe=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(te*5)}this._mixBufferRegion=ne,this._mixBufferRegionAdditive=ie,this._setIdentity=oe,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(_,K){const te=this.buffer,ne=this.valueSize,ie=_*ne+ne;let oe=this.cumulativeWeight;if(oe===0){for(let se=0;se!==ne;++se)te[ie+se]=te[se];oe=K}else{oe+=K;const se=K/oe;this._mixBufferRegion(te,ie,0,se,ne)}this.cumulativeWeight=oe}accumulateAdditive(_){const K=this.buffer,te=this.valueSize,ne=te*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(K,ne,0,_,te),this.cumulativeWeightAdditive+=_}apply(_){const K=this.valueSize,te=this.buffer,ne=_*K+K,ie=this.cumulativeWeight,oe=this.cumulativeWeightAdditive,se=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,ie<1){const le=K*this._origIndex;this._mixBufferRegion(te,ne,le,1-ie,K)}oe>0&&this._mixBufferRegionAdditive(te,ne,this._addIndex*K,1,K);for(let le=K,ce=K+K;le!==ce;++le)if(te[le]!==te[le+K]){se.setValue(te,ne);break}}saveOriginalState(){const _=this.binding,K=this.buffer,te=this.valueSize,ne=te*this._origIndex;_.getValue(K,ne);for(let ie=te,oe=ne;ie!==oe;++ie)K[ie]=K[ne+ie%te];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const _=this.valueSize*3;this.binding.setValue(this.buffer,_)}_setAdditiveIdentityNumeric(){const _=this._addIndex*this.valueSize,K=_+this.valueSize;for(let te=_;te<K;te++)this.buffer[te]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const _=this._origIndex*this.valueSize,K=this._addIndex*this.valueSize;for(let te=0;te<this.valueSize;te++)this.buffer[K+te]=this.buffer[_+te]}_select(_,K,te,ne,ie){if(ne>=.5)for(let oe=0;oe!==ie;++oe)_[K+oe]=_[te+oe]}_slerp(_,K,te,ne){Quaternion.slerpFlat(_,K,_,K,_,te,ne)}_slerpAdditive(_,K,te,ne,ie){const oe=this._workIndex*ie;Quaternion.multiplyQuaternionsFlat(_,oe,_,K,_,te),Quaternion.slerpFlat(_,K,_,K,_,oe,ne)}_lerp(_,K,te,ne,ie){const oe=1-ne;for(let se=0;se!==ie;++se){const le=K+se;_[le]=_[le]*oe+_[te+se]*ne}}_lerpAdditive(_,K,te,ne,ie){for(let oe=0;oe!==ie;++oe){const se=K+oe;_[se]=_[se]+_[te+oe]*ne}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(_,K,te){const ne=te||PropertyBinding.parseTrackName(K);this._targetGroup=_,this._bindings=_.subscribe_(K,ne)}getValue(_,K){this.bind();const te=this._targetGroup.nCachedObjects_,ne=this._bindings[te];ne!==void 0&&ne.getValue(_,K)}setValue(_,K){const te=this._bindings;for(let ne=this._targetGroup.nCachedObjects_,ie=te.length;ne!==ie;++ne)te[ne].setValue(_,K)}bind(){const _=this._bindings;for(let K=this._targetGroup.nCachedObjects_,te=_.length;K!==te;++K)_[K].bind()}unbind(){const _=this._bindings;for(let K=this._targetGroup.nCachedObjects_,te=_.length;K!==te;++K)_[K].unbind()}}class PropertyBinding{constructor(_,K,te){this.path=K,this.parsedPath=te||PropertyBinding.parseTrackName(K),this.node=PropertyBinding.findNode(_,this.parsedPath.nodeName),this.rootNode=_,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(_,K,te){return _&&_.isAnimationObjectGroup?new PropertyBinding.Composite(_,K,te):new PropertyBinding(_,K,te)}static sanitizeNodeName(_){return _.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(_){const K=_trackRe.exec(_);if(K===null)throw new Error("PropertyBinding: Cannot parse trackName: "+_);const te={nodeName:K[2],objectName:K[3],objectIndex:K[4],propertyName:K[5],propertyIndex:K[6]},ne=te.nodeName&&te.nodeName.lastIndexOf(".");if(ne!==void 0&&ne!==-1){const ie=te.nodeName.substring(ne+1);_supportedObjectNames.indexOf(ie)!==-1&&(te.nodeName=te.nodeName.substring(0,ne),te.objectName=ie)}if(te.propertyName===null||te.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+_);return te}static findNode(_,K){if(K===void 0||K===""||K==="."||K===-1||K===_.name||K===_.uuid)return _;if(_.skeleton){const te=_.skeleton.getBoneByName(K);if(te!==void 0)return te}if(_.children){const te=function(ie){for(let oe=0;oe<ie.length;oe++){const se=ie[oe];if(se.name===K||se.uuid===K)return se;const le=te(se.children);if(le)return le}return null},ne=te(_.children);if(ne)return ne}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(_,K){_[K]=this.targetObject[this.propertyName]}_getValue_array(_,K){const te=this.resolvedProperty;for(let ne=0,ie=te.length;ne!==ie;++ne)_[K++]=te[ne]}_getValue_arrayElement(_,K){_[K]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(_,K){this.resolvedProperty.toArray(_,K)}_setValue_direct(_,K){this.targetObject[this.propertyName]=_[K]}_setValue_direct_setNeedsUpdate(_,K){this.targetObject[this.propertyName]=_[K],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(_,K){this.targetObject[this.propertyName]=_[K],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(_,K){const te=this.resolvedProperty;for(let ne=0,ie=te.length;ne!==ie;++ne)te[ne]=_[K++]}_setValue_array_setNeedsUpdate(_,K){const te=this.resolvedProperty;for(let ne=0,ie=te.length;ne!==ie;++ne)te[ne]=_[K++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(_,K){const te=this.resolvedProperty;for(let ne=0,ie=te.length;ne!==ie;++ne)te[ne]=_[K++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(_,K){this.resolvedProperty[this.propertyIndex]=_[K]}_setValue_arrayElement_setNeedsUpdate(_,K){this.resolvedProperty[this.propertyIndex]=_[K],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(_,K){this.resolvedProperty[this.propertyIndex]=_[K],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(_,K){this.resolvedProperty.fromArray(_,K)}_setValue_fromArray_setNeedsUpdate(_,K){this.resolvedProperty.fromArray(_,K),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(_,K){this.resolvedProperty.fromArray(_,K),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(_,K){this.bind(),this.getValue(_,K)}_setValue_unbound(_,K){this.bind(),this.setValue(_,K)}bind(){let _=this.node;const K=this.parsedPath,te=K.objectName,ne=K.propertyName;let ie=K.propertyIndex;if(_||(_=PropertyBinding.findNode(this.rootNode,K.nodeName),this.node=_),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!_){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(te){let ce=K.objectIndex;switch(te){case"materials":if(!_.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}_=_.material.materials;break;case"bones":if(!_.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}_=_.skeleton.bones;for(let fe=0;fe<_.length;fe++)if(_[fe].name===ce){ce=fe;break}break;case"map":if("map"in _){_=_.map;break}if(!_.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}_=_.material.map;break;default:if(_[te]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}_=_[te]}if(ce!==void 0){if(_[ce]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,_);return}_=_[ce]}}const oe=_[ne];if(oe===void 0){const ce=K.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ce+"."+ne+" but it wasn't found.",_);return}let se=this.Versioning.None;this.targetObject=_,_.needsUpdate!==void 0?se=this.Versioning.NeedsUpdate:_.matrixWorldNeedsUpdate!==void 0&&(se=this.Versioning.MatrixWorldNeedsUpdate);let le=this.BindingType.Direct;if(ie!==void 0){if(ne==="morphTargetInfluences"){if(!_.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!_.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}_.morphTargetDictionary[ie]!==void 0&&(ie=_.morphTargetDictionary[ie])}le=this.BindingType.ArrayElement,this.resolvedProperty=oe,this.propertyIndex=ie}else oe.fromArray!==void 0&&oe.toArray!==void 0?(le=this.BindingType.HasFromToArray,this.resolvedProperty=oe):Array.isArray(oe)?(le=this.BindingType.EntireArray,this.resolvedProperty=oe):this.propertyName=ne;this.getValue=this.GetterByBindingType[le],this.setValue=this.SetterByBindingTypeAndVersioning[le][se]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const _={};this._indicesByUUID=_;for(let te=0,ne=arguments.length;te!==ne;++te)_[arguments[te].uuid]=te;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const K=this;this.stats={objects:{get total(){return K._objects.length},get inUse(){return this.total-K.nCachedObjects_}},get bindingsPerObject(){return K._bindings.length}}}add(){const _=this._objects,K=this._indicesByUUID,te=this._paths,ne=this._parsedPaths,ie=this._bindings,oe=ie.length;let se,le=_.length,ce=this.nCachedObjects_;for(let fe=0,pe=arguments.length;fe!==pe;++fe){const me=arguments[fe],ve=me.uuid;let ye=K[ve];if(ye===void 0){ye=le++,K[ve]=ye,_.push(me);for(let Ee=0,Se=oe;Ee!==Se;++Ee)ie[Ee].push(new PropertyBinding(me,te[Ee],ne[Ee]))}else if(ye<ce){se=_[ye];const Ee=--ce,Se=_[Ee];K[Se.uuid]=ye,_[ye]=Se,K[ve]=Ee,_[Ee]=me;for(let _e=0,Te=oe;_e!==Te;++_e){const Re=ie[_e],Pe=Re[Ee];let Fe=Re[ye];Re[ye]=Pe,Fe===void 0&&(Fe=new PropertyBinding(me,te[_e],ne[_e])),Re[Ee]=Fe}}else _[ye]!==se&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=ce}remove(){const _=this._objects,K=this._indicesByUUID,te=this._bindings,ne=te.length;let ie=this.nCachedObjects_;for(let oe=0,se=arguments.length;oe!==se;++oe){const le=arguments[oe],ce=le.uuid,fe=K[ce];if(fe!==void 0&&fe>=ie){const pe=ie++,me=_[pe];K[me.uuid]=fe,_[fe]=me,K[ce]=pe,_[pe]=le;for(let ve=0,ye=ne;ve!==ye;++ve){const Ee=te[ve],Se=Ee[pe],_e=Ee[fe];Ee[fe]=Se,Ee[pe]=_e}}}this.nCachedObjects_=ie}uncache(){const _=this._objects,K=this._indicesByUUID,te=this._bindings,ne=te.length;let ie=this.nCachedObjects_,oe=_.length;for(let se=0,le=arguments.length;se!==le;++se){const ce=arguments[se],fe=ce.uuid,pe=K[fe];if(pe!==void 0)if(delete K[fe],pe<ie){const me=--ie,ve=_[me],ye=--oe,Ee=_[ye];K[ve.uuid]=pe,_[pe]=ve,K[Ee.uuid]=me,_[me]=Ee,_.pop();for(let Se=0,_e=ne;Se!==_e;++Se){const Te=te[Se],Re=Te[me],Pe=Te[ye];Te[pe]=Re,Te[me]=Pe,Te.pop()}}else{const me=--oe,ve=_[me];me>0&&(K[ve.uuid]=pe),_[pe]=ve,_.pop();for(let ye=0,Ee=ne;ye!==Ee;++ye){const Se=te[ye];Se[pe]=Se[me],Se.pop()}}}this.nCachedObjects_=ie}subscribe_(_,K){const te=this._bindingsIndicesByPath;let ne=te[_];const ie=this._bindings;if(ne!==void 0)return ie[ne];const oe=this._paths,se=this._parsedPaths,le=this._objects,ce=le.length,fe=this.nCachedObjects_,pe=new Array(ce);ne=ie.length,te[_]=ne,oe.push(_),se.push(K),ie.push(pe);for(let me=fe,ve=le.length;me!==ve;++me){const ye=le[me];pe[me]=new PropertyBinding(ye,_,K)}return pe}unsubscribe_(_){const K=this._bindingsIndicesByPath,te=K[_];if(te!==void 0){const ne=this._paths,ie=this._parsedPaths,oe=this._bindings,se=oe.length-1,le=oe[se],ce=_[se];K[ce]=te,oe[te]=le,oe.pop(),ie[te]=ie[se],ie.pop(),ne[te]=ne[se],ne.pop()}}}class AnimationAction{constructor(_,K,te=null,ne=K.blendMode){this._mixer=_,this._clip=K,this._localRoot=te,this.blendMode=ne;const ie=K.tracks,oe=ie.length,se=new Array(oe),le={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ce=0;ce!==oe;++ce){const fe=ie[ce].createInterpolant(null);se[ce]=fe,fe.settings=le}this._interpolantSettings=le,this._interpolants=se,this._propertyBindings=new Array(oe),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(_){return this._startTime=_,this}setLoop(_,K){return this.loop=_,this.repetitions=K,this}setEffectiveWeight(_){return this.weight=_,this._effectiveWeight=this.enabled?_:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(_){return this._scheduleFading(_,0,1)}fadeOut(_){return this._scheduleFading(_,1,0)}crossFadeFrom(_,K,te){if(_.fadeOut(K),this.fadeIn(K),te){const ne=this._clip.duration,ie=_._clip.duration,oe=ie/ne,se=ne/ie;_.warp(1,oe,K),this.warp(se,1,K)}return this}crossFadeTo(_,K,te){return _.crossFadeFrom(this,K,te)}stopFading(){const _=this._weightInterpolant;return _!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(_)),this}setEffectiveTimeScale(_){return this.timeScale=_,this._effectiveTimeScale=this.paused?0:_,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(_){return this.timeScale=this._clip.duration/_,this.stopWarping()}syncWith(_){return this.time=_.time,this.timeScale=_.timeScale,this.stopWarping()}halt(_){return this.warp(this._effectiveTimeScale,0,_)}warp(_,K,te){const ne=this._mixer,ie=ne.time,oe=this.timeScale;let se=this._timeScaleInterpolant;se===null&&(se=ne._lendControlInterpolant(),this._timeScaleInterpolant=se);const le=se.parameterPositions,ce=se.sampleValues;return le[0]=ie,le[1]=ie+te,ce[0]=_/oe,ce[1]=K/oe,this}stopWarping(){const _=this._timeScaleInterpolant;return _!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(_)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(_,K,te,ne){if(!this.enabled){this._updateWeight(_);return}const ie=this._startTime;if(ie!==null){const le=(_-ie)*te;le<0||te===0?K=0:(this._startTime=null,K=te*le)}K*=this._updateTimeScale(_);const oe=this._updateTime(K),se=this._updateWeight(_);if(se>0){const le=this._interpolants,ce=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let fe=0,pe=le.length;fe!==pe;++fe)le[fe].evaluate(oe),ce[fe].accumulateAdditive(se);break;case NormalAnimationBlendMode:default:for(let fe=0,pe=le.length;fe!==pe;++fe)le[fe].evaluate(oe),ce[fe].accumulate(ne,se)}}}_updateWeight(_){let K=0;if(this.enabled){K=this.weight;const te=this._weightInterpolant;if(te!==null){const ne=te.evaluate(_)[0];K*=ne,_>te.parameterPositions[1]&&(this.stopFading(),ne===0&&(this.enabled=!1))}}return this._effectiveWeight=K,K}_updateTimeScale(_){let K=0;if(!this.paused){K=this.timeScale;const te=this._timeScaleInterpolant;if(te!==null){const ne=te.evaluate(_)[0];K*=ne,_>te.parameterPositions[1]&&(this.stopWarping(),K===0?this.paused=!0:this.timeScale=K)}}return this._effectiveTimeScale=K,K}_updateTime(_){const K=this._clip.duration,te=this.loop;let ne=this.time+_,ie=this._loopCount;const oe=te===LoopPingPong;if(_===0)return ie===-1?ne:oe&&(ie&1)===1?K-ne:ne;if(te===LoopOnce){ie===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(ne>=K)ne=K;else if(ne<0)ne=0;else{this.time=ne;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=ne,this._mixer.dispatchEvent({type:"finished",action:this,direction:_<0?-1:1})}}else{if(ie===-1&&(_>=0?(ie=0,this._setEndings(!0,this.repetitions===0,oe)):this._setEndings(this.repetitions===0,!0,oe)),ne>=K||ne<0){const se=Math.floor(ne/K);ne-=K*se,ie+=Math.abs(se);const le=this.repetitions-ie;if(le<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,ne=_>0?K:0,this.time=ne,this._mixer.dispatchEvent({type:"finished",action:this,direction:_>0?1:-1});else{if(le===1){const ce=_<0;this._setEndings(ce,!ce,oe)}else this._setEndings(!1,!1,oe);this._loopCount=ie,this.time=ne,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:se})}}else this.time=ne;if(oe&&(ie&1)===1)return K-ne}return ne}_setEndings(_,K,te){const ne=this._interpolantSettings;te?(ne.endingStart=ZeroSlopeEnding,ne.endingEnd=ZeroSlopeEnding):(_?ne.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:ne.endingStart=WrapAroundEnding,K?ne.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:ne.endingEnd=WrapAroundEnding)}_scheduleFading(_,K,te){const ne=this._mixer,ie=ne.time;let oe=this._weightInterpolant;oe===null&&(oe=ne._lendControlInterpolant(),this._weightInterpolant=oe);const se=oe.parameterPositions,le=oe.sampleValues;return se[0]=ie,le[0]=K,se[1]=ie+_,le[1]=te,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(_){super(),this._root=_,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(_,K){const te=_._localRoot||this._root,ne=_._clip.tracks,ie=ne.length,oe=_._propertyBindings,se=_._interpolants,le=te.uuid,ce=this._bindingsByRootAndName;let fe=ce[le];fe===void 0&&(fe={},ce[le]=fe);for(let pe=0;pe!==ie;++pe){const me=ne[pe],ve=me.name;let ye=fe[ve];if(ye!==void 0)++ye.referenceCount,oe[pe]=ye;else{if(ye=oe[pe],ye!==void 0){ye._cacheIndex===null&&(++ye.referenceCount,this._addInactiveBinding(ye,le,ve));continue}const Ee=K&&K._propertyBindings[pe].binding.parsedPath;ye=new PropertyMixer(PropertyBinding.create(te,ve,Ee),me.ValueTypeName,me.getValueSize()),++ye.referenceCount,this._addInactiveBinding(ye,le,ve),oe[pe]=ye}se[pe].resultBuffer=ye.buffer}}_activateAction(_){if(!this._isActiveAction(_)){if(_._cacheIndex===null){const te=(_._localRoot||this._root).uuid,ne=_._clip.uuid,ie=this._actionsByClip[ne];this._bindAction(_,ie&&ie.knownActions[0]),this._addInactiveAction(_,ne,te)}const K=_._propertyBindings;for(let te=0,ne=K.length;te!==ne;++te){const ie=K[te];ie.useCount++===0&&(this._lendBinding(ie),ie.saveOriginalState())}this._lendAction(_)}}_deactivateAction(_){if(this._isActiveAction(_)){const K=_._propertyBindings;for(let te=0,ne=K.length;te!==ne;++te){const ie=K[te];--ie.useCount===0&&(ie.restoreOriginalState(),this._takeBackBinding(ie))}this._takeBackAction(_)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const _=this;this.stats={actions:{get total(){return _._actions.length},get inUse(){return _._nActiveActions}},bindings:{get total(){return _._bindings.length},get inUse(){return _._nActiveBindings}},controlInterpolants:{get total(){return _._controlInterpolants.length},get inUse(){return _._nActiveControlInterpolants}}}}_isActiveAction(_){const K=_._cacheIndex;return K!==null&&K<this._nActiveActions}_addInactiveAction(_,K,te){const ne=this._actions,ie=this._actionsByClip;let oe=ie[K];if(oe===void 0)oe={knownActions:[_],actionByRoot:{}},_._byClipCacheIndex=0,ie[K]=oe;else{const se=oe.knownActions;_._byClipCacheIndex=se.length,se.push(_)}_._cacheIndex=ne.length,ne.push(_),oe.actionByRoot[te]=_}_removeInactiveAction(_){const K=this._actions,te=K[K.length-1],ne=_._cacheIndex;te._cacheIndex=ne,K[ne]=te,K.pop(),_._cacheIndex=null;const ie=_._clip.uuid,oe=this._actionsByClip,se=oe[ie],le=se.knownActions,ce=le[le.length-1],fe=_._byClipCacheIndex;ce._byClipCacheIndex=fe,le[fe]=ce,le.pop(),_._byClipCacheIndex=null;const pe=se.actionByRoot,me=(_._localRoot||this._root).uuid;delete pe[me],le.length===0&&delete oe[ie],this._removeInactiveBindingsForAction(_)}_removeInactiveBindingsForAction(_){const K=_._propertyBindings;for(let te=0,ne=K.length;te!==ne;++te){const ie=K[te];--ie.referenceCount===0&&this._removeInactiveBinding(ie)}}_lendAction(_){const K=this._actions,te=_._cacheIndex,ne=this._nActiveActions++,ie=K[ne];_._cacheIndex=ne,K[ne]=_,ie._cacheIndex=te,K[te]=ie}_takeBackAction(_){const K=this._actions,te=_._cacheIndex,ne=--this._nActiveActions,ie=K[ne];_._cacheIndex=ne,K[ne]=_,ie._cacheIndex=te,K[te]=ie}_addInactiveBinding(_,K,te){const ne=this._bindingsByRootAndName,ie=this._bindings;let oe=ne[K];oe===void 0&&(oe={},ne[K]=oe),oe[te]=_,_._cacheIndex=ie.length,ie.push(_)}_removeInactiveBinding(_){const K=this._bindings,te=_.binding,ne=te.rootNode.uuid,ie=te.path,oe=this._bindingsByRootAndName,se=oe[ne],le=K[K.length-1],ce=_._cacheIndex;le._cacheIndex=ce,K[ce]=le,K.pop(),delete se[ie],Object.keys(se).length===0&&delete oe[ne]}_lendBinding(_){const K=this._bindings,te=_._cacheIndex,ne=this._nActiveBindings++,ie=K[ne];_._cacheIndex=ne,K[ne]=_,ie._cacheIndex=te,K[te]=ie}_takeBackBinding(_){const K=this._bindings,te=_._cacheIndex,ne=--this._nActiveBindings,ie=K[ne];_._cacheIndex=ne,K[ne]=_,ie._cacheIndex=te,K[te]=ie}_lendControlInterpolant(){const _=this._controlInterpolants,K=this._nActiveControlInterpolants++;let te=_[K];return te===void 0&&(te=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),te.__cacheIndex=K,_[K]=te),te}_takeBackControlInterpolant(_){const K=this._controlInterpolants,te=_.__cacheIndex,ne=--this._nActiveControlInterpolants,ie=K[ne];_.__cacheIndex=ne,K[ne]=_,ie.__cacheIndex=te,K[te]=ie}clipAction(_,K,te){const ne=K||this._root,ie=ne.uuid;let oe=typeof _=="string"?AnimationClip.findByName(ne,_):_;const se=oe!==null?oe.uuid:_,le=this._actionsByClip[se];let ce=null;if(te===void 0&&(oe!==null?te=oe.blendMode:te=NormalAnimationBlendMode),le!==void 0){const pe=le.actionByRoot[ie];if(pe!==void 0&&pe.blendMode===te)return pe;ce=le.knownActions[0],oe===null&&(oe=ce._clip)}if(oe===null)return null;const fe=new AnimationAction(this,oe,K,te);return this._bindAction(fe,ce),this._addInactiveAction(fe,se,ie),fe}existingAction(_,K){const te=K||this._root,ne=te.uuid,ie=typeof _=="string"?AnimationClip.findByName(te,_):_,oe=ie?ie.uuid:_,se=this._actionsByClip[oe];return se!==void 0&&se.actionByRoot[ne]||null}stopAllAction(){const _=this._actions,K=this._nActiveActions;for(let te=K-1;te>=0;--te)_[te].stop();return this}update(_){_*=this.timeScale;const K=this._actions,te=this._nActiveActions,ne=this.time+=_,ie=Math.sign(_),oe=this._accuIndex^=1;for(let ce=0;ce!==te;++ce)K[ce]._update(ne,_,ie,oe);const se=this._bindings,le=this._nActiveBindings;for(let ce=0;ce!==le;++ce)se[ce].apply(oe);return this}setTime(_){this.time=0;for(let K=0;K<this._actions.length;K++)this._actions[K].time=0;return this.update(_)}getRoot(){return this._root}uncacheClip(_){const K=this._actions,te=_.uuid,ne=this._actionsByClip,ie=ne[te];if(ie!==void 0){const oe=ie.knownActions;for(let se=0,le=oe.length;se!==le;++se){const ce=oe[se];this._deactivateAction(ce);const fe=ce._cacheIndex,pe=K[K.length-1];ce._cacheIndex=null,ce._byClipCacheIndex=null,pe._cacheIndex=fe,K[fe]=pe,K.pop(),this._removeInactiveBindingsForAction(ce)}delete ne[te]}}uncacheRoot(_){const K=_.uuid,te=this._actionsByClip;for(const oe in te){const se=te[oe].actionByRoot,le=se[K];le!==void 0&&(this._deactivateAction(le),this._removeInactiveAction(le))}const ne=this._bindingsByRootAndName,ie=ne[K];if(ie!==void 0)for(const oe in ie){const se=ie[oe];se.restoreOriginalState(),this._removeInactiveBinding(se)}}uncacheAction(_,K){const te=this.existingAction(_,K);te!==null&&(this._deactivateAction(te),this._removeInactiveAction(te))}}class Uniform{constructor(_){this.value=_}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id$2=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(_){return this.uniforms.push(_),this}remove(_){const K=this.uniforms.indexOf(_);return K!==-1&&this.uniforms.splice(K,1),this}setName(_){return this.name=_,this}setUsage(_){return this.usage=_,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(_){this.name=_.name,this.usage=_.usage;const K=_.uniforms;this.uniforms.length=0;for(let te=0,ne=K.length;te<ne;te++){const ie=Array.isArray(K[te])?K[te]:[K[te]];for(let oe=0;oe<ie.length;oe++)this.uniforms.push(ie[oe].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(_,K,te=1){super(_,K),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=te}copy(_){return super.copy(_),this.meshPerAttribute=_.meshPerAttribute,this}clone(_){const K=super.clone(_);return K.meshPerAttribute=this.meshPerAttribute,K}toJSON(_){const K=super.toJSON(_);return K.isInstancedInterleavedBuffer=!0,K.meshPerAttribute=this.meshPerAttribute,K}}class GLBufferAttribute{constructor(_,K,te,ne,ie){this.isGLBufferAttribute=!0,this.name="",this.buffer=_,this.type=K,this.itemSize=te,this.elementSize=ne,this.count=ie,this.version=0}set needsUpdate(_){_===!0&&this.version++}setBuffer(_){return this.buffer=_,this}setType(_,K){return this.type=_,this.elementSize=K,this}setItemSize(_){return this.itemSize=_,this}setCount(_){return this.count=_,this}}const _matrix=new Matrix4;class Raycaster{constructor(_,K,te=0,ne=1/0){this.ray=new Ray(_,K),this.near=te,this.far=ne,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(_,K){this.ray.set(_,K)}setFromCamera(_,K){K.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(K.matrixWorld),this.ray.direction.set(_.x,_.y,.5).unproject(K).sub(this.ray.origin).normalize(),this.camera=K):K.isOrthographicCamera?(this.ray.origin.set(_.x,_.y,(K.near+K.far)/(K.near-K.far)).unproject(K),this.ray.direction.set(0,0,-1).transformDirection(K.matrixWorld),this.camera=K):console.error("THREE.Raycaster: Unsupported camera type: "+K.type)}setFromXRController(_){return _matrix.identity().extractRotation(_.matrixWorld),this.ray.origin.setFromMatrixPosition(_.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(_,K=!0,te=[]){return intersect(_,this,te,K),te.sort(ascSort),te}intersectObjects(_,K=!0,te=[]){for(let ne=0,ie=_.length;ne<ie;ne++)intersect(_[ne],this,te,K);return te.sort(ascSort),te}}function ascSort(Z,_){return Z.distance-_.distance}function intersect(Z,_,K,te){let ne=!0;if(Z.layers.test(_.layers)&&Z.raycast(_,K)===!1&&(ne=!1),ne===!0&&te===!0){const ie=Z.children;for(let oe=0,se=ie.length;oe<se;oe++)intersect(ie[oe],_,K,!0)}}class Spherical{constructor(_=1,K=0,te=0){return this.radius=_,this.phi=K,this.theta=te,this}set(_,K,te){return this.radius=_,this.phi=K,this.theta=te,this}copy(_){return this.radius=_.radius,this.phi=_.phi,this.theta=_.theta,this}makeSafe(){return this.phi=clamp$3(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(_){return this.setFromCartesianCoords(_.x,_.y,_.z)}setFromCartesianCoords(_,K,te){return this.radius=Math.sqrt(_*_+K*K+te*te),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(_,te),this.phi=Math.acos(clamp$3(K/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(_=1,K=0,te=0){return this.radius=_,this.theta=K,this.y=te,this}set(_,K,te){return this.radius=_,this.theta=K,this.y=te,this}copy(_){return this.radius=_.radius,this.theta=_.theta,this.y=_.y,this}setFromVector3(_){return this.setFromCartesianCoords(_.x,_.y,_.z)}setFromCartesianCoords(_,K,te){return this.radius=Math.sqrt(_*_+te*te),this.theta=Math.atan2(_,te),this.y=K,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(_,K,te,ne){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],_!==void 0&&this.set(_,K,te,ne)}identity(){return this.set(1,0,0,1),this}fromArray(_,K=0){for(let te=0;te<4;te++)this.elements[te]=_[te+K];return this}set(_,K,te,ne){const ie=this.elements;return ie[0]=_,ie[2]=K,ie[1]=te,ie[3]=ne,this}}const _vector$4=new Vector2;class Box2{constructor(_=new Vector2(1/0,1/0),K=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=_,this.max=K}set(_,K){return this.min.copy(_),this.max.copy(K),this}setFromPoints(_){this.makeEmpty();for(let K=0,te=_.length;K<te;K++)this.expandByPoint(_[K]);return this}setFromCenterAndSize(_,K){const te=_vector$4.copy(K).multiplyScalar(.5);return this.min.copy(_).sub(te),this.max.copy(_).add(te),this}clone(){return new this.constructor().copy(this)}copy(_){return this.min.copy(_.min),this.max.copy(_.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(_){return this.isEmpty()?_.set(0,0):_.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_){return this.isEmpty()?_.set(0,0):_.subVectors(this.max,this.min)}expandByPoint(_){return this.min.min(_),this.max.max(_),this}expandByVector(_){return this.min.sub(_),this.max.add(_),this}expandByScalar(_){return this.min.addScalar(-_),this.max.addScalar(_),this}containsPoint(_){return _.x>=this.min.x&&_.x<=this.max.x&&_.y>=this.min.y&&_.y<=this.max.y}containsBox(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y}getParameter(_,K){return K.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(_){return _.max.x>=this.min.x&&_.min.x<=this.max.x&&_.max.y>=this.min.y&&_.min.y<=this.max.y}clampPoint(_,K){return K.copy(_).clamp(this.min,this.max)}distanceToPoint(_){return this.clampPoint(_,_vector$4).distanceTo(_)}intersect(_){return this.min.max(_.min),this.max.min(_.max),this.isEmpty()&&this.makeEmpty(),this}union(_){return this.min.min(_.min),this.max.max(_.max),this}translate(_){return this.min.add(_),this.max.add(_),this}equals(_){return _.min.equals(this.min)&&_.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(_=new Vector3,K=new Vector3){this.start=_,this.end=K}set(_,K){return this.start.copy(_),this.end.copy(K),this}copy(_){return this.start.copy(_.start),this.end.copy(_.end),this}getCenter(_){return _.addVectors(this.start,this.end).multiplyScalar(.5)}delta(_){return _.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(_,K){return this.delta(K).multiplyScalar(_).add(this.start)}closestPointToPointParameter(_,K){_startP.subVectors(_,this.start),_startEnd.subVectors(this.end,this.start);const te=_startEnd.dot(_startEnd);let ie=_startEnd.dot(_startP)/te;return K&&(ie=clamp$3(ie,0,1)),ie}closestPointToPoint(_,K,te){const ne=this.closestPointToPointParameter(_,K);return this.delta(te).multiplyScalar(ne).add(this.start)}applyMatrix4(_){return this.start.applyMatrix4(_),this.end.applyMatrix4(_),this}equals(_){return _.start.equals(this.start)&&_.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(_,K){super(),this.light=_,this.matrixAutoUpdate=!1,this.color=K,this.type="SpotLightHelper";const te=new BufferGeometry,ne=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let oe=0,se=1,le=32;oe<le;oe++,se++){const ce=oe/le*Math.PI*2,fe=se/le*Math.PI*2;ne.push(Math.cos(ce),Math.sin(ce),1,Math.cos(fe),Math.sin(fe),1)}te.setAttribute("position",new Float32BufferAttribute(ne,3));const ie=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(te,ie),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const _=this.light.distance?this.light.distance:1e3,K=_*Math.tan(this.light.angle);this.cone.scale.set(K,K,_),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(_){const K=getBoneList(_),te=new BufferGeometry,ne=[],ie=[],oe=new Color$1(0,0,1),se=new Color$1(0,1,0);for(let ce=0;ce<K.length;ce++){const fe=K[ce];fe.parent&&fe.parent.isBone&&(ne.push(0,0,0),ne.push(0,0,0),ie.push(oe.r,oe.g,oe.b),ie.push(se.r,se.g,se.b))}te.setAttribute("position",new Float32BufferAttribute(ne,3)),te.setAttribute("color",new Float32BufferAttribute(ie,3));const le=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(te,le),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=_,this.bones=K,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(_){const K=this.bones,te=this.geometry,ne=te.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let ie=0,oe=0;ie<K.length;ie++){const se=K[ie];se.parent&&se.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,se.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ne.setXYZ(oe,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,se.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ne.setXYZ(oe+1,_vector$2.x,_vector$2.y,_vector$2.z),oe+=2)}te.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(_)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(Z){const _=[];Z.isBone===!0&&_.push(Z);for(let K=0;K<Z.children.length;K++)_.push.apply(_,getBoneList(Z.children[K]));return _}class PointLightHelper extends Mesh{constructor(_,K,te){const ne=new SphereGeometry(K,4,2),ie=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(ne,ie),this.light=_,this.color=te,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$1,_color2=new Color$1;class HemisphereLightHelper extends Object3D{constructor(_,K,te){super(),this.light=_,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.color=te,this.type="HemisphereLightHelper";const ne=new OctahedronGeometry(K);ne.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const ie=ne.getAttribute("position"),oe=new Float32Array(ie.count*3);ne.setAttribute("color",new BufferAttribute(oe,3)),this.add(new Mesh(ne,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const _=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const K=_.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let te=0,ne=K.count;te<ne;te++){const ie=te<ne/2?_color1:_color2;K.setXYZ(te,ie.r,ie.g,ie.b)}K.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),_.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(_=10,K=10,te=4473924,ne=8947848){te=new Color$1(te),ne=new Color$1(ne);const ie=K/2,oe=_/K,se=_/2,le=[],ce=[];for(let me=0,ve=0,ye=-se;me<=K;me++,ye+=oe){le.push(-se,0,ye,se,0,ye),le.push(ye,0,-se,ye,0,se);const Ee=me===ie?te:ne;Ee.toArray(ce,ve),ve+=3,Ee.toArray(ce,ve),ve+=3,Ee.toArray(ce,ve),ve+=3,Ee.toArray(ce,ve),ve+=3}const fe=new BufferGeometry;fe.setAttribute("position",new Float32BufferAttribute(le,3)),fe.setAttribute("color",new Float32BufferAttribute(ce,3));const pe=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(fe,pe),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(_=10,K=16,te=8,ne=64,ie=4473924,oe=8947848){ie=new Color$1(ie),oe=new Color$1(oe);const se=[],le=[];if(K>1)for(let pe=0;pe<K;pe++){const me=pe/K*(Math.PI*2),ve=Math.sin(me)*_,ye=Math.cos(me)*_;se.push(0,0,0),se.push(ve,0,ye);const Ee=pe&1?ie:oe;le.push(Ee.r,Ee.g,Ee.b),le.push(Ee.r,Ee.g,Ee.b)}for(let pe=0;pe<te;pe++){const me=pe&1?ie:oe,ve=_-_/te*pe;for(let ye=0;ye<ne;ye++){let Ee=ye/ne*(Math.PI*2),Se=Math.sin(Ee)*ve,_e=Math.cos(Ee)*ve;se.push(Se,0,_e),le.push(me.r,me.g,me.b),Ee=(ye+1)/ne*(Math.PI*2),Se=Math.sin(Ee)*ve,_e=Math.cos(Ee)*ve,se.push(Se,0,_e),le.push(me.r,me.g,me.b)}}const ce=new BufferGeometry;ce.setAttribute("position",new Float32BufferAttribute(se,3)),ce.setAttribute("color",new Float32BufferAttribute(le,3));const fe=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ce,fe),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(_,K,te){super(),this.light=_,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.color=te,this.type="DirectionalLightHelper",K===void 0&&(K=1);let ne=new BufferGeometry;ne.setAttribute("position",new Float32BufferAttribute([-K,K,0,K,K,0,K,-K,0,-K,-K,0,-K,K,0],3));const ie=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(ne,ie),this.add(this.lightPlane),ne=new BufferGeometry,ne.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(ne,ie),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(_){const K=new BufferGeometry,te=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),ne=[],ie=[],oe={};se("n1","n2"),se("n2","n4"),se("n4","n3"),se("n3","n1"),se("f1","f2"),se("f2","f4"),se("f4","f3"),se("f3","f1"),se("n1","f1"),se("n2","f2"),se("n3","f3"),se("n4","f4"),se("p","n1"),se("p","n2"),se("p","n3"),se("p","n4"),se("u1","u2"),se("u2","u3"),se("u3","u1"),se("c","t"),se("p","c"),se("cn1","cn2"),se("cn3","cn4"),se("cf1","cf2"),se("cf3","cf4");function se(ye,Ee){le(ye),le(Ee)}function le(ye){ne.push(0,0,0),ie.push(0,0,0),oe[ye]===void 0&&(oe[ye]=[]),oe[ye].push(ne.length/3-1)}K.setAttribute("position",new Float32BufferAttribute(ne,3)),K.setAttribute("color",new Float32BufferAttribute(ie,3)),super(K,te),this.type="CameraHelper",this.camera=_,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=oe,this.update();const ce=new Color$1(16755200),fe=new Color$1(16711680),pe=new Color$1(43775),me=new Color$1(16777215),ve=new Color$1(3355443);this.setColors(ce,fe,pe,me,ve)}setColors(_,K,te,ne,ie){const se=this.geometry.getAttribute("color");se.setXYZ(0,_.r,_.g,_.b),se.setXYZ(1,_.r,_.g,_.b),se.setXYZ(2,_.r,_.g,_.b),se.setXYZ(3,_.r,_.g,_.b),se.setXYZ(4,_.r,_.g,_.b),se.setXYZ(5,_.r,_.g,_.b),se.setXYZ(6,_.r,_.g,_.b),se.setXYZ(7,_.r,_.g,_.b),se.setXYZ(8,_.r,_.g,_.b),se.setXYZ(9,_.r,_.g,_.b),se.setXYZ(10,_.r,_.g,_.b),se.setXYZ(11,_.r,_.g,_.b),se.setXYZ(12,_.r,_.g,_.b),se.setXYZ(13,_.r,_.g,_.b),se.setXYZ(14,_.r,_.g,_.b),se.setXYZ(15,_.r,_.g,_.b),se.setXYZ(16,_.r,_.g,_.b),se.setXYZ(17,_.r,_.g,_.b),se.setXYZ(18,_.r,_.g,_.b),se.setXYZ(19,_.r,_.g,_.b),se.setXYZ(20,_.r,_.g,_.b),se.setXYZ(21,_.r,_.g,_.b),se.setXYZ(22,_.r,_.g,_.b),se.setXYZ(23,_.r,_.g,_.b),se.setXYZ(24,K.r,K.g,K.b),se.setXYZ(25,K.r,K.g,K.b),se.setXYZ(26,K.r,K.g,K.b),se.setXYZ(27,K.r,K.g,K.b),se.setXYZ(28,K.r,K.g,K.b),se.setXYZ(29,K.r,K.g,K.b),se.setXYZ(30,K.r,K.g,K.b),se.setXYZ(31,K.r,K.g,K.b),se.setXYZ(32,te.r,te.g,te.b),se.setXYZ(33,te.r,te.g,te.b),se.setXYZ(34,te.r,te.g,te.b),se.setXYZ(35,te.r,te.g,te.b),se.setXYZ(36,te.r,te.g,te.b),se.setXYZ(37,te.r,te.g,te.b),se.setXYZ(38,ne.r,ne.g,ne.b),se.setXYZ(39,ne.r,ne.g,ne.b),se.setXYZ(40,ie.r,ie.g,ie.b),se.setXYZ(41,ie.r,ie.g,ie.b),se.setXYZ(42,ie.r,ie.g,ie.b),se.setXYZ(43,ie.r,ie.g,ie.b),se.setXYZ(44,ie.r,ie.g,ie.b),se.setXYZ(45,ie.r,ie.g,ie.b),se.setXYZ(46,ie.r,ie.g,ie.b),se.setXYZ(47,ie.r,ie.g,ie.b),se.setXYZ(48,ie.r,ie.g,ie.b),se.setXYZ(49,ie.r,ie.g,ie.b),se.needsUpdate=!0}update(){const _=this.geometry,K=this.pointMap,te=1,ne=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",K,_,_camera,0,0,-1),setPoint("t",K,_,_camera,0,0,1),setPoint("n1",K,_,_camera,-1,-1,-1),setPoint("n2",K,_,_camera,te,-1,-1),setPoint("n3",K,_,_camera,-1,ne,-1),setPoint("n4",K,_,_camera,te,ne,-1),setPoint("f1",K,_,_camera,-1,-1,1),setPoint("f2",K,_,_camera,te,-1,1),setPoint("f3",K,_,_camera,-1,ne,1),setPoint("f4",K,_,_camera,te,ne,1),setPoint("u1",K,_,_camera,te*.7,ne*1.1,-1),setPoint("u2",K,_,_camera,-1*.7,ne*1.1,-1),setPoint("u3",K,_,_camera,0,ne*2,-1),setPoint("cf1",K,_,_camera,-1,0,1),setPoint("cf2",K,_,_camera,te,0,1),setPoint("cf3",K,_,_camera,0,-1,1),setPoint("cf4",K,_,_camera,0,ne,1),setPoint("cn1",K,_,_camera,-1,0,-1),setPoint("cn2",K,_,_camera,te,0,-1),setPoint("cn3",K,_,_camera,0,-1,-1),setPoint("cn4",K,_,_camera,0,ne,-1),_.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(Z,_,K,te,ne,ie,oe){_vector.set(ne,ie,oe).unproject(te);const se=_[Z];if(se!==void 0){const le=K.getAttribute("position");for(let ce=0,fe=se.length;ce<fe;ce++)le.setXYZ(se[ce],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(_,K=16776960){const te=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ne=new Float32Array(8*3),ie=new BufferGeometry;ie.setIndex(new BufferAttribute(te,1)),ie.setAttribute("position",new BufferAttribute(ne,3)),super(ie,new LineBasicMaterial({color:K,toneMapped:!1})),this.object=_,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(_){if(_!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const K=_box.min,te=_box.max,ne=this.geometry.attributes.position,ie=ne.array;ie[0]=te.x,ie[1]=te.y,ie[2]=te.z,ie[3]=K.x,ie[4]=te.y,ie[5]=te.z,ie[6]=K.x,ie[7]=K.y,ie[8]=te.z,ie[9]=te.x,ie[10]=K.y,ie[11]=te.z,ie[12]=te.x,ie[13]=te.y,ie[14]=K.z,ie[15]=K.x,ie[16]=te.y,ie[17]=K.z,ie[18]=K.x,ie[19]=K.y,ie[20]=K.z,ie[21]=te.x,ie[22]=K.y,ie[23]=K.z,ne.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(_){return this.object=_,this.update(),this}copy(_,K){return super.copy(_,K),this.object=_.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(_,K=16776960){const te=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ne=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],ie=new BufferGeometry;ie.setIndex(new BufferAttribute(te,1)),ie.setAttribute("position",new Float32BufferAttribute(ne,3)),super(ie,new LineBasicMaterial({color:K,toneMapped:!1})),this.box=_,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(_){const K=this.box;K.isEmpty()||(K.getCenter(this.position),K.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(_))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(_,K=1,te=16776960){const ne=te,ie=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],oe=new BufferGeometry;oe.setAttribute("position",new Float32BufferAttribute(ie,3)),oe.computeBoundingSphere(),super(oe,new LineBasicMaterial({color:ne,toneMapped:!1})),this.type="PlaneHelper",this.plane=_,this.size=K;const se=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],le=new BufferGeometry;le.setAttribute("position",new Float32BufferAttribute(se,3)),le.computeBoundingSphere(),this.add(new Mesh(le,new MeshBasicMaterial({color:ne,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(_){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(_)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(_=new Vector3(0,0,1),K=new Vector3(0,0,0),te=1,ne=16776960,ie=te*.2,oe=ie*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(K),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:ne,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:ne,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(_),this.setLength(te,ie,oe)}setDirection(_){if(_.y>.99999)this.quaternion.set(0,0,0,1);else if(_.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(_.z,0,-_.x).normalize();const K=Math.acos(_.y);this.quaternion.setFromAxisAngle(_axis,K)}}setLength(_,K=_*.2,te=K*.2){this.line.scale.set(1,Math.max(1e-4,_-K),1),this.line.updateMatrix(),this.cone.scale.set(te,K,te),this.cone.position.y=_,this.cone.updateMatrix()}setColor(_){this.line.material.color.set(_),this.cone.material.color.set(_)}copy(_){return super.copy(_,!1),this.line.copy(_.line),this.cone.copy(_.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(_=1){const K=[0,0,0,_,0,0,0,0,0,0,_,0,0,0,0,0,0,_],te=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],ne=new BufferGeometry;ne.setAttribute("position",new Float32BufferAttribute(K,3)),ne.setAttribute("color",new Float32BufferAttribute(te,3));const ie=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ne,ie),this.type="AxesHelper"}setColors(_,K,te){const ne=new Color$1,ie=this.geometry.attributes.color.array;return ne.set(_),ne.toArray(ie,0),ne.toArray(ie,3),ne.set(K),ne.toArray(ie,6),ne.toArray(ie,9),ne.set(te),ne.toArray(ie,12),ne.toArray(ie,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(_,K){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(_,K),this}lineTo(_,K){return this.currentPath.lineTo(_,K),this}quadraticCurveTo(_,K,te,ne){return this.currentPath.quadraticCurveTo(_,K,te,ne),this}bezierCurveTo(_,K,te,ne,ie,oe){return this.currentPath.bezierCurveTo(_,K,te,ne,ie,oe),this}splineThru(_){return this.currentPath.splineThru(_),this}toShapes(_){function K(_e){const Te=[];for(let Re=0,Pe=_e.length;Re<Pe;Re++){const Fe=_e[Re],$e=new Shape;$e.curves=Fe.curves,Te.push($e)}return Te}function te(_e,Te){const Re=Te.length;let Pe=!1;for(let Fe=Re-1,$e=0;$e<Re;Fe=$e++){let ke=Te[Fe],ze=Te[$e],Ue=ze.x-ke.x,Oe=ze.y-ke.y;if(Math.abs(Oe)>Number.EPSILON){if(Oe<0&&(ke=Te[$e],Ue=-Ue,ze=Te[Fe],Oe=-Oe),_e.y<ke.y||_e.y>ze.y)continue;if(_e.y===ke.y){if(_e.x===ke.x)return!0}else{const Ve=Oe*(_e.x-ke.x)-Ue*(_e.y-ke.y);if(Ve===0)return!0;if(Ve<0)continue;Pe=!Pe}}else{if(_e.y!==ke.y)continue;if(ze.x<=_e.x&&_e.x<=ke.x||ke.x<=_e.x&&_e.x<=ze.x)return!0}}return Pe}const ne=ShapeUtils.isClockWise,ie=this.subPaths;if(ie.length===0)return[];let oe,se,le;const ce=[];if(ie.length===1)return se=ie[0],le=new Shape,le.curves=se.curves,ce.push(le),ce;let fe=!ne(ie[0].getPoints());fe=_?!fe:fe;const pe=[],me=[];let ve=[],ye=0,Ee;me[ye]=void 0,ve[ye]=[];for(let _e=0,Te=ie.length;_e<Te;_e++)se=ie[_e],Ee=se.getPoints(),oe=ne(Ee),oe=_?!oe:oe,oe?(!fe&&me[ye]&&ye++,me[ye]={s:new Shape,p:Ee},me[ye].s.curves=se.curves,fe&&ye++,ve[ye]=[]):ve[ye].push({h:se,p:Ee[0]});if(!me[0])return K(ie);if(me.length>1){let _e=!1,Te=0;for(let Re=0,Pe=me.length;Re<Pe;Re++)pe[Re]=[];for(let Re=0,Pe=me.length;Re<Pe;Re++){const Fe=ve[Re];for(let $e=0;$e<Fe.length;$e++){const ke=Fe[$e];let ze=!0;for(let Ue=0;Ue<me.length;Ue++)te(ke.p,me[Ue].p)&&(Re!==Ue&&Te++,ze?(ze=!1,pe[Ue].push(ke)):_e=!0);ze&&pe[Re].push(ke)}}Te>0&&_e===!1&&(ve=pe)}let Se;for(let _e=0,Te=me.length;_e<Te;_e++){le=me[_e].s,ce.push(le),Se=ve[_e];for(let Re=0,Pe=Se.length;Re<Pe;Re++)le.holes.push(Se[Re].h)}return ce}}class Controls extends EventDispatcher$1{constructor(_,K=null){super(),this.object=_,this.domElement=K,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function contain(Z,_){const K=Z.image&&Z.image.width?Z.image.width/Z.image.height:1;return K>_?(Z.repeat.x=1,Z.repeat.y=K/_,Z.offset.x=0,Z.offset.y=(1-Z.repeat.y)/2):(Z.repeat.x=_/K,Z.repeat.y=1,Z.offset.x=(1-Z.repeat.x)/2,Z.offset.y=0),Z}function cover(Z,_){const K=Z.image&&Z.image.width?Z.image.width/Z.image.height:1;return K>_?(Z.repeat.x=_/K,Z.repeat.y=1,Z.offset.x=(1-Z.repeat.x)/2,Z.offset.y=0):(Z.repeat.x=1,Z.repeat.y=K/_,Z.offset.x=0,Z.offset.y=(1-Z.repeat.y)/2),Z}function fill(Z){return Z.repeat.x=1,Z.repeat.y=1,Z.offset.x=0,Z.offset.y=0,Z}function getByteLength(Z,_,K,te){const ne=getTextureTypeByteLength(te);switch(K){case AlphaFormat:return Z*_;case LuminanceFormat:return Z*_;case LuminanceAlphaFormat:return Z*_*2;case RedFormat:return Z*_/ne.components*ne.byteLength;case RedIntegerFormat:return Z*_/ne.components*ne.byteLength;case RGFormat:return Z*_*2/ne.components*ne.byteLength;case RGIntegerFormat:return Z*_*2/ne.components*ne.byteLength;case RGBFormat:return Z*_*3/ne.components*ne.byteLength;case RGBAFormat:return Z*_*4/ne.components*ne.byteLength;case RGBAIntegerFormat:return Z*_*4/ne.components*ne.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(Z,16)*Math.max(_,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(Z,8)*Math.max(_,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((Z+4)/5)*Math.floor((_+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((Z+4)/5)*Math.floor((_+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((Z+5)/6)*Math.floor((_+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((Z+5)/6)*Math.floor((_+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((Z+7)/8)*Math.floor((_+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((Z+7)/8)*Math.floor((_+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((Z+7)/8)*Math.floor((_+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((Z+9)/10)*Math.floor((_+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((Z+9)/10)*Math.floor((_+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((Z+9)/10)*Math.floor((_+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((Z+9)/10)*Math.floor((_+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((Z+11)/12)*Math.floor((_+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((Z+11)/12)*Math.floor((_+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(Z/4)*Math.ceil(_/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(Z/4)*Math.ceil(_/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(Z/4)*Math.ceil(_/4)*16}throw new Error(`Unable to determine texture byte length for ${K} format.`)}function getTextureTypeByteLength(Z){switch(Z){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${Z}.`)}const TextureUtils={contain,cover,fill,getByteLength};class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(_=1,K=1,te=1,ne={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(_,K,{...ne,count:te}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let Z=null,_=!1,K=null,te=null;function ne(ie,oe){K(ie,oe),te=Z.requestAnimationFrame(ne)}return{start:function(){_!==!0&&K!==null&&(te=Z.requestAnimationFrame(ne),_=!0)},stop:function(){Z.cancelAnimationFrame(te),_=!1},setAnimationLoop:function(ie){K=ie},setContext:function(ie){Z=ie}}}function WebGLAttributes(Z){const _=new WeakMap;function K(se,le){const ce=se.array,fe=se.usage,pe=ce.byteLength,me=Z.createBuffer();Z.bindBuffer(le,me),Z.bufferData(le,ce,fe),se.onUploadCallback();let ve;if(ce instanceof Float32Array)ve=Z.FLOAT;else if(ce instanceof Uint16Array)se.isFloat16BufferAttribute?ve=Z.HALF_FLOAT:ve=Z.UNSIGNED_SHORT;else if(ce instanceof Int16Array)ve=Z.SHORT;else if(ce instanceof Uint32Array)ve=Z.UNSIGNED_INT;else if(ce instanceof Int32Array)ve=Z.INT;else if(ce instanceof Int8Array)ve=Z.BYTE;else if(ce instanceof Uint8Array)ve=Z.UNSIGNED_BYTE;else if(ce instanceof Uint8ClampedArray)ve=Z.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ce);return{buffer:me,type:ve,bytesPerElement:ce.BYTES_PER_ELEMENT,version:se.version,size:pe}}function te(se,le,ce){const fe=le.array,pe=le.updateRanges;if(Z.bindBuffer(ce,se),pe.length===0)Z.bufferSubData(ce,0,fe);else{pe.sort((ve,ye)=>ve.start-ye.start);let me=0;for(let ve=1;ve<pe.length;ve++){const ye=pe[me],Ee=pe[ve];Ee.start<=ye.start+ye.count+1?ye.count=Math.max(ye.count,Ee.start+Ee.count-ye.start):(++me,pe[me]=Ee)}pe.length=me+1;for(let ve=0,ye=pe.length;ve<ye;ve++){const Ee=pe[ve];Z.bufferSubData(ce,Ee.start*fe.BYTES_PER_ELEMENT,fe,Ee.start,Ee.count)}le.clearUpdateRanges()}le.onUploadCallback()}function ne(se){return se.isInterleavedBufferAttribute&&(se=se.data),_.get(se)}function ie(se){se.isInterleavedBufferAttribute&&(se=se.data);const le=_.get(se);le&&(Z.deleteBuffer(le.buffer),_.delete(se))}function oe(se,le){if(se.isInterleavedBufferAttribute&&(se=se.data),se.isGLBufferAttribute){const fe=_.get(se);(!fe||fe.version<se.version)&&_.set(se,{buffer:se.buffer,type:se.type,bytesPerElement:se.elementSize,version:se.version});return}const ce=_.get(se);if(ce===void 0)_.set(se,K(se,le));else if(ce.version<se.version){if(ce.size!==se.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");te(ce.buffer,se,le),ce.version=se.version}}return{get:ne,remove:ie,update:oe}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(Z,_,K,te,ne,ie,oe){const se=new Color$1(0);let le=ie===!0?0:1,ce,fe,pe=null,me=0,ve=null;function ye(Re){let Pe=Re.isScene===!0?Re.background:null;return Pe&&Pe.isTexture&&(Pe=(Re.backgroundBlurriness>0?K:_).get(Pe)),Pe}function Ee(Re){let Pe=!1;const Fe=ye(Re);Fe===null?_e(se,le):Fe&&Fe.isColor&&(_e(Fe,1),Pe=!0);const $e=Z.xr.getEnvironmentBlendMode();$e==="additive"?te.buffers.color.setClear(0,0,0,1,oe):$e==="alpha-blend"&&te.buffers.color.setClear(0,0,0,0,oe),(Z.autoClear||Pe)&&(te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),Z.clear(Z.autoClearColor,Z.autoClearDepth,Z.autoClearStencil))}function Se(Re,Pe){const Fe=ye(Pe);Fe&&(Fe.isCubeTexture||Fe.mapping===CubeUVReflectionMapping)?(fe===void 0&&(fe=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),fe.geometry.deleteAttribute("normal"),fe.geometry.deleteAttribute("uv"),fe.onBeforeRender=function($e,ke,ze){this.matrixWorld.copyPosition(ze.matrixWorld)},Object.defineProperty(fe.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),ne.update(fe)),_e1$1.copy(Pe.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,Fe.isCubeTexture&&Fe.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),fe.material.uniforms.envMap.value=Fe,fe.material.uniforms.flipEnvMap.value=Fe.isCubeTexture&&Fe.isRenderTargetTexture===!1?-1:1,fe.material.uniforms.backgroundBlurriness.value=Pe.backgroundBlurriness,fe.material.uniforms.backgroundIntensity.value=Pe.backgroundIntensity,fe.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),fe.material.toneMapped=ColorManagement.getTransfer(Fe.colorSpace)!==SRGBTransfer,(pe!==Fe||me!==Fe.version||ve!==Z.toneMapping)&&(fe.material.needsUpdate=!0,pe=Fe,me=Fe.version,ve=Z.toneMapping),fe.layers.enableAll(),Re.unshift(fe,fe.geometry,fe.material,0,0,null)):Fe&&Fe.isTexture&&(ce===void 0&&(ce=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),ce.geometry.deleteAttribute("normal"),Object.defineProperty(ce.material,"map",{get:function(){return this.uniforms.t2D.value}}),ne.update(ce)),ce.material.uniforms.t2D.value=Fe,ce.material.uniforms.backgroundIntensity.value=Pe.backgroundIntensity,ce.material.toneMapped=ColorManagement.getTransfer(Fe.colorSpace)!==SRGBTransfer,Fe.matrixAutoUpdate===!0&&Fe.updateMatrix(),ce.material.uniforms.uvTransform.value.copy(Fe.matrix),(pe!==Fe||me!==Fe.version||ve!==Z.toneMapping)&&(ce.material.needsUpdate=!0,pe=Fe,me=Fe.version,ve=Z.toneMapping),ce.layers.enableAll(),Re.unshift(ce,ce.geometry,ce.material,0,0,null))}function _e(Re,Pe){Re.getRGB(_rgb,getUnlitUniformColorSpace(Z)),te.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Pe,oe)}function Te(){fe!==void 0&&(fe.geometry.dispose(),fe.material.dispose()),ce!==void 0&&(ce.geometry.dispose(),ce.material.dispose())}return{getClearColor:function(){return se},setClearColor:function(Re,Pe=1){se.set(Re),le=Pe,_e(se,le)},getClearAlpha:function(){return le},setClearAlpha:function(Re){le=Re,_e(se,le)},render:Ee,addToRenderList:Se,dispose:Te}}function WebGLBindingStates(Z,_){const K=Z.getParameter(Z.MAX_VERTEX_ATTRIBS),te={},ne=me(null);let ie=ne,oe=!1;function se(Oe,Ve,Ye,Ke,rt){let ct=!1;const at=pe(Ke,Ye,Ve);ie!==at&&(ie=at,ce(ie.object)),ct=ve(Oe,Ke,Ye,rt),ct&&ye(Oe,Ke,Ye,rt),rt!==null&&_.update(rt,Z.ELEMENT_ARRAY_BUFFER),(ct||oe)&&(oe=!1,Pe(Oe,Ve,Ye,Ke),rt!==null&&Z.bindBuffer(Z.ELEMENT_ARRAY_BUFFER,_.get(rt).buffer))}function le(){return Z.createVertexArray()}function ce(Oe){return Z.bindVertexArray(Oe)}function fe(Oe){return Z.deleteVertexArray(Oe)}function pe(Oe,Ve,Ye){const Ke=Ye.wireframe===!0;let rt=te[Oe.id];rt===void 0&&(rt={},te[Oe.id]=rt);let ct=rt[Ve.id];ct===void 0&&(ct={},rt[Ve.id]=ct);let at=ct[Ke];return at===void 0&&(at=me(le()),ct[Ke]=at),at}function me(Oe){const Ve=[],Ye=[],Ke=[];for(let rt=0;rt<K;rt++)Ve[rt]=0,Ye[rt]=0,Ke[rt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ve,enabledAttributes:Ye,attributeDivisors:Ke,object:Oe,attributes:{},index:null}}function ve(Oe,Ve,Ye,Ke){const rt=ie.attributes,ct=Ve.attributes;let at=0;const mt=Ye.getAttributes();for(const je in mt)if(mt[je].location>=0){const et=rt[je];let qe=ct[je];if(qe===void 0&&(je==="instanceMatrix"&&Oe.instanceMatrix&&(qe=Oe.instanceMatrix),je==="instanceColor"&&Oe.instanceColor&&(qe=Oe.instanceColor)),et===void 0||et.attribute!==qe||qe&&et.data!==qe.data)return!0;at++}return ie.attributesNum!==at||ie.index!==Ke}function ye(Oe,Ve,Ye,Ke){const rt={},ct=Ve.attributes;let at=0;const mt=Ye.getAttributes();for(const je in mt)if(mt[je].location>=0){let et=ct[je];et===void 0&&(je==="instanceMatrix"&&Oe.instanceMatrix&&(et=Oe.instanceMatrix),je==="instanceColor"&&Oe.instanceColor&&(et=Oe.instanceColor));const qe={};qe.attribute=et,et&&et.data&&(qe.data=et.data),rt[je]=qe,at++}ie.attributes=rt,ie.attributesNum=at,ie.index=Ke}function Ee(){const Oe=ie.newAttributes;for(let Ve=0,Ye=Oe.length;Ve<Ye;Ve++)Oe[Ve]=0}function Se(Oe){_e(Oe,0)}function _e(Oe,Ve){const Ye=ie.newAttributes,Ke=ie.enabledAttributes,rt=ie.attributeDivisors;Ye[Oe]=1,Ke[Oe]===0&&(Z.enableVertexAttribArray(Oe),Ke[Oe]=1),rt[Oe]!==Ve&&(Z.vertexAttribDivisor(Oe,Ve),rt[Oe]=Ve)}function Te(){const Oe=ie.newAttributes,Ve=ie.enabledAttributes;for(let Ye=0,Ke=Ve.length;Ye<Ke;Ye++)Ve[Ye]!==Oe[Ye]&&(Z.disableVertexAttribArray(Ye),Ve[Ye]=0)}function Re(Oe,Ve,Ye,Ke,rt,ct,at){at===!0?Z.vertexAttribIPointer(Oe,Ve,Ye,rt,ct):Z.vertexAttribPointer(Oe,Ve,Ye,Ke,rt,ct)}function Pe(Oe,Ve,Ye,Ke){Ee();const rt=Ke.attributes,ct=Ye.getAttributes(),at=Ve.defaultAttributeValues;for(const mt in ct){const je=ct[mt];if(je.location>=0){let it=rt[mt];if(it===void 0&&(mt==="instanceMatrix"&&Oe.instanceMatrix&&(it=Oe.instanceMatrix),mt==="instanceColor"&&Oe.instanceColor&&(it=Oe.instanceColor)),it!==void 0){const et=it.normalized,qe=it.itemSize,lt=_.get(it);if(lt===void 0)continue;const _t=lt.buffer,ut=lt.type,St=lt.bytesPerElement,Et=ut===Z.INT||ut===Z.UNSIGNED_INT||it.gpuType===IntType;if(it.isInterleavedBufferAttribute){const At=it.data,kt=At.stride,jt=it.offset;if(At.isInstancedInterleavedBuffer){for(let en=0;en<je.locationSize;en++)_e(je.location+en,At.meshPerAttribute);Oe.isInstancedMesh!==!0&&Ke._maxInstanceCount===void 0&&(Ke._maxInstanceCount=At.meshPerAttribute*At.count)}else for(let en=0;en<je.locationSize;en++)Se(je.location+en);Z.bindBuffer(Z.ARRAY_BUFFER,_t);for(let en=0;en<je.locationSize;en++)Re(je.location+en,qe/je.locationSize,ut,et,kt*St,(jt+qe/je.locationSize*en)*St,Et)}else{if(it.isInstancedBufferAttribute){for(let At=0;At<je.locationSize;At++)_e(je.location+At,it.meshPerAttribute);Oe.isInstancedMesh!==!0&&Ke._maxInstanceCount===void 0&&(Ke._maxInstanceCount=it.meshPerAttribute*it.count)}else for(let At=0;At<je.locationSize;At++)Se(je.location+At);Z.bindBuffer(Z.ARRAY_BUFFER,_t);for(let At=0;At<je.locationSize;At++)Re(je.location+At,qe/je.locationSize,ut,et,qe*St,qe/je.locationSize*At*St,Et)}}else if(at!==void 0){const et=at[mt];if(et!==void 0)switch(et.length){case 2:Z.vertexAttrib2fv(je.location,et);break;case 3:Z.vertexAttrib3fv(je.location,et);break;case 4:Z.vertexAttrib4fv(je.location,et);break;default:Z.vertexAttrib1fv(je.location,et)}}}}Te()}function Fe(){ze();for(const Oe in te){const Ve=te[Oe];for(const Ye in Ve){const Ke=Ve[Ye];for(const rt in Ke)fe(Ke[rt].object),delete Ke[rt];delete Ve[Ye]}delete te[Oe]}}function $e(Oe){if(te[Oe.id]===void 0)return;const Ve=te[Oe.id];for(const Ye in Ve){const Ke=Ve[Ye];for(const rt in Ke)fe(Ke[rt].object),delete Ke[rt];delete Ve[Ye]}delete te[Oe.id]}function ke(Oe){for(const Ve in te){const Ye=te[Ve];if(Ye[Oe.id]===void 0)continue;const Ke=Ye[Oe.id];for(const rt in Ke)fe(Ke[rt].object),delete Ke[rt];delete Ye[Oe.id]}}function ze(){Ue(),oe=!0,ie!==ne&&(ie=ne,ce(ie.object))}function Ue(){ne.geometry=null,ne.program=null,ne.wireframe=!1}return{setup:se,reset:ze,resetDefaultState:Ue,dispose:Fe,releaseStatesOfGeometry:$e,releaseStatesOfProgram:ke,initAttributes:Ee,enableAttribute:Se,disableUnusedAttributes:Te}}function WebGLBufferRenderer(Z,_,K){let te;function ne(ce){te=ce}function ie(ce,fe){Z.drawArrays(te,ce,fe),K.update(fe,te,1)}function oe(ce,fe,pe){pe!==0&&(Z.drawArraysInstanced(te,ce,fe,pe),K.update(fe,te,pe))}function se(ce,fe,pe){if(pe===0)return;_.get("WEBGL_multi_draw").multiDrawArraysWEBGL(te,ce,0,fe,0,pe);let ve=0;for(let ye=0;ye<pe;ye++)ve+=fe[ye];K.update(ve,te,1)}function le(ce,fe,pe,me){if(pe===0)return;const ve=_.get("WEBGL_multi_draw");if(ve===null)for(let ye=0;ye<ce.length;ye++)oe(ce[ye],fe[ye],me[ye]);else{ve.multiDrawArraysInstancedWEBGL(te,ce,0,fe,0,me,0,pe);let ye=0;for(let Ee=0;Ee<pe;Ee++)ye+=fe[Ee]*me[Ee];K.update(ye,te,1)}}this.setMode=ne,this.render=ie,this.renderInstances=oe,this.renderMultiDraw=se,this.renderMultiDrawInstances=le}function WebGLCapabilities(Z,_,K,te){let ne;function ie(){if(ne!==void 0)return ne;if(_.has("EXT_texture_filter_anisotropic")===!0){const ke=_.get("EXT_texture_filter_anisotropic");ne=Z.getParameter(ke.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else ne=0;return ne}function oe(ke){return!(ke!==RGBAFormat&&te.convert(ke)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT))}function se(ke){const ze=ke===HalfFloatType&&(_.has("EXT_color_buffer_half_float")||_.has("EXT_color_buffer_float"));return!(ke!==UnsignedByteType&&te.convert(ke)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&ke!==FloatType&&!ze)}function le(ke){if(ke==="highp"){if(Z.getShaderPrecisionFormat(Z.VERTEX_SHADER,Z.HIGH_FLOAT).precision>0&&Z.getShaderPrecisionFormat(Z.FRAGMENT_SHADER,Z.HIGH_FLOAT).precision>0)return"highp";ke="mediump"}return ke==="mediump"&&Z.getShaderPrecisionFormat(Z.VERTEX_SHADER,Z.MEDIUM_FLOAT).precision>0&&Z.getShaderPrecisionFormat(Z.FRAGMENT_SHADER,Z.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let ce=K.precision!==void 0?K.precision:"highp";const fe=le(ce);fe!==ce&&(console.warn("THREE.WebGLRenderer:",ce,"not supported, using",fe,"instead."),ce=fe);const pe=K.logarithmicDepthBuffer===!0,me=K.reverseDepthBuffer===!0&&_.has("EXT_clip_control"),ve=Z.getParameter(Z.MAX_TEXTURE_IMAGE_UNITS),ye=Z.getParameter(Z.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Ee=Z.getParameter(Z.MAX_TEXTURE_SIZE),Se=Z.getParameter(Z.MAX_CUBE_MAP_TEXTURE_SIZE),_e=Z.getParameter(Z.MAX_VERTEX_ATTRIBS),Te=Z.getParameter(Z.MAX_VERTEX_UNIFORM_VECTORS),Re=Z.getParameter(Z.MAX_VARYING_VECTORS),Pe=Z.getParameter(Z.MAX_FRAGMENT_UNIFORM_VECTORS),Fe=ye>0,$e=Z.getParameter(Z.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:ie,getMaxPrecision:le,textureFormatReadable:oe,textureTypeReadable:se,precision:ce,logarithmicDepthBuffer:pe,reverseDepthBuffer:me,maxTextures:ve,maxVertexTextures:ye,maxTextureSize:Ee,maxCubemapSize:Se,maxAttributes:_e,maxVertexUniforms:Te,maxVaryings:Re,maxFragmentUniforms:Pe,vertexTextures:Fe,maxSamples:$e}}function WebGLClipping(Z){const _=this;let K=null,te=0,ne=!1,ie=!1;const oe=new Plane,se=new Matrix3,le={value:null,needsUpdate:!1};this.uniform=le,this.numPlanes=0,this.numIntersection=0,this.init=function(pe,me){const ve=pe.length!==0||me||te!==0||ne;return ne=me,te=pe.length,ve},this.beginShadows=function(){ie=!0,fe(null)},this.endShadows=function(){ie=!1},this.setGlobalState=function(pe,me){K=fe(pe,me,0)},this.setState=function(pe,me,ve){const ye=pe.clippingPlanes,Ee=pe.clipIntersection,Se=pe.clipShadows,_e=Z.get(pe);if(!ne||ye===null||ye.length===0||ie&&!Se)ie?fe(null):ce();else{const Te=ie?0:te,Re=Te*4;let Pe=_e.clippingState||null;le.value=Pe,Pe=fe(ye,me,Re,ve);for(let Fe=0;Fe!==Re;++Fe)Pe[Fe]=K[Fe];_e.clippingState=Pe,this.numIntersection=Ee?this.numPlanes:0,this.numPlanes+=Te}};function ce(){le.value!==K&&(le.value=K,le.needsUpdate=te>0),_.numPlanes=te,_.numIntersection=0}function fe(pe,me,ve,ye){const Ee=pe!==null?pe.length:0;let Se=null;if(Ee!==0){if(Se=le.value,ye!==!0||Se===null){const _e=ve+Ee*4,Te=me.matrixWorldInverse;se.getNormalMatrix(Te),(Se===null||Se.length<_e)&&(Se=new Float32Array(_e));for(let Re=0,Pe=ve;Re!==Ee;++Re,Pe+=4)oe.copy(pe[Re]).applyMatrix4(Te,se),oe.normal.toArray(Se,Pe),Se[Pe+3]=oe.constant}le.value=Se,le.needsUpdate=!0}return _.numPlanes=Ee,_.numIntersection=0,Se}}function WebGLCubeMaps(Z){let _=new WeakMap;function K(oe,se){return se===EquirectangularReflectionMapping?oe.mapping=CubeReflectionMapping:se===EquirectangularRefractionMapping&&(oe.mapping=CubeRefractionMapping),oe}function te(oe){if(oe&&oe.isTexture){const se=oe.mapping;if(se===EquirectangularReflectionMapping||se===EquirectangularRefractionMapping)if(_.has(oe)){const le=_.get(oe).texture;return K(le,oe.mapping)}else{const le=oe.image;if(le&&le.height>0){const ce=new WebGLCubeRenderTarget(le.height);return ce.fromEquirectangularTexture(Z,oe),_.set(oe,ce),oe.addEventListener("dispose",ne),K(ce.texture,oe.mapping)}else return null}}return oe}function ne(oe){const se=oe.target;se.removeEventListener("dispose",ne);const le=_.get(se);le!==void 0&&(_.delete(se),le.dispose())}function ie(){_=new WeakMap}return{get:te,dispose:ie}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)];class PMREMGenerator{constructor(_){this._renderer=_,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(_,K=0,te=.1,ne=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const ie=this._allocateTargets();return ie.depthBuffer=!0,this._sceneToCubeUV(_,te,ne,ie),K>0&&this._blur(ie,0,0,K),this._applyPMREM(ie),this._cleanup(ie),ie}fromEquirectangular(_,K=null){return this._fromTexture(_,K)}fromCubemap(_,K=null){return this._fromTexture(_,K)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(_){this._lodMax=Math.floor(Math.log2(_)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let _=0;_<this._lodPlanes.length;_++)this._lodPlanes[_].dispose()}_cleanup(_){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,_.scissorTest=!1,_setViewport(_,0,0,_.width,_.height)}_fromTexture(_,K){_.mapping===CubeReflectionMapping||_.mapping===CubeRefractionMapping?this._setSize(_.image.length===0?16:_.image[0].width||_.image[0].image.width):this._setSize(_.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const te=K||this._allocateTargets();return this._textureToCubeUV(_,te),this._applyPMREM(te),this._cleanup(te),te}_allocateTargets(){const _=3*Math.max(this._cubeSize,112),K=4*this._cubeSize,te={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},ne=_createRenderTarget(_,K,te);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==_||this._pingPongRenderTarget.height!==K){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(_,K,te);const{_lodMax:ie}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(ie)),this._blurMaterial=_getBlurShader(ie,_,K)}return ne}_compileMaterial(_){const K=new Mesh(this._lodPlanes[0],_);this._renderer.compile(K,_flatCamera)}_sceneToCubeUV(_,K,te,ne){const se=new PerspectiveCamera$1(90,1,K,te),le=[1,-1,1,1,1,1],ce=[1,1,1,-1,-1,-1],fe=this._renderer,pe=fe.autoClear,me=fe.toneMapping;fe.getClearColor(_clearColor),fe.toneMapping=NoToneMapping,fe.autoClear=!1;const ve=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ye=new Mesh(new BoxGeometry,ve);let Ee=!1;const Se=_.background;Se?Se.isColor&&(ve.color.copy(Se),_.background=null,Ee=!0):(ve.color.copy(_clearColor),Ee=!0);for(let _e=0;_e<6;_e++){const Te=_e%3;Te===0?(se.up.set(0,le[_e],0),se.lookAt(ce[_e],0,0)):Te===1?(se.up.set(0,0,le[_e]),se.lookAt(0,ce[_e],0)):(se.up.set(0,le[_e],0),se.lookAt(0,0,ce[_e]));const Re=this._cubeSize;_setViewport(ne,Te*Re,_e>2?Re:0,Re,Re),fe.setRenderTarget(ne),Ee&&fe.render(ye,se),fe.render(_,se)}ye.geometry.dispose(),ye.material.dispose(),fe.toneMapping=me,fe.autoClear=pe,_.background=Se}_textureToCubeUV(_,K){const te=this._renderer,ne=_.mapping===CubeReflectionMapping||_.mapping===CubeRefractionMapping;ne?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=_.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const ie=ne?this._cubemapMaterial:this._equirectMaterial,oe=new Mesh(this._lodPlanes[0],ie),se=ie.uniforms;se.envMap.value=_;const le=this._cubeSize;_setViewport(K,0,0,3*le,2*le),te.setRenderTarget(K),te.render(oe,_flatCamera)}_applyPMREM(_){const K=this._renderer,te=K.autoClear;K.autoClear=!1;const ne=this._lodPlanes.length;for(let ie=1;ie<ne;ie++){const oe=Math.sqrt(this._sigmas[ie]*this._sigmas[ie]-this._sigmas[ie-1]*this._sigmas[ie-1]),se=_axisDirections[(ne-ie-1)%_axisDirections.length];this._blur(_,ie-1,ie,oe,se)}K.autoClear=te}_blur(_,K,te,ne,ie){const oe=this._pingPongRenderTarget;this._halfBlur(_,oe,K,te,ne,"latitudinal",ie),this._halfBlur(oe,_,te,te,ne,"longitudinal",ie)}_halfBlur(_,K,te,ne,ie,oe,se){const le=this._renderer,ce=this._blurMaterial;oe!=="latitudinal"&&oe!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const fe=3,pe=new Mesh(this._lodPlanes[ne],ce),me=ce.uniforms,ve=this._sizeLods[te]-1,ye=isFinite(ie)?Math.PI/(2*ve):2*Math.PI/(2*MAX_SAMPLES-1),Ee=ie/ye,Se=isFinite(ie)?1+Math.floor(fe*Ee):MAX_SAMPLES;Se>MAX_SAMPLES&&console.warn(`sigmaRadians, ${ie}, is too large and will clip, as it requested ${Se} samples when the maximum is set to ${MAX_SAMPLES}`);const _e=[];let Te=0;for(let ke=0;ke<MAX_SAMPLES;++ke){const ze=ke/Ee,Ue=Math.exp(-ze*ze/2);_e.push(Ue),ke===0?Te+=Ue:ke<Se&&(Te+=2*Ue)}for(let ke=0;ke<_e.length;ke++)_e[ke]=_e[ke]/Te;me.envMap.value=_.texture,me.samples.value=Se,me.weights.value=_e,me.latitudinal.value=oe==="latitudinal",se&&(me.poleAxis.value=se);const{_lodMax:Re}=this;me.dTheta.value=ye,me.mipInt.value=Re-te;const Pe=this._sizeLods[ne],Fe=3*Pe*(ne>Re-LOD_MIN?ne-Re+LOD_MIN:0),$e=4*(this._cubeSize-Pe);_setViewport(K,Fe,$e,3*Pe,2*Pe),le.setRenderTarget(K),le.render(pe,_flatCamera)}}function _createPlanes(Z){const _=[],K=[],te=[];let ne=Z;const ie=Z-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let oe=0;oe<ie;oe++){const se=Math.pow(2,ne);K.push(se);let le=1/se;oe>Z-LOD_MIN?le=EXTRA_LOD_SIGMA[oe-Z+LOD_MIN-1]:oe===0&&(le=0),te.push(le);const ce=1/(se-2),fe=-ce,pe=1+ce,me=[fe,fe,pe,fe,pe,pe,fe,fe,pe,pe,fe,pe],ve=6,ye=6,Ee=3,Se=2,_e=1,Te=new Float32Array(Ee*ye*ve),Re=new Float32Array(Se*ye*ve),Pe=new Float32Array(_e*ye*ve);for(let $e=0;$e<ve;$e++){const ke=$e%3*2/3-1,ze=$e>2?0:-1,Ue=[ke,ze,0,ke+2/3,ze,0,ke+2/3,ze+1,0,ke,ze,0,ke+2/3,ze+1,0,ke,ze+1,0];Te.set(Ue,Ee*ye*$e),Re.set(me,Se*ye*$e);const Oe=[$e,$e,$e,$e,$e,$e];Pe.set(Oe,_e*ye*$e)}const Fe=new BufferGeometry;Fe.setAttribute("position",new BufferAttribute(Te,Ee)),Fe.setAttribute("uv",new BufferAttribute(Re,Se)),Fe.setAttribute("faceIndex",new BufferAttribute(Pe,_e)),_.push(Fe),ne>LOD_MIN&&ne--}return{lodPlanes:_,sizeLods:K,sigmas:te}}function _createRenderTarget(Z,_,K){const te=new WebGLRenderTarget(Z,_,K);return te.texture.mapping=CubeUVReflectionMapping,te.texture.name="PMREM.cubeUv",te.scissorTest=!0,te}function _setViewport(Z,_,K,te,ne){Z.viewport.set(_,K,te,ne),Z.scissor.set(_,K,te,ne)}function _getBlurShader(Z,_,K){const te=new Float32Array(MAX_SAMPLES),ne=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/_,CUBEUV_TEXEL_HEIGHT:1/K,CUBEUV_MAX_MIP:`${Z}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:te},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:ne}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(Z){let _=new WeakMap,K=null;function te(se){if(se&&se.isTexture){const le=se.mapping,ce=le===EquirectangularReflectionMapping||le===EquirectangularRefractionMapping,fe=le===CubeReflectionMapping||le===CubeRefractionMapping;if(ce||fe){let pe=_.get(se);const me=pe!==void 0?pe.texture.pmremVersion:0;if(se.isRenderTargetTexture&&se.pmremVersion!==me)return K===null&&(K=new PMREMGenerator(Z)),pe=ce?K.fromEquirectangular(se,pe):K.fromCubemap(se,pe),pe.texture.pmremVersion=se.pmremVersion,_.set(se,pe),pe.texture;if(pe!==void 0)return pe.texture;{const ve=se.image;return ce&&ve&&ve.height>0||fe&&ve&&ne(ve)?(K===null&&(K=new PMREMGenerator(Z)),pe=ce?K.fromEquirectangular(se):K.fromCubemap(se),pe.texture.pmremVersion=se.pmremVersion,_.set(se,pe),se.addEventListener("dispose",ie),pe.texture):null}}}return se}function ne(se){let le=0;const ce=6;for(let fe=0;fe<ce;fe++)se[fe]!==void 0&&le++;return le===ce}function ie(se){const le=se.target;le.removeEventListener("dispose",ie);const ce=_.get(le);ce!==void 0&&(_.delete(le),ce.dispose())}function oe(){_=new WeakMap,K!==null&&(K.dispose(),K=null)}return{get:te,dispose:oe}}function WebGLExtensions(Z){const _={};function K(te){if(_[te]!==void 0)return _[te];let ne;switch(te){case"WEBGL_depth_texture":ne=Z.getExtension("WEBGL_depth_texture")||Z.getExtension("MOZ_WEBGL_depth_texture")||Z.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":ne=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":ne=Z.getExtension("WEBGL_compressed_texture_s3tc")||Z.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||Z.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":ne=Z.getExtension("WEBGL_compressed_texture_pvrtc")||Z.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:ne=Z.getExtension(te)}return _[te]=ne,ne}return{has:function(te){return K(te)!==null},init:function(){K("EXT_color_buffer_float"),K("WEBGL_clip_cull_distance"),K("OES_texture_float_linear"),K("EXT_color_buffer_half_float"),K("WEBGL_multisampled_render_to_texture"),K("WEBGL_render_shared_exponent")},get:function(te){const ne=K(te);return ne===null&&warnOnce("THREE.WebGLRenderer: "+te+" extension not supported."),ne}}}function WebGLGeometries(Z,_,K,te){const ne={},ie=new WeakMap;function oe(pe){const me=pe.target;me.index!==null&&_.remove(me.index);for(const ye in me.attributes)_.remove(me.attributes[ye]);me.removeEventListener("dispose",oe),delete ne[me.id];const ve=ie.get(me);ve&&(_.remove(ve),ie.delete(me)),te.releaseStatesOfGeometry(me),me.isInstancedBufferGeometry===!0&&delete me._maxInstanceCount,K.memory.geometries--}function se(pe,me){return ne[me.id]===!0||(me.addEventListener("dispose",oe),ne[me.id]=!0,K.memory.geometries++),me}function le(pe){const me=pe.attributes;for(const ve in me)_.update(me[ve],Z.ARRAY_BUFFER)}function ce(pe){const me=[],ve=pe.index,ye=pe.attributes.position;let Ee=0;if(ve!==null){const Te=ve.array;Ee=ve.version;for(let Re=0,Pe=Te.length;Re<Pe;Re+=3){const Fe=Te[Re+0],$e=Te[Re+1],ke=Te[Re+2];me.push(Fe,$e,$e,ke,ke,Fe)}}else if(ye!==void 0){const Te=ye.array;Ee=ye.version;for(let Re=0,Pe=Te.length/3-1;Re<Pe;Re+=3){const Fe=Re+0,$e=Re+1,ke=Re+2;me.push(Fe,$e,$e,ke,ke,Fe)}}else return;const Se=new(arrayNeedsUint32(me)?Uint32BufferAttribute:Uint16BufferAttribute)(me,1);Se.version=Ee;const _e=ie.get(pe);_e&&_.remove(_e),ie.set(pe,Se)}function fe(pe){const me=ie.get(pe);if(me){const ve=pe.index;ve!==null&&me.version<ve.version&&ce(pe)}else ce(pe);return ie.get(pe)}return{get:se,update:le,getWireframeAttribute:fe}}function WebGLIndexedBufferRenderer(Z,_,K){let te;function ne(me){te=me}let ie,oe;function se(me){ie=me.type,oe=me.bytesPerElement}function le(me,ve){Z.drawElements(te,ve,ie,me*oe),K.update(ve,te,1)}function ce(me,ve,ye){ye!==0&&(Z.drawElementsInstanced(te,ve,ie,me*oe,ye),K.update(ve,te,ye))}function fe(me,ve,ye){if(ye===0)return;_.get("WEBGL_multi_draw").multiDrawElementsWEBGL(te,ve,0,ie,me,0,ye);let Se=0;for(let _e=0;_e<ye;_e++)Se+=ve[_e];K.update(Se,te,1)}function pe(me,ve,ye,Ee){if(ye===0)return;const Se=_.get("WEBGL_multi_draw");if(Se===null)for(let _e=0;_e<me.length;_e++)ce(me[_e]/oe,ve[_e],Ee[_e]);else{Se.multiDrawElementsInstancedWEBGL(te,ve,0,ie,me,0,Ee,0,ye);let _e=0;for(let Te=0;Te<ye;Te++)_e+=ve[Te]*Ee[Te];K.update(_e,te,1)}}this.setMode=ne,this.setIndex=se,this.render=le,this.renderInstances=ce,this.renderMultiDraw=fe,this.renderMultiDrawInstances=pe}function WebGLInfo(Z){const _={geometries:0,textures:0},K={frame:0,calls:0,triangles:0,points:0,lines:0};function te(ie,oe,se){switch(K.calls++,oe){case Z.TRIANGLES:K.triangles+=se*(ie/3);break;case Z.LINES:K.lines+=se*(ie/2);break;case Z.LINE_STRIP:K.lines+=se*(ie-1);break;case Z.LINE_LOOP:K.lines+=se*ie;break;case Z.POINTS:K.points+=se*ie;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",oe);break}}function ne(){K.calls=0,K.triangles=0,K.points=0,K.lines=0}return{memory:_,render:K,programs:null,autoReset:!0,reset:ne,update:te}}function WebGLMorphtargets(Z,_,K){const te=new WeakMap,ne=new Vector4;function ie(oe,se,le){const ce=oe.morphTargetInfluences,fe=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,pe=fe!==void 0?fe.length:0;let me=te.get(se);if(me===void 0||me.count!==pe){let Ue=function(){ke.dispose(),te.delete(se),se.removeEventListener("dispose",Ue)};me!==void 0&&me.texture.dispose();const ve=se.morphAttributes.position!==void 0,ye=se.morphAttributes.normal!==void 0,Ee=se.morphAttributes.color!==void 0,Se=se.morphAttributes.position||[],_e=se.morphAttributes.normal||[],Te=se.morphAttributes.color||[];let Re=0;ve===!0&&(Re=1),ye===!0&&(Re=2),Ee===!0&&(Re=3);let Pe=se.attributes.position.count*Re,Fe=1;Pe>_.maxTextureSize&&(Fe=Math.ceil(Pe/_.maxTextureSize),Pe=_.maxTextureSize);const $e=new Float32Array(Pe*Fe*4*pe),ke=new DataArrayTexture($e,Pe,Fe,pe);ke.type=FloatType,ke.needsUpdate=!0;const ze=Re*4;for(let Oe=0;Oe<pe;Oe++){const Ve=Se[Oe],Ye=_e[Oe],Ke=Te[Oe],rt=Pe*Fe*4*Oe;for(let ct=0;ct<Ve.count;ct++){const at=ct*ze;ve===!0&&(ne.fromBufferAttribute(Ve,ct),$e[rt+at+0]=ne.x,$e[rt+at+1]=ne.y,$e[rt+at+2]=ne.z,$e[rt+at+3]=0),ye===!0&&(ne.fromBufferAttribute(Ye,ct),$e[rt+at+4]=ne.x,$e[rt+at+5]=ne.y,$e[rt+at+6]=ne.z,$e[rt+at+7]=0),Ee===!0&&(ne.fromBufferAttribute(Ke,ct),$e[rt+at+8]=ne.x,$e[rt+at+9]=ne.y,$e[rt+at+10]=ne.z,$e[rt+at+11]=Ke.itemSize===4?ne.w:1)}}me={count:pe,texture:ke,size:new Vector2(Pe,Fe)},te.set(se,me),se.addEventListener("dispose",Ue)}if(oe.isInstancedMesh===!0&&oe.morphTexture!==null)le.getUniforms().setValue(Z,"morphTexture",oe.morphTexture,K);else{let ve=0;for(let Ee=0;Ee<ce.length;Ee++)ve+=ce[Ee];const ye=se.morphTargetsRelative?1:1-ve;le.getUniforms().setValue(Z,"morphTargetBaseInfluence",ye),le.getUniforms().setValue(Z,"morphTargetInfluences",ce)}le.getUniforms().setValue(Z,"morphTargetsTexture",me.texture,K),le.getUniforms().setValue(Z,"morphTargetsTextureSize",me.size)}return{update:ie}}function WebGLObjects(Z,_,K,te){let ne=new WeakMap;function ie(le){const ce=te.render.frame,fe=le.geometry,pe=_.get(le,fe);if(ne.get(pe)!==ce&&(_.update(pe),ne.set(pe,ce)),le.isInstancedMesh&&(le.hasEventListener("dispose",se)===!1&&le.addEventListener("dispose",se),ne.get(le)!==ce&&(K.update(le.instanceMatrix,Z.ARRAY_BUFFER),le.instanceColor!==null&&K.update(le.instanceColor,Z.ARRAY_BUFFER),ne.set(le,ce))),le.isSkinnedMesh){const me=le.skeleton;ne.get(me)!==ce&&(me.update(),ne.set(me,ce))}return pe}function oe(){ne=new WeakMap}function se(le){const ce=le.target;ce.removeEventListener("dispose",se),K.remove(ce.instanceMatrix),ce.instanceColor!==null&&K.remove(ce.instanceColor)}return{update:ie,dispose:oe}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture$1,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten$1(Z,_,K){const te=Z[0];if(te<=0||te>0)return Z;const ne=_*K;let ie=arrayCacheF32[ne];if(ie===void 0&&(ie=new Float32Array(ne),arrayCacheF32[ne]=ie),_!==0){te.toArray(ie,0);for(let oe=1,se=0;oe!==_;++oe)se+=K,Z[oe].toArray(ie,se)}return ie}function arraysEqual(Z,_){if(Z.length!==_.length)return!1;for(let K=0,te=Z.length;K<te;K++)if(Z[K]!==_[K])return!1;return!0}function copyArray(Z,_){for(let K=0,te=_.length;K<te;K++)Z[K]=_[K]}function allocTexUnits(Z,_){let K=arrayCacheI32[_];K===void 0&&(K=new Int32Array(_),arrayCacheI32[_]=K);for(let te=0;te!==_;++te)K[te]=Z.allocateTextureUnit();return K}function setValueV1f(Z,_){const K=this.cache;K[0]!==_&&(Z.uniform1f(this.addr,_),K[0]=_)}function setValueV2f(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y)&&(Z.uniform2f(this.addr,_.x,_.y),K[0]=_.x,K[1]=_.y);else{if(arraysEqual(K,_))return;Z.uniform2fv(this.addr,_),copyArray(K,_)}}function setValueV3f(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z)&&(Z.uniform3f(this.addr,_.x,_.y,_.z),K[0]=_.x,K[1]=_.y,K[2]=_.z);else if(_.r!==void 0)(K[0]!==_.r||K[1]!==_.g||K[2]!==_.b)&&(Z.uniform3f(this.addr,_.r,_.g,_.b),K[0]=_.r,K[1]=_.g,K[2]=_.b);else{if(arraysEqual(K,_))return;Z.uniform3fv(this.addr,_),copyArray(K,_)}}function setValueV4f(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z||K[3]!==_.w)&&(Z.uniform4f(this.addr,_.x,_.y,_.z,_.w),K[0]=_.x,K[1]=_.y,K[2]=_.z,K[3]=_.w);else{if(arraysEqual(K,_))return;Z.uniform4fv(this.addr,_),copyArray(K,_)}}function setValueM2(Z,_){const K=this.cache,te=_.elements;if(te===void 0){if(arraysEqual(K,_))return;Z.uniformMatrix2fv(this.addr,!1,_),copyArray(K,_)}else{if(arraysEqual(K,te))return;mat2array.set(te),Z.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(K,te)}}function setValueM3(Z,_){const K=this.cache,te=_.elements;if(te===void 0){if(arraysEqual(K,_))return;Z.uniformMatrix3fv(this.addr,!1,_),copyArray(K,_)}else{if(arraysEqual(K,te))return;mat3array.set(te),Z.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(K,te)}}function setValueM4(Z,_){const K=this.cache,te=_.elements;if(te===void 0){if(arraysEqual(K,_))return;Z.uniformMatrix4fv(this.addr,!1,_),copyArray(K,_)}else{if(arraysEqual(K,te))return;mat4array.set(te),Z.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(K,te)}}function setValueV1i(Z,_){const K=this.cache;K[0]!==_&&(Z.uniform1i(this.addr,_),K[0]=_)}function setValueV2i(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y)&&(Z.uniform2i(this.addr,_.x,_.y),K[0]=_.x,K[1]=_.y);else{if(arraysEqual(K,_))return;Z.uniform2iv(this.addr,_),copyArray(K,_)}}function setValueV3i(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z)&&(Z.uniform3i(this.addr,_.x,_.y,_.z),K[0]=_.x,K[1]=_.y,K[2]=_.z);else{if(arraysEqual(K,_))return;Z.uniform3iv(this.addr,_),copyArray(K,_)}}function setValueV4i(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z||K[3]!==_.w)&&(Z.uniform4i(this.addr,_.x,_.y,_.z,_.w),K[0]=_.x,K[1]=_.y,K[2]=_.z,K[3]=_.w);else{if(arraysEqual(K,_))return;Z.uniform4iv(this.addr,_),copyArray(K,_)}}function setValueV1ui(Z,_){const K=this.cache;K[0]!==_&&(Z.uniform1ui(this.addr,_),K[0]=_)}function setValueV2ui(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y)&&(Z.uniform2ui(this.addr,_.x,_.y),K[0]=_.x,K[1]=_.y);else{if(arraysEqual(K,_))return;Z.uniform2uiv(this.addr,_),copyArray(K,_)}}function setValueV3ui(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z)&&(Z.uniform3ui(this.addr,_.x,_.y,_.z),K[0]=_.x,K[1]=_.y,K[2]=_.z);else{if(arraysEqual(K,_))return;Z.uniform3uiv(this.addr,_),copyArray(K,_)}}function setValueV4ui(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z||K[3]!==_.w)&&(Z.uniform4ui(this.addr,_.x,_.y,_.z,_.w),K[0]=_.x,K[1]=_.y,K[2]=_.z,K[3]=_.w);else{if(arraysEqual(K,_))return;Z.uniform4uiv(this.addr,_),copyArray(K,_)}}function setValueT1(Z,_,K){const te=this.cache,ne=K.allocateTextureUnit();te[0]!==ne&&(Z.uniform1i(this.addr,ne),te[0]=ne);let ie;this.type===Z.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,ie=emptyShadowTexture):ie=emptyTexture,K.setTexture2D(_||ie,ne)}function setValueT3D1(Z,_,K){const te=this.cache,ne=K.allocateTextureUnit();te[0]!==ne&&(Z.uniform1i(this.addr,ne),te[0]=ne),K.setTexture3D(_||empty3dTexture,ne)}function setValueT6(Z,_,K){const te=this.cache,ne=K.allocateTextureUnit();te[0]!==ne&&(Z.uniform1i(this.addr,ne),te[0]=ne),K.setTextureCube(_||emptyCubeTexture,ne)}function setValueT2DArray1(Z,_,K){const te=this.cache,ne=K.allocateTextureUnit();te[0]!==ne&&(Z.uniform1i(this.addr,ne),te[0]=ne),K.setTexture2DArray(_||emptyArrayTexture,ne)}function getSingularSetter(Z){switch(Z){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(Z,_){Z.uniform1fv(this.addr,_)}function setValueV2fArray(Z,_){const K=flatten$1(_,this.size,2);Z.uniform2fv(this.addr,K)}function setValueV3fArray(Z,_){const K=flatten$1(_,this.size,3);Z.uniform3fv(this.addr,K)}function setValueV4fArray(Z,_){const K=flatten$1(_,this.size,4);Z.uniform4fv(this.addr,K)}function setValueM2Array(Z,_){const K=flatten$1(_,this.size,4);Z.uniformMatrix2fv(this.addr,!1,K)}function setValueM3Array(Z,_){const K=flatten$1(_,this.size,9);Z.uniformMatrix3fv(this.addr,!1,K)}function setValueM4Array(Z,_){const K=flatten$1(_,this.size,16);Z.uniformMatrix4fv(this.addr,!1,K)}function setValueV1iArray(Z,_){Z.uniform1iv(this.addr,_)}function setValueV2iArray(Z,_){Z.uniform2iv(this.addr,_)}function setValueV3iArray(Z,_){Z.uniform3iv(this.addr,_)}function setValueV4iArray(Z,_){Z.uniform4iv(this.addr,_)}function setValueV1uiArray(Z,_){Z.uniform1uiv(this.addr,_)}function setValueV2uiArray(Z,_){Z.uniform2uiv(this.addr,_)}function setValueV3uiArray(Z,_){Z.uniform3uiv(this.addr,_)}function setValueV4uiArray(Z,_){Z.uniform4uiv(this.addr,_)}function setValueT1Array(Z,_,K){const te=this.cache,ne=_.length,ie=allocTexUnits(K,ne);arraysEqual(te,ie)||(Z.uniform1iv(this.addr,ie),copyArray(te,ie));for(let oe=0;oe!==ne;++oe)K.setTexture2D(_[oe]||emptyTexture,ie[oe])}function setValueT3DArray(Z,_,K){const te=this.cache,ne=_.length,ie=allocTexUnits(K,ne);arraysEqual(te,ie)||(Z.uniform1iv(this.addr,ie),copyArray(te,ie));for(let oe=0;oe!==ne;++oe)K.setTexture3D(_[oe]||empty3dTexture,ie[oe])}function setValueT6Array(Z,_,K){const te=this.cache,ne=_.length,ie=allocTexUnits(K,ne);arraysEqual(te,ie)||(Z.uniform1iv(this.addr,ie),copyArray(te,ie));for(let oe=0;oe!==ne;++oe)K.setTextureCube(_[oe]||emptyCubeTexture,ie[oe])}function setValueT2DArrayArray(Z,_,K){const te=this.cache,ne=_.length,ie=allocTexUnits(K,ne);arraysEqual(te,ie)||(Z.uniform1iv(this.addr,ie),copyArray(te,ie));for(let oe=0;oe!==ne;++oe)K.setTexture2DArray(_[oe]||emptyArrayTexture,ie[oe])}function getPureArraySetter(Z){switch(Z){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(_,K,te){this.id=_,this.addr=te,this.cache=[],this.type=K.type,this.setValue=getSingularSetter(K.type)}}class PureArrayUniform{constructor(_,K,te){this.id=_,this.addr=te,this.cache=[],this.type=K.type,this.size=K.size,this.setValue=getPureArraySetter(K.type)}}class StructuredUniform{constructor(_){this.id=_,this.seq=[],this.map={}}setValue(_,K,te){const ne=this.seq;for(let ie=0,oe=ne.length;ie!==oe;++ie){const se=ne[ie];se.setValue(_,K[se.id],te)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(Z,_){Z.seq.push(_),Z.map[_.id]=_}function parseUniform(Z,_,K){const te=Z.name,ne=te.length;for(RePathPart.lastIndex=0;;){const ie=RePathPart.exec(te),oe=RePathPart.lastIndex;let se=ie[1];const le=ie[2]==="]",ce=ie[3];if(le&&(se=se|0),ce===void 0||ce==="["&&oe+2===ne){addUniform(K,ce===void 0?new SingleUniform(se,Z,_):new PureArrayUniform(se,Z,_));break}else{let pe=K.map[se];pe===void 0&&(pe=new StructuredUniform(se),addUniform(K,pe)),K=pe}}}class WebGLUniforms{constructor(_,K){this.seq=[],this.map={};const te=_.getProgramParameter(K,_.ACTIVE_UNIFORMS);for(let ne=0;ne<te;++ne){const ie=_.getActiveUniform(K,ne),oe=_.getUniformLocation(K,ie.name);parseUniform(ie,oe,this)}}setValue(_,K,te,ne){const ie=this.map[K];ie!==void 0&&ie.setValue(_,te,ne)}setOptional(_,K,te){const ne=K[te];ne!==void 0&&this.setValue(_,te,ne)}static upload(_,K,te,ne){for(let ie=0,oe=K.length;ie!==oe;++ie){const se=K[ie],le=te[se.id];le.needsUpdate!==!1&&se.setValue(_,le.value,ne)}}static seqWithValue(_,K){const te=[];for(let ne=0,ie=_.length;ne!==ie;++ne){const oe=_[ne];oe.id in K&&te.push(oe)}return te}}function WebGLShader(Z,_,K){const te=Z.createShader(_);return Z.shaderSource(te,K),Z.compileShader(te),te}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(Z,_){const K=Z.split(`
`),te=[],ne=Math.max(_-6,0),ie=Math.min(_+6,K.length);for(let oe=ne;oe<ie;oe++){const se=oe+1;te.push(`${se===_?">":" "} ${se}: ${K[oe]}`)}return te.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(Z){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,Z);const _=`mat3( ${_m0.elements.map(K=>K.toFixed(4))} )`;switch(ColorManagement.getTransfer(Z)){case LinearTransfer:return[_,"LinearTransferOETF"];case SRGBTransfer:return[_,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",Z),[_,"LinearTransferOETF"]}}function getShaderErrors(Z,_,K){const te=Z.getShaderParameter(_,Z.COMPILE_STATUS),ne=Z.getShaderInfoLog(_).trim();if(te&&ne==="")return"";const ie=/ERROR: 0:(\d+)/.exec(ne);if(ie){const oe=parseInt(ie[1]);return K.toUpperCase()+`

`+ne+`

`+handleSource(Z.getShaderSource(_),oe)}else return ne}function getTexelEncodingFunction(Z,_){const K=getEncodingComponents(_);return[`vec4 ${Z}( vec4 value ) {`,`	return ${K[1]}( vec4( value.rgb * ${K[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(Z,_){let K;switch(_){case LinearToneMapping:K="Linear";break;case ReinhardToneMapping:K="Reinhard";break;case CineonToneMapping:K="Cineon";break;case ACESFilmicToneMapping:K="ACESFilmic";break;case AgXToneMapping:K="AgX";break;case NeutralToneMapping:K="Neutral";break;case CustomToneMapping:K="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",_),K="Linear"}return"vec3 "+Z+"( vec3 color ) { return "+K+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const Z=_v0.x.toFixed(4),_=_v0.y.toFixed(4),K=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${Z}, ${_}, ${K} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(Z){return[Z.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",Z.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(Z){const _=[];for(const K in Z){const te=Z[K];te!==!1&&_.push("#define "+K+" "+te)}return _.join(`
`)}function fetchAttributeLocations(Z,_){const K={},te=Z.getProgramParameter(_,Z.ACTIVE_ATTRIBUTES);for(let ne=0;ne<te;ne++){const ie=Z.getActiveAttrib(_,ne),oe=ie.name;let se=1;ie.type===Z.FLOAT_MAT2&&(se=2),ie.type===Z.FLOAT_MAT3&&(se=3),ie.type===Z.FLOAT_MAT4&&(se=4),K[oe]={type:ie.type,location:Z.getAttribLocation(_,oe),locationSize:se}}return K}function filterEmptyLine(Z){return Z!==""}function replaceLightNums(Z,_){const K=_.numSpotLightShadows+_.numSpotLightMaps-_.numSpotLightShadowsWithMaps;return Z.replace(/NUM_DIR_LIGHTS/g,_.numDirLights).replace(/NUM_SPOT_LIGHTS/g,_.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,_.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,K).replace(/NUM_RECT_AREA_LIGHTS/g,_.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,_.numPointLights).replace(/NUM_HEMI_LIGHTS/g,_.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,_.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,_.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,_.numPointLightShadows)}function replaceClippingPlaneNums(Z,_){return Z.replace(/NUM_CLIPPING_PLANES/g,_.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,_.numClippingPlanes-_.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(Z){return Z.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(Z,_){let K=ShaderChunk[_];if(K===void 0){const te=shaderChunkMap.get(_);if(te!==void 0)K=ShaderChunk[te],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',_,te);else throw new Error("Can not resolve #include <"+_+">")}return resolveIncludes(K)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(Z){return Z.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(Z,_,K,te){let ne="";for(let ie=parseInt(_);ie<parseInt(K);ie++)ne+=te.replace(/\[\s*i\s*\]/g,"[ "+ie+" ]").replace(/UNROLLED_LOOP_INDEX/g,ie);return ne}function generatePrecision(Z){let _=`precision ${Z.precision} float;
	precision ${Z.precision} int;
	precision ${Z.precision} sampler2D;
	precision ${Z.precision} samplerCube;
	precision ${Z.precision} sampler3D;
	precision ${Z.precision} sampler2DArray;
	precision ${Z.precision} sampler2DShadow;
	precision ${Z.precision} samplerCubeShadow;
	precision ${Z.precision} sampler2DArrayShadow;
	precision ${Z.precision} isampler2D;
	precision ${Z.precision} isampler3D;
	precision ${Z.precision} isamplerCube;
	precision ${Z.precision} isampler2DArray;
	precision ${Z.precision} usampler2D;
	precision ${Z.precision} usampler3D;
	precision ${Z.precision} usamplerCube;
	precision ${Z.precision} usampler2DArray;
	`;return Z.precision==="highp"?_+=`
#define HIGH_PRECISION`:Z.precision==="mediump"?_+=`
#define MEDIUM_PRECISION`:Z.precision==="lowp"&&(_+=`
#define LOW_PRECISION`),_}function generateShadowMapTypeDefine(Z){let _="SHADOWMAP_TYPE_BASIC";return Z.shadowMapType===PCFShadowMap?_="SHADOWMAP_TYPE_PCF":Z.shadowMapType===PCFSoftShadowMap?_="SHADOWMAP_TYPE_PCF_SOFT":Z.shadowMapType===VSMShadowMap&&(_="SHADOWMAP_TYPE_VSM"),_}function generateEnvMapTypeDefine(Z){let _="ENVMAP_TYPE_CUBE";if(Z.envMap)switch(Z.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:_="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:_="ENVMAP_TYPE_CUBE_UV";break}return _}function generateEnvMapModeDefine(Z){let _="ENVMAP_MODE_REFLECTION";if(Z.envMap)switch(Z.envMapMode){case CubeRefractionMapping:_="ENVMAP_MODE_REFRACTION";break}return _}function generateEnvMapBlendingDefine(Z){let _="ENVMAP_BLENDING_NONE";if(Z.envMap)switch(Z.combine){case MultiplyOperation:_="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:_="ENVMAP_BLENDING_MIX";break;case AddOperation:_="ENVMAP_BLENDING_ADD";break}return _}function generateCubeUVSize(Z){const _=Z.envMapCubeUVHeight;if(_===null)return null;const K=Math.log2(_)-2,te=1/_;return{texelWidth:1/(3*Math.max(Math.pow(2,K),7*16)),texelHeight:te,maxMip:K}}function WebGLProgram(Z,_,K,te){const ne=Z.getContext(),ie=K.defines;let oe=K.vertexShader,se=K.fragmentShader;const le=generateShadowMapTypeDefine(K),ce=generateEnvMapTypeDefine(K),fe=generateEnvMapModeDefine(K),pe=generateEnvMapBlendingDefine(K),me=generateCubeUVSize(K),ve=generateVertexExtensions(K),ye=generateDefines(ie),Ee=ne.createProgram();let Se,_e,Te=K.glslVersion?"#version "+K.glslVersion+`
`:"";K.isRawShaderMaterial?(Se=["#define SHADER_TYPE "+K.shaderType,"#define SHADER_NAME "+K.shaderName,ye].filter(filterEmptyLine).join(`
`),Se.length>0&&(Se+=`
`),_e=["#define SHADER_TYPE "+K.shaderType,"#define SHADER_NAME "+K.shaderName,ye].filter(filterEmptyLine).join(`
`),_e.length>0&&(_e+=`
`)):(Se=[generatePrecision(K),"#define SHADER_TYPE "+K.shaderType,"#define SHADER_NAME "+K.shaderName,ye,K.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",K.batching?"#define USE_BATCHING":"",K.batchingColor?"#define USE_BATCHING_COLOR":"",K.instancing?"#define USE_INSTANCING":"",K.instancingColor?"#define USE_INSTANCING_COLOR":"",K.instancingMorph?"#define USE_INSTANCING_MORPH":"",K.useFog&&K.fog?"#define USE_FOG":"",K.useFog&&K.fogExp2?"#define FOG_EXP2":"",K.map?"#define USE_MAP":"",K.envMap?"#define USE_ENVMAP":"",K.envMap?"#define "+fe:"",K.lightMap?"#define USE_LIGHTMAP":"",K.aoMap?"#define USE_AOMAP":"",K.bumpMap?"#define USE_BUMPMAP":"",K.normalMap?"#define USE_NORMALMAP":"",K.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",K.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",K.displacementMap?"#define USE_DISPLACEMENTMAP":"",K.emissiveMap?"#define USE_EMISSIVEMAP":"",K.anisotropy?"#define USE_ANISOTROPY":"",K.anisotropyMap?"#define USE_ANISOTROPYMAP":"",K.clearcoatMap?"#define USE_CLEARCOATMAP":"",K.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",K.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",K.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",K.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",K.specularMap?"#define USE_SPECULARMAP":"",K.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",K.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",K.roughnessMap?"#define USE_ROUGHNESSMAP":"",K.metalnessMap?"#define USE_METALNESSMAP":"",K.alphaMap?"#define USE_ALPHAMAP":"",K.alphaHash?"#define USE_ALPHAHASH":"",K.transmission?"#define USE_TRANSMISSION":"",K.transmissionMap?"#define USE_TRANSMISSIONMAP":"",K.thicknessMap?"#define USE_THICKNESSMAP":"",K.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",K.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",K.mapUv?"#define MAP_UV "+K.mapUv:"",K.alphaMapUv?"#define ALPHAMAP_UV "+K.alphaMapUv:"",K.lightMapUv?"#define LIGHTMAP_UV "+K.lightMapUv:"",K.aoMapUv?"#define AOMAP_UV "+K.aoMapUv:"",K.emissiveMapUv?"#define EMISSIVEMAP_UV "+K.emissiveMapUv:"",K.bumpMapUv?"#define BUMPMAP_UV "+K.bumpMapUv:"",K.normalMapUv?"#define NORMALMAP_UV "+K.normalMapUv:"",K.displacementMapUv?"#define DISPLACEMENTMAP_UV "+K.displacementMapUv:"",K.metalnessMapUv?"#define METALNESSMAP_UV "+K.metalnessMapUv:"",K.roughnessMapUv?"#define ROUGHNESSMAP_UV "+K.roughnessMapUv:"",K.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+K.anisotropyMapUv:"",K.clearcoatMapUv?"#define CLEARCOATMAP_UV "+K.clearcoatMapUv:"",K.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+K.clearcoatNormalMapUv:"",K.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+K.clearcoatRoughnessMapUv:"",K.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+K.iridescenceMapUv:"",K.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+K.iridescenceThicknessMapUv:"",K.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+K.sheenColorMapUv:"",K.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+K.sheenRoughnessMapUv:"",K.specularMapUv?"#define SPECULARMAP_UV "+K.specularMapUv:"",K.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+K.specularColorMapUv:"",K.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+K.specularIntensityMapUv:"",K.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+K.transmissionMapUv:"",K.thicknessMapUv?"#define THICKNESSMAP_UV "+K.thicknessMapUv:"",K.vertexTangents&&K.flatShading===!1?"#define USE_TANGENT":"",K.vertexColors?"#define USE_COLOR":"",K.vertexAlphas?"#define USE_COLOR_ALPHA":"",K.vertexUv1s?"#define USE_UV1":"",K.vertexUv2s?"#define USE_UV2":"",K.vertexUv3s?"#define USE_UV3":"",K.pointsUvs?"#define USE_POINTS_UV":"",K.flatShading?"#define FLAT_SHADED":"",K.skinning?"#define USE_SKINNING":"",K.morphTargets?"#define USE_MORPHTARGETS":"",K.morphNormals&&K.flatShading===!1?"#define USE_MORPHNORMALS":"",K.morphColors?"#define USE_MORPHCOLORS":"",K.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+K.morphTextureStride:"",K.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+K.morphTargetsCount:"",K.doubleSided?"#define DOUBLE_SIDED":"",K.flipSided?"#define FLIP_SIDED":"",K.shadowMapEnabled?"#define USE_SHADOWMAP":"",K.shadowMapEnabled?"#define "+le:"",K.sizeAttenuation?"#define USE_SIZEATTENUATION":"",K.numLightProbes>0?"#define USE_LIGHT_PROBES":"",K.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",K.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),_e=[generatePrecision(K),"#define SHADER_TYPE "+K.shaderType,"#define SHADER_NAME "+K.shaderName,ye,K.useFog&&K.fog?"#define USE_FOG":"",K.useFog&&K.fogExp2?"#define FOG_EXP2":"",K.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",K.map?"#define USE_MAP":"",K.matcap?"#define USE_MATCAP":"",K.envMap?"#define USE_ENVMAP":"",K.envMap?"#define "+ce:"",K.envMap?"#define "+fe:"",K.envMap?"#define "+pe:"",me?"#define CUBEUV_TEXEL_WIDTH "+me.texelWidth:"",me?"#define CUBEUV_TEXEL_HEIGHT "+me.texelHeight:"",me?"#define CUBEUV_MAX_MIP "+me.maxMip+".0":"",K.lightMap?"#define USE_LIGHTMAP":"",K.aoMap?"#define USE_AOMAP":"",K.bumpMap?"#define USE_BUMPMAP":"",K.normalMap?"#define USE_NORMALMAP":"",K.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",K.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",K.emissiveMap?"#define USE_EMISSIVEMAP":"",K.anisotropy?"#define USE_ANISOTROPY":"",K.anisotropyMap?"#define USE_ANISOTROPYMAP":"",K.clearcoat?"#define USE_CLEARCOAT":"",K.clearcoatMap?"#define USE_CLEARCOATMAP":"",K.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",K.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",K.dispersion?"#define USE_DISPERSION":"",K.iridescence?"#define USE_IRIDESCENCE":"",K.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",K.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",K.specularMap?"#define USE_SPECULARMAP":"",K.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",K.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",K.roughnessMap?"#define USE_ROUGHNESSMAP":"",K.metalnessMap?"#define USE_METALNESSMAP":"",K.alphaMap?"#define USE_ALPHAMAP":"",K.alphaTest?"#define USE_ALPHATEST":"",K.alphaHash?"#define USE_ALPHAHASH":"",K.sheen?"#define USE_SHEEN":"",K.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",K.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",K.transmission?"#define USE_TRANSMISSION":"",K.transmissionMap?"#define USE_TRANSMISSIONMAP":"",K.thicknessMap?"#define USE_THICKNESSMAP":"",K.vertexTangents&&K.flatShading===!1?"#define USE_TANGENT":"",K.vertexColors||K.instancingColor||K.batchingColor?"#define USE_COLOR":"",K.vertexAlphas?"#define USE_COLOR_ALPHA":"",K.vertexUv1s?"#define USE_UV1":"",K.vertexUv2s?"#define USE_UV2":"",K.vertexUv3s?"#define USE_UV3":"",K.pointsUvs?"#define USE_POINTS_UV":"",K.gradientMap?"#define USE_GRADIENTMAP":"",K.flatShading?"#define FLAT_SHADED":"",K.doubleSided?"#define DOUBLE_SIDED":"",K.flipSided?"#define FLIP_SIDED":"",K.shadowMapEnabled?"#define USE_SHADOWMAP":"",K.shadowMapEnabled?"#define "+le:"",K.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",K.numLightProbes>0?"#define USE_LIGHT_PROBES":"",K.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",K.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",K.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",K.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",K.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",K.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",K.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",K.toneMapping):"",K.dithering?"#define DITHERING":"",K.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",K.outputColorSpace),getLuminanceFunction(),K.useDepthPacking?"#define DEPTH_PACKING "+K.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),oe=resolveIncludes(oe),oe=replaceLightNums(oe,K),oe=replaceClippingPlaneNums(oe,K),se=resolveIncludes(se),se=replaceLightNums(se,K),se=replaceClippingPlaneNums(se,K),oe=unrollLoops(oe),se=unrollLoops(se),K.isRawShaderMaterial!==!0&&(Te=`#version 300 es
`,Se=[ve,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Se,_e=["#define varying in",K.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",K.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_e);const Re=Te+Se+oe,Pe=Te+_e+se,Fe=WebGLShader(ne,ne.VERTEX_SHADER,Re),$e=WebGLShader(ne,ne.FRAGMENT_SHADER,Pe);ne.attachShader(Ee,Fe),ne.attachShader(Ee,$e),K.index0AttributeName!==void 0?ne.bindAttribLocation(Ee,0,K.index0AttributeName):K.morphTargets===!0&&ne.bindAttribLocation(Ee,0,"position"),ne.linkProgram(Ee);function ke(Ve){if(Z.debug.checkShaderErrors){const Ye=ne.getProgramInfoLog(Ee).trim(),Ke=ne.getShaderInfoLog(Fe).trim(),rt=ne.getShaderInfoLog($e).trim();let ct=!0,at=!0;if(ne.getProgramParameter(Ee,ne.LINK_STATUS)===!1)if(ct=!1,typeof Z.debug.onShaderError=="function")Z.debug.onShaderError(ne,Ee,Fe,$e);else{const mt=getShaderErrors(ne,Fe,"vertex"),je=getShaderErrors(ne,$e,"fragment");console.error("THREE.WebGLProgram: Shader Error "+ne.getError()+" - VALIDATE_STATUS "+ne.getProgramParameter(Ee,ne.VALIDATE_STATUS)+`

Material Name: `+Ve.name+`
Material Type: `+Ve.type+`

Program Info Log: `+Ye+`
`+mt+`
`+je)}else Ye!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ye):(Ke===""||rt==="")&&(at=!1);at&&(Ve.diagnostics={runnable:ct,programLog:Ye,vertexShader:{log:Ke,prefix:Se},fragmentShader:{log:rt,prefix:_e}})}ne.deleteShader(Fe),ne.deleteShader($e),ze=new WebGLUniforms(ne,Ee),Ue=fetchAttributeLocations(ne,Ee)}let ze;this.getUniforms=function(){return ze===void 0&&ke(this),ze};let Ue;this.getAttributes=function(){return Ue===void 0&&ke(this),Ue};let Oe=K.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Oe===!1&&(Oe=ne.getProgramParameter(Ee,COMPLETION_STATUS_KHR)),Oe},this.destroy=function(){te.releaseStatesOfProgram(this),ne.deleteProgram(Ee),this.program=void 0},this.type=K.shaderType,this.name=K.shaderName,this.id=programIdCount++,this.cacheKey=_,this.usedTimes=1,this.program=Ee,this.vertexShader=Fe,this.fragmentShader=$e,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(_){const K=_.vertexShader,te=_.fragmentShader,ne=this._getShaderStage(K),ie=this._getShaderStage(te),oe=this._getShaderCacheForMaterial(_);return oe.has(ne)===!1&&(oe.add(ne),ne.usedTimes++),oe.has(ie)===!1&&(oe.add(ie),ie.usedTimes++),this}remove(_){const K=this.materialCache.get(_);for(const te of K)te.usedTimes--,te.usedTimes===0&&this.shaderCache.delete(te.code);return this.materialCache.delete(_),this}getVertexShaderID(_){return this._getShaderStage(_.vertexShader).id}getFragmentShaderID(_){return this._getShaderStage(_.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(_){const K=this.materialCache;let te=K.get(_);return te===void 0&&(te=new Set,K.set(_,te)),te}_getShaderStage(_){const K=this.shaderCache;let te=K.get(_);return te===void 0&&(te=new WebGLShaderStage(_),K.set(_,te)),te}}class WebGLShaderStage{constructor(_){this.id=_id++,this.code=_,this.usedTimes=0}}function WebGLPrograms(Z,_,K,te,ne,ie,oe){const se=new Layers,le=new WebGLShaderCache,ce=new Set,fe=[],pe=ne.logarithmicDepthBuffer,me=ne.vertexTextures;let ve=ne.precision;const ye={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Ee(Ue){return ce.add(Ue),Ue===0?"uv":`uv${Ue}`}function Se(Ue,Oe,Ve,Ye,Ke){const rt=Ye.fog,ct=Ke.geometry,at=Ue.isMeshStandardMaterial?Ye.environment:null,mt=(Ue.isMeshStandardMaterial?K:_).get(Ue.envMap||at),je=mt&&mt.mapping===CubeUVReflectionMapping?mt.image.height:null,it=ye[Ue.type];Ue.precision!==null&&(ve=ne.getMaxPrecision(Ue.precision),ve!==Ue.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ue.precision,"not supported, using",ve,"instead."));const et=ct.morphAttributes.position||ct.morphAttributes.normal||ct.morphAttributes.color,qe=et!==void 0?et.length:0;let lt=0;ct.morphAttributes.position!==void 0&&(lt=1),ct.morphAttributes.normal!==void 0&&(lt=2),ct.morphAttributes.color!==void 0&&(lt=3);let _t,ut,St,Et;if(it){const Gn=ShaderLib[it];_t=Gn.vertexShader,ut=Gn.fragmentShader}else _t=Ue.vertexShader,ut=Ue.fragmentShader,le.update(Ue),St=le.getVertexShaderID(Ue),Et=le.getFragmentShaderID(Ue);const At=Z.getRenderTarget(),kt=Z.state.buffers.depth.getReversed(),jt=Ke.isInstancedMesh===!0,en=Ke.isBatchedMesh===!0,un=!!Ue.map,It=!!Ue.matcap,Ot=!!mt,Ze=!!Ue.aoMap,sn=!!Ue.lightMap,Bt=!!Ue.bumpMap,rn=!!Ue.normalMap,Gt=!!Ue.displacementMap,pn=!!Ue.emissiveMap,qt=!!Ue.metalnessMap,Xe=!!Ue.roughnessMap,He=Ue.anisotropy>0,tt=Ue.clearcoat>0,pt=Ue.dispersion>0,Lt=Ue.iridescence>0,Ct=Ue.sheen>0,nn=Ue.transmission>0,Xt=He&&!!Ue.anisotropyMap,Qt=tt&&!!Ue.clearcoatMap,Rn=tt&&!!Ue.clearcoatNormalMap,Ut=tt&&!!Ue.clearcoatRoughnessMap,Ft=Lt&&!!Ue.iridescenceMap,Zt=Lt&&!!Ue.iridescenceThicknessMap,yn=Ct&&!!Ue.sheenColorMap,an=Ct&&!!Ue.sheenRoughnessMap,ot=!!Ue.specularMap,$t=!!Ue.specularColorMap,tn=!!Ue.specularIntensityMap,nt=nn&&!!Ue.transmissionMap,zt=nn&&!!Ue.thicknessMap,wt=!!Ue.gradientMap,Nt=!!Ue.alphaMap,dn=Ue.alphaTest>0,cn=!!Ue.alphaHash,Pn=!!Ue.extensions;let Yn=NoToneMapping;Ue.toneMapped&&(At===null||At.isXRRenderTarget===!0)&&(Yn=Z.toneMapping);const sr={shaderID:it,shaderType:Ue.type,shaderName:Ue.name,vertexShader:_t,fragmentShader:ut,defines:Ue.defines,customVertexShaderID:St,customFragmentShaderID:Et,isRawShaderMaterial:Ue.isRawShaderMaterial===!0,glslVersion:Ue.glslVersion,precision:ve,batching:en,batchingColor:en&&Ke._colorsTexture!==null,instancing:jt,instancingColor:jt&&Ke.instanceColor!==null,instancingMorph:jt&&Ke.morphTexture!==null,supportsVertexTextures:me,outputColorSpace:At===null?Z.outputColorSpace:At.isXRRenderTarget===!0?At.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!Ue.alphaToCoverage,map:un,matcap:It,envMap:Ot,envMapMode:Ot&&mt.mapping,envMapCubeUVHeight:je,aoMap:Ze,lightMap:sn,bumpMap:Bt,normalMap:rn,displacementMap:me&&Gt,emissiveMap:pn,normalMapObjectSpace:rn&&Ue.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:rn&&Ue.normalMapType===TangentSpaceNormalMap,metalnessMap:qt,roughnessMap:Xe,anisotropy:He,anisotropyMap:Xt,clearcoat:tt,clearcoatMap:Qt,clearcoatNormalMap:Rn,clearcoatRoughnessMap:Ut,dispersion:pt,iridescence:Lt,iridescenceMap:Ft,iridescenceThicknessMap:Zt,sheen:Ct,sheenColorMap:yn,sheenRoughnessMap:an,specularMap:ot,specularColorMap:$t,specularIntensityMap:tn,transmission:nn,transmissionMap:nt,thicknessMap:zt,gradientMap:wt,opaque:Ue.transparent===!1&&Ue.blending===NormalBlending&&Ue.alphaToCoverage===!1,alphaMap:Nt,alphaTest:dn,alphaHash:cn,combine:Ue.combine,mapUv:un&&Ee(Ue.map.channel),aoMapUv:Ze&&Ee(Ue.aoMap.channel),lightMapUv:sn&&Ee(Ue.lightMap.channel),bumpMapUv:Bt&&Ee(Ue.bumpMap.channel),normalMapUv:rn&&Ee(Ue.normalMap.channel),displacementMapUv:Gt&&Ee(Ue.displacementMap.channel),emissiveMapUv:pn&&Ee(Ue.emissiveMap.channel),metalnessMapUv:qt&&Ee(Ue.metalnessMap.channel),roughnessMapUv:Xe&&Ee(Ue.roughnessMap.channel),anisotropyMapUv:Xt&&Ee(Ue.anisotropyMap.channel),clearcoatMapUv:Qt&&Ee(Ue.clearcoatMap.channel),clearcoatNormalMapUv:Rn&&Ee(Ue.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ut&&Ee(Ue.clearcoatRoughnessMap.channel),iridescenceMapUv:Ft&&Ee(Ue.iridescenceMap.channel),iridescenceThicknessMapUv:Zt&&Ee(Ue.iridescenceThicknessMap.channel),sheenColorMapUv:yn&&Ee(Ue.sheenColorMap.channel),sheenRoughnessMapUv:an&&Ee(Ue.sheenRoughnessMap.channel),specularMapUv:ot&&Ee(Ue.specularMap.channel),specularColorMapUv:$t&&Ee(Ue.specularColorMap.channel),specularIntensityMapUv:tn&&Ee(Ue.specularIntensityMap.channel),transmissionMapUv:nt&&Ee(Ue.transmissionMap.channel),thicknessMapUv:zt&&Ee(Ue.thicknessMap.channel),alphaMapUv:Nt&&Ee(Ue.alphaMap.channel),vertexTangents:!!ct.attributes.tangent&&(rn||He),vertexColors:Ue.vertexColors,vertexAlphas:Ue.vertexColors===!0&&!!ct.attributes.color&&ct.attributes.color.itemSize===4,pointsUvs:Ke.isPoints===!0&&!!ct.attributes.uv&&(un||Nt),fog:!!rt,useFog:Ue.fog===!0,fogExp2:!!rt&&rt.isFogExp2,flatShading:Ue.flatShading===!0,sizeAttenuation:Ue.sizeAttenuation===!0,logarithmicDepthBuffer:pe,reverseDepthBuffer:kt,skinning:Ke.isSkinnedMesh===!0,morphTargets:ct.morphAttributes.position!==void 0,morphNormals:ct.morphAttributes.normal!==void 0,morphColors:ct.morphAttributes.color!==void 0,morphTargetsCount:qe,morphTextureStride:lt,numDirLights:Oe.directional.length,numPointLights:Oe.point.length,numSpotLights:Oe.spot.length,numSpotLightMaps:Oe.spotLightMap.length,numRectAreaLights:Oe.rectArea.length,numHemiLights:Oe.hemi.length,numDirLightShadows:Oe.directionalShadowMap.length,numPointLightShadows:Oe.pointShadowMap.length,numSpotLightShadows:Oe.spotShadowMap.length,numSpotLightShadowsWithMaps:Oe.numSpotLightShadowsWithMaps,numLightProbes:Oe.numLightProbes,numClippingPlanes:oe.numPlanes,numClipIntersection:oe.numIntersection,dithering:Ue.dithering,shadowMapEnabled:Z.shadowMap.enabled&&Ve.length>0,shadowMapType:Z.shadowMap.type,toneMapping:Yn,decodeVideoTexture:un&&Ue.map.isVideoTexture===!0&&ColorManagement.getTransfer(Ue.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:pn&&Ue.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(Ue.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:Ue.premultipliedAlpha,doubleSided:Ue.side===DoubleSide,flipSided:Ue.side===BackSide,useDepthPacking:Ue.depthPacking>=0,depthPacking:Ue.depthPacking||0,index0AttributeName:Ue.index0AttributeName,extensionClipCullDistance:Pn&&Ue.extensions.clipCullDistance===!0&&te.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Pn&&Ue.extensions.multiDraw===!0||en)&&te.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:te.has("KHR_parallel_shader_compile"),customProgramCacheKey:Ue.customProgramCacheKey()};return sr.vertexUv1s=ce.has(1),sr.vertexUv2s=ce.has(2),sr.vertexUv3s=ce.has(3),ce.clear(),sr}function _e(Ue){const Oe=[];if(Ue.shaderID?Oe.push(Ue.shaderID):(Oe.push(Ue.customVertexShaderID),Oe.push(Ue.customFragmentShaderID)),Ue.defines!==void 0)for(const Ve in Ue.defines)Oe.push(Ve),Oe.push(Ue.defines[Ve]);return Ue.isRawShaderMaterial===!1&&(Te(Oe,Ue),Re(Oe,Ue),Oe.push(Z.outputColorSpace)),Oe.push(Ue.customProgramCacheKey),Oe.join()}function Te(Ue,Oe){Ue.push(Oe.precision),Ue.push(Oe.outputColorSpace),Ue.push(Oe.envMapMode),Ue.push(Oe.envMapCubeUVHeight),Ue.push(Oe.mapUv),Ue.push(Oe.alphaMapUv),Ue.push(Oe.lightMapUv),Ue.push(Oe.aoMapUv),Ue.push(Oe.bumpMapUv),Ue.push(Oe.normalMapUv),Ue.push(Oe.displacementMapUv),Ue.push(Oe.emissiveMapUv),Ue.push(Oe.metalnessMapUv),Ue.push(Oe.roughnessMapUv),Ue.push(Oe.anisotropyMapUv),Ue.push(Oe.clearcoatMapUv),Ue.push(Oe.clearcoatNormalMapUv),Ue.push(Oe.clearcoatRoughnessMapUv),Ue.push(Oe.iridescenceMapUv),Ue.push(Oe.iridescenceThicknessMapUv),Ue.push(Oe.sheenColorMapUv),Ue.push(Oe.sheenRoughnessMapUv),Ue.push(Oe.specularMapUv),Ue.push(Oe.specularColorMapUv),Ue.push(Oe.specularIntensityMapUv),Ue.push(Oe.transmissionMapUv),Ue.push(Oe.thicknessMapUv),Ue.push(Oe.combine),Ue.push(Oe.fogExp2),Ue.push(Oe.sizeAttenuation),Ue.push(Oe.morphTargetsCount),Ue.push(Oe.morphAttributeCount),Ue.push(Oe.numDirLights),Ue.push(Oe.numPointLights),Ue.push(Oe.numSpotLights),Ue.push(Oe.numSpotLightMaps),Ue.push(Oe.numHemiLights),Ue.push(Oe.numRectAreaLights),Ue.push(Oe.numDirLightShadows),Ue.push(Oe.numPointLightShadows),Ue.push(Oe.numSpotLightShadows),Ue.push(Oe.numSpotLightShadowsWithMaps),Ue.push(Oe.numLightProbes),Ue.push(Oe.shadowMapType),Ue.push(Oe.toneMapping),Ue.push(Oe.numClippingPlanes),Ue.push(Oe.numClipIntersection),Ue.push(Oe.depthPacking)}function Re(Ue,Oe){se.disableAll(),Oe.supportsVertexTextures&&se.enable(0),Oe.instancing&&se.enable(1),Oe.instancingColor&&se.enable(2),Oe.instancingMorph&&se.enable(3),Oe.matcap&&se.enable(4),Oe.envMap&&se.enable(5),Oe.normalMapObjectSpace&&se.enable(6),Oe.normalMapTangentSpace&&se.enable(7),Oe.clearcoat&&se.enable(8),Oe.iridescence&&se.enable(9),Oe.alphaTest&&se.enable(10),Oe.vertexColors&&se.enable(11),Oe.vertexAlphas&&se.enable(12),Oe.vertexUv1s&&se.enable(13),Oe.vertexUv2s&&se.enable(14),Oe.vertexUv3s&&se.enable(15),Oe.vertexTangents&&se.enable(16),Oe.anisotropy&&se.enable(17),Oe.alphaHash&&se.enable(18),Oe.batching&&se.enable(19),Oe.dispersion&&se.enable(20),Oe.batchingColor&&se.enable(21),Ue.push(se.mask),se.disableAll(),Oe.fog&&se.enable(0),Oe.useFog&&se.enable(1),Oe.flatShading&&se.enable(2),Oe.logarithmicDepthBuffer&&se.enable(3),Oe.reverseDepthBuffer&&se.enable(4),Oe.skinning&&se.enable(5),Oe.morphTargets&&se.enable(6),Oe.morphNormals&&se.enable(7),Oe.morphColors&&se.enable(8),Oe.premultipliedAlpha&&se.enable(9),Oe.shadowMapEnabled&&se.enable(10),Oe.doubleSided&&se.enable(11),Oe.flipSided&&se.enable(12),Oe.useDepthPacking&&se.enable(13),Oe.dithering&&se.enable(14),Oe.transmission&&se.enable(15),Oe.sheen&&se.enable(16),Oe.opaque&&se.enable(17),Oe.pointsUvs&&se.enable(18),Oe.decodeVideoTexture&&se.enable(19),Oe.decodeVideoTextureEmissive&&se.enable(20),Oe.alphaToCoverage&&se.enable(21),Ue.push(se.mask)}function Pe(Ue){const Oe=ye[Ue.type];let Ve;if(Oe){const Ye=ShaderLib[Oe];Ve=UniformsUtils.clone(Ye.uniforms)}else Ve=Ue.uniforms;return Ve}function Fe(Ue,Oe){let Ve;for(let Ye=0,Ke=fe.length;Ye<Ke;Ye++){const rt=fe[Ye];if(rt.cacheKey===Oe){Ve=rt,++Ve.usedTimes;break}}return Ve===void 0&&(Ve=new WebGLProgram(Z,Oe,Ue,ie),fe.push(Ve)),Ve}function $e(Ue){if(--Ue.usedTimes===0){const Oe=fe.indexOf(Ue);fe[Oe]=fe[fe.length-1],fe.pop(),Ue.destroy()}}function ke(Ue){le.remove(Ue)}function ze(){le.dispose()}return{getParameters:Se,getProgramCacheKey:_e,getUniforms:Pe,acquireProgram:Fe,releaseProgram:$e,releaseShaderCache:ke,programs:fe,dispose:ze}}function WebGLProperties(){let Z=new WeakMap;function _(oe){return Z.has(oe)}function K(oe){let se=Z.get(oe);return se===void 0&&(se={},Z.set(oe,se)),se}function te(oe){Z.delete(oe)}function ne(oe,se,le){Z.get(oe)[se]=le}function ie(){Z=new WeakMap}return{has:_,get:K,remove:te,update:ne,dispose:ie}}function painterSortStable(Z,_){return Z.groupOrder!==_.groupOrder?Z.groupOrder-_.groupOrder:Z.renderOrder!==_.renderOrder?Z.renderOrder-_.renderOrder:Z.material.id!==_.material.id?Z.material.id-_.material.id:Z.z!==_.z?Z.z-_.z:Z.id-_.id}function reversePainterSortStable(Z,_){return Z.groupOrder!==_.groupOrder?Z.groupOrder-_.groupOrder:Z.renderOrder!==_.renderOrder?Z.renderOrder-_.renderOrder:Z.z!==_.z?_.z-Z.z:Z.id-_.id}function WebGLRenderList(){const Z=[];let _=0;const K=[],te=[],ne=[];function ie(){_=0,K.length=0,te.length=0,ne.length=0}function oe(pe,me,ve,ye,Ee,Se){let _e=Z[_];return _e===void 0?(_e={id:pe.id,object:pe,geometry:me,material:ve,groupOrder:ye,renderOrder:pe.renderOrder,z:Ee,group:Se},Z[_]=_e):(_e.id=pe.id,_e.object=pe,_e.geometry=me,_e.material=ve,_e.groupOrder=ye,_e.renderOrder=pe.renderOrder,_e.z=Ee,_e.group=Se),_++,_e}function se(pe,me,ve,ye,Ee,Se){const _e=oe(pe,me,ve,ye,Ee,Se);ve.transmission>0?te.push(_e):ve.transparent===!0?ne.push(_e):K.push(_e)}function le(pe,me,ve,ye,Ee,Se){const _e=oe(pe,me,ve,ye,Ee,Se);ve.transmission>0?te.unshift(_e):ve.transparent===!0?ne.unshift(_e):K.unshift(_e)}function ce(pe,me){K.length>1&&K.sort(pe||painterSortStable),te.length>1&&te.sort(me||reversePainterSortStable),ne.length>1&&ne.sort(me||reversePainterSortStable)}function fe(){for(let pe=_,me=Z.length;pe<me;pe++){const ve=Z[pe];if(ve.id===null)break;ve.id=null,ve.object=null,ve.geometry=null,ve.material=null,ve.group=null}}return{opaque:K,transmissive:te,transparent:ne,init:ie,push:se,unshift:le,finish:fe,sort:ce}}function WebGLRenderLists(){let Z=new WeakMap;function _(te,ne){const ie=Z.get(te);let oe;return ie===void 0?(oe=new WebGLRenderList,Z.set(te,[oe])):ne>=ie.length?(oe=new WebGLRenderList,ie.push(oe)):oe=ie[ne],oe}function K(){Z=new WeakMap}return{get:_,dispose:K}}function UniformsCache(){const Z={};return{get:function(_){if(Z[_.id]!==void 0)return Z[_.id];let K;switch(_.type){case"DirectionalLight":K={direction:new Vector3,color:new Color$1};break;case"SpotLight":K={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":K={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":K={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":K={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return Z[_.id]=K,K}}}function ShadowUniformsCache(){const Z={};return{get:function(_){if(Z[_.id]!==void 0)return Z[_.id];let K;switch(_.type){case"DirectionalLight":K={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":K={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":K={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return Z[_.id]=K,K}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(Z,_){return(_.castShadow?2:0)-(Z.castShadow?2:0)+(_.map?1:0)-(Z.map?1:0)}function WebGLLights(Z){const _=new UniformsCache,K=ShadowUniformsCache(),te={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let ce=0;ce<9;ce++)te.probe.push(new Vector3);const ne=new Vector3,ie=new Matrix4,oe=new Matrix4;function se(ce){let fe=0,pe=0,me=0;for(let Ue=0;Ue<9;Ue++)te.probe[Ue].set(0,0,0);let ve=0,ye=0,Ee=0,Se=0,_e=0,Te=0,Re=0,Pe=0,Fe=0,$e=0,ke=0;ce.sort(shadowCastingAndTexturingLightsFirst);for(let Ue=0,Oe=ce.length;Ue<Oe;Ue++){const Ve=ce[Ue],Ye=Ve.color,Ke=Ve.intensity,rt=Ve.distance,ct=Ve.shadow&&Ve.shadow.map?Ve.shadow.map.texture:null;if(Ve.isAmbientLight)fe+=Ye.r*Ke,pe+=Ye.g*Ke,me+=Ye.b*Ke;else if(Ve.isLightProbe){for(let at=0;at<9;at++)te.probe[at].addScaledVector(Ve.sh.coefficients[at],Ke);ke++}else if(Ve.isDirectionalLight){const at=_.get(Ve);if(at.color.copy(Ve.color).multiplyScalar(Ve.intensity),Ve.castShadow){const mt=Ve.shadow,je=K.get(Ve);je.shadowIntensity=mt.intensity,je.shadowBias=mt.bias,je.shadowNormalBias=mt.normalBias,je.shadowRadius=mt.radius,je.shadowMapSize=mt.mapSize,te.directionalShadow[ve]=je,te.directionalShadowMap[ve]=ct,te.directionalShadowMatrix[ve]=Ve.shadow.matrix,Te++}te.directional[ve]=at,ve++}else if(Ve.isSpotLight){const at=_.get(Ve);at.position.setFromMatrixPosition(Ve.matrixWorld),at.color.copy(Ye).multiplyScalar(Ke),at.distance=rt,at.coneCos=Math.cos(Ve.angle),at.penumbraCos=Math.cos(Ve.angle*(1-Ve.penumbra)),at.decay=Ve.decay,te.spot[Ee]=at;const mt=Ve.shadow;if(Ve.map&&(te.spotLightMap[Fe]=Ve.map,Fe++,mt.updateMatrices(Ve),Ve.castShadow&&$e++),te.spotLightMatrix[Ee]=mt.matrix,Ve.castShadow){const je=K.get(Ve);je.shadowIntensity=mt.intensity,je.shadowBias=mt.bias,je.shadowNormalBias=mt.normalBias,je.shadowRadius=mt.radius,je.shadowMapSize=mt.mapSize,te.spotShadow[Ee]=je,te.spotShadowMap[Ee]=ct,Pe++}Ee++}else if(Ve.isRectAreaLight){const at=_.get(Ve);at.color.copy(Ye).multiplyScalar(Ke),at.halfWidth.set(Ve.width*.5,0,0),at.halfHeight.set(0,Ve.height*.5,0),te.rectArea[Se]=at,Se++}else if(Ve.isPointLight){const at=_.get(Ve);if(at.color.copy(Ve.color).multiplyScalar(Ve.intensity),at.distance=Ve.distance,at.decay=Ve.decay,Ve.castShadow){const mt=Ve.shadow,je=K.get(Ve);je.shadowIntensity=mt.intensity,je.shadowBias=mt.bias,je.shadowNormalBias=mt.normalBias,je.shadowRadius=mt.radius,je.shadowMapSize=mt.mapSize,je.shadowCameraNear=mt.camera.near,je.shadowCameraFar=mt.camera.far,te.pointShadow[ye]=je,te.pointShadowMap[ye]=ct,te.pointShadowMatrix[ye]=Ve.shadow.matrix,Re++}te.point[ye]=at,ye++}else if(Ve.isHemisphereLight){const at=_.get(Ve);at.skyColor.copy(Ve.color).multiplyScalar(Ke),at.groundColor.copy(Ve.groundColor).multiplyScalar(Ke),te.hemi[_e]=at,_e++}}Se>0&&(Z.has("OES_texture_float_linear")===!0?(te.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,te.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(te.rectAreaLTC1=UniformsLib.LTC_HALF_1,te.rectAreaLTC2=UniformsLib.LTC_HALF_2)),te.ambient[0]=fe,te.ambient[1]=pe,te.ambient[2]=me;const ze=te.hash;(ze.directionalLength!==ve||ze.pointLength!==ye||ze.spotLength!==Ee||ze.rectAreaLength!==Se||ze.hemiLength!==_e||ze.numDirectionalShadows!==Te||ze.numPointShadows!==Re||ze.numSpotShadows!==Pe||ze.numSpotMaps!==Fe||ze.numLightProbes!==ke)&&(te.directional.length=ve,te.spot.length=Ee,te.rectArea.length=Se,te.point.length=ye,te.hemi.length=_e,te.directionalShadow.length=Te,te.directionalShadowMap.length=Te,te.pointShadow.length=Re,te.pointShadowMap.length=Re,te.spotShadow.length=Pe,te.spotShadowMap.length=Pe,te.directionalShadowMatrix.length=Te,te.pointShadowMatrix.length=Re,te.spotLightMatrix.length=Pe+Fe-$e,te.spotLightMap.length=Fe,te.numSpotLightShadowsWithMaps=$e,te.numLightProbes=ke,ze.directionalLength=ve,ze.pointLength=ye,ze.spotLength=Ee,ze.rectAreaLength=Se,ze.hemiLength=_e,ze.numDirectionalShadows=Te,ze.numPointShadows=Re,ze.numSpotShadows=Pe,ze.numSpotMaps=Fe,ze.numLightProbes=ke,te.version=nextVersion++)}function le(ce,fe){let pe=0,me=0,ve=0,ye=0,Ee=0;const Se=fe.matrixWorldInverse;for(let _e=0,Te=ce.length;_e<Te;_e++){const Re=ce[_e];if(Re.isDirectionalLight){const Pe=te.directional[pe];Pe.direction.setFromMatrixPosition(Re.matrixWorld),ne.setFromMatrixPosition(Re.target.matrixWorld),Pe.direction.sub(ne),Pe.direction.transformDirection(Se),pe++}else if(Re.isSpotLight){const Pe=te.spot[ve];Pe.position.setFromMatrixPosition(Re.matrixWorld),Pe.position.applyMatrix4(Se),Pe.direction.setFromMatrixPosition(Re.matrixWorld),ne.setFromMatrixPosition(Re.target.matrixWorld),Pe.direction.sub(ne),Pe.direction.transformDirection(Se),ve++}else if(Re.isRectAreaLight){const Pe=te.rectArea[ye];Pe.position.setFromMatrixPosition(Re.matrixWorld),Pe.position.applyMatrix4(Se),oe.identity(),ie.copy(Re.matrixWorld),ie.premultiply(Se),oe.extractRotation(ie),Pe.halfWidth.set(Re.width*.5,0,0),Pe.halfHeight.set(0,Re.height*.5,0),Pe.halfWidth.applyMatrix4(oe),Pe.halfHeight.applyMatrix4(oe),ye++}else if(Re.isPointLight){const Pe=te.point[me];Pe.position.setFromMatrixPosition(Re.matrixWorld),Pe.position.applyMatrix4(Se),me++}else if(Re.isHemisphereLight){const Pe=te.hemi[Ee];Pe.direction.setFromMatrixPosition(Re.matrixWorld),Pe.direction.transformDirection(Se),Ee++}}}return{setup:se,setupView:le,state:te}}function WebGLRenderState(Z){const _=new WebGLLights(Z),K=[],te=[];function ne(fe){ce.camera=fe,K.length=0,te.length=0}function ie(fe){K.push(fe)}function oe(fe){te.push(fe)}function se(){_.setup(K)}function le(fe){_.setupView(K,fe)}const ce={lightsArray:K,shadowsArray:te,camera:null,lights:_,transmissionRenderTarget:{}};return{init:ne,state:ce,setupLights:se,setupLightsView:le,pushLight:ie,pushShadow:oe}}function WebGLRenderStates(Z){let _=new WeakMap;function K(ne,ie=0){const oe=_.get(ne);let se;return oe===void 0?(se=new WebGLRenderState(Z),_.set(ne,[se])):ie>=oe.length?(se=new WebGLRenderState(Z),oe.push(se)):se=oe[ie],se}function te(){_=new WeakMap}return{get:K,dispose:te}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(Z,_,K){let te=new Frustum;const ne=new Vector2,ie=new Vector2,oe=new Vector4,se=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),le=new MeshDistanceMaterial,ce={},fe=K.maxTextureSize,pe={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},me=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ve=me.clone();ve.defines.HORIZONTAL_PASS=1;const ye=new BufferGeometry;ye.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Ee=new Mesh(ye,me),Se=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let _e=this.type;this.render=function($e,ke,ze){if(Se.enabled===!1||Se.autoUpdate===!1&&Se.needsUpdate===!1||$e.length===0)return;const Ue=Z.getRenderTarget(),Oe=Z.getActiveCubeFace(),Ve=Z.getActiveMipmapLevel(),Ye=Z.state;Ye.setBlending(NoBlending),Ye.buffers.color.setClear(1,1,1,1),Ye.buffers.depth.setTest(!0),Ye.setScissorTest(!1);const Ke=_e!==VSMShadowMap&&this.type===VSMShadowMap,rt=_e===VSMShadowMap&&this.type!==VSMShadowMap;for(let ct=0,at=$e.length;ct<at;ct++){const mt=$e[ct],je=mt.shadow;if(je===void 0){console.warn("THREE.WebGLShadowMap:",mt,"has no shadow.");continue}if(je.autoUpdate===!1&&je.needsUpdate===!1)continue;ne.copy(je.mapSize);const it=je.getFrameExtents();if(ne.multiply(it),ie.copy(je.mapSize),(ne.x>fe||ne.y>fe)&&(ne.x>fe&&(ie.x=Math.floor(fe/it.x),ne.x=ie.x*it.x,je.mapSize.x=ie.x),ne.y>fe&&(ie.y=Math.floor(fe/it.y),ne.y=ie.y*it.y,je.mapSize.y=ie.y)),je.map===null||Ke===!0||rt===!0){const qe=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};je.map!==null&&je.map.dispose(),je.map=new WebGLRenderTarget(ne.x,ne.y,qe),je.map.texture.name=mt.name+".shadowMap",je.camera.updateProjectionMatrix()}Z.setRenderTarget(je.map),Z.clear();const et=je.getViewportCount();for(let qe=0;qe<et;qe++){const lt=je.getViewport(qe);oe.set(ie.x*lt.x,ie.y*lt.y,ie.x*lt.z,ie.y*lt.w),Ye.viewport(oe),je.updateMatrices(mt,qe),te=je.getFrustum(),Pe(ke,ze,je.camera,mt,this.type)}je.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Te(je,ze),je.needsUpdate=!1}_e=this.type,Se.needsUpdate=!1,Z.setRenderTarget(Ue,Oe,Ve)};function Te($e,ke){const ze=_.update(Ee);me.defines.VSM_SAMPLES!==$e.blurSamples&&(me.defines.VSM_SAMPLES=$e.blurSamples,ve.defines.VSM_SAMPLES=$e.blurSamples,me.needsUpdate=!0,ve.needsUpdate=!0),$e.mapPass===null&&($e.mapPass=new WebGLRenderTarget(ne.x,ne.y)),me.uniforms.shadow_pass.value=$e.map.texture,me.uniforms.resolution.value=$e.mapSize,me.uniforms.radius.value=$e.radius,Z.setRenderTarget($e.mapPass),Z.clear(),Z.renderBufferDirect(ke,null,ze,me,Ee,null),ve.uniforms.shadow_pass.value=$e.mapPass.texture,ve.uniforms.resolution.value=$e.mapSize,ve.uniforms.radius.value=$e.radius,Z.setRenderTarget($e.map),Z.clear(),Z.renderBufferDirect(ke,null,ze,ve,Ee,null)}function Re($e,ke,ze,Ue){let Oe=null;const Ve=ze.isPointLight===!0?$e.customDistanceMaterial:$e.customDepthMaterial;if(Ve!==void 0)Oe=Ve;else if(Oe=ze.isPointLight===!0?le:se,Z.localClippingEnabled&&ke.clipShadows===!0&&Array.isArray(ke.clippingPlanes)&&ke.clippingPlanes.length!==0||ke.displacementMap&&ke.displacementScale!==0||ke.alphaMap&&ke.alphaTest>0||ke.map&&ke.alphaTest>0){const Ye=Oe.uuid,Ke=ke.uuid;let rt=ce[Ye];rt===void 0&&(rt={},ce[Ye]=rt);let ct=rt[Ke];ct===void 0&&(ct=Oe.clone(),rt[Ke]=ct,ke.addEventListener("dispose",Fe)),Oe=ct}if(Oe.visible=ke.visible,Oe.wireframe=ke.wireframe,Ue===VSMShadowMap?Oe.side=ke.shadowSide!==null?ke.shadowSide:ke.side:Oe.side=ke.shadowSide!==null?ke.shadowSide:pe[ke.side],Oe.alphaMap=ke.alphaMap,Oe.alphaTest=ke.alphaTest,Oe.map=ke.map,Oe.clipShadows=ke.clipShadows,Oe.clippingPlanes=ke.clippingPlanes,Oe.clipIntersection=ke.clipIntersection,Oe.displacementMap=ke.displacementMap,Oe.displacementScale=ke.displacementScale,Oe.displacementBias=ke.displacementBias,Oe.wireframeLinewidth=ke.wireframeLinewidth,Oe.linewidth=ke.linewidth,ze.isPointLight===!0&&Oe.isMeshDistanceMaterial===!0){const Ye=Z.properties.get(Oe);Ye.light=ze}return Oe}function Pe($e,ke,ze,Ue,Oe){if($e.visible===!1)return;if($e.layers.test(ke.layers)&&($e.isMesh||$e.isLine||$e.isPoints)&&($e.castShadow||$e.receiveShadow&&Oe===VSMShadowMap)&&(!$e.frustumCulled||te.intersectsObject($e))){$e.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,$e.matrixWorld);const Ke=_.update($e),rt=$e.material;if(Array.isArray(rt)){const ct=Ke.groups;for(let at=0,mt=ct.length;at<mt;at++){const je=ct[at],it=rt[je.materialIndex];if(it&&it.visible){const et=Re($e,it,Ue,Oe);$e.onBeforeShadow(Z,$e,ke,ze,Ke,et,je),Z.renderBufferDirect(ze,null,Ke,et,$e,je),$e.onAfterShadow(Z,$e,ke,ze,Ke,et,je)}}}else if(rt.visible){const ct=Re($e,rt,Ue,Oe);$e.onBeforeShadow(Z,$e,ke,ze,Ke,ct,null),Z.renderBufferDirect(ze,null,Ke,ct,$e,null),$e.onAfterShadow(Z,$e,ke,ze,Ke,ct,null)}}const Ye=$e.children;for(let Ke=0,rt=Ye.length;Ke<rt;Ke++)Pe(Ye[Ke],ke,ze,Ue,Oe)}function Fe($e){$e.target.removeEventListener("dispose",Fe);for(const ze in ce){const Ue=ce[ze],Oe=$e.target.uuid;Oe in Ue&&(Ue[Oe].dispose(),delete Ue[Oe])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(Z,_){function K(){let nt=!1;const zt=new Vector4;let wt=null;const Nt=new Vector4(0,0,0,0);return{setMask:function(dn){wt!==dn&&!nt&&(Z.colorMask(dn,dn,dn,dn),wt=dn)},setLocked:function(dn){nt=dn},setClear:function(dn,cn,Pn,Yn,sr){sr===!0&&(dn*=Yn,cn*=Yn,Pn*=Yn),zt.set(dn,cn,Pn,Yn),Nt.equals(zt)===!1&&(Z.clearColor(dn,cn,Pn,Yn),Nt.copy(zt))},reset:function(){nt=!1,wt=null,Nt.set(-1,0,0,0)}}}function te(){let nt=!1,zt=!1,wt=null,Nt=null,dn=null;return{setReversed:function(cn){if(zt!==cn){const Pn=_.get("EXT_clip_control");zt?Pn.clipControlEXT(Pn.LOWER_LEFT_EXT,Pn.ZERO_TO_ONE_EXT):Pn.clipControlEXT(Pn.LOWER_LEFT_EXT,Pn.NEGATIVE_ONE_TO_ONE_EXT);const Yn=dn;dn=null,this.setClear(Yn)}zt=cn},getReversed:function(){return zt},setTest:function(cn){cn?At(Z.DEPTH_TEST):kt(Z.DEPTH_TEST)},setMask:function(cn){wt!==cn&&!nt&&(Z.depthMask(cn),wt=cn)},setFunc:function(cn){if(zt&&(cn=reversedFuncs[cn]),Nt!==cn){switch(cn){case NeverDepth:Z.depthFunc(Z.NEVER);break;case AlwaysDepth:Z.depthFunc(Z.ALWAYS);break;case LessDepth:Z.depthFunc(Z.LESS);break;case LessEqualDepth:Z.depthFunc(Z.LEQUAL);break;case EqualDepth:Z.depthFunc(Z.EQUAL);break;case GreaterEqualDepth:Z.depthFunc(Z.GEQUAL);break;case GreaterDepth:Z.depthFunc(Z.GREATER);break;case NotEqualDepth:Z.depthFunc(Z.NOTEQUAL);break;default:Z.depthFunc(Z.LEQUAL)}Nt=cn}},setLocked:function(cn){nt=cn},setClear:function(cn){dn!==cn&&(zt&&(cn=1-cn),Z.clearDepth(cn),dn=cn)},reset:function(){nt=!1,wt=null,Nt=null,dn=null,zt=!1}}}function ne(){let nt=!1,zt=null,wt=null,Nt=null,dn=null,cn=null,Pn=null,Yn=null,sr=null;return{setTest:function(Gn){nt||(Gn?At(Z.STENCIL_TEST):kt(Z.STENCIL_TEST))},setMask:function(Gn){zt!==Gn&&!nt&&(Z.stencilMask(Gn),zt=Gn)},setFunc:function(Gn,xr,wr){(wt!==Gn||Nt!==xr||dn!==wr)&&(Z.stencilFunc(Gn,xr,wr),wt=Gn,Nt=xr,dn=wr)},setOp:function(Gn,xr,wr){(cn!==Gn||Pn!==xr||Yn!==wr)&&(Z.stencilOp(Gn,xr,wr),cn=Gn,Pn=xr,Yn=wr)},setLocked:function(Gn){nt=Gn},setClear:function(Gn){sr!==Gn&&(Z.clearStencil(Gn),sr=Gn)},reset:function(){nt=!1,zt=null,wt=null,Nt=null,dn=null,cn=null,Pn=null,Yn=null,sr=null}}}const ie=new K,oe=new te,se=new ne,le=new WeakMap,ce=new WeakMap;let fe={},pe={},me=new WeakMap,ve=[],ye=null,Ee=!1,Se=null,_e=null,Te=null,Re=null,Pe=null,Fe=null,$e=null,ke=new Color$1(0,0,0),ze=0,Ue=!1,Oe=null,Ve=null,Ye=null,Ke=null,rt=null;const ct=Z.getParameter(Z.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let at=!1,mt=0;const je=Z.getParameter(Z.VERSION);je.indexOf("WebGL")!==-1?(mt=parseFloat(/^WebGL (\d)/.exec(je)[1]),at=mt>=1):je.indexOf("OpenGL ES")!==-1&&(mt=parseFloat(/^OpenGL ES (\d)/.exec(je)[1]),at=mt>=2);let it=null,et={};const qe=Z.getParameter(Z.SCISSOR_BOX),lt=Z.getParameter(Z.VIEWPORT),_t=new Vector4().fromArray(qe),ut=new Vector4().fromArray(lt);function St(nt,zt,wt,Nt){const dn=new Uint8Array(4),cn=Z.createTexture();Z.bindTexture(nt,cn),Z.texParameteri(nt,Z.TEXTURE_MIN_FILTER,Z.NEAREST),Z.texParameteri(nt,Z.TEXTURE_MAG_FILTER,Z.NEAREST);for(let Pn=0;Pn<wt;Pn++)nt===Z.TEXTURE_3D||nt===Z.TEXTURE_2D_ARRAY?Z.texImage3D(zt,0,Z.RGBA,1,1,Nt,0,Z.RGBA,Z.UNSIGNED_BYTE,dn):Z.texImage2D(zt+Pn,0,Z.RGBA,1,1,0,Z.RGBA,Z.UNSIGNED_BYTE,dn);return cn}const Et={};Et[Z.TEXTURE_2D]=St(Z.TEXTURE_2D,Z.TEXTURE_2D,1),Et[Z.TEXTURE_CUBE_MAP]=St(Z.TEXTURE_CUBE_MAP,Z.TEXTURE_CUBE_MAP_POSITIVE_X,6),Et[Z.TEXTURE_2D_ARRAY]=St(Z.TEXTURE_2D_ARRAY,Z.TEXTURE_2D_ARRAY,1,1),Et[Z.TEXTURE_3D]=St(Z.TEXTURE_3D,Z.TEXTURE_3D,1,1),ie.setClear(0,0,0,1),oe.setClear(1),se.setClear(0),At(Z.DEPTH_TEST),oe.setFunc(LessEqualDepth),Bt(!1),rn(CullFaceBack),At(Z.CULL_FACE),Ze(NoBlending);function At(nt){fe[nt]!==!0&&(Z.enable(nt),fe[nt]=!0)}function kt(nt){fe[nt]!==!1&&(Z.disable(nt),fe[nt]=!1)}function jt(nt,zt){return pe[nt]!==zt?(Z.bindFramebuffer(nt,zt),pe[nt]=zt,nt===Z.DRAW_FRAMEBUFFER&&(pe[Z.FRAMEBUFFER]=zt),nt===Z.FRAMEBUFFER&&(pe[Z.DRAW_FRAMEBUFFER]=zt),!0):!1}function en(nt,zt){let wt=ve,Nt=!1;if(nt){wt=me.get(zt),wt===void 0&&(wt=[],me.set(zt,wt));const dn=nt.textures;if(wt.length!==dn.length||wt[0]!==Z.COLOR_ATTACHMENT0){for(let cn=0,Pn=dn.length;cn<Pn;cn++)wt[cn]=Z.COLOR_ATTACHMENT0+cn;wt.length=dn.length,Nt=!0}}else wt[0]!==Z.BACK&&(wt[0]=Z.BACK,Nt=!0);Nt&&Z.drawBuffers(wt)}function un(nt){return ye!==nt?(Z.useProgram(nt),ye=nt,!0):!1}const It={[AddEquation]:Z.FUNC_ADD,[SubtractEquation]:Z.FUNC_SUBTRACT,[ReverseSubtractEquation]:Z.FUNC_REVERSE_SUBTRACT};It[MinEquation]=Z.MIN,It[MaxEquation]=Z.MAX;const Ot={[ZeroFactor]:Z.ZERO,[OneFactor]:Z.ONE,[SrcColorFactor]:Z.SRC_COLOR,[SrcAlphaFactor]:Z.SRC_ALPHA,[SrcAlphaSaturateFactor]:Z.SRC_ALPHA_SATURATE,[DstColorFactor]:Z.DST_COLOR,[DstAlphaFactor]:Z.DST_ALPHA,[OneMinusSrcColorFactor]:Z.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:Z.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:Z.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:Z.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:Z.CONSTANT_COLOR,[OneMinusConstantColorFactor]:Z.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:Z.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:Z.ONE_MINUS_CONSTANT_ALPHA};function Ze(nt,zt,wt,Nt,dn,cn,Pn,Yn,sr,Gn){if(nt===NoBlending){Ee===!0&&(kt(Z.BLEND),Ee=!1);return}if(Ee===!1&&(At(Z.BLEND),Ee=!0),nt!==CustomBlending){if(nt!==Se||Gn!==Ue){if((_e!==AddEquation||Pe!==AddEquation)&&(Z.blendEquation(Z.FUNC_ADD),_e=AddEquation,Pe=AddEquation),Gn)switch(nt){case NormalBlending:Z.blendFuncSeparate(Z.ONE,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:Z.blendFunc(Z.ONE,Z.ONE);break;case SubtractiveBlending:Z.blendFuncSeparate(Z.ZERO,Z.ONE_MINUS_SRC_COLOR,Z.ZERO,Z.ONE);break;case MultiplyBlending:Z.blendFuncSeparate(Z.ZERO,Z.SRC_COLOR,Z.ZERO,Z.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",nt);break}else switch(nt){case NormalBlending:Z.blendFuncSeparate(Z.SRC_ALPHA,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:Z.blendFunc(Z.SRC_ALPHA,Z.ONE);break;case SubtractiveBlending:Z.blendFuncSeparate(Z.ZERO,Z.ONE_MINUS_SRC_COLOR,Z.ZERO,Z.ONE);break;case MultiplyBlending:Z.blendFunc(Z.ZERO,Z.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",nt);break}Te=null,Re=null,Fe=null,$e=null,ke.set(0,0,0),ze=0,Se=nt,Ue=Gn}return}dn=dn||zt,cn=cn||wt,Pn=Pn||Nt,(zt!==_e||dn!==Pe)&&(Z.blendEquationSeparate(It[zt],It[dn]),_e=zt,Pe=dn),(wt!==Te||Nt!==Re||cn!==Fe||Pn!==$e)&&(Z.blendFuncSeparate(Ot[wt],Ot[Nt],Ot[cn],Ot[Pn]),Te=wt,Re=Nt,Fe=cn,$e=Pn),(Yn.equals(ke)===!1||sr!==ze)&&(Z.blendColor(Yn.r,Yn.g,Yn.b,sr),ke.copy(Yn),ze=sr),Se=nt,Ue=!1}function sn(nt,zt){nt.side===DoubleSide?kt(Z.CULL_FACE):At(Z.CULL_FACE);let wt=nt.side===BackSide;zt&&(wt=!wt),Bt(wt),nt.blending===NormalBlending&&nt.transparent===!1?Ze(NoBlending):Ze(nt.blending,nt.blendEquation,nt.blendSrc,nt.blendDst,nt.blendEquationAlpha,nt.blendSrcAlpha,nt.blendDstAlpha,nt.blendColor,nt.blendAlpha,nt.premultipliedAlpha),oe.setFunc(nt.depthFunc),oe.setTest(nt.depthTest),oe.setMask(nt.depthWrite),ie.setMask(nt.colorWrite);const Nt=nt.stencilWrite;se.setTest(Nt),Nt&&(se.setMask(nt.stencilWriteMask),se.setFunc(nt.stencilFunc,nt.stencilRef,nt.stencilFuncMask),se.setOp(nt.stencilFail,nt.stencilZFail,nt.stencilZPass)),pn(nt.polygonOffset,nt.polygonOffsetFactor,nt.polygonOffsetUnits),nt.alphaToCoverage===!0?At(Z.SAMPLE_ALPHA_TO_COVERAGE):kt(Z.SAMPLE_ALPHA_TO_COVERAGE)}function Bt(nt){Oe!==nt&&(nt?Z.frontFace(Z.CW):Z.frontFace(Z.CCW),Oe=nt)}function rn(nt){nt!==CullFaceNone?(At(Z.CULL_FACE),nt!==Ve&&(nt===CullFaceBack?Z.cullFace(Z.BACK):nt===CullFaceFront?Z.cullFace(Z.FRONT):Z.cullFace(Z.FRONT_AND_BACK))):kt(Z.CULL_FACE),Ve=nt}function Gt(nt){nt!==Ye&&(at&&Z.lineWidth(nt),Ye=nt)}function pn(nt,zt,wt){nt?(At(Z.POLYGON_OFFSET_FILL),(Ke!==zt||rt!==wt)&&(Z.polygonOffset(zt,wt),Ke=zt,rt=wt)):kt(Z.POLYGON_OFFSET_FILL)}function qt(nt){nt?At(Z.SCISSOR_TEST):kt(Z.SCISSOR_TEST)}function Xe(nt){nt===void 0&&(nt=Z.TEXTURE0+ct-1),it!==nt&&(Z.activeTexture(nt),it=nt)}function He(nt,zt,wt){wt===void 0&&(it===null?wt=Z.TEXTURE0+ct-1:wt=it);let Nt=et[wt];Nt===void 0&&(Nt={type:void 0,texture:void 0},et[wt]=Nt),(Nt.type!==nt||Nt.texture!==zt)&&(it!==wt&&(Z.activeTexture(wt),it=wt),Z.bindTexture(nt,zt||Et[nt]),Nt.type=nt,Nt.texture=zt)}function tt(){const nt=et[it];nt!==void 0&&nt.type!==void 0&&(Z.bindTexture(nt.type,null),nt.type=void 0,nt.texture=void 0)}function pt(){try{Z.compressedTexImage2D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Lt(){try{Z.compressedTexImage3D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Ct(){try{Z.texSubImage2D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function nn(){try{Z.texSubImage3D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Xt(){try{Z.compressedTexSubImage2D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Qt(){try{Z.compressedTexSubImage3D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Rn(){try{Z.texStorage2D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Ut(){try{Z.texStorage3D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Ft(){try{Z.texImage2D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Zt(){try{Z.texImage3D.apply(Z,arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function yn(nt){_t.equals(nt)===!1&&(Z.scissor(nt.x,nt.y,nt.z,nt.w),_t.copy(nt))}function an(nt){ut.equals(nt)===!1&&(Z.viewport(nt.x,nt.y,nt.z,nt.w),ut.copy(nt))}function ot(nt,zt){let wt=ce.get(zt);wt===void 0&&(wt=new WeakMap,ce.set(zt,wt));let Nt=wt.get(nt);Nt===void 0&&(Nt=Z.getUniformBlockIndex(zt,nt.name),wt.set(nt,Nt))}function $t(nt,zt){const Nt=ce.get(zt).get(nt);le.get(zt)!==Nt&&(Z.uniformBlockBinding(zt,Nt,nt.__bindingPointIndex),le.set(zt,Nt))}function tn(){Z.disable(Z.BLEND),Z.disable(Z.CULL_FACE),Z.disable(Z.DEPTH_TEST),Z.disable(Z.POLYGON_OFFSET_FILL),Z.disable(Z.SCISSOR_TEST),Z.disable(Z.STENCIL_TEST),Z.disable(Z.SAMPLE_ALPHA_TO_COVERAGE),Z.blendEquation(Z.FUNC_ADD),Z.blendFunc(Z.ONE,Z.ZERO),Z.blendFuncSeparate(Z.ONE,Z.ZERO,Z.ONE,Z.ZERO),Z.blendColor(0,0,0,0),Z.colorMask(!0,!0,!0,!0),Z.clearColor(0,0,0,0),Z.depthMask(!0),Z.depthFunc(Z.LESS),oe.setReversed(!1),Z.clearDepth(1),Z.stencilMask(4294967295),Z.stencilFunc(Z.ALWAYS,0,4294967295),Z.stencilOp(Z.KEEP,Z.KEEP,Z.KEEP),Z.clearStencil(0),Z.cullFace(Z.BACK),Z.frontFace(Z.CCW),Z.polygonOffset(0,0),Z.activeTexture(Z.TEXTURE0),Z.bindFramebuffer(Z.FRAMEBUFFER,null),Z.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null),Z.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Z.useProgram(null),Z.lineWidth(1),Z.scissor(0,0,Z.canvas.width,Z.canvas.height),Z.viewport(0,0,Z.canvas.width,Z.canvas.height),fe={},it=null,et={},pe={},me=new WeakMap,ve=[],ye=null,Ee=!1,Se=null,_e=null,Te=null,Re=null,Pe=null,Fe=null,$e=null,ke=new Color$1(0,0,0),ze=0,Ue=!1,Oe=null,Ve=null,Ye=null,Ke=null,rt=null,_t.set(0,0,Z.canvas.width,Z.canvas.height),ut.set(0,0,Z.canvas.width,Z.canvas.height),ie.reset(),oe.reset(),se.reset()}return{buffers:{color:ie,depth:oe,stencil:se},enable:At,disable:kt,bindFramebuffer:jt,drawBuffers:en,useProgram:un,setBlending:Ze,setMaterial:sn,setFlipSided:Bt,setCullFace:rn,setLineWidth:Gt,setPolygonOffset:pn,setScissorTest:qt,activeTexture:Xe,bindTexture:He,unbindTexture:tt,compressedTexImage2D:pt,compressedTexImage3D:Lt,texImage2D:Ft,texImage3D:Zt,updateUBOMapping:ot,uniformBlockBinding:$t,texStorage2D:Rn,texStorage3D:Ut,texSubImage2D:Ct,texSubImage3D:nn,compressedTexSubImage2D:Xt,compressedTexSubImage3D:Qt,scissor:yn,viewport:an,reset:tn}}function WebGLTextures(Z,_,K,te,ne,ie,oe){const se=_.has("WEBGL_multisampled_render_to_texture")?_.get("WEBGL_multisampled_render_to_texture"):null,le=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),ce=new Vector2,fe=new WeakMap;let pe;const me=new WeakMap;let ve=!1;try{ve=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ye(Xe,He){return ve?new OffscreenCanvas(Xe,He):createElementNS("canvas")}function Ee(Xe,He,tt){let pt=1;const Lt=qt(Xe);if((Lt.width>tt||Lt.height>tt)&&(pt=tt/Math.max(Lt.width,Lt.height)),pt<1)if(typeof HTMLImageElement<"u"&&Xe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Xe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Xe instanceof ImageBitmap||typeof VideoFrame<"u"&&Xe instanceof VideoFrame){const Ct=Math.floor(pt*Lt.width),nn=Math.floor(pt*Lt.height);pe===void 0&&(pe=ye(Ct,nn));const Xt=He?ye(Ct,nn):pe;return Xt.width=Ct,Xt.height=nn,Xt.getContext("2d").drawImage(Xe,0,0,Ct,nn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Lt.width+"x"+Lt.height+") to ("+Ct+"x"+nn+")."),Xt}else return"data"in Xe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Lt.width+"x"+Lt.height+")."),Xe;return Xe}function Se(Xe){return Xe.generateMipmaps}function _e(Xe){Z.generateMipmap(Xe)}function Te(Xe){return Xe.isWebGLCubeRenderTarget?Z.TEXTURE_CUBE_MAP:Xe.isWebGL3DRenderTarget?Z.TEXTURE_3D:Xe.isWebGLArrayRenderTarget||Xe.isCompressedArrayTexture?Z.TEXTURE_2D_ARRAY:Z.TEXTURE_2D}function Re(Xe,He,tt,pt,Lt=!1){if(Xe!==null){if(Z[Xe]!==void 0)return Z[Xe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Xe+"'")}let Ct=He;if(He===Z.RED&&(tt===Z.FLOAT&&(Ct=Z.R32F),tt===Z.HALF_FLOAT&&(Ct=Z.R16F),tt===Z.UNSIGNED_BYTE&&(Ct=Z.R8)),He===Z.RED_INTEGER&&(tt===Z.UNSIGNED_BYTE&&(Ct=Z.R8UI),tt===Z.UNSIGNED_SHORT&&(Ct=Z.R16UI),tt===Z.UNSIGNED_INT&&(Ct=Z.R32UI),tt===Z.BYTE&&(Ct=Z.R8I),tt===Z.SHORT&&(Ct=Z.R16I),tt===Z.INT&&(Ct=Z.R32I)),He===Z.RG&&(tt===Z.FLOAT&&(Ct=Z.RG32F),tt===Z.HALF_FLOAT&&(Ct=Z.RG16F),tt===Z.UNSIGNED_BYTE&&(Ct=Z.RG8)),He===Z.RG_INTEGER&&(tt===Z.UNSIGNED_BYTE&&(Ct=Z.RG8UI),tt===Z.UNSIGNED_SHORT&&(Ct=Z.RG16UI),tt===Z.UNSIGNED_INT&&(Ct=Z.RG32UI),tt===Z.BYTE&&(Ct=Z.RG8I),tt===Z.SHORT&&(Ct=Z.RG16I),tt===Z.INT&&(Ct=Z.RG32I)),He===Z.RGB_INTEGER&&(tt===Z.UNSIGNED_BYTE&&(Ct=Z.RGB8UI),tt===Z.UNSIGNED_SHORT&&(Ct=Z.RGB16UI),tt===Z.UNSIGNED_INT&&(Ct=Z.RGB32UI),tt===Z.BYTE&&(Ct=Z.RGB8I),tt===Z.SHORT&&(Ct=Z.RGB16I),tt===Z.INT&&(Ct=Z.RGB32I)),He===Z.RGBA_INTEGER&&(tt===Z.UNSIGNED_BYTE&&(Ct=Z.RGBA8UI),tt===Z.UNSIGNED_SHORT&&(Ct=Z.RGBA16UI),tt===Z.UNSIGNED_INT&&(Ct=Z.RGBA32UI),tt===Z.BYTE&&(Ct=Z.RGBA8I),tt===Z.SHORT&&(Ct=Z.RGBA16I),tt===Z.INT&&(Ct=Z.RGBA32I)),He===Z.RGB&&tt===Z.UNSIGNED_INT_5_9_9_9_REV&&(Ct=Z.RGB9_E5),He===Z.RGBA){const nn=Lt?LinearTransfer:ColorManagement.getTransfer(pt);tt===Z.FLOAT&&(Ct=Z.RGBA32F),tt===Z.HALF_FLOAT&&(Ct=Z.RGBA16F),tt===Z.UNSIGNED_BYTE&&(Ct=nn===SRGBTransfer?Z.SRGB8_ALPHA8:Z.RGBA8),tt===Z.UNSIGNED_SHORT_4_4_4_4&&(Ct=Z.RGBA4),tt===Z.UNSIGNED_SHORT_5_5_5_1&&(Ct=Z.RGB5_A1)}return(Ct===Z.R16F||Ct===Z.R32F||Ct===Z.RG16F||Ct===Z.RG32F||Ct===Z.RGBA16F||Ct===Z.RGBA32F)&&_.get("EXT_color_buffer_float"),Ct}function Pe(Xe,He){let tt;return Xe?He===null||He===UnsignedIntType||He===UnsignedInt248Type?tt=Z.DEPTH24_STENCIL8:He===FloatType?tt=Z.DEPTH32F_STENCIL8:He===UnsignedShortType&&(tt=Z.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):He===null||He===UnsignedIntType||He===UnsignedInt248Type?tt=Z.DEPTH_COMPONENT24:He===FloatType?tt=Z.DEPTH_COMPONENT32F:He===UnsignedShortType&&(tt=Z.DEPTH_COMPONENT16),tt}function Fe(Xe,He){return Se(Xe)===!0||Xe.isFramebufferTexture&&Xe.minFilter!==NearestFilter&&Xe.minFilter!==LinearFilter?Math.log2(Math.max(He.width,He.height))+1:Xe.mipmaps!==void 0&&Xe.mipmaps.length>0?Xe.mipmaps.length:Xe.isCompressedTexture&&Array.isArray(Xe.image)?He.mipmaps.length:1}function $e(Xe){const He=Xe.target;He.removeEventListener("dispose",$e),ze(He),He.isVideoTexture&&fe.delete(He)}function ke(Xe){const He=Xe.target;He.removeEventListener("dispose",ke),Oe(He)}function ze(Xe){const He=te.get(Xe);if(He.__webglInit===void 0)return;const tt=Xe.source,pt=me.get(tt);if(pt){const Lt=pt[He.__cacheKey];Lt.usedTimes--,Lt.usedTimes===0&&Ue(Xe),Object.keys(pt).length===0&&me.delete(tt)}te.remove(Xe)}function Ue(Xe){const He=te.get(Xe);Z.deleteTexture(He.__webglTexture);const tt=Xe.source,pt=me.get(tt);delete pt[He.__cacheKey],oe.memory.textures--}function Oe(Xe){const He=te.get(Xe);if(Xe.depthTexture&&(Xe.depthTexture.dispose(),te.remove(Xe.depthTexture)),Xe.isWebGLCubeRenderTarget)for(let pt=0;pt<6;pt++){if(Array.isArray(He.__webglFramebuffer[pt]))for(let Lt=0;Lt<He.__webglFramebuffer[pt].length;Lt++)Z.deleteFramebuffer(He.__webglFramebuffer[pt][Lt]);else Z.deleteFramebuffer(He.__webglFramebuffer[pt]);He.__webglDepthbuffer&&Z.deleteRenderbuffer(He.__webglDepthbuffer[pt])}else{if(Array.isArray(He.__webglFramebuffer))for(let pt=0;pt<He.__webglFramebuffer.length;pt++)Z.deleteFramebuffer(He.__webglFramebuffer[pt]);else Z.deleteFramebuffer(He.__webglFramebuffer);if(He.__webglDepthbuffer&&Z.deleteRenderbuffer(He.__webglDepthbuffer),He.__webglMultisampledFramebuffer&&Z.deleteFramebuffer(He.__webglMultisampledFramebuffer),He.__webglColorRenderbuffer)for(let pt=0;pt<He.__webglColorRenderbuffer.length;pt++)He.__webglColorRenderbuffer[pt]&&Z.deleteRenderbuffer(He.__webglColorRenderbuffer[pt]);He.__webglDepthRenderbuffer&&Z.deleteRenderbuffer(He.__webglDepthRenderbuffer)}const tt=Xe.textures;for(let pt=0,Lt=tt.length;pt<Lt;pt++){const Ct=te.get(tt[pt]);Ct.__webglTexture&&(Z.deleteTexture(Ct.__webglTexture),oe.memory.textures--),te.remove(tt[pt])}te.remove(Xe)}let Ve=0;function Ye(){Ve=0}function Ke(){const Xe=Ve;return Xe>=ne.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Xe+" texture units while this GPU supports only "+ne.maxTextures),Ve+=1,Xe}function rt(Xe){const He=[];return He.push(Xe.wrapS),He.push(Xe.wrapT),He.push(Xe.wrapR||0),He.push(Xe.magFilter),He.push(Xe.minFilter),He.push(Xe.anisotropy),He.push(Xe.internalFormat),He.push(Xe.format),He.push(Xe.type),He.push(Xe.generateMipmaps),He.push(Xe.premultiplyAlpha),He.push(Xe.flipY),He.push(Xe.unpackAlignment),He.push(Xe.colorSpace),He.join()}function ct(Xe,He){const tt=te.get(Xe);if(Xe.isVideoTexture&&Gt(Xe),Xe.isRenderTargetTexture===!1&&Xe.version>0&&tt.__version!==Xe.version){const pt=Xe.image;if(pt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ut(tt,Xe,He);return}}K.bindTexture(Z.TEXTURE_2D,tt.__webglTexture,Z.TEXTURE0+He)}function at(Xe,He){const tt=te.get(Xe);if(Xe.version>0&&tt.__version!==Xe.version){ut(tt,Xe,He);return}K.bindTexture(Z.TEXTURE_2D_ARRAY,tt.__webglTexture,Z.TEXTURE0+He)}function mt(Xe,He){const tt=te.get(Xe);if(Xe.version>0&&tt.__version!==Xe.version){ut(tt,Xe,He);return}K.bindTexture(Z.TEXTURE_3D,tt.__webglTexture,Z.TEXTURE0+He)}function je(Xe,He){const tt=te.get(Xe);if(Xe.version>0&&tt.__version!==Xe.version){St(tt,Xe,He);return}K.bindTexture(Z.TEXTURE_CUBE_MAP,tt.__webglTexture,Z.TEXTURE0+He)}const it={[RepeatWrapping]:Z.REPEAT,[ClampToEdgeWrapping]:Z.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:Z.MIRRORED_REPEAT},et={[NearestFilter]:Z.NEAREST,[NearestMipmapNearestFilter]:Z.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:Z.NEAREST_MIPMAP_LINEAR,[LinearFilter]:Z.LINEAR,[LinearMipmapNearestFilter]:Z.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:Z.LINEAR_MIPMAP_LINEAR},qe={[NeverCompare]:Z.NEVER,[AlwaysCompare]:Z.ALWAYS,[LessCompare]:Z.LESS,[LessEqualCompare]:Z.LEQUAL,[EqualCompare]:Z.EQUAL,[GreaterEqualCompare]:Z.GEQUAL,[GreaterCompare]:Z.GREATER,[NotEqualCompare]:Z.NOTEQUAL};function lt(Xe,He){if(He.type===FloatType&&_.has("OES_texture_float_linear")===!1&&(He.magFilter===LinearFilter||He.magFilter===LinearMipmapNearestFilter||He.magFilter===NearestMipmapLinearFilter||He.magFilter===LinearMipmapLinearFilter||He.minFilter===LinearFilter||He.minFilter===LinearMipmapNearestFilter||He.minFilter===NearestMipmapLinearFilter||He.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),Z.texParameteri(Xe,Z.TEXTURE_WRAP_S,it[He.wrapS]),Z.texParameteri(Xe,Z.TEXTURE_WRAP_T,it[He.wrapT]),(Xe===Z.TEXTURE_3D||Xe===Z.TEXTURE_2D_ARRAY)&&Z.texParameteri(Xe,Z.TEXTURE_WRAP_R,it[He.wrapR]),Z.texParameteri(Xe,Z.TEXTURE_MAG_FILTER,et[He.magFilter]),Z.texParameteri(Xe,Z.TEXTURE_MIN_FILTER,et[He.minFilter]),He.compareFunction&&(Z.texParameteri(Xe,Z.TEXTURE_COMPARE_MODE,Z.COMPARE_REF_TO_TEXTURE),Z.texParameteri(Xe,Z.TEXTURE_COMPARE_FUNC,qe[He.compareFunction])),_.has("EXT_texture_filter_anisotropic")===!0){if(He.magFilter===NearestFilter||He.minFilter!==NearestMipmapLinearFilter&&He.minFilter!==LinearMipmapLinearFilter||He.type===FloatType&&_.has("OES_texture_float_linear")===!1)return;if(He.anisotropy>1||te.get(He).__currentAnisotropy){const tt=_.get("EXT_texture_filter_anisotropic");Z.texParameterf(Xe,tt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(He.anisotropy,ne.getMaxAnisotropy())),te.get(He).__currentAnisotropy=He.anisotropy}}}function _t(Xe,He){let tt=!1;Xe.__webglInit===void 0&&(Xe.__webglInit=!0,He.addEventListener("dispose",$e));const pt=He.source;let Lt=me.get(pt);Lt===void 0&&(Lt={},me.set(pt,Lt));const Ct=rt(He);if(Ct!==Xe.__cacheKey){Lt[Ct]===void 0&&(Lt[Ct]={texture:Z.createTexture(),usedTimes:0},oe.memory.textures++,tt=!0),Lt[Ct].usedTimes++;const nn=Lt[Xe.__cacheKey];nn!==void 0&&(Lt[Xe.__cacheKey].usedTimes--,nn.usedTimes===0&&Ue(He)),Xe.__cacheKey=Ct,Xe.__webglTexture=Lt[Ct].texture}return tt}function ut(Xe,He,tt){let pt=Z.TEXTURE_2D;(He.isDataArrayTexture||He.isCompressedArrayTexture)&&(pt=Z.TEXTURE_2D_ARRAY),He.isData3DTexture&&(pt=Z.TEXTURE_3D);const Lt=_t(Xe,He),Ct=He.source;K.bindTexture(pt,Xe.__webglTexture,Z.TEXTURE0+tt);const nn=te.get(Ct);if(Ct.version!==nn.__version||Lt===!0){K.activeTexture(Z.TEXTURE0+tt);const Xt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Qt=He.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(He.colorSpace),Rn=He.colorSpace===NoColorSpace||Xt===Qt?Z.NONE:Z.BROWSER_DEFAULT_WEBGL;Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,He.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,He.unpackAlignment),Z.pixelStorei(Z.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rn);let Ut=Ee(He.image,!1,ne.maxTextureSize);Ut=pn(He,Ut);const Ft=ie.convert(He.format,He.colorSpace),Zt=ie.convert(He.type);let yn=Re(He.internalFormat,Ft,Zt,He.colorSpace,He.isVideoTexture);lt(pt,He);let an;const ot=He.mipmaps,$t=He.isVideoTexture!==!0,tn=nn.__version===void 0||Lt===!0,nt=Ct.dataReady,zt=Fe(He,Ut);if(He.isDepthTexture)yn=Pe(He.format===DepthStencilFormat,He.type),tn&&($t?K.texStorage2D(Z.TEXTURE_2D,1,yn,Ut.width,Ut.height):K.texImage2D(Z.TEXTURE_2D,0,yn,Ut.width,Ut.height,0,Ft,Zt,null));else if(He.isDataTexture)if(ot.length>0){$t&&tn&&K.texStorage2D(Z.TEXTURE_2D,zt,yn,ot[0].width,ot[0].height);for(let wt=0,Nt=ot.length;wt<Nt;wt++)an=ot[wt],$t?nt&&K.texSubImage2D(Z.TEXTURE_2D,wt,0,0,an.width,an.height,Ft,Zt,an.data):K.texImage2D(Z.TEXTURE_2D,wt,yn,an.width,an.height,0,Ft,Zt,an.data);He.generateMipmaps=!1}else $t?(tn&&K.texStorage2D(Z.TEXTURE_2D,zt,yn,Ut.width,Ut.height),nt&&K.texSubImage2D(Z.TEXTURE_2D,0,0,0,Ut.width,Ut.height,Ft,Zt,Ut.data)):K.texImage2D(Z.TEXTURE_2D,0,yn,Ut.width,Ut.height,0,Ft,Zt,Ut.data);else if(He.isCompressedTexture)if(He.isCompressedArrayTexture){$t&&tn&&K.texStorage3D(Z.TEXTURE_2D_ARRAY,zt,yn,ot[0].width,ot[0].height,Ut.depth);for(let wt=0,Nt=ot.length;wt<Nt;wt++)if(an=ot[wt],He.format!==RGBAFormat)if(Ft!==null)if($t){if(nt)if(He.layerUpdates.size>0){const dn=getByteLength(an.width,an.height,He.format,He.type);for(const cn of He.layerUpdates){const Pn=an.data.subarray(cn*dn/an.data.BYTES_PER_ELEMENT,(cn+1)*dn/an.data.BYTES_PER_ELEMENT);K.compressedTexSubImage3D(Z.TEXTURE_2D_ARRAY,wt,0,0,cn,an.width,an.height,1,Ft,Pn)}He.clearLayerUpdates()}else K.compressedTexSubImage3D(Z.TEXTURE_2D_ARRAY,wt,0,0,0,an.width,an.height,Ut.depth,Ft,an.data)}else K.compressedTexImage3D(Z.TEXTURE_2D_ARRAY,wt,yn,an.width,an.height,Ut.depth,0,an.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else $t?nt&&K.texSubImage3D(Z.TEXTURE_2D_ARRAY,wt,0,0,0,an.width,an.height,Ut.depth,Ft,Zt,an.data):K.texImage3D(Z.TEXTURE_2D_ARRAY,wt,yn,an.width,an.height,Ut.depth,0,Ft,Zt,an.data)}else{$t&&tn&&K.texStorage2D(Z.TEXTURE_2D,zt,yn,ot[0].width,ot[0].height);for(let wt=0,Nt=ot.length;wt<Nt;wt++)an=ot[wt],He.format!==RGBAFormat?Ft!==null?$t?nt&&K.compressedTexSubImage2D(Z.TEXTURE_2D,wt,0,0,an.width,an.height,Ft,an.data):K.compressedTexImage2D(Z.TEXTURE_2D,wt,yn,an.width,an.height,0,an.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$t?nt&&K.texSubImage2D(Z.TEXTURE_2D,wt,0,0,an.width,an.height,Ft,Zt,an.data):K.texImage2D(Z.TEXTURE_2D,wt,yn,an.width,an.height,0,Ft,Zt,an.data)}else if(He.isDataArrayTexture)if($t){if(tn&&K.texStorage3D(Z.TEXTURE_2D_ARRAY,zt,yn,Ut.width,Ut.height,Ut.depth),nt)if(He.layerUpdates.size>0){const wt=getByteLength(Ut.width,Ut.height,He.format,He.type);for(const Nt of He.layerUpdates){const dn=Ut.data.subarray(Nt*wt/Ut.data.BYTES_PER_ELEMENT,(Nt+1)*wt/Ut.data.BYTES_PER_ELEMENT);K.texSubImage3D(Z.TEXTURE_2D_ARRAY,0,0,0,Nt,Ut.width,Ut.height,1,Ft,Zt,dn)}He.clearLayerUpdates()}else K.texSubImage3D(Z.TEXTURE_2D_ARRAY,0,0,0,0,Ut.width,Ut.height,Ut.depth,Ft,Zt,Ut.data)}else K.texImage3D(Z.TEXTURE_2D_ARRAY,0,yn,Ut.width,Ut.height,Ut.depth,0,Ft,Zt,Ut.data);else if(He.isData3DTexture)$t?(tn&&K.texStorage3D(Z.TEXTURE_3D,zt,yn,Ut.width,Ut.height,Ut.depth),nt&&K.texSubImage3D(Z.TEXTURE_3D,0,0,0,0,Ut.width,Ut.height,Ut.depth,Ft,Zt,Ut.data)):K.texImage3D(Z.TEXTURE_3D,0,yn,Ut.width,Ut.height,Ut.depth,0,Ft,Zt,Ut.data);else if(He.isFramebufferTexture){if(tn)if($t)K.texStorage2D(Z.TEXTURE_2D,zt,yn,Ut.width,Ut.height);else{let wt=Ut.width,Nt=Ut.height;for(let dn=0;dn<zt;dn++)K.texImage2D(Z.TEXTURE_2D,dn,yn,wt,Nt,0,Ft,Zt,null),wt>>=1,Nt>>=1}}else if(ot.length>0){if($t&&tn){const wt=qt(ot[0]);K.texStorage2D(Z.TEXTURE_2D,zt,yn,wt.width,wt.height)}for(let wt=0,Nt=ot.length;wt<Nt;wt++)an=ot[wt],$t?nt&&K.texSubImage2D(Z.TEXTURE_2D,wt,0,0,Ft,Zt,an):K.texImage2D(Z.TEXTURE_2D,wt,yn,Ft,Zt,an);He.generateMipmaps=!1}else if($t){if(tn){const wt=qt(Ut);K.texStorage2D(Z.TEXTURE_2D,zt,yn,wt.width,wt.height)}nt&&K.texSubImage2D(Z.TEXTURE_2D,0,0,0,Ft,Zt,Ut)}else K.texImage2D(Z.TEXTURE_2D,0,yn,Ft,Zt,Ut);Se(He)&&_e(pt),nn.__version=Ct.version,He.onUpdate&&He.onUpdate(He)}Xe.__version=He.version}function St(Xe,He,tt){if(He.image.length!==6)return;const pt=_t(Xe,He),Lt=He.source;K.bindTexture(Z.TEXTURE_CUBE_MAP,Xe.__webglTexture,Z.TEXTURE0+tt);const Ct=te.get(Lt);if(Lt.version!==Ct.__version||pt===!0){K.activeTexture(Z.TEXTURE0+tt);const nn=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Xt=He.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(He.colorSpace),Qt=He.colorSpace===NoColorSpace||nn===Xt?Z.NONE:Z.BROWSER_DEFAULT_WEBGL;Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,He.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,He.unpackAlignment),Z.pixelStorei(Z.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qt);const Rn=He.isCompressedTexture||He.image[0].isCompressedTexture,Ut=He.image[0]&&He.image[0].isDataTexture,Ft=[];for(let Nt=0;Nt<6;Nt++)!Rn&&!Ut?Ft[Nt]=Ee(He.image[Nt],!0,ne.maxCubemapSize):Ft[Nt]=Ut?He.image[Nt].image:He.image[Nt],Ft[Nt]=pn(He,Ft[Nt]);const Zt=Ft[0],yn=ie.convert(He.format,He.colorSpace),an=ie.convert(He.type),ot=Re(He.internalFormat,yn,an,He.colorSpace),$t=He.isVideoTexture!==!0,tn=Ct.__version===void 0||pt===!0,nt=Lt.dataReady;let zt=Fe(He,Zt);lt(Z.TEXTURE_CUBE_MAP,He);let wt;if(Rn){$t&&tn&&K.texStorage2D(Z.TEXTURE_CUBE_MAP,zt,ot,Zt.width,Zt.height);for(let Nt=0;Nt<6;Nt++){wt=Ft[Nt].mipmaps;for(let dn=0;dn<wt.length;dn++){const cn=wt[dn];He.format!==RGBAFormat?yn!==null?$t?nt&&K.compressedTexSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,dn,0,0,cn.width,cn.height,yn,cn.data):K.compressedTexImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,dn,ot,cn.width,cn.height,0,cn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):$t?nt&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,dn,0,0,cn.width,cn.height,yn,an,cn.data):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,dn,ot,cn.width,cn.height,0,yn,an,cn.data)}}}else{if(wt=He.mipmaps,$t&&tn){wt.length>0&&zt++;const Nt=qt(Ft[0]);K.texStorage2D(Z.TEXTURE_CUBE_MAP,zt,ot,Nt.width,Nt.height)}for(let Nt=0;Nt<6;Nt++)if(Ut){$t?nt&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,0,0,Ft[Nt].width,Ft[Nt].height,yn,an,Ft[Nt].data):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,ot,Ft[Nt].width,Ft[Nt].height,0,yn,an,Ft[Nt].data);for(let dn=0;dn<wt.length;dn++){const Pn=wt[dn].image[Nt].image;$t?nt&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,dn+1,0,0,Pn.width,Pn.height,yn,an,Pn.data):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,dn+1,ot,Pn.width,Pn.height,0,yn,an,Pn.data)}}else{$t?nt&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,0,0,yn,an,Ft[Nt]):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,ot,yn,an,Ft[Nt]);for(let dn=0;dn<wt.length;dn++){const cn=wt[dn];$t?nt&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,dn+1,0,0,yn,an,cn.image[Nt]):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,dn+1,ot,yn,an,cn.image[Nt])}}}Se(He)&&_e(Z.TEXTURE_CUBE_MAP),Ct.__version=Lt.version,He.onUpdate&&He.onUpdate(He)}Xe.__version=He.version}function Et(Xe,He,tt,pt,Lt,Ct){const nn=ie.convert(tt.format,tt.colorSpace),Xt=ie.convert(tt.type),Qt=Re(tt.internalFormat,nn,Xt,tt.colorSpace),Rn=te.get(He),Ut=te.get(tt);if(Ut.__renderTarget=He,!Rn.__hasExternalTextures){const Ft=Math.max(1,He.width>>Ct),Zt=Math.max(1,He.height>>Ct);Lt===Z.TEXTURE_3D||Lt===Z.TEXTURE_2D_ARRAY?K.texImage3D(Lt,Ct,Qt,Ft,Zt,He.depth,0,nn,Xt,null):K.texImage2D(Lt,Ct,Qt,Ft,Zt,0,nn,Xt,null)}K.bindFramebuffer(Z.FRAMEBUFFER,Xe),rn(He)?se.framebufferTexture2DMultisampleEXT(Z.FRAMEBUFFER,pt,Lt,Ut.__webglTexture,0,Bt(He)):(Lt===Z.TEXTURE_2D||Lt>=Z.TEXTURE_CUBE_MAP_POSITIVE_X&&Lt<=Z.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&Z.framebufferTexture2D(Z.FRAMEBUFFER,pt,Lt,Ut.__webglTexture,Ct),K.bindFramebuffer(Z.FRAMEBUFFER,null)}function At(Xe,He,tt){if(Z.bindRenderbuffer(Z.RENDERBUFFER,Xe),He.depthBuffer){const pt=He.depthTexture,Lt=pt&&pt.isDepthTexture?pt.type:null,Ct=Pe(He.stencilBuffer,Lt),nn=He.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT,Xt=Bt(He);rn(He)?se.renderbufferStorageMultisampleEXT(Z.RENDERBUFFER,Xt,Ct,He.width,He.height):tt?Z.renderbufferStorageMultisample(Z.RENDERBUFFER,Xt,Ct,He.width,He.height):Z.renderbufferStorage(Z.RENDERBUFFER,Ct,He.width,He.height),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,nn,Z.RENDERBUFFER,Xe)}else{const pt=He.textures;for(let Lt=0;Lt<pt.length;Lt++){const Ct=pt[Lt],nn=ie.convert(Ct.format,Ct.colorSpace),Xt=ie.convert(Ct.type),Qt=Re(Ct.internalFormat,nn,Xt,Ct.colorSpace),Rn=Bt(He);tt&&rn(He)===!1?Z.renderbufferStorageMultisample(Z.RENDERBUFFER,Rn,Qt,He.width,He.height):rn(He)?se.renderbufferStorageMultisampleEXT(Z.RENDERBUFFER,Rn,Qt,He.width,He.height):Z.renderbufferStorage(Z.RENDERBUFFER,Qt,He.width,He.height)}}Z.bindRenderbuffer(Z.RENDERBUFFER,null)}function kt(Xe,He){if(He&&He.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(K.bindFramebuffer(Z.FRAMEBUFFER,Xe),!(He.depthTexture&&He.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const pt=te.get(He.depthTexture);pt.__renderTarget=He,(!pt.__webglTexture||He.depthTexture.image.width!==He.width||He.depthTexture.image.height!==He.height)&&(He.depthTexture.image.width=He.width,He.depthTexture.image.height=He.height,He.depthTexture.needsUpdate=!0),ct(He.depthTexture,0);const Lt=pt.__webglTexture,Ct=Bt(He);if(He.depthTexture.format===DepthFormat)rn(He)?se.framebufferTexture2DMultisampleEXT(Z.FRAMEBUFFER,Z.DEPTH_ATTACHMENT,Z.TEXTURE_2D,Lt,0,Ct):Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.DEPTH_ATTACHMENT,Z.TEXTURE_2D,Lt,0);else if(He.depthTexture.format===DepthStencilFormat)rn(He)?se.framebufferTexture2DMultisampleEXT(Z.FRAMEBUFFER,Z.DEPTH_STENCIL_ATTACHMENT,Z.TEXTURE_2D,Lt,0,Ct):Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.DEPTH_STENCIL_ATTACHMENT,Z.TEXTURE_2D,Lt,0);else throw new Error("Unknown depthTexture format")}function jt(Xe){const He=te.get(Xe),tt=Xe.isWebGLCubeRenderTarget===!0;if(He.__boundDepthTexture!==Xe.depthTexture){const pt=Xe.depthTexture;if(He.__depthDisposeCallback&&He.__depthDisposeCallback(),pt){const Lt=()=>{delete He.__boundDepthTexture,delete He.__depthDisposeCallback,pt.removeEventListener("dispose",Lt)};pt.addEventListener("dispose",Lt),He.__depthDisposeCallback=Lt}He.__boundDepthTexture=pt}if(Xe.depthTexture&&!He.__autoAllocateDepthBuffer){if(tt)throw new Error("target.depthTexture not supported in Cube render targets");kt(He.__webglFramebuffer,Xe)}else if(tt){He.__webglDepthbuffer=[];for(let pt=0;pt<6;pt++)if(K.bindFramebuffer(Z.FRAMEBUFFER,He.__webglFramebuffer[pt]),He.__webglDepthbuffer[pt]===void 0)He.__webglDepthbuffer[pt]=Z.createRenderbuffer(),At(He.__webglDepthbuffer[pt],Xe,!1);else{const Lt=Xe.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT,Ct=He.__webglDepthbuffer[pt];Z.bindRenderbuffer(Z.RENDERBUFFER,Ct),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,Lt,Z.RENDERBUFFER,Ct)}}else if(K.bindFramebuffer(Z.FRAMEBUFFER,He.__webglFramebuffer),He.__webglDepthbuffer===void 0)He.__webglDepthbuffer=Z.createRenderbuffer(),At(He.__webglDepthbuffer,Xe,!1);else{const pt=Xe.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT,Lt=He.__webglDepthbuffer;Z.bindRenderbuffer(Z.RENDERBUFFER,Lt),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,pt,Z.RENDERBUFFER,Lt)}K.bindFramebuffer(Z.FRAMEBUFFER,null)}function en(Xe,He,tt){const pt=te.get(Xe);He!==void 0&&Et(pt.__webglFramebuffer,Xe,Xe.texture,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,0),tt!==void 0&&jt(Xe)}function un(Xe){const He=Xe.texture,tt=te.get(Xe),pt=te.get(He);Xe.addEventListener("dispose",ke);const Lt=Xe.textures,Ct=Xe.isWebGLCubeRenderTarget===!0,nn=Lt.length>1;if(nn||(pt.__webglTexture===void 0&&(pt.__webglTexture=Z.createTexture()),pt.__version=He.version,oe.memory.textures++),Ct){tt.__webglFramebuffer=[];for(let Xt=0;Xt<6;Xt++)if(He.mipmaps&&He.mipmaps.length>0){tt.__webglFramebuffer[Xt]=[];for(let Qt=0;Qt<He.mipmaps.length;Qt++)tt.__webglFramebuffer[Xt][Qt]=Z.createFramebuffer()}else tt.__webglFramebuffer[Xt]=Z.createFramebuffer()}else{if(He.mipmaps&&He.mipmaps.length>0){tt.__webglFramebuffer=[];for(let Xt=0;Xt<He.mipmaps.length;Xt++)tt.__webglFramebuffer[Xt]=Z.createFramebuffer()}else tt.__webglFramebuffer=Z.createFramebuffer();if(nn)for(let Xt=0,Qt=Lt.length;Xt<Qt;Xt++){const Rn=te.get(Lt[Xt]);Rn.__webglTexture===void 0&&(Rn.__webglTexture=Z.createTexture(),oe.memory.textures++)}if(Xe.samples>0&&rn(Xe)===!1){tt.__webglMultisampledFramebuffer=Z.createFramebuffer(),tt.__webglColorRenderbuffer=[],K.bindFramebuffer(Z.FRAMEBUFFER,tt.__webglMultisampledFramebuffer);for(let Xt=0;Xt<Lt.length;Xt++){const Qt=Lt[Xt];tt.__webglColorRenderbuffer[Xt]=Z.createRenderbuffer(),Z.bindRenderbuffer(Z.RENDERBUFFER,tt.__webglColorRenderbuffer[Xt]);const Rn=ie.convert(Qt.format,Qt.colorSpace),Ut=ie.convert(Qt.type),Ft=Re(Qt.internalFormat,Rn,Ut,Qt.colorSpace,Xe.isXRRenderTarget===!0),Zt=Bt(Xe);Z.renderbufferStorageMultisample(Z.RENDERBUFFER,Zt,Ft,Xe.width,Xe.height),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+Xt,Z.RENDERBUFFER,tt.__webglColorRenderbuffer[Xt])}Z.bindRenderbuffer(Z.RENDERBUFFER,null),Xe.depthBuffer&&(tt.__webglDepthRenderbuffer=Z.createRenderbuffer(),At(tt.__webglDepthRenderbuffer,Xe,!0)),K.bindFramebuffer(Z.FRAMEBUFFER,null)}}if(Ct){K.bindTexture(Z.TEXTURE_CUBE_MAP,pt.__webglTexture),lt(Z.TEXTURE_CUBE_MAP,He);for(let Xt=0;Xt<6;Xt++)if(He.mipmaps&&He.mipmaps.length>0)for(let Qt=0;Qt<He.mipmaps.length;Qt++)Et(tt.__webglFramebuffer[Xt][Qt],Xe,He,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,Qt);else Et(tt.__webglFramebuffer[Xt],Xe,He,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,0);Se(He)&&_e(Z.TEXTURE_CUBE_MAP),K.unbindTexture()}else if(nn){for(let Xt=0,Qt=Lt.length;Xt<Qt;Xt++){const Rn=Lt[Xt],Ut=te.get(Rn);K.bindTexture(Z.TEXTURE_2D,Ut.__webglTexture),lt(Z.TEXTURE_2D,Rn),Et(tt.__webglFramebuffer,Xe,Rn,Z.COLOR_ATTACHMENT0+Xt,Z.TEXTURE_2D,0),Se(Rn)&&_e(Z.TEXTURE_2D)}K.unbindTexture()}else{let Xt=Z.TEXTURE_2D;if((Xe.isWebGL3DRenderTarget||Xe.isWebGLArrayRenderTarget)&&(Xt=Xe.isWebGL3DRenderTarget?Z.TEXTURE_3D:Z.TEXTURE_2D_ARRAY),K.bindTexture(Xt,pt.__webglTexture),lt(Xt,He),He.mipmaps&&He.mipmaps.length>0)for(let Qt=0;Qt<He.mipmaps.length;Qt++)Et(tt.__webglFramebuffer[Qt],Xe,He,Z.COLOR_ATTACHMENT0,Xt,Qt);else Et(tt.__webglFramebuffer,Xe,He,Z.COLOR_ATTACHMENT0,Xt,0);Se(He)&&_e(Xt),K.unbindTexture()}Xe.depthBuffer&&jt(Xe)}function It(Xe){const He=Xe.textures;for(let tt=0,pt=He.length;tt<pt;tt++){const Lt=He[tt];if(Se(Lt)){const Ct=Te(Xe),nn=te.get(Lt).__webglTexture;K.bindTexture(Ct,nn),_e(Ct),K.unbindTexture()}}}const Ot=[],Ze=[];function sn(Xe){if(Xe.samples>0){if(rn(Xe)===!1){const He=Xe.textures,tt=Xe.width,pt=Xe.height;let Lt=Z.COLOR_BUFFER_BIT;const Ct=Xe.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT,nn=te.get(Xe),Xt=He.length>1;if(Xt)for(let Qt=0;Qt<He.length;Qt++)K.bindFramebuffer(Z.FRAMEBUFFER,nn.__webglMultisampledFramebuffer),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+Qt,Z.RENDERBUFFER,null),K.bindFramebuffer(Z.FRAMEBUFFER,nn.__webglFramebuffer),Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0+Qt,Z.TEXTURE_2D,null,0);K.bindFramebuffer(Z.READ_FRAMEBUFFER,nn.__webglMultisampledFramebuffer),K.bindFramebuffer(Z.DRAW_FRAMEBUFFER,nn.__webglFramebuffer);for(let Qt=0;Qt<He.length;Qt++){if(Xe.resolveDepthBuffer&&(Xe.depthBuffer&&(Lt|=Z.DEPTH_BUFFER_BIT),Xe.stencilBuffer&&Xe.resolveStencilBuffer&&(Lt|=Z.STENCIL_BUFFER_BIT)),Xt){Z.framebufferRenderbuffer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.RENDERBUFFER,nn.__webglColorRenderbuffer[Qt]);const Rn=te.get(He[Qt]).__webglTexture;Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Rn,0)}Z.blitFramebuffer(0,0,tt,pt,0,0,tt,pt,Lt,Z.NEAREST),le===!0&&(Ot.length=0,Ze.length=0,Ot.push(Z.COLOR_ATTACHMENT0+Qt),Xe.depthBuffer&&Xe.resolveDepthBuffer===!1&&(Ot.push(Ct),Ze.push(Ct),Z.invalidateFramebuffer(Z.DRAW_FRAMEBUFFER,Ze)),Z.invalidateFramebuffer(Z.READ_FRAMEBUFFER,Ot))}if(K.bindFramebuffer(Z.READ_FRAMEBUFFER,null),K.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null),Xt)for(let Qt=0;Qt<He.length;Qt++){K.bindFramebuffer(Z.FRAMEBUFFER,nn.__webglMultisampledFramebuffer),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+Qt,Z.RENDERBUFFER,nn.__webglColorRenderbuffer[Qt]);const Rn=te.get(He[Qt]).__webglTexture;K.bindFramebuffer(Z.FRAMEBUFFER,nn.__webglFramebuffer),Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0+Qt,Z.TEXTURE_2D,Rn,0)}K.bindFramebuffer(Z.DRAW_FRAMEBUFFER,nn.__webglMultisampledFramebuffer)}else if(Xe.depthBuffer&&Xe.resolveDepthBuffer===!1&&le){const He=Xe.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT;Z.invalidateFramebuffer(Z.DRAW_FRAMEBUFFER,[He])}}}function Bt(Xe){return Math.min(ne.maxSamples,Xe.samples)}function rn(Xe){const He=te.get(Xe);return Xe.samples>0&&_.has("WEBGL_multisampled_render_to_texture")===!0&&He.__useRenderToTexture!==!1}function Gt(Xe){const He=oe.render.frame;fe.get(Xe)!==He&&(fe.set(Xe,He),Xe.update())}function pn(Xe,He){const tt=Xe.colorSpace,pt=Xe.format,Lt=Xe.type;return Xe.isCompressedTexture===!0||Xe.isVideoTexture===!0||tt!==LinearSRGBColorSpace&&tt!==NoColorSpace&&(ColorManagement.getTransfer(tt)===SRGBTransfer?(pt!==RGBAFormat||Lt!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",tt)),He}function qt(Xe){return typeof HTMLImageElement<"u"&&Xe instanceof HTMLImageElement?(ce.width=Xe.naturalWidth||Xe.width,ce.height=Xe.naturalHeight||Xe.height):typeof VideoFrame<"u"&&Xe instanceof VideoFrame?(ce.width=Xe.displayWidth,ce.height=Xe.displayHeight):(ce.width=Xe.width,ce.height=Xe.height),ce}this.allocateTextureUnit=Ke,this.resetTextureUnits=Ye,this.setTexture2D=ct,this.setTexture2DArray=at,this.setTexture3D=mt,this.setTextureCube=je,this.rebindTextures=en,this.setupRenderTarget=un,this.updateRenderTargetMipmap=It,this.updateMultisampleRenderTarget=sn,this.setupDepthRenderbuffer=jt,this.setupFrameBufferTexture=Et,this.useMultisampledRTT=rn}function WebGLUtils(Z,_){function K(te,ne=NoColorSpace){let ie;const oe=ColorManagement.getTransfer(ne);if(te===UnsignedByteType)return Z.UNSIGNED_BYTE;if(te===UnsignedShort4444Type)return Z.UNSIGNED_SHORT_4_4_4_4;if(te===UnsignedShort5551Type)return Z.UNSIGNED_SHORT_5_5_5_1;if(te===UnsignedInt5999Type)return Z.UNSIGNED_INT_5_9_9_9_REV;if(te===ByteType)return Z.BYTE;if(te===ShortType)return Z.SHORT;if(te===UnsignedShortType)return Z.UNSIGNED_SHORT;if(te===IntType)return Z.INT;if(te===UnsignedIntType)return Z.UNSIGNED_INT;if(te===FloatType)return Z.FLOAT;if(te===HalfFloatType)return Z.HALF_FLOAT;if(te===AlphaFormat)return Z.ALPHA;if(te===RGBFormat)return Z.RGB;if(te===RGBAFormat)return Z.RGBA;if(te===LuminanceFormat)return Z.LUMINANCE;if(te===LuminanceAlphaFormat)return Z.LUMINANCE_ALPHA;if(te===DepthFormat)return Z.DEPTH_COMPONENT;if(te===DepthStencilFormat)return Z.DEPTH_STENCIL;if(te===RedFormat)return Z.RED;if(te===RedIntegerFormat)return Z.RED_INTEGER;if(te===RGFormat)return Z.RG;if(te===RGIntegerFormat)return Z.RG_INTEGER;if(te===RGBAIntegerFormat)return Z.RGBA_INTEGER;if(te===RGB_S3TC_DXT1_Format||te===RGBA_S3TC_DXT1_Format||te===RGBA_S3TC_DXT3_Format||te===RGBA_S3TC_DXT5_Format)if(oe===SRGBTransfer)if(ie=_.get("WEBGL_compressed_texture_s3tc_srgb"),ie!==null){if(te===RGB_S3TC_DXT1_Format)return ie.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(te===RGBA_S3TC_DXT1_Format)return ie.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(te===RGBA_S3TC_DXT3_Format)return ie.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(te===RGBA_S3TC_DXT5_Format)return ie.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(ie=_.get("WEBGL_compressed_texture_s3tc"),ie!==null){if(te===RGB_S3TC_DXT1_Format)return ie.COMPRESSED_RGB_S3TC_DXT1_EXT;if(te===RGBA_S3TC_DXT1_Format)return ie.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(te===RGBA_S3TC_DXT3_Format)return ie.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(te===RGBA_S3TC_DXT5_Format)return ie.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(te===RGB_PVRTC_4BPPV1_Format||te===RGB_PVRTC_2BPPV1_Format||te===RGBA_PVRTC_4BPPV1_Format||te===RGBA_PVRTC_2BPPV1_Format)if(ie=_.get("WEBGL_compressed_texture_pvrtc"),ie!==null){if(te===RGB_PVRTC_4BPPV1_Format)return ie.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(te===RGB_PVRTC_2BPPV1_Format)return ie.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(te===RGBA_PVRTC_4BPPV1_Format)return ie.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(te===RGBA_PVRTC_2BPPV1_Format)return ie.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(te===RGB_ETC1_Format||te===RGB_ETC2_Format||te===RGBA_ETC2_EAC_Format)if(ie=_.get("WEBGL_compressed_texture_etc"),ie!==null){if(te===RGB_ETC1_Format||te===RGB_ETC2_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ETC2:ie.COMPRESSED_RGB8_ETC2;if(te===RGBA_ETC2_EAC_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:ie.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(te===RGBA_ASTC_4x4_Format||te===RGBA_ASTC_5x4_Format||te===RGBA_ASTC_5x5_Format||te===RGBA_ASTC_6x5_Format||te===RGBA_ASTC_6x6_Format||te===RGBA_ASTC_8x5_Format||te===RGBA_ASTC_8x6_Format||te===RGBA_ASTC_8x8_Format||te===RGBA_ASTC_10x5_Format||te===RGBA_ASTC_10x6_Format||te===RGBA_ASTC_10x8_Format||te===RGBA_ASTC_10x10_Format||te===RGBA_ASTC_12x10_Format||te===RGBA_ASTC_12x12_Format)if(ie=_.get("WEBGL_compressed_texture_astc"),ie!==null){if(te===RGBA_ASTC_4x4_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:ie.COMPRESSED_RGBA_ASTC_4x4_KHR;if(te===RGBA_ASTC_5x4_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:ie.COMPRESSED_RGBA_ASTC_5x4_KHR;if(te===RGBA_ASTC_5x5_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:ie.COMPRESSED_RGBA_ASTC_5x5_KHR;if(te===RGBA_ASTC_6x5_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:ie.COMPRESSED_RGBA_ASTC_6x5_KHR;if(te===RGBA_ASTC_6x6_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:ie.COMPRESSED_RGBA_ASTC_6x6_KHR;if(te===RGBA_ASTC_8x5_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:ie.COMPRESSED_RGBA_ASTC_8x5_KHR;if(te===RGBA_ASTC_8x6_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:ie.COMPRESSED_RGBA_ASTC_8x6_KHR;if(te===RGBA_ASTC_8x8_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:ie.COMPRESSED_RGBA_ASTC_8x8_KHR;if(te===RGBA_ASTC_10x5_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:ie.COMPRESSED_RGBA_ASTC_10x5_KHR;if(te===RGBA_ASTC_10x6_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:ie.COMPRESSED_RGBA_ASTC_10x6_KHR;if(te===RGBA_ASTC_10x8_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:ie.COMPRESSED_RGBA_ASTC_10x8_KHR;if(te===RGBA_ASTC_10x10_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:ie.COMPRESSED_RGBA_ASTC_10x10_KHR;if(te===RGBA_ASTC_12x10_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:ie.COMPRESSED_RGBA_ASTC_12x10_KHR;if(te===RGBA_ASTC_12x12_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:ie.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(te===RGBA_BPTC_Format||te===RGB_BPTC_SIGNED_Format||te===RGB_BPTC_UNSIGNED_Format)if(ie=_.get("EXT_texture_compression_bptc"),ie!==null){if(te===RGBA_BPTC_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:ie.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(te===RGB_BPTC_SIGNED_Format)return ie.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(te===RGB_BPTC_UNSIGNED_Format)return ie.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(te===RED_RGTC1_Format||te===SIGNED_RED_RGTC1_Format||te===RED_GREEN_RGTC2_Format||te===SIGNED_RED_GREEN_RGTC2_Format)if(ie=_.get("EXT_texture_compression_rgtc"),ie!==null){if(te===RGBA_BPTC_Format)return ie.COMPRESSED_RED_RGTC1_EXT;if(te===SIGNED_RED_RGTC1_Format)return ie.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(te===RED_GREEN_RGTC2_Format)return ie.COMPRESSED_RED_GREEN_RGTC2_EXT;if(te===SIGNED_RED_GREEN_RGTC2_Format)return ie.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return te===UnsignedInt248Type?Z.UNSIGNED_INT_24_8:Z[te]!==void 0?Z[te]:null}return{convert:K}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(_){return this._targetRay!==null&&this._targetRay.dispatchEvent(_),this._grip!==null&&this._grip.dispatchEvent(_),this._hand!==null&&this._hand.dispatchEvent(_),this}connect(_){if(_&&_.hand){const K=this._hand;if(K)for(const te of _.hand.values())this._getHandJoint(K,te)}return this.dispatchEvent({type:"connected",data:_}),this}disconnect(_){return this.dispatchEvent({type:"disconnected",data:_}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(_,K,te){let ne=null,ie=null,oe=null;const se=this._targetRay,le=this._grip,ce=this._hand;if(_&&K.session.visibilityState!=="visible-blurred"){if(ce&&_.hand){oe=!0;for(const Ee of _.hand.values()){const Se=K.getJointPose(Ee,te),_e=this._getHandJoint(ce,Ee);Se!==null&&(_e.matrix.fromArray(Se.transform.matrix),_e.matrix.decompose(_e.position,_e.rotation,_e.scale),_e.matrixWorldNeedsUpdate=!0,_e.jointRadius=Se.radius),_e.visible=Se!==null}const fe=ce.joints["index-finger-tip"],pe=ce.joints["thumb-tip"],me=fe.position.distanceTo(pe.position),ve=.02,ye=.005;ce.inputState.pinching&&me>ve+ye?(ce.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:_.handedness,target:this})):!ce.inputState.pinching&&me<=ve-ye&&(ce.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:_.handedness,target:this}))}else le!==null&&_.gripSpace&&(ie=K.getPose(_.gripSpace,te),ie!==null&&(le.matrix.fromArray(ie.transform.matrix),le.matrix.decompose(le.position,le.rotation,le.scale),le.matrixWorldNeedsUpdate=!0,ie.linearVelocity?(le.hasLinearVelocity=!0,le.linearVelocity.copy(ie.linearVelocity)):le.hasLinearVelocity=!1,ie.angularVelocity?(le.hasAngularVelocity=!0,le.angularVelocity.copy(ie.angularVelocity)):le.hasAngularVelocity=!1));se!==null&&(ne=K.getPose(_.targetRaySpace,te),ne===null&&ie!==null&&(ne=ie),ne!==null&&(se.matrix.fromArray(ne.transform.matrix),se.matrix.decompose(se.position,se.rotation,se.scale),se.matrixWorldNeedsUpdate=!0,ne.linearVelocity?(se.hasLinearVelocity=!0,se.linearVelocity.copy(ne.linearVelocity)):se.hasLinearVelocity=!1,ne.angularVelocity?(se.hasAngularVelocity=!0,se.angularVelocity.copy(ne.angularVelocity)):se.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return se!==null&&(se.visible=ne!==null),le!==null&&(le.visible=ie!==null),ce!==null&&(ce.visible=oe!==null),this}_getHandJoint(_,K){if(_.joints[K.jointName]===void 0){const te=new Group;te.matrixAutoUpdate=!1,te.visible=!1,_.joints[K.jointName]=te,_.add(te)}return _.joints[K.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(_,K,te){if(this.texture===null){const ne=new Texture,ie=_.properties.get(ne);ie.__webglTexture=K.texture,(K.depthNear!=te.depthNear||K.depthFar!=te.depthFar)&&(this.depthNear=K.depthNear,this.depthFar=K.depthFar),this.texture=ne}}getMesh(_){if(this.texture!==null&&this.mesh===null){const K=_.cameras[0].viewport,te=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:K.z},depthHeight:{value:K.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),te)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher$1{constructor(_,K){super();const te=this;let ne=null,ie=1,oe=null,se="local-floor",le=1,ce=null,fe=null,pe=null,me=null,ve=null,ye=null;const Ee=new WebXRDepthSensing,Se=K.getContextAttributes();let _e=null,Te=null;const Re=[],Pe=[],Fe=new Vector2;let $e=null;const ke=new PerspectiveCamera$1;ke.viewport=new Vector4;const ze=new PerspectiveCamera$1;ze.viewport=new Vector4;const Ue=[ke,ze],Oe=new ArrayCamera;let Ve=null,Ye=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ut){let St=Re[ut];return St===void 0&&(St=new WebXRController,Re[ut]=St),St.getTargetRaySpace()},this.getControllerGrip=function(ut){let St=Re[ut];return St===void 0&&(St=new WebXRController,Re[ut]=St),St.getGripSpace()},this.getHand=function(ut){let St=Re[ut];return St===void 0&&(St=new WebXRController,Re[ut]=St),St.getHandSpace()};function Ke(ut){const St=Pe.indexOf(ut.inputSource);if(St===-1)return;const Et=Re[St];Et!==void 0&&(Et.update(ut.inputSource,ut.frame,ce||oe),Et.dispatchEvent({type:ut.type,data:ut.inputSource}))}function rt(){ne.removeEventListener("select",Ke),ne.removeEventListener("selectstart",Ke),ne.removeEventListener("selectend",Ke),ne.removeEventListener("squeeze",Ke),ne.removeEventListener("squeezestart",Ke),ne.removeEventListener("squeezeend",Ke),ne.removeEventListener("end",rt),ne.removeEventListener("inputsourceschange",ct);for(let ut=0;ut<Re.length;ut++){const St=Pe[ut];St!==null&&(Pe[ut]=null,Re[ut].disconnect(St))}Ve=null,Ye=null,Ee.reset(),_.setRenderTarget(_e),ve=null,me=null,pe=null,ne=null,Te=null,_t.stop(),te.isPresenting=!1,_.setPixelRatio($e),_.setSize(Fe.width,Fe.height,!1),te.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ut){ie=ut,te.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ut){se=ut,te.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return ce||oe},this.setReferenceSpace=function(ut){ce=ut},this.getBaseLayer=function(){return me!==null?me:ve},this.getBinding=function(){return pe},this.getFrame=function(){return ye},this.getSession=function(){return ne},this.setSession=async function(ut){if(ne=ut,ne!==null){if(_e=_.getRenderTarget(),ne.addEventListener("select",Ke),ne.addEventListener("selectstart",Ke),ne.addEventListener("selectend",Ke),ne.addEventListener("squeeze",Ke),ne.addEventListener("squeezestart",Ke),ne.addEventListener("squeezeend",Ke),ne.addEventListener("end",rt),ne.addEventListener("inputsourceschange",ct),Se.xrCompatible!==!0&&await K.makeXRCompatible(),$e=_.getPixelRatio(),_.getSize(Fe),ne.renderState.layers===void 0){const St={antialias:Se.antialias,alpha:!0,depth:Se.depth,stencil:Se.stencil,framebufferScaleFactor:ie};ve=new XRWebGLLayer(ne,K,St),ne.updateRenderState({baseLayer:ve}),_.setPixelRatio(1),_.setSize(ve.framebufferWidth,ve.framebufferHeight,!1),Te=new WebGLRenderTarget(ve.framebufferWidth,ve.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:_.outputColorSpace,stencilBuffer:Se.stencil})}else{let St=null,Et=null,At=null;Se.depth&&(At=Se.stencil?K.DEPTH24_STENCIL8:K.DEPTH_COMPONENT24,St=Se.stencil?DepthStencilFormat:DepthFormat,Et=Se.stencil?UnsignedInt248Type:UnsignedIntType);const kt={colorFormat:K.RGBA8,depthFormat:At,scaleFactor:ie};pe=new XRWebGLBinding(ne,K),me=pe.createProjectionLayer(kt),ne.updateRenderState({layers:[me]}),_.setPixelRatio(1),_.setSize(me.textureWidth,me.textureHeight,!1),Te=new WebGLRenderTarget(me.textureWidth,me.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(me.textureWidth,me.textureHeight,Et,void 0,void 0,void 0,void 0,void 0,void 0,St),stencilBuffer:Se.stencil,colorSpace:_.outputColorSpace,samples:Se.antialias?4:0,resolveDepthBuffer:me.ignoreDepthValues===!1})}Te.isXRRenderTarget=!0,this.setFoveation(le),ce=null,oe=await ne.requestReferenceSpace(se),_t.setContext(ne),_t.start(),te.isPresenting=!0,te.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(ne!==null)return ne.environmentBlendMode},this.getDepthTexture=function(){return Ee.getDepthTexture()};function ct(ut){for(let St=0;St<ut.removed.length;St++){const Et=ut.removed[St],At=Pe.indexOf(Et);At>=0&&(Pe[At]=null,Re[At].disconnect(Et))}for(let St=0;St<ut.added.length;St++){const Et=ut.added[St];let At=Pe.indexOf(Et);if(At===-1){for(let jt=0;jt<Re.length;jt++)if(jt>=Pe.length){Pe.push(Et),At=jt;break}else if(Pe[jt]===null){Pe[jt]=Et,At=jt;break}if(At===-1)break}const kt=Re[At];kt&&kt.connect(Et)}}const at=new Vector3,mt=new Vector3;function je(ut,St,Et){at.setFromMatrixPosition(St.matrixWorld),mt.setFromMatrixPosition(Et.matrixWorld);const At=at.distanceTo(mt),kt=St.projectionMatrix.elements,jt=Et.projectionMatrix.elements,en=kt[14]/(kt[10]-1),un=kt[14]/(kt[10]+1),It=(kt[9]+1)/kt[5],Ot=(kt[9]-1)/kt[5],Ze=(kt[8]-1)/kt[0],sn=(jt[8]+1)/jt[0],Bt=en*Ze,rn=en*sn,Gt=At/(-Ze+sn),pn=Gt*-Ze;if(St.matrixWorld.decompose(ut.position,ut.quaternion,ut.scale),ut.translateX(pn),ut.translateZ(Gt),ut.matrixWorld.compose(ut.position,ut.quaternion,ut.scale),ut.matrixWorldInverse.copy(ut.matrixWorld).invert(),kt[10]===-1)ut.projectionMatrix.copy(St.projectionMatrix),ut.projectionMatrixInverse.copy(St.projectionMatrixInverse);else{const qt=en+Gt,Xe=un+Gt,He=Bt-pn,tt=rn+(At-pn),pt=It*un/Xe*qt,Lt=Ot*un/Xe*qt;ut.projectionMatrix.makePerspective(He,tt,pt,Lt,qt,Xe),ut.projectionMatrixInverse.copy(ut.projectionMatrix).invert()}}function it(ut,St){St===null?ut.matrixWorld.copy(ut.matrix):ut.matrixWorld.multiplyMatrices(St.matrixWorld,ut.matrix),ut.matrixWorldInverse.copy(ut.matrixWorld).invert()}this.updateCamera=function(ut){if(ne===null)return;let St=ut.near,Et=ut.far;Ee.texture!==null&&(Ee.depthNear>0&&(St=Ee.depthNear),Ee.depthFar>0&&(Et=Ee.depthFar)),Oe.near=ze.near=ke.near=St,Oe.far=ze.far=ke.far=Et,(Ve!==Oe.near||Ye!==Oe.far)&&(ne.updateRenderState({depthNear:Oe.near,depthFar:Oe.far}),Ve=Oe.near,Ye=Oe.far),ke.layers.mask=ut.layers.mask|2,ze.layers.mask=ut.layers.mask|4,Oe.layers.mask=ke.layers.mask|ze.layers.mask;const At=ut.parent,kt=Oe.cameras;it(Oe,At);for(let jt=0;jt<kt.length;jt++)it(kt[jt],At);kt.length===2?je(Oe,ke,ze):Oe.projectionMatrix.copy(ke.projectionMatrix),et(ut,Oe,At)};function et(ut,St,Et){Et===null?ut.matrix.copy(St.matrixWorld):(ut.matrix.copy(Et.matrixWorld),ut.matrix.invert(),ut.matrix.multiply(St.matrixWorld)),ut.matrix.decompose(ut.position,ut.quaternion,ut.scale),ut.updateMatrixWorld(!0),ut.projectionMatrix.copy(St.projectionMatrix),ut.projectionMatrixInverse.copy(St.projectionMatrixInverse),ut.isPerspectiveCamera&&(ut.fov=RAD2DEG*2*Math.atan(1/ut.projectionMatrix.elements[5]),ut.zoom=1)}this.getCamera=function(){return Oe},this.getFoveation=function(){if(!(me===null&&ve===null))return le},this.setFoveation=function(ut){le=ut,me!==null&&(me.fixedFoveation=ut),ve!==null&&ve.fixedFoveation!==void 0&&(ve.fixedFoveation=ut)},this.hasDepthSensing=function(){return Ee.texture!==null},this.getDepthSensingMesh=function(){return Ee.getMesh(Oe)};let qe=null;function lt(ut,St){if(fe=St.getViewerPose(ce||oe),ye=St,fe!==null){const Et=fe.views;ve!==null&&(_.setRenderTargetFramebuffer(Te,ve.framebuffer),_.setRenderTarget(Te));let At=!1;Et.length!==Oe.cameras.length&&(Oe.cameras.length=0,At=!0);for(let jt=0;jt<Et.length;jt++){const en=Et[jt];let un=null;if(ve!==null)un=ve.getViewport(en);else{const Ot=pe.getViewSubImage(me,en);un=Ot.viewport,jt===0&&(_.setRenderTargetTextures(Te,Ot.colorTexture,me.ignoreDepthValues?void 0:Ot.depthStencilTexture),_.setRenderTarget(Te))}let It=Ue[jt];It===void 0&&(It=new PerspectiveCamera$1,It.layers.enable(jt),It.viewport=new Vector4,Ue[jt]=It),It.matrix.fromArray(en.transform.matrix),It.matrix.decompose(It.position,It.quaternion,It.scale),It.projectionMatrix.fromArray(en.projectionMatrix),It.projectionMatrixInverse.copy(It.projectionMatrix).invert(),It.viewport.set(un.x,un.y,un.width,un.height),jt===0&&(Oe.matrix.copy(It.matrix),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale)),At===!0&&Oe.cameras.push(It)}const kt=ne.enabledFeatures;if(kt&&kt.includes("depth-sensing")){const jt=pe.getDepthInformation(Et[0]);jt&&jt.isValid&&jt.texture&&Ee.init(_,jt,ne.renderState)}}for(let Et=0;Et<Re.length;Et++){const At=Pe[Et],kt=Re[Et];At!==null&&kt!==void 0&&kt.update(At,St,ce||oe)}qe&&qe(ut,St),St.detectedPlanes&&te.dispatchEvent({type:"planesdetected",data:St}),ye=null}const _t=new WebGLAnimation;_t.setAnimationLoop(lt),this.setAnimationLoop=function(ut){qe=ut},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(Z,_){function K(Se,_e){Se.matrixAutoUpdate===!0&&Se.updateMatrix(),_e.value.copy(Se.matrix)}function te(Se,_e){_e.color.getRGB(Se.fogColor.value,getUnlitUniformColorSpace(Z)),_e.isFog?(Se.fogNear.value=_e.near,Se.fogFar.value=_e.far):_e.isFogExp2&&(Se.fogDensity.value=_e.density)}function ne(Se,_e,Te,Re,Pe){_e.isMeshBasicMaterial||_e.isMeshLambertMaterial?ie(Se,_e):_e.isMeshToonMaterial?(ie(Se,_e),pe(Se,_e)):_e.isMeshPhongMaterial?(ie(Se,_e),fe(Se,_e)):_e.isMeshStandardMaterial?(ie(Se,_e),me(Se,_e),_e.isMeshPhysicalMaterial&&ve(Se,_e,Pe)):_e.isMeshMatcapMaterial?(ie(Se,_e),ye(Se,_e)):_e.isMeshDepthMaterial?ie(Se,_e):_e.isMeshDistanceMaterial?(ie(Se,_e),Ee(Se,_e)):_e.isMeshNormalMaterial?ie(Se,_e):_e.isLineBasicMaterial?(oe(Se,_e),_e.isLineDashedMaterial&&se(Se,_e)):_e.isPointsMaterial?le(Se,_e,Te,Re):_e.isSpriteMaterial?ce(Se,_e):_e.isShadowMaterial?(Se.color.value.copy(_e.color),Se.opacity.value=_e.opacity):_e.isShaderMaterial&&(_e.uniformsNeedUpdate=!1)}function ie(Se,_e){Se.opacity.value=_e.opacity,_e.color&&Se.diffuse.value.copy(_e.color),_e.emissive&&Se.emissive.value.copy(_e.emissive).multiplyScalar(_e.emissiveIntensity),_e.map&&(Se.map.value=_e.map,K(_e.map,Se.mapTransform)),_e.alphaMap&&(Se.alphaMap.value=_e.alphaMap,K(_e.alphaMap,Se.alphaMapTransform)),_e.bumpMap&&(Se.bumpMap.value=_e.bumpMap,K(_e.bumpMap,Se.bumpMapTransform),Se.bumpScale.value=_e.bumpScale,_e.side===BackSide&&(Se.bumpScale.value*=-1)),_e.normalMap&&(Se.normalMap.value=_e.normalMap,K(_e.normalMap,Se.normalMapTransform),Se.normalScale.value.copy(_e.normalScale),_e.side===BackSide&&Se.normalScale.value.negate()),_e.displacementMap&&(Se.displacementMap.value=_e.displacementMap,K(_e.displacementMap,Se.displacementMapTransform),Se.displacementScale.value=_e.displacementScale,Se.displacementBias.value=_e.displacementBias),_e.emissiveMap&&(Se.emissiveMap.value=_e.emissiveMap,K(_e.emissiveMap,Se.emissiveMapTransform)),_e.specularMap&&(Se.specularMap.value=_e.specularMap,K(_e.specularMap,Se.specularMapTransform)),_e.alphaTest>0&&(Se.alphaTest.value=_e.alphaTest);const Te=_.get(_e),Re=Te.envMap,Pe=Te.envMapRotation;Re&&(Se.envMap.value=Re,_e1.copy(Pe),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,Re.isCubeTexture&&Re.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),Se.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),Se.flipEnvMap.value=Re.isCubeTexture&&Re.isRenderTargetTexture===!1?-1:1,Se.reflectivity.value=_e.reflectivity,Se.ior.value=_e.ior,Se.refractionRatio.value=_e.refractionRatio),_e.lightMap&&(Se.lightMap.value=_e.lightMap,Se.lightMapIntensity.value=_e.lightMapIntensity,K(_e.lightMap,Se.lightMapTransform)),_e.aoMap&&(Se.aoMap.value=_e.aoMap,Se.aoMapIntensity.value=_e.aoMapIntensity,K(_e.aoMap,Se.aoMapTransform))}function oe(Se,_e){Se.diffuse.value.copy(_e.color),Se.opacity.value=_e.opacity,_e.map&&(Se.map.value=_e.map,K(_e.map,Se.mapTransform))}function se(Se,_e){Se.dashSize.value=_e.dashSize,Se.totalSize.value=_e.dashSize+_e.gapSize,Se.scale.value=_e.scale}function le(Se,_e,Te,Re){Se.diffuse.value.copy(_e.color),Se.opacity.value=_e.opacity,Se.size.value=_e.size*Te,Se.scale.value=Re*.5,_e.map&&(Se.map.value=_e.map,K(_e.map,Se.uvTransform)),_e.alphaMap&&(Se.alphaMap.value=_e.alphaMap,K(_e.alphaMap,Se.alphaMapTransform)),_e.alphaTest>0&&(Se.alphaTest.value=_e.alphaTest)}function ce(Se,_e){Se.diffuse.value.copy(_e.color),Se.opacity.value=_e.opacity,Se.rotation.value=_e.rotation,_e.map&&(Se.map.value=_e.map,K(_e.map,Se.mapTransform)),_e.alphaMap&&(Se.alphaMap.value=_e.alphaMap,K(_e.alphaMap,Se.alphaMapTransform)),_e.alphaTest>0&&(Se.alphaTest.value=_e.alphaTest)}function fe(Se,_e){Se.specular.value.copy(_e.specular),Se.shininess.value=Math.max(_e.shininess,1e-4)}function pe(Se,_e){_e.gradientMap&&(Se.gradientMap.value=_e.gradientMap)}function me(Se,_e){Se.metalness.value=_e.metalness,_e.metalnessMap&&(Se.metalnessMap.value=_e.metalnessMap,K(_e.metalnessMap,Se.metalnessMapTransform)),Se.roughness.value=_e.roughness,_e.roughnessMap&&(Se.roughnessMap.value=_e.roughnessMap,K(_e.roughnessMap,Se.roughnessMapTransform)),_e.envMap&&(Se.envMapIntensity.value=_e.envMapIntensity)}function ve(Se,_e,Te){Se.ior.value=_e.ior,_e.sheen>0&&(Se.sheenColor.value.copy(_e.sheenColor).multiplyScalar(_e.sheen),Se.sheenRoughness.value=_e.sheenRoughness,_e.sheenColorMap&&(Se.sheenColorMap.value=_e.sheenColorMap,K(_e.sheenColorMap,Se.sheenColorMapTransform)),_e.sheenRoughnessMap&&(Se.sheenRoughnessMap.value=_e.sheenRoughnessMap,K(_e.sheenRoughnessMap,Se.sheenRoughnessMapTransform))),_e.clearcoat>0&&(Se.clearcoat.value=_e.clearcoat,Se.clearcoatRoughness.value=_e.clearcoatRoughness,_e.clearcoatMap&&(Se.clearcoatMap.value=_e.clearcoatMap,K(_e.clearcoatMap,Se.clearcoatMapTransform)),_e.clearcoatRoughnessMap&&(Se.clearcoatRoughnessMap.value=_e.clearcoatRoughnessMap,K(_e.clearcoatRoughnessMap,Se.clearcoatRoughnessMapTransform)),_e.clearcoatNormalMap&&(Se.clearcoatNormalMap.value=_e.clearcoatNormalMap,K(_e.clearcoatNormalMap,Se.clearcoatNormalMapTransform),Se.clearcoatNormalScale.value.copy(_e.clearcoatNormalScale),_e.side===BackSide&&Se.clearcoatNormalScale.value.negate())),_e.dispersion>0&&(Se.dispersion.value=_e.dispersion),_e.iridescence>0&&(Se.iridescence.value=_e.iridescence,Se.iridescenceIOR.value=_e.iridescenceIOR,Se.iridescenceThicknessMinimum.value=_e.iridescenceThicknessRange[0],Se.iridescenceThicknessMaximum.value=_e.iridescenceThicknessRange[1],_e.iridescenceMap&&(Se.iridescenceMap.value=_e.iridescenceMap,K(_e.iridescenceMap,Se.iridescenceMapTransform)),_e.iridescenceThicknessMap&&(Se.iridescenceThicknessMap.value=_e.iridescenceThicknessMap,K(_e.iridescenceThicknessMap,Se.iridescenceThicknessMapTransform))),_e.transmission>0&&(Se.transmission.value=_e.transmission,Se.transmissionSamplerMap.value=Te.texture,Se.transmissionSamplerSize.value.set(Te.width,Te.height),_e.transmissionMap&&(Se.transmissionMap.value=_e.transmissionMap,K(_e.transmissionMap,Se.transmissionMapTransform)),Se.thickness.value=_e.thickness,_e.thicknessMap&&(Se.thicknessMap.value=_e.thicknessMap,K(_e.thicknessMap,Se.thicknessMapTransform)),Se.attenuationDistance.value=_e.attenuationDistance,Se.attenuationColor.value.copy(_e.attenuationColor)),_e.anisotropy>0&&(Se.anisotropyVector.value.set(_e.anisotropy*Math.cos(_e.anisotropyRotation),_e.anisotropy*Math.sin(_e.anisotropyRotation)),_e.anisotropyMap&&(Se.anisotropyMap.value=_e.anisotropyMap,K(_e.anisotropyMap,Se.anisotropyMapTransform))),Se.specularIntensity.value=_e.specularIntensity,Se.specularColor.value.copy(_e.specularColor),_e.specularColorMap&&(Se.specularColorMap.value=_e.specularColorMap,K(_e.specularColorMap,Se.specularColorMapTransform)),_e.specularIntensityMap&&(Se.specularIntensityMap.value=_e.specularIntensityMap,K(_e.specularIntensityMap,Se.specularIntensityMapTransform))}function ye(Se,_e){_e.matcap&&(Se.matcap.value=_e.matcap)}function Ee(Se,_e){const Te=_.get(_e).light;Se.referencePosition.value.setFromMatrixPosition(Te.matrixWorld),Se.nearDistance.value=Te.shadow.camera.near,Se.farDistance.value=Te.shadow.camera.far}return{refreshFogUniforms:te,refreshMaterialUniforms:ne}}function WebGLUniformsGroups(Z,_,K,te){let ne={},ie={},oe=[];const se=Z.getParameter(Z.MAX_UNIFORM_BUFFER_BINDINGS);function le(Te,Re){const Pe=Re.program;te.uniformBlockBinding(Te,Pe)}function ce(Te,Re){let Pe=ne[Te.id];Pe===void 0&&(ye(Te),Pe=fe(Te),ne[Te.id]=Pe,Te.addEventListener("dispose",Se));const Fe=Re.program;te.updateUBOMapping(Te,Fe);const $e=_.render.frame;ie[Te.id]!==$e&&(me(Te),ie[Te.id]=$e)}function fe(Te){const Re=pe();Te.__bindingPointIndex=Re;const Pe=Z.createBuffer(),Fe=Te.__size,$e=Te.usage;return Z.bindBuffer(Z.UNIFORM_BUFFER,Pe),Z.bufferData(Z.UNIFORM_BUFFER,Fe,$e),Z.bindBuffer(Z.UNIFORM_BUFFER,null),Z.bindBufferBase(Z.UNIFORM_BUFFER,Re,Pe),Pe}function pe(){for(let Te=0;Te<se;Te++)if(oe.indexOf(Te)===-1)return oe.push(Te),Te;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function me(Te){const Re=ne[Te.id],Pe=Te.uniforms,Fe=Te.__cache;Z.bindBuffer(Z.UNIFORM_BUFFER,Re);for(let $e=0,ke=Pe.length;$e<ke;$e++){const ze=Array.isArray(Pe[$e])?Pe[$e]:[Pe[$e]];for(let Ue=0,Oe=ze.length;Ue<Oe;Ue++){const Ve=ze[Ue];if(ve(Ve,$e,Ue,Fe)===!0){const Ye=Ve.__offset,Ke=Array.isArray(Ve.value)?Ve.value:[Ve.value];let rt=0;for(let ct=0;ct<Ke.length;ct++){const at=Ke[ct],mt=Ee(at);typeof at=="number"||typeof at=="boolean"?(Ve.__data[0]=at,Z.bufferSubData(Z.UNIFORM_BUFFER,Ye+rt,Ve.__data)):at.isMatrix3?(Ve.__data[0]=at.elements[0],Ve.__data[1]=at.elements[1],Ve.__data[2]=at.elements[2],Ve.__data[3]=0,Ve.__data[4]=at.elements[3],Ve.__data[5]=at.elements[4],Ve.__data[6]=at.elements[5],Ve.__data[7]=0,Ve.__data[8]=at.elements[6],Ve.__data[9]=at.elements[7],Ve.__data[10]=at.elements[8],Ve.__data[11]=0):(at.toArray(Ve.__data,rt),rt+=mt.storage/Float32Array.BYTES_PER_ELEMENT)}Z.bufferSubData(Z.UNIFORM_BUFFER,Ye,Ve.__data)}}}Z.bindBuffer(Z.UNIFORM_BUFFER,null)}function ve(Te,Re,Pe,Fe){const $e=Te.value,ke=Re+"_"+Pe;if(Fe[ke]===void 0)return typeof $e=="number"||typeof $e=="boolean"?Fe[ke]=$e:Fe[ke]=$e.clone(),!0;{const ze=Fe[ke];if(typeof $e=="number"||typeof $e=="boolean"){if(ze!==$e)return Fe[ke]=$e,!0}else if(ze.equals($e)===!1)return ze.copy($e),!0}return!1}function ye(Te){const Re=Te.uniforms;let Pe=0;const Fe=16;for(let ke=0,ze=Re.length;ke<ze;ke++){const Ue=Array.isArray(Re[ke])?Re[ke]:[Re[ke]];for(let Oe=0,Ve=Ue.length;Oe<Ve;Oe++){const Ye=Ue[Oe],Ke=Array.isArray(Ye.value)?Ye.value:[Ye.value];for(let rt=0,ct=Ke.length;rt<ct;rt++){const at=Ke[rt],mt=Ee(at),je=Pe%Fe,it=je%mt.boundary,et=je+it;Pe+=it,et!==0&&Fe-et<mt.storage&&(Pe+=Fe-et),Ye.__data=new Float32Array(mt.storage/Float32Array.BYTES_PER_ELEMENT),Ye.__offset=Pe,Pe+=mt.storage}}}const $e=Pe%Fe;return $e>0&&(Pe+=Fe-$e),Te.__size=Pe,Te.__cache={},this}function Ee(Te){const Re={boundary:0,storage:0};return typeof Te=="number"||typeof Te=="boolean"?(Re.boundary=4,Re.storage=4):Te.isVector2?(Re.boundary=8,Re.storage=8):Te.isVector3||Te.isColor?(Re.boundary=16,Re.storage=12):Te.isVector4?(Re.boundary=16,Re.storage=16):Te.isMatrix3?(Re.boundary=48,Re.storage=48):Te.isMatrix4?(Re.boundary=64,Re.storage=64):Te.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Te),Re}function Se(Te){const Re=Te.target;Re.removeEventListener("dispose",Se);const Pe=oe.indexOf(Re.__bindingPointIndex);oe.splice(Pe,1),Z.deleteBuffer(ne[Re.id]),delete ne[Re.id],delete ie[Re.id]}function _e(){for(const Te in ne)Z.deleteBuffer(ne[Te]);oe=[],ne={},ie={}}return{bind:le,update:ce,dispose:_e}}class WebGLRenderer{constructor(_={}){const{canvas:K=createCanvasElement(),context:te=null,depth:ne=!0,stencil:ie=!1,alpha:oe=!1,antialias:se=!1,premultipliedAlpha:le=!0,preserveDrawingBuffer:ce=!1,powerPreference:fe="default",failIfMajorPerformanceCaveat:pe=!1,reverseDepthBuffer:me=!1}=_;this.isWebGLRenderer=!0;let ve;if(te!==null){if(typeof WebGLRenderingContext<"u"&&te instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");ve=te.getContextAttributes().alpha}else ve=oe;const ye=new Uint32Array(4),Ee=new Int32Array(4);let Se=null,_e=null;const Te=[],Re=[];this.domElement=K,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const Pe=this;let Fe=!1,$e=0,ke=0,ze=null,Ue=-1,Oe=null;const Ve=new Vector4,Ye=new Vector4;let Ke=null;const rt=new Color$1(0);let ct=0,at=K.width,mt=K.height,je=1,it=null,et=null;const qe=new Vector4(0,0,at,mt),lt=new Vector4(0,0,at,mt);let _t=!1;const ut=new Frustum;let St=!1,Et=!1;const At=new Matrix4,kt=new Matrix4,jt=new Vector3,en=new Vector4,un={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let It=!1;function Ot(){return ze===null?je:1}let Ze=te;function sn(We,gt){return K.getContext(We,gt)}try{const We={alpha:!0,depth:ne,stencil:ie,antialias:se,premultipliedAlpha:le,preserveDrawingBuffer:ce,powerPreference:fe,failIfMajorPerformanceCaveat:pe};if("setAttribute"in K&&K.setAttribute("data-engine",`three.js r${REVISION}`),K.addEventListener("webglcontextlost",Nt,!1),K.addEventListener("webglcontextrestored",dn,!1),K.addEventListener("webglcontextcreationerror",cn,!1),Ze===null){const gt="webgl2";if(Ze=sn(gt,We),Ze===null)throw sn(gt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(We){throw console.error("THREE.WebGLRenderer: "+We.message),We}let Bt,rn,Gt,pn,qt,Xe,He,tt,pt,Lt,Ct,nn,Xt,Qt,Rn,Ut,Ft,Zt,yn,an,ot,$t,tn,nt;function zt(){Bt=new WebGLExtensions(Ze),Bt.init(),$t=new WebGLUtils(Ze,Bt),rn=new WebGLCapabilities(Ze,Bt,_,$t),Gt=new WebGLState(Ze,Bt),rn.reverseDepthBuffer&&me&&Gt.buffers.depth.setReversed(!0),pn=new WebGLInfo(Ze),qt=new WebGLProperties,Xe=new WebGLTextures(Ze,Bt,Gt,qt,rn,$t,pn),He=new WebGLCubeMaps(Pe),tt=new WebGLCubeUVMaps(Pe),pt=new WebGLAttributes(Ze),tn=new WebGLBindingStates(Ze,pt),Lt=new WebGLGeometries(Ze,pt,pn,tn),Ct=new WebGLObjects(Ze,Lt,pt,pn),yn=new WebGLMorphtargets(Ze,rn,Xe),Ut=new WebGLClipping(qt),nn=new WebGLPrograms(Pe,He,tt,Bt,rn,tn,Ut),Xt=new WebGLMaterials(Pe,qt),Qt=new WebGLRenderLists,Rn=new WebGLRenderStates(Bt),Zt=new WebGLBackground(Pe,He,tt,Gt,Ct,ve,le),Ft=new WebGLShadowMap(Pe,Ct,rn),nt=new WebGLUniformsGroups(Ze,pn,rn,Gt),an=new WebGLBufferRenderer(Ze,Bt,pn),ot=new WebGLIndexedBufferRenderer(Ze,Bt,pn),pn.programs=nn.programs,Pe.capabilities=rn,Pe.extensions=Bt,Pe.properties=qt,Pe.renderLists=Qt,Pe.shadowMap=Ft,Pe.state=Gt,Pe.info=pn}zt();const wt=new WebXRManager(Pe,Ze);this.xr=wt,this.getContext=function(){return Ze},this.getContextAttributes=function(){return Ze.getContextAttributes()},this.forceContextLoss=function(){const We=Bt.get("WEBGL_lose_context");We&&We.loseContext()},this.forceContextRestore=function(){const We=Bt.get("WEBGL_lose_context");We&&We.restoreContext()},this.getPixelRatio=function(){return je},this.setPixelRatio=function(We){We!==void 0&&(je=We,this.setSize(at,mt,!1))},this.getSize=function(We){return We.set(at,mt)},this.setSize=function(We,gt,Mt=!0){if(wt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}at=We,mt=gt,K.width=Math.floor(We*je),K.height=Math.floor(gt*je),Mt===!0&&(K.style.width=We+"px",K.style.height=gt+"px"),this.setViewport(0,0,We,gt)},this.getDrawingBufferSize=function(We){return We.set(at*je,mt*je).floor()},this.setDrawingBufferSize=function(We,gt,Mt){at=We,mt=gt,je=Mt,K.width=Math.floor(We*Mt),K.height=Math.floor(gt*Mt),this.setViewport(0,0,We,gt)},this.getCurrentViewport=function(We){return We.copy(Ve)},this.getViewport=function(We){return We.copy(qe)},this.setViewport=function(We,gt,Mt,Rt){We.isVector4?qe.set(We.x,We.y,We.z,We.w):qe.set(We,gt,Mt,Rt),Gt.viewport(Ve.copy(qe).multiplyScalar(je).round())},this.getScissor=function(We){return We.copy(lt)},this.setScissor=function(We,gt,Mt,Rt){We.isVector4?lt.set(We.x,We.y,We.z,We.w):lt.set(We,gt,Mt,Rt),Gt.scissor(Ye.copy(lt).multiplyScalar(je).round())},this.getScissorTest=function(){return _t},this.setScissorTest=function(We){Gt.setScissorTest(_t=We)},this.setOpaqueSort=function(We){it=We},this.setTransparentSort=function(We){et=We},this.getClearColor=function(We){return We.copy(Zt.getClearColor())},this.setClearColor=function(){Zt.setClearColor.apply(Zt,arguments)},this.getClearAlpha=function(){return Zt.getClearAlpha()},this.setClearAlpha=function(){Zt.setClearAlpha.apply(Zt,arguments)},this.clear=function(We=!0,gt=!0,Mt=!0){let Rt=0;if(We){let ft=!1;if(ze!==null){const Wt=ze.texture.format;ft=Wt===RGBAIntegerFormat||Wt===RGIntegerFormat||Wt===RedIntegerFormat}if(ft){const Wt=ze.texture.type,ln=Wt===UnsignedByteType||Wt===UnsignedIntType||Wt===UnsignedShortType||Wt===UnsignedInt248Type||Wt===UnsignedShort4444Type||Wt===UnsignedShort5551Type,mn=Zt.getClearColor(),_n=Zt.getClearAlpha(),Nn=mn.r,In=mn.g,Sn=mn.b;ln?(ye[0]=Nn,ye[1]=In,ye[2]=Sn,ye[3]=_n,Ze.clearBufferuiv(Ze.COLOR,0,ye)):(Ee[0]=Nn,Ee[1]=In,Ee[2]=Sn,Ee[3]=_n,Ze.clearBufferiv(Ze.COLOR,0,Ee))}else Rt|=Ze.COLOR_BUFFER_BIT}gt&&(Rt|=Ze.DEPTH_BUFFER_BIT),Mt&&(Rt|=Ze.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ze.clear(Rt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){K.removeEventListener("webglcontextlost",Nt,!1),K.removeEventListener("webglcontextrestored",dn,!1),K.removeEventListener("webglcontextcreationerror",cn,!1),Zt.dispose(),Qt.dispose(),Rn.dispose(),qt.dispose(),He.dispose(),tt.dispose(),Ct.dispose(),tn.dispose(),nt.dispose(),nn.dispose(),wt.dispose(),wt.removeEventListener("sessionstart",Cs),wt.removeEventListener("sessionend",$o),Yi.stop()};function Nt(We){We.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Fe=!0}function dn(){console.log("THREE.WebGLRenderer: Context Restored."),Fe=!1;const We=pn.autoReset,gt=Ft.enabled,Mt=Ft.autoUpdate,Rt=Ft.needsUpdate,ft=Ft.type;zt(),pn.autoReset=We,Ft.enabled=gt,Ft.autoUpdate=Mt,Ft.needsUpdate=Rt,Ft.type=ft}function cn(We){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",We.statusMessage)}function Pn(We){const gt=We.target;gt.removeEventListener("dispose",Pn),Yn(gt)}function Yn(We){sr(We),qt.remove(We)}function sr(We){const gt=qt.get(We).programs;gt!==void 0&&(gt.forEach(function(Mt){nn.releaseProgram(Mt)}),We.isShaderMaterial&&nn.releaseShaderCache(We))}this.renderBufferDirect=function(We,gt,Mt,Rt,ft,Wt){gt===null&&(gt=un);const ln=ft.isMesh&&ft.matrixWorld.determinant()<0,mn=Ka(We,gt,Mt,Rt,ft);Gt.setMaterial(Rt,ln);let _n=Mt.index,Nn=1;if(Rt.wireframe===!0){if(_n=Lt.getWireframeAttribute(Mt),_n===void 0)return;Nn=2}const In=Mt.drawRange,Sn=Mt.attributes.position;let gn=In.start*Nn,Cn=(In.start+In.count)*Nn;Wt!==null&&(gn=Math.max(gn,Wt.start*Nn),Cn=Math.min(Cn,(Wt.start+Wt.count)*Nn)),_n!==null?(gn=Math.max(gn,0),Cn=Math.min(Cn,_n.count)):Sn!=null&&(gn=Math.max(gn,0),Cn=Math.min(Cn,Sn.count));const jn=Cn-gn;if(jn<0||jn===1/0)return;tn.setup(ft,Rt,mn,Mt,_n);let qn,Fn=an;if(_n!==null&&(qn=pt.get(_n),Fn=ot,Fn.setIndex(qn)),ft.isMesh)Rt.wireframe===!0?(Gt.setLineWidth(Rt.wireframeLinewidth*Ot()),Fn.setMode(Ze.LINES)):Fn.setMode(Ze.TRIANGLES);else if(ft.isLine){let Mn=Rt.linewidth;Mn===void 0&&(Mn=1),Gt.setLineWidth(Mn*Ot()),ft.isLineSegments?Fn.setMode(Ze.LINES):ft.isLineLoop?Fn.setMode(Ze.LINE_LOOP):Fn.setMode(Ze.LINE_STRIP)}else ft.isPoints?Fn.setMode(Ze.POINTS):ft.isSprite&&Fn.setMode(Ze.TRIANGLES);if(ft.isBatchedMesh)if(ft._multiDrawInstances!==null)Fn.renderMultiDrawInstances(ft._multiDrawStarts,ft._multiDrawCounts,ft._multiDrawCount,ft._multiDrawInstances);else if(Bt.get("WEBGL_multi_draw"))Fn.renderMultiDraw(ft._multiDrawStarts,ft._multiDrawCounts,ft._multiDrawCount);else{const Mn=ft._multiDrawStarts,ir=ft._multiDrawCounts,On=ft._multiDrawCount,Mr=_n?pt.get(_n).bytesPerElement:1,Mi=qt.get(Rt).currentProgram.getUniforms();for(let Wr=0;Wr<On;Wr++)Mi.setValue(Ze,"_gl_DrawID",Wr),Fn.render(Mn[Wr]/Mr,ir[Wr])}else if(ft.isInstancedMesh)Fn.renderInstances(gn,jn,ft.count);else if(Mt.isInstancedBufferGeometry){const Mn=Mt._maxInstanceCount!==void 0?Mt._maxInstanceCount:1/0,ir=Math.min(Mt.instanceCount,Mn);Fn.renderInstances(gn,jn,ir)}else Fn.render(gn,jn)};function Gn(We,gt,Mt){We.transparent===!0&&We.side===DoubleSide&&We.forceSinglePass===!1?(We.side=BackSide,We.needsUpdate=!0,Ps(We,gt,Mt),We.side=FrontSide,We.needsUpdate=!0,Ps(We,gt,Mt),We.side=DoubleSide):Ps(We,gt,Mt)}this.compile=function(We,gt,Mt=null){Mt===null&&(Mt=We),_e=Rn.get(Mt),_e.init(gt),Re.push(_e),Mt.traverseVisible(function(ft){ft.isLight&&ft.layers.test(gt.layers)&&(_e.pushLight(ft),ft.castShadow&&_e.pushShadow(ft))}),We!==Mt&&We.traverseVisible(function(ft){ft.isLight&&ft.layers.test(gt.layers)&&(_e.pushLight(ft),ft.castShadow&&_e.pushShadow(ft))}),_e.setupLights();const Rt=new Set;return We.traverse(function(ft){if(!(ft.isMesh||ft.isPoints||ft.isLine||ft.isSprite))return;const Wt=ft.material;if(Wt)if(Array.isArray(Wt))for(let ln=0;ln<Wt.length;ln++){const mn=Wt[ln];Gn(mn,Mt,ft),Rt.add(mn)}else Gn(Wt,Mt,ft),Rt.add(Wt)}),Re.pop(),_e=null,Rt},this.compileAsync=function(We,gt,Mt=null){const Rt=this.compile(We,gt,Mt);return new Promise(ft=>{function Wt(){if(Rt.forEach(function(ln){qt.get(ln).currentProgram.isReady()&&Rt.delete(ln)}),Rt.size===0){ft(We);return}setTimeout(Wt,10)}Bt.get("KHR_parallel_shader_compile")!==null?Wt():setTimeout(Wt,10)})};let xr=null;function wr(We){xr&&xr(We)}function Cs(){Yi.stop()}function $o(){Yi.start()}const Yi=new WebGLAnimation;Yi.setAnimationLoop(wr),typeof self<"u"&&Yi.setContext(self),this.setAnimationLoop=function(We){xr=We,wt.setAnimationLoop(We),We===null?Yi.stop():Yi.start()},wt.addEventListener("sessionstart",Cs),wt.addEventListener("sessionend",$o),this.render=function(We,gt){if(gt!==void 0&&gt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Fe===!0)return;if(We.matrixWorldAutoUpdate===!0&&We.updateMatrixWorld(),gt.parent===null&&gt.matrixWorldAutoUpdate===!0&&gt.updateMatrixWorld(),wt.enabled===!0&&wt.isPresenting===!0&&(wt.cameraAutoUpdate===!0&&wt.updateCamera(gt),gt=wt.getCamera()),We.isScene===!0&&We.onBeforeRender(Pe,We,gt,ze),_e=Rn.get(We,Re.length),_e.init(gt),Re.push(_e),kt.multiplyMatrices(gt.projectionMatrix,gt.matrixWorldInverse),ut.setFromProjectionMatrix(kt),Et=this.localClippingEnabled,St=Ut.init(this.clippingPlanes,Et),Se=Qt.get(We,Te.length),Se.init(),Te.push(Se),wt.enabled===!0&&wt.isPresenting===!0){const Wt=Pe.xr.getDepthSensingMesh();Wt!==null&&Fi(Wt,gt,-1/0,Pe.sortObjects)}Fi(We,gt,0,Pe.sortObjects),Se.finish(),Pe.sortObjects===!0&&Se.sort(it,et),It=wt.enabled===!1||wt.isPresenting===!1||wt.hasDepthSensing()===!1,It&&Zt.addToRenderList(Se,We),this.info.render.frame++,St===!0&&Ut.beginShadows();const Mt=_e.state.shadowsArray;Ft.render(Mt,We,gt),St===!0&&Ut.endShadows(),this.info.autoReset===!0&&this.info.reset();const Rt=Se.opaque,ft=Se.transmissive;if(_e.setupLights(),gt.isArrayCamera){const Wt=gt.cameras;if(ft.length>0)for(let ln=0,mn=Wt.length;ln<mn;ln++){const _n=Wt[ln];ki(Rt,ft,We,_n)}It&&Zt.render(We);for(let ln=0,mn=Wt.length;ln<mn;ln++){const _n=Wt[ln];Xo(Se,We,_n,_n.viewport)}}else ft.length>0&&ki(Rt,ft,We,gt),It&&Zt.render(We),Xo(Se,We,gt);ze!==null&&(Xe.updateMultisampleRenderTarget(ze),Xe.updateRenderTargetMipmap(ze)),We.isScene===!0&&We.onAfterRender(Pe,We,gt),tn.resetDefaultState(),Ue=-1,Oe=null,Re.pop(),Re.length>0?(_e=Re[Re.length-1],St===!0&&Ut.setGlobalState(Pe.clippingPlanes,_e.state.camera)):_e=null,Te.pop(),Te.length>0?Se=Te[Te.length-1]:Se=null};function Fi(We,gt,Mt,Rt){if(We.visible===!1)return;if(We.layers.test(gt.layers)){if(We.isGroup)Mt=We.renderOrder;else if(We.isLOD)We.autoUpdate===!0&&We.update(gt);else if(We.isLight)_e.pushLight(We),We.castShadow&&_e.pushShadow(We);else if(We.isSprite){if(!We.frustumCulled||ut.intersectsSprite(We)){Rt&&en.setFromMatrixPosition(We.matrixWorld).applyMatrix4(kt);const ln=Ct.update(We),mn=We.material;mn.visible&&Se.push(We,ln,mn,Mt,en.z,null)}}else if((We.isMesh||We.isLine||We.isPoints)&&(!We.frustumCulled||ut.intersectsObject(We))){const ln=Ct.update(We),mn=We.material;if(Rt&&(We.boundingSphere!==void 0?(We.boundingSphere===null&&We.computeBoundingSphere(),en.copy(We.boundingSphere.center)):(ln.boundingSphere===null&&ln.computeBoundingSphere(),en.copy(ln.boundingSphere.center)),en.applyMatrix4(We.matrixWorld).applyMatrix4(kt)),Array.isArray(mn)){const _n=ln.groups;for(let Nn=0,In=_n.length;Nn<In;Nn++){const Sn=_n[Nn],gn=mn[Sn.materialIndex];gn&&gn.visible&&Se.push(We,ln,gn,Mt,en.z,Sn)}}else mn.visible&&Se.push(We,ln,mn,Mt,en.z,null)}}const Wt=We.children;for(let ln=0,mn=Wt.length;ln<mn;ln++)Fi(Wt[ln],gt,Mt,Rt)}function Xo(We,gt,Mt,Rt){const ft=We.opaque,Wt=We.transmissive,ln=We.transparent;_e.setupLightsView(Mt),St===!0&&Ut.setGlobalState(Pe.clippingPlanes,Mt),Rt&&Gt.viewport(Ve.copy(Rt)),ft.length>0&&Do(ft,gt,Mt),Wt.length>0&&Do(Wt,gt,Mt),ln.length>0&&Do(ln,gt,Mt),Gt.buffers.depth.setTest(!0),Gt.buffers.depth.setMask(!0),Gt.buffers.color.setMask(!0),Gt.setPolygonOffset(!1)}function ki(We,gt,Mt,Rt){if((Mt.isScene===!0?Mt.overrideMaterial:null)!==null)return;_e.state.transmissionRenderTarget[Rt.id]===void 0&&(_e.state.transmissionRenderTarget[Rt.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Bt.has("EXT_color_buffer_half_float")||Bt.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:ie,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const Wt=_e.state.transmissionRenderTarget[Rt.id],ln=Rt.viewport||Ve;Wt.setSize(ln.z,ln.w);const mn=Pe.getRenderTarget();Pe.setRenderTarget(Wt),Pe.getClearColor(rt),ct=Pe.getClearAlpha(),ct<1&&Pe.setClearColor(16777215,.5),Pe.clear(),It&&Zt.render(Mt);const _n=Pe.toneMapping;Pe.toneMapping=NoToneMapping;const Nn=Rt.viewport;if(Rt.viewport!==void 0&&(Rt.viewport=void 0),_e.setupLightsView(Rt),St===!0&&Ut.setGlobalState(Pe.clippingPlanes,Rt),Do(We,Mt,Rt),Xe.updateMultisampleRenderTarget(Wt),Xe.updateRenderTargetMipmap(Wt),Bt.has("WEBGL_multisampled_render_to_texture")===!1){let In=!1;for(let Sn=0,gn=gt.length;Sn<gn;Sn++){const Cn=gt[Sn],jn=Cn.object,qn=Cn.geometry,Fn=Cn.material,Mn=Cn.group;if(Fn.side===DoubleSide&&jn.layers.test(Rt.layers)){const ir=Fn.side;Fn.side=BackSide,Fn.needsUpdate=!0,Xa(jn,Mt,Rt,qn,Fn,Mn),Fn.side=ir,Fn.needsUpdate=!0,In=!0}}In===!0&&(Xe.updateMultisampleRenderTarget(Wt),Xe.updateRenderTargetMipmap(Wt))}Pe.setRenderTarget(mn),Pe.setClearColor(rt,ct),Nn!==void 0&&(Rt.viewport=Nn),Pe.toneMapping=_n}function Do(We,gt,Mt){const Rt=gt.isScene===!0?gt.overrideMaterial:null;for(let ft=0,Wt=We.length;ft<Wt;ft++){const ln=We[ft],mn=ln.object,_n=ln.geometry,Nn=Rt===null?ln.material:Rt,In=ln.group;mn.layers.test(Mt.layers)&&Xa(mn,gt,Mt,_n,Nn,In)}}function Xa(We,gt,Mt,Rt,ft,Wt){We.onBeforeRender(Pe,gt,Mt,Rt,ft,Wt),We.modelViewMatrix.multiplyMatrices(Mt.matrixWorldInverse,We.matrixWorld),We.normalMatrix.getNormalMatrix(We.modelViewMatrix),ft.onBeforeRender(Pe,gt,Mt,Rt,We,Wt),ft.transparent===!0&&ft.side===DoubleSide&&ft.forceSinglePass===!1?(ft.side=BackSide,ft.needsUpdate=!0,Pe.renderBufferDirect(Mt,gt,Rt,ft,We,Wt),ft.side=FrontSide,ft.needsUpdate=!0,Pe.renderBufferDirect(Mt,gt,Rt,ft,We,Wt),ft.side=DoubleSide):Pe.renderBufferDirect(Mt,gt,Rt,ft,We,Wt),We.onAfterRender(Pe,gt,Mt,Rt,ft,Wt)}function Ps(We,gt,Mt){gt.isScene!==!0&&(gt=un);const Rt=qt.get(We),ft=_e.state.lights,Wt=_e.state.shadowsArray,ln=ft.state.version,mn=nn.getParameters(We,ft.state,Wt,gt,Mt),_n=nn.getProgramCacheKey(mn);let Nn=Rt.programs;Rt.environment=We.isMeshStandardMaterial?gt.environment:null,Rt.fog=gt.fog,Rt.envMap=(We.isMeshStandardMaterial?tt:He).get(We.envMap||Rt.environment),Rt.envMapRotation=Rt.environment!==null&&We.envMap===null?gt.environmentRotation:We.envMapRotation,Nn===void 0&&(We.addEventListener("dispose",Pn),Nn=new Map,Rt.programs=Nn);let In=Nn.get(_n);if(In!==void 0){if(Rt.currentProgram===In&&Rt.lightsStateVersion===ln)return Ki(We,mn),In}else mn.uniforms=nn.getUniforms(We),We.onBeforeCompile(mn,Pe),In=nn.acquireProgram(mn,_n),Nn.set(_n,In),Rt.uniforms=mn.uniforms;const Sn=Rt.uniforms;return(!We.isShaderMaterial&&!We.isRawShaderMaterial||We.clipping===!0)&&(Sn.clippingPlanes=Ut.uniform),Ki(We,mn),Rt.needsLights=Qa(We),Rt.lightsStateVersion=ln,Rt.needsLights&&(Sn.ambientLightColor.value=ft.state.ambient,Sn.lightProbe.value=ft.state.probe,Sn.directionalLights.value=ft.state.directional,Sn.directionalLightShadows.value=ft.state.directionalShadow,Sn.spotLights.value=ft.state.spot,Sn.spotLightShadows.value=ft.state.spotShadow,Sn.rectAreaLights.value=ft.state.rectArea,Sn.ltc_1.value=ft.state.rectAreaLTC1,Sn.ltc_2.value=ft.state.rectAreaLTC2,Sn.pointLights.value=ft.state.point,Sn.pointLightShadows.value=ft.state.pointShadow,Sn.hemisphereLights.value=ft.state.hemi,Sn.directionalShadowMap.value=ft.state.directionalShadowMap,Sn.directionalShadowMatrix.value=ft.state.directionalShadowMatrix,Sn.spotShadowMap.value=ft.state.spotShadowMap,Sn.spotLightMatrix.value=ft.state.spotLightMatrix,Sn.spotLightMap.value=ft.state.spotLightMap,Sn.pointShadowMap.value=ft.state.pointShadowMap,Sn.pointShadowMatrix.value=ft.state.pointShadowMatrix),Rt.currentProgram=In,Rt.uniformsList=null,In}function Ya(We){if(We.uniformsList===null){const gt=We.currentProgram.getUniforms();We.uniformsList=WebGLUniforms.seqWithValue(gt.seq,We.uniforms)}return We.uniformsList}function Ki(We,gt){const Mt=qt.get(We);Mt.outputColorSpace=gt.outputColorSpace,Mt.batching=gt.batching,Mt.batchingColor=gt.batchingColor,Mt.instancing=gt.instancing,Mt.instancingColor=gt.instancingColor,Mt.instancingMorph=gt.instancingMorph,Mt.skinning=gt.skinning,Mt.morphTargets=gt.morphTargets,Mt.morphNormals=gt.morphNormals,Mt.morphColors=gt.morphColors,Mt.morphTargetsCount=gt.morphTargetsCount,Mt.numClippingPlanes=gt.numClippingPlanes,Mt.numIntersection=gt.numClipIntersection,Mt.vertexAlphas=gt.vertexAlphas,Mt.vertexTangents=gt.vertexTangents,Mt.toneMapping=gt.toneMapping}function Ka(We,gt,Mt,Rt,ft){gt.isScene!==!0&&(gt=un),Xe.resetTextureUnits();const Wt=gt.fog,ln=Rt.isMeshStandardMaterial?gt.environment:null,mn=ze===null?Pe.outputColorSpace:ze.isXRRenderTarget===!0?ze.texture.colorSpace:LinearSRGBColorSpace,_n=(Rt.isMeshStandardMaterial?tt:He).get(Rt.envMap||ln),Nn=Rt.vertexColors===!0&&!!Mt.attributes.color&&Mt.attributes.color.itemSize===4,In=!!Mt.attributes.tangent&&(!!Rt.normalMap||Rt.anisotropy>0),Sn=!!Mt.morphAttributes.position,gn=!!Mt.morphAttributes.normal,Cn=!!Mt.morphAttributes.color;let jn=NoToneMapping;Rt.toneMapped&&(ze===null||ze.isXRRenderTarget===!0)&&(jn=Pe.toneMapping);const qn=Mt.morphAttributes.position||Mt.morphAttributes.normal||Mt.morphAttributes.color,Fn=qn!==void 0?qn.length:0,Mn=qt.get(Rt),ir=_e.state.lights;if(St===!0&&(Et===!0||We!==Oe)){const Sr=We===Oe&&Rt.id===Ue;Ut.setState(Rt,We,Sr)}let On=!1;Rt.version===Mn.__version?(Mn.needsLights&&Mn.lightsStateVersion!==ir.state.version||Mn.outputColorSpace!==mn||ft.isBatchedMesh&&Mn.batching===!1||!ft.isBatchedMesh&&Mn.batching===!0||ft.isBatchedMesh&&Mn.batchingColor===!0&&ft.colorTexture===null||ft.isBatchedMesh&&Mn.batchingColor===!1&&ft.colorTexture!==null||ft.isInstancedMesh&&Mn.instancing===!1||!ft.isInstancedMesh&&Mn.instancing===!0||ft.isSkinnedMesh&&Mn.skinning===!1||!ft.isSkinnedMesh&&Mn.skinning===!0||ft.isInstancedMesh&&Mn.instancingColor===!0&&ft.instanceColor===null||ft.isInstancedMesh&&Mn.instancingColor===!1&&ft.instanceColor!==null||ft.isInstancedMesh&&Mn.instancingMorph===!0&&ft.morphTexture===null||ft.isInstancedMesh&&Mn.instancingMorph===!1&&ft.morphTexture!==null||Mn.envMap!==_n||Rt.fog===!0&&Mn.fog!==Wt||Mn.numClippingPlanes!==void 0&&(Mn.numClippingPlanes!==Ut.numPlanes||Mn.numIntersection!==Ut.numIntersection)||Mn.vertexAlphas!==Nn||Mn.vertexTangents!==In||Mn.morphTargets!==Sn||Mn.morphNormals!==gn||Mn.morphColors!==Cn||Mn.toneMapping!==jn||Mn.morphTargetsCount!==Fn)&&(On=!0):(On=!0,Mn.__version=Rt.version);let Mr=Mn.currentProgram;On===!0&&(Mr=Ps(Rt,gt,ft));let Mi=!1,Wr=!1,Zi=!1;const tr=Mr.getUniforms(),ur=Mn.uniforms;if(Gt.useProgram(Mr.program)&&(Mi=!0,Wr=!0,Zi=!0),Rt.id!==Ue&&(Ue=Rt.id,Wr=!0),Mi||Oe!==We){Gt.buffers.depth.getReversed()?(At.copy(We.projectionMatrix),toNormalizedProjectionMatrix(At),toReversedProjectionMatrix(At),tr.setValue(Ze,"projectionMatrix",At)):tr.setValue(Ze,"projectionMatrix",We.projectionMatrix),tr.setValue(Ze,"viewMatrix",We.matrixWorldInverse);const qr=tr.map.cameraPosition;qr!==void 0&&qr.setValue(Ze,jt.setFromMatrixPosition(We.matrixWorld)),rn.logarithmicDepthBuffer&&tr.setValue(Ze,"logDepthBufFC",2/(Math.log(We.far+1)/Math.LN2)),(Rt.isMeshPhongMaterial||Rt.isMeshToonMaterial||Rt.isMeshLambertMaterial||Rt.isMeshBasicMaterial||Rt.isMeshStandardMaterial||Rt.isShaderMaterial)&&tr.setValue(Ze,"isOrthographic",We.isOrthographicCamera===!0),Oe!==We&&(Oe=We,Wr=!0,Zi=!0)}if(ft.isSkinnedMesh){tr.setOptional(Ze,ft,"bindMatrix"),tr.setOptional(Ze,ft,"bindMatrixInverse");const Sr=ft.skeleton;Sr&&(Sr.boneTexture===null&&Sr.computeBoneTexture(),tr.setValue(Ze,"boneTexture",Sr.boneTexture,Xe))}ft.isBatchedMesh&&(tr.setOptional(Ze,ft,"batchingTexture"),tr.setValue(Ze,"batchingTexture",ft._matricesTexture,Xe),tr.setOptional(Ze,ft,"batchingIdTexture"),tr.setValue(Ze,"batchingIdTexture",ft._indirectTexture,Xe),tr.setOptional(Ze,ft,"batchingColorTexture"),ft._colorsTexture!==null&&tr.setValue(Ze,"batchingColorTexture",ft._colorsTexture,Xe));const jr=Mt.morphAttributes;if((jr.position!==void 0||jr.normal!==void 0||jr.color!==void 0)&&yn.update(ft,Mt,Mr),(Wr||Mn.receiveShadow!==ft.receiveShadow)&&(Mn.receiveShadow=ft.receiveShadow,tr.setValue(Ze,"receiveShadow",ft.receiveShadow)),Rt.isMeshGouraudMaterial&&Rt.envMap!==null&&(ur.envMap.value=_n,ur.flipEnvMap.value=_n.isCubeTexture&&_n.isRenderTargetTexture===!1?-1:1),Rt.isMeshStandardMaterial&&Rt.envMap===null&&gt.environment!==null&&(ur.envMapIntensity.value=gt.environmentIntensity),Wr&&(tr.setValue(Ze,"toneMappingExposure",Pe.toneMappingExposure),Mn.needsLights&&Za(ur,Zi),Wt&&Rt.fog===!0&&Xt.refreshFogUniforms(ur,Wt),Xt.refreshMaterialUniforms(ur,Rt,je,mt,_e.state.transmissionRenderTarget[We.id]),WebGLUniforms.upload(Ze,Ya(Mn),ur,Xe)),Rt.isShaderMaterial&&Rt.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Ze,Ya(Mn),ur,Xe),Rt.uniformsNeedUpdate=!1),Rt.isSpriteMaterial&&tr.setValue(Ze,"center",ft.center),tr.setValue(Ze,"modelViewMatrix",ft.modelViewMatrix),tr.setValue(Ze,"normalMatrix",ft.normalMatrix),tr.setValue(Ze,"modelMatrix",ft.matrixWorld),Rt.isShaderMaterial||Rt.isRawShaderMaterial){const Sr=Rt.uniformsGroups;for(let qr=0,Qi=Sr.length;qr<Qi;qr++){const Hn=Sr[qr];nt.update(Hn,Mr),nt.bind(Hn,Mr)}}return Mr}function Za(We,gt){We.ambientLightColor.needsUpdate=gt,We.lightProbe.needsUpdate=gt,We.directionalLights.needsUpdate=gt,We.directionalLightShadows.needsUpdate=gt,We.pointLights.needsUpdate=gt,We.pointLightShadows.needsUpdate=gt,We.spotLights.needsUpdate=gt,We.spotLightShadows.needsUpdate=gt,We.rectAreaLights.needsUpdate=gt,We.hemisphereLights.needsUpdate=gt}function Qa(We){return We.isMeshLambertMaterial||We.isMeshToonMaterial||We.isMeshPhongMaterial||We.isMeshStandardMaterial||We.isShadowMaterial||We.isShaderMaterial&&We.lights===!0}this.getActiveCubeFace=function(){return $e},this.getActiveMipmapLevel=function(){return ke},this.getRenderTarget=function(){return ze},this.setRenderTargetTextures=function(We,gt,Mt){qt.get(We.texture).__webglTexture=gt,qt.get(We.depthTexture).__webglTexture=Mt;const Rt=qt.get(We);Rt.__hasExternalTextures=!0,Rt.__autoAllocateDepthBuffer=Mt===void 0,Rt.__autoAllocateDepthBuffer||Bt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Rt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(We,gt){const Mt=qt.get(We);Mt.__webglFramebuffer=gt,Mt.__useDefaultFramebuffer=gt===void 0},this.setRenderTarget=function(We,gt=0,Mt=0){ze=We,$e=gt,ke=Mt;let Rt=!0,ft=null,Wt=!1,ln=!1;if(We){const _n=qt.get(We);if(_n.__useDefaultFramebuffer!==void 0)Gt.bindFramebuffer(Ze.FRAMEBUFFER,null),Rt=!1;else if(_n.__webglFramebuffer===void 0)Xe.setupRenderTarget(We);else if(_n.__hasExternalTextures)Xe.rebindTextures(We,qt.get(We.texture).__webglTexture,qt.get(We.depthTexture).__webglTexture);else if(We.depthBuffer){const Sn=We.depthTexture;if(_n.__boundDepthTexture!==Sn){if(Sn!==null&&qt.has(Sn)&&(We.width!==Sn.image.width||We.height!==Sn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Xe.setupDepthRenderbuffer(We)}}const Nn=We.texture;(Nn.isData3DTexture||Nn.isDataArrayTexture||Nn.isCompressedArrayTexture)&&(ln=!0);const In=qt.get(We).__webglFramebuffer;We.isWebGLCubeRenderTarget?(Array.isArray(In[gt])?ft=In[gt][Mt]:ft=In[gt],Wt=!0):We.samples>0&&Xe.useMultisampledRTT(We)===!1?ft=qt.get(We).__webglMultisampledFramebuffer:Array.isArray(In)?ft=In[Mt]:ft=In,Ve.copy(We.viewport),Ye.copy(We.scissor),Ke=We.scissorTest}else Ve.copy(qe).multiplyScalar(je).floor(),Ye.copy(lt).multiplyScalar(je).floor(),Ke=_t;if(Gt.bindFramebuffer(Ze.FRAMEBUFFER,ft)&&Rt&&Gt.drawBuffers(We,ft),Gt.viewport(Ve),Gt.scissor(Ye),Gt.setScissorTest(Ke),Wt){const _n=qt.get(We.texture);Ze.framebufferTexture2D(Ze.FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Ze.TEXTURE_CUBE_MAP_POSITIVE_X+gt,_n.__webglTexture,Mt)}else if(ln){const _n=qt.get(We.texture),Nn=gt||0;Ze.framebufferTextureLayer(Ze.FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,_n.__webglTexture,Mt||0,Nn)}Ue=-1},this.readRenderTargetPixels=function(We,gt,Mt,Rt,ft,Wt,ln){if(!(We&&We.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let mn=qt.get(We).__webglFramebuffer;if(We.isWebGLCubeRenderTarget&&ln!==void 0&&(mn=mn[ln]),mn){Gt.bindFramebuffer(Ze.FRAMEBUFFER,mn);try{const _n=We.texture,Nn=_n.format,In=_n.type;if(!rn.textureFormatReadable(Nn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!rn.textureTypeReadable(In)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}gt>=0&&gt<=We.width-Rt&&Mt>=0&&Mt<=We.height-ft&&Ze.readPixels(gt,Mt,Rt,ft,$t.convert(Nn),$t.convert(In),Wt)}finally{const _n=ze!==null?qt.get(ze).__webglFramebuffer:null;Gt.bindFramebuffer(Ze.FRAMEBUFFER,_n)}}},this.readRenderTargetPixelsAsync=async function(We,gt,Mt,Rt,ft,Wt,ln){if(!(We&&We.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let mn=qt.get(We).__webglFramebuffer;if(We.isWebGLCubeRenderTarget&&ln!==void 0&&(mn=mn[ln]),mn){const _n=We.texture,Nn=_n.format,In=_n.type;if(!rn.textureFormatReadable(Nn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!rn.textureTypeReadable(In))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(gt>=0&&gt<=We.width-Rt&&Mt>=0&&Mt<=We.height-ft){Gt.bindFramebuffer(Ze.FRAMEBUFFER,mn);const Sn=Ze.createBuffer();Ze.bindBuffer(Ze.PIXEL_PACK_BUFFER,Sn),Ze.bufferData(Ze.PIXEL_PACK_BUFFER,Wt.byteLength,Ze.STREAM_READ),Ze.readPixels(gt,Mt,Rt,ft,$t.convert(Nn),$t.convert(In),0);const gn=ze!==null?qt.get(ze).__webglFramebuffer:null;Gt.bindFramebuffer(Ze.FRAMEBUFFER,gn);const Cn=Ze.fenceSync(Ze.SYNC_GPU_COMMANDS_COMPLETE,0);return Ze.flush(),await probeAsync(Ze,Cn,4),Ze.bindBuffer(Ze.PIXEL_PACK_BUFFER,Sn),Ze.getBufferSubData(Ze.PIXEL_PACK_BUFFER,0,Wt),Ze.deleteBuffer(Sn),Ze.deleteSync(Cn),Wt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(We,gt=null,Mt=0){We.isTexture!==!0&&(warnOnce("WebGLRenderer: copyFramebufferToTexture function signature has changed."),gt=arguments[0]||null,We=arguments[1]);const Rt=Math.pow(2,-Mt),ft=Math.floor(We.image.width*Rt),Wt=Math.floor(We.image.height*Rt),ln=gt!==null?gt.x:0,mn=gt!==null?gt.y:0;Xe.setTexture2D(We,0),Ze.copyTexSubImage2D(Ze.TEXTURE_2D,Mt,0,0,ln,mn,ft,Wt),Gt.unbindTexture()};const Ja=Ze.createFramebuffer(),el=Ze.createFramebuffer();this.copyTextureToTexture=function(We,gt,Mt=null,Rt=null,ft=0,Wt=null){We.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed."),Rt=arguments[0]||null,We=arguments[1],gt=arguments[2],Wt=arguments[3]||0,Mt=null),Wt===null&&(ft!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Wt=ft,ft=0):Wt=0);let ln,mn,_n,Nn,In,Sn,gn,Cn,jn;const qn=We.isCompressedTexture?We.mipmaps[Wt]:We.image;if(Mt!==null)ln=Mt.max.x-Mt.min.x,mn=Mt.max.y-Mt.min.y,_n=Mt.isBox3?Mt.max.z-Mt.min.z:1,Nn=Mt.min.x,In=Mt.min.y,Sn=Mt.isBox3?Mt.min.z:0;else{const jr=Math.pow(2,-ft);ln=Math.floor(qn.width*jr),mn=Math.floor(qn.height*jr),We.isDataArrayTexture?_n=qn.depth:We.isData3DTexture?_n=Math.floor(qn.depth*jr):_n=1,Nn=0,In=0,Sn=0}Rt!==null?(gn=Rt.x,Cn=Rt.y,jn=Rt.z):(gn=0,Cn=0,jn=0);const Fn=$t.convert(gt.format),Mn=$t.convert(gt.type);let ir;gt.isData3DTexture?(Xe.setTexture3D(gt,0),ir=Ze.TEXTURE_3D):gt.isDataArrayTexture||gt.isCompressedArrayTexture?(Xe.setTexture2DArray(gt,0),ir=Ze.TEXTURE_2D_ARRAY):(Xe.setTexture2D(gt,0),ir=Ze.TEXTURE_2D),Ze.pixelStorei(Ze.UNPACK_FLIP_Y_WEBGL,gt.flipY),Ze.pixelStorei(Ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,gt.premultiplyAlpha),Ze.pixelStorei(Ze.UNPACK_ALIGNMENT,gt.unpackAlignment);const On=Ze.getParameter(Ze.UNPACK_ROW_LENGTH),Mr=Ze.getParameter(Ze.UNPACK_IMAGE_HEIGHT),Mi=Ze.getParameter(Ze.UNPACK_SKIP_PIXELS),Wr=Ze.getParameter(Ze.UNPACK_SKIP_ROWS),Zi=Ze.getParameter(Ze.UNPACK_SKIP_IMAGES);Ze.pixelStorei(Ze.UNPACK_ROW_LENGTH,qn.width),Ze.pixelStorei(Ze.UNPACK_IMAGE_HEIGHT,qn.height),Ze.pixelStorei(Ze.UNPACK_SKIP_PIXELS,Nn),Ze.pixelStorei(Ze.UNPACK_SKIP_ROWS,In),Ze.pixelStorei(Ze.UNPACK_SKIP_IMAGES,Sn);const tr=We.isDataArrayTexture||We.isData3DTexture,ur=gt.isDataArrayTexture||gt.isData3DTexture;if(We.isDepthTexture){const jr=qt.get(We),Sr=qt.get(gt),qr=qt.get(jr.__renderTarget),Qi=qt.get(Sr.__renderTarget);Gt.bindFramebuffer(Ze.READ_FRAMEBUFFER,qr.__webglFramebuffer),Gt.bindFramebuffer(Ze.DRAW_FRAMEBUFFER,Qi.__webglFramebuffer);for(let Hn=0;Hn<_n;Hn++)tr&&(Ze.framebufferTextureLayer(Ze.READ_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,qt.get(We).__webglTexture,ft,Sn+Hn),Ze.framebufferTextureLayer(Ze.DRAW_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,qt.get(gt).__webglTexture,Wt,jn+Hn)),Ze.blitFramebuffer(Nn,In,ln,mn,gn,Cn,ln,mn,Ze.DEPTH_BUFFER_BIT,Ze.NEAREST);Gt.bindFramebuffer(Ze.READ_FRAMEBUFFER,null),Gt.bindFramebuffer(Ze.DRAW_FRAMEBUFFER,null)}else if(ft!==0||We.isRenderTargetTexture||qt.has(We)){const jr=qt.get(We),Sr=qt.get(gt);Gt.bindFramebuffer(Ze.READ_FRAMEBUFFER,Ja),Gt.bindFramebuffer(Ze.DRAW_FRAMEBUFFER,el);for(let qr=0;qr<_n;qr++)tr?Ze.framebufferTextureLayer(Ze.READ_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,jr.__webglTexture,ft,Sn+qr):Ze.framebufferTexture2D(Ze.READ_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Ze.TEXTURE_2D,jr.__webglTexture,ft),ur?Ze.framebufferTextureLayer(Ze.DRAW_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Sr.__webglTexture,Wt,jn+qr):Ze.framebufferTexture2D(Ze.DRAW_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Ze.TEXTURE_2D,Sr.__webglTexture,Wt),ft!==0?Ze.blitFramebuffer(Nn,In,ln,mn,gn,Cn,ln,mn,Ze.COLOR_BUFFER_BIT,Ze.NEAREST):ur?Ze.copyTexSubImage3D(ir,Wt,gn,Cn,jn+qr,Nn,In,ln,mn):Ze.copyTexSubImage2D(ir,Wt,gn,Cn,Nn,In,ln,mn);Gt.bindFramebuffer(Ze.READ_FRAMEBUFFER,null),Gt.bindFramebuffer(Ze.DRAW_FRAMEBUFFER,null)}else ur?We.isDataTexture||We.isData3DTexture?Ze.texSubImage3D(ir,Wt,gn,Cn,jn,ln,mn,_n,Fn,Mn,qn.data):gt.isCompressedArrayTexture?Ze.compressedTexSubImage3D(ir,Wt,gn,Cn,jn,ln,mn,_n,Fn,qn.data):Ze.texSubImage3D(ir,Wt,gn,Cn,jn,ln,mn,_n,Fn,Mn,qn):We.isDataTexture?Ze.texSubImage2D(Ze.TEXTURE_2D,Wt,gn,Cn,ln,mn,Fn,Mn,qn.data):We.isCompressedTexture?Ze.compressedTexSubImage2D(Ze.TEXTURE_2D,Wt,gn,Cn,qn.width,qn.height,Fn,qn.data):Ze.texSubImage2D(Ze.TEXTURE_2D,Wt,gn,Cn,ln,mn,Fn,Mn,qn);Ze.pixelStorei(Ze.UNPACK_ROW_LENGTH,On),Ze.pixelStorei(Ze.UNPACK_IMAGE_HEIGHT,Mr),Ze.pixelStorei(Ze.UNPACK_SKIP_PIXELS,Mi),Ze.pixelStorei(Ze.UNPACK_SKIP_ROWS,Wr),Ze.pixelStorei(Ze.UNPACK_SKIP_IMAGES,Zi),Wt===0&&gt.generateMipmaps&&Ze.generateMipmap(ir),Gt.unbindTexture()},this.copyTextureToTexture3D=function(We,gt,Mt=null,Rt=null,ft=0){return We.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Mt=arguments[0]||null,Rt=arguments[1]||null,We=arguments[2],gt=arguments[3],ft=arguments[4]||0),warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(We,gt,Mt,Rt,ft)},this.initRenderTarget=function(We){qt.get(We).__webglFramebuffer===void 0&&Xe.setupRenderTarget(We)},this.initTexture=function(We){We.isCubeTexture?Xe.setTextureCube(We,0):We.isData3DTexture?Xe.setTexture3D(We,0):We.isDataArrayTexture||We.isCompressedArrayTexture?Xe.setTexture2DArray(We,0):Xe.setTexture2D(We,0),Gt.unbindTexture()},this.resetState=function(){$e=0,ke=0,ze=null,Gt.reset(),tn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(_){this._outputColorSpace=_;const K=this.getContext();K.drawingBufferColorspace=ColorManagement._getDrawingBufferColorSpace(_),K.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$1,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture:Data3DTexture$1,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera:PerspectiveCamera$1,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconcilerConstants_production_min;function requireReactReconcilerConstants_production_min(){return hasRequiredReactReconcilerConstants_production_min||(hasRequiredReactReconcilerConstants_production_min=1,reactReconcilerConstants_production_min.ConcurrentRoot=1,reactReconcilerConstants_production_min.ContinuousEventPriority=4,reactReconcilerConstants_production_min.DefaultEventPriority=16,reactReconcilerConstants_production_min.DiscreteEventPriority=1,reactReconcilerConstants_production_min.IdleEventPriority=536870912,reactReconcilerConstants_production_min.LegacyRoot=0),reactReconcilerConstants_production_min}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants.exports=requireReactReconcilerConstants_production_min()),constants.exports}var constantsExports=requireConstants();function createStore$2(Z){let _;const K=new Set,te=(ce,fe)=>{const pe=typeof ce=="function"?ce(_):ce;if(pe!==_){const me=_;_=fe?pe:Object.assign({},_,pe),K.forEach(ve=>ve(_,me))}},ne=()=>_,ie=(ce,fe=ne,pe=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let me=fe(_);function ve(){const ye=fe(_);if(!pe(me,ye)){const Ee=me;ce(me=ye,Ee)}}return K.add(ve),()=>K.delete(ve)},le={setState:te,getState:ne,subscribe:(ce,fe,pe)=>fe||pe?ie(ce,fe,pe):(K.add(ce),()=>K.delete(ce)),destroy:()=>K.clear()};return _=Z(te,ne,le),le}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$3=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(Z){const _=typeof Z=="function"?createStore$2(Z):Z,K=(te=_.getState,ne=Object.is)=>{const[,ie]=reactExports.useReducer(Se=>Se+1,0),oe=_.getState(),se=reactExports.useRef(oe),le=reactExports.useRef(te),ce=reactExports.useRef(ne),fe=reactExports.useRef(!1),pe=reactExports.useRef();pe.current===void 0&&(pe.current=te(oe));let me,ve=!1;(se.current!==oe||le.current!==te||ce.current!==ne||fe.current)&&(me=te(oe),ve=!ne(pe.current,me)),useIsomorphicLayoutEffect$3(()=>{ve&&(pe.current=me),se.current=oe,le.current=te,ce.current=ne,fe.current=!1});const ye=reactExports.useRef(oe);useIsomorphicLayoutEffect$3(()=>{const Se=()=>{try{const Te=_.getState(),Re=le.current(Te);ce.current(pe.current,Re)||(se.current=Te,pe.current=Re,ie())}catch{fe.current=!0,ie()}},_e=_.subscribe(Se);return _.getState()!==ye.current&&Se(),_e},[]);const Ee=ve?me:pe.current;return reactExports.useDebugValue(Ee),Ee};return Object.assign(K,_),K[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const te=[K,_];return{next(){const ne=te.length<=0;return{value:te.shift(),done:ne}}}},K}const isPromise=Z=>typeof Z=="object"&&typeof Z.then=="function",globalCache=[];function shallowEqualArrays(Z,_,K=(te,ne)=>te===ne){if(Z===_)return!0;if(!Z||!_)return!1;const te=Z.length;if(_.length!==te)return!1;for(let ne=0;ne<te;ne++)if(!K(Z[ne],_[ne]))return!1;return!0}function query(Z,_=null,K=!1,te={}){_===null&&(_=[Z]);for(const ie of globalCache)if(shallowEqualArrays(_,ie.keys,ie.equal)){if(K)return;if(Object.prototype.hasOwnProperty.call(ie,"error"))throw ie.error;if(Object.prototype.hasOwnProperty.call(ie,"response"))return te.lifespan&&te.lifespan>0&&(ie.timeout&&clearTimeout(ie.timeout),ie.timeout=setTimeout(ie.remove,te.lifespan)),ie.response;if(!K)throw ie.promise}const ne={keys:_,equal:te.equal,remove:()=>{const ie=globalCache.indexOf(ne);ie!==-1&&globalCache.splice(ie,1)},promise:(isPromise(Z)?Z:Z(..._)).then(ie=>{ne.response=ie,te.lifespan&&te.lifespan>0&&(ne.timeout=setTimeout(ne.remove,te.lifespan))}).catch(ie=>ne.error=ie)};if(globalCache.push(ne),!K)throw ne.promise}const suspend=(Z,_,K)=>query(Z,_,!1,K),preload=(Z,_,K)=>void query(Z,_,!0,K),clear=Z=>{if(Z===void 0||Z.length===0)globalCache.splice(0,globalCache.length);else{const _=globalCache.find(K=>shallowEqualArrays(Z,K.keys,K.equal));_&&_.remove()}};var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(Z){function _(je,it){var et=je.length;je.push(it);e:for(;0<et;){var qe=et-1>>>1,lt=je[qe];if(0<ne(lt,it))je[qe]=it,je[et]=lt,et=qe;else break e}}function K(je){return je.length===0?null:je[0]}function te(je){if(je.length===0)return null;var it=je[0],et=je.pop();if(et!==it){je[0]=et;e:for(var qe=0,lt=je.length,_t=lt>>>1;qe<_t;){var ut=2*(qe+1)-1,St=je[ut],Et=ut+1,At=je[Et];if(0>ne(St,et))Et<lt&&0>ne(At,St)?(je[qe]=At,je[Et]=et,qe=Et):(je[qe]=St,je[ut]=et,qe=ut);else if(Et<lt&&0>ne(At,et))je[qe]=At,je[Et]=et,qe=Et;else break e}}return it}function ne(je,it){var et=je.sortIndex-it.sortIndex;return et!==0?et:je.id-it.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ie=performance;Z.unstable_now=function(){return ie.now()}}else{var oe=Date,se=oe.now();Z.unstable_now=function(){return oe.now()-se}}var le=[],ce=[],fe=1,pe=null,me=3,ve=!1,ye=!1,Ee=!1,Se=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Re(je){for(var it=K(ce);it!==null;){if(it.callback===null)te(ce);else if(it.startTime<=je)te(ce),it.sortIndex=it.expirationTime,_(le,it);else break;it=K(ce)}}function Pe(je){if(Ee=!1,Re(je),!ye)if(K(le)!==null)ye=!0,at(Fe);else{var it=K(ce);it!==null&&mt(Pe,it.startTime-je)}}function Fe(je,it){ye=!1,Ee&&(Ee=!1,_e(ze),ze=-1),ve=!0;var et=me;try{for(Re(it),pe=K(le);pe!==null&&(!(pe.expirationTime>it)||je&&!Ve());){var qe=pe.callback;if(typeof qe=="function"){pe.callback=null,me=pe.priorityLevel;var lt=qe(pe.expirationTime<=it);it=Z.unstable_now(),typeof lt=="function"?pe.callback=lt:pe===K(le)&&te(le),Re(it)}else te(le);pe=K(le)}if(pe!==null)var _t=!0;else{var ut=K(ce);ut!==null&&mt(Pe,ut.startTime-it),_t=!1}return _t}finally{pe=null,me=et,ve=!1}}var $e=!1,ke=null,ze=-1,Ue=5,Oe=-1;function Ve(){return!(Z.unstable_now()-Oe<Ue)}function Ye(){if(ke!==null){var je=Z.unstable_now();Oe=je;var it=!0;try{it=ke(!0,je)}finally{it?Ke():($e=!1,ke=null)}}else $e=!1}var Ke;if(typeof Te=="function")Ke=function(){Te(Ye)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,ct=rt.port2;rt.port1.onmessage=Ye,Ke=function(){ct.postMessage(null)}}else Ke=function(){Se(Ye,0)};function at(je){ke=je,$e||($e=!0,Ke())}function mt(je,it){ze=Se(function(){je(Z.unstable_now())},it)}Z.unstable_IdlePriority=5,Z.unstable_ImmediatePriority=1,Z.unstable_LowPriority=4,Z.unstable_NormalPriority=3,Z.unstable_Profiling=null,Z.unstable_UserBlockingPriority=2,Z.unstable_cancelCallback=function(je){je.callback=null},Z.unstable_continueExecution=function(){ye||ve||(ye=!0,at(Fe))},Z.unstable_forceFrameRate=function(je){0>je||125<je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<je?Math.floor(1e3/je):5},Z.unstable_getCurrentPriorityLevel=function(){return me},Z.unstable_getFirstCallbackNode=function(){return K(le)},Z.unstable_next=function(je){switch(me){case 1:case 2:case 3:var it=3;break;default:it=me}var et=me;me=it;try{return je()}finally{me=et}},Z.unstable_pauseExecution=function(){},Z.unstable_requestPaint=function(){},Z.unstable_runWithPriority=function(je,it){switch(je){case 1:case 2:case 3:case 4:case 5:break;default:je=3}var et=me;me=je;try{return it()}finally{me=et}},Z.unstable_scheduleCallback=function(je,it,et){var qe=Z.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?qe+et:qe):et=qe,je){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=et+lt,je={id:fe++,callback:it,priorityLevel:je,startTime:et,expirationTime:lt,sortIndex:-1},et>qe?(je.sortIndex=et,_(ce,je),K(le)===null&&je===K(ce)&&(Ee?(_e(ze),ze=-1):Ee=!0,mt(Pe,et-qe))):(je.sortIndex=lt,_(le,je),ye||ve||(ye=!0,at(Fe))),je},Z.unstable_shouldYield=Ve,Z.unstable_wrapCallback=function(je){var it=me;return function(){var et=me;me=it;try{return je.apply(this,arguments)}finally{me=et}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min,hasRequiredReactReconciler_production_min;function requireReactReconciler_production_min(){return hasRequiredReactReconciler_production_min||(hasRequiredReactReconciler_production_min=1,reactReconciler_production_min=function(_){var K={},te=requireReact(),ne=requireScheduler(),ie=Object.assign;function oe(de){for(var he="https://reactjs.org/docs/error-decoder.html?invariant="+de,be=1;be<arguments.length;be++)he+="&args[]="+encodeURIComponent(arguments[be]);return"Minified React error #"+de+"; visit "+he+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var se=te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ce=Symbol.for("react.portal"),fe=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),ye=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),Fe=Symbol.iterator;function $e(de){return de===null||typeof de!="object"?null:(de=Fe&&de[Fe]||de["@@iterator"],typeof de=="function"?de:null)}function ke(de){if(de==null)return null;if(typeof de=="function")return de.displayName||de.name||null;if(typeof de=="string")return de;switch(de){case fe:return"Fragment";case ce:return"Portal";case me:return"Profiler";case pe:return"StrictMode";case Se:return"Suspense";case _e:return"SuspenseList"}if(typeof de=="object")switch(de.$$typeof){case ye:return(de.displayName||"Context")+".Consumer";case ve:return(de._context.displayName||"Context")+".Provider";case Ee:var he=de.render;return de=de.displayName,de||(de=he.displayName||he.name||"",de=de!==""?"ForwardRef("+de+")":"ForwardRef"),de;case Te:return he=de.displayName||null,he!==null?he:ke(de.type)||"Memo";case Re:he=de._payload,de=de._init;try{return ke(de(he))}catch{}}return null}function ze(de){var he=de.type;switch(de.tag){case 24:return"Cache";case 9:return(he.displayName||"Context")+".Consumer";case 10:return(he._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return de=he.render,de=de.displayName||de.name||"",he.displayName||(de!==""?"ForwardRef("+de+")":"ForwardRef");case 7:return"Fragment";case 5:return he;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(he);case 8:return he===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof he=="function")return he.displayName||he.name||null;if(typeof he=="string")return he}return null}function Ue(de){var he=de,be=de;if(de.alternate)for(;he.return;)he=he.return;else{de=he;do he=de,he.flags&4098&&(be=he.return),de=he.return;while(de)}return he.tag===3?be:null}function Oe(de){if(Ue(de)!==de)throw Error(oe(188))}function Ve(de){var he=de.alternate;if(!he){if(he=Ue(de),he===null)throw Error(oe(188));return he!==de?null:de}for(var be=de,Ae=he;;){var Le=be.return;if(Le===null)break;var Be=Le.alternate;if(Be===null){if(Ae=Le.return,Ae!==null){be=Ae;continue}break}if(Le.child===Be.child){for(Be=Le.child;Be;){if(Be===be)return Oe(Le),de;if(Be===Ae)return Oe(Le),he;Be=Be.sibling}throw Error(oe(188))}if(be.return!==Ae.return)be=Le,Ae=Be;else{for(var Qe=!1,ht=Le.child;ht;){if(ht===be){Qe=!0,be=Le,Ae=Be;break}if(ht===Ae){Qe=!0,Ae=Le,be=Be;break}ht=ht.sibling}if(!Qe){for(ht=Be.child;ht;){if(ht===be){Qe=!0,be=Be,Ae=Le;break}if(ht===Ae){Qe=!0,Ae=Be,be=Le;break}ht=ht.sibling}if(!Qe)throw Error(oe(189))}}if(be.alternate!==Ae)throw Error(oe(190))}if(be.tag!==3)throw Error(oe(188));return be.stateNode.current===be?de:he}function Ye(de){return de=Ve(de),de!==null?Ke(de):null}function Ke(de){if(de.tag===5||de.tag===6)return de;for(de=de.child;de!==null;){var he=Ke(de);if(he!==null)return he;de=de.sibling}return null}function rt(de){if(de.tag===5||de.tag===6)return de;for(de=de.child;de!==null;){if(de.tag!==4){var he=rt(de);if(he!==null)return he}de=de.sibling}return null}var ct=Array.isArray,at=_.getPublicInstance,mt=_.getRootHostContext,je=_.getChildHostContext,it=_.prepareForCommit,et=_.resetAfterCommit,qe=_.createInstance,lt=_.appendInitialChild,_t=_.finalizeInitialChildren,ut=_.prepareUpdate,St=_.shouldSetTextContent,Et=_.createTextInstance,At=_.scheduleTimeout,kt=_.cancelTimeout,jt=_.noTimeout,en=_.isPrimaryRenderer,un=_.supportsMutation,It=_.supportsPersistence,Ot=_.supportsHydration,Ze=_.getInstanceFromNode,sn=_.preparePortalMount,Bt=_.getCurrentEventPriority,rn=_.detachDeletedInstance,Gt=_.supportsMicrotasks,pn=_.scheduleMicrotask,qt=_.supportsTestSelectors,Xe=_.findFiberRoot,He=_.getBoundingRect,tt=_.getTextContent,pt=_.isHiddenSubtree,Lt=_.matchAccessibilityRole,Ct=_.setFocusIfFocusable,nn=_.setupIntersectionObserver,Xt=_.appendChild,Qt=_.appendChildToContainer,Rn=_.commitTextUpdate,Ut=_.commitMount,Ft=_.commitUpdate,Zt=_.insertBefore,yn=_.insertInContainerBefore,an=_.removeChild,ot=_.removeChildFromContainer,$t=_.resetTextContent,tn=_.hideInstance,nt=_.hideTextInstance,zt=_.unhideInstance,wt=_.unhideTextInstance,Nt=_.clearContainer,dn=_.cloneInstance,cn=_.createContainerChildSet,Pn=_.appendChildToContainerChildSet,Yn=_.finalizeContainerChildren,sr=_.replaceContainerChildren,Gn=_.cloneHiddenInstance,xr=_.cloneHiddenTextInstance,wr=_.canHydrateInstance,Cs=_.canHydrateTextInstance,$o=_.canHydrateSuspenseInstance,Yi=_.isSuspenseInstancePending,Fi=_.isSuspenseInstanceFallback,Xo=_.registerSuspenseInstanceRetry,ki=_.getNextHydratableSibling,Do=_.getFirstHydratableChild,Xa=_.getFirstHydratableChildWithinContainer,Ps=_.getFirstHydratableChildWithinSuspenseInstance,Ya=_.hydrateInstance,Ki=_.hydrateTextInstance,Ka=_.hydrateSuspenseInstance,Za=_.getNextHydratableInstanceAfterSuspenseInstance,Qa=_.commitHydratedContainer,Ja=_.commitHydratedSuspenseInstance,el=_.clearSuspenseBoundary,We=_.clearSuspenseBoundaryFromContainer,gt=_.shouldDeleteUnhydratedTailInstances,Mt=_.didNotMatchHydratedContainerTextInstance,Rt=_.didNotMatchHydratedTextInstance,ft;function Wt(de){if(ft===void 0)try{throw Error()}catch(be){var he=be.stack.trim().match(/\n( *(at )?)/);ft=he&&he[1]||""}return`
`+ft+de}var ln=!1;function mn(de,he){if(!de||ln)return"";ln=!0;var be=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(he)if(he=function(){throw Error()},Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(Kt){var Ae=Kt}Reflect.construct(de,[],he)}else{try{he.call()}catch(Kt){Ae=Kt}de.call(he.prototype)}else{try{throw Error()}catch(Kt){Ae=Kt}de()}}catch(Kt){if(Kt&&Ae&&typeof Kt.stack=="string"){for(var Le=Kt.stack.split(`
`),Be=Ae.stack.split(`
`),Qe=Le.length-1,ht=Be.length-1;1<=Qe&&0<=ht&&Le[Qe]!==Be[ht];)ht--;for(;1<=Qe&&0<=ht;Qe--,ht--)if(Le[Qe]!==Be[ht]){if(Qe!==1||ht!==1)do if(Qe--,ht--,0>ht||Le[Qe]!==Be[ht]){var Dt=`
`+Le[Qe].replace(" at new "," at ");return de.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",de.displayName)),Dt}while(1<=Qe&&0<=ht);break}}}finally{ln=!1,Error.prepareStackTrace=be}return(de=de?de.displayName||de.name:"")?Wt(de):""}var _n=Object.prototype.hasOwnProperty,Nn=[],In=-1;function Sn(de){return{current:de}}function gn(de){0>In||(de.current=Nn[In],Nn[In]=null,In--)}function Cn(de,he){In++,Nn[In]=de.current,de.current=he}var jn={},qn=Sn(jn),Fn=Sn(!1),Mn=jn;function ir(de,he){var be=de.type.contextTypes;if(!be)return jn;var Ae=de.stateNode;if(Ae&&Ae.__reactInternalMemoizedUnmaskedChildContext===he)return Ae.__reactInternalMemoizedMaskedChildContext;var Le={},Be;for(Be in be)Le[Be]=he[Be];return Ae&&(de=de.stateNode,de.__reactInternalMemoizedUnmaskedChildContext=he,de.__reactInternalMemoizedMaskedChildContext=Le),Le}function On(de){return de=de.childContextTypes,de!=null}function Mr(){gn(Fn),gn(qn)}function Mi(de,he,be){if(qn.current!==jn)throw Error(oe(168));Cn(qn,he),Cn(Fn,be)}function Wr(de,he,be){var Ae=de.stateNode;if(he=he.childContextTypes,typeof Ae.getChildContext!="function")return be;Ae=Ae.getChildContext();for(var Le in Ae)if(!(Le in he))throw Error(oe(108,ze(de)||"Unknown",Le));return ie({},be,Ae)}function Zi(de){return de=(de=de.stateNode)&&de.__reactInternalMemoizedMergedChildContext||jn,Mn=qn.current,Cn(qn,de),Cn(Fn,Fn.current),!0}function tr(de,he,be){var Ae=de.stateNode;if(!Ae)throw Error(oe(169));be?(de=Wr(de,he,Mn),Ae.__reactInternalMemoizedMergedChildContext=de,gn(Fn),gn(qn),Cn(qn,de)):gn(Fn),Cn(Fn,be)}var ur=Math.clz32?Math.clz32:qr,jr=Math.log,Sr=Math.LN2;function qr(de){return de>>>=0,de===0?32:31-(jr(de)/Sr|0)|0}var Qi=64,Hn=4194304;function Is(de){switch(de&-de){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return de&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return de&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return de}}function la(de,he){var be=de.pendingLanes;if(be===0)return 0;var Ae=0,Le=de.suspendedLanes,Be=de.pingedLanes,Qe=be&268435455;if(Qe!==0){var ht=Qe&~Le;ht!==0?Ae=Is(ht):(Be&=Qe,Be!==0&&(Ae=Is(Be)))}else Qe=be&~Le,Qe!==0?Ae=Is(Qe):Be!==0&&(Ae=Is(Be));if(Ae===0)return 0;if(he!==0&&he!==Ae&&!(he&Le)&&(Le=Ae&-Ae,Be=he&-he,Le>=Be||Le===16&&(Be&4194240)!==0))return he;if(Ae&4&&(Ae|=be&16),he=de.entangledLanes,he!==0)for(de=de.entanglements,he&=Ae;0<he;)be=31-ur(he),Le=1<<be,Ae|=de[be],he&=~Le;return Ae}function Ql(de,he){switch(de){case 1:case 2:case 4:return he+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return he+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jc(de,he){for(var be=de.suspendedLanes,Ae=de.pingedLanes,Le=de.expirationTimes,Be=de.pendingLanes;0<Be;){var Qe=31-ur(Be),ht=1<<Qe,Dt=Le[Qe];Dt===-1?(!(ht&be)||ht&Ae)&&(Le[Qe]=Ql(ht,he)):Dt<=he&&(de.expiredLanes|=ht),Be&=~ht}}function tl(de){return de=de.pendingLanes&-1073741825,de!==0?de:de&1073741824?1073741824:0}function nl(de){for(var he=[],be=0;31>be;be++)he.push(de);return he}function Yo(de,he,be){de.pendingLanes|=he,he!==536870912&&(de.suspendedLanes=0,de.pingedLanes=0),de=de.eventTimes,he=31-ur(he),de[he]=be}function rl(de,he){var be=de.pendingLanes&~he;de.pendingLanes=he,de.suspendedLanes=0,de.pingedLanes=0,de.expiredLanes&=he,de.mutableReadLanes&=he,de.entangledLanes&=he,he=de.entanglements;var Ae=de.eventTimes;for(de=de.expirationTimes;0<be;){var Le=31-ur(be),Be=1<<Le;he[Le]=0,Ae[Le]=-1,de[Le]=-1,be&=~Be}}function Ji(de,he){var be=de.entangledLanes|=he;for(de=de.entanglements;be;){var Ae=31-ur(be),Le=1<<Ae;Le&he|de[Ae]&he&&(de[Ae]|=he),be&=~Le}}var Xn=0;function co(de){return de&=-de,1<de?4<de?de&268435455?16:536870912:4:1}var Ko=ne.unstable_scheduleCallback,Ls=ne.unstable_cancelCallback,No=ne.unstable_shouldYield,ku=ne.unstable_requestPaint,Cr=ne.unstable_now,Zo=ne.unstable_ImmediatePriority,Uu=ne.unstable_UserBlockingPriority,il=ne.unstable_NormalPriority,ol=ne.unstable_IdlePriority,ca=null,eo=null;function ua(de){if(eo&&typeof eo.onCommitFiberRoot=="function")try{eo.onCommitFiberRoot(ca,de,void 0,(de.current.flags&128)===128)}catch{}}function fa(de,he){return de===he&&(de!==0||1/de===1/he)||de!==de&&he!==he}var Jr=typeof Object.is=="function"?Object.is:fa,Ti=null,sl=!1,Jl=!1;function al(de){Ti===null?Ti=[de]:Ti.push(de)}function ll(de){sl=!0,al(de)}function Ri(){if(!Jl&&Ti!==null){Jl=!0;var de=0,he=Xn;try{var be=Ti;for(Xn=1;de<be.length;de++){var Ae=be[de];do Ae=Ae(!0);while(Ae!==null)}Ti=null,sl=!1}catch(Le){throw Ti!==null&&(Ti=Ti.slice(de+1)),Ko(Zo,Ri),Le}finally{Xn=he,Jl=!1}}return null}var qc=se.ReactCurrentBatchConfig;function Ui(de,he){if(Jr(de,he))return!0;if(typeof de!="object"||de===null||typeof he!="object"||he===null)return!1;var be=Object.keys(de),Ae=Object.keys(he);if(be.length!==Ae.length)return!1;for(Ae=0;Ae<be.length;Ae++){var Le=be[Ae];if(!_n.call(he,Le)||!Jr(de[Le],he[Le]))return!1}return!0}function ec(de){switch(de.tag){case 5:return Wt(de.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 2:case 15:return de=mn(de.type,!1),de;case 11:return de=mn(de.type.render,!1),de;case 1:return de=mn(de.type,!0),de;default:return""}}function li(de,he){if(de&&de.defaultProps){he=ie({},he),de=de.defaultProps;for(var be in de)he[be]===void 0&&(he[be]=de[be]);return he}return he}var da=Sn(null),Qo=null,uo=null,cl=null;function ei(){cl=uo=Qo=null}function Jo(de,he,be){en?(Cn(da,he._currentValue),he._currentValue=be):(Cn(da,he._currentValue2),he._currentValue2=be)}function ha(de){var he=da.current;gn(da),en?de._currentValue=he:de._currentValue2=he}function ts(de,he,be){for(;de!==null;){var Ae=de.alternate;if((de.childLanes&he)!==he?(de.childLanes|=he,Ae!==null&&(Ae.childLanes|=he)):Ae!==null&&(Ae.childLanes&he)!==he&&(Ae.childLanes|=he),de===be)break;de=de.return}}function $s(de,he){Qo=de,cl=uo=null,de=de.dependencies,de!==null&&de.firstContext!==null&&(de.lanes&he&&(Nr=!0),de.firstContext=null)}function ci(de){var he=en?de._currentValue:de._currentValue2;if(cl!==de)if(de={context:de,memoizedValue:he,next:null},uo===null){if(Qo===null)throw Error(oe(308));uo=de,Qo.dependencies={lanes:0,firstContext:de}}else uo=uo.next=de;return he}var Ai=null,Ci=!1;function Ds(de){de.updateQueue={baseState:de.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tc(de,he){de=de.updateQueue,he.updateQueue===de&&(he.updateQueue={baseState:de.baseState,firstBaseUpdate:de.firstBaseUpdate,lastBaseUpdate:de.lastBaseUpdate,shared:de.shared,effects:de.effects})}function fo(de,he){return{eventTime:de,lane:he,tag:0,payload:null,callback:null,next:null}}function Oo(de,he){var be=de.updateQueue;be!==null&&(be=be.shared,br!==null&&de.mode&1&&!(Vn&2)?(de=be.interleaved,de===null?(he.next=he,Ai===null?Ai=[be]:Ai.push(be)):(he.next=de.next,de.next=he),be.interleaved=he):(de=be.pending,de===null?he.next=he:(he.next=de.next,de.next=he),be.pending=he))}function ul(de,he,be){if(he=he.updateQueue,he!==null&&(he=he.shared,(be&4194240)!==0)){var Ae=he.lanes;Ae&=de.pendingLanes,be|=Ae,he.lanes=be,Ji(de,be)}}function fl(de,he){var be=de.updateQueue,Ae=de.alternate;if(Ae!==null&&(Ae=Ae.updateQueue,be===Ae)){var Le=null,Be=null;if(be=be.firstBaseUpdate,be!==null){do{var Qe={eventTime:be.eventTime,lane:be.lane,tag:be.tag,payload:be.payload,callback:be.callback,next:null};Be===null?Le=Be=Qe:Be=Be.next=Qe,be=be.next}while(be!==null);Be===null?Le=Be=he:Be=Be.next=he}else Le=Be=he;be={baseState:Ae.baseState,firstBaseUpdate:Le,lastBaseUpdate:Be,shared:Ae.shared,effects:Ae.effects},de.updateQueue=be;return}de=be.lastBaseUpdate,de===null?be.firstBaseUpdate=he:de.next=he,be.lastBaseUpdate=he}function dl(de,he,be,Ae){var Le=de.updateQueue;Ci=!1;var Be=Le.firstBaseUpdate,Qe=Le.lastBaseUpdate,ht=Le.shared.pending;if(ht!==null){Le.shared.pending=null;var Dt=ht,Kt=Dt.next;Dt.next=null,Qe===null?Be=Kt:Qe.next=Kt,Qe=Dt;var xn=de.alternate;xn!==null&&(xn=xn.updateQueue,ht=xn.lastBaseUpdate,ht!==Qe&&(ht===null?xn.firstBaseUpdate=Kt:ht.next=Kt,xn.lastBaseUpdate=Dt))}if(Be!==null){var Un=Le.baseState;Qe=0,xn=Kt=Dt=null,ht=Be;do{var Ln=ht.lane,Wn=ht.eventTime;if((Ae&Ln)===Ln){xn!==null&&(xn=xn.next={eventTime:Wn,lane:0,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null});e:{var hn=de,Gr=ht;switch(Ln=he,Wn=be,Gr.tag){case 1:if(hn=Gr.payload,typeof hn=="function"){Un=hn.call(Wn,Un,Ln);break e}Un=hn;break e;case 3:hn.flags=hn.flags&-65537|128;case 0:if(hn=Gr.payload,Ln=typeof hn=="function"?hn.call(Wn,Un,Ln):hn,Ln==null)break e;Un=ie({},Un,Ln);break e;case 2:Ci=!0}}ht.callback!==null&&ht.lane!==0&&(de.flags|=64,Ln=Le.effects,Ln===null?Le.effects=[ht]:Ln.push(ht))}else Wn={eventTime:Wn,lane:Ln,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null},xn===null?(Kt=xn=Wn,Dt=Un):xn=xn.next=Wn,Qe|=Ln;if(ht=ht.next,ht===null){if(ht=Le.shared.pending,ht===null)break;Ln=ht,ht=Ln.next,Ln.next=null,Le.lastBaseUpdate=Ln,Le.shared.pending=null}}while(!0);if(xn===null&&(Dt=Un),Le.baseState=Dt,Le.firstBaseUpdate=Kt,Le.lastBaseUpdate=xn,he=Le.shared.interleaved,he!==null){Le=he;do Qe|=Le.lane,Le=Le.next;while(Le!==he)}else Be===null&&(Le.shared.lanes=0);io|=Qe,de.lanes=Qe,de.memoizedState=Un}}function Xc(de,he,be){if(de=he.effects,he.effects=null,de!==null)for(he=0;he<de.length;he++){var Ae=de[he],Le=Ae.callback;if(Le!==null){if(Ae.callback=null,Ae=be,typeof Le!="function")throw Error(oe(191,Le));Le.call(Ae)}}}var Yc=new te.Component().refs;function nc(de,he,be,Ae){he=de.memoizedState,be=be(Ae,he),be=be==null?he:ie({},he,be),de.memoizedState=be,de.lanes===0&&(de.updateQueue.baseState=be)}var hl={isMounted:function(de){return(de=de._reactInternals)?Ue(de)===de:!1},enqueueSetState:function(de,he,be){de=de._reactInternals;var Ae=Qn(),Le=ji(de),Be=fo(Ae,Le);Be.payload=he,be!=null&&(Be.callback=be),Oo(de,Be),he=Kr(de,Le,Ae),he!==null&&ul(he,de,Le)},enqueueReplaceState:function(de,he,be){de=de._reactInternals;var Ae=Qn(),Le=ji(de),Be=fo(Ae,Le);Be.tag=1,Be.payload=he,be!=null&&(Be.callback=be),Oo(de,Be),he=Kr(de,Le,Ae),he!==null&&ul(he,de,Le)},enqueueForceUpdate:function(de,he){de=de._reactInternals;var be=Qn(),Ae=ji(de),Le=fo(be,Ae);Le.tag=2,he!=null&&(Le.callback=he),Oo(de,Le),he=Kr(de,Ae,be),he!==null&&ul(he,de,Ae)}};function rc(de,he,be,Ae,Le,Be,Qe){return de=de.stateNode,typeof de.shouldComponentUpdate=="function"?de.shouldComponentUpdate(Ae,Be,Qe):he.prototype&&he.prototype.isPureReactComponent?!Ui(be,Ae)||!Ui(Le,Be):!0}function Kc(de,he,be){var Ae=!1,Le=jn,Be=he.contextType;return typeof Be=="object"&&Be!==null?Be=ci(Be):(Le=On(he)?Mn:qn.current,Ae=he.contextTypes,Be=(Ae=Ae!=null)?ir(de,Le):jn),he=new he(be,Be),de.memoizedState=he.state!==null&&he.state!==void 0?he.state:null,he.updater=hl,de.stateNode=he,he._reactInternals=de,Ae&&(de=de.stateNode,de.__reactInternalMemoizedUnmaskedChildContext=Le,de.__reactInternalMemoizedMaskedChildContext=Be),he}function Zc(de,he,be,Ae){de=he.state,typeof he.componentWillReceiveProps=="function"&&he.componentWillReceiveProps(be,Ae),typeof he.UNSAFE_componentWillReceiveProps=="function"&&he.UNSAFE_componentWillReceiveProps(be,Ae),he.state!==de&&hl.enqueueReplaceState(he,he.state,null)}function ic(de,he,be,Ae){var Le=de.stateNode;Le.props=be,Le.state=de.memoizedState,Le.refs=Yc,Ds(de);var Be=he.contextType;typeof Be=="object"&&Be!==null?Le.context=ci(Be):(Be=On(he)?Mn:qn.current,Le.context=ir(de,Be)),Le.state=de.memoizedState,Be=he.getDerivedStateFromProps,typeof Be=="function"&&(nc(de,he,Be,be),Le.state=de.memoizedState),typeof he.getDerivedStateFromProps=="function"||typeof Le.getSnapshotBeforeUpdate=="function"||typeof Le.UNSAFE_componentWillMount!="function"&&typeof Le.componentWillMount!="function"||(he=Le.state,typeof Le.componentWillMount=="function"&&Le.componentWillMount(),typeof Le.UNSAFE_componentWillMount=="function"&&Le.UNSAFE_componentWillMount(),he!==Le.state&&hl.enqueueReplaceState(Le,Le.state,null),dl(de,be,Le,Ae),Le.state=de.memoizedState),typeof Le.componentDidMount=="function"&&(de.flags|=4194308)}var Ns=[],Fo=0,pl=null,ml=0,Pi=[],mi=0,ns=null,ho=1,po="";function rs(de,he){Ns[Fo++]=ml,Ns[Fo++]=pl,pl=de,ml=he}function Qc(de,he,be){Pi[mi++]=ho,Pi[mi++]=po,Pi[mi++]=ns,ns=de;var Ae=ho;de=po;var Le=32-ur(Ae)-1;Ae&=~(1<<Le),be+=1;var Be=32-ur(he)+Le;if(30<Be){var Qe=Le-Le%5;Be=(Ae&(1<<Qe)-1).toString(32),Ae>>=Qe,Le-=Qe,ho=1<<32-ur(he)+Le|be<<Le|Ae,po=Be+de}else ho=1<<Be|be<<Le|Ae,po=de}function oc(de){de.return!==null&&(rs(de,1),Qc(de,1,0))}function sc(de){for(;de===pl;)pl=Ns[--Fo],Ns[Fo]=null,ml=Ns[--Fo],Ns[Fo]=null;for(;de===ns;)ns=Pi[--mi],Pi[mi]=null,po=Pi[--mi],Pi[mi]=null,ho=Pi[--mi],Pi[mi]=null}var ti=null,kr=null,hr=!1,Os=!1,Ii=null;function ac(de,he){var be=Ei(5,null,null,0);be.elementType="DELETED",be.stateNode=he,be.return=de,he=de.deletions,he===null?(de.deletions=[be],de.flags|=16):he.push(be)}function lc(de,he){switch(de.tag){case 5:return he=wr(he,de.type,de.pendingProps),he!==null?(de.stateNode=he,ti=de,kr=Do(he),!0):!1;case 6:return he=Cs(he,de.pendingProps),he!==null?(de.stateNode=he,ti=de,kr=null,!0):!1;case 13:if(he=$o(he),he!==null){var be=ns!==null?{id:ho,overflow:po}:null;return de.memoizedState={dehydrated:he,treeContext:be,retryLane:1073741824},be=Ei(18,null,null,0),be.stateNode=he,be.return=de,de.child=be,ti=de,kr=null,!0}return!1;default:return!1}}function gl(de){return(de.mode&1)!==0&&(de.flags&128)===0}function ko(de){if(hr){var he=kr;if(he){var be=he;if(!lc(de,he)){if(gl(de))throw Error(oe(418));he=ki(be);var Ae=ti;he&&lc(de,he)?ac(Ae,be):(de.flags=de.flags&-4097|2,hr=!1,ti=de)}}else{if(gl(de))throw Error(oe(418));de.flags=de.flags&-4097|2,hr=!1,ti=de}}}function Jc(de){for(de=de.return;de!==null&&de.tag!==5&&de.tag!==3&&de.tag!==13;)de=de.return;ti=de}function pa(de){if(!Ot||de!==ti)return!1;if(!hr)return Jc(de),hr=!0,!1;if(de.tag!==3&&(de.tag!==5||gt(de.type)&&!St(de.type,de.memoizedProps))){var he=kr;if(he){if(gl(de)){for(de=kr;de;)de=ki(de);throw Error(oe(418))}for(;he;)ac(de,he),he=ki(he)}}if(Jc(de),de.tag===13){if(!Ot)throw Error(oe(316));if(de=de.memoizedState,de=de!==null?de.dehydrated:null,!de)throw Error(oe(317));kr=Za(de)}else kr=ti?ki(de.stateNode):null;return!0}function Fs(){Ot&&(kr=ti=null,Os=hr=!1)}function vl(de){Ii===null?Ii=[de]:Ii.push(de)}function ks(de,he,be){if(de=be.ref,de!==null&&typeof de!="function"&&typeof de!="object"){if(be._owner){if(be=be._owner,be){if(be.tag!==1)throw Error(oe(309));var Ae=be.stateNode}if(!Ae)throw Error(oe(147,de));var Le=Ae,Be=""+de;return he!==null&&he.ref!==null&&typeof he.ref=="function"&&he.ref._stringRef===Be?he.ref:(he=function(Qe){var ht=Le.refs;ht===Yc&&(ht=Le.refs={}),Qe===null?delete ht[Be]:ht[Be]=Qe},he._stringRef=Be,he)}if(typeof de!="string")throw Error(oe(284));if(!be._owner)throw Error(oe(290,de))}return de}function Uo(de,he){throw de=Object.prototype.toString.call(he),Error(oe(31,de==="[object Object]"?"object with keys {"+Object.keys(he).join(", ")+"}":de))}function Us(de){var he=de._init;return he(de._payload)}function eu(de){function he(bt,vt){if(de){var Pt=bt.deletions;Pt===null?(bt.deletions=[vt],bt.flags|=16):Pt.push(vt)}}function be(bt,vt){if(!de)return null;for(;vt!==null;)he(bt,vt),vt=vt.sibling;return null}function Ae(bt,vt){for(bt=new Map;vt!==null;)vt.key!==null?bt.set(vt.key,vt):bt.set(vt.index,vt),vt=vt.sibling;return bt}function Le(bt,vt){return bt=Ao(bt,vt),bt.index=0,bt.sibling=null,bt}function Be(bt,vt,Pt){return bt.index=Pt,de?(Pt=bt.alternate,Pt!==null?(Pt=Pt.index,Pt<vt?(bt.flags|=2,vt):Pt):(bt.flags|=2,vt)):(bt.flags|=1048576,vt)}function Qe(bt){return de&&bt.alternate===null&&(bt.flags|=2),bt}function ht(bt,vt,Pt,fn){return vt===null||vt.tag!==6?(vt=Hl(Pt,bt.mode,fn),vt.return=bt,vt):(vt=Le(vt,Pt),vt.return=bt,vt)}function Dt(bt,vt,Pt,fn){var Tn=Pt.type;return Tn===fe?xn(bt,vt,Pt.props.children,fn,Pt.key):vt!==null&&(vt.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===Re&&Us(Tn)===vt.type)?(fn=Le(vt,Pt.props),fn.ref=ks(bt,vt,Pt),fn.return=bt,fn):(fn=Gl(Pt.type,Pt.key,Pt.props,null,bt.mode,fn),fn.ref=ks(bt,vt,Pt),fn.return=bt,fn)}function Kt(bt,vt,Pt,fn){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Pt.containerInfo||vt.stateNode.implementation!==Pt.implementation?(vt=Wl(Pt,bt.mode,fn),vt.return=bt,vt):(vt=Le(vt,Pt.children||[]),vt.return=bt,vt)}function xn(bt,vt,Pt,fn,Tn){return vt===null||vt.tag!==7?(vt=Ts(Pt,bt.mode,fn,Tn),vt.return=bt,vt):(vt=Le(vt,Pt),vt.return=bt,vt)}function Un(bt,vt,Pt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=Hl(""+vt,bt.mode,Pt),vt.return=bt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case le:return Pt=Gl(vt.type,vt.key,vt.props,null,bt.mode,Pt),Pt.ref=ks(bt,null,vt),Pt.return=bt,Pt;case ce:return vt=Wl(vt,bt.mode,Pt),vt.return=bt,vt;case Re:var fn=vt._init;return Un(bt,fn(vt._payload),Pt)}if(ct(vt)||$e(vt))return vt=Ts(vt,bt.mode,Pt,null),vt.return=bt,vt;Uo(bt,vt)}return null}function Ln(bt,vt,Pt,fn){var Tn=vt!==null?vt.key:null;if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Tn!==null?null:ht(bt,vt,""+Pt,fn);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case le:return Pt.key===Tn?Dt(bt,vt,Pt,fn):null;case ce:return Pt.key===Tn?Kt(bt,vt,Pt,fn):null;case Re:return Tn=Pt._init,Ln(bt,vt,Tn(Pt._payload),fn)}if(ct(Pt)||$e(Pt))return Tn!==null?null:xn(bt,vt,Pt,fn,null);Uo(bt,Pt)}return null}function Wn(bt,vt,Pt,fn,Tn){if(typeof fn=="string"&&fn!==""||typeof fn=="number")return bt=bt.get(Pt)||null,ht(vt,bt,""+fn,Tn);if(typeof fn=="object"&&fn!==null){switch(fn.$$typeof){case le:return bt=bt.get(fn.key===null?Pt:fn.key)||null,Dt(vt,bt,fn,Tn);case ce:return bt=bt.get(fn.key===null?Pt:fn.key)||null,Kt(vt,bt,fn,Tn);case Re:var zn=fn._init;return Wn(bt,vt,Pt,zn(fn._payload),Tn)}if(ct(fn)||$e(fn))return bt=bt.get(Pt)||null,xn(vt,bt,fn,Tn,null);Uo(vt,fn)}return null}function hn(bt,vt,Pt,fn){for(var Tn=null,zn=null,Bn=vt,Zn=vt=0,Rr=null;Bn!==null&&Zn<Pt.length;Zn++){Bn.index>Zn?(Rr=Bn,Bn=null):Rr=Bn.sibling;var Kn=Ln(bt,Bn,Pt[Zn],fn);if(Kn===null){Bn===null&&(Bn=Rr);break}de&&Bn&&Kn.alternate===null&&he(bt,Bn),vt=Be(Kn,vt,Zn),zn===null?Tn=Kn:zn.sibling=Kn,zn=Kn,Bn=Rr}if(Zn===Pt.length)return be(bt,Bn),hr&&rs(bt,Zn),Tn;if(Bn===null){for(;Zn<Pt.length;Zn++)Bn=Un(bt,Pt[Zn],fn),Bn!==null&&(vt=Be(Bn,vt,Zn),zn===null?Tn=Bn:zn.sibling=Bn,zn=Bn);return hr&&rs(bt,Zn),Tn}for(Bn=Ae(bt,Bn);Zn<Pt.length;Zn++)Rr=Wn(Bn,bt,Zn,Pt[Zn],fn),Rr!==null&&(de&&Rr.alternate!==null&&Bn.delete(Rr.key===null?Zn:Rr.key),vt=Be(Rr,vt,Zn),zn===null?Tn=Rr:zn.sibling=Rr,zn=Rr);return de&&Bn.forEach(function(Co){return he(bt,Co)}),hr&&rs(bt,Zn),Tn}function Gr(bt,vt,Pt,fn){var Tn=$e(Pt);if(typeof Tn!="function")throw Error(oe(150));if(Pt=Tn.call(Pt),Pt==null)throw Error(oe(151));for(var zn=Tn=null,Bn=vt,Zn=vt=0,Rr=null,Kn=Pt.next();Bn!==null&&!Kn.done;Zn++,Kn=Pt.next()){Bn.index>Zn?(Rr=Bn,Bn=null):Rr=Bn.sibling;var Co=Ln(bt,Bn,Kn.value,fn);if(Co===null){Bn===null&&(Bn=Rr);break}de&&Bn&&Co.alternate===null&&he(bt,Bn),vt=Be(Co,vt,Zn),zn===null?Tn=Co:zn.sibling=Co,zn=Co,Bn=Rr}if(Kn.done)return be(bt,Bn),hr&&rs(bt,Zn),Tn;if(Bn===null){for(;!Kn.done;Zn++,Kn=Pt.next())Kn=Un(bt,Kn.value,fn),Kn!==null&&(vt=Be(Kn,vt,Zn),zn===null?Tn=Kn:zn.sibling=Kn,zn=Kn);return hr&&rs(bt,Zn),Tn}for(Bn=Ae(bt,Bn);!Kn.done;Zn++,Kn=Pt.next())Kn=Wn(Bn,bt,Zn,Kn.value,fn),Kn!==null&&(de&&Kn.alternate!==null&&Bn.delete(Kn.key===null?Zn:Kn.key),vt=Be(Kn,vt,Zn),zn===null?Tn=Kn:zn.sibling=Kn,zn=Kn);return de&&Bn.forEach(function(Uc){return he(bt,Uc)}),hr&&rs(bt,Zn),Tn}function bi(bt,vt,Pt,fn){if(typeof Pt=="object"&&Pt!==null&&Pt.type===fe&&Pt.key===null&&(Pt=Pt.props.children),typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case le:e:{for(var Tn=Pt.key,zn=vt;zn!==null;){if(zn.key===Tn){if(Tn=Pt.type,Tn===fe){if(zn.tag===7){be(bt,zn.sibling),vt=Le(zn,Pt.props.children),vt.return=bt,bt=vt;break e}}else if(zn.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===Re&&Us(Tn)===zn.type){be(bt,zn.sibling),vt=Le(zn,Pt.props),vt.ref=ks(bt,zn,Pt),vt.return=bt,bt=vt;break e}be(bt,zn);break}else he(bt,zn);zn=zn.sibling}Pt.type===fe?(vt=Ts(Pt.props.children,bt.mode,fn,Pt.key),vt.return=bt,bt=vt):(fn=Gl(Pt.type,Pt.key,Pt.props,null,bt.mode,fn),fn.ref=ks(bt,vt,Pt),fn.return=bt,bt=fn)}return Qe(bt);case ce:e:{for(zn=Pt.key;vt!==null;){if(vt.key===zn)if(vt.tag===4&&vt.stateNode.containerInfo===Pt.containerInfo&&vt.stateNode.implementation===Pt.implementation){be(bt,vt.sibling),vt=Le(vt,Pt.children||[]),vt.return=bt,bt=vt;break e}else{be(bt,vt);break}else he(bt,vt);vt=vt.sibling}vt=Wl(Pt,bt.mode,fn),vt.return=bt,bt=vt}return Qe(bt);case Re:return zn=Pt._init,bi(bt,vt,zn(Pt._payload),fn)}if(ct(Pt))return hn(bt,vt,Pt,fn);if($e(Pt))return Gr(bt,vt,Pt,fn);Uo(bt,Pt)}return typeof Pt=="string"&&Pt!==""||typeof Pt=="number"?(Pt=""+Pt,vt!==null&&vt.tag===6?(be(bt,vt.sibling),vt=Le(vt,Pt),vt.return=bt,bt=vt):(be(bt,vt),vt=Hl(Pt,bt.mode,fn),vt.return=bt,bt=vt),Qe(bt)):be(bt,vt)}return bi}var mo=eu(!0),tu=eu(!1),Bs={},ui=Sn(Bs),os=Sn(Bs),ss=Sn(Bs);function Bi(de){if(de===Bs)throw Error(oe(174));return de}function yl(de,he){Cn(ss,he),Cn(os,de),Cn(ui,Bs),de=mt(he),gn(ui),Cn(ui,de)}function zs(){gn(ui),gn(os),gn(ss)}function nu(de){var he=Bi(ss.current),be=Bi(ui.current);he=je(be,de.type,he),be!==he&&(Cn(os,de),Cn(ui,he))}function cc(de){os.current===de&&(gn(ui),gn(os))}var mr=Sn(0);function _l(de){for(var he=de;he!==null;){if(he.tag===13){var be=he.memoizedState;if(be!==null&&(be=be.dehydrated,be===null||Yi(be)||Fi(be)))return he}else if(he.tag===19&&he.memoizedProps.revealOrder!==void 0){if(he.flags&128)return he}else if(he.child!==null){he.child.return=he,he=he.child;continue}if(he===de)break;for(;he.sibling===null;){if(he.return===null||he.return===de)return null;he=he.return}he.sibling.return=he.return,he=he.sibling}return null}var gi=[];function as(){for(var de=0;de<gi.length;de++){var he=gi[de];en?he._workInProgressVersionPrimary=null:he._workInProgressVersionSecondary=null}gi.length=0}var ma=se.ReactCurrentDispatcher,vi=se.ReactCurrentBatchConfig,ls=0,gr=null,Lr=null,$r=null,xl=!1,to=!1,cs=0,ga=0;function Dr(){throw Error(oe(321))}function Sl(de,he){if(he===null)return!1;for(var be=0;be<he.length&&be<de.length;be++)if(!Jr(de[be],he[be]))return!1;return!0}function Vs(de,he,be,Ae,Le,Be){if(ls=Be,gr=he,he.memoizedState=null,he.updateQueue=null,he.lanes=0,ma.current=de===null||de.memoizedState===null?mc:gc,de=be(Ae,Le),to){Be=0;do{if(to=!1,cs=0,25<=Be)throw Error(oe(301));Be+=1,$r=Lr=null,he.updateQueue=null,ma.current=vc,de=be(Ae,Le)}while(to)}if(ma.current=js,he=Lr!==null&&Lr.next!==null,ls=0,$r=Lr=gr=null,xl=!1,he)throw Error(oe(300));return de}function Bo(){var de=cs!==0;return cs=0,de}function zi(){var de={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?gr.memoizedState=$r=de:$r=$r.next=de,$r}function Vi(){if(Lr===null){var de=gr.alternate;de=de!==null?de.memoizedState:null}else de=Lr.next;var he=$r===null?gr.memoizedState:$r.next;if(he!==null)$r=he,Lr=de;else{if(de===null)throw Error(oe(310));Lr=de,de={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},$r===null?gr.memoizedState=$r=de:$r=$r.next=de}return $r}function no(de,he){return typeof he=="function"?he(de):he}function va(de){var he=Vi(),be=he.queue;if(be===null)throw Error(oe(311));be.lastRenderedReducer=de;var Ae=Lr,Le=Ae.baseQueue,Be=be.pending;if(Be!==null){if(Le!==null){var Qe=Le.next;Le.next=Be.next,Be.next=Qe}Ae.baseQueue=Le=Be,be.pending=null}if(Le!==null){Be=Le.next,Ae=Ae.baseState;var ht=Qe=null,Dt=null,Kt=Be;do{var xn=Kt.lane;if((ls&xn)===xn)Dt!==null&&(Dt=Dt.next={lane:0,action:Kt.action,hasEagerState:Kt.hasEagerState,eagerState:Kt.eagerState,next:null}),Ae=Kt.hasEagerState?Kt.eagerState:de(Ae,Kt.action);else{var Un={lane:xn,action:Kt.action,hasEagerState:Kt.hasEagerState,eagerState:Kt.eagerState,next:null};Dt===null?(ht=Dt=Un,Qe=Ae):Dt=Dt.next=Un,gr.lanes|=xn,io|=xn}Kt=Kt.next}while(Kt!==null&&Kt!==Be);Dt===null?Qe=Ae:Dt.next=ht,Jr(Ae,he.memoizedState)||(Nr=!0),he.memoizedState=Ae,he.baseState=Qe,he.baseQueue=Dt,be.lastRenderedState=Ae}if(de=be.interleaved,de!==null){Le=de;do Be=Le.lane,gr.lanes|=Be,io|=Be,Le=Le.next;while(Le!==de)}else Le===null&&(be.lanes=0);return[he.memoizedState,be.dispatch]}function ya(de){var he=Vi(),be=he.queue;if(be===null)throw Error(oe(311));be.lastRenderedReducer=de;var Ae=be.dispatch,Le=be.pending,Be=he.memoizedState;if(Le!==null){be.pending=null;var Qe=Le=Le.next;do Be=de(Be,Qe.action),Qe=Qe.next;while(Qe!==Le);Jr(Be,he.memoizedState)||(Nr=!0),he.memoizedState=Be,he.baseQueue===null&&(he.baseState=Be),be.lastRenderedState=Be}return[Be,Ae]}function uc(){}function fc(de,he){var be=gr,Ae=Vi(),Le=he(),Be=!Jr(Ae.memoizedState,Le);if(Be&&(Ae.memoizedState=Le,Nr=!0),Ae=Ae.queue,Gs(go.bind(null,be,Ae,de),[de]),Ae.getSnapshot!==he||Be||$r!==null&&$r.memoizedState.tag&1){if(be.flags|=2048,Sa(9,hc.bind(null,be,Ae,Le,he),void 0,null),br===null)throw Error(oe(349));ls&30||dc(be,he,Le)}return Le}function dc(de,he,be){de.flags|=16384,de={getSnapshot:he,value:be},he=gr.updateQueue,he===null?(he={lastEffect:null,stores:null},gr.updateQueue=he,he.stores=[de]):(be=he.stores,be===null?he.stores=[de]:be.push(de))}function hc(de,he,be,Ae){he.value=be,he.getSnapshot=Ae,El(he)&&Kr(de,1,-1)}function go(de,he,be){return be(function(){El(he)&&Kr(de,1,-1)})}function El(de){var he=de.getSnapshot;de=de.value;try{var be=he();return!Jr(de,be)}catch{return!0}}function xa(de){var he=zi();return typeof de=="function"&&(de=de()),he.memoizedState=he.baseState=de,de={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:de},he.queue=de,de=de.dispatch=Bu.bind(null,gr,de),[he.memoizedState,de]}function Sa(de,he,be,Ae){return de={tag:de,create:he,destroy:be,deps:Ae,next:null},he=gr.updateQueue,he===null?(he={lastEffect:null,stores:null},gr.updateQueue=he,he.lastEffect=de.next=de):(be=he.lastEffect,be===null?he.lastEffect=de.next=de:(Ae=be.next,be.next=de,de.next=Ae,he.lastEffect=de)),de}function ru(){return Vi().memoizedState}function zo(de,he,be,Ae){var Le=zi();gr.flags|=de,Le.memoizedState=Sa(1|he,be,void 0,Ae===void 0?null:Ae)}function bl(de,he,be,Ae){var Le=Vi();Ae=Ae===void 0?null:Ae;var Be=void 0;if(Lr!==null){var Qe=Lr.memoizedState;if(Be=Qe.destroy,Ae!==null&&Sl(Ae,Qe.deps)){Le.memoizedState=Sa(he,be,Be,Ae);return}}gr.flags|=de,Le.memoizedState=Sa(1|he,be,Be,Ae)}function wl(de,he){return zo(8390656,8,de,he)}function Gs(de,he){return bl(2048,8,de,he)}function ar(de,he){return bl(4,2,de,he)}function Ml(de,he){return bl(4,4,de,he)}function Ea(de,he){if(typeof he=="function")return de=de(),he(de),function(){he(null)};if(he!=null)return de=de(),he.current=de,function(){he.current=null}}function Hs(de,he,be){return be=be!=null?be.concat([de]):null,bl(4,4,Ea.bind(null,he,de),be)}function Tl(){}function Rl(de,he){var be=Vi();he=he===void 0?null:he;var Ae=be.memoizedState;return Ae!==null&&he!==null&&Sl(he,Ae[1])?Ae[0]:(be.memoizedState=[de,he],de)}function Ws(de,he){var be=Vi();he=he===void 0?null:he;var Ae=be.memoizedState;return Ae!==null&&he!==null&&Sl(he,Ae[1])?Ae[0]:(de=de(),be.memoizedState=[de,he],de)}function Al(de,he){var be=Xn;Xn=be!==0&&4>be?be:4,de(!0);var Ae=vi.transition;vi.transition={};try{de(!1),he()}finally{Xn=be,vi.transition=Ae}}function us(){return Vi().memoizedState}function iu(de,he,be){var Ae=ji(de);be={lane:Ae,action:be,hasEagerState:!1,eagerState:null,next:null},ou(de)?pc(he,be):(ba(de,he,be),be=Qn(),de=Kr(de,Ae,be),de!==null&&wa(de,he,Ae))}function Bu(de,he,be){var Ae=ji(de),Le={lane:Ae,action:be,hasEagerState:!1,eagerState:null,next:null};if(ou(de))pc(he,Le);else{ba(de,he,Le);var Be=de.alternate;if(de.lanes===0&&(Be===null||Be.lanes===0)&&(Be=he.lastRenderedReducer,Be!==null))try{var Qe=he.lastRenderedState,ht=Be(Qe,be);if(Le.hasEagerState=!0,Le.eagerState=ht,Jr(ht,Qe))return}catch{}finally{}be=Qn(),de=Kr(de,Ae,be),de!==null&&wa(de,he,Ae)}}function ou(de){var he=de.alternate;return de===gr||he!==null&&he===gr}function pc(de,he){to=xl=!0;var be=de.pending;be===null?he.next=he:(he.next=be.next,be.next=he),de.pending=he}function ba(de,he,be){br!==null&&de.mode&1&&!(Vn&2)?(de=he.interleaved,de===null?(be.next=be,Ai===null?Ai=[he]:Ai.push(he)):(be.next=de.next,de.next=be),he.interleaved=be):(de=he.pending,de===null?be.next=be:(be.next=de.next,de.next=be),he.pending=be)}function wa(de,he,be){if(be&4194240){var Ae=he.lanes;Ae&=de.pendingLanes,be|=Ae,he.lanes=be,Ji(de,be)}}var js={readContext:ci,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},mc={readContext:ci,useCallback:function(de,he){return zi().memoizedState=[de,he===void 0?null:he],de},useContext:ci,useEffect:wl,useImperativeHandle:function(de,he,be){return be=be!=null?be.concat([de]):null,zo(4194308,4,Ea.bind(null,he,de),be)},useLayoutEffect:function(de,he){return zo(4194308,4,de,he)},useInsertionEffect:function(de,he){return zo(4,2,de,he)},useMemo:function(de,he){var be=zi();return he=he===void 0?null:he,de=de(),be.memoizedState=[de,he],de},useReducer:function(de,he,be){var Ae=zi();return he=be!==void 0?be(he):he,Ae.memoizedState=Ae.baseState=he,de={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:he},Ae.queue=de,de=de.dispatch=iu.bind(null,gr,de),[Ae.memoizedState,de]},useRef:function(de){var he=zi();return de={current:de},he.memoizedState=de},useState:xa,useDebugValue:Tl,useDeferredValue:function(de){var he=xa(de),be=he[0],Ae=he[1];return wl(function(){var Le=vi.transition;vi.transition={};try{Ae(de)}finally{vi.transition=Le}},[de]),be},useTransition:function(){var de=xa(!1),he=de[0];return de=Al.bind(null,de[1]),zi().memoizedState=de,[he,de]},useMutableSource:function(){},useSyncExternalStore:function(de,he,be){var Ae=gr,Le=zi();if(hr){if(be===void 0)throw Error(oe(407));be=be()}else{if(be=he(),br===null)throw Error(oe(349));ls&30||dc(Ae,he,be)}Le.memoizedState=be;var Be={value:be,getSnapshot:he};return Le.queue=Be,wl(go.bind(null,Ae,Be,de),[de]),Ae.flags|=2048,Sa(9,hc.bind(null,Ae,Be,be,he),void 0,null),be},useId:function(){var de=zi(),he=br.identifierPrefix;if(hr){var be=po,Ae=ho;be=(Ae&~(1<<32-ur(Ae)-1)).toString(32)+be,he=":"+he+"R"+be,be=cs++,0<be&&(he+="H"+be.toString(32)),he+=":"}else be=ga++,he=":"+he+"r"+be.toString(32)+":";return de.memoizedState=he},unstable_isNewReconciler:!1},gc={readContext:ci,useCallback:Rl,useContext:ci,useEffect:Gs,useImperativeHandle:Hs,useInsertionEffect:ar,useLayoutEffect:Ml,useMemo:Ws,useReducer:va,useRef:ru,useState:function(){return va(no)},useDebugValue:Tl,useDeferredValue:function(de){var he=va(no),be=he[0],Ae=he[1];return Gs(function(){var Le=vi.transition;vi.transition={};try{Ae(de)}finally{vi.transition=Le}},[de]),be},useTransition:function(){var de=va(no)[0],he=Vi().memoizedState;return[de,he]},useMutableSource:uc,useSyncExternalStore:fc,useId:us,unstable_isNewReconciler:!1},vc={readContext:ci,useCallback:Rl,useContext:ci,useEffect:Gs,useImperativeHandle:Hs,useInsertionEffect:ar,useLayoutEffect:Ml,useMemo:Ws,useReducer:ya,useRef:ru,useState:function(){return ya(no)},useDebugValue:Tl,useDeferredValue:function(de){var he=ya(no),be=he[0],Ae=he[1];return Gs(function(){var Le=vi.transition;vi.transition={};try{Ae(de)}finally{vi.transition=Le}},[de]),be},useTransition:function(){var de=ya(no)[0],he=Vi().memoizedState;return[de,he]},useMutableSource:uc,useSyncExternalStore:fc,useId:us,unstable_isNewReconciler:!1};function yc(de,he){try{var be="",Ae=he;do be+=ec(Ae),Ae=Ae.return;while(Ae);var Le=be}catch(Be){Le=`
Error generating stack: `+Be.message+`
`+Be.stack}return{value:de,source:he,stack:Le}}function Cl(de,he){try{console.error(he.value)}catch(be){setTimeout(function(){throw be})}}var zu=typeof WeakMap=="function"?WeakMap:Map;function su(de,he,be){be=fo(-1,be),be.tag=3,be.payload={element:null};var Ae=he.value;return be.callback=function(){Qs||(Qs=!0,dr=Ae),Cl(de,he)},be}function Pl(de,he,be){be=fo(-1,be),be.tag=3;var Ae=de.type.getDerivedStateFromError;if(typeof Ae=="function"){var Le=he.value;be.payload=function(){return Ae(Le)},be.callback=function(){Cl(de,he)}}var Be=de.stateNode;return Be!==null&&typeof Be.componentDidCatch=="function"&&(be.callback=function(){Cl(de,he),typeof Ae!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var Qe=he.stack;this.componentDidCatch(he.value,{componentStack:Qe!==null?Qe:""})}),be}function vo(de,he,be){var Ae=de.pingCache;if(Ae===null){Ae=de.pingCache=new zu;var Le=new Set;Ae.set(he,Le)}else Le=Ae.get(he),Le===void 0&&(Le=new Set,Ae.set(he,Le));Le.has(be)||(Le.add(be),de=Oc.bind(null,de,he,be),he.then(de,de))}function _c(de){do{var he;if((he=de.tag===13)&&(he=de.memoizedState,he=he!==null?he.dehydrated!==null:!0),he)return de;de=de.return}while(de!==null);return null}function fs(de,he,be,Ae,Le){return de.mode&1?(de.flags|=65536,de.lanes=Le,de):(de===he?de.flags|=65536:(de.flags|=128,be.flags|=131072,be.flags&=-52805,be.tag===1&&(be.alternate===null?be.tag=17:(he=fo(-1,1),he.tag=2,Oo(be,he))),be.lanes|=1),de)}function Pr(de){de.flags|=4}function qs(de,he){if(de!==null&&de.child===he.child)return!0;if(he.flags&16)return!1;for(de=he.child;de!==null;){if(de.flags&12854||de.subtreeFlags&12854)return!1;de=de.sibling}return!0}var yi,ds,Il,Ll;if(un)yi=function(de,he){for(var be=he.child;be!==null;){if(be.tag===5||be.tag===6)lt(de,be.stateNode);else if(be.tag!==4&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===he)break;for(;be.sibling===null;){if(be.return===null||be.return===he)return;be=be.return}be.sibling.return=be.return,be=be.sibling}},ds=function(){},Il=function(de,he,be,Ae,Le){if(de=de.memoizedProps,de!==Ae){var Be=he.stateNode,Qe=Bi(ui.current);be=ut(Be,be,de,Ae,Le,Qe),(he.updateQueue=be)&&Pr(he)}},Ll=function(de,he,be,Ae){be!==Ae&&Pr(he)};else if(It){yi=function(de,he,be,Ae){for(var Le=he.child;Le!==null;){if(Le.tag===5){var Be=Le.stateNode;be&&Ae&&(Be=Gn(Be,Le.type,Le.memoizedProps,Le)),lt(de,Be)}else if(Le.tag===6)Be=Le.stateNode,be&&Ae&&(Be=xr(Be,Le.memoizedProps,Le)),lt(de,Be);else if(Le.tag!==4){if(Le.tag===22&&Le.memoizedState!==null)Be=Le.child,Be!==null&&(Be.return=Le),yi(de,Le,!0,!0);else if(Le.child!==null){Le.child.return=Le,Le=Le.child;continue}}if(Le===he)break;for(;Le.sibling===null;){if(Le.return===null||Le.return===he)return;Le=Le.return}Le.sibling.return=Le.return,Le=Le.sibling}};var Vo=function(de,he,be,Ae){for(var Le=he.child;Le!==null;){if(Le.tag===5){var Be=Le.stateNode;be&&Ae&&(Be=Gn(Be,Le.type,Le.memoizedProps,Le)),Pn(de,Be)}else if(Le.tag===6)Be=Le.stateNode,be&&Ae&&(Be=xr(Be,Le.memoizedProps,Le)),Pn(de,Be);else if(Le.tag!==4){if(Le.tag===22&&Le.memoizedState!==null)Be=Le.child,Be!==null&&(Be.return=Le),Vo(de,Le,!0,!0);else if(Le.child!==null){Le.child.return=Le,Le=Le.child;continue}}if(Le===he)break;for(;Le.sibling===null;){if(Le.return===null||Le.return===he)return;Le=Le.return}Le.sibling.return=Le.return,Le=Le.sibling}};ds=function(de,he){var be=he.stateNode;if(!qs(de,he)){de=be.containerInfo;var Ae=cn(de);Vo(Ae,he,!1,!1),be.pendingChildren=Ae,Pr(he),Yn(de,Ae)}},Il=function(de,he,be,Ae,Le){var Be=de.stateNode,Qe=de.memoizedProps;if((de=qs(de,he))&&Qe===Ae)he.stateNode=Be;else{var ht=he.stateNode,Dt=Bi(ui.current),Kt=null;Qe!==Ae&&(Kt=ut(ht,be,Qe,Ae,Le,Dt)),de&&Kt===null?he.stateNode=Be:(Be=dn(Be,Kt,be,Qe,Ae,he,de,ht),_t(Be,be,Ae,Le,Dt)&&Pr(he),he.stateNode=Be,de?Pr(he):yi(Be,he,!1,!1))}},Ll=function(de,he,be,Ae){be!==Ae?(de=Bi(ss.current),be=Bi(ui.current),he.stateNode=Et(Ae,de,be,he),Pr(he)):he.stateNode=de.stateNode}}else ds=function(){},Il=function(){},Ll=function(){};function yo(de,he){if(!hr)switch(de.tailMode){case"hidden":he=de.tail;for(var be=null;he!==null;)he.alternate!==null&&(be=he),he=he.sibling;be===null?de.tail=null:be.sibling=null;break;case"collapsed":be=de.tail;for(var Ae=null;be!==null;)be.alternate!==null&&(Ae=be),be=be.sibling;Ae===null?he||de.tail===null?de.tail=null:de.tail.sibling=null:Ae.sibling=null}}function Er(de){var he=de.alternate!==null&&de.alternate.child===de.child,be=0,Ae=0;if(he)for(var Le=de.child;Le!==null;)be|=Le.lanes|Le.childLanes,Ae|=Le.subtreeFlags&14680064,Ae|=Le.flags&14680064,Le.return=de,Le=Le.sibling;else for(Le=de.child;Le!==null;)be|=Le.lanes|Le.childLanes,Ae|=Le.subtreeFlags,Ae|=Le.flags,Le.return=de,Le=Le.sibling;return de.subtreeFlags|=Ae,de.childLanes=be,he}function $l(de,he,be){var Ae=he.pendingProps;switch(sc(he),he.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(he),null;case 1:return On(he.type)&&Mr(),Er(he),null;case 3:return Ae=he.stateNode,zs(),gn(Fn),gn(qn),as(),Ae.pendingContext&&(Ae.context=Ae.pendingContext,Ae.pendingContext=null),(de===null||de.child===null)&&(pa(he)?Pr(he):de===null||de.memoizedState.isDehydrated&&!(he.flags&256)||(he.flags|=1024,Ii!==null&&(Fa(Ii),Ii=null))),ds(de,he),Er(he),null;case 5:cc(he),be=Bi(ss.current);var Le=he.type;if(de!==null&&he.stateNode!=null)Il(de,he,Le,Ae,be),de.ref!==he.ref&&(he.flags|=512,he.flags|=2097152);else{if(!Ae){if(he.stateNode===null)throw Error(oe(166));return Er(he),null}if(de=Bi(ui.current),pa(he)){if(!Ot)throw Error(oe(175));de=Ya(he.stateNode,he.type,he.memoizedProps,be,de,he,!Os),he.updateQueue=de,de!==null&&Pr(he)}else{var Be=qe(Le,Ae,be,de,he);yi(Be,he,!1,!1),he.stateNode=Be,_t(Be,Le,Ae,be,de)&&Pr(he)}he.ref!==null&&(he.flags|=512,he.flags|=2097152)}return Er(he),null;case 6:if(de&&he.stateNode!=null)Ll(de,he,de.memoizedProps,Ae);else{if(typeof Ae!="string"&&he.stateNode===null)throw Error(oe(166));if(de=Bi(ss.current),be=Bi(ui.current),pa(he)){if(!Ot)throw Error(oe(176));if(de=he.stateNode,Ae=he.memoizedProps,(be=Ki(de,Ae,he,!Os))&&(Le=ti,Le!==null))switch(Be=(Le.mode&1)!==0,Le.tag){case 3:Mt(Le.stateNode.containerInfo,de,Ae,Be);break;case 5:Rt(Le.type,Le.memoizedProps,Le.stateNode,de,Ae,Be)}be&&Pr(he)}else he.stateNode=Et(Ae,de,be,he)}return Er(he),null;case 13:if(gn(mr),Ae=he.memoizedState,hr&&kr!==null&&he.mode&1&&!(he.flags&128)){for(de=kr;de;)de=ki(de);return Fs(),he.flags|=98560,he}if(Ae!==null&&Ae.dehydrated!==null){if(Ae=pa(he),de===null){if(!Ae)throw Error(oe(318));if(!Ot)throw Error(oe(344));if(de=he.memoizedState,de=de!==null?de.dehydrated:null,!de)throw Error(oe(317));Ka(de,he)}else Fs(),!(he.flags&128)&&(he.memoizedState=null),he.flags|=4;return Er(he),null}return Ii!==null&&(Fa(Ii),Ii=null),he.flags&128?(he.lanes=be,he):(Ae=Ae!==null,be=!1,de===null?pa(he):be=de.memoizedState!==null,Ae&&!be&&(he.child.flags|=8192,he.mode&1&&(de===null||mr.current&1?yr===0&&(yr=3):Bl())),he.updateQueue!==null&&(he.flags|=4),Er(he),null);case 4:return zs(),ds(de,he),de===null&&sn(he.stateNode.containerInfo),Er(he),null;case 10:return ha(he.type._context),Er(he),null;case 17:return On(he.type)&&Mr(),Er(he),null;case 19:if(gn(mr),Le=he.memoizedState,Le===null)return Er(he),null;if(Ae=(he.flags&128)!==0,Be=Le.rendering,Be===null)if(Ae)yo(Le,!1);else{if(yr!==0||de!==null&&de.flags&128)for(de=he.child;de!==null;){if(Be=_l(de),Be!==null){for(he.flags|=128,yo(Le,!1),de=Be.updateQueue,de!==null&&(he.updateQueue=de,he.flags|=4),he.subtreeFlags=0,de=be,Ae=he.child;Ae!==null;)be=Ae,Le=de,be.flags&=14680066,Be=be.alternate,Be===null?(be.childLanes=0,be.lanes=Le,be.child=null,be.subtreeFlags=0,be.memoizedProps=null,be.memoizedState=null,be.updateQueue=null,be.dependencies=null,be.stateNode=null):(be.childLanes=Be.childLanes,be.lanes=Be.lanes,be.child=Be.child,be.subtreeFlags=0,be.deletions=null,be.memoizedProps=Be.memoizedProps,be.memoizedState=Be.memoizedState,be.updateQueue=Be.updateQueue,be.type=Be.type,Le=Be.dependencies,be.dependencies=Le===null?null:{lanes:Le.lanes,firstContext:Le.firstContext}),Ae=Ae.sibling;return Cn(mr,mr.current&1|2),he.child}de=de.sibling}Le.tail!==null&&Cr()>Wo&&(he.flags|=128,Ae=!0,yo(Le,!1),he.lanes=4194304)}else{if(!Ae)if(de=_l(Be),de!==null){if(he.flags|=128,Ae=!0,de=de.updateQueue,de!==null&&(he.updateQueue=de,he.flags|=4),yo(Le,!0),Le.tail===null&&Le.tailMode==="hidden"&&!Be.alternate&&!hr)return Er(he),null}else 2*Cr()-Le.renderingStartTime>Wo&&be!==1073741824&&(he.flags|=128,Ae=!0,yo(Le,!1),he.lanes=4194304);Le.isBackwards?(Be.sibling=he.child,he.child=Be):(de=Le.last,de!==null?de.sibling=Be:he.child=Be,Le.last=Be)}return Le.tail!==null?(he=Le.tail,Le.rendering=he,Le.tail=he.sibling,Le.renderingStartTime=Cr(),he.sibling=null,de=mr.current,Cn(mr,Ae?de&1|2:de&1),he):(Er(he),null);case 22:case 23:return ka(),Ae=he.memoizedState!==null,de!==null&&de.memoizedState!==null!==Ae&&(he.flags|=8192),Ae&&he.mode&1?Yr&1073741824&&(Er(he),un&&he.subtreeFlags&6&&(he.flags|=8192)):Er(he),null;case 24:return null;case 25:return null}throw Error(oe(156,he.tag))}var xc=se.ReactCurrentOwner,Nr=!1;function vr(de,he,be,Ae){he.child=de===null?tu(he,null,be,Ae):mo(he,de.child,be,Ae)}function lr(de,he,be,Ae,Le){be=be.render;var Be=he.ref;return $s(he,Le),Ae=Vs(de,he,be,Ae,Be,Le),be=Bo(),de!==null&&!Nr?(he.updateQueue=de.updateQueue,he.flags&=-2053,de.lanes&=~Le,fi(de,he,Le)):(hr&&be&&oc(he),he.flags|=1,vr(de,he,Ae,Le),he.child)}function or(de,he,be,Ae,Le){if(de===null){var Be=be.type;return typeof Be=="function"&&!Vl(Be)&&Be.defaultProps===void 0&&be.compare===null&&be.defaultProps===void 0?(he.tag=15,he.type=Be,_o(de,he,Be,Ae,Le)):(de=Gl(be.type,null,Ae,he,he.mode,Le),de.ref=he.ref,de.return=he,he.child=de)}if(Be=de.child,!(de.lanes&Le)){var Qe=Be.memoizedProps;if(be=be.compare,be=be!==null?be:Ui,be(Qe,Ae)&&de.ref===he.ref)return fi(de,he,Le)}return he.flags|=1,de=Ao(Be,Ae),de.ref=he.ref,de.return=he,he.child=de}function _o(de,he,be,Ae,Le){if(de!==null&&Ui(de.memoizedProps,Ae)&&de.ref===he.ref)if(Nr=!1,(de.lanes&Le)!==0)de.flags&131072&&(Nr=!0);else return he.lanes=de.lanes,fi(de,he,Le);return xo(de,he,be,Ae,Le)}function Ur(de,he,be){var Ae=he.pendingProps,Le=Ae.children,Be=de!==null?de.memoizedState:null;if(Ae.mode==="hidden")if(!(he.mode&1))he.memoizedState={baseLanes:0,cachePool:null},Cn(Ss,Yr),Yr|=be;else if(be&1073741824)he.memoizedState={baseLanes:0,cachePool:null},Ae=Be!==null?Be.baseLanes:be,Cn(Ss,Yr),Yr|=Ae;else return de=Be!==null?Be.baseLanes|be:be,he.lanes=he.childLanes=1073741824,he.memoizedState={baseLanes:de,cachePool:null},he.updateQueue=null,Cn(Ss,Yr),Yr|=de,null;else Be!==null?(Ae=Be.baseLanes|be,he.memoizedState=null):Ae=be,Cn(Ss,Yr),Yr|=Ae;return vr(de,he,Le,be),he.child}function ni(de,he){var be=he.ref;(de===null&&be!==null||de!==null&&de.ref!==be)&&(he.flags|=512,he.flags|=2097152)}function xo(de,he,be,Ae,Le){var Be=On(be)?Mn:qn.current;return Be=ir(he,Be),$s(he,Le),be=Vs(de,he,be,Ae,Be,Le),Ae=Bo(),de!==null&&!Nr?(he.updateQueue=de.updateQueue,he.flags&=-2053,de.lanes&=~Le,fi(de,he,Le)):(hr&&Ae&&oc(he),he.flags|=1,vr(de,he,be,Le),he.child)}function hs(de,he,be,Ae,Le){if(On(be)){var Be=!0;Zi(he)}else Be=!1;if($s(he,Le),he.stateNode===null)de!==null&&(de.alternate=null,he.alternate=null,he.flags|=2),Kc(he,be,Ae),ic(he,be,Ae,Le),Ae=!0;else if(de===null){var Qe=he.stateNode,ht=he.memoizedProps;Qe.props=ht;var Dt=Qe.context,Kt=be.contextType;typeof Kt=="object"&&Kt!==null?Kt=ci(Kt):(Kt=On(be)?Mn:qn.current,Kt=ir(he,Kt));var xn=be.getDerivedStateFromProps,Un=typeof xn=="function"||typeof Qe.getSnapshotBeforeUpdate=="function";Un||typeof Qe.UNSAFE_componentWillReceiveProps!="function"&&typeof Qe.componentWillReceiveProps!="function"||(ht!==Ae||Dt!==Kt)&&Zc(he,Qe,Ae,Kt),Ci=!1;var Ln=he.memoizedState;Qe.state=Ln,dl(he,Ae,Qe,Le),Dt=he.memoizedState,ht!==Ae||Ln!==Dt||Fn.current||Ci?(typeof xn=="function"&&(nc(he,be,xn,Ae),Dt=he.memoizedState),(ht=Ci||rc(he,be,ht,Ae,Ln,Dt,Kt))?(Un||typeof Qe.UNSAFE_componentWillMount!="function"&&typeof Qe.componentWillMount!="function"||(typeof Qe.componentWillMount=="function"&&Qe.componentWillMount(),typeof Qe.UNSAFE_componentWillMount=="function"&&Qe.UNSAFE_componentWillMount()),typeof Qe.componentDidMount=="function"&&(he.flags|=4194308)):(typeof Qe.componentDidMount=="function"&&(he.flags|=4194308),he.memoizedProps=Ae,he.memoizedState=Dt),Qe.props=Ae,Qe.state=Dt,Qe.context=Kt,Ae=ht):(typeof Qe.componentDidMount=="function"&&(he.flags|=4194308),Ae=!1)}else{Qe=he.stateNode,tc(de,he),ht=he.memoizedProps,Kt=he.type===he.elementType?ht:li(he.type,ht),Qe.props=Kt,Un=he.pendingProps,Ln=Qe.context,Dt=be.contextType,typeof Dt=="object"&&Dt!==null?Dt=ci(Dt):(Dt=On(be)?Mn:qn.current,Dt=ir(he,Dt));var Wn=be.getDerivedStateFromProps;(xn=typeof Wn=="function"||typeof Qe.getSnapshotBeforeUpdate=="function")||typeof Qe.UNSAFE_componentWillReceiveProps!="function"&&typeof Qe.componentWillReceiveProps!="function"||(ht!==Un||Ln!==Dt)&&Zc(he,Qe,Ae,Dt),Ci=!1,Ln=he.memoizedState,Qe.state=Ln,dl(he,Ae,Qe,Le);var hn=he.memoizedState;ht!==Un||Ln!==hn||Fn.current||Ci?(typeof Wn=="function"&&(nc(he,be,Wn,Ae),hn=he.memoizedState),(Kt=Ci||rc(he,be,Kt,Ae,Ln,hn,Dt)||!1)?(xn||typeof Qe.UNSAFE_componentWillUpdate!="function"&&typeof Qe.componentWillUpdate!="function"||(typeof Qe.componentWillUpdate=="function"&&Qe.componentWillUpdate(Ae,hn,Dt),typeof Qe.UNSAFE_componentWillUpdate=="function"&&Qe.UNSAFE_componentWillUpdate(Ae,hn,Dt)),typeof Qe.componentDidUpdate=="function"&&(he.flags|=4),typeof Qe.getSnapshotBeforeUpdate=="function"&&(he.flags|=1024)):(typeof Qe.componentDidUpdate!="function"||ht===de.memoizedProps&&Ln===de.memoizedState||(he.flags|=4),typeof Qe.getSnapshotBeforeUpdate!="function"||ht===de.memoizedProps&&Ln===de.memoizedState||(he.flags|=1024),he.memoizedProps=Ae,he.memoizedState=hn),Qe.props=Ae,Qe.state=hn,Qe.context=Dt,Ae=Kt):(typeof Qe.componentDidUpdate!="function"||ht===de.memoizedProps&&Ln===de.memoizedState||(he.flags|=4),typeof Qe.getSnapshotBeforeUpdate!="function"||ht===de.memoizedProps&&Ln===de.memoizedState||(he.flags|=1024),Ae=!1)}return Xr(de,he,be,Ae,Be,Le)}function Xr(de,he,be,Ae,Le,Be){ni(de,he);var Qe=(he.flags&128)!==0;if(!Ae&&!Qe)return Le&&tr(he,be,!1),fi(de,he,Be);Ae=he.stateNode,xc.current=he;var ht=Qe&&typeof be.getDerivedStateFromError!="function"?null:Ae.render();return he.flags|=1,de!==null&&Qe?(he.child=mo(he,de.child,null,Be),he.child=mo(he,null,ht,Be)):vr(de,he,ht,Be),he.memoizedState=Ae.state,Le&&tr(he,be,!0),he.child}function Ma(de){var he=de.stateNode;he.pendingContext?Mi(de,he.pendingContext,he.pendingContext!==he.context):he.context&&Mi(de,he.context,!1),yl(de,he.containerInfo)}function Sc(de,he,be,Ae,Le){return Fs(),vl(Le),he.flags|=256,vr(de,he,be,Ae),he.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function ps(de){return{baseLanes:de,cachePool:null}}function Ec(de,he,be){var Ae=he.pendingProps,Le=mr.current,Be=!1,Qe=(he.flags&128)!==0,ht;if((ht=Qe)||(ht=de!==null&&de.memoizedState===null?!1:(Le&2)!==0),ht?(Be=!0,he.flags&=-129):(de===null||de.memoizedState!==null)&&(Le|=1),Cn(mr,Le&1),de===null)return ko(he),de=he.memoizedState,de!==null&&(de=de.dehydrated,de!==null)?(he.mode&1?Fi(de)?he.lanes=8:he.lanes=1073741824:he.lanes=1,null):(Le=Ae.children,de=Ae.fallback,Be?(Ae=he.mode,Be=he.child,Le={mode:"hidden",children:Le},!(Ae&1)&&Be!==null?(Be.childLanes=0,Be.pendingProps=Le):Be=za(Le,Ae,0,null),de=Ts(de,Ae,be,null),Be.return=he,de.return=he,Be.sibling=de,he.child=Be,he.child.memoizedState=ps(be),he.memoizedState=Ta,de):Gi(he,Le));if(Le=de.memoizedState,Le!==null){if(ht=Le.dehydrated,ht!==null){if(Qe)return he.flags&256?(he.flags&=-257,Aa(de,he,be,Error(oe(422)))):he.memoizedState!==null?(he.child=de.child,he.flags|=128,null):(Be=Ae.fallback,Le=he.mode,Ae=za({mode:"visible",children:Ae.children},Le,0,null),Be=Ts(Be,Le,be,null),Be.flags|=2,Ae.return=he,Be.return=he,Ae.sibling=Be,he.child=Ae,he.mode&1&&mo(he,de.child,null,be),he.child.memoizedState=ps(be),he.memoizedState=Ta,Be);if(!(he.mode&1))he=Aa(de,he,be,null);else if(Fi(ht))he=Aa(de,he,be,Error(oe(419)));else if(Ae=(be&de.childLanes)!==0,Nr||Ae){if(Ae=br,Ae!==null){switch(be&-be){case 4:Be=2;break;case 16:Be=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Be=32;break;case 536870912:Be=268435456;break;default:Be=0}Ae=Be&(Ae.suspendedLanes|be)?0:Be,Ae!==0&&Ae!==Le.retryLane&&(Le.retryLane=Ae,Kr(de,Ae,-1))}Bl(),he=Aa(de,he,be,Error(oe(421)))}else Yi(ht)?(he.flags|=128,he.child=de.child,he=fu.bind(null,de),Xo(ht,he),he=null):(be=Le.treeContext,Ot&&(kr=Ps(ht),ti=he,hr=!0,Ii=null,Os=!1,be!==null&&(Pi[mi++]=ho,Pi[mi++]=po,Pi[mi++]=ns,ho=be.id,po=be.overflow,ns=he)),he=Gi(he,he.pendingProps.children),he.flags|=4096);return he}return Be?(Ae=Dl(de,he,Ae.children,Ae.fallback,be),Be=he.child,Le=de.child.memoizedState,Be.memoizedState=Le===null?ps(be):{baseLanes:Le.baseLanes|be,cachePool:null},Be.childLanes=de.childLanes&~be,he.memoizedState=Ta,Ae):(be=Ra(de,he,Ae.children,be),he.memoizedState=null,be)}return Be?(Ae=Dl(de,he,Ae.children,Ae.fallback,be),Be=he.child,Le=de.child.memoizedState,Be.memoizedState=Le===null?ps(be):{baseLanes:Le.baseLanes|be,cachePool:null},Be.childLanes=de.childLanes&~be,he.memoizedState=Ta,Ae):(be=Ra(de,he,Ae.children,be),he.memoizedState=null,be)}function Gi(de,he){return he=za({mode:"visible",children:he},de.mode,0,null),he.return=de,de.child=he}function Ra(de,he,be,Ae){var Le=de.child;return de=Le.sibling,be=Ao(Le,{mode:"visible",children:be}),!(he.mode&1)&&(be.lanes=Ae),be.return=he,be.sibling=null,de!==null&&(Ae=he.deletions,Ae===null?(he.deletions=[de],he.flags|=16):Ae.push(de)),he.child=be}function Dl(de,he,be,Ae,Le){var Be=he.mode;de=de.child;var Qe=de.sibling,ht={mode:"hidden",children:be};return!(Be&1)&&he.child!==de?(be=he.child,be.childLanes=0,be.pendingProps=ht,he.deletions=null):(be=Ao(de,ht),be.subtreeFlags=de.subtreeFlags&14680064),Qe!==null?Ae=Ao(Qe,Ae):(Ae=Ts(Ae,Be,Le,null),Ae.flags|=2),Ae.return=he,be.return=he,be.sibling=Ae,he.child=be,Ae}function Aa(de,he,be,Ae){return Ae!==null&&vl(Ae),mo(he,de.child,null,be),de=Gi(he,he.pendingProps.children),de.flags|=2,he.memoizedState=null,de}function au(de,he,be){de.lanes|=he;var Ae=de.alternate;Ae!==null&&(Ae.lanes|=he),ts(de.return,he,be)}function ro(de,he,be,Ae,Le){var Be=de.memoizedState;Be===null?de.memoizedState={isBackwards:he,rendering:null,renderingStartTime:0,last:Ae,tail:be,tailMode:Le}:(Be.isBackwards=he,Be.rendering=null,Be.renderingStartTime=0,Be.last=Ae,Be.tail=be,Be.tailMode=Le)}function ms(de,he,be){var Ae=he.pendingProps,Le=Ae.revealOrder,Be=Ae.tail;if(vr(de,he,Ae.children,be),Ae=mr.current,Ae&2)Ae=Ae&1|2,he.flags|=128;else{if(de!==null&&de.flags&128)e:for(de=he.child;de!==null;){if(de.tag===13)de.memoizedState!==null&&au(de,be,he);else if(de.tag===19)au(de,be,he);else if(de.child!==null){de.child.return=de,de=de.child;continue}if(de===he)break e;for(;de.sibling===null;){if(de.return===null||de.return===he)break e;de=de.return}de.sibling.return=de.return,de=de.sibling}Ae&=1}if(Cn(mr,Ae),!(he.mode&1))he.memoizedState=null;else switch(Le){case"forwards":for(be=he.child,Le=null;be!==null;)de=be.alternate,de!==null&&_l(de)===null&&(Le=be),be=be.sibling;be=Le,be===null?(Le=he.child,he.child=null):(Le=be.sibling,be.sibling=null),ro(he,!1,Le,be,Be);break;case"backwards":for(be=null,Le=he.child,he.child=null;Le!==null;){if(de=Le.alternate,de!==null&&_l(de)===null){he.child=Le;break}de=Le.sibling,Le.sibling=be,be=Le,Le=de}ro(he,!0,be,null,Be);break;case"together":ro(he,!1,null,null,void 0);break;default:he.memoizedState=null}return he.child}function fi(de,he,be){if(de!==null&&(he.dependencies=de.dependencies),io|=he.lanes,!(be&he.childLanes))return null;if(de!==null&&he.child!==de.child)throw Error(oe(153));if(he.child!==null){for(de=he.child,be=Ao(de,de.pendingProps),he.child=be,be.return=he;de.sibling!==null;)de=de.sibling,be=be.sibling=Ao(de,de.pendingProps),be.return=he;be.sibling=null}return he.child}function Nl(de,he,be){switch(he.tag){case 3:Ma(he),Fs();break;case 5:nu(he);break;case 1:On(he.type)&&Zi(he);break;case 4:yl(he,he.stateNode.containerInfo);break;case 10:Jo(he,he.type._context,he.memoizedProps.value);break;case 13:var Ae=he.memoizedState;if(Ae!==null)return Ae.dehydrated!==null?(Cn(mr,mr.current&1),he.flags|=128,null):be&he.child.childLanes?Ec(de,he,be):(Cn(mr,mr.current&1),de=fi(de,he,be),de!==null?de.sibling:null);Cn(mr,mr.current&1);break;case 19:if(Ae=(be&he.childLanes)!==0,de.flags&128){if(Ae)return ms(de,he,be);he.flags|=128}var Le=he.memoizedState;if(Le!==null&&(Le.rendering=null,Le.tail=null,Le.lastEffect=null),Cn(mr,mr.current),Ae)break;return null;case 22:case 23:return he.lanes=0,Ur(de,he,be)}return fi(de,he,be)}function Ol(de,he){switch(sc(he),he.tag){case 1:return On(he.type)&&Mr(),de=he.flags,de&65536?(he.flags=de&-65537|128,he):null;case 3:return zs(),gn(Fn),gn(qn),as(),de=he.flags,de&65536&&!(de&128)?(he.flags=de&-65537|128,he):null;case 5:return cc(he),null;case 13:if(gn(mr),de=he.memoizedState,de!==null&&de.dehydrated!==null){if(he.alternate===null)throw Error(oe(340));Fs()}return de=he.flags,de&65536?(he.flags=de&-65537|128,he):null;case 19:return gn(mr),null;case 4:return zs(),null;case 10:return ha(he.type._context),null;case 22:case 23:return ka(),null;case 24:return null;default:return null}}var ri=!1,Or=!1,gs=typeof WeakSet=="function"?WeakSet:Set,on=null;function Li(de,he){var be=de.ref;if(be!==null)if(typeof be=="function")try{be(null)}catch(Ae){oi(de,he,Ae)}else be.current=null}function So(de,he,be){try{be()}catch(Ae){oi(de,he,Ae)}}var bc=!1;function wc(de,he){for(it(de.containerInfo),on=he;on!==null;)if(de=on,he=de.child,(de.subtreeFlags&1028)!==0&&he!==null)he.return=de,on=he;else for(;on!==null;){de=on;try{var be=de.alternate;if(de.flags&1024)switch(de.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ae=be.memoizedProps,Le=be.memoizedState,Be=de.stateNode,Qe=Be.getSnapshotBeforeUpdate(de.elementType===de.type?Ae:li(de.type,Ae),Le);Be.__reactInternalSnapshotBeforeUpdate=Qe}break;case 3:un&&Nt(de.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(ht){oi(de,de.return,ht)}if(he=de.sibling,he!==null){he.return=de.return,on=he;break}on=de.return}return be=bc,bc=!1,be}function Eo(de,he,be){var Ae=he.updateQueue;if(Ae=Ae!==null?Ae.lastEffect:null,Ae!==null){var Le=Ae=Ae.next;do{if((Le.tag&de)===de){var Be=Le.destroy;Le.destroy=void 0,Be!==void 0&&So(he,be,Be)}Le=Le.next}while(Le!==Ae)}}function Br(de,he){if(he=he.updateQueue,he=he!==null?he.lastEffect:null,he!==null){var be=he=he.next;do{if((be.tag&de)===de){var Ae=be.create;be.destroy=Ae()}be=be.next}while(be!==he)}}function ii(de){var he=de.ref;if(he!==null){var be=de.stateNode;switch(de.tag){case 5:de=at(be);break;default:de=be}typeof he=="function"?he(de):he.current=de}}function fr(de,he,be){if(eo&&typeof eo.onCommitFiberUnmount=="function")try{eo.onCommitFiberUnmount(ca,he)}catch{}switch(he.tag){case 0:case 11:case 14:case 15:if(de=he.updateQueue,de!==null&&(de=de.lastEffect,de!==null)){var Ae=de=de.next;do{var Le=Ae,Be=Le.destroy;Le=Le.tag,Be!==void 0&&(Le&2||Le&4)&&So(he,be,Be),Ae=Ae.next}while(Ae!==de)}break;case 1:if(Li(he,be),de=he.stateNode,typeof de.componentWillUnmount=="function")try{de.props=he.memoizedProps,de.state=he.memoizedState,de.componentWillUnmount()}catch(Qe){oi(he,be,Qe)}break;case 5:Li(he,be);break;case 4:un?Rc(de,he,be):It&&It&&(he=he.stateNode.containerInfo,be=cn(he),sr(he,be))}}function $i(de,he,be){for(var Ae=he;;)if(fr(de,Ae,be),Ae.child===null||un&&Ae.tag===4){if(Ae===he)break;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===he)return;Ae=Ae.return}Ae.sibling.return=Ae.return,Ae=Ae.sibling}else Ae.child.return=Ae,Ae=Ae.child}function Mc(de){var he=de.alternate;he!==null&&(de.alternate=null,Mc(he)),de.child=null,de.deletions=null,de.sibling=null,de.tag===5&&(he=de.stateNode,he!==null&&rn(he)),de.stateNode=null,de.return=null,de.dependencies=null,de.memoizedProps=null,de.memoizedState=null,de.pendingProps=null,de.stateNode=null,de.updateQueue=null}function Tc(de){return de.tag===5||de.tag===3||de.tag===4}function Fl(de){e:for(;;){for(;de.sibling===null;){if(de.return===null||Tc(de.return))return null;de=de.return}for(de.sibling.return=de.return,de=de.sibling;de.tag!==5&&de.tag!==6&&de.tag!==18;){if(de.flags&2||de.child===null||de.tag===4)continue e;de.child.return=de,de=de.child}if(!(de.flags&2))return de.stateNode}}function kl(de){if(un){e:{for(var he=de.return;he!==null;){if(Tc(he))break e;he=he.return}throw Error(oe(160))}var be=he;switch(be.tag){case 5:he=be.stateNode,be.flags&32&&($t(he),be.flags&=-33),be=Fl(de),Xs(de,be,he);break;case 3:case 4:he=be.stateNode.containerInfo,be=Fl(de),Ul(de,be,he);break;default:throw Error(oe(161))}}}function Ul(de,he,be){var Ae=de.tag;if(Ae===5||Ae===6)de=de.stateNode,he?yn(be,de,he):Qt(be,de);else if(Ae!==4&&(de=de.child,de!==null))for(Ul(de,he,be),de=de.sibling;de!==null;)Ul(de,he,be),de=de.sibling}function Xs(de,he,be){var Ae=de.tag;if(Ae===5||Ae===6)de=de.stateNode,he?Zt(be,de,he):Xt(be,de);else if(Ae!==4&&(de=de.child,de!==null))for(Xs(de,he,be),de=de.sibling;de!==null;)Xs(de,he,be),de=de.sibling}function Rc(de,he,be){for(var Ae=he,Le=!1,Be,Qe;;){if(!Le){Le=Ae.return;e:for(;;){if(Le===null)throw Error(oe(160));switch(Be=Le.stateNode,Le.tag){case 5:Qe=!1;break e;case 3:Be=Be.containerInfo,Qe=!0;break e;case 4:Be=Be.containerInfo,Qe=!0;break e}Le=Le.return}Le=!0}if(Ae.tag===5||Ae.tag===6)$i(de,Ae,be),Qe?ot(Be,Ae.stateNode):an(Be,Ae.stateNode);else if(Ae.tag===18)Qe?We(Be,Ae.stateNode):el(Be,Ae.stateNode);else if(Ae.tag===4){if(Ae.child!==null){Be=Ae.stateNode.containerInfo,Qe=!0,Ae.child.return=Ae,Ae=Ae.child;continue}}else if(fr(de,Ae,be),Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===he)break;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===he)return;Ae=Ae.return,Ae.tag===4&&(Le=!1)}Ae.sibling.return=Ae.return,Ae=Ae.sibling}}function Go(de,he){if(un){switch(he.tag){case 0:case 11:case 14:case 15:Eo(3,he,he.return),Br(3,he),Eo(5,he,he.return);return;case 1:return;case 5:var be=he.stateNode;if(be!=null){var Ae=he.memoizedProps;de=de!==null?de.memoizedProps:Ae;var Le=he.type,Be=he.updateQueue;he.updateQueue=null,Be!==null&&Ft(be,Be,Le,de,Ae,he)}return;case 6:if(he.stateNode===null)throw Error(oe(162));be=he.memoizedProps,Rn(he.stateNode,de!==null?de.memoizedProps:be,be);return;case 3:Ot&&de!==null&&de.memoizedState.isDehydrated&&Qa(he.stateNode.containerInfo);return;case 12:return;case 13:Ys(he);return;case 19:Ys(he);return;case 17:return}throw Error(oe(163))}switch(he.tag){case 0:case 11:case 14:case 15:Eo(3,he,he.return),Br(3,he),Eo(5,he,he.return);return;case 12:return;case 13:Ys(he);return;case 19:Ys(he);return;case 3:Ot&&de!==null&&de.memoizedState.isDehydrated&&Qa(he.stateNode.containerInfo);break;case 22:case 23:return}e:if(It){switch(he.tag){case 1:case 5:case 6:break e;case 3:case 4:he=he.stateNode,sr(he.containerInfo,he.pendingChildren);break e}throw Error(oe(163))}}function Ys(de){var he=de.updateQueue;if(he!==null){de.updateQueue=null;var be=de.stateNode;be===null&&(be=de.stateNode=new gs),he.forEach(function(Ae){var Le=du.bind(null,de,Ae);be.has(Ae)||(be.add(Ae),Ae.then(Le,Le))})}}function Vu(de,he){for(on=he;on!==null;){he=on;var be=he.deletions;if(be!==null)for(var Ae=0;Ae<be.length;Ae++){var Le=be[Ae];try{var Be=de;un?Rc(Be,Le,he):$i(Be,Le,he);var Qe=Le.alternate;Qe!==null&&(Qe.return=null),Le.return=null}catch(Tn){oi(Le,he,Tn)}}if(be=he.child,he.subtreeFlags&12854&&be!==null)be.return=he,on=be;else for(;on!==null;){he=on;try{var ht=he.flags;if(ht&32&&un&&$t(he.stateNode),ht&512){var Dt=he.alternate;if(Dt!==null){var Kt=Dt.ref;Kt!==null&&(typeof Kt=="function"?Kt(null):Kt.current=null)}}if(ht&8192)switch(he.tag){case 13:if(he.memoizedState!==null){var xn=he.alternate;(xn===null||xn.memoizedState===null)&&(Na=Cr())}break;case 22:var Un=he.memoizedState!==null,Ln=he.alternate,Wn=Ln!==null&&Ln.memoizedState!==null;if(be=he,un){e:if(Ae=be,Le=Un,Be=null,un)for(var hn=Ae;;){if(hn.tag===5){if(Be===null){Be=hn;var Gr=hn.stateNode;Le?tn(Gr):zt(hn.stateNode,hn.memoizedProps)}}else if(hn.tag===6){if(Be===null){var bi=hn.stateNode;Le?nt(bi):wt(bi,hn.memoizedProps)}}else if((hn.tag!==22&&hn.tag!==23||hn.memoizedState===null||hn===Ae)&&hn.child!==null){hn.child.return=hn,hn=hn.child;continue}if(hn===Ae)break;for(;hn.sibling===null;){if(hn.return===null||hn.return===Ae)break e;Be===hn&&(Be=null),hn=hn.return}Be===hn&&(Be=null),hn.sibling.return=hn.return,hn=hn.sibling}}if(Un&&!Wn&&be.mode&1){on=be;for(var bt=be.child;bt!==null;){for(be=on=bt;on!==null;){Ae=on;var vt=Ae.child;switch(Ae.tag){case 0:case 11:case 14:case 15:Eo(4,Ae,Ae.return);break;case 1:Li(Ae,Ae.return);var Pt=Ae.stateNode;if(typeof Pt.componentWillUnmount=="function"){var fn=Ae.return;try{Pt.props=Ae.memoizedProps,Pt.state=Ae.memoizedState,Pt.componentWillUnmount()}catch(Tn){oi(Ae,fn,Tn)}}break;case 5:Li(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){Cc(be);continue}}vt!==null?(vt.return=Ae,on=vt):Cc(be)}bt=bt.sibling}}}switch(ht&4102){case 2:kl(he),he.flags&=-3;break;case 6:kl(he),he.flags&=-3,Go(he.alternate,he);break;case 4096:he.flags&=-4097;break;case 4100:he.flags&=-4097,Go(he.alternate,he);break;case 4:Go(he.alternate,he)}}catch(Tn){oi(he,he.return,Tn)}if(be=he.sibling,be!==null){be.return=he.return,on=be;break}on=he.return}}}function Ca(de,he,be){on=de,Pa(de)}function Pa(de,he,be){for(var Ae=(de.mode&1)!==0;on!==null;){var Le=on,Be=Le.child;if(Le.tag===22&&Ae){var Qe=Le.memoizedState!==null||ri;if(!Qe){var ht=Le.alternate,Dt=ht!==null&&ht.memoizedState!==null||Or;ht=ri;var Kt=Or;if(ri=Qe,(Or=Dt)&&!Kt)for(on=Le;on!==null;)Qe=on,Dt=Qe.child,Qe.tag===22&&Qe.memoizedState!==null?vs(Le):Dt!==null?(Dt.return=Qe,on=Dt):vs(Le);for(;Be!==null;)on=Be,Pa(Be),Be=Be.sibling;on=Le,ri=ht,Or=Kt}Ac(de)}else Le.subtreeFlags&8772&&Be!==null?(Be.return=Le,on=Be):Ac(de)}}function Ac(de){for(;on!==null;){var he=on;if(he.flags&8772){var be=he.alternate;try{if(he.flags&8772)switch(he.tag){case 0:case 11:case 15:Or||Br(5,he);break;case 1:var Ae=he.stateNode;if(he.flags&4&&!Or)if(be===null)Ae.componentDidMount();else{var Le=he.elementType===he.type?be.memoizedProps:li(he.type,be.memoizedProps);Ae.componentDidUpdate(Le,be.memoizedState,Ae.__reactInternalSnapshotBeforeUpdate)}var Be=he.updateQueue;Be!==null&&Xc(he,Be,Ae);break;case 3:var Qe=he.updateQueue;if(Qe!==null){if(be=null,he.child!==null)switch(he.child.tag){case 5:be=at(he.child.stateNode);break;case 1:be=he.child.stateNode}Xc(he,Qe,be)}break;case 5:var ht=he.stateNode;be===null&&he.flags&4&&Ut(ht,he.type,he.memoizedProps,he);break;case 6:break;case 4:break;case 12:break;case 13:if(Ot&&he.memoizedState===null){var Dt=he.alternate;if(Dt!==null){var Kt=Dt.memoizedState;if(Kt!==null){var xn=Kt.dehydrated;xn!==null&&Ja(xn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(oe(163))}Or||he.flags&512&&ii(he)}catch(Un){oi(he,he.return,Un)}}if(he===de){on=null;break}if(be=he.sibling,be!==null){be.return=he.return,on=be;break}on=he.return}}function Cc(de){for(;on!==null;){var he=on;if(he===de){on=null;break}var be=he.sibling;if(be!==null){be.return=he.return,on=be;break}on=he.return}}function vs(de){for(;on!==null;){var he=on;try{switch(he.tag){case 0:case 11:case 15:var be=he.return;try{Br(4,he)}catch(Dt){oi(he,be,Dt)}break;case 1:var Ae=he.stateNode;if(typeof Ae.componentDidMount=="function"){var Le=he.return;try{Ae.componentDidMount()}catch(Dt){oi(he,Le,Dt)}}var Be=he.return;try{ii(he)}catch(Dt){oi(he,Be,Dt)}break;case 5:var Qe=he.return;try{ii(he)}catch(Dt){oi(he,Qe,Dt)}}}catch(Dt){oi(he,he.return,Dt)}if(he===de){on=null;break}var ht=he.sibling;if(ht!==null){ht.return=he.return,on=ht;break}on=he.return}}var Ia=0,ys=1,_s=2,bo=3,Ks=4;if(typeof Symbol=="function"&&Symbol.for){var xs=Symbol.for;Ia=xs("selector.component"),ys=xs("selector.has_pseudo_class"),_s=xs("selector.role"),bo=xs("selector.test_id"),Ks=xs("selector.text")}function La(de){var he=Ze(de);if(he!=null){if(typeof he.memoizedProps["data-testname"]!="string")throw Error(oe(364));return he}if(de=Xe(de),de===null)throw Error(oe(362));return de.stateNode.current}function $a(de,he){switch(he.$$typeof){case Ia:if(de.type===he.value)return!0;break;case ys:e:{he=he.value,de=[de,0];for(var be=0;be<de.length;){var Ae=de[be++],Le=de[be++],Be=he[Le];if(Ae.tag!==5||!pt(Ae)){for(;Be!=null&&$a(Ae,Be);)Le++,Be=he[Le];if(Le===he.length){he=!0;break e}else for(Ae=Ae.child;Ae!==null;)de.push(Ae,Le),Ae=Ae.sibling}}he=!1}return he;case _s:if(de.tag===5&&Lt(de.stateNode,he.value))return!0;break;case Ks:if((de.tag===5||de.tag===6)&&(de=tt(de),de!==null&&0<=de.indexOf(he.value)))return!0;break;case bo:if(de.tag===5&&(de=de.memoizedProps["data-testname"],typeof de=="string"&&de.toLowerCase()===he.value.toLowerCase()))return!0;break;default:throw Error(oe(365))}return!1}function Ho(de){switch(de.$$typeof){case Ia:return"<"+(ke(de.value)||"Unknown")+">";case ys:return":has("+(Ho(de)||"")+")";case _s:return'[role="'+de.value+'"]';case Ks:return'"'+de.value+'"';case bo:return'[data-testname="'+de.value+'"]';default:throw Error(oe(365))}}function _i(de,he){var be=[];de=[de,0];for(var Ae=0;Ae<de.length;){var Le=de[Ae++],Be=de[Ae++],Qe=he[Be];if(Le.tag!==5||!pt(Le)){for(;Qe!=null&&$a(Le,Qe);)Be++,Qe=he[Be];if(Be===he.length)be.push(Le);else for(Le=Le.child;Le!==null;)de.push(Le,Be),Le=Le.sibling}}return be}function wo(de,he){if(!qt)throw Error(oe(363));de=La(de),de=_i(de,he),he=[],de=Array.from(de);for(var be=0;be<de.length;){var Ae=de[be++];if(Ae.tag===5)pt(Ae)||he.push(Ae.stateNode);else for(Ae=Ae.child;Ae!==null;)de.push(Ae),Ae=Ae.sibling}return he}var Pc=Math.ceil,Da=se.ReactCurrentDispatcher,Hi=se.ReactCurrentOwner,nr=se.ReactCurrentBatchConfig,Vn=0,br=null,rr=null,pr=0,Yr=0,Ss=Sn(0),yr=0,Zs=null,io=0,xi=0,Es=0,Mo=null,Tr=null,Na=0,Wo=1/0;function bs(){Wo=Cr()+500}var Qs=!1,dr=null,Wi=null,Js=!1,oo=null,ws=0,Ms=0,To=null,cr=-1,_r=0;function Qn(){return Vn&6?Cr():cr!==-1?cr:cr=Cr()}function ji(de){return de.mode&1?Vn&2&&pr!==0?pr&-pr:qc.transition!==null?(_r===0&&(de=Qi,Qi<<=1,!(Qi&4194240)&&(Qi=64),_r=de),_r):(de=Xn,de!==0?de:Bt()):1}function Kr(de,he,be){if(50<Ms)throw Ms=0,To=null,Error(oe(185));var Ae=jo(de,he);return Ae===null?null:(Yo(Ae,he,be),(!(Vn&2)||Ae!==br)&&(Ae===br&&(!(Vn&2)&&(xi|=he),yr===4&&Vr(Ae,pr)),di(Ae,be),he===1&&Vn===0&&!(de.mode&1)&&(bs(),sl&&Ri())),Ae)}function jo(de,he){de.lanes|=he;var be=de.alternate;for(be!==null&&(be.lanes|=he),be=de,de=de.return;de!==null;)de.childLanes|=he,be=de.alternate,be!==null&&(be.childLanes|=he),be=de,de=de.return;return be.tag===3?be.stateNode:null}function di(de,he){var be=de.callbackNode;jc(de,he);var Ae=la(de,de===br?pr:0);if(Ae===0)be!==null&&Ls(be),de.callbackNode=null,de.callbackPriority=0;else if(he=Ae&-Ae,de.callbackPriority!==he){if(be!=null&&Ls(be),he===1)de.tag===0?ll(Si.bind(null,de)):al(Si.bind(null,de)),Gt?pn(function(){Vn===0&&Ri()}):Ko(Zo,Ri),be=null;else{switch(co(Ae)){case 1:be=Zo;break;case 4:be=Uu;break;case 16:be=il;break;case 536870912:be=ol;break;default:be=il}be=zl(be,zr.bind(null,de))}de.callbackPriority=he,de.callbackNode=be}}function zr(de,he){if(cr=-1,_r=0,Vn&6)throw Error(oe(327));var be=de.callbackNode;if(so()&&de.callbackNode!==be)return null;var Ae=la(de,de===br?pr:0);if(Ae===0)return null;if(Ae&30||Ae&de.expiredLanes||he)he=Ua(de,Ae);else{he=Ae;var Le=Vn;Vn|=2;var Be=$c();(br!==de||pr!==he)&&(bs(),Ro(de,he));do try{cu();break}catch(ht){Lc(de,ht)}while(!0);ei(),Da.current=Be,Vn=Le,rr!==null?he=0:(br=null,pr=0,he=yr)}if(he!==0){if(he===2&&(Le=tl(de),Le!==0&&(Ae=Le,he=Oa(de,Le))),he===1)throw be=Zs,Ro(de,0),Vr(de,Ae),di(de,Cr()),be;if(he===6)Vr(de,Ae);else{if(Le=de.current.alternate,!(Ae&30)&&!Ic(Le)&&(he=Ua(de,Ae),he===2&&(Be=tl(de),Be!==0&&(Ae=Be,he=Oa(de,Be))),he===1))throw be=Zs,Ro(de,0),Vr(de,Ae),di(de,Cr()),be;switch(de.finishedWork=Le,de.finishedLanes=Ae,he){case 0:case 1:throw Error(oe(345));case 2:qi(de,Tr);break;case 3:if(Vr(de,Ae),(Ae&130023424)===Ae&&(he=Na+500-Cr(),10<he)){if(la(de,0)!==0)break;if(Le=de.suspendedLanes,(Le&Ae)!==Ae){Qn(),de.pingedLanes|=de.suspendedLanes&Le;break}de.timeoutHandle=At(qi.bind(null,de,Tr),he);break}qi(de,Tr);break;case 4:if(Vr(de,Ae),(Ae&4194240)===Ae)break;for(he=de.eventTimes,Le=-1;0<Ae;){var Qe=31-ur(Ae);Be=1<<Qe,Qe=he[Qe],Qe>Le&&(Le=Qe),Ae&=~Be}if(Ae=Le,Ae=Cr()-Ae,Ae=(120>Ae?120:480>Ae?480:1080>Ae?1080:1920>Ae?1920:3e3>Ae?3e3:4320>Ae?4320:1960*Pc(Ae/1960))-Ae,10<Ae){de.timeoutHandle=At(qi.bind(null,de,Tr),Ae);break}qi(de,Tr);break;case 5:qi(de,Tr);break;default:throw Error(oe(329))}}}return di(de,Cr()),de.callbackNode===be?zr.bind(null,de):null}function Oa(de,he){var be=Mo;return de.current.memoizedState.isDehydrated&&(Ro(de,he).flags|=256),de=Ua(de,he),de!==2&&(he=Tr,Tr=be,he!==null&&Fa(he)),de}function Fa(de){Tr===null?Tr=de:Tr.push.apply(Tr,de)}function Ic(de){for(var he=de;;){if(he.flags&16384){var be=he.updateQueue;if(be!==null&&(be=be.stores,be!==null))for(var Ae=0;Ae<be.length;Ae++){var Le=be[Ae],Be=Le.getSnapshot;Le=Le.value;try{if(!Jr(Be(),Le))return!1}catch{return!1}}}if(be=he.child,he.subtreeFlags&16384&&be!==null)be.return=he,he=be;else{if(he===de)break;for(;he.sibling===null;){if(he.return===null||he.return===de)return!0;he=he.return}he.sibling.return=he.return,he=he.sibling}}return!0}function Vr(de,he){for(he&=~Es,he&=~xi,de.suspendedLanes|=he,de.pingedLanes&=~he,de=de.expirationTimes;0<he;){var be=31-ur(he),Ae=1<<be;de[be]=-1,he&=~Ae}}function Si(de){if(Vn&6)throw Error(oe(327));so();var he=la(de,0);if(!(he&1))return di(de,Cr()),null;var be=Ua(de,he);if(de.tag!==0&&be===2){var Ae=tl(de);Ae!==0&&(he=Ae,be=Oa(de,Ae))}if(be===1)throw be=Zs,Ro(de,0),Vr(de,he),di(de,Cr()),be;if(be===6)throw Error(oe(345));return de.finishedWork=de.current.alternate,de.finishedLanes=he,qi(de,Tr),di(de,Cr()),null}function ea(de){oo!==null&&oo.tag===0&&!(Vn&6)&&so();var he=Vn;Vn|=1;var be=nr.transition,Ae=Xn;try{if(nr.transition=null,Xn=1,de)return de()}finally{Xn=Ae,nr.transition=be,Vn=he,!(Vn&6)&&Ri()}}function ka(){Yr=Ss.current,gn(Ss)}function Ro(de,he){de.finishedWork=null,de.finishedLanes=0;var be=de.timeoutHandle;if(be!==jt&&(de.timeoutHandle=jt,kt(be)),rr!==null)for(be=rr.return;be!==null;){var Ae=be;switch(sc(Ae),Ae.tag){case 1:Ae=Ae.type.childContextTypes,Ae!=null&&Mr();break;case 3:zs(),gn(Fn),gn(qn),as();break;case 5:cc(Ae);break;case 4:zs();break;case 13:gn(mr);break;case 19:gn(mr);break;case 10:ha(Ae.type._context);break;case 22:case 23:ka()}be=be.return}if(br=de,rr=de=Ao(de.current,null),pr=Yr=he,yr=0,Zs=null,Es=xi=io=0,Tr=Mo=null,Ai!==null){for(he=0;he<Ai.length;he++)if(be=Ai[he],Ae=be.interleaved,Ae!==null){be.interleaved=null;var Le=Ae.next,Be=be.pending;if(Be!==null){var Qe=Be.next;Be.next=Le,Ae.next=Qe}be.pending=Ae}Ai=null}return de}function Lc(de,he){do{var be=rr;try{if(ei(),ma.current=js,xl){for(var Ae=gr.memoizedState;Ae!==null;){var Le=Ae.queue;Le!==null&&(Le.pending=null),Ae=Ae.next}xl=!1}if(ls=0,$r=Lr=gr=null,to=!1,cs=0,Hi.current=null,be===null||be.return===null){yr=1,Zs=he,rr=null;break}e:{var Be=de,Qe=be.return,ht=be,Dt=he;if(he=pr,ht.flags|=32768,Dt!==null&&typeof Dt=="object"&&typeof Dt.then=="function"){var Kt=Dt,xn=ht,Un=xn.tag;if(!(xn.mode&1)&&(Un===0||Un===11||Un===15)){var Ln=xn.alternate;Ln?(xn.updateQueue=Ln.updateQueue,xn.memoizedState=Ln.memoizedState,xn.lanes=Ln.lanes):(xn.updateQueue=null,xn.memoizedState=null)}var Wn=_c(Qe);if(Wn!==null){Wn.flags&=-257,fs(Wn,Qe,ht,Be,he),Wn.mode&1&&vo(Be,Kt,he),he=Wn,Dt=Kt;var hn=he.updateQueue;if(hn===null){var Gr=new Set;Gr.add(Dt),he.updateQueue=Gr}else hn.add(Dt);break e}else{if(!(he&1)){vo(Be,Kt,he),Bl();break e}Dt=Error(oe(426))}}else if(hr&&ht.mode&1){var bi=_c(Qe);if(bi!==null){!(bi.flags&65536)&&(bi.flags|=256),fs(bi,Qe,ht,Be,he),vl(Dt);break e}}Be=Dt,yr!==4&&(yr=2),Mo===null?Mo=[Be]:Mo.push(Be),Dt=yc(Dt,ht),ht=Qe;do{switch(ht.tag){case 3:ht.flags|=65536,he&=-he,ht.lanes|=he;var bt=su(ht,Dt,he);fl(ht,bt);break e;case 1:Be=Dt;var vt=ht.type,Pt=ht.stateNode;if(!(ht.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||Pt!==null&&typeof Pt.componentDidCatch=="function"&&(Wi===null||!Wi.has(Pt)))){ht.flags|=65536,he&=-he,ht.lanes|=he;var fn=Pl(ht,Be,he);fl(ht,fn);break e}}ht=ht.return}while(ht!==null)}Nc(be)}catch(Tn){he=Tn,rr===be&&be!==null&&(rr=be=be.return);continue}break}while(!0)}function $c(){var de=Da.current;return Da.current=js,de===null?js:de}function Bl(){(yr===0||yr===3||yr===2)&&(yr=4),br===null||!(io&268435455)&&!(xi&268435455)||Vr(br,pr)}function Ua(de,he){var be=Vn;Vn|=2;var Ae=$c();br===de&&pr===he||Ro(de,he);do try{lu();break}catch(Le){Lc(de,Le)}while(!0);if(ei(),Vn=be,Da.current=Ae,rr!==null)throw Error(oe(261));return br=null,pr=0,yr}function lu(){for(;rr!==null;)Dc(rr)}function cu(){for(;rr!==null&&!No();)Dc(rr)}function Dc(de){var he=kc(de.alternate,de,Yr);de.memoizedProps=de.pendingProps,he===null?Nc(de):rr=he,Hi.current=null}function Nc(de){var he=de;do{var be=he.alternate;if(de=he.return,he.flags&32768){if(be=Ol(be,he),be!==null){be.flags&=32767,rr=be;return}if(de!==null)de.flags|=32768,de.subtreeFlags=0,de.deletions=null;else{yr=6,rr=null;return}}else if(be=$l(be,he,Yr),be!==null){rr=be;return}if(he=he.sibling,he!==null){rr=he;return}rr=he=de}while(he!==null);yr===0&&(yr=5)}function qi(de,he){var be=Xn,Ae=nr.transition;try{nr.transition=null,Xn=1,uu(de,he,be)}finally{nr.transition=Ae,Xn=be}return null}function uu(de,he,be){do so();while(oo!==null);if(Vn&6)throw Error(oe(327));var Ae=de.finishedWork,Le=de.finishedLanes;if(Ae===null)return null;if(de.finishedWork=null,de.finishedLanes=0,Ae===de.current)throw Error(oe(177));de.callbackNode=null,de.callbackPriority=0;var Be=Ae.lanes|Ae.childLanes;if(rl(de,Be),de===br&&(rr=br=null,pr=0),!(Ae.subtreeFlags&2064)&&!(Ae.flags&2064)||Js||(Js=!0,zl(il,function(){return so(),null})),Be=(Ae.flags&15990)!==0,Ae.subtreeFlags&15990||Be){Be=nr.transition,nr.transition=null;var Qe=Xn;Xn=1;var ht=Vn;Vn|=4,Hi.current=null,wc(de,Ae),Vu(de,Ae),et(de.containerInfo),de.current=Ae,Ca(Ae),ku(),Vn=ht,Xn=Qe,nr.transition=Be}else de.current=Ae;if(Js&&(Js=!1,oo=de,ws=Le),Be=de.pendingLanes,Be===0&&(Wi=null),ua(Ae.stateNode),di(de,Cr()),he!==null)for(be=de.onRecoverableError,Ae=0;Ae<he.length;Ae++)be(he[Ae]);if(Qs)throw Qs=!1,de=dr,dr=null,de;return ws&1&&de.tag!==0&&so(),Be=de.pendingLanes,Be&1?de===To?Ms++:(Ms=0,To=de):Ms=0,Ri(),null}function so(){if(oo!==null){var de=co(ws),he=nr.transition,be=Xn;try{if(nr.transition=null,Xn=16>de?16:de,oo===null)var Ae=!1;else{if(de=oo,oo=null,ws=0,Vn&6)throw Error(oe(331));var Le=Vn;for(Vn|=4,on=de.current;on!==null;){var Be=on,Qe=Be.child;if(on.flags&16){var ht=Be.deletions;if(ht!==null){for(var Dt=0;Dt<ht.length;Dt++){var Kt=ht[Dt];for(on=Kt;on!==null;){var xn=on;switch(xn.tag){case 0:case 11:case 15:Eo(8,xn,Be)}var Un=xn.child;if(Un!==null)Un.return=xn,on=Un;else for(;on!==null;){xn=on;var Ln=xn.sibling,Wn=xn.return;if(Mc(xn),xn===Kt){on=null;break}if(Ln!==null){Ln.return=Wn,on=Ln;break}on=Wn}}}var hn=Be.alternate;if(hn!==null){var Gr=hn.child;if(Gr!==null){hn.child=null;do{var bi=Gr.sibling;Gr.sibling=null,Gr=bi}while(Gr!==null)}}on=Be}}if(Be.subtreeFlags&2064&&Qe!==null)Qe.return=Be,on=Qe;else e:for(;on!==null;){if(Be=on,Be.flags&2048)switch(Be.tag){case 0:case 11:case 15:Eo(9,Be,Be.return)}var bt=Be.sibling;if(bt!==null){bt.return=Be.return,on=bt;break e}on=Be.return}}var vt=de.current;for(on=vt;on!==null;){Qe=on;var Pt=Qe.child;if(Qe.subtreeFlags&2064&&Pt!==null)Pt.return=Qe,on=Pt;else e:for(Qe=vt;on!==null;){if(ht=on,ht.flags&2048)try{switch(ht.tag){case 0:case 11:case 15:Br(9,ht)}}catch(Tn){oi(ht,ht.return,Tn)}if(ht===Qe){on=null;break e}var fn=ht.sibling;if(fn!==null){fn.return=ht.return,on=fn;break e}on=ht.return}}if(Vn=Le,Ri(),eo&&typeof eo.onPostCommitFiberRoot=="function")try{eo.onPostCommitFiberRoot(ca,de)}catch{}Ae=!0}return Ae}finally{Xn=be,nr.transition=he}}return!1}function Ba(de,he,be){he=yc(be,he),he=su(de,he,1),Oo(de,he),he=Qn(),de=jo(de,1),de!==null&&(Yo(de,1,he),di(de,he))}function oi(de,he,be){if(de.tag===3)Ba(de,de,be);else for(;he!==null;){if(he.tag===3){Ba(he,de,be);break}else if(he.tag===1){var Ae=he.stateNode;if(typeof he.type.getDerivedStateFromError=="function"||typeof Ae.componentDidCatch=="function"&&(Wi===null||!Wi.has(Ae))){de=yc(be,de),de=Pl(he,de,1),Oo(he,de),de=Qn(),he=jo(he,1),he!==null&&(Yo(he,1,de),di(he,de));break}}he=he.return}}function Oc(de,he,be){var Ae=de.pingCache;Ae!==null&&Ae.delete(he),he=Qn(),de.pingedLanes|=de.suspendedLanes&be,br===de&&(pr&be)===be&&(yr===4||yr===3&&(pr&130023424)===pr&&500>Cr()-Na?Ro(de,0):Es|=be),di(de,he)}function Fc(de,he){he===0&&(de.mode&1?(he=Hn,Hn<<=1,!(Hn&130023424)&&(Hn=4194304)):he=1);var be=Qn();de=jo(de,he),de!==null&&(Yo(de,he,be),di(de,be))}function fu(de){var he=de.memoizedState,be=0;he!==null&&(be=he.retryLane),Fc(de,be)}function du(de,he){var be=0;switch(de.tag){case 13:var Ae=de.stateNode,Le=de.memoizedState;Le!==null&&(be=Le.retryLane);break;case 19:Ae=de.stateNode;break;default:throw Error(oe(314))}Ae!==null&&Ae.delete(he),Fc(de,be)}var kc;kc=function(de,he,be){if(de!==null)if(de.memoizedProps!==he.pendingProps||Fn.current)Nr=!0;else{if(!(de.lanes&be)&&!(he.flags&128))return Nr=!1,Nl(de,he,be);Nr=!!(de.flags&131072)}else Nr=!1,hr&&he.flags&1048576&&Qc(he,ml,he.index);switch(he.lanes=0,he.tag){case 2:var Ae=he.type;de!==null&&(de.alternate=null,he.alternate=null,he.flags|=2),de=he.pendingProps;var Le=ir(he,qn.current);$s(he,be),Le=Vs(null,he,Ae,de,Le,be);var Be=Bo();return he.flags|=1,typeof Le=="object"&&Le!==null&&typeof Le.render=="function"&&Le.$$typeof===void 0?(he.tag=1,he.memoizedState=null,he.updateQueue=null,On(Ae)?(Be=!0,Zi(he)):Be=!1,he.memoizedState=Le.state!==null&&Le.state!==void 0?Le.state:null,Ds(he),Le.updater=hl,he.stateNode=Le,Le._reactInternals=he,ic(he,Ae,de,be),he=Xr(null,he,Ae,!0,Be,be)):(he.tag=0,hr&&Be&&oc(he),vr(null,he,Le,be),he=he.child),he;case 16:Ae=he.elementType;e:{switch(de!==null&&(de.alternate=null,he.alternate=null,he.flags|=2),de=he.pendingProps,Le=Ae._init,Ae=Le(Ae._payload),he.type=Ae,Le=he.tag=Gu(Ae),de=li(Ae,de),Le){case 0:he=xo(null,he,Ae,de,be);break e;case 1:he=hs(null,he,Ae,de,be);break e;case 11:he=lr(null,he,Ae,de,be);break e;case 14:he=or(null,he,Ae,li(Ae.type,de),be);break e}throw Error(oe(306,Ae,""))}return he;case 0:return Ae=he.type,Le=he.pendingProps,Le=he.elementType===Ae?Le:li(Ae,Le),xo(de,he,Ae,Le,be);case 1:return Ae=he.type,Le=he.pendingProps,Le=he.elementType===Ae?Le:li(Ae,Le),hs(de,he,Ae,Le,be);case 3:e:{if(Ma(he),de===null)throw Error(oe(387));Ae=he.pendingProps,Be=he.memoizedState,Le=Be.element,tc(de,he),dl(he,Ae,null,be);var Qe=he.memoizedState;if(Ae=Qe.element,Ot&&Be.isDehydrated)if(Be={element:Ae,isDehydrated:!1,cache:Qe.cache,transitions:Qe.transitions},he.updateQueue.baseState=Be,he.memoizedState=Be,he.flags&256){Le=Error(oe(423)),he=Sc(de,he,Ae,be,Le);break e}else if(Ae!==Le){Le=Error(oe(424)),he=Sc(de,he,Ae,be,Le);break e}else for(Ot&&(kr=Xa(he.stateNode.containerInfo),ti=he,hr=!0,Ii=null,Os=!1),be=tu(he,null,Ae,be),he.child=be;be;)be.flags=be.flags&-3|4096,be=be.sibling;else{if(Fs(),Ae===Le){he=fi(de,he,be);break e}vr(de,he,Ae,be)}he=he.child}return he;case 5:return nu(he),de===null&&ko(he),Ae=he.type,Le=he.pendingProps,Be=de!==null?de.memoizedProps:null,Qe=Le.children,St(Ae,Le)?Qe=null:Be!==null&&St(Ae,Be)&&(he.flags|=32),ni(de,he),vr(de,he,Qe,be),he.child;case 6:return de===null&&ko(he),null;case 13:return Ec(de,he,be);case 4:return yl(he,he.stateNode.containerInfo),Ae=he.pendingProps,de===null?he.child=mo(he,null,Ae,be):vr(de,he,Ae,be),he.child;case 11:return Ae=he.type,Le=he.pendingProps,Le=he.elementType===Ae?Le:li(Ae,Le),lr(de,he,Ae,Le,be);case 7:return vr(de,he,he.pendingProps,be),he.child;case 8:return vr(de,he,he.pendingProps.children,be),he.child;case 12:return vr(de,he,he.pendingProps.children,be),he.child;case 10:e:{if(Ae=he.type._context,Le=he.pendingProps,Be=he.memoizedProps,Qe=Le.value,Jo(he,Ae,Qe),Be!==null)if(Jr(Be.value,Qe)){if(Be.children===Le.children&&!Fn.current){he=fi(de,he,be);break e}}else for(Be=he.child,Be!==null&&(Be.return=he);Be!==null;){var ht=Be.dependencies;if(ht!==null){Qe=Be.child;for(var Dt=ht.firstContext;Dt!==null;){if(Dt.context===Ae){if(Be.tag===1){Dt=fo(-1,be&-be),Dt.tag=2;var Kt=Be.updateQueue;if(Kt!==null){Kt=Kt.shared;var xn=Kt.pending;xn===null?Dt.next=Dt:(Dt.next=xn.next,xn.next=Dt),Kt.pending=Dt}}Be.lanes|=be,Dt=Be.alternate,Dt!==null&&(Dt.lanes|=be),ts(Be.return,be,he),ht.lanes|=be;break}Dt=Dt.next}}else if(Be.tag===10)Qe=Be.type===he.type?null:Be.child;else if(Be.tag===18){if(Qe=Be.return,Qe===null)throw Error(oe(341));Qe.lanes|=be,ht=Qe.alternate,ht!==null&&(ht.lanes|=be),ts(Qe,be,he),Qe=Be.sibling}else Qe=Be.child;if(Qe!==null)Qe.return=Be;else for(Qe=Be;Qe!==null;){if(Qe===he){Qe=null;break}if(Be=Qe.sibling,Be!==null){Be.return=Qe.return,Qe=Be;break}Qe=Qe.return}Be=Qe}vr(de,he,Le.children,be),he=he.child}return he;case 9:return Le=he.type,Ae=he.pendingProps.children,$s(he,be),Le=ci(Le),Ae=Ae(Le),he.flags|=1,vr(de,he,Ae,be),he.child;case 14:return Ae=he.type,Le=li(Ae,he.pendingProps),Le=li(Ae.type,Le),or(de,he,Ae,Le,be);case 15:return _o(de,he,he.type,he.pendingProps,be);case 17:return Ae=he.type,Le=he.pendingProps,Le=he.elementType===Ae?Le:li(Ae,Le),de!==null&&(de.alternate=null,he.alternate=null,he.flags|=2),he.tag=1,On(Ae)?(de=!0,Zi(he)):de=!1,$s(he,be),Kc(he,Ae,Le),ic(he,Ae,Le,be),Xr(null,he,Ae,!0,de,be);case 19:return ms(de,he,be);case 22:return Ur(de,he,be)}throw Error(oe(156,he.tag))};function zl(de,he){return Ko(de,he)}function hu(de,he,be,Ae){this.tag=de,this.key=be,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=he,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ae,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(de,he,be,Ae){return new hu(de,he,be,Ae)}function Vl(de){return de=de.prototype,!(!de||!de.isReactComponent)}function Gu(de){if(typeof de=="function")return Vl(de)?1:0;if(de!=null){if(de=de.$$typeof,de===Ee)return 11;if(de===Te)return 14}return 2}function Ao(de,he){var be=de.alternate;return be===null?(be=Ei(de.tag,he,de.key,de.mode),be.elementType=de.elementType,be.type=de.type,be.stateNode=de.stateNode,be.alternate=de,de.alternate=be):(be.pendingProps=he,be.type=de.type,be.flags=0,be.subtreeFlags=0,be.deletions=null),be.flags=de.flags&14680064,be.childLanes=de.childLanes,be.lanes=de.lanes,be.child=de.child,be.memoizedProps=de.memoizedProps,be.memoizedState=de.memoizedState,be.updateQueue=de.updateQueue,he=de.dependencies,be.dependencies=he===null?null:{lanes:he.lanes,firstContext:he.firstContext},be.sibling=de.sibling,be.index=de.index,be.ref=de.ref,be}function Gl(de,he,be,Ae,Le,Be){var Qe=2;if(Ae=de,typeof de=="function")Vl(de)&&(Qe=1);else if(typeof de=="string")Qe=5;else e:switch(de){case fe:return Ts(be.children,Le,Be,he);case pe:Qe=8,Le|=8;break;case me:return de=Ei(12,be,he,Le|2),de.elementType=me,de.lanes=Be,de;case Se:return de=Ei(13,be,he,Le),de.elementType=Se,de.lanes=Be,de;case _e:return de=Ei(19,be,he,Le),de.elementType=_e,de.lanes=Be,de;case Pe:return za(be,Le,Be,he);default:if(typeof de=="object"&&de!==null)switch(de.$$typeof){case ve:Qe=10;break e;case ye:Qe=9;break e;case Ee:Qe=11;break e;case Te:Qe=14;break e;case Re:Qe=16,Ae=null;break e}throw Error(oe(130,de==null?de:typeof de,""))}return he=Ei(Qe,be,he,Le),he.elementType=de,he.type=Ae,he.lanes=Be,he}function Ts(de,he,be,Ae){return de=Ei(7,de,Ae,he),de.lanes=be,de}function za(de,he,be,Ae){return de=Ei(22,de,Ae,he),de.elementType=Pe,de.lanes=be,de.stateNode={},de}function Hl(de,he,be){return de=Ei(6,de,null,he),de.lanes=be,de}function Wl(de,he,be){return he=Ei(4,de.children!==null?de.children:[],de.key,he),he.lanes=be,he.stateNode={containerInfo:de.containerInfo,pendingChildren:null,implementation:de.implementation},he}function jl(de,he,be,Ae,Le){this.tag=he,this.containerInfo=de,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=jt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=Ae,this.onRecoverableError=Le,Ot&&(this.mutableSourceEagerHydrationData=null)}function pu(de,he,be,Ae,Le,Be,Qe,ht,Dt){return de=new jl(de,he,be,ht,Dt),he===1?(he=1,Be===!0&&(he|=8)):he=0,Be=Ei(3,null,null,he),de.current=Be,Be.stateNode=de,Be.memoizedState={element:Ae,isDehydrated:be,cache:null,transitions:null},Ds(Be),de}function mu(de){if(!de)return jn;de=de._reactInternals;e:{if(Ue(de)!==de||de.tag!==1)throw Error(oe(170));var he=de;do{switch(he.tag){case 3:he=he.stateNode.context;break e;case 1:if(On(he.type)){he=he.stateNode.__reactInternalMemoizedMergedChildContext;break e}}he=he.return}while(he!==null);throw Error(oe(171))}if(de.tag===1){var be=de.type;if(On(be))return Wr(de,be,he)}return he}function gu(de){var he=de._reactInternals;if(he===void 0)throw typeof de.render=="function"?Error(oe(188)):(de=Object.keys(de).join(","),Error(oe(268,de)));return de=Ye(he),de===null?null:de.stateNode}function Di(de,he){if(de=de.memoizedState,de!==null&&de.dehydrated!==null){var be=de.retryLane;de.retryLane=be!==0&&be<he?be:he}}function Va(de,he){Di(de,he),(de=de.alternate)&&Di(de,he)}function ql(de){return de=Ye(de),de===null?null:de.stateNode}function vu(){return null}return K.attemptContinuousHydration=function(de){if(de.tag===13){var he=Qn();Kr(de,134217728,he),Va(de,134217728)}},K.attemptHydrationAtCurrentPriority=function(de){if(de.tag===13){var he=Qn(),be=ji(de);Kr(de,be,he),Va(de,be)}},K.attemptSynchronousHydration=function(de){switch(de.tag){case 3:var he=de.stateNode;if(he.current.memoizedState.isDehydrated){var be=Is(he.pendingLanes);be!==0&&(Ji(he,be|1),di(he,Cr()),!(Vn&6)&&(bs(),Ri()))}break;case 13:var Ae=Qn();ea(function(){return Kr(de,1,Ae)}),Va(de,1)}},K.batchedUpdates=function(de,he){var be=Vn;Vn|=1;try{return de(he)}finally{Vn=be,Vn===0&&(bs(),sl&&Ri())}},K.createComponentSelector=function(de){return{$$typeof:Ia,value:de}},K.createContainer=function(de,he,be,Ae,Le,Be,Qe){return pu(de,he,!1,null,be,Ae,Le,Be,Qe)},K.createHasPseudoClassSelector=function(de){return{$$typeof:ys,value:de}},K.createHydrationContainer=function(de,he,be,Ae,Le,Be,Qe,ht,Dt){return de=pu(be,Ae,!0,de,Le,Be,Qe,ht,Dt),de.context=mu(null),be=de.current,Ae=Qn(),Le=ji(be),Be=fo(Ae,Le),Be.callback=he??null,Oo(be,Be),de.current.lanes=Le,Yo(de,Le,Ae),di(de,Ae),de},K.createPortal=function(de,he,be){var Ae=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:Ae==null?null:""+Ae,children:de,containerInfo:he,implementation:be}},K.createRoleSelector=function(de){return{$$typeof:_s,value:de}},K.createTestNameSelector=function(de){return{$$typeof:bo,value:de}},K.createTextSelector=function(de){return{$$typeof:Ks,value:de}},K.deferredUpdates=function(de){var he=Xn,be=nr.transition;try{return nr.transition=null,Xn=16,de()}finally{Xn=he,nr.transition=be}},K.discreteUpdates=function(de,he,be,Ae,Le){var Be=Xn,Qe=nr.transition;try{return nr.transition=null,Xn=1,de(he,be,Ae,Le)}finally{Xn=Be,nr.transition=Qe,Vn===0&&bs()}},K.findAllNodes=wo,K.findBoundingRects=function(de,he){if(!qt)throw Error(oe(363));he=wo(de,he),de=[];for(var be=0;be<he.length;be++)de.push(He(he[be]));for(he=de.length-1;0<he;he--){be=de[he];for(var Ae=be.x,Le=Ae+be.width,Be=be.y,Qe=Be+be.height,ht=he-1;0<=ht;ht--)if(he!==ht){var Dt=de[ht],Kt=Dt.x,xn=Kt+Dt.width,Un=Dt.y,Ln=Un+Dt.height;if(Ae>=Kt&&Be>=Un&&Le<=xn&&Qe<=Ln){de.splice(he,1);break}else if(Ae!==Kt||be.width!==Dt.width||Ln<Be||Un>Qe){if(!(Be!==Un||be.height!==Dt.height||xn<Ae||Kt>Le)){Kt>Ae&&(Dt.width+=Kt-Ae,Dt.x=Ae),xn<Le&&(Dt.width=Le-Kt),de.splice(he,1);break}}else{Un>Be&&(Dt.height+=Un-Be,Dt.y=Be),Ln<Qe&&(Dt.height=Qe-Un),de.splice(he,1);break}}}return de},K.findHostInstance=gu,K.findHostInstanceWithNoPortals=function(de){return de=Ve(de),de=de!==null?rt(de):null,de===null?null:de.stateNode},K.findHostInstanceWithWarning=function(de){return gu(de)},K.flushControlled=function(de){var he=Vn;Vn|=1;var be=nr.transition,Ae=Xn;try{nr.transition=null,Xn=1,de()}finally{Xn=Ae,nr.transition=be,Vn=he,Vn===0&&(bs(),Ri())}},K.flushPassiveEffects=so,K.flushSync=ea,K.focusWithin=function(de,he){if(!qt)throw Error(oe(363));for(de=La(de),he=_i(de,he),he=Array.from(he),de=0;de<he.length;){var be=he[de++];if(!pt(be)){if(be.tag===5&&Ct(be.stateNode))return!0;for(be=be.child;be!==null;)he.push(be),be=be.sibling}}return!1},K.getCurrentUpdatePriority=function(){return Xn},K.getFindAllNodesFailureDescription=function(de,he){if(!qt)throw Error(oe(363));var be=0,Ae=[];de=[La(de),0];for(var Le=0;Le<de.length;){var Be=de[Le++],Qe=de[Le++],ht=he[Qe];if((Be.tag!==5||!pt(Be))&&($a(Be,ht)&&(Ae.push(Ho(ht)),Qe++,Qe>be&&(be=Qe)),Qe<he.length))for(Be=Be.child;Be!==null;)de.push(Be,Qe),Be=Be.sibling}if(be<he.length){for(de=[];be<he.length;be++)de.push(Ho(he[be]));return`findAllNodes was able to match part of the selector:
  `+(Ae.join(" > ")+`

No matching component was found for:
  `)+de.join(" > ")}return null},K.getPublicRootInstance=function(de){if(de=de.current,!de.child)return null;switch(de.child.tag){case 5:return at(de.child.stateNode);default:return de.child.stateNode}},K.injectIntoDevTools=function(de){if(de={bundleType:de.bundleType,version:de.version,rendererPackageName:de.rendererPackageName,rendererConfig:de.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:ql,findFiberByHostInstance:de.findFiberByHostInstance||vu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")de=!1;else{var he=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(he.isDisabled||!he.supportsFiber)de=!0;else{try{ca=he.inject(de),eo=he}catch{}de=!!he.checkDCE}}return de},K.isAlreadyRendering=function(){return!1},K.observeVisibleRects=function(de,he,be,Ae){if(!qt)throw Error(oe(363));de=wo(de,he);var Le=nn(de,be,Ae).disconnect;return{disconnect:function(){Le()}}},K.registerMutableSourceForHydration=function(de,he){var be=he._getVersion;be=be(he._source),de.mutableSourceEagerHydrationData==null?de.mutableSourceEagerHydrationData=[he,be]:de.mutableSourceEagerHydrationData.push(he,be)},K.runWithPriority=function(de,he){var be=Xn;try{return Xn=de,he()}finally{Xn=be}},K.shouldError=function(){return null},K.shouldSuspend=function(){return!1},K.updateContainer=function(de,he,be,Ae){var Le=he.current,Be=Qn(),Qe=ji(Le);return be=mu(be),he.context===null?he.context=be:he.pendingContext=be,he=fo(Be,Qe),he.payload={element:de},Ae=Ae===void 0?null:Ae,Ae!==null&&(he.callback=Ae),Oo(Le,he),de=Kr(Le,Qe,Be),de!==null&&ul(de,Le,Qe),Qe},K}),reactReconciler_production_min}var hasRequiredReactReconciler;function requireReactReconciler(){return hasRequiredReactReconciler||(hasRequiredReactReconciler=1,reactReconciler.exports=requireReactReconciler_production_min()),reactReconciler.exports}var reactReconcilerExports=requireReactReconciler();const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var schedulerExports=requireScheduler();const catalogue={},extend=Z=>void Object.assign(catalogue,Z);function createRenderer(Z,_){function K(fe,{args:pe=[],attach:me,...ve},ye){let Ee=`${fe[0].toUpperCase()}${fe.slice(1)}`,Se;if(fe==="primitive"){if(ve.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _e=ve.object;Se=prepare(_e,{type:fe,root:ye,attach:me,primitive:!0})}else{const _e=catalogue[Ee];if(!_e)throw new Error(`R3F: ${Ee} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(pe))throw new Error("R3F: The args prop must be an array!");Se=prepare(new _e(...pe),{type:fe,root:ye,attach:me,memoizedProps:{args:pe}})}return Se.__r3f.attach===void 0&&(Se.isBufferGeometry?Se.__r3f.attach="geometry":Se.isMaterial&&(Se.__r3f.attach="material")),Ee!=="inject"&&applyProps$1(Se,ve),Se}function te(fe,pe){let me=!1;if(pe){var ve,ye;(ve=pe.__r3f)!=null&&ve.attach?attach(fe,pe,pe.__r3f.attach):pe.isObject3D&&fe.isObject3D&&(fe.add(pe),me=!0),me||(ye=fe.__r3f)==null||ye.objects.push(pe),pe.__r3f||prepare(pe,{}),pe.__r3f.parent=fe,updateInstance(pe),invalidateInstance(pe)}}function ne(fe,pe,me){let ve=!1;if(pe){var ye,Ee;if((ye=pe.__r3f)!=null&&ye.attach)attach(fe,pe,pe.__r3f.attach);else if(pe.isObject3D&&fe.isObject3D){pe.parent=fe,pe.dispatchEvent({type:"added"}),fe.dispatchEvent({type:"childadded",child:pe});const Se=fe.children.filter(Te=>Te!==pe),_e=Se.indexOf(me);fe.children=[...Se.slice(0,_e),pe,...Se.slice(_e)],ve=!0}ve||(Ee=fe.__r3f)==null||Ee.objects.push(pe),pe.__r3f||prepare(pe,{}),pe.__r3f.parent=fe,updateInstance(pe),invalidateInstance(pe)}}function ie(fe,pe,me=!1){fe&&[...fe].forEach(ve=>oe(pe,ve,me))}function oe(fe,pe,me){if(pe){var ve,ye,Ee;if(pe.__r3f&&(pe.__r3f.parent=null),(ve=fe.__r3f)!=null&&ve.objects&&(fe.__r3f.objects=fe.__r3f.objects.filter(Pe=>Pe!==pe)),(ye=pe.__r3f)!=null&&ye.attach)detach(fe,pe,pe.__r3f.attach);else if(pe.isObject3D&&fe.isObject3D){var Se;fe.remove(pe),(Se=pe.__r3f)!=null&&Se.root&&removeInteractivity(findInitialRoot(pe),pe)}const Te=(Ee=pe.__r3f)==null?void 0:Ee.primitive,Re=!Te&&(me===void 0?pe.dispose!==null:me);if(!Te){var _e;ie((_e=pe.__r3f)==null?void 0:_e.objects,pe,Re),ie(pe.children,pe,Re)}if(delete pe.__r3f,Re&&pe.dispose&&pe.type!=="Scene"){const Pe=()=>{try{pe.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,Pe):Pe()}invalidateInstance(fe)}}function se(fe,pe,me,ve){var ye;const Ee=(ye=fe.__r3f)==null?void 0:ye.parent;if(!Ee)return;const Se=K(pe,me,fe.__r3f.root);if(fe.children){for(const _e of fe.children)_e.__r3f&&te(Se,_e);fe.children=fe.children.filter(_e=>!_e.__r3f)}fe.__r3f.objects.forEach(_e=>te(Se,_e)),fe.__r3f.objects=[],fe.__r3f.autoRemovedBeforeAppend||oe(Ee,fe),Se.parent&&(Se.__r3f.autoRemovedBeforeAppend=!0),te(Ee,Se),Se.raycast&&Se.__r3f.eventCount&&findInitialRoot(Se).getState().internal.interaction.push(Se),[ve,ve.alternate].forEach(_e=>{_e!==null&&(_e.stateNode=Se,_e.ref&&(typeof _e.ref=="function"?_e.ref(Se):_e.ref.current=Se))})}const le=()=>{};return{reconciler:Reconciler({createInstance:K,removeChild:oe,appendChild:te,appendInitialChild:te,insertBefore:ne,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(fe,pe)=>{if(!pe)return;const me=fe.getState().scene;me.__r3f&&(me.__r3f.root=fe,te(me,pe))},removeChildFromContainer:(fe,pe)=>{pe&&oe(fe.getState().scene,pe)},insertInContainerBefore:(fe,pe,me)=>{if(!pe||!me)return;const ve=fe.getState().scene;ve.__r3f&&ne(ve,pe,me)},getRootHostContext:()=>null,getChildHostContext:fe=>fe,finalizeInitialChildren(fe){var pe;return!!((pe=fe==null?void 0:fe.__r3f)!=null?pe:{}).handlers},prepareUpdate(fe,pe,me,ve){var ye;if(((ye=fe==null?void 0:fe.__r3f)!=null?ye:{}).primitive&&ve.object&&ve.object!==fe)return[!0];{const{args:Se=[],children:_e,...Te}=ve,{args:Re=[],children:Pe,...Fe}=me;if(!Array.isArray(Se))throw new Error("R3F: the args prop must be an array!");if(Se.some((ke,ze)=>ke!==Re[ze]))return[!0];const $e=diffProps(fe,Te,Fe,!0);return $e.changes.length?[!1,$e]:null}},commitUpdate(fe,[pe,me],ve,ye,Ee,Se){pe?se(fe,ve,Ee,Se):applyProps$1(fe,me)},commitMount(fe,pe,me,ve){var ye;const Ee=(ye=fe.__r3f)!=null?ye:{};fe.raycast&&Ee.handlers&&Ee.eventCount&&findInitialRoot(fe).getState().internal.interaction.push(fe)},getPublicInstance:fe=>fe,prepareForCommit:()=>null,preparePortalMount:fe=>prepare(fe.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(fe){var pe;const{attach:me,parent:ve}=(pe=fe.__r3f)!=null?pe:{};me&&ve&&detach(ve,fe,me),fe.isObject3D&&(fe.visible=!1),invalidateInstance(fe)},unhideInstance(fe,pe){var me;const{attach:ve,parent:ye}=(me=fe.__r3f)!=null?me:{};ve&&ye&&attach(ye,fe,ve),(fe.isObject3D&&pe.visible==null||pe.visible)&&(fe.visible=!0),invalidateInstance(fe)},createTextInstance:le,hideTextInstance:le,unhideTextInstance:le,getCurrentEventPriority:()=>_?_():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=Z=>"colorSpace"in Z||"outputColorSpace"in Z,getColorManagement=()=>{var Z;return(Z=catalogue.ColorManagement)!=null?Z:null},isOrthographicCamera=Z=>Z&&Z.isOrthographicCamera,isRef=Z=>Z&&Z.hasOwnProperty("current"),useIsomorphicLayoutEffect$2=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(Z){const _=reactExports.useRef(Z);return useIsomorphicLayoutEffect$2(()=>void(_.current=Z),[Z]),_}function Block({set:Z}){return useIsomorphicLayoutEffect$2(()=>(Z(new Promise(()=>null)),()=>Z(!1)),[Z]),null}class ErrorBoundary extends reactExports.Component{constructor(..._){super(..._),this.state={error:!1}}componentDidCatch(_){this.props.set(_)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=Z=>Z&&!!Z.memoized&&!!Z.changes;function calculateDpr(Z){var _;const K=typeof window<"u"?(_=window.devicePixelRatio)!=null?_:2:1;return Array.isArray(Z)?Math.min(Math.max(Z[0],K),Z[1]):Z}const getRootState=Z=>{var _;return(_=Z.__r3f)==null?void 0:_.root.getState()};function findInitialRoot(Z){let _=Z.__r3f.root;for(;_.getState().previousRoot;)_=_.getState().previousRoot;return _}const is={obj:Z=>Z===Object(Z)&&!is.arr(Z)&&typeof Z!="function",fun:Z=>typeof Z=="function",str:Z=>typeof Z=="string",num:Z=>typeof Z=="number",boo:Z=>typeof Z=="boolean",und:Z=>Z===void 0,arr:Z=>Array.isArray(Z),equ(Z,_,{arrays:K="shallow",objects:te="reference",strict:ne=!0}={}){if(typeof Z!=typeof _||!!Z!=!!_)return!1;if(is.str(Z)||is.num(Z)||is.boo(Z))return Z===_;const ie=is.obj(Z);if(ie&&te==="reference")return Z===_;const oe=is.arr(Z);if(oe&&K==="reference")return Z===_;if((oe||ie)&&Z===_)return!0;let se;for(se in Z)if(!(se in _))return!1;if(ie&&K==="shallow"&&te==="shallow"){for(se in ne?_:Z)if(!is.equ(Z[se],_[se],{strict:ne,objects:"reference"}))return!1}else for(se in ne?_:Z)if(Z[se]!==_[se])return!1;if(is.und(se)){if(oe&&Z.length===0&&_.length===0||ie&&Object.keys(Z).length===0&&Object.keys(_).length===0)return!0;if(Z!==_)return!1}return!0}};function buildGraph(Z){const _={nodes:{},materials:{}};return Z&&Z.traverse(K=>{K.name&&(_.nodes[K.name]=K),K.material&&!_.materials[K.material.name]&&(_.materials[K.material.name]=K.material)}),_}function dispose(Z){Z.dispose&&Z.type!=="Scene"&&Z.dispose();for(const _ in Z)_.dispose==null||_.dispose(),delete Z[_]}function prepare(Z,_){const K=Z;return K.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,..._},Z}function resolve(Z,_){let K=Z;if(_.includes("-")){const te=_.split("-"),ne=te.pop();return K=te.reduce((ie,oe)=>ie[oe],Z),{target:K,key:ne}}else return{target:K,key:_}}const INDEX_REGEX=/-\d+$/;function attach(Z,_,K){if(is.str(K)){if(INDEX_REGEX.test(K)){const ie=K.replace(INDEX_REGEX,""),{target:oe,key:se}=resolve(Z,ie);Array.isArray(oe[se])||(oe[se]=[])}const{target:te,key:ne}=resolve(Z,K);_.__r3f.previousAttach=te[ne],te[ne]=_}else _.__r3f.previousAttach=K(Z,_)}function detach(Z,_,K){var te,ne;if(is.str(K)){const{target:ie,key:oe}=resolve(Z,K),se=_.__r3f.previousAttach;se===void 0?delete ie[oe]:ie[oe]=se}else(te=_.__r3f)==null||te.previousAttach==null||te.previousAttach(Z,_);(ne=_.__r3f)==null||delete ne.previousAttach}function diffProps(Z,{children:_,key:K,ref:te,...ne},{children:ie,key:oe,ref:se,...le}={},ce=!1){const fe=Z.__r3f,pe=Object.entries(ne),me=[];if(ce){const ye=Object.keys(le);for(let Ee=0;Ee<ye.length;Ee++)ne.hasOwnProperty(ye[Ee])||pe.unshift([ye[Ee],DEFAULT+"remove"])}pe.forEach(([ye,Ee])=>{var Se;if((Se=Z.__r3f)!=null&&Se.primitive&&ye==="object"||is.equ(Ee,le[ye]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ye))return me.push([ye,Ee,!0,[]]);let _e=[];ye.includes("-")&&(_e=ye.split("-")),me.push([ye,Ee,!1,_e]);for(const Te in ne){const Re=ne[Te];Te.startsWith(`${ye}-`)&&me.push([Te,Re,!1,Te.split("-")])}});const ve={...ne};return fe!=null&&fe.memoizedProps&&fe!=null&&fe.memoizedProps.args&&(ve.args=fe.memoizedProps.args),fe!=null&&fe.memoizedProps&&fe!=null&&fe.memoizedProps.attach&&(ve.attach=fe.memoizedProps.attach),{memoized:ve,changes:me}}function applyProps$1(Z,_){var K;const te=Z.__r3f,ne=te==null?void 0:te.root,ie=ne==null||ne.getState==null?void 0:ne.getState(),{memoized:oe,changes:se}=isDiffSet(_)?_:diffProps(Z,_),le=te==null?void 0:te.eventCount;Z.__r3f&&(Z.__r3f.memoizedProps=oe);for(let me=0;me<se.length;me++){let[ve,ye,Ee,Se]=se[me];if(hasColorSpace(Z)){const Pe="srgb",Fe="srgb-linear";ve==="encoding"?(ve="colorSpace",ye=ye===3001?Pe:Fe):ve==="outputEncoding"&&(ve="outputColorSpace",ye=ye===3001?Pe:Fe)}let _e=Z,Te=_e[ve];if(Se.length&&(Te=Se.reduce((Re,Pe)=>Re[Pe],Z),!(Te&&Te.set))){const[Re,...Pe]=Se.reverse();_e=Pe.reverse().reduce((Fe,$e)=>Fe[$e],Z),ve=Re}if(ye===DEFAULT+"remove")if(_e.constructor){let Re=DEFAULTS.get(_e.constructor);Re||(Re=new _e.constructor,DEFAULTS.set(_e.constructor,Re)),ye=Re[ve]}else ye=0;if(Ee&&te)ye?te.handlers[ve]=ye:delete te.handlers[ve],te.eventCount=Object.keys(te.handlers).length;else if(Te&&Te.set&&(Te.copy||Te instanceof Layers)){if(Array.isArray(ye))Te.fromArray?Te.fromArray(ye):Te.set(...ye);else if(Te.copy&&ye&&ye.constructor&&Te.constructor===ye.constructor)Te.copy(ye);else if(ye!==void 0){var ce;const Re=(ce=Te)==null?void 0:ce.isColor;!Re&&Te.setScalar?Te.setScalar(ye):Te instanceof Layers&&ye instanceof Layers?Te.mask=ye.mask:Te.set(ye),!getColorManagement()&&ie&&!ie.linear&&Re&&Te.convertSRGBToLinear()}}else{var fe;if(_e[ve]=ye,(fe=_e[ve])!=null&&fe.isTexture&&_e[ve].format===RGBAFormat&&_e[ve].type===UnsignedByteType&&ie){const Re=_e[ve];hasColorSpace(Re)&&hasColorSpace(ie.gl)?Re.colorSpace=ie.gl.outputColorSpace:Re.encoding=ie.gl.outputEncoding}}invalidateInstance(Z)}if(te&&te.parent&&Z.raycast&&le!==te.eventCount){const me=findInitialRoot(Z).getState().internal,ve=me.interaction.indexOf(Z);ve>-1&&me.interaction.splice(ve,1),te.eventCount&&me.interaction.push(Z)}return!(se.length===1&&se[0][0]==="onUpdate")&&se.length&&(K=Z.__r3f)!=null&&K.parent&&updateInstance(Z),Z}function invalidateInstance(Z){var _,K;const te=(_=Z.__r3f)==null||(K=_.root)==null||K.getState==null?void 0:K.getState();te&&te.internal.frames===0&&te.invalidate()}function updateInstance(Z){Z.onUpdate==null||Z.onUpdate(Z)}function updateCamera(Z,_){Z.manual||(isOrthographicCamera(Z)?(Z.left=_.width/-2,Z.right=_.width/2,Z.top=_.height/2,Z.bottom=_.height/-2):Z.aspect=_.width/_.height,Z.updateProjectionMatrix(),Z.updateMatrixWorld())}function makeId(Z){return(Z.eventObject||Z.object).uuid+"/"+Z.index+Z.instanceId}function getEventPriority(){var Z;const _=typeof self<"u"&&self||typeof window<"u"&&window;if(!_)return constantsExports.DefaultEventPriority;switch((Z=_.event)==null?void 0:Z.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(Z,_,K,te){const ne=K.get(_);ne&&(K.delete(_),K.size===0&&(Z.delete(te),ne.target.releasePointerCapture(te)))}function removeInteractivity(Z,_){const{internal:K}=Z.getState();K.interaction=K.interaction.filter(te=>te!==_),K.initialHits=K.initialHits.filter(te=>te!==_),K.hovered.forEach((te,ne)=>{(te.eventObject===_||te.object===_)&&K.hovered.delete(ne)}),K.capturedMap.forEach((te,ne)=>{releaseInternalPointerCapture(K.capturedMap,_,te,ne)})}function createEvents(Z){function _(le){const{internal:ce}=Z.getState(),fe=le.offsetX-ce.initialClick[0],pe=le.offsetY-ce.initialClick[1];return Math.round(Math.sqrt(fe*fe+pe*pe))}function K(le){return le.filter(ce=>["Move","Over","Enter","Out","Leave"].some(fe=>{var pe;return(pe=ce.__r3f)==null?void 0:pe.handlers["onPointer"+fe]}))}function te(le,ce){const fe=Z.getState(),pe=new Set,me=[],ve=ce?ce(fe.internal.interaction):fe.internal.interaction;for(let _e=0;_e<ve.length;_e++){const Te=getRootState(ve[_e]);Te&&(Te.raycaster.camera=void 0)}fe.previousRoot||fe.events.compute==null||fe.events.compute(le,fe);function ye(_e){const Te=getRootState(_e);if(!Te||!Te.events.enabled||Te.raycaster.camera===null)return[];if(Te.raycaster.camera===void 0){var Re;Te.events.compute==null||Te.events.compute(le,Te,(Re=Te.previousRoot)==null?void 0:Re.getState()),Te.raycaster.camera===void 0&&(Te.raycaster.camera=null)}return Te.raycaster.camera?Te.raycaster.intersectObject(_e,!0):[]}let Ee=ve.flatMap(ye).sort((_e,Te)=>{const Re=getRootState(_e.object),Pe=getRootState(Te.object);return!Re||!Pe?_e.distance-Te.distance:Pe.events.priority-Re.events.priority||_e.distance-Te.distance}).filter(_e=>{const Te=makeId(_e);return pe.has(Te)?!1:(pe.add(Te),!0)});fe.events.filter&&(Ee=fe.events.filter(Ee,fe));for(const _e of Ee){let Te=_e.object;for(;Te;){var Se;(Se=Te.__r3f)!=null&&Se.eventCount&&me.push({..._e,eventObject:Te}),Te=Te.parent}}if("pointerId"in le&&fe.internal.capturedMap.has(le.pointerId))for(let _e of fe.internal.capturedMap.get(le.pointerId).values())pe.has(makeId(_e.intersection))||me.push(_e.intersection);return me}function ne(le,ce,fe,pe){const me=Z.getState();if(le.length){const ve={stopped:!1};for(const ye of le){const Ee=getRootState(ye.object)||me,{raycaster:Se,pointer:_e,camera:Te,internal:Re}=Ee,Pe=new Vector3(_e.x,_e.y,0).unproject(Te),Fe=Oe=>{var Ve,Ye;return(Ve=(Ye=Re.capturedMap.get(Oe))==null?void 0:Ye.has(ye.eventObject))!=null?Ve:!1},$e=Oe=>{const Ve={intersection:ye,target:ce.target};Re.capturedMap.has(Oe)?Re.capturedMap.get(Oe).set(ye.eventObject,Ve):Re.capturedMap.set(Oe,new Map([[ye.eventObject,Ve]])),ce.target.setPointerCapture(Oe)},ke=Oe=>{const Ve=Re.capturedMap.get(Oe);Ve&&releaseInternalPointerCapture(Re.capturedMap,ye.eventObject,Ve,Oe)};let ze={};for(let Oe in ce){let Ve=ce[Oe];typeof Ve!="function"&&(ze[Oe]=Ve)}let Ue={...ye,...ze,pointer:_e,intersections:le,stopped:ve.stopped,delta:fe,unprojectedPoint:Pe,ray:Se.ray,camera:Te,stopPropagation(){const Oe="pointerId"in ce&&Re.capturedMap.get(ce.pointerId);if((!Oe||Oe.has(ye.eventObject))&&(Ue.stopped=ve.stopped=!0,Re.hovered.size&&Array.from(Re.hovered.values()).find(Ve=>Ve.eventObject===ye.eventObject))){const Ve=le.slice(0,le.indexOf(ye));ie([...Ve,ye])}},target:{hasPointerCapture:Fe,setPointerCapture:$e,releasePointerCapture:ke},currentTarget:{hasPointerCapture:Fe,setPointerCapture:$e,releasePointerCapture:ke},nativeEvent:ce};if(pe(Ue),ve.stopped===!0)break}}return le}function ie(le){const{internal:ce}=Z.getState();for(const fe of ce.hovered.values())if(!le.length||!le.find(pe=>pe.object===fe.object&&pe.index===fe.index&&pe.instanceId===fe.instanceId)){const me=fe.eventObject.__r3f,ve=me==null?void 0:me.handlers;if(ce.hovered.delete(makeId(fe)),me!=null&&me.eventCount){const ye={...fe,intersections:le};ve.onPointerOut==null||ve.onPointerOut(ye),ve.onPointerLeave==null||ve.onPointerLeave(ye)}}}function oe(le,ce){for(let fe=0;fe<ce.length;fe++){const pe=ce[fe].__r3f;pe==null||pe.handlers.onPointerMissed==null||pe.handlers.onPointerMissed(le)}}function se(le){switch(le){case"onPointerLeave":case"onPointerCancel":return()=>ie([]);case"onLostPointerCapture":return ce=>{const{internal:fe}=Z.getState();"pointerId"in ce&&fe.capturedMap.has(ce.pointerId)&&requestAnimationFrame(()=>{fe.capturedMap.has(ce.pointerId)&&(fe.capturedMap.delete(ce.pointerId),ie([]))})}}return function(fe){const{onPointerMissed:pe,internal:me}=Z.getState();me.lastEvent.current=fe;const ve=le==="onPointerMove",ye=le==="onClick"||le==="onContextMenu"||le==="onDoubleClick",Se=te(fe,ve?K:void 0),_e=ye?_(fe):0;le==="onPointerDown"&&(me.initialClick=[fe.offsetX,fe.offsetY],me.initialHits=Se.map(Re=>Re.eventObject)),ye&&!Se.length&&_e<=2&&(oe(fe,me.interaction),pe&&pe(fe)),ve&&ie(Se);function Te(Re){const Pe=Re.eventObject,Fe=Pe.__r3f,$e=Fe==null?void 0:Fe.handlers;if(Fe!=null&&Fe.eventCount)if(ve){if($e.onPointerOver||$e.onPointerEnter||$e.onPointerOut||$e.onPointerLeave){const ke=makeId(Re),ze=me.hovered.get(ke);ze?ze.stopped&&Re.stopPropagation():(me.hovered.set(ke,Re),$e.onPointerOver==null||$e.onPointerOver(Re),$e.onPointerEnter==null||$e.onPointerEnter(Re))}$e.onPointerMove==null||$e.onPointerMove(Re)}else{const ke=$e[le];ke?(!ye||me.initialHits.includes(Pe))&&(oe(fe,me.interaction.filter(ze=>!me.initialHits.includes(ze))),ke(Re)):ye&&me.initialHits.includes(Pe)&&oe(fe,me.interaction.filter(ze=>!me.initialHits.includes(ze)))}}ne(Se,fe,_e,Te)}}return{handlePointer:se}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=Z=>!!(Z!=null&&Z.render),context=reactExports.createContext(null),createStore$1=(Z,_)=>{const K=create$1((se,le)=>{const ce=new Vector3,fe=new Vector3,pe=new Vector3;function me(_e=le().camera,Te=fe,Re=le().size){const{width:Pe,height:Fe,top:$e,left:ke}=Re,ze=Pe/Fe;Te.isVector3?pe.copy(Te):pe.set(...Te);const Ue=_e.getWorldPosition(ce).distanceTo(pe);if(isOrthographicCamera(_e))return{width:Pe/_e.zoom,height:Fe/_e.zoom,top:$e,left:ke,factor:1,distance:Ue,aspect:ze};{const Oe=_e.fov*Math.PI/180,Ve=2*Math.tan(Oe/2)*Ue,Ye=Ve*(Pe/Fe);return{width:Ye,height:Ve,top:$e,left:ke,factor:Pe/Ye,distance:Ue,aspect:ze}}}let ve;const ye=_e=>se(Te=>({performance:{...Te.performance,current:_e}})),Ee=new Vector2;return{set:se,get:le,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_e=1)=>Z(le(),_e),advance:(_e,Te)=>_(_e,Te,le()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:Ee,mouse:Ee,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _e=le();ve&&clearTimeout(ve),_e.performance.current!==_e.performance.min&&ye(_e.performance.min),ve=setTimeout(()=>ye(le().performance.max),_e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:me},setEvents:_e=>se(Te=>({...Te,events:{...Te.events,..._e}})),setSize:(_e,Te,Re,Pe,Fe)=>{const $e=le().camera,ke={width:_e,height:Te,top:Pe||0,left:Fe||0,updateStyle:Re};se(ze=>({size:ke,viewport:{...ze.viewport,...me($e,fe,ke)}}))},setDpr:_e=>se(Te=>{const Re=calculateDpr(_e);return{viewport:{...Te.viewport,dpr:Re,initialDpr:Te.viewport.initialDpr||Re}}}),setFrameloop:(_e="always")=>{const Te=le().clock;Te.stop(),Te.elapsedTime=0,_e!=="never"&&(Te.start(),Te.elapsedTime=0),se(()=>({frameloop:_e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_e,Te,Re)=>{const Pe=le().internal;return Pe.priority=Pe.priority+(Te>0?1:0),Pe.subscribers.push({ref:_e,priority:Te,store:Re}),Pe.subscribers=Pe.subscribers.sort((Fe,$e)=>Fe.priority-$e.priority),()=>{const Fe=le().internal;Fe!=null&&Fe.subscribers&&(Fe.priority=Fe.priority-(Te>0?1:0),Fe.subscribers=Fe.subscribers.filter($e=>$e.ref!==_e))}}}}}),te=K.getState();let ne=te.size,ie=te.viewport.dpr,oe=te.camera;return K.subscribe(()=>{const{camera:se,size:le,viewport:ce,gl:fe,set:pe}=K.getState();if(le.width!==ne.width||le.height!==ne.height||ce.dpr!==ie){var me;ne=le,ie=ce.dpr,updateCamera(se,le),fe.setPixelRatio(ce.dpr);const ve=(me=le.updateStyle)!=null?me:typeof HTMLCanvasElement<"u"&&fe.domElement instanceof HTMLCanvasElement;fe.setSize(le.width,le.height,ve)}se!==oe&&(oe=se,pe(ve=>({viewport:{...ve.viewport,...ve.viewport.getCurrentViewport(se)}})))}),K.subscribe(se=>Z(se)),K};function createSubs(Z,_){const K={callback:Z};return _.add(K),()=>void _.delete(K)}let i$5,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;const addEffect=Z=>createSubs(Z,globalEffects),addAfterEffect=Z=>createSubs(Z,globalAfterEffects);function run(Z,_){if(Z.size)for(const{callback:K}of Z.values())K(_)}function flushGlobalEffects(Z,_){switch(Z){case"before":return run(globalEffects,_);case"after":return run(globalAfterEffects,_);case"tail":return run(globalTailEffects,_)}}let subscribers,subscription;function render$1(Z,_,K){let te=_.clock.getDelta();for(_.frameloop==="never"&&typeof Z=="number"&&(te=Z-_.clock.elapsedTime,_.clock.oldTime=_.clock.elapsedTime,_.clock.elapsedTime=Z),subscribers=_.internal.subscribers,i$5=0;i$5<subscribers.length;i$5++)subscription=subscribers[i$5],subscription.ref.current(subscription.store.getState(),te,K);return!_.internal.priority&&_.gl.render&&_.gl.render(_.scene,_.camera),_.internal.frames=Math.max(0,_.internal.frames-1),_.frameloop==="always"?1:_.internal.frames}function createLoop(Z){let _=!1,K=!1,te,ne,ie;function oe(ce){ne=requestAnimationFrame(oe),_=!0,te=0,flushGlobalEffects("before",ce),K=!0;for(const pe of Z.values()){var fe;ie=pe.store.getState(),ie.internal.active&&(ie.frameloop==="always"||ie.internal.frames>0)&&!((fe=ie.gl.xr)!=null&&fe.isPresenting)&&(te+=render$1(ce,ie))}if(K=!1,flushGlobalEffects("after",ce),te===0)return flushGlobalEffects("tail",ce),_=!1,cancelAnimationFrame(ne)}function se(ce,fe=1){var pe;if(!ce)return Z.forEach(me=>se(me.store.getState(),fe));(pe=ce.gl.xr)!=null&&pe.isPresenting||!ce.internal.active||ce.frameloop==="never"||(fe>1?ce.internal.frames=Math.min(60,ce.internal.frames+fe):K?ce.internal.frames=2:ce.internal.frames=1,_||(_=!0,requestAnimationFrame(oe)))}function le(ce,fe=!0,pe,me){if(fe&&flushGlobalEffects("before",ce),pe)render$1(ce,pe,me);else for(const ve of Z.values())render$1(ce,ve.store.getState());fe&&flushGlobalEffects("after",ce)}return{loop:oe,invalidate:se,advance:le}}function useStore(){const Z=reactExports.useContext(context);if(!Z)throw new Error("R3F: Hooks can only be used within the Canvas component!");return Z}function useThree(Z=K=>K,_){return useStore()(Z,_)}function useFrame(Z,_=0){const K=useStore(),te=K.getState().internal.subscribe,ne=useMutableCallback(Z);return useIsomorphicLayoutEffect$2(()=>te(ne,_,K),[_,te,K]),null}const memoizedLoaders=new WeakMap;function loadingFn(Z,_){return function(K,...te){let ne=memoizedLoaders.get(K);return ne||(ne=new K,memoizedLoaders.set(K,ne)),Z&&Z(ne),Promise.all(te.map(ie=>new Promise((oe,se)=>ne.load(ie,le=>{le.scene&&Object.assign(le,buildGraph(le.scene)),oe(le)},_,le=>se(new Error(`Could not load ${ie}: ${le==null?void 0:le.message}`))))))}}function useLoader(Z,_,K,te){const ne=Array.isArray(_)?_:[_],ie=suspend(loadingFn(K,te),[Z,...ne],{equal:is.equ});return Array.isArray(_)?ie:ie[0]}useLoader.preload=function(Z,_,K){const te=Array.isArray(_)?_:[_];return preload(loadingFn(K),[Z,...te])};useLoader.clear=function(Z,_){const K=Array.isArray(_)?_:[_];return clear([Z,...K])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(Z,_)=>{const K=typeof Z=="function"?Z(_):Z;return isRenderer(K)?K:new WebGLRenderer({powerPreference:"high-performance",canvas:_,antialias:!0,alpha:!0,...Z})};function computeInitialSize(Z,_){const K=typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement;if(_){const{width:te,height:ne,top:ie,left:oe,updateStyle:se=K}=_;return{width:te,height:ne,top:ie,left:oe,updateStyle:se}}else if(typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement&&Z.parentElement){const{width:te,height:ne,top:ie,left:oe}=Z.parentElement.getBoundingClientRect();return{width:te,height:ne,top:ie,left:oe,updateStyle:K}}else if(typeof OffscreenCanvas<"u"&&Z instanceof OffscreenCanvas)return{width:Z.width,height:Z.height,top:0,left:0,updateStyle:K};return{width:0,height:0,top:0,left:0}}function createRoot(Z){const _=roots.get(Z),K=_==null?void 0:_.fiber,te=_==null?void 0:_.store;_&&console.warn("R3F.createRoot should only be called once!");const ne=typeof reportError=="function"?reportError:console.error,ie=te||createStore$1(invalidate,advance),oe=K||reconciler.createContainer(ie,constantsExports.ConcurrentRoot,null,!1,null,"",ne,null);_||roots.set(Z,{fiber:oe,store:ie});let se,le=!1,ce;return{configure(fe={}){let{gl:pe,size:me,scene:ve,events:ye,onCreated:Ee,shadows:Se=!1,linear:_e=!1,flat:Te=!1,legacy:Re=!1,orthographic:Pe=!1,frameloop:Fe="always",dpr:$e=[1,2],performance:ke,raycaster:ze,camera:Ue,onPointerMissed:Oe}=fe,Ve=ie.getState(),Ye=Ve.gl;Ve.gl||Ve.set({gl:Ye=createRendererInstance(pe,Z)});let Ke=Ve.raycaster;Ke||Ve.set({raycaster:Ke=new Raycaster});const{params:rt,...ct}=ze||{};if(is.equ(ct,Ke,shallowLoose)||applyProps(Ke,{...ct}),is.equ(rt,Ke.params,shallowLoose)||applyProps(Ke,{params:{...Ke.params,...rt}}),!Ve.camera||Ve.camera===ce&&!is.equ(ce,Ue,shallowLoose)){ce=Ue;const et=Ue instanceof Camera,qe=et?Ue:Pe?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera$1(75,0,.1,1e3);et||(qe.position.z=5,Ue&&(applyProps(qe,Ue),("aspect"in Ue||"left"in Ue||"right"in Ue||"bottom"in Ue||"top"in Ue)&&(qe.manual=!0,qe.updateProjectionMatrix())),!Ve.camera&&!(Ue!=null&&Ue.rotation)&&qe.lookAt(0,0,0)),Ve.set({camera:qe}),Ke.camera=qe}if(!Ve.scene){let et;ve!=null&&ve.isScene?et=ve:(et=new Scene,ve&&applyProps(et,ve)),Ve.set({scene:prepare(et)})}if(!Ve.xr){var at;const et=(_t,ut)=>{const St=ie.getState();St.frameloop!=="never"&&advance(_t,!0,St,ut)},qe=()=>{const _t=ie.getState();_t.gl.xr.enabled=_t.gl.xr.isPresenting,_t.gl.xr.setAnimationLoop(_t.gl.xr.isPresenting?et:null),_t.gl.xr.isPresenting||invalidate(_t)},lt={connect(){const _t=ie.getState().gl;_t.xr.addEventListener("sessionstart",qe),_t.xr.addEventListener("sessionend",qe)},disconnect(){const _t=ie.getState().gl;_t.xr.removeEventListener("sessionstart",qe),_t.xr.removeEventListener("sessionend",qe)}};typeof((at=Ye.xr)==null?void 0:at.addEventListener)=="function"&&lt.connect(),Ve.set({xr:lt})}if(Ye.shadowMap){const et=Ye.shadowMap.enabled,qe=Ye.shadowMap.type;if(Ye.shadowMap.enabled=!!Se,is.boo(Se))Ye.shadowMap.type=PCFSoftShadowMap;else if(is.str(Se)){var mt;const lt={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};Ye.shadowMap.type=(mt=lt[Se])!=null?mt:PCFSoftShadowMap}else is.obj(Se)&&Object.assign(Ye.shadowMap,Se);(et!==Ye.shadowMap.enabled||qe!==Ye.shadowMap.type)&&(Ye.shadowMap.needsUpdate=!0)}const je=getColorManagement();je&&("enabled"in je?je.enabled=!Re:"legacyMode"in je&&(je.legacyMode=Re)),le||applyProps(Ye,{outputEncoding:_e?3e3:3001,toneMapping:Te?NoToneMapping:ACESFilmicToneMapping}),Ve.legacy!==Re&&Ve.set(()=>({legacy:Re})),Ve.linear!==_e&&Ve.set(()=>({linear:_e})),Ve.flat!==Te&&Ve.set(()=>({flat:Te})),pe&&!is.fun(pe)&&!isRenderer(pe)&&!is.equ(pe,Ye,shallowLoose)&&applyProps(Ye,pe),ye&&!Ve.events.handlers&&Ve.set({events:ye(ie)});const it=computeInitialSize(Z,me);return is.equ(it,Ve.size,shallowLoose)||Ve.setSize(it.width,it.height,it.updateStyle,it.top,it.left),$e&&Ve.viewport.dpr!==calculateDpr($e)&&Ve.setDpr($e),Ve.frameloop!==Fe&&Ve.setFrameloop(Fe),Ve.onPointerMissed||Ve.set({onPointerMissed:Oe}),ke&&!is.equ(ke,Ve.performance,shallowLoose)&&Ve.set(et=>({performance:{...et.performance,...ke}})),se=Ee,le=!0,this},render(fe){return le||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider$1,{store:ie,children:fe,onCreated:se,rootElement:Z}),oe,null,()=>{}),ie},unmount(){unmountComponentAtNode(Z)}}}function Provider$1({store:Z,children:_,onCreated:K,rootElement:te}){return useIsomorphicLayoutEffect$2(()=>{const ne=Z.getState();ne.set(ie=>({internal:{...ie.internal,active:!0}})),K&&K(ne),Z.getState().events.connected||ne.events.connect==null||ne.events.connect(te)},[]),jsxRuntimeExports.jsx(context.Provider,{value:Z,children:_})}function unmountComponentAtNode(Z,_){const K=roots.get(Z),te=K==null?void 0:K.fiber;if(te){const ne=K==null?void 0:K.store.getState();ne&&(ne.internal.active=!1),reconciler.updateContainer(null,te,null,()=>{ne&&setTimeout(()=>{try{var ie,oe,se,le;ne.events.disconnect==null||ne.events.disconnect(),(ie=ne.gl)==null||(oe=ie.renderLists)==null||oe.dispose==null||oe.dispose(),(se=ne.gl)==null||se.forceContextLoss==null||se.forceContextLoss(),(le=ne.gl)!=null&&le.xr&&ne.xr.disconnect(),dispose(ne),roots.delete(Z)}catch{}},500)})}}function createPortal(Z,_,K){return jsxRuntimeExports.jsx(Portal$1,{children:Z,container:_,state:K},_.uuid)}function Portal$1({state:Z={},children:_,container:K}){const{events:te,size:ne,...ie}=Z,oe=useStore(),[se]=reactExports.useState(()=>new Raycaster),[le]=reactExports.useState(()=>new Vector2),ce=reactExports.useCallback((pe,me)=>{const ve={...pe};Object.keys(pe).forEach(Ee=>{(privateKeys.includes(Ee)||pe[Ee]!==me[Ee]&&me[Ee])&&delete ve[Ee]});let ye;if(me&&ne){const Ee=me.camera;ye=pe.viewport.getCurrentViewport(Ee,new Vector3,ne),Ee!==pe.camera&&updateCamera(Ee,ne)}return{...ve,scene:K,raycaster:se,pointer:le,mouse:le,previousRoot:oe,events:{...pe.events,...me==null?void 0:me.events,...te},size:{...pe.size,...ne},viewport:{...pe.viewport,...ye},...ie}},[Z]),[fe]=reactExports.useState(()=>{const pe=oe.getState();return create$1((ve,ye)=>({...pe,scene:K,raycaster:se,pointer:le,mouse:le,previousRoot:oe,events:{...pe.events,...te},size:{...pe.size,...ne},...ie,set:ve,get:ye,setEvents:Ee=>ve(Se=>({...Se,events:{...Se.events,...Ee}}))}))});return reactExports.useEffect(()=>{const pe=oe.subscribe(me=>fe.setState(ve=>ce(me,ve)));return()=>{pe()}},[ce]),reactExports.useEffect(()=>{fe.setState(pe=>ce(oe.getState(),pe))},[ce]),reactExports.useEffect(()=>()=>{fe.destroy()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reconciler.createPortal(jsxRuntimeExports.jsx(context.Provider,{value:fe,children:_}),fe,null)})}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(Z){const{handlePointer:_}=createEvents(Z);return{priority:1,enabled:!0,compute(K,te,ne){te.pointer.set(K.offsetX/te.size.width*2-1,-(K.offsetY/te.size.height)*2+1),te.raycaster.setFromCamera(te.pointer,te.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((K,te)=>({...K,[te]:_(te)}),{}),update:()=>{var K;const{events:te,internal:ne}=Z.getState();(K=ne.lastEvent)!=null&&K.current&&te.handlers&&te.handlers.onPointerMove(ne.lastEvent.current)},connect:K=>{var te;const{set:ne,events:ie}=Z.getState();ie.disconnect==null||ie.disconnect(),ne(oe=>({events:{...oe.events,connected:K}})),Object.entries((te=ie.handlers)!=null?te:[]).forEach(([oe,se])=>{const[le,ce]=DOM_EVENTS[oe];K.addEventListener(le,se,{passive:ce})})},disconnect:()=>{const{set:K,events:te}=Z.getState();if(te.connected){var ne;Object.entries((ne=te.handlers)!=null?ne:[]).forEach(([ie,oe])=>{if(te&&te.connected instanceof HTMLElement){const[se]=DOM_EVENTS[ie];te.connected.removeEventListener(se,oe)}}),K(ie=>({events:{...ie.events,connected:void 0}}))}}}}function g$5(Z,_){let K;return(...te)=>{window.clearTimeout(K),K=window.setTimeout(()=>Z(...te),_)}}function j$2({debounce:Z,scroll:_,polyfill:K,offsetSize:te}={debounce:0,scroll:!1,offsetSize:!1}){const ne=K||(typeof window>"u"?class{}:window.ResizeObserver);if(!ne)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[ie,oe]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),se=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:ie,orientationHandler:null}),le=Z?typeof Z=="number"?Z:Z.scroll:null,ce=Z?typeof Z=="number"?Z:Z.resize:null,fe=reactExports.useRef(!1);reactExports.useEffect(()=>(fe.current=!0,()=>void(fe.current=!1)));const[pe,me,ve]=reactExports.useMemo(()=>{const _e=()=>{if(!se.current.element)return;const{left:Te,top:Re,width:Pe,height:Fe,bottom:$e,right:ke,x:ze,y:Ue}=se.current.element.getBoundingClientRect(),Oe={left:Te,top:Re,width:Pe,height:Fe,bottom:$e,right:ke,x:ze,y:Ue};se.current.element instanceof HTMLElement&&te&&(Oe.height=se.current.element.offsetHeight,Oe.width=se.current.element.offsetWidth),Object.freeze(Oe),fe.current&&!D$3(se.current.lastBounds,Oe)&&oe(se.current.lastBounds=Oe)};return[_e,ce?g$5(_e,ce):_e,le?g$5(_e,le):_e]},[oe,te,le,ce]);function ye(){se.current.scrollContainers&&(se.current.scrollContainers.forEach(_e=>_e.removeEventListener("scroll",ve,!0)),se.current.scrollContainers=null),se.current.resizeObserver&&(se.current.resizeObserver.disconnect(),se.current.resizeObserver=null),se.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",se.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",se.current.orientationHandler))}function Ee(){se.current.element&&(se.current.resizeObserver=new ne(ve),se.current.resizeObserver.observe(se.current.element),_&&se.current.scrollContainers&&se.current.scrollContainers.forEach(_e=>_e.addEventListener("scroll",ve,{capture:!0,passive:!0})),se.current.orientationHandler=()=>{ve()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",se.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",se.current.orientationHandler))}const Se=_e=>{!_e||_e===se.current.element||(ye(),se.current.element=_e,se.current.scrollContainers=E$2(_e),Ee())};return X(ve,!!_),W$2(me),reactExports.useEffect(()=>{ye(),Ee()},[_,ve,me]),reactExports.useEffect(()=>ye,[]),[Se,ie,pe]}function W$2(Z){reactExports.useEffect(()=>{const _=Z;return window.addEventListener("resize",_),()=>void window.removeEventListener("resize",_)},[Z])}function X(Z,_){reactExports.useEffect(()=>{if(_){const K=Z;return window.addEventListener("scroll",K,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",K,!0)}},[Z,_])}function E$2(Z){const _=[];if(!Z||Z===document.body)return _;const{overflow:K,overflowX:te,overflowY:ne}=window.getComputedStyle(Z);return[K,te,ne].some(ie=>ie==="auto"||ie==="scroll")&&_.push(Z),[..._,...E$2(Z.parentElement)]}const k$4=["x","y","top","bottom","left","right","width","height"],D$3=(Z,_)=>k$4.every(K=>Z[K]===_[K]);var __defProp$b=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$b=(Z,_,K)=>_ in Z?__defProp$b(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__spreadValues=(Z,_)=>{for(var K in _||(_={}))__hasOwnProp.call(_,K)&&__defNormalProp$b(Z,K,_[K]);if(__getOwnPropSymbols)for(var K of __getOwnPropSymbols(_))__propIsEnum.call(_,K)&&__defNormalProp$b(Z,K,_[K]);return Z},__spreadProps=(Z,_)=>__defProps(Z,__getOwnPropDescs(_)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(Z,_,K){if(!Z)return;if(K(Z)===!0)return Z;let te=Z.child;for(;te;){const ne=traverseFiber(te,_,K);if(ne)return ne;te=te.sibling}}function wrapContext(Z){try{return Object.defineProperties(Z,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return Z}}const error=console.error;console.error=function(){const Z=[...arguments].join("");if(Z!=null&&Z.startsWith("Warning:")&&Z.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const Z=reactExports.useContext(FiberContext);if(Z===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const _=reactExports.useId();return reactExports.useMemo(()=>{for(const te of[Z,Z==null?void 0:Z.alternate]){if(!te)continue;const ne=traverseFiber(te,!1,ie=>{let oe=ie.memoizedState;for(;oe;){if(oe.memoizedState===_)return!0;oe=oe.next}});if(ne)return ne}},[Z,_])}function useContextMap(){const Z=useFiber(),[_]=reactExports.useState(()=>new Map);_.clear();let K=Z;for(;K;){if(K.type&&typeof K.type=="object"){const ne=K.type._context===void 0&&K.type.Provider===K.type?K.type:K.type._context;ne&&ne!==FiberContext&&!_.has(ne)&&_.set(ne,reactExports.useContext(wrapContext(ne)))}K=K.return}return _}function useContextBridge(){const Z=useContextMap();return reactExports.useMemo(()=>Array.from(Z.keys()).reduce((_,K)=>te=>reactExports.createElement(_,null,reactExports.createElement(K.Provider,__spreadProps(__spreadValues({},te),{value:Z.get(K)}))),_=>reactExports.createElement(FiberProvider,__spreadValues({},_))),[Z])}const CanvasImpl=reactExports.forwardRef(function({children:_,fallback:K,resize:te,style:ne,gl:ie,events:oe=createPointerEvents,eventSource:se,eventPrefix:le,shadows:ce,linear:fe,flat:pe,legacy:me,orthographic:ve,frameloop:ye,dpr:Ee,performance:Se,raycaster:_e,camera:Te,scene:Re,onPointerMissed:Pe,onCreated:Fe,...$e},ke){reactExports.useMemo(()=>extend(THREE),[]);const ze=useContextBridge(),[Ue,Oe]=j$2({scroll:!0,debounce:{scroll:50,resize:0},...te}),Ve=reactExports.useRef(null),Ye=reactExports.useRef(null);reactExports.useImperativeHandle(ke,()=>Ve.current);const Ke=useMutableCallback(Pe),[rt,ct]=reactExports.useState(!1),[at,mt]=reactExports.useState(!1);if(rt)throw rt;if(at)throw at;const je=reactExports.useRef(null);useIsomorphicLayoutEffect$2(()=>{const et=Ve.current;Oe.width>0&&Oe.height>0&&et&&(je.current||(je.current=createRoot(et)),je.current.configure({gl:ie,events:oe,shadows:ce,linear:fe,flat:pe,legacy:me,orthographic:ve,frameloop:ye,dpr:Ee,performance:Se,raycaster:_e,camera:Te,scene:Re,size:Oe,onPointerMissed:(...qe)=>Ke.current==null?void 0:Ke.current(...qe),onCreated:qe=>{qe.events.connect==null||qe.events.connect(se?isRef(se)?se.current:se:Ye.current),le&&qe.setEvents({compute:(lt,_t)=>{const ut=lt[le+"X"],St=lt[le+"Y"];_t.pointer.set(ut/_t.size.width*2-1,-(St/_t.size.height)*2+1),_t.raycaster.setFromCamera(_t.pointer,_t.camera)}}),Fe==null||Fe(qe)}}),je.current.render(jsxRuntimeExports.jsx(ze,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:mt,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:ct}),children:_})})})))}),reactExports.useEffect(()=>{const et=Ve.current;if(et)return()=>unmountComponentAtNode(et)},[]);const it=se?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:Ye,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:it,...ne},...$e,children:jsxRuntimeExports.jsx("div",{ref:Ue,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:Ve,style:{display:"block"},children:K})})})}),Canvas$1=reactExports.forwardRef(function(_,K){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{..._,ref:K})})});function clamp$2(Z,_,K){return Math.max(_,Math.min(Z,K))}const V$2={toVector(Z,_){return Z===void 0&&(Z=_),Array.isArray(Z)?Z:[Z,Z]},add(Z,_){return[Z[0]+_[0],Z[1]+_[1]]},sub(Z,_){return[Z[0]-_[0],Z[1]-_[1]]},addTo(Z,_){Z[0]+=_[0],Z[1]+=_[1]},subTo(Z,_){Z[0]-=_[0],Z[1]-=_[1]}};function rubberband(Z,_,K){return _===0||Math.abs(_)===1/0?Math.pow(Z,K*5):Z*_*K/(_+K*Z)}function rubberbandIfOutOfBounds(Z,_,K,te=.15){return te===0?clamp$2(Z,_,K):Z<_?-rubberband(_-Z,K-_,te)+_:Z>K?+rubberband(Z-K,K-_,te)+K:Z}function computeRubberband(Z,[_,K],[te,ne]){const[[ie,oe],[se,le]]=Z;return[rubberbandIfOutOfBounds(_,ie,oe,te),rubberbandIfOutOfBounds(K,se,le,ne)]}function _toPrimitive$1(Z,_){if(typeof Z!="object"||Z===null)return Z;var K=Z[Symbol.toPrimitive];if(K!==void 0){var te=K.call(Z,_);if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(Z)}function _toPropertyKey$1(Z){var _=_toPrimitive$1(Z,"string");return typeof _=="symbol"?_:String(_)}function _defineProperty$3(Z,_,K){return _=_toPropertyKey$1(_),_ in Z?Object.defineProperty(Z,_,{value:K,enumerable:!0,configurable:!0,writable:!0}):Z[_]=K,Z}function ownKeys$3(Z,_){var K=Object.keys(Z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Z);_&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(Z,ne).enumerable})),K.push.apply(K,te)}return K}function _objectSpread2$1(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$3(Object(K),!0).forEach(function(te){_defineProperty$3(Z,te,K[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):ownKeys$3(Object(K)).forEach(function(te){Object.defineProperty(Z,te,Object.getOwnPropertyDescriptor(K,te))})}return Z}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(Z){return Z?Z[0].toUpperCase()+Z.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(Z=!1,_){return Z&&!actionsWithoutCaptureSupported.includes(_)}function toHandlerProp(Z,_="",K=!1){const te=EVENT_TYPE_MAP[Z],ne=te&&te[_]||_;return"on"+capitalize(Z)+capitalize(ne)+(hasCapture(K,ne)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(Z){let _=Z.substring(2).toLowerCase();const K=!!~_.indexOf("passive");K&&(_=_.replace("passive",""));const te=pointerCaptureEvents.includes(_)?"capturecapture":"capture",ne=!!~_.indexOf(te);return ne&&(_=_.replace("capture","")),{device:_,capture:ne,passive:K}}function toDomEventType(Z,_=""){const K=EVENT_TYPE_MAP[Z],te=K&&K[_]||_;return Z+te}function isTouch(Z){return"touches"in Z}function getPointerType(Z){return isTouch(Z)?"touch":"pointerType"in Z?Z.pointerType:"mouse"}function getCurrentTargetTouchList(Z){return Array.from(Z.touches).filter(_=>{var K,te;return _.target===Z.currentTarget||((K=Z.currentTarget)===null||K===void 0||(te=K.contains)===null||te===void 0?void 0:te.call(K,_.target))})}function getTouchList(Z){return Z.type==="touchend"||Z.type==="touchcancel"?Z.changedTouches:Z.targetTouches}function getValueEvent(Z){return isTouch(Z)?getTouchList(Z)[0]:Z}function touchIds(Z){return getCurrentTargetTouchList(Z).map(_=>_.identifier)}function pointerId(Z){const _=getValueEvent(Z);return isTouch(Z)?_.identifier:_.pointerId}function pointerValues(Z){const _=getValueEvent(Z);return[_.clientX,_.clientY]}function getEventDetails(Z){const _={};if("buttons"in Z&&(_.buttons=Z.buttons),"shiftKey"in Z){const{shiftKey:K,altKey:te,metaKey:ne,ctrlKey:ie}=Z;Object.assign(_,{shiftKey:K,altKey:te,metaKey:ne,ctrlKey:ie})}return _}function call$1(Z,..._){return typeof Z=="function"?Z(..._):Z}function noop$3(){}function chain(...Z){return Z.length===0?noop$3:Z.length===1?Z[0]:function(){let _;for(const K of Z)_=K.apply(this,arguments)||_;return _}}function assignDefault(Z,_){return Object.assign({},_,Z||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(_,K,te){this.ctrl=_,this.args=K,this.key=te,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(_){this.ctrl.state[this.key]=_}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:_,shared:K,ingKey:te,args:ne}=this;K[te]=_._active=_.active=_._blocked=_._force=!1,_._step=[!1,!1],_.intentional=!1,_._movement=[0,0],_._distance=[0,0],_._direction=[0,0],_._delta=[0,0],_._bounds=[[-1/0,1/0],[-1/0,1/0]],_.args=ne,_.axis=void 0,_.memo=void 0,_.elapsedTime=_.timeDelta=0,_.direction=[0,0],_.distance=[0,0],_.overflow=[0,0],_._movementBound=[!1,!1],_.velocity=[0,0],_.movement=[0,0],_.delta=[0,0],_.timeStamp=0}start(_){const K=this.state,te=this.config;K._active||(this.reset(),this.computeInitial(),K._active=!0,K.target=_.target,K.currentTarget=_.currentTarget,K.lastOffset=te.from?call$1(te.from,K):K.offset,K.offset=K.lastOffset,K.startTime=K.timeStamp=_.timeStamp)}computeValues(_){const K=this.state;K._values=_,K.values=this.config.transform(_)}computeInitial(){const _=this.state;_._initial=_._values,_.initial=_.values}compute(_){const{state:K,config:te,shared:ne}=this;K.args=this.args;let ie=0;if(_&&(K.event=_,te.preventDefault&&_.cancelable&&K.event.preventDefault(),K.type=_.type,ne.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,ne.locked=!!document.pointerLockElement,Object.assign(ne,getEventDetails(_)),ne.down=ne.pressed=ne.buttons%2===1||ne.touches>0,ie=_.timeStamp-K.timeStamp,K.timeStamp=_.timeStamp,K.elapsedTime=K.timeStamp-K.startTime),K._active){const $e=K._delta.map(Math.abs);V$2.addTo(K._distance,$e)}this.axisIntent&&this.axisIntent(_);const[oe,se]=K._movement,[le,ce]=te.threshold,{_step:fe,values:pe}=K;if(te.hasCustomTransform?(fe[0]===!1&&(fe[0]=Math.abs(oe)>=le&&pe[0]),fe[1]===!1&&(fe[1]=Math.abs(se)>=ce&&pe[1])):(fe[0]===!1&&(fe[0]=Math.abs(oe)>=le&&Math.sign(oe)*le),fe[1]===!1&&(fe[1]=Math.abs(se)>=ce&&Math.sign(se)*ce)),K.intentional=fe[0]!==!1||fe[1]!==!1,!K.intentional)return;const me=[0,0];if(te.hasCustomTransform){const[$e,ke]=pe;me[0]=fe[0]!==!1?$e-fe[0]:0,me[1]=fe[1]!==!1?ke-fe[1]:0}else me[0]=fe[0]!==!1?oe-fe[0]:0,me[1]=fe[1]!==!1?se-fe[1]:0;this.restrictToAxis&&!K._blocked&&this.restrictToAxis(me);const ve=K.offset,ye=K._active&&!K._blocked||K.active;ye&&(K.first=K._active&&!K.active,K.last=!K._active&&K.active,K.active=ne[this.ingKey]=K._active,_&&(K.first&&("bounds"in te&&(K._bounds=call$1(te.bounds,K)),this.setup&&this.setup()),K.movement=me,this.computeOffset()));const[Ee,Se]=K.offset,[[_e,Te],[Re,Pe]]=K._bounds;K.overflow=[Ee<_e?-1:Ee>Te?1:0,Se<Re?-1:Se>Pe?1:0],K._movementBound[0]=K.overflow[0]?K._movementBound[0]===!1?K._movement[0]:K._movementBound[0]:!1,K._movementBound[1]=K.overflow[1]?K._movementBound[1]===!1?K._movement[1]:K._movementBound[1]:!1;const Fe=K._active?te.rubberband||[0,0]:[0,0];if(K.offset=computeRubberband(K._bounds,K.offset,Fe),K.delta=V$2.sub(K.offset,ve),this.computeMovement(),ye&&(!K.last||ie>BEFORE_LAST_KINEMATICS_DELAY)){K.delta=V$2.sub(K.offset,ve);const $e=K.delta.map(Math.abs);V$2.addTo(K.distance,$e),K.direction=K.delta.map(Math.sign),K._direction=K._delta.map(Math.sign),!K.first&&ie>0&&(K.velocity=[$e[0]/ie,$e[1]/ie],K.timeDelta=ie)}}emit(){const _=this.state,K=this.shared,te=this.config;if(_._active||this.clean(),(_._blocked||!_.intentional)&&!_._force&&!te.triggerAllEvents)return;const ne=this.handler(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},K),_),{},{[this.aliasKey]:_.values}));ne!==void 0&&(_.memo=ne)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([Z,_],K){const te=Math.abs(Z),ne=Math.abs(_);if(te>ne&&te>K)return"x";if(ne>te&&ne>K)return"y"}class CoordinatesEngine extends Engine{constructor(..._){super(..._),_defineProperty$3(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V$2.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V$2.sub(this.state.offset,this.state.lastOffset)}axisIntent(_){const K=this.state,te=this.config;if(!K.axis&&_){const ne=typeof te.axisThreshold=="object"?te.axisThreshold[getPointerType(_)]:te.axisThreshold;K.axis=selectAxis(K._movement,ne)}K._blocked=(te.lockDirection||!!te.axis)&&!K.axis||!!te.axis&&te.axis!==K.axis}restrictToAxis(_){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":_[1]=0;break;case"y":_[0]=0;break}}}const identity=Z=>Z,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(Z=!0){return Z},eventOptions(Z,_,K){return _objectSpread2$1(_objectSpread2$1({},K.shared.eventOptions),Z)},preventDefault(Z=!1){return Z},triggerAllEvents(Z=!1){return Z},rubberband(Z=0){switch(Z){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V$2.toVector(Z)}},from(Z){if(typeof Z=="function")return Z;if(Z!=null)return V$2.toVector(Z)},transform(Z,_,K){const te=Z||K.shared.transform;return this.hasCustomTransform=!!te,te||identity},threshold(Z){return V$2.toVector(Z,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2$1(_objectSpread2$1({},commonConfigResolver),{},{axis(Z,_,{axis:K}){if(this.lockDirection=K==="lock",!this.lockDirection)return K},axisThreshold(Z=DEFAULT_AXIS_THRESHOLD){return Z},bounds(Z={}){if(typeof Z=="function")return ie=>coordinatesConfigResolver.bounds(Z(ie));if("current"in Z)return()=>Z.current;if(typeof HTMLElement=="function"&&Z instanceof HTMLElement)return Z;const{left:_=-1/0,right:K=1/0,top:te=-1/0,bottom:ne=1/0}=Z;return[[_,K],[te,ne]]}}),KEYS_DELTA_MAP={ArrowRight:(Z,_=1)=>[Z*_,0],ArrowLeft:(Z,_=1)=>[-1*Z*_,0],ArrowUp:(Z,_=1)=>[0,-1*Z*_],ArrowDown:(Z,_=1)=>[0,Z*_]};class DragEngine extends CoordinatesEngine{constructor(..._){super(..._),_defineProperty$3(this,"ingKey","dragging")}reset(){super.reset();const _=this.state;_._pointerId=void 0,_._pointerActive=!1,_._keyboardActive=!1,_._preventScroll=!1,_._delayed=!1,_.swipe=[0,0],_.tap=!1,_.canceled=!1,_.cancel=this.cancel.bind(this)}setup(){const _=this.state;if(_._bounds instanceof HTMLElement){const K=_._bounds.getBoundingClientRect(),te=_.currentTarget.getBoundingClientRect(),ne={left:K.left-te.left+_.offset[0],right:K.right-te.right+_.offset[0],top:K.top-te.top+_.offset[1],bottom:K.bottom-te.bottom+_.offset[1]};_._bounds=coordinatesConfigResolver.bounds(ne)}}cancel(){const _=this.state;_.canceled||(_.canceled=!0,_._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(_){const K=this.config,te=this.state;if(_.buttons!=null&&(Array.isArray(K.pointerButtons)?!K.pointerButtons.includes(_.buttons):K.pointerButtons!==-1&&K.pointerButtons!==_.buttons))return;const ne=this.ctrl.setEventIds(_);K.pointerCapture&&_.target.setPointerCapture(_.pointerId),!(ne&&ne.size>1&&te._pointerActive)&&(this.start(_),this.setupPointer(_),te._pointerId=pointerId(_),te._pointerActive=!0,this.computeValues(pointerValues(_)),this.computeInitial(),K.preventScrollAxis&&getPointerType(_)!=="mouse"?(te._active=!1,this.setupScrollPrevention(_)):K.delay>0?(this.setupDelayTrigger(_),K.triggerAllEvents&&(this.compute(_),this.emit())):this.startPointerDrag(_))}startPointerDrag(_){const K=this.state;K._active=!0,K._preventScroll=!0,K._delayed=!1,this.compute(_),this.emit()}pointerMove(_){const K=this.state,te=this.config;if(!K._pointerActive)return;const ne=pointerId(_);if(K._pointerId!==void 0&&ne!==K._pointerId)return;const ie=pointerValues(_);if(document.pointerLockElement===_.target?K._delta=[_.movementX,_.movementY]:(K._delta=V$2.sub(ie,K._values),this.computeValues(ie)),V$2.addTo(K._movement,K._delta),this.compute(_),K._delayed&&K.intentional){this.timeoutStore.remove("dragDelay"),K.active=!1,this.startPointerDrag(_);return}if(te.preventScrollAxis&&!K._preventScroll)if(K.axis)if(K.axis===te.preventScrollAxis||te.preventScrollAxis==="xy"){K._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(_);return}else return;this.emit()}pointerUp(_){this.ctrl.setEventIds(_);try{this.config.pointerCapture&&_.target.hasPointerCapture(_.pointerId)&&_.target.releasePointerCapture(_.pointerId)}catch{}const K=this.state,te=this.config;if(!K._active||!K._pointerActive)return;const ne=pointerId(_);if(K._pointerId!==void 0&&ne!==K._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(_);const[ie,oe]=K._distance;if(K.tap=ie<=te.tapsThreshold&&oe<=te.tapsThreshold,K.tap&&te.filterTaps)K._force=!0;else{const[se,le]=K._delta,[ce,fe]=K._movement,[pe,me]=te.swipe.velocity,[ve,ye]=te.swipe.distance,Ee=te.swipe.duration;if(K.elapsedTime<Ee){const Se=Math.abs(se/K.timeDelta),_e=Math.abs(le/K.timeDelta);Se>pe&&Math.abs(ce)>ve&&(K.swipe[0]=Math.sign(se)),_e>me&&Math.abs(fe)>ye&&(K.swipe[1]=Math.sign(le))}}this.emit()}pointerClick(_){!this.state.tap&&_.detail>0&&(_.preventDefault(),_.stopPropagation())}setupPointer(_){const K=this.config,te=K.device;K.pointerLock&&_.currentTarget.requestPointerLock(),K.pointerCapture||(this.eventStore.add(this.sharedConfig.window,te,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,te,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,te,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(_){this.state._preventScroll&&_.cancelable&&_.preventDefault()}setupScrollPrevention(_){this.state._preventScroll=!1,persistEvent(_);const K=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",K),this.eventStore.add(this.sharedConfig.window,"touch","cancel",K),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,_)}setupDelayTrigger(_){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(_)},this.config.delay)}keyDown(_){const K=KEYS_DELTA_MAP[_.key];if(K){const te=this.state,ne=_.shiftKey?10:_.altKey?.1:1;this.start(_),te._delta=K(this.config.keyboardDisplacement,ne),te._keyboardActive=!0,V$2.addTo(te._movement,te._delta),this.compute(_),this.emit()}}keyUp(_){_.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(_),this.emit())}bind(_){const K=this.config.device;_(K,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(_(K,"change",this.pointerMove.bind(this)),_(K,"end",this.pointerUp.bind(this)),_(K,"cancel",this.pointerUp.bind(this)),_("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(_("key","down",this.keyDown.bind(this)),_("key","up",this.keyUp.bind(this))),this.config.filterTaps&&_("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(Z){"persist"in Z&&typeof Z.persist=="function"&&Z.persist()}const isBrowser$2=typeof window<"u"&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser$2&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser$2&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser$2&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser$2&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser:isBrowser$2,gesture:supportsGestureEvents(),touch:supportsTouchEvents(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_KEYBOARD_DISPLACEMENT=10,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{device(Z,_,{pointer:{touch:K=!1,lock:te=!1,mouse:ne=!1}={}}){return this.pointerLock=te&&SUPPORT.pointerLock,SUPPORT.touch&&K?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!ne?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(Z,_,{preventScroll:K}){if(this.preventScrollDelay=typeof K=="number"?K:K||K===void 0&&Z?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||K===!1))return Z||(K!==void 0?"y":void 0)},pointerCapture(Z,_,{pointer:{capture:K=!0,buttons:te=1,keys:ne=!0}={}}){return this.pointerButtons=te,this.keys=ne,!this.pointerLock&&this.device==="pointer"&&K},threshold(Z,_,{filterTaps:K=!1,tapsThreshold:te=3,axis:ne=void 0}){const ie=V$2.toVector(Z,K?te:ne?1:0);return this.filterTaps=K,this.tapsThreshold=te,ie},swipe({velocity:Z=DEFAULT_SWIPE_VELOCITY,distance:_=DEFAULT_SWIPE_DISTANCE,duration:K=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V$2.toVector(Z)),distance:this.transform(V$2.toVector(_)),duration:K}},delay(Z=0){switch(Z){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return Z}},axisThreshold(Z){return Z?_objectSpread2$1(_objectSpread2$1({},DEFAULT_DRAG_AXIS_THRESHOLD),Z):DEFAULT_DRAG_AXIS_THRESHOLD},keyboardDisplacement(Z=DEFAULT_KEYBOARD_DISPLACEMENT){return Z}});_objectSpread2$1(_objectSpread2$1({},commonConfigResolver),{},{device(Z,_,{shared:K,pointer:{touch:te=!1}={}}){if(K.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&te)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(Z,_,{scaleBounds:K={},angleBounds:te={}}){const ne=oe=>{const se=assignDefault(call$1(K,oe),{min:-1/0,max:1/0});return[se.min,se.max]},ie=oe=>{const se=assignDefault(call$1(te,oe),{min:-1/0,max:1/0});return[se.min,se.max]};return typeof K!="function"&&typeof te!="function"?[ne(),ie()]:oe=>[ne(oe),ie(oe)]},threshold(Z,_,K){return this.lockDirection=K.axis==="lock",V$2.toVector(Z,this.lockDirection?[.1,3]:0)},modifierKey(Z){return Z===void 0?"ctrlKey":Z},pinchOnWheel(Z=!0){return Z}});_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{mouseOnly:(Z=!0)=>Z});_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{mouseOnly:(Z=!0)=>Z});const EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(Z){EngineMap.set(Z.key,Z.engine),ConfigResolverMap.set(Z.key,Z.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver};function _objectWithoutPropertiesLoose$5(Z,_){if(Z==null)return{};var K={},te=Object.keys(Z),ne,ie;for(ie=0;ie<te.length;ie++)ne=te[ie],!(_.indexOf(ne)>=0)&&(K[ne]=Z[ne]);return K}function _objectWithoutProperties$2(Z,_){if(Z==null)return{};var K=_objectWithoutPropertiesLoose$5(Z,_),te,ne;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(Z);for(ne=0;ne<ie.length;ne++)te=ie[ne],!(_.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(Z,te)&&(K[te]=Z[te])}return K}const sharedConfigResolver={target(Z){if(Z)return()=>"current"in Z?Z.current:Z},enabled(Z=!0){return Z},window(Z=SUPPORT.isBrowser?window:void 0){return Z},eventOptions({passive:Z=!0,capture:_=!1}={}){return{passive:Z,capture:_}},transform(Z){return Z}},_excluded$c=["target","eventOptions","window","enabled","transform"];function resolveWith(Z={},_){const K={};for(const[te,ne]of Object.entries(_))switch(typeof ne){case"function":K[te]=ne.call(K,Z[te],te,Z);break;case"object":K[te]=resolveWith(Z[te],ne);break;case"boolean":ne&&(K[te]=Z[te]);break}return K}function parse$1(Z,_,K={}){const te=Z,{target:ne,eventOptions:ie,window:oe,enabled:se,transform:le}=te,ce=_objectWithoutProperties$2(te,_excluded$c);if(K.shared=resolveWith({target:ne,eventOptions:ie,window:oe,enabled:se,transform:le},sharedConfigResolver),_){const fe=ConfigResolverMap.get(_);K[_]=resolveWith(_objectSpread2$1({shared:K.shared},ce),fe)}else for(const fe in ce){const pe=ConfigResolverMap.get(fe);pe&&(K[fe]=resolveWith(_objectSpread2$1({shared:K.shared},ce[fe]),pe))}return K}class EventStore{constructor(_,K){_defineProperty$3(this,"_listeners",new Set),this._ctrl=_,this._gestureKey=K}add(_,K,te,ne,ie){const oe=this._listeners,se=toDomEventType(K,te),le=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},ce=_objectSpread2$1(_objectSpread2$1({},le),ie);_.addEventListener(se,ne,ce);const fe=()=>{_.removeEventListener(se,ne,ce),oe.delete(fe)};return oe.add(fe),fe}clean(){this._listeners.forEach(_=>_()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty$3(this,"_timeouts",new Map)}add(_,K,te=140,...ne){this.remove(_),this._timeouts.set(_,window.setTimeout(K,te,...ne))}remove(_){const K=this._timeouts.get(_);K&&window.clearTimeout(K)}clean(){this._timeouts.forEach(_=>void window.clearTimeout(_)),this._timeouts.clear()}}class Controller{constructor(_){_defineProperty$3(this,"gestures",new Set),_defineProperty$3(this,"_targetEventStore",new EventStore(this)),_defineProperty$3(this,"gestureEventStores",{}),_defineProperty$3(this,"gestureTimeoutStores",{}),_defineProperty$3(this,"handlers",{}),_defineProperty$3(this,"config",{}),_defineProperty$3(this,"pointerIds",new Set),_defineProperty$3(this,"touchIds",new Set),_defineProperty$3(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,_)}setEventIds(_){if(isTouch(_))return this.touchIds=new Set(touchIds(_)),this.touchIds;if("pointerId"in _)return _.type==="pointerup"||_.type==="pointercancel"?this.pointerIds.delete(_.pointerId):_.type==="pointerdown"&&this.pointerIds.add(_.pointerId),this.pointerIds}applyHandlers(_,K){this.handlers=_,this.nativeHandlers=K}applyConfig(_,K){this.config=parse$1(_,K,this.config)}clean(){this._targetEventStore.clean();for(const _ of this.gestures)this.gestureEventStores[_].clean(),this.gestureTimeoutStores[_].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(..._){const K=this.config.shared,te={};let ne;if(!(K.target&&(ne=K.target(),!ne))){if(K.enabled){for(const oe of this.gestures){const se=this.config[oe],le=bindToProps(te,se.eventOptions,!!ne);if(se.enabled){const ce=EngineMap.get(oe);new ce(this,_,oe).bind(le)}}const ie=bindToProps(te,K.eventOptions,!!ne);for(const oe in this.nativeHandlers)ie(oe,"",se=>this.nativeHandlers[oe](_objectSpread2$1(_objectSpread2$1({},this.state.shared),{},{event:se,args:_})),void 0,!0)}for(const ie in te)te[ie]=chain(...te[ie]);if(!ne)return te;for(const ie in te){const{device:oe,capture:se,passive:le}=parseProp(ie);this._targetEventStore.add(ne,oe,"",te[ie],{capture:se,passive:le})}}}}function setupGesture(Z,_){Z.gestures.add(_),Z.gestureEventStores[_]=new EventStore(Z,_),Z.gestureTimeoutStores[_]=new TimeoutStore}function resolveGestures(Z,_){_.drag&&setupGesture(Z,"drag"),_.wheel&&setupGesture(Z,"wheel"),_.scroll&&setupGesture(Z,"scroll"),_.move&&setupGesture(Z,"move"),_.pinch&&setupGesture(Z,"pinch"),_.hover&&setupGesture(Z,"hover")}const bindToProps=(Z,_,K)=>(te,ne,ie,oe={},se=!1)=>{var le,ce;const fe=(le=oe.capture)!==null&&le!==void 0?le:_.capture,pe=(ce=oe.passive)!==null&&ce!==void 0?ce:_.passive;let me=se?te:toHandlerProp(te,ne,fe);K&&pe&&(me+="Passive"),Z[me]=Z[me]||[],Z[me].push(ie)};function useRecognizers(Z,_={},K,te){const ne=React.useMemo(()=>new Controller(Z),[]);if(ne.applyHandlers(Z,te),ne.applyConfig(_,K),React.useEffect(ne.effect.bind(ne)),React.useEffect(()=>ne.clean.bind(ne),[]),_.target===void 0)return ne.bind.bind(ne)}function useDrag$1(Z,_){return registerAction(dragAction),useRecognizers({drag:Z},_||{},"drag")}var __defProp$a=Object.defineProperty,__defNormalProp$a=(Z,_,K)=>_ in Z?__defProp$a(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$a=(Z,_,K)=>(__defNormalProp$a(Z,typeof _!="symbol"?_+"":_,K),K);class SimplexNoise{constructor(_=Math){__publicField$a(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),__publicField$a(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),__publicField$a(this,"p",[]),__publicField$a(this,"perm",[]),__publicField$a(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),__publicField$a(this,"dot",(K,te,ne)=>K[0]*te+K[1]*ne),__publicField$a(this,"dot3",(K,te,ne,ie)=>K[0]*te+K[1]*ne+K[2]*ie),__publicField$a(this,"dot4",(K,te,ne,ie,oe)=>K[0]*te+K[1]*ne+K[2]*ie+K[3]*oe),__publicField$a(this,"noise",(K,te)=>{let ne,ie,oe;const se=.5*(Math.sqrt(3)-1),le=(K+te)*se,ce=Math.floor(K+le),fe=Math.floor(te+le),pe=(3-Math.sqrt(3))/6,me=(ce+fe)*pe,ve=ce-me,ye=fe-me,Ee=K-ve,Se=te-ye;let _e=0,Te=1;Ee>Se&&(_e=1,Te=0);const Re=Ee-_e+pe,Pe=Se-Te+pe,Fe=Ee-1+2*pe,$e=Se-1+2*pe,ke=ce&255,ze=fe&255,Ue=this.perm[ke+this.perm[ze]]%12,Oe=this.perm[ke+_e+this.perm[ze+Te]]%12,Ve=this.perm[ke+1+this.perm[ze+1]]%12;let Ye=.5-Ee*Ee-Se*Se;Ye<0?ne=0:(Ye*=Ye,ne=Ye*Ye*this.dot(this.grad3[Ue],Ee,Se));let Ke=.5-Re*Re-Pe*Pe;Ke<0?ie=0:(Ke*=Ke,ie=Ke*Ke*this.dot(this.grad3[Oe],Re,Pe));let rt=.5-Fe*Fe-$e*$e;return rt<0?oe=0:(rt*=rt,oe=rt*rt*this.dot(this.grad3[Ve],Fe,$e)),70*(ne+ie+oe)}),__publicField$a(this,"noise3d",(K,te,ne)=>{let ie,oe,se,le;const fe=(K+te+ne)*.3333333333333333,pe=Math.floor(K+fe),me=Math.floor(te+fe),ve=Math.floor(ne+fe),ye=1/6,Ee=(pe+me+ve)*ye,Se=pe-Ee,_e=me-Ee,Te=ve-Ee,Re=K-Se,Pe=te-_e,Fe=ne-Te;let $e,ke,ze,Ue,Oe,Ve;Re>=Pe?Pe>=Fe?($e=1,ke=0,ze=0,Ue=1,Oe=1,Ve=0):Re>=Fe?($e=1,ke=0,ze=0,Ue=1,Oe=0,Ve=1):($e=0,ke=0,ze=1,Ue=1,Oe=0,Ve=1):Pe<Fe?($e=0,ke=0,ze=1,Ue=0,Oe=1,Ve=1):Re<Fe?($e=0,ke=1,ze=0,Ue=0,Oe=1,Ve=1):($e=0,ke=1,ze=0,Ue=1,Oe=1,Ve=0);const Ye=Re-$e+ye,Ke=Pe-ke+ye,rt=Fe-ze+ye,ct=Re-Ue+2*ye,at=Pe-Oe+2*ye,mt=Fe-Ve+2*ye,je=Re-1+3*ye,it=Pe-1+3*ye,et=Fe-1+3*ye,qe=pe&255,lt=me&255,_t=ve&255,ut=this.perm[qe+this.perm[lt+this.perm[_t]]]%12,St=this.perm[qe+$e+this.perm[lt+ke+this.perm[_t+ze]]]%12,Et=this.perm[qe+Ue+this.perm[lt+Oe+this.perm[_t+Ve]]]%12,At=this.perm[qe+1+this.perm[lt+1+this.perm[_t+1]]]%12;let kt=.6-Re*Re-Pe*Pe-Fe*Fe;kt<0?ie=0:(kt*=kt,ie=kt*kt*this.dot3(this.grad3[ut],Re,Pe,Fe));let jt=.6-Ye*Ye-Ke*Ke-rt*rt;jt<0?oe=0:(jt*=jt,oe=jt*jt*this.dot3(this.grad3[St],Ye,Ke,rt));let en=.6-ct*ct-at*at-mt*mt;en<0?se=0:(en*=en,se=en*en*this.dot3(this.grad3[Et],ct,at,mt));let un=.6-je*je-it*it-et*et;return un<0?le=0:(un*=un,le=un*un*this.dot3(this.grad3[At],je,it,et)),32*(ie+oe+se+le)}),__publicField$a(this,"noise4d",(K,te,ne,ie)=>{const oe=this.grad4,se=this.simplex,le=this.perm,ce=(Math.sqrt(5)-1)/4,fe=(5-Math.sqrt(5))/20;let pe,me,ve,ye,Ee;const Se=(K+te+ne+ie)*ce,_e=Math.floor(K+Se),Te=Math.floor(te+Se),Re=Math.floor(ne+Se),Pe=Math.floor(ie+Se),Fe=(_e+Te+Re+Pe)*fe,$e=_e-Fe,ke=Te-Fe,ze=Re-Fe,Ue=Pe-Fe,Oe=K-$e,Ve=te-ke,Ye=ne-ze,Ke=ie-Ue,rt=Oe>Ve?32:0,ct=Oe>Ye?16:0,at=Ve>Ye?8:0,mt=Oe>Ke?4:0,je=Ve>Ke?2:0,it=Ye>Ke?1:0,et=rt+ct+at+mt+je+it;let qe,lt,_t,ut,St,Et,At,kt,jt,en,un,It;qe=se[et][0]>=3?1:0,lt=se[et][1]>=3?1:0,_t=se[et][2]>=3?1:0,ut=se[et][3]>=3?1:0,St=se[et][0]>=2?1:0,Et=se[et][1]>=2?1:0,At=se[et][2]>=2?1:0,kt=se[et][3]>=2?1:0,jt=se[et][0]>=1?1:0,en=se[et][1]>=1?1:0,un=se[et][2]>=1?1:0,It=se[et][3]>=1?1:0;const Ot=Oe-qe+fe,Ze=Ve-lt+fe,sn=Ye-_t+fe,Bt=Ke-ut+fe,rn=Oe-St+2*fe,Gt=Ve-Et+2*fe,pn=Ye-At+2*fe,qt=Ke-kt+2*fe,Xe=Oe-jt+3*fe,He=Ve-en+3*fe,tt=Ye-un+3*fe,pt=Ke-It+3*fe,Lt=Oe-1+4*fe,Ct=Ve-1+4*fe,nn=Ye-1+4*fe,Xt=Ke-1+4*fe,Qt=_e&255,Rn=Te&255,Ut=Re&255,Ft=Pe&255,Zt=le[Qt+le[Rn+le[Ut+le[Ft]]]]%32,yn=le[Qt+qe+le[Rn+lt+le[Ut+_t+le[Ft+ut]]]]%32,an=le[Qt+St+le[Rn+Et+le[Ut+At+le[Ft+kt]]]]%32,ot=le[Qt+jt+le[Rn+en+le[Ut+un+le[Ft+It]]]]%32,$t=le[Qt+1+le[Rn+1+le[Ut+1+le[Ft+1]]]]%32;let tn=.6-Oe*Oe-Ve*Ve-Ye*Ye-Ke*Ke;tn<0?pe=0:(tn*=tn,pe=tn*tn*this.dot4(oe[Zt],Oe,Ve,Ye,Ke));let nt=.6-Ot*Ot-Ze*Ze-sn*sn-Bt*Bt;nt<0?me=0:(nt*=nt,me=nt*nt*this.dot4(oe[yn],Ot,Ze,sn,Bt));let zt=.6-rn*rn-Gt*Gt-pn*pn-qt*qt;zt<0?ve=0:(zt*=zt,ve=zt*zt*this.dot4(oe[an],rn,Gt,pn,qt));let wt=.6-Xe*Xe-He*He-tt*tt-pt*pt;wt<0?ye=0:(wt*=wt,ye=wt*wt*this.dot4(oe[ot],Xe,He,tt,pt));let Nt=.6-Lt*Lt-Ct*Ct-nn*nn-Xt*Xt;return Nt<0?Ee=0:(Nt*=Nt,Ee=Nt*Nt*this.dot4(oe[$t],Lt,Ct,nn,Xt)),27*(pe+me+ve+ye+Ee)});for(let K=0;K<256;K++)this.p[K]=Math.floor(_.random()*256);for(let K=0;K<512;K++)this.perm[K]=this.p[K&255]}}var __defProp$9=Object.defineProperty,__defNormalProp$9=(Z,_,K)=>_ in Z?__defProp$9(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$9=(Z,_,K)=>(__defNormalProp$9(Z,_+"",K),K);class EventDispatcher{constructor(){__publicField$9(this,"_listeners")}addEventListener(_,K){this._listeners===void 0&&(this._listeners={});const te=this._listeners;te[_]===void 0&&(te[_]=[]),te[_].indexOf(K)===-1&&te[_].push(K)}hasEventListener(_,K){if(this._listeners===void 0)return!1;const te=this._listeners;return te[_]!==void 0&&te[_].indexOf(K)!==-1}removeEventListener(_,K){if(this._listeners===void 0)return;const ne=this._listeners[_];if(ne!==void 0){const ie=ne.indexOf(K);ie!==-1&&ne.splice(ie,1)}}dispatchEvent(_){if(this._listeners===void 0)return;const te=this._listeners[_.type];if(te!==void 0){_.target=this;const ne=te.slice(0);for(let ie=0,oe=ne.length;ie<oe;ie++)ne[ie].call(this,_);_.target=null}}}var __defProp$8=Object.defineProperty,__defNormalProp$8=(Z,_,K)=>_ in Z?__defProp$8(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$8=(Z,_,K)=>(__defNormalProp$8(Z,typeof _!="symbol"?_+"":_,K),K);const _ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=(Z,_)=>(Z%_+_)%_;let OrbitControls$1=class extends EventDispatcher{constructor(_,K){super(),__publicField$8(this,"object"),__publicField$8(this,"domElement"),__publicField$8(this,"enabled",!0),__publicField$8(this,"target",new Vector3),__publicField$8(this,"minDistance",0),__publicField$8(this,"maxDistance",1/0),__publicField$8(this,"minZoom",0),__publicField$8(this,"maxZoom",1/0),__publicField$8(this,"minPolarAngle",0),__publicField$8(this,"maxPolarAngle",Math.PI),__publicField$8(this,"minAzimuthAngle",-1/0),__publicField$8(this,"maxAzimuthAngle",1/0),__publicField$8(this,"enableDamping",!1),__publicField$8(this,"dampingFactor",.05),__publicField$8(this,"enableZoom",!0),__publicField$8(this,"zoomSpeed",1),__publicField$8(this,"enableRotate",!0),__publicField$8(this,"rotateSpeed",1),__publicField$8(this,"enablePan",!0),__publicField$8(this,"panSpeed",1),__publicField$8(this,"screenSpacePanning",!0),__publicField$8(this,"keyPanSpeed",7),__publicField$8(this,"zoomToCursor",!1),__publicField$8(this,"autoRotate",!1),__publicField$8(this,"autoRotateSpeed",2),__publicField$8(this,"reverseOrbit",!1),__publicField$8(this,"reverseHorizontalOrbit",!1),__publicField$8(this,"reverseVerticalOrbit",!1),__publicField$8(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField$8(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField$8(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField$8(this,"target0"),__publicField$8(this,"position0"),__publicField$8(this,"zoom0"),__publicField$8(this,"_domElementKeyEvents",null),__publicField$8(this,"getPolarAngle"),__publicField$8(this,"getAzimuthalAngle"),__publicField$8(this,"setPolarAngle"),__publicField$8(this,"setAzimuthalAngle"),__publicField$8(this,"getDistance"),__publicField$8(this,"getZoomScale"),__publicField$8(this,"listenToKeyEvents"),__publicField$8(this,"stopListenToKeyEvents"),__publicField$8(this,"saveState"),__publicField$8(this,"reset"),__publicField$8(this,"update"),__publicField$8(this,"connect"),__publicField$8(this,"dispose"),__publicField$8(this,"dollyIn"),__publicField$8(this,"dollyOut"),__publicField$8(this,"getScale"),__publicField$8(this,"setScale"),this.object=_,this.domElement=K,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>fe.phi,this.getAzimuthalAngle=()=>fe.theta,this.setPolarAngle=ot=>{let $t=moduloWrapAround(ot,2*Math.PI),tn=fe.phi;tn<0&&(tn+=2*Math.PI),$t<0&&($t+=2*Math.PI);let nt=Math.abs($t-tn);2*Math.PI-nt<nt&&($t<tn?$t+=2*Math.PI:tn+=2*Math.PI),pe.phi=$t-tn,te.update()},this.setAzimuthalAngle=ot=>{let $t=moduloWrapAround(ot,2*Math.PI),tn=fe.theta;tn<0&&(tn+=2*Math.PI),$t<0&&($t+=2*Math.PI);let nt=Math.abs($t-tn);2*Math.PI-nt<nt&&($t<tn?$t+=2*Math.PI:tn+=2*Math.PI),pe.theta=$t-tn,te.update()},this.getDistance=()=>te.object.position.distanceTo(te.target),this.listenToKeyEvents=ot=>{ot.addEventListener("keydown",Xt),this._domElementKeyEvents=ot},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Xt),this._domElementKeyEvents=null},this.saveState=()=>{te.target0.copy(te.target),te.position0.copy(te.object.position),te.zoom0=te.object.zoom},this.reset=()=>{te.target.copy(te.target0),te.object.position.copy(te.position0),te.object.zoom=te.zoom0,te.object.updateProjectionMatrix(),te.dispatchEvent(ne),te.update(),le=se.NONE},this.update=(()=>{const ot=new Vector3,$t=new Vector3(0,1,0),tn=new Quaternion().setFromUnitVectors(_.up,$t),nt=tn.clone().invert(),zt=new Vector3,wt=new Quaternion,Nt=2*Math.PI;return function(){const cn=te.object.position;tn.setFromUnitVectors(_.up,$t),nt.copy(tn).invert(),ot.copy(cn).sub(te.target),ot.applyQuaternion(tn),fe.setFromVector3(ot),te.autoRotate&&le===se.NONE&&rt(Ye()),te.enableDamping?(fe.theta+=pe.theta*te.dampingFactor,fe.phi+=pe.phi*te.dampingFactor):(fe.theta+=pe.theta,fe.phi+=pe.phi);let Pn=te.minAzimuthAngle,Yn=te.maxAzimuthAngle;isFinite(Pn)&&isFinite(Yn)&&(Pn<-Math.PI?Pn+=Nt:Pn>Math.PI&&(Pn-=Nt),Yn<-Math.PI?Yn+=Nt:Yn>Math.PI&&(Yn-=Nt),Pn<=Yn?fe.theta=Math.max(Pn,Math.min(Yn,fe.theta)):fe.theta=fe.theta>(Pn+Yn)/2?Math.max(Pn,fe.theta):Math.min(Yn,fe.theta)),fe.phi=Math.max(te.minPolarAngle,Math.min(te.maxPolarAngle,fe.phi)),fe.makeSafe(),te.enableDamping===!0?te.target.addScaledVector(ve,te.dampingFactor):te.target.add(ve),te.zoomToCursor&&Ue||te.object.isOrthographicCamera?fe.radius=_t(fe.radius):fe.radius=_t(fe.radius*me),ot.setFromSpherical(fe),ot.applyQuaternion(nt),cn.copy(te.target).add(ot),te.object.matrixAutoUpdate||te.object.updateMatrix(),te.object.lookAt(te.target),te.enableDamping===!0?(pe.theta*=1-te.dampingFactor,pe.phi*=1-te.dampingFactor,ve.multiplyScalar(1-te.dampingFactor)):(pe.set(0,0,0),ve.set(0,0,0));let sr=!1;if(te.zoomToCursor&&Ue){let Gn=null;if(te.object instanceof PerspectiveCamera$1&&te.object.isPerspectiveCamera){const xr=ot.length();Gn=_t(xr*me);const wr=xr-Gn;te.object.position.addScaledVector(ke,wr),te.object.updateMatrixWorld()}else if(te.object.isOrthographicCamera){const xr=new Vector3(ze.x,ze.y,0);xr.unproject(te.object),te.object.zoom=Math.max(te.minZoom,Math.min(te.maxZoom,te.object.zoom/me)),te.object.updateProjectionMatrix(),sr=!0;const wr=new Vector3(ze.x,ze.y,0);wr.unproject(te.object),te.object.position.sub(wr).add(xr),te.object.updateMatrixWorld(),Gn=ot.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),te.zoomToCursor=!1;Gn!==null&&(te.screenSpacePanning?te.target.set(0,0,-1).transformDirection(te.object.matrix).multiplyScalar(Gn).add(te.object.position):(_ray.origin.copy(te.object.position),_ray.direction.set(0,0,-1).transformDirection(te.object.matrix),Math.abs(te.object.up.dot(_ray.direction))<TILT_LIMIT?_.lookAt(te.target):(_plane.setFromNormalAndCoplanarPoint(te.object.up,te.target),_ray.intersectPlane(_plane,te.target))))}else te.object instanceof OrthographicCamera&&te.object.isOrthographicCamera&&(sr=me!==1,sr&&(te.object.zoom=Math.max(te.minZoom,Math.min(te.maxZoom,te.object.zoom/me)),te.object.updateProjectionMatrix()));return me=1,Ue=!1,sr||zt.distanceToSquared(te.object.position)>ce||8*(1-wt.dot(te.object.quaternion))>ce?(te.dispatchEvent(ne),zt.copy(te.object.position),wt.copy(te.object.quaternion),sr=!1,!0):!1}})(),this.connect=ot=>{te.domElement=ot,te.domElement.style.touchAction="none",te.domElement.addEventListener("contextmenu",Ut),te.domElement.addEventListener("pointerdown",He),te.domElement.addEventListener("pointercancel",pt),te.domElement.addEventListener("wheel",nn)},this.dispose=()=>{var ot,$t,tn,nt,zt,wt;te.domElement&&(te.domElement.style.touchAction="auto"),(ot=te.domElement)==null||ot.removeEventListener("contextmenu",Ut),($t=te.domElement)==null||$t.removeEventListener("pointerdown",He),(tn=te.domElement)==null||tn.removeEventListener("pointercancel",pt),(nt=te.domElement)==null||nt.removeEventListener("wheel",nn),(zt=te.domElement)==null||zt.ownerDocument.removeEventListener("pointermove",tt),(wt=te.domElement)==null||wt.ownerDocument.removeEventListener("pointerup",pt),te._domElementKeyEvents!==null&&te._domElementKeyEvents.removeEventListener("keydown",Xt)};const te=this,ne={type:"change"},ie={type:"start"},oe={type:"end"},se={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let le=se.NONE;const ce=1e-6,fe=new Spherical,pe=new Spherical;let me=1;const ve=new Vector3,ye=new Vector2,Ee=new Vector2,Se=new Vector2,_e=new Vector2,Te=new Vector2,Re=new Vector2,Pe=new Vector2,Fe=new Vector2,$e=new Vector2,ke=new Vector3,ze=new Vector2;let Ue=!1;const Oe=[],Ve={};function Ye(){return 2*Math.PI/60/60*te.autoRotateSpeed}function Ke(){return Math.pow(.95,te.zoomSpeed)}function rt(ot){te.reverseOrbit||te.reverseHorizontalOrbit?pe.theta+=ot:pe.theta-=ot}function ct(ot){te.reverseOrbit||te.reverseVerticalOrbit?pe.phi+=ot:pe.phi-=ot}const at=(()=>{const ot=new Vector3;return function(tn,nt){ot.setFromMatrixColumn(nt,0),ot.multiplyScalar(-tn),ve.add(ot)}})(),mt=(()=>{const ot=new Vector3;return function(tn,nt){te.screenSpacePanning===!0?ot.setFromMatrixColumn(nt,1):(ot.setFromMatrixColumn(nt,0),ot.crossVectors(te.object.up,ot)),ot.multiplyScalar(tn),ve.add(ot)}})(),je=(()=>{const ot=new Vector3;return function(tn,nt){const zt=te.domElement;if(zt&&te.object instanceof PerspectiveCamera$1&&te.object.isPerspectiveCamera){const wt=te.object.position;ot.copy(wt).sub(te.target);let Nt=ot.length();Nt*=Math.tan(te.object.fov/2*Math.PI/180),at(2*tn*Nt/zt.clientHeight,te.object.matrix),mt(2*nt*Nt/zt.clientHeight,te.object.matrix)}else zt&&te.object instanceof OrthographicCamera&&te.object.isOrthographicCamera?(at(tn*(te.object.right-te.object.left)/te.object.zoom/zt.clientWidth,te.object.matrix),mt(nt*(te.object.top-te.object.bottom)/te.object.zoom/zt.clientHeight,te.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),te.enablePan=!1)}})();function it(ot){te.object instanceof PerspectiveCamera$1&&te.object.isPerspectiveCamera||te.object instanceof OrthographicCamera&&te.object.isOrthographicCamera?me=ot:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),te.enableZoom=!1)}function et(ot){it(me/ot)}function qe(ot){it(me*ot)}function lt(ot){if(!te.zoomToCursor||!te.domElement)return;Ue=!0;const $t=te.domElement.getBoundingClientRect(),tn=ot.clientX-$t.left,nt=ot.clientY-$t.top,zt=$t.width,wt=$t.height;ze.x=tn/zt*2-1,ze.y=-(nt/wt)*2+1,ke.set(ze.x,ze.y,1).unproject(te.object).sub(te.object.position).normalize()}function _t(ot){return Math.max(te.minDistance,Math.min(te.maxDistance,ot))}function ut(ot){ye.set(ot.clientX,ot.clientY)}function St(ot){lt(ot),Pe.set(ot.clientX,ot.clientY)}function Et(ot){_e.set(ot.clientX,ot.clientY)}function At(ot){Ee.set(ot.clientX,ot.clientY),Se.subVectors(Ee,ye).multiplyScalar(te.rotateSpeed);const $t=te.domElement;$t&&(rt(2*Math.PI*Se.x/$t.clientHeight),ct(2*Math.PI*Se.y/$t.clientHeight)),ye.copy(Ee),te.update()}function kt(ot){Fe.set(ot.clientX,ot.clientY),$e.subVectors(Fe,Pe),$e.y>0?et(Ke()):$e.y<0&&qe(Ke()),Pe.copy(Fe),te.update()}function jt(ot){Te.set(ot.clientX,ot.clientY),Re.subVectors(Te,_e).multiplyScalar(te.panSpeed),je(Re.x,Re.y),_e.copy(Te),te.update()}function en(ot){lt(ot),ot.deltaY<0?qe(Ke()):ot.deltaY>0&&et(Ke()),te.update()}function un(ot){let $t=!1;switch(ot.code){case te.keys.UP:je(0,te.keyPanSpeed),$t=!0;break;case te.keys.BOTTOM:je(0,-te.keyPanSpeed),$t=!0;break;case te.keys.LEFT:je(te.keyPanSpeed,0),$t=!0;break;case te.keys.RIGHT:je(-te.keyPanSpeed,0),$t=!0;break}$t&&(ot.preventDefault(),te.update())}function It(){if(Oe.length==1)ye.set(Oe[0].pageX,Oe[0].pageY);else{const ot=.5*(Oe[0].pageX+Oe[1].pageX),$t=.5*(Oe[0].pageY+Oe[1].pageY);ye.set(ot,$t)}}function Ot(){if(Oe.length==1)_e.set(Oe[0].pageX,Oe[0].pageY);else{const ot=.5*(Oe[0].pageX+Oe[1].pageX),$t=.5*(Oe[0].pageY+Oe[1].pageY);_e.set(ot,$t)}}function Ze(){const ot=Oe[0].pageX-Oe[1].pageX,$t=Oe[0].pageY-Oe[1].pageY,tn=Math.sqrt(ot*ot+$t*$t);Pe.set(0,tn)}function sn(){te.enableZoom&&Ze(),te.enablePan&&Ot()}function Bt(){te.enableZoom&&Ze(),te.enableRotate&&It()}function rn(ot){if(Oe.length==1)Ee.set(ot.pageX,ot.pageY);else{const tn=an(ot),nt=.5*(ot.pageX+tn.x),zt=.5*(ot.pageY+tn.y);Ee.set(nt,zt)}Se.subVectors(Ee,ye).multiplyScalar(te.rotateSpeed);const $t=te.domElement;$t&&(rt(2*Math.PI*Se.x/$t.clientHeight),ct(2*Math.PI*Se.y/$t.clientHeight)),ye.copy(Ee)}function Gt(ot){if(Oe.length==1)Te.set(ot.pageX,ot.pageY);else{const $t=an(ot),tn=.5*(ot.pageX+$t.x),nt=.5*(ot.pageY+$t.y);Te.set(tn,nt)}Re.subVectors(Te,_e).multiplyScalar(te.panSpeed),je(Re.x,Re.y),_e.copy(Te)}function pn(ot){const $t=an(ot),tn=ot.pageX-$t.x,nt=ot.pageY-$t.y,zt=Math.sqrt(tn*tn+nt*nt);Fe.set(0,zt),$e.set(0,Math.pow(Fe.y/Pe.y,te.zoomSpeed)),et($e.y),Pe.copy(Fe)}function qt(ot){te.enableZoom&&pn(ot),te.enablePan&&Gt(ot)}function Xe(ot){te.enableZoom&&pn(ot),te.enableRotate&&rn(ot)}function He(ot){var $t,tn;te.enabled!==!1&&(Oe.length===0&&(($t=te.domElement)==null||$t.ownerDocument.addEventListener("pointermove",tt),(tn=te.domElement)==null||tn.ownerDocument.addEventListener("pointerup",pt)),Ft(ot),ot.pointerType==="touch"?Qt(ot):Lt(ot))}function tt(ot){te.enabled!==!1&&(ot.pointerType==="touch"?Rn(ot):Ct(ot))}function pt(ot){var $t,tn,nt;Zt(ot),Oe.length===0&&(($t=te.domElement)==null||$t.releasePointerCapture(ot.pointerId),(tn=te.domElement)==null||tn.ownerDocument.removeEventListener("pointermove",tt),(nt=te.domElement)==null||nt.ownerDocument.removeEventListener("pointerup",pt)),te.dispatchEvent(oe),le=se.NONE}function Lt(ot){let $t;switch(ot.button){case 0:$t=te.mouseButtons.LEFT;break;case 1:$t=te.mouseButtons.MIDDLE;break;case 2:$t=te.mouseButtons.RIGHT;break;default:$t=-1}switch($t){case MOUSE.DOLLY:if(te.enableZoom===!1)return;St(ot),le=se.DOLLY;break;case MOUSE.ROTATE:if(ot.ctrlKey||ot.metaKey||ot.shiftKey){if(te.enablePan===!1)return;Et(ot),le=se.PAN}else{if(te.enableRotate===!1)return;ut(ot),le=se.ROTATE}break;case MOUSE.PAN:if(ot.ctrlKey||ot.metaKey||ot.shiftKey){if(te.enableRotate===!1)return;ut(ot),le=se.ROTATE}else{if(te.enablePan===!1)return;Et(ot),le=se.PAN}break;default:le=se.NONE}le!==se.NONE&&te.dispatchEvent(ie)}function Ct(ot){if(te.enabled!==!1)switch(le){case se.ROTATE:if(te.enableRotate===!1)return;At(ot);break;case se.DOLLY:if(te.enableZoom===!1)return;kt(ot);break;case se.PAN:if(te.enablePan===!1)return;jt(ot);break}}function nn(ot){te.enabled===!1||te.enableZoom===!1||le!==se.NONE&&le!==se.ROTATE||(ot.preventDefault(),te.dispatchEvent(ie),en(ot),te.dispatchEvent(oe))}function Xt(ot){te.enabled===!1||te.enablePan===!1||un(ot)}function Qt(ot){switch(yn(ot),Oe.length){case 1:switch(te.touches.ONE){case TOUCH.ROTATE:if(te.enableRotate===!1)return;It(),le=se.TOUCH_ROTATE;break;case TOUCH.PAN:if(te.enablePan===!1)return;Ot(),le=se.TOUCH_PAN;break;default:le=se.NONE}break;case 2:switch(te.touches.TWO){case TOUCH.DOLLY_PAN:if(te.enableZoom===!1&&te.enablePan===!1)return;sn(),le=se.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(te.enableZoom===!1&&te.enableRotate===!1)return;Bt(),le=se.TOUCH_DOLLY_ROTATE;break;default:le=se.NONE}break;default:le=se.NONE}le!==se.NONE&&te.dispatchEvent(ie)}function Rn(ot){switch(yn(ot),le){case se.TOUCH_ROTATE:if(te.enableRotate===!1)return;rn(ot),te.update();break;case se.TOUCH_PAN:if(te.enablePan===!1)return;Gt(ot),te.update();break;case se.TOUCH_DOLLY_PAN:if(te.enableZoom===!1&&te.enablePan===!1)return;qt(ot),te.update();break;case se.TOUCH_DOLLY_ROTATE:if(te.enableZoom===!1&&te.enableRotate===!1)return;Xe(ot),te.update();break;default:le=se.NONE}}function Ut(ot){te.enabled!==!1&&ot.preventDefault()}function Ft(ot){Oe.push(ot)}function Zt(ot){delete Ve[ot.pointerId];for(let $t=0;$t<Oe.length;$t++)if(Oe[$t].pointerId==ot.pointerId){Oe.splice($t,1);return}}function yn(ot){let $t=Ve[ot.pointerId];$t===void 0&&($t=new Vector2,Ve[ot.pointerId]=$t),$t.set(ot.pageX,ot.pageY)}function an(ot){const $t=ot.pointerId===Oe[0].pointerId?Oe[1]:Oe[0];return Ve[$t.pointerId]}this.dollyIn=(ot=Ke())=>{qe(ot),te.update()},this.dollyOut=(ot=Ke())=>{et(ot),te.update()},this.getScale=()=>me,this.setScale=ot=>{it(ot),te.update()},this.getZoomScale=()=>Ke(),K!==void 0&&this.connect(K),this.update()}};var __defProp$7=Object.defineProperty,__defNormalProp$7=(Z,_,K)=>_ in Z?__defProp$7(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$7=(Z,_,K)=>(__defNormalProp$7(Z,typeof _!="symbol"?_+"":_,K),K);class Pass{constructor(){__publicField$7(this,"enabled",!0),__publicField$7(this,"needsSwap",!0),__publicField$7(this,"clear",!1),__publicField$7(this,"renderToScreen",!1)}setSize(_,K){}render(_,K,te,ne,ie){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}class FullScreenQuad{constructor(_){__publicField$7(this,"camera",new OrthographicCamera(-1,1,1,-1,0,1)),__publicField$7(this,"geometry",new PlaneGeometry(2,2)),__publicField$7(this,"mesh"),this.mesh=new Mesh(this.geometry,_)}get material(){return this.mesh.material}set material(_){this.mesh.material=_}dispose(){this.mesh.geometry.dispose()}render(_){_.render(this.mesh,this.camera)}}var __defProp$6=Object.defineProperty,__defNormalProp$6=(Z,_,K)=>_ in Z?__defProp$6(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$6=(Z,_,K)=>(__defNormalProp$6(Z,typeof _!="symbol"?_+"":_,K),K);class ShaderPass extends Pass{constructor(_,K="tDiffuse"){super(),__publicField$6(this,"textureID"),__publicField$6(this,"uniforms"),__publicField$6(this,"material"),__publicField$6(this,"fsQuad"),this.textureID=K,_ instanceof ShaderMaterial?(this.uniforms=_.uniforms,this.material=_):(this.uniforms=UniformsUtils.clone(_.uniforms),this.material=new ShaderMaterial({defines:Object.assign({},_.defines),uniforms:this.uniforms,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader})),this.fsQuad=new FullScreenQuad(this.material)}render(_,K,te){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=te.texture),this.fsQuad.material=this.material,this.renderToScreen?(_.setRenderTarget(null),this.fsQuad.render(_)):(_.setRenderTarget(K),this.clear&&_.clear(_.autoClearColor,_.autoClearDepth,_.autoClearStencil),this.fsQuad.render(_))}dispose(){this.fsQuad.dispose(),this.material.dispose()}}const LUTShader={defines:{USE_3DTEXTURE:1},uniforms:{lut3d:{value:null},lut:{value:null},lutSize:{value:0},tDiffuse:{value:null},intensity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`

		uniform float lutSize;
		#if USE_3DTEXTURE
		precision highp sampler3D;
		uniform sampler3D lut3d;
		#else
		uniform sampler2D lut;

		vec3 lutLookup( sampler2D tex, float size, vec3 rgb ) {

			float sliceHeight = 1.0 / size;
			float yPixelHeight = 1.0 / ( size * size );

			// Get the slices on either side of the sample
			float slice = rgb.b * size;
			float interp = fract( slice );
			float slice0 = slice - interp;
			float centeredInterp = interp - 0.5;

			float slice1 = slice0 + sign( centeredInterp );

			// Pull y sample in by half a pixel in each direction to avoid color
			// bleeding from adjacent slices.
			float greenOffset = clamp( rgb.g * sliceHeight, yPixelHeight * 0.5, sliceHeight - yPixelHeight * 0.5 );

			vec2 uv0 = vec2(
				rgb.r,
				slice0 * sliceHeight + greenOffset
			);
			vec2 uv1 = vec2(
				rgb.r,
				slice1 * sliceHeight + greenOffset
			);

			vec3 sample0 = texture2D( tex, uv0 ).rgb;
			vec3 sample1 = texture2D( tex, uv1 ).rgb;

			return mix( sample0, sample1, abs( centeredInterp ) );

		}
		#endif

		varying vec2 vUv;
		uniform float intensity;
		uniform sampler2D tDiffuse;
		void main() {

			vec4 val = texture2D( tDiffuse, vUv );
			vec4 lutVal;

			// pull the sample in by half a pixel so the sample begins
			// at the center of the edge pixels.
			float pixelWidth = 1.0 / lutSize;
			float halfPixelWidth = 0.5 / lutSize;
			vec3 uvw = vec3( halfPixelWidth ) + val.rgb * ( 1.0 - pixelWidth );

			#if USE_3DTEXTURE

			lutVal = vec4( texture( lut3d, uvw ).rgb, val.a );

			#else

			lutVal = vec4( lutLookup( lut, lutSize, uvw ), val.a );

			#endif

			gl_FragColor = vec4( mix( val, lutVal, intensity ) );

		}

	`};class LUTPass extends ShaderPass{set lut(_){const K=this.material;if(_!==this.lut&&(K.uniforms.lut3d.value=null,K.uniforms.lut.value=null,_)){const te=_.isData3DTexture?1:0;te!==K.defines.USE_3DTEXTURE&&(K.defines.USE_3DTEXTURE=te,K.needsUpdate=!0),K.uniforms.lutSize.value=_.image.width,_.isData3DTexture?K.uniforms.lut3d.value=_:K.uniforms.lut.value=_}}get lut(){return this.material.uniforms.lut.value||this.material.uniforms.lut3d.value}set intensity(_){this.material.uniforms.intensity.value=_}get intensity(){return this.material.uniforms.intensity.value}constructor(_={}){super(LUTShader),this.lut=_.lut||null,this.intensity="intensity"in _?_.intensity:1}}const FilmShader={uniforms:{tDiffuse:{value:null},time:{value:0},nIntensity:{value:.5},sIntensity:{value:.05},sCount:{value:4096},grayscale:{value:1}},vertexShader:`
    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`
    #include <common>

    // control parameter
    uniform float time;

    uniform bool grayscale;

    // noise effect intensity value (0 = no effect, 1 = full effect)
    uniform float nIntensity;

    // scanlines effect intensity value (0 = no effect, 1 = full effect)
    uniform float sIntensity;

    // scanlines effect count value (0 = no effect, 4096 = full effect)
    uniform float sCount;

    uniform sampler2D tDiffuse;

    varying vec2 vUv;

    void main() {

    // sample the source
    	vec4 cTextureScreen = texture2D( tDiffuse, vUv );

    // make some noise
    	float dx = rand( vUv + time );

    // add noise
    	vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );

    // get us a sine and cosine
    	vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );

    // add scanlines
    	cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;

    // interpolate between source and result by intensity
    	cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );

    // convert to grayscale if desired
    	if( grayscale ) {

    		cResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );

    	}

    	gl_FragColor =  vec4( cResult, cTextureScreen.a );

    }
  `};var __defProp$5=Object.defineProperty,__defNormalProp$5=(Z,_,K)=>_ in Z?__defProp$5(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$5=(Z,_,K)=>(__defNormalProp$5(Z,typeof _!="symbol"?_+"":_,K),K);class FilmPass extends Pass{constructor(_,K,te,ne){super(),__publicField$5(this,"material"),__publicField$5(this,"fsQuad"),__publicField$5(this,"uniforms"),FilmShader===void 0&&console.error("THREE.FilmPass relies on FilmShader");const ie=FilmShader;this.uniforms=UniformsUtils.clone(ie.uniforms),this.material=new ShaderMaterial({uniforms:this.uniforms,vertexShader:ie.vertexShader,fragmentShader:ie.fragmentShader}),ne!==void 0&&(this.uniforms.grayscale.value=ne),_!==void 0&&(this.uniforms.nIntensity.value=_),K!==void 0&&(this.uniforms.sIntensity.value=K),te!==void 0&&(this.uniforms.sCount.value=te),this.fsQuad=new FullScreenQuad(this.material)}render(_,K,te,ne){this.uniforms.tDiffuse.value=te.texture,this.uniforms.time.value+=ne,this.renderToScreen?(_.setRenderTarget(null),this.fsQuad.render(_)):(_.setRenderTarget(K),this.clear&&_.clear(),this.fsQuad.render(_))}}const CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`
    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`
    uniform float opacity;

    uniform sampler2D tDiffuse;

    varying vec2 vUv;

    void main() {

    	vec4 texel = texture2D( tDiffuse, vUv );
    	gl_FragColor = opacity * texel;

    }
  `},LuminosityHighPassShader={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Color$1(0)},defaultOpacity:{value:0}},vertexShader:`
    varying vec2 vUv;

    void main() {

    	vUv = uv;

    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform vec3 defaultColor;
    uniform float defaultOpacity;
    uniform float luminosityThreshold;
    uniform float smoothWidth;

    varying vec2 vUv;

    void main() {

    	vec4 texel = texture2D( tDiffuse, vUv );

    	vec3 luma = vec3( 0.299, 0.587, 0.114 );

    	float v = dot( texel.xyz, luma );

    	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

    	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

    	gl_FragColor = mix( outputColor, texel, alpha );

    }
  `};var __defProp$4=Object.defineProperty,__defNormalProp$4=(Z,_,K)=>_ in Z?__defProp$4(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$4=(Z,_,K)=>(__defNormalProp$4(Z,typeof _!="symbol"?_+"":_,K),K);const UnrealBloomPass=(()=>{const Z=class extends Pass{constructor(K,te,ne,ie){super(),this.strength=te!==void 0?te:1,this.radius=ne,this.threshold=ie,this.resolution=K!==void 0?new Vector2(K.x,K.y):new Vector2(256,256),this.clearColor=new Color$1(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let oe=Math.round(this.resolution.x/2),se=Math.round(this.resolution.y/2);this.renderTargetBright=new WebGLRenderTarget(oe,se,{type:HalfFloatType}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let me=0;me<this.nMips;me++){const ve=new WebGLRenderTarget(oe,se,{type:HalfFloatType});ve.texture.name="UnrealBloomPass.h"+me,ve.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(ve);const ye=new WebGLRenderTarget(oe,se,{type:HalfFloatType});ye.texture.name="UnrealBloomPass.v"+me,ye.texture.generateMipmaps=!1,this.renderTargetsVertical.push(ye),oe=Math.round(oe/2),se=Math.round(se/2)}const le=LuminosityHighPassShader;this.highPassUniforms=UniformsUtils.clone(le.uniforms),this.highPassUniforms.luminosityThreshold.value=ie,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:le.vertexShader,fragmentShader:le.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const ce=[3,5,7,9,11];oe=Math.round(this.resolution.x/2),se=Math.round(this.resolution.y/2);for(let me=0;me<this.nMips;me++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(ce[me])),this.separableBlurMaterials[me].uniforms.texSize.value=new Vector2(oe,se),oe=Math.round(oe/2),se=Math.round(se/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=te,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const fe=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=fe,this.bloomTintColors=[new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const pe=CopyShader;this.copyUniforms=UniformsUtils.clone(pe.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new ShaderMaterial({uniforms:this.copyUniforms,vertexShader:pe.vertexShader,fragmentShader:pe.fragmentShader,blending:AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Color$1,this.oldClearAlpha=1,this.basic=new MeshBasicMaterial,this.fsQuad=new FullScreenQuad(null)}dispose(){for(let K=0;K<this.renderTargetsHorizontal.length;K++)this.renderTargetsHorizontal[K].dispose();for(let K=0;K<this.renderTargetsVertical.length;K++)this.renderTargetsVertical[K].dispose();this.renderTargetBright.dispose();for(let K=0;K<this.separableBlurMaterials.length;K++)this.separableBlurMaterials[K].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(K,te){let ne=Math.round(K/2),ie=Math.round(te/2);this.renderTargetBright.setSize(ne,ie);for(let oe=0;oe<this.nMips;oe++)this.renderTargetsHorizontal[oe].setSize(ne,ie),this.renderTargetsVertical[oe].setSize(ne,ie),this.separableBlurMaterials[oe].uniforms.texSize.value=new Vector2(ne,ie),ne=Math.round(ne/2),ie=Math.round(ie/2)}render(K,te,ne,ie,oe){K.getClearColor(this._oldClearColor),this.oldClearAlpha=K.getClearAlpha();const se=K.autoClear;K.autoClear=!1,K.setClearColor(this.clearColor,0),oe&&K.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=ne.texture,K.setRenderTarget(null),K.clear(),this.fsQuad.render(K)),this.highPassUniforms.tDiffuse.value=ne.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,K.setRenderTarget(this.renderTargetBright),K.clear(),this.fsQuad.render(K);let le=this.renderTargetBright;for(let ce=0;ce<this.nMips;ce++)this.fsQuad.material=this.separableBlurMaterials[ce],this.separableBlurMaterials[ce].uniforms.colorTexture.value=le.texture,this.separableBlurMaterials[ce].uniforms.direction.value=Z.BlurDirectionX,K.setRenderTarget(this.renderTargetsHorizontal[ce]),K.clear(),this.fsQuad.render(K),this.separableBlurMaterials[ce].uniforms.colorTexture.value=this.renderTargetsHorizontal[ce].texture,this.separableBlurMaterials[ce].uniforms.direction.value=Z.BlurDirectionY,K.setRenderTarget(this.renderTargetsVertical[ce]),K.clear(),this.fsQuad.render(K),le=this.renderTargetsVertical[ce];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,K.setRenderTarget(this.renderTargetsHorizontal[0]),K.clear(),this.fsQuad.render(K),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,oe&&K.state.buffers.stencil.setTest(!0),this.renderToScreen?(K.setRenderTarget(null),this.fsQuad.render(K)):(K.setRenderTarget(ne),this.fsQuad.render(K)),K.setClearColor(this._oldClearColor,this.oldClearAlpha),K.autoClear=se}getSeperableBlurMaterial(K){return new ShaderMaterial({defines:{KERNEL_RADIUS:K,SIGMA:K},uniforms:{colorTexture:{value:null},texSize:{value:new Vector2(.5,.5)},direction:{value:new Vector2(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(K){return new ShaderMaterial({defines:{NUM_MIPS:K},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let _=Z;return __publicField$4(_,"BlurDirectionX",new Vector2(1,0)),__publicField$4(_,"BlurDirectionY",new Vector2(0,1)),_})();var __defProp$3=Object.defineProperty,__defNormalProp$3=(Z,_,K)=>_ in Z?__defProp$3(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$3=(Z,_,K)=>(__defNormalProp$3(Z,typeof _!="symbol"?_+"":_,K),K);class MaskPass extends Pass{constructor(_,K){super(),__publicField$3(this,"scene"),__publicField$3(this,"camera"),__publicField$3(this,"inverse"),this.scene=_,this.camera=K,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(_,K,te){const ne=_.getContext(),ie=_.state;ie.buffers.color.setMask(!1),ie.buffers.depth.setMask(!1),ie.buffers.color.setLocked(!0),ie.buffers.depth.setLocked(!0);let oe,se;this.inverse?(oe=0,se=1):(oe=1,se=0),ie.buffers.stencil.setTest(!0),ie.buffers.stencil.setOp(ne.REPLACE,ne.REPLACE,ne.REPLACE),ie.buffers.stencil.setFunc(ne.ALWAYS,oe,4294967295),ie.buffers.stencil.setClear(se),ie.buffers.stencil.setLocked(!0),_.setRenderTarget(te),this.clear&&_.clear(),_.render(this.scene,this.camera),_.setRenderTarget(K),this.clear&&_.clear(),_.render(this.scene,this.camera),ie.buffers.color.setLocked(!1),ie.buffers.depth.setLocked(!1),ie.buffers.stencil.setLocked(!1),ie.buffers.stencil.setFunc(ne.EQUAL,1,4294967295),ie.buffers.stencil.setOp(ne.KEEP,ne.KEEP,ne.KEEP),ie.buffers.stencil.setLocked(!0)}}class ClearMaskPass extends Pass{constructor(){super(),this.needsSwap=!1}render(_){_.state.buffers.stencil.setLocked(!1),_.state.buffers.stencil.setTest(!1)}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(Z,_,K)=>_ in Z?__defProp$2(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$2=(Z,_,K)=>(__defNormalProp$2(Z,typeof _!="symbol"?_+"":_,K),K);class EffectComposer{constructor(_,K){if(__publicField$2(this,"renderer"),__publicField$2(this,"_pixelRatio"),__publicField$2(this,"_width"),__publicField$2(this,"_height"),__publicField$2(this,"renderTarget1"),__publicField$2(this,"renderTarget2"),__publicField$2(this,"writeBuffer"),__publicField$2(this,"readBuffer"),__publicField$2(this,"renderToScreen"),__publicField$2(this,"passes",[]),__publicField$2(this,"copyPass"),__publicField$2(this,"clock"),this.renderer=_,K===void 0){const te={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat},ne=_.getSize(new Vector2);this._pixelRatio=_.getPixelRatio(),this._width=ne.width,this._height=ne.height,K=new WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,te),K.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=K.width,this._height=K.height;this.renderTarget1=K,this.renderTarget2=K.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,CopyShader===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),ShaderPass===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new ShaderPass(CopyShader),this.copyPass.material.blending=NoBlending,this.clock=new Clock}swapBuffers(){const _=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=_}addPass(_){this.passes.push(_),_.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(_,K){this.passes.splice(K,0,_),_.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(_){const K=this.passes.indexOf(_);K!==-1&&this.passes.splice(K,1)}isLastEnabledPass(_){for(let K=_+1;K<this.passes.length;K++)if(this.passes[K].enabled)return!1;return!0}render(_){_===void 0&&(_=this.clock.getDelta());const K=this.renderer.getRenderTarget();let te=!1;const ne=this.passes.length;for(let ie=0;ie<ne;ie++){const oe=this.passes[ie];if(oe.enabled!==!1){if(oe.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(ie),oe.render(this.renderer,this.writeBuffer,this.readBuffer,_,te),oe.needsSwap){if(te){const se=this.renderer.getContext(),le=this.renderer.state.buffers.stencil;le.setFunc(se.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,_),le.setFunc(se.EQUAL,1,4294967295)}this.swapBuffers()}MaskPass!==void 0&&(oe instanceof MaskPass?te=!0:oe instanceof ClearMaskPass&&(te=!1))}}this.renderer.setRenderTarget(K)}reset(_){if(_===void 0){const K=this.renderer.getSize(new Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=K.width,this._height=K.height,_=this.renderTarget1.clone(),_.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=_,this.renderTarget2=_.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(_,K){this._width=_,this._height=K;const te=this._width*this._pixelRatio,ne=this._height*this._pixelRatio;this.renderTarget1.setSize(te,ne),this.renderTarget2.setSize(te,ne);for(let ie=0;ie<this.passes.length;ie++)this.passes[ie].setSize(te,ne)}setPixelRatio(_){this._pixelRatio=_,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}var __defProp$1=Object.defineProperty,__defNormalProp$1=(Z,_,K)=>_ in Z?__defProp$1(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$1=(Z,_,K)=>(__defNormalProp$1(Z,typeof _!="symbol"?_+"":_,K),K);class RenderPass extends Pass{constructor(_,K,te,ne,ie=0){super(),__publicField$1(this,"scene"),__publicField$1(this,"camera"),__publicField$1(this,"overrideMaterial"),__publicField$1(this,"clearColor"),__publicField$1(this,"clearAlpha"),__publicField$1(this,"clearDepth",!1),__publicField$1(this,"_oldClearColor",new Color$1),this.scene=_,this.camera=K,this.overrideMaterial=te,this.clearColor=ne,this.clearAlpha=ie,this.clear=!0,this.needsSwap=!1}render(_,K,te){let ne=_.autoClear;_.autoClear=!1;let ie,oe=null;this.overrideMaterial!==void 0&&(oe=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(_.getClearColor(this._oldClearColor),ie=_.getClearAlpha(),_.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&_.clearDepth(),_.setRenderTarget(this.renderToScreen?null:te),this.clear&&_.clear(_.autoClearColor,_.autoClearDepth,_.autoClearStencil),_.render(this.scene,this.camera),this.clearColor&&_.setClearColor(this._oldClearColor,ie),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=oe),_.autoClear=ne}}var __defProp=Object.defineProperty,__defNormalProp=(Z,_,K)=>_ in Z?__defProp(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField=(Z,_,K)=>(__defNormalProp(Z,typeof _!="symbol"?_+"":_,K),K);class WaterPass extends Pass{constructor(){super(),__publicField(this,"material"),__publicField(this,"fsQuad"),__publicField(this,"factor"),__publicField(this,"time"),__publicField(this,"uniforms"),this.uniforms={tex:{value:null},time:{value:0},factor:{value:0},resolution:{value:new Vector2(64,64)}},this.material=new ShaderMaterial({uniforms:this.uniforms,vertexShader:`
      varying vec2 vUv;
      void main(){  
        vUv = uv; 
        vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);
        gl_Position = projectionMatrix * modelViewPosition;
      }`,fragmentShader:`
      uniform float time;
      uniform float factor;
      uniform vec2 resolution;
      uniform sampler2D tex;
      varying vec2 vUv;
      void main() {  
        vec2 uv1 = vUv;
        vec2 uv = gl_FragCoord.xy/resolution.xy;
        float frequency = 6.0 * factor;
        float amplitude = 0.015 * factor;
        float x = uv1.y * frequency + time * .7; 
        float y = uv1.x * frequency + time * .3;
        uv1.x += cos(x+y) * amplitude * cos(y);
        uv1.y += sin(x-y) * amplitude * cos(y);
        vec4 rgba = texture2D(tex, uv1);
        gl_FragColor = rgba;
      }`}),this.fsQuad=new FullScreenQuad(this.material),this.factor=0,this.time=0}render(_,K,te){this.uniforms.tex.value=te.texture,this.uniforms.time.value=this.time,this.uniforms.factor.value=this.factor,this.renderToScreen?(_.setRenderTarget(null),this.fsQuad.render(_)):(_.setRenderTarget(K),this.clear&&_.clear(),this.fsQuad.render(_))}}const GammaCorrectionShader={uniforms:{tDiffuse:{value:null}},vertexShader:`
    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;

    varying vec2 vUv;

    void main() {

    	vec4 tex = texture2D( tDiffuse, vUv );

    	#ifdef LinearTosRGB
    		gl_FragColor = LinearTosRGB( tex );
    	#else
    		gl_FragColor = sRGBTransferOETF( tex );
    	#endif

    }
  `};class Data3DTexture extends Texture{constructor(_=null,K=1,te=1,ne=1){super(null),this.isData3DTexture=!0,this.image={data:_,width:K,height:te,depth:ne},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class LUTCubeLoader extends Loader{load(_,K,te,ne){const ie=new FileLoader(this.manager);ie.setPath(this.path),ie.setResponseType("text"),ie.load(_,oe=>{try{K(this.parse(oe))}catch(se){ne?ne(se):console.error(se),this.manager.itemError(_)}},te,ne)}parse(_){_=_.replace(/^#.*?(\n|\r)/gm,"").replace(/^\s*?(\n|\r)/gm,"").trim();let K=null,te=null;const ne=new Vector3(0,0,0),ie=new Vector3(1,1,1),oe=_.split(/[\n\r]+/g);let se=null,le=0;for(let pe=0,me=oe.length;pe<me;pe++){const ve=oe[pe].trim(),ye=ve.split(/\s/g);switch(ye[0]){case"TITLE":K=ve.substring(7,ve.length-1);break;case"LUT_3D_SIZE":const Ee=ye[1];te=parseFloat(Ee),se=new Uint8Array(te*te*te*4);break;case"DOMAIN_MIN":ne.x=parseFloat(ye[1]),ne.y=parseFloat(ye[2]),ne.z=parseFloat(ye[3]);break;case"DOMAIN_MAX":ie.x=parseFloat(ye[1]),ie.y=parseFloat(ye[2]),ie.z=parseFloat(ye[3]);break;default:const Se=parseFloat(ye[0]),_e=parseFloat(ye[1]),Te=parseFloat(ye[2]);if(Se>1||Se<0||_e>1||_e<0||Te>1||Te<0)throw new Error("LUTCubeLoader : Non normalized values not supported.");se[le+0]=Se*255,se[le+1]=_e*255,se[le+2]=Te*255,se[le+3]=255,le+=4}}const ce=new DataTexture;ce.image.data=se,ce.image.width=te,ce.image.height=te*te,ce.type=UnsignedByteType,ce.magFilter=LinearFilter,ce.minFilter=LinearFilter,ce.wrapS=ClampToEdgeWrapping,ce.wrapT=ClampToEdgeWrapping,ce.generateMipmaps=!1,ce.needsUpdate=!0;const fe=new Data3DTexture;return fe.image.data=se,fe.image.width=te,fe.image.height=te,fe.image.depth=te,fe.type=UnsignedByteType,fe.magFilter=LinearFilter,fe.minFilter=LinearFilter,fe.wrapS=ClampToEdgeWrapping,fe.wrapT=ClampToEdgeWrapping,fe.wrapR=ClampToEdgeWrapping,fe.generateMipmaps=!1,fe.needsUpdate=!0,{title:K,size:te,domainMin:ne,domainMax:ie,texture:ce,texture3D:fe}}}const Effects=reactExports.forwardRef(({children:Z,multisamping:_=8,renderIndex:K=1,disableRender:te,disableGamma:ne,disableRenderPass:ie,depthBuffer:oe=!0,stencilBuffer:se=!1,anisotropy:le=1,encoding:ce,type:fe,...pe},me)=>{reactExports.useMemo(()=>extend({EffectComposer,RenderPass,ShaderPass}),[]);const ve=reactExports.useRef(null);reactExports.useImperativeHandle(me,()=>ve.current,[]);const{scene:ye,camera:Ee,gl:Se,size:_e,viewport:Te}=useThree(),[Re]=reactExports.useState(()=>{const Fe=new WebGLRenderTarget(_e.width,_e.height,{type:fe||HalfFloatType,format:RGBAFormat,depthBuffer:oe,stencilBuffer:se,anisotropy:le});return fe===UnsignedByteType&&ce!=null&&("colorSpace"in Fe?Fe.texture.colorSpace=ce:Fe.texture.encoding=ce),Fe.samples=_,Fe});reactExports.useEffect(()=>{var Fe,$e;(Fe=ve.current)==null||Fe.setSize(_e.width,_e.height),($e=ve.current)==null||$e.setPixelRatio(Te.dpr)},[Se,_e,Te.dpr]),useFrame(()=>{var Fe;te||(Fe=ve.current)==null||Fe.render()},K);const Pe=[];return ie||Pe.push(reactExports.createElement("renderPass",{key:"renderpass",attach:`passes-${Pe.length}`,args:[ye,Ee]})),ne||Pe.push(reactExports.createElement("shaderPass",{attach:`passes-${Pe.length}`,key:"gammapass",args:[GammaCorrectionShader]})),reactExports.Children.forEach(Z,Fe=>{Fe&&Pe.push(reactExports.cloneElement(Fe,{key:Pe.length,attach:`passes-${Pe.length}`}))}),reactExports.createElement("effectComposer",_extends$1({ref:ve,args:[Se,Re]},pe),Pe)});function useFBO(Z,_,K){const te=useThree(me=>me.size),ne=useThree(me=>me.viewport),ie=typeof Z=="number"?Z:te.width*ne.dpr,oe=typeof _=="number"?_:te.height*ne.dpr,se=(typeof Z=="number"?K:Z)||{},{samples:le=0,depth:ce,...fe}=se,pe=reactExports.useMemo(()=>{const me=new WebGLRenderTarget(ie,oe,{minFilter:LinearFilter,magFilter:LinearFilter,type:HalfFloatType,...fe});return ce&&(me.depthTexture=new DepthTexture(ie,oe,FloatType)),me.samples=le,me},[]);return reactExports.useLayoutEffect(()=>{pe.setSize(ie,oe),le&&(pe.samples=le)},[le,pe,ie,oe]),reactExports.useEffect(()=>()=>pe.dispose(),[]),pe}const isFunction$1=Z=>typeof Z=="function",PerspectiveCamera=reactExports.forwardRef(({envMap:Z,resolution:_=256,frames:K=1/0,makeDefault:te,children:ne,...ie},oe)=>{const se=useThree(({set:Se})=>Se),le=useThree(({camera:Se})=>Se),ce=useThree(({size:Se})=>Se),fe=reactExports.useRef(null);reactExports.useImperativeHandle(oe,()=>fe.current,[]);const pe=reactExports.useRef(null),me=useFBO(_);reactExports.useLayoutEffect(()=>{ie.manual||(fe.current.aspect=ce.width/ce.height)},[ce,ie]),reactExports.useLayoutEffect(()=>{fe.current.updateProjectionMatrix()});let ve=0,ye=null;const Ee=isFunction$1(ne);return useFrame(Se=>{Ee&&(K===1/0||ve<K)&&(pe.current.visible=!1,Se.gl.setRenderTarget(me),ye=Se.scene.background,Z&&(Se.scene.background=Z),Se.gl.render(Se.scene,fe.current),Se.scene.background=ye,Se.gl.setRenderTarget(null),pe.current.visible=!0,ve++)}),reactExports.useLayoutEffect(()=>{if(te){const Se=le;return se(()=>({camera:fe.current})),()=>se(()=>({camera:Se}))}},[fe,te,se]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("perspectiveCamera",_extends$1({ref:fe},ie),!Ee&&ne),reactExports.createElement("group",{ref:pe},Ee&&ne(me.texture)))}),OrbitControls=reactExports.forwardRef(({makeDefault:Z,camera:_,regress:K,domElement:te,enableDamping:ne=!0,keyEvents:ie=!1,onChange:oe,onStart:se,onEnd:le,...ce},fe)=>{const pe=useThree($e=>$e.invalidate),me=useThree($e=>$e.camera),ve=useThree($e=>$e.gl),ye=useThree($e=>$e.events),Ee=useThree($e=>$e.setEvents),Se=useThree($e=>$e.set),_e=useThree($e=>$e.get),Te=useThree($e=>$e.performance),Re=_||me,Pe=te||ye.connected||ve.domElement,Fe=reactExports.useMemo(()=>new OrbitControls$1(Re),[Re]);return useFrame(()=>{Fe.enabled&&Fe.update()},-1),reactExports.useEffect(()=>(ie&&Fe.connect(ie===!0?Pe:ie),Fe.connect(Pe),()=>void Fe.dispose()),[ie,Pe,K,Fe,pe]),reactExports.useEffect(()=>{const $e=Ue=>{pe(),K&&Te.regress(),oe&&oe(Ue)},ke=Ue=>{se&&se(Ue)},ze=Ue=>{le&&le(Ue)};return Fe.addEventListener("change",$e),Fe.addEventListener("start",ke),Fe.addEventListener("end",ze),()=>{Fe.removeEventListener("start",ke),Fe.removeEventListener("end",ze),Fe.removeEventListener("change",$e)}},[oe,se,le,Fe,pe,Ee]),reactExports.useEffect(()=>{if(Z){const $e=_e().controls;return Se({controls:Fe}),()=>Se({controls:$e})}},[Z,Fe]),reactExports.createElement("primitive",_extends$1({ref:fe,object:Fe,enableDamping:ne},ce))});var stats_min$1={exports:{}},stats_min=stats_min$1.exports,hasRequiredStats_min;function requireStats_min(){return hasRequiredStats_min||(hasRequiredStats_min=1,function(Z,_){(function(K,te){Z.exports=te()})(stats_min,function(){var K=function(){function te(ve){return oe.appendChild(ve.dom),ve}function ne(ve){for(var ye=0;ye<oe.children.length;ye++)oe.children[ye].style.display=ye===ve?"block":"none";ie=ve}var ie=0,oe=document.createElement("div");oe.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",oe.addEventListener("click",function(ve){ve.preventDefault(),ne(++ie%oe.children.length)},!1);var se=(performance||Date).now(),le=se,ce=0,fe=te(new K.Panel("FPS","#0ff","#002")),pe=te(new K.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var me=te(new K.Panel("MB","#f08","#201"));return ne(0),{REVISION:16,dom:oe,addPanel:te,showPanel:ne,begin:function(){se=(performance||Date).now()},end:function(){ce++;var ve=(performance||Date).now();if(pe.update(ve-se,200),ve>le+1e3&&(fe.update(1e3*ce/(ve-le),100),le=ve,ce=0,me)){var ye=performance.memory;me.update(ye.usedJSHeapSize/1048576,ye.jsHeapSizeLimit/1048576)}return ve},update:function(){se=this.end()},domElement:oe,setMode:ne}};return K.Panel=function(te,ne,ie){var oe=1/0,se=0,le=Math.round,ce=le(window.devicePixelRatio||1),fe=80*ce,pe=48*ce,me=3*ce,ve=2*ce,ye=3*ce,Ee=15*ce,Se=74*ce,_e=30*ce,Te=document.createElement("canvas");Te.width=fe,Te.height=pe,Te.style.cssText="width:80px;height:48px";var Re=Te.getContext("2d");return Re.font="bold "+9*ce+"px Helvetica,Arial,sans-serif",Re.textBaseline="top",Re.fillStyle=ie,Re.fillRect(0,0,fe,pe),Re.fillStyle=ne,Re.fillText(te,me,ve),Re.fillRect(ye,Ee,Se,_e),Re.fillStyle=ie,Re.globalAlpha=.9,Re.fillRect(ye,Ee,Se,_e),{dom:Te,update:function(Pe,Fe){oe=Math.min(oe,Pe),se=Math.max(se,Pe),Re.fillStyle=ie,Re.globalAlpha=1,Re.fillRect(0,0,fe,Ee),Re.fillStyle=ne,Re.fillText(le(Pe)+" "+te+" ("+le(oe)+"-"+le(se)+")",me,ve),Re.drawImage(Te,ye+ce,Ee,Se-ce,_e,ye,Ee,Se-ce,_e),Re.fillRect(ye+Se-ce,Ee,ce,_e),Re.fillStyle=ie,Re.globalAlpha=.9,Re.fillRect(ye+Se-ce,Ee,ce,le((1-Pe/Fe)*_e))}}},K})}(stats_min$1)),stats_min$1.exports}var stats_minExports=requireStats_min();const StatsImpl=getDefaultExportFromCjs(stats_minExports);function call(Z,_){}function useEffectfulState(Z,_=[],K){const[te,ne]=reactExports.useState();return reactExports.useLayoutEffect(()=>{const ie=Z();return ne(ie),()=>void 0},_),te}function Stats({showPanel:Z=0,className:_,parent:K}){const te=useEffectfulState(()=>new StatsImpl,[]);return reactExports.useEffect(()=>{if(te){const ne=K&&K.current||document.body;te.showPanel(Z),ne==null||ne.appendChild(te.dom);const ie=(_??"").split(" ").filter(le=>le);ie.length&&te.dom.classList.add(...ie);const oe=addEffect(()=>te.begin()),se=addAfterEffect(()=>te.end());return()=>{ie.length&&te.dom.classList.remove(...ie),ne==null||ne.removeChild(te.dom),oe(),se()}}},[K,te,_,Z]),null}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var Z="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=Z,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var Z=requireReactPropTypesSecret();function _(){}function K(){}return K.resetWarningCache=_,factoryWithThrowingShims=function(){function te(oe,se,le,ce,fe,pe){if(pe!==Z){var me=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw me.name="Invariant Violation",me}}te.isRequired=te;function ne(){return te}var ie={array:te,bigint:te,bool:te,func:te,number:te,object:te,string:te,symbol:te,any:te,arrayOf:ne,element:te,elementType:te,instanceOf:ne,node:te,objectOf:ne,oneOf:ne,oneOfType:ne,shape:ne,exact:ne,checkPropTypes:K,resetWarningCache:_};return ie.PropTypes=ie,ie},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),CameraShake=reactExports.forwardRef(({intensity:Z=1,decay:_,decayRate:K=.65,maxYaw:te=.1,maxPitch:ne=.1,maxRoll:ie=.1,yawFrequency:oe=.1,pitchFrequency:se=.1,rollFrequency:le=.1},ce)=>{const fe=useThree(Te=>Te.camera),pe=useThree(Te=>Te.controls),me=reactExports.useRef(Z),ve=reactExports.useRef(fe.rotation.clone()),[ye]=reactExports.useState(()=>new SimplexNoise),[Ee]=reactExports.useState(()=>new SimplexNoise),[Se]=reactExports.useState(()=>new SimplexNoise),_e=()=>{(me.current<0||me.current>1)&&(me.current=me.current<0?0:1)};return reactExports.useImperativeHandle(ce,()=>({getIntensity:()=>me.current,setIntensity:Te=>{me.current=Te,_e()}}),[]),reactExports.useEffect(()=>{if(pe){const Te=()=>void(ve.current=fe.rotation.clone());return pe.addEventListener("change",Te),Te(),()=>void pe.removeEventListener("change",Te)}},[fe,pe]),useFrame((Te,Re)=>{const Pe=Math.pow(me.current,2),Fe=te*Pe*ye.noise(Te.clock.elapsedTime*oe,1),$e=ne*Pe*Ee.noise(Te.clock.elapsedTime*se,1),ke=ie*Pe*Se.noise(Te.clock.elapsedTime*le,1);fe.rotation.set(ve.current.x+$e,ve.current.y+Fe,ve.current.z+ke),_&&me.current>0&&(me.current-=K*Re,_e())}),null});function ThreeCanvas({children:Z,showState:_,className:K,style:te}){const{setMousePos:ne}=reactExports.useContext(GlobalStateContext),ie=oe=>{const se=oe;ne({x:se.clientX,y:se.clientY})};return jsxRuntimeExports.jsx(Canvas$1,{className:K==null?void 0:K.trim(),style:te,onPointerMove:ie,fallback:jsxRuntimeExports.jsx("div",{children:"Sorry no WebGL supported!"}),children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Z,_&&jsxRuntimeExports.jsx(Stats,{})]})})}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function $6ed0406888f73fc4$var$setRef$1(Z,_){typeof Z=="function"?Z(_):Z!=null&&(Z.current=_)}function $6ed0406888f73fc4$export$43e446d32b3d21af$1(...Z){return _=>Z.forEach(K=>$6ed0406888f73fc4$var$setRef$1(K,_))}const $5e63c961fc1ce211$export$8c6ed5c666ac1360$1=reactExports.forwardRef((Z,_)=>{const{children:K,...te}=Z,ne=reactExports.Children.toArray(K),ie=ne.find($5e63c961fc1ce211$var$isSlottable$1);if(ie){const oe=ie.props.children,se=ne.map(le=>le===ie?reactExports.Children.count(oe)>1?reactExports.Children.only(null):reactExports.isValidElement(oe)?oe.props.children:null:le);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone$1,_extends$1({},te,{ref:_}),reactExports.isValidElement(oe)?reactExports.cloneElement(oe,void 0,se):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone$1,_extends$1({},te,{ref:_}),K)});$5e63c961fc1ce211$export$8c6ed5c666ac1360$1.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone$1=reactExports.forwardRef((Z,_)=>{const{children:K,...te}=Z;return reactExports.isValidElement(K)?reactExports.cloneElement(K,{...$5e63c961fc1ce211$var$mergeProps$1(te,K.props),ref:$6ed0406888f73fc4$export$43e446d32b3d21af$1(_,K.ref)}):reactExports.Children.count(K)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone$1.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45$1=({children:Z})=>reactExports.createElement(reactExports.Fragment,null,Z);function $5e63c961fc1ce211$var$isSlottable$1(Z){return reactExports.isValidElement(Z)&&Z.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45$1}function $5e63c961fc1ce211$var$mergeProps$1(Z,_){const K={..._};for(const te in _){const ne=Z[te],ie=_[te];/^on[A-Z]/.test(te)?ne&&ie?K[te]=(...se)=>{ie(...se),ne(...se)}:ne&&(K[te]=ne):te==="style"?K[te]={...ne,...ie}:te==="className"&&(K[te]=[ne,ie].filter(Boolean).join(" "))}return{...Z,...K}}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((Z,_)=>{const K=reactExports.forwardRef((te,ne)=>{const{asChild:ie,...oe}=te,se=ie?$5e63c961fc1ce211$export$8c6ed5c666ac1360$1:_;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(se,_extends$1({},oe,{ref:ne}))});return K.displayName=`Primitive.${_}`,{...Z,[_]:K}},{}),$f1701beae083dbae$export$602eac185826482c=reactExports.forwardRef((Z,_)=>{var K;const{container:te=globalThis==null||(K=globalThis.document)===null||K===void 0?void 0:K.body,...ne}=Z;return te?ReactDOM.createPortal(reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},ne,{ref:_})),te):null}),$f1701beae083dbae$export$be92b6f5f03c0fe9=$f1701beae083dbae$export$602eac185826482c;var has=Object.prototype.hasOwnProperty;function dequal(Z,_){var K,te;if(Z===_)return!0;if(Z&&_&&(K=Z.constructor)===_.constructor){if(K===Date)return Z.getTime()===_.getTime();if(K===RegExp)return Z.toString()===_.toString();if(K===Array){if((te=Z.length)===_.length)for(;te--&&dequal(Z[te],_[te]););return te===-1}if(!K||typeof Z=="object"){te=0;for(K in Z)if(has.call(Z,K)&&++te&&!has.call(_,K)||!(K in _)||!dequal(Z[K],_[K]))return!1;return Object.keys(_).length===te}}return Z!==Z&&_!==_}function shallow(Z,_){if(Object.is(Z,_))return!0;if(typeof Z!="object"||Z===null||typeof _!="object"||_===null)return!1;const K=Object.keys(Z);if(K.length!==Object.keys(_).length)return!1;for(let te=0;te<K.length;te++)if(!Object.prototype.hasOwnProperty.call(_,K[te])||!Object.is(Z[K[te]],_[K[te]]))return!1;return!0}var Rule=function(_,K,te,ne){this.name=_,this.fn=K,this.args=te,this.modifiers=ne};Rule.prototype._test=function(_){var K=this.fn;try{testAux(this.modifiers.slice(),K,this)(_)}catch{K=function(){return!1}}try{return testAux(this.modifiers.slice(),K,this)(_)}catch{return!1}};Rule.prototype._check=function(_){try{testAux(this.modifiers.slice(),this.fn,this)(_)}catch{if(testAux(this.modifiers.slice(),function(te){return te},this)(!1))return}if(!testAux(this.modifiers.slice(),this.fn,this)(_))throw null};Rule.prototype._testAsync=function(_){var K=this;return new Promise(function(te,ne){testAsyncAux(K.modifiers.slice(),K.fn,K)(_).then(function(ie){ie?te(_):ne(null)}).catch(function(ie){return ne(ie)})})};function pickFn(Z,_){return _===void 0&&(_="simple"),typeof Z=="object"?Z[_]:Z}function testAux(Z,_,K){if(Z.length){var te=Z.shift(),ne=testAux(Z,_,K);return te.perform(ne,K)}else return pickFn(_)}function testAsyncAux(Z,_,K){if(Z.length){var te=Z.shift(),ne=testAsyncAux(Z,_,K);return te.performAsync(ne,K)}else return function(ie){return Promise.resolve(pickFn(_,"async")(ie))}}var Modifier=function(_,K,te){this.name=_,this.perform=K,this.performAsync=te},ValidationError=function(Z){function _(K,te,ne,ie){for(var oe=[],se=arguments.length-4;se-- >0;)oe[se]=arguments[se+4];Z.call(this,oe),Z.captureStackTrace&&Z.captureStackTrace(this,_),this.rule=K,this.value=te,this.cause=ne,this.target=ie}return Z&&(_.__proto__=Z),_.prototype=Object.create(Z&&Z.prototype),_.prototype.constructor=_,_}(Error),Context=function(_,K){_===void 0&&(_=[]),K===void 0&&(K=[]),this.chain=_,this.nextRuleModifiers=K};Context.prototype._applyRule=function(_,K){var te=this;return function(){for(var ne=[],ie=arguments.length;ie--;)ne[ie]=arguments[ie];return te.chain.push(new Rule(K,_.apply(te,ne),ne,te.nextRuleModifiers)),te.nextRuleModifiers=[],te}};Context.prototype._applyModifier=function(_,K){return this.nextRuleModifiers.push(new Modifier(K,_.simple,_.async)),this};Context.prototype._clone=function(){return new Context(this.chain.slice(),this.nextRuleModifiers.slice())};Context.prototype.test=function(_){return this.chain.every(function(K){return K._test(_)})};Context.prototype.testAll=function(_){var K=[];return this.chain.forEach(function(te){try{te._check(_)}catch(ne){K.push(new ValidationError(te,_,ne))}}),K};Context.prototype.check=function(_){this.chain.forEach(function(K){try{K._check(_)}catch(te){throw new ValidationError(K,_,te)}})};Context.prototype.testAsync=function(_){var K=this;return new Promise(function(te,ne){executeAsyncRules(_,K.chain.slice(),te,ne)})};function executeAsyncRules(Z,_,K,te){if(_.length){var ne=_.shift();ne._testAsync(Z).then(function(){executeAsyncRules(Z,_,K,te)},function(ie){te(new ValidationError(ne,Z,ie))})}else K(Z)}var consideredEmpty=function(Z,_){return _&&typeof Z=="string"&&Z.trim().length===0?!0:Z==null};function optional(Z,_){return _===void 0&&(_=!1),{simple:function(K){return consideredEmpty(K,_)||Z.check(K)===void 0},async:function(K){return consideredEmpty(K,_)||Z.testAsync(K)}}}function v8n(){return typeof Proxy<"u"?proxyContext(new Context):proxylessContext(new Context)}var customRules={};v8n.extend=function(Z){Object.assign(customRules,Z)};v8n.clearCustomRules=function(){customRules={}};function proxyContext(Z){return new Proxy(Z,{get:function(K,te){if(te in K)return K[te];var ne=proxyContext(Z._clone());if(te in availableModifiers)return ne._applyModifier(availableModifiers[te],te);if(te in customRules)return ne._applyRule(customRules[te],te);if(te in availableRules)return ne._applyRule(availableRules[te],te)}})}function proxylessContext(Z){var _=function(ne,ie){return Object.keys(ne).forEach(function(oe){ie[oe]=function(){for(var se=[],le=arguments.length;le--;)se[le]=arguments[le];var ce=proxylessContext(ie._clone()),fe=ce._applyRule(ne[oe],oe).apply(void 0,se);return fe}}),ie},K=_(availableRules,Z),te=_(customRules,K);return Object.keys(availableModifiers).forEach(function(ne){Object.defineProperty(te,ne,{get:function(){var ie=proxylessContext(te._clone());return ie._applyModifier(availableModifiers[ne],ne)}})}),te}var availableModifiers={not:{simple:function(Z){return function(_){return!Z(_)}},async:function(Z){return function(_){return Promise.resolve(Z(_)).then(function(K){return!K}).catch(function(){return!0})}}},some:{simple:function(Z){return function(_){return split(_).some(function(K){try{return Z(K)}catch{return!1}})}},async:function(Z){return function(_){return Promise.all(split(_).map(function(K){try{return Z(K).catch(function(){return!1})}catch{return!1}})).then(function(K){return K.some(Boolean)})}}},every:{simple:function(Z){return function(_){return _!==!1&&split(_).every(Z)}},async:function(Z){return function(_){return Promise.all(split(_).map(Z)).then(function(K){return K.every(Boolean)})}}},strict:{simple:function(Z,_){return function(K){return isSchemaRule(_)&&K&&typeof K=="object"?Object.keys(_.args[0]).length===Object.keys(K).length&&Z(K):Z(K)}},async:function(Z,_){return function(K){return Promise.resolve(Z(K)).then(function(te){return isSchemaRule(_)&&K&&typeof K=="object"?Object.keys(_.args[0]).length===Object.keys(K).length&&te:te}).catch(function(){return!1})}}}};function isSchemaRule(Z){return Z&&Z.name==="schema"&&Z.args.length>0&&typeof Z.args[0]=="object"}function split(Z){return typeof Z=="string"?Z.split(""):Z}var availableRules={equal:function(Z){return function(_){return _==Z}},exact:function(Z){return function(_){return _===Z}},number:function(Z){return Z===void 0&&(Z=!0),function(_){return typeof _=="number"&&(Z||isFinite(_))}},integer:function(){return function(Z){var _=Number.isInteger||isIntegerPolyfill;return _(Z)}},numeric:function(){return function(Z){return!isNaN(parseFloat(Z))&&isFinite(Z)}},string:function(){return testType("string")},boolean:function(){return testType("boolean")},undefined:function(){return testType("undefined")},null:function(){return testType("null")},array:function(){return testType("array")},object:function(){return testType("object")},instanceOf:function(Z){return function(_){return _ instanceof Z}},pattern:function(Z){return function(_){return Z.test(_)}},lowercase:function(){return function(Z){return typeof Z=="boolean"||Z===Z.toLowerCase()&&Z.trim()!==""}},uppercase:function(){return function(Z){return Z===Z.toUpperCase()&&Z.trim()!==""}},vowel:function(){return function(Z){return/^[aeiou]+$/i.test(Z)}},consonant:function(){return function(Z){return/^(?=[^aeiou])([a-z]+)$/i.test(Z)}},first:function(Z){return function(_){return _[0]==Z}},last:function(Z){return function(_){return _[_.length-1]==Z}},empty:function(){return function(Z){return Z.length===0}},length:function(Z,_){return function(K){return K.length>=Z&&K.length<=(_||Z)}},minLength:function(Z){return function(_){return _.length>=Z}},maxLength:function(Z){return function(_){return _.length<=Z}},negative:function(){return function(Z){return Z<0}},positive:function(){return function(Z){return Z>=0}},between:function(Z,_){return function(K){return K>=Z&&K<=_}},range:function(Z,_){return function(K){return K>=Z&&K<=_}},lessThan:function(Z){return function(_){return _<Z}},lessThanOrEqual:function(Z){return function(_){return _<=Z}},greaterThan:function(Z){return function(_){return _>Z}},greaterThanOrEqual:function(Z){return function(_){return _>=Z}},even:function(){return function(Z){return Z%2===0}},odd:function(){return function(Z){return Z%2!==0}},includes:function(Z){return function(_){return~_.indexOf(Z)}},schema:function(Z){return testSchema(Z)},passesAnyOf:function(){for(var Z=[],_=arguments.length;_--;)Z[_]=arguments[_];return function(K){return Z.some(function(te){return te.test(K)})}},optional};function testType(Z){return function(_){return Array.isArray(_)&&Z==="array"||_===null&&Z==="null"||typeof _===Z}}function isIntegerPolyfill(Z){return typeof Z=="number"&&isFinite(Z)&&Math.floor(Z)===Z}function testSchema(Z){return{simple:function(_){var K=[];if(Object.keys(Z).forEach(function(te){var ne=Z[te];try{ne.check((_||{})[te])}catch(ie){ie.target=te,K.push(ie)}}),K.length>0)throw K;return!0},async:function(_){var K=[],te=Object.keys(Z).map(function(ne){var ie=Z[ne];return ie.testAsync((_||{})[ne]).catch(function(oe){oe.target=ne,K.push(oe)})});return Promise.all(te).then(function(){if(K.length>0)throw K;return!0})}}}var e$2="colors",t$2="sizes",r$3="space",n$3={gap:r$3,gridGap:r$3,columnGap:r$3,gridColumnGap:r$3,rowGap:r$3,gridRowGap:r$3,inset:r$3,insetBlock:r$3,insetBlockEnd:r$3,insetBlockStart:r$3,insetInline:r$3,insetInlineEnd:r$3,insetInlineStart:r$3,margin:r$3,marginTop:r$3,marginRight:r$3,marginBottom:r$3,marginLeft:r$3,marginBlock:r$3,marginBlockEnd:r$3,marginBlockStart:r$3,marginInline:r$3,marginInlineEnd:r$3,marginInlineStart:r$3,padding:r$3,paddingTop:r$3,paddingRight:r$3,paddingBottom:r$3,paddingLeft:r$3,paddingBlock:r$3,paddingBlockEnd:r$3,paddingBlockStart:r$3,paddingInline:r$3,paddingInlineEnd:r$3,paddingInlineStart:r$3,top:r$3,right:r$3,bottom:r$3,left:r$3,scrollMargin:r$3,scrollMarginTop:r$3,scrollMarginRight:r$3,scrollMarginBottom:r$3,scrollMarginLeft:r$3,scrollMarginX:r$3,scrollMarginY:r$3,scrollMarginBlock:r$3,scrollMarginBlockEnd:r$3,scrollMarginBlockStart:r$3,scrollMarginInline:r$3,scrollMarginInlineEnd:r$3,scrollMarginInlineStart:r$3,scrollPadding:r$3,scrollPaddingTop:r$3,scrollPaddingRight:r$3,scrollPaddingBottom:r$3,scrollPaddingLeft:r$3,scrollPaddingX:r$3,scrollPaddingY:r$3,scrollPaddingBlock:r$3,scrollPaddingBlockEnd:r$3,scrollPaddingBlockStart:r$3,scrollPaddingInline:r$3,scrollPaddingInlineEnd:r$3,scrollPaddingInlineStart:r$3,fontSize:"fontSizes",background:e$2,backgroundColor:e$2,backgroundImage:e$2,borderImage:e$2,border:e$2,borderBlock:e$2,borderBlockEnd:e$2,borderBlockStart:e$2,borderBottom:e$2,borderBottomColor:e$2,borderColor:e$2,borderInline:e$2,borderInlineEnd:e$2,borderInlineStart:e$2,borderLeft:e$2,borderLeftColor:e$2,borderRight:e$2,borderRightColor:e$2,borderTop:e$2,borderTopColor:e$2,caretColor:e$2,color:e$2,columnRuleColor:e$2,fill:e$2,outline:e$2,outlineColor:e$2,stroke:e$2,textDecorationColor:e$2,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t$2,minBlockSize:t$2,maxBlockSize:t$2,inlineSize:t$2,minInlineSize:t$2,maxInlineSize:t$2,width:t$2,minWidth:t$2,maxWidth:t$2,height:t$2,minHeight:t$2,maxHeight:t$2,flexBasis:t$2,gridTemplateColumns:t$2,gridTemplateRows:t$2,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i$4=(Z,_)=>typeof _=="function"?{"()":Function.prototype.toString.call(_)}:_,o$3=()=>{const Z=Object.create(null);return(_,K,...te)=>{const ne=(ie=>JSON.stringify(ie,i$4))(_);return ne in Z?Z[ne]:Z[ne]=K(_,...te)}},l$3=Symbol.for("sxs.internal"),s$4=(Z,_)=>Object.defineProperties(Z,Object.getOwnPropertyDescriptors(_)),a$3=Z=>{for(const _ in Z)return!0;return!1},{hasOwnProperty:c$4}=Object.prototype,d$4=Z=>Z.includes("-")?Z:Z.replace(/[A-Z]/g,_=>"-"+_.toLowerCase()),g$4=/\s+(?![^()]*\))/,p$4=Z=>_=>Z(...typeof _=="string"?String(_).split(g$4):[_]),u$4={appearance:Z=>({WebkitAppearance:Z,appearance:Z}),backfaceVisibility:Z=>({WebkitBackfaceVisibility:Z,backfaceVisibility:Z}),backdropFilter:Z=>({WebkitBackdropFilter:Z,backdropFilter:Z}),backgroundClip:Z=>({WebkitBackgroundClip:Z,backgroundClip:Z}),boxDecorationBreak:Z=>({WebkitBoxDecorationBreak:Z,boxDecorationBreak:Z}),clipPath:Z=>({WebkitClipPath:Z,clipPath:Z}),content:Z=>({content:Z.includes('"')||Z.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(Z)?Z:`"${Z}"`}),hyphens:Z=>({WebkitHyphens:Z,hyphens:Z}),maskImage:Z=>({WebkitMaskImage:Z,maskImage:Z}),maskSize:Z=>({WebkitMaskSize:Z,maskSize:Z}),tabSize:Z=>({MozTabSize:Z,tabSize:Z}),textSizeAdjust:Z=>({WebkitTextSizeAdjust:Z,textSizeAdjust:Z}),userSelect:Z=>({WebkitUserSelect:Z,userSelect:Z}),marginBlock:p$4((Z,_)=>({marginBlockStart:Z,marginBlockEnd:_||Z})),marginInline:p$4((Z,_)=>({marginInlineStart:Z,marginInlineEnd:_||Z})),maxSize:p$4((Z,_)=>({maxBlockSize:Z,maxInlineSize:_||Z})),minSize:p$4((Z,_)=>({minBlockSize:Z,minInlineSize:_||Z})),paddingBlock:p$4((Z,_)=>({paddingBlockStart:Z,paddingBlockEnd:_||Z})),paddingInline:p$4((Z,_)=>({paddingInlineStart:Z,paddingInlineEnd:_||Z}))},h$4=/([\d.]+)([^]*)/,f$4=(Z,_)=>Z.length?Z.reduce((K,te)=>(K.push(..._.map(ne=>ne.includes("&")?ne.replace(/&/g,/[ +>|~]/.test(te)&&/&.*&/.test(ne)?`:is(${te})`:te):te+" "+ne)),K),[]):_,m$4=(Z,_)=>Z in b$4&&typeof _=="string"?_.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(K,te,ne,ie)=>te+(ne==="stretch"?`-moz-available${ie};${d$4(Z)}:${te}-webkit-fill-available`:`-moz-fit-content${ie};${d$4(Z)}:${te}fit-content`)+ie):String(_),b$4={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S$3=Z=>Z?Z+"-":"",k$3=(Z,_,K)=>Z.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(te,ne,ie,oe,se)=>oe=="$"==!!ie?te:(ne||oe=="--"?"calc(":"")+"var(--"+(oe==="$"?S$3(_)+(se.includes("$")?"":S$3(K))+se.replace(/\$/g,"-"):se)+")"+(ne||oe=="--"?"*"+(ne||"")+(ie||"1")+")":"")),y$4=/\s*,\s*(?![^()]*\))/,B=Object.prototype.toString,$$2=(Z,_,K,te,ne)=>{let ie,oe,se;const le=(ce,fe,pe)=>{let me,ve;const ye=Ee=>{for(me in Ee){const Te=me.charCodeAt(0)===64,Re=Te&&Array.isArray(Ee[me])?Ee[me]:[Ee[me]];for(ve of Re){const Pe=/[A-Z]/.test(_e=me)?_e:_e.replace(/-[^]/g,$e=>$e[1].toUpperCase()),Fe=typeof ve=="object"&&ve&&ve.toString===B&&(!te.utils[Pe]||!fe.length);if(Pe in te.utils&&!Fe){const $e=te.utils[Pe];if($e!==oe){oe=$e,ye($e(ve)),oe=null;continue}}else if(Pe in u$4){const $e=u$4[Pe];if($e!==se){se=$e,ye($e(ve)),se=null;continue}}if(Te&&(Se=me.slice(1)in te.media?"@media "+te.media[me.slice(1)]:me,me=Se.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,($e,ke,ze,Ue,Oe,Ve)=>{const Ye=h$4.test(ke),Ke=.0625*(Ye?-1:1),[rt,ct]=Ye?[Ue,ke]:[ke,Ue];return"("+(ze[0]==="="?"":ze[0]===">"===Ye?"max-":"min-")+rt+":"+(ze[0]!=="="&&ze.length===1?ct.replace(h$4,(at,mt,je)=>Number(mt)+Ke*(ze===">"?1:-1)+je):ct)+(Oe?") and ("+(Oe[0]===">"?"min-":"max-")+rt+":"+(Oe.length===1?Ve.replace(h$4,(at,mt,je)=>Number(mt)+Ke*(Oe===">"?-1:1)+je):Ve):"")+")"})),Fe){const $e=Te?pe.concat(me):[...pe],ke=Te?[...fe]:f$4(fe,me.split(y$4));ie!==void 0&&ne(x$3(...ie)),ie=void 0,le(ve,ke,$e)}else ie===void 0&&(ie=[[],fe,pe]),me=Te||me.charCodeAt(0)!==36?me:`--${S$3(te.prefix)}${me.slice(1).replace(/\$/g,"-")}`,ve=Fe?ve:typeof ve=="number"?ve&&Pe in I$2?String(ve)+"px":String(ve):k$3(m$4(Pe,ve??""),te.prefix,te.themeMap[Pe]),ie[0].push(`${Te?`${me} `:`${d$4(me)}:`}${ve}`)}}var Se,_e};ye(ce),ie!==void 0&&ne(x$3(...ie)),ie=void 0};le(Z,_,K)},x$3=(Z,_,K)=>`${K.map(te=>`${te}{`).join("")}${_.length?`${_.join(",")}{`:""}${Z.join(";")}${_.length?"}":""}${Array(K.length?K.length+1:0).join("}")}`,I$2={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R$2=Z=>String.fromCharCode(Z+(Z>25?39:97)),z$1=Z=>(_=>{let K,te="";for(K=Math.abs(_);K>52;K=K/52|0)te=R$2(K%52)+te;return R$2(K%52)+te})(((_,K)=>{let te=K.length;for(;te;)_=33*_^K.charCodeAt(--te);return _})(5381,JSON.stringify(Z))>>>0),W$1=["themed","global","styled","onevar","resonevar","allvar","inline"],j$1=Z=>{if(Z.href&&!Z.href.startsWith(location.origin))return!1;try{return!!Z.cssRules}catch{return!1}},E$1=Z=>{let _;const K=()=>{const{cssRules:ne}=_.sheet;return[].map.call(ne,(ie,oe)=>{const{cssText:se}=ie;let le="";if(se.startsWith("--sxs"))return"";if(ne[oe-1]&&(le=ne[oe-1].cssText).startsWith("--sxs")){if(!ie.cssRules.length)return"";for(const ce in _.rules)if(_.rules[ce].group===ie)return`--sxs{--sxs:${[..._.rules[ce].cache].join(" ")}}${se}`;return ie.cssRules.length?`${le}${se}`:""}return se}).join("")},te=()=>{if(_){const{rules:se,sheet:le}=_;if(!le.deleteRule){for(;Object(Object(le.cssRules)[0]).type===3;)le.cssRules.splice(0,1);le.cssRules=[]}for(const ce in se)delete se[ce]}const ne=Object(Z).styleSheets||[];for(const se of ne)if(j$1(se)){for(let le=0,ce=se.cssRules;ce[le];++le){const fe=Object(ce[le]);if(fe.type!==1)continue;const pe=Object(ce[le+1]);if(pe.type!==4)continue;++le;const{cssText:me}=fe;if(!me.startsWith("--sxs"))continue;const ve=me.slice(14,-3).trim().split(/\s+/),ye=W$1[ve[0]];ye&&(_||(_={sheet:se,reset:te,rules:{},toString:K}),_.rules[ye]={group:pe,index:le,cache:new Set(ve)})}if(_)break}if(!_){const se=(le,ce)=>({type:ce,cssRules:[],insertRule(fe,pe){this.cssRules.splice(pe,0,se(fe,{import:3,undefined:1}[(fe.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return le==="@media{}"?`@media{${[].map.call(this.cssRules,fe=>fe.cssText).join("")}}`:le}});_={sheet:Z?(Z.head||Z).appendChild(document.createElement("style")).sheet:se("","text/css"),rules:{},reset:te,toString:K}}const{sheet:ie,rules:oe}=_;for(let se=W$1.length-1;se>=0;--se){const le=W$1[se];if(!oe[le]){const ce=W$1[se+1],fe=oe[ce]?oe[ce].index:ie.cssRules.length;ie.insertRule("@media{}",fe),ie.insertRule(`--sxs{--sxs:${se}}`,fe),oe[le]={group:ie.cssRules[fe+1],index:fe,cache:new Set([se])}}v$3(oe[le])}};return te(),_},v$3=Z=>{const _=Z.group;let K=_.cssRules.length;Z.apply=te=>{try{_.insertRule(te,K),++K}catch{}}},T$3=Symbol(),w$2=o$3(),M$1=(Z,_)=>w$2(Z,()=>(...K)=>{let te={type:null,composers:new Set};for(const ne of K)if(ne!=null)if(ne[l$3]){te.type==null&&(te.type=ne[l$3].type);for(const ie of ne[l$3].composers)te.composers.add(ie)}else ne.constructor!==Object||ne.$$typeof?te.type==null&&(te.type=ne):te.composers.add(C$1(ne,Z));return te.type==null&&(te.type="span"),te.composers.size||te.composers.add(["PJLV",{},[],[],{},[]]),P$1(Z,te,_)}),C$1=({variants:Z,compoundVariants:_,defaultVariants:K,...te},ne)=>{const ie=`${S$3(ne.prefix)}c-${z$1(te)}`,oe=[],se=[],le=Object.create(null),ce=[];for(const me in K)le[me]=String(K[me]);if(typeof Z=="object"&&Z)for(const me in Z){fe=le,pe=me,c$4.call(fe,pe)||(le[me]="undefined");const ve=Z[me];for(const ye in ve){const Ee={[me]:String(ye)};String(ye)==="undefined"&&ce.push(me);const Se=ve[ye],_e=[Ee,Se,!a$3(Se)];oe.push(_e)}}var fe,pe;if(typeof _=="object"&&_)for(const me of _){let{css:ve,...ye}=me;ve=typeof ve=="object"&&ve||{};for(const Se in ye)ye[Se]=String(ye[Se]);const Ee=[ye,ve,!a$3(ve)];se.push(Ee)}return[ie,te,oe,se,le,ce]},P$1=(Z,_,K)=>{const[te,ne,ie,oe]=L$3(_.composers),se=typeof _.type=="function"||_.type.$$typeof?(pe=>{function me(){for(let ve=0;ve<me[T$3].length;ve++){const[ye,Ee]=me[T$3][ve];pe.rules[ye].apply(Ee)}return me[T$3]=[],null}return me[T$3]=[],me.rules={},W$1.forEach(ve=>me.rules[ve]={apply:ye=>me[T$3].push([ve,ye])}),me})(K):null,le=(se||K).rules,ce=`.${te}${ne.length>1?`:where(.${ne.slice(1).join(".")})`:""}`,fe=pe=>{pe=typeof pe=="object"&&pe||A$1;const{css:me,...ve}=pe,ye={};for(const _e in ie)if(delete ve[_e],_e in pe){let Te=pe[_e];typeof Te=="object"&&Te?ye[_e]={"@initial":ie[_e],...Te}:(Te=String(Te),ye[_e]=Te!=="undefined"||oe.has(_e)?Te:ie[_e])}else ye[_e]=ie[_e];const Ee=new Set([...ne]);for(const[_e,Te,Re,Pe]of _.composers){K.rules.styled.cache.has(_e)||(K.rules.styled.cache.add(_e),$$2(Te,[`.${_e}`],[],Z,ke=>{le.styled.apply(ke)}));const Fe=O$1(Re,ye,Z.media),$e=O$1(Pe,ye,Z.media,!0);for(const ke of Fe)if(ke!==void 0)for(const[ze,Ue,Oe]of ke){const Ve=`${_e}-${z$1(Ue)}-${ze}`;Ee.add(Ve);const Ye=(Oe?K.rules.resonevar:K.rules.onevar).cache,Ke=Oe?le.resonevar:le.onevar;Ye.has(Ve)||(Ye.add(Ve),$$2(Ue,[`.${Ve}`],[],Z,rt=>{Ke.apply(rt)}))}for(const ke of $e)if(ke!==void 0)for(const[ze,Ue]of ke){const Oe=`${_e}-${z$1(Ue)}-${ze}`;Ee.add(Oe),K.rules.allvar.cache.has(Oe)||(K.rules.allvar.cache.add(Oe),$$2(Ue,[`.${Oe}`],[],Z,Ve=>{le.allvar.apply(Ve)}))}}if(typeof me=="object"&&me){const _e=`${te}-i${z$1(me)}-css`;Ee.add(_e),K.rules.inline.cache.has(_e)||(K.rules.inline.cache.add(_e),$$2(me,[`.${_e}`],[],Z,Te=>{le.inline.apply(Te)}))}for(const _e of String(pe.className||"").trim().split(/\s+/))_e&&Ee.add(_e);const Se=ve.className=[...Ee].join(" ");return{type:_.type,className:Se,selector:ce,props:ve,toString:()=>Se,deferredInjector:se}};return s$4(fe,{className:te,selector:ce,[l$3]:_,toString:()=>(K.rules.styled.cache.has(te)||fe(),te)})},L$3=Z=>{let _="";const K=[],te={},ne=[];for(const[ie,,,,oe,se]of Z){_===""&&(_=ie),K.push(ie),ne.push(...se);for(const le in oe){const ce=oe[le];(te[le]===void 0||ce!=="undefined"||se.includes(ce))&&(te[le]=ce)}}return[_,K,te,new Set(ne)]},O$1=(Z,_,K,te)=>{const ne=[];e:for(let[ie,oe,se]of Z){if(se)continue;let le,ce=0,fe=!1;for(le in ie){const pe=ie[le];let me=_[le];if(me!==pe){if(typeof me!="object"||!me)continue e;{let ve,ye,Ee=0;for(const Se in me){if(pe===String(me[Se])){if(Se!=="@initial"){const _e=Se.slice(1);(ye=ye||[]).push(_e in K?K[_e]:Se.replace(/^@media ?/,"")),fe=!0}ce+=Ee,ve=!0}++Ee}if(ye&&ye.length&&(oe={["@media "+ye.join(", ")]:oe}),!ve)continue e}}}(ne[ce]=ne[ce]||[]).push([te?"cv":`${le}-${ie[le]}`,oe,fe])}return ne},A$1={},N$2=o$3(),D$2=(Z,_)=>N$2(Z,()=>(...K)=>{const te=()=>{for(let ne of K){ne=typeof ne=="object"&&ne||{};let ie=z$1(ne);if(!_.rules.global.cache.has(ie)){if(_.rules.global.cache.add(ie),"@import"in ne){let oe=[].indexOf.call(_.sheet.cssRules,_.rules.themed.group)-1;for(let se of[].concat(ne["@import"]))se=se.includes('"')||se.includes("'")?se:`"${se}"`,_.sheet.insertRule(`@import ${se};`,oe++);delete ne["@import"]}$$2(ne,[],[],Z,oe=>{_.rules.global.apply(oe)})}}return""};return s$4(te,{toString:te})}),H$2=o$3(),V$1=(Z,_)=>H$2(Z,()=>K=>{const te=`${S$3(Z.prefix)}k-${z$1(K)}`,ne=()=>{if(!_.rules.global.cache.has(te)){_.rules.global.cache.add(te);const ie=[];$$2(K,[],[],Z,se=>ie.push(se));const oe=`@keyframes ${te}{${ie.join("")}}`;_.rules.global.apply(oe)}return te};return s$4(ne,{get name(){return ne()},toString:ne})}),G=class{constructor(Z,_,K,te){this.token=Z==null?"":String(Z),this.value=_==null?"":String(_),this.scale=K==null?"":String(K),this.prefix=te==null?"":String(te)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S$3(this.prefix)+S$3(this.scale)+this.token}toString(){return this.computedValue}},F$1=o$3(),J$1=(Z,_)=>F$1(Z,()=>(K,te)=>{te=typeof K=="object"&&K||Object(te);const ne=`.${K=(K=typeof K=="string"?K:"")||`${S$3(Z.prefix)}t-${z$1(te)}`}`,ie={},oe=[];for(const le in te){ie[le]={};for(const ce in te[le]){const fe=`--${S$3(Z.prefix)}${le}-${ce}`,pe=k$3(String(te[le][ce]),Z.prefix,le);ie[le][ce]=new G(ce,pe,le,Z.prefix),oe.push(`${fe}:${pe}`)}}const se=()=>{if(oe.length&&!_.rules.themed.cache.has(K)){_.rules.themed.cache.add(K);const le=`${te===Z.theme?":root,":""}.${K}{${oe.join(";")}}`;_.rules.themed.apply(le)}return K};return{...ie,get className(){return se()},selector:ne,toString:se}}),U$1=o$3(),Y$1=o$3(),q$1=Z=>{const _=(K=>{let te=!1;const ne=U$1(K,ie=>{te=!0;const oe="prefix"in(ie=typeof ie=="object"&&ie||{})?String(ie.prefix):"",se=typeof ie.media=="object"&&ie.media||{},le=typeof ie.root=="object"?ie.root||null:globalThis.document||null,ce=typeof ie.theme=="object"&&ie.theme||{},fe={prefix:oe,media:se,theme:ce,themeMap:typeof ie.themeMap=="object"&&ie.themeMap||{...n$3},utils:typeof ie.utils=="object"&&ie.utils||{}},pe=E$1(le),me={css:M$1(fe,pe),globalCss:D$2(fe,pe),keyframes:V$1(fe,pe),createTheme:J$1(fe,pe),reset(){pe.reset(),me.theme.toString()},theme:{},sheet:pe,config:fe,prefix:oe,getCssText:pe.toString,toString:pe.toString};return String(me.theme=me.createTheme(ce)),me});return te||ne.reset(),ne})(Z);return _.styled=(({config:K,sheet:te})=>Y$1(K,()=>{const ne=M$1(K,te);return(...ie)=>{const oe=ne(...ie),se=oe[l$3].type,le=React.forwardRef((ce,fe)=>{const pe=ce&&ce.as||se,{props:me,deferredInjector:ve}=oe(ce);return delete me.as,me.ref=fe,ve?React.createElement(React.Fragment,null,React.createElement(pe,me),React.createElement(ve,null)):React.createElement(pe,me)});return le.className=oe.className,le.displayName=`Styled.${se.displayName||se.name||se}`,le.selector=oe.selector,le.toString=()=>oe.selector,le[l$3]=oe[l$3],le}}))(_),_};function $e42e1063c40fb3ef$export$b9ecd428b558ff10(Z,_,{checkForDefaultPrevented:K=!0}={}){return function(ne){if(Z==null||Z(ne),K===!1||!ne.defaultPrevented)return _==null?void 0:_(ne)}}function $6ed0406888f73fc4$var$setRef(Z,_){typeof Z=="function"?Z(_):Z!=null&&(Z.current=_)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...Z){return _=>Z.forEach(K=>$6ed0406888f73fc4$var$setRef(K,_))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...Z){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...Z),Z)}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(Z,_=[]){let K=[];function te(ie,oe){const se=reactExports.createContext(oe),le=K.length;K=[...K,oe];function ce(pe){const{scope:me,children:ve,...ye}=pe,Ee=(me==null?void 0:me[Z][le])||se,Se=reactExports.useMemo(()=>ye,Object.values(ye));return reactExports.createElement(Ee.Provider,{value:Se},ve)}function fe(pe,me){const ve=(me==null?void 0:me[Z][le])||se,ye=reactExports.useContext(ve);if(ye)return ye;if(oe!==void 0)return oe;throw new Error(`\`${pe}\` must be used within \`${ie}\``)}return ce.displayName=ie+"Provider",[ce,fe]}const ne=()=>{const ie=K.map(oe=>reactExports.createContext(oe));return function(se){const le=(se==null?void 0:se[Z])||ie;return reactExports.useMemo(()=>({[`__scope${Z}`]:{...se,[Z]:le}}),[se,le])}};return ne.scopeName=Z,[te,$c512c27ab02ef895$var$composeContextScopes(ne,..._)]}function $c512c27ab02ef895$var$composeContextScopes(...Z){const _=Z[0];if(Z.length===1)return _;const K=()=>{const te=Z.map(ne=>({useScope:ne(),scopeName:ne.scopeName}));return function(ie){const oe=te.reduce((se,{useScope:le,scopeName:ce})=>{const pe=le(ie)[`__scope${ce}`];return{...se,...pe}},{});return reactExports.useMemo(()=>({[`__scope${_.scopeName}`]:oe}),[oe])}};return K.scopeName=_.scopeName,K}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((Z,_)=>{const{children:K,...te}=Z,ne=reactExports.Children.toArray(K),ie=ne.find($5e63c961fc1ce211$var$isSlottable);if(ie){const oe=ie.props.children,se=ne.map(le=>le===ie?reactExports.Children.count(oe)>1?reactExports.Children.only(null):reactExports.isValidElement(oe)?oe.props.children:null:le);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$1({},te,{ref:_}),reactExports.isValidElement(oe)?reactExports.cloneElement(oe,void 0,se):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$1({},te,{ref:_}),K)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((Z,_)=>{const{children:K,...te}=Z;return reactExports.isValidElement(K)?reactExports.cloneElement(K,{...$5e63c961fc1ce211$var$mergeProps(te,K.props),ref:$6ed0406888f73fc4$export$43e446d32b3d21af(_,K.ref)}):reactExports.Children.count(K)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:Z})=>reactExports.createElement(reactExports.Fragment,null,Z);function $5e63c961fc1ce211$var$isSlottable(Z){return reactExports.isValidElement(Z)&&Z.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(Z,_){const K={..._};for(const te in _){const ne=Z[te],ie=_[te];/^on[A-Z]/.test(te)?ne&&ie?K[te]=(...se)=>{ie(...se),ne(...se)}:ne&&(K[te]=ne):te==="style"?K[te]={...ne,...ie}:te==="className"&&(K[te]=[ne,ie].filter(Boolean).join(" "))}return{...Z,...K}}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((Z,_)=>{const K=reactExports.forwardRef((te,ne)=>{const{asChild:ie,...oe}=te,se=ie?$5e63c961fc1ce211$export$8c6ed5c666ac1360:_;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(se,{...oe,ref:ne})});return K.displayName=`Primitive.${_}`,{...Z,[_]:K}},{});function dispatchDiscreteCustomEvent(Z,_){Z&&reactDomExports.flushSync(()=>Z.dispatchEvent(_))}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Z){const _=reactExports.useRef(Z);return reactExports.useEffect(()=>{_.current=Z}),reactExports.useMemo(()=>(...K)=>{var te;return(te=_.current)===null||te===void 0?void 0:te.call(_,...K)},[])}function $addc16e1bbe58fd0$export$3a72a57244d6e765(Z,_=globalThis==null?void 0:globalThis.document){const K=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Z);reactExports.useEffect(()=>{const te=ne=>{ne.key==="Escape"&&K(ne)};return _.addEventListener("keydown",te),()=>_.removeEventListener("keydown",te)},[K,_])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((Z,_)=>{var K;const{disableOutsidePointerEvents:te=!1,onEscapeKeyDown:ne,onPointerDownOutside:ie,onFocusOutside:oe,onInteractOutside:se,onDismiss:le,...ce}=Z,fe=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[pe,me]=reactExports.useState(null),ve=(K=pe==null?void 0:pe.ownerDocument)!==null&&K!==void 0?K:globalThis==null?void 0:globalThis.document,[,ye]=reactExports.useState({}),Ee=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,ze=>me(ze)),Se=Array.from(fe.layers),[_e]=[...fe.layersWithOutsidePointerEventsDisabled].slice(-1),Te=Se.indexOf(_e),Re=pe?Se.indexOf(pe):-1,Pe=fe.layersWithOutsidePointerEventsDisabled.size>0,Fe=Re>=Te,$e=$5cb92bef7577960e$var$usePointerDownOutside(ze=>{const Ue=ze.target,Oe=[...fe.branches].some(Ve=>Ve.contains(Ue));!Fe||Oe||(ie==null||ie(ze),se==null||se(ze),ze.defaultPrevented||le==null||le())},ve),ke=$5cb92bef7577960e$var$useFocusOutside(ze=>{const Ue=ze.target;[...fe.branches].some(Ve=>Ve.contains(Ue))||(oe==null||oe(ze),se==null||se(ze),ze.defaultPrevented||le==null||le())},ve);return $addc16e1bbe58fd0$export$3a72a57244d6e765(ze=>{Re===fe.layers.size-1&&(ne==null||ne(ze),!ze.defaultPrevented&&le&&(ze.preventDefault(),le()))},ve),reactExports.useEffect(()=>{if(pe)return te&&(fe.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=ve.body.style.pointerEvents,ve.body.style.pointerEvents="none"),fe.layersWithOutsidePointerEventsDisabled.add(pe)),fe.layers.add(pe),$5cb92bef7577960e$var$dispatchUpdate(),()=>{te&&fe.layersWithOutsidePointerEventsDisabled.size===1&&(ve.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[pe,ve,te,fe]),reactExports.useEffect(()=>()=>{pe&&(fe.layers.delete(pe),fe.layersWithOutsidePointerEventsDisabled.delete(pe),$5cb92bef7577960e$var$dispatchUpdate())},[pe,fe]),reactExports.useEffect(()=>{const ze=()=>ye({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,ze),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,ze)},[]),reactExports.createElement(Primitive.div,_extends$1({},ce,{ref:Ee,style:{pointerEvents:Pe?Fe?"auto":"none":void 0,...Z.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onFocusCapture,ke.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onBlurCapture,ke.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onPointerDownCapture,$e.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(Z,_=globalThis==null?void 0:globalThis.document){const K=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Z),te=reactExports.useRef(!1),ne=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const ie=se=>{if(se.target&&!te.current){let ce=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,K,le,{discrete:!0})};const le={originalEvent:se};se.pointerType==="touch"?(_.removeEventListener("click",ne.current),ne.current=ce,_.addEventListener("click",ne.current,{once:!0})):ce()}te.current=!1},oe=window.setTimeout(()=>{_.addEventListener("pointerdown",ie)},0);return()=>{window.clearTimeout(oe),_.removeEventListener("pointerdown",ie),_.removeEventListener("click",ne.current)}},[_,K]),{onPointerDownCapture:()=>te.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(Z,_=globalThis==null?void 0:globalThis.document){const K=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Z),te=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ne=ie=>{ie.target&&!te.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,K,{originalEvent:ie},{discrete:!1})};return _.addEventListener("focusin",ne),()=>_.removeEventListener("focusin",ne)},[_,K]),{onFocusCapture:()=>te.current=!0,onBlurCapture:()=>te.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const Z=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(Z)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(Z,_,K,{discrete:te}){const ne=K.originalEvent.target,ie=new CustomEvent(Z,{bubbles:!1,cancelable:!0,detail:K});_&&ne.addEventListener(Z,_,{once:!0}),te?dispatchDiscreteCustomEvent(ne,ie):ne.dispatchEvent(ie)}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=$2AODx$react.useId||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(Z){const[_,K]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{K(te=>te??String($1746a345f3d73bb7$var$count++))},[Z]),_?`radix-${_}`:""}function t$1(Z){return Z.split("-")[0]}function e$1(Z){return Z.split("-")[1]}function n$2(Z){return["top","bottom"].includes(t$1(Z))?"x":"y"}function r$2(Z){return Z==="y"?"height":"width"}function i$3(Z,_,K){let{reference:te,floating:ne}=Z;const ie=te.x+te.width/2-ne.width/2,oe=te.y+te.height/2-ne.height/2,se=n$2(_),le=r$2(se),ce=te[le]/2-ne[le]/2,fe=se==="x";let pe;switch(t$1(_)){case"top":pe={x:ie,y:te.y-ne.height};break;case"bottom":pe={x:ie,y:te.y+te.height};break;case"right":pe={x:te.x+te.width,y:oe};break;case"left":pe={x:te.x-ne.width,y:oe};break;default:pe={x:te.x,y:te.y}}switch(e$1(_)){case"start":pe[se]-=ce*(K&&fe?-1:1);break;case"end":pe[se]+=ce*(K&&fe?-1:1)}return pe}const o$2=async(Z,_,K)=>{const{placement:te="bottom",strategy:ne="absolute",middleware:ie=[],platform:oe}=K,se=await(oe.isRTL==null?void 0:oe.isRTL(_));let le=await oe.getElementRects({reference:Z,floating:_,strategy:ne}),{x:ce,y:fe}=i$3(le,te,se),pe=te,me={},ve=0;for(let ye=0;ye<ie.length;ye++){const{name:Ee,fn:Se}=ie[ye],{x:_e,y:Te,data:Re,reset:Pe}=await Se({x:ce,y:fe,initialPlacement:te,placement:pe,strategy:ne,middlewareData:me,rects:le,platform:oe,elements:{reference:Z,floating:_}});ce=_e??ce,fe=Te??fe,me={...me,[Ee]:{...me[Ee],...Re}},Pe&&ve<=50&&(ve++,typeof Pe=="object"&&(Pe.placement&&(pe=Pe.placement),Pe.rects&&(le=Pe.rects===!0?await oe.getElementRects({reference:Z,floating:_,strategy:ne}):Pe.rects),{x:ce,y:fe}=i$3(le,pe,se)),ye=-1)}return{x:ce,y:fe,placement:pe,strategy:ne,middlewareData:me}};function a$2(Z){return typeof Z!="number"?function(_){return{top:0,right:0,bottom:0,left:0,..._}}(Z):{top:Z,right:Z,bottom:Z,left:Z}}function l$2(Z){return{...Z,top:Z.y,left:Z.x,right:Z.x+Z.width,bottom:Z.y+Z.height}}async function s$3(Z,_){var K;_===void 0&&(_={});const{x:te,y:ne,platform:ie,rects:oe,elements:se,strategy:le}=Z,{boundary:ce="clippingAncestors",rootBoundary:fe="viewport",elementContext:pe="floating",altBoundary:me=!1,padding:ve=0}=_,ye=a$2(ve),Ee=se[me?pe==="floating"?"reference":"floating":pe],Se=l$2(await ie.getClippingRect({element:(K=await(ie.isElement==null?void 0:ie.isElement(Ee)))==null||K?Ee:Ee.contextElement||await(ie.getDocumentElement==null?void 0:ie.getDocumentElement(se.floating)),boundary:ce,rootBoundary:fe,strategy:le})),_e=l$2(ie.convertOffsetParentRelativeRectToViewportRelativeRect?await ie.convertOffsetParentRelativeRectToViewportRelativeRect({rect:pe==="floating"?{...oe.floating,x:te,y:ne}:oe.reference,offsetParent:await(ie.getOffsetParent==null?void 0:ie.getOffsetParent(se.floating)),strategy:le}):oe[pe]);return{top:Se.top-_e.top+ye.top,bottom:_e.bottom-Se.bottom+ye.bottom,left:Se.left-_e.left+ye.left,right:_e.right-Se.right+ye.right}}const c$3=Math.min,f$3=Math.max;function u$3(Z,_,K){return f$3(Z,c$3(_,K))}const m$3=Z=>({name:"arrow",options:Z,async fn(_){const{element:K,padding:te=0}=Z??{},{x:ne,y:ie,placement:oe,rects:se,platform:le}=_;if(K==null)return{};const ce=a$2(te),fe={x:ne,y:ie},pe=n$2(oe),me=e$1(oe),ve=r$2(pe),ye=await le.getDimensions(K),Ee=pe==="y"?"top":"left",Se=pe==="y"?"bottom":"right",_e=se.reference[ve]+se.reference[pe]-fe[pe]-se.floating[ve],Te=fe[pe]-se.reference[pe],Re=await(le.getOffsetParent==null?void 0:le.getOffsetParent(K));let Pe=Re?pe==="y"?Re.clientHeight||0:Re.clientWidth||0:0;Pe===0&&(Pe=se.floating[ve]);const Fe=_e/2-Te/2,$e=ce[Ee],ke=Pe-ye[ve]-ce[Se],ze=Pe/2-ye[ve]/2+Fe,Ue=u$3($e,ze,ke),Oe=(me==="start"?ce[Ee]:ce[Se])>0&&ze!==Ue&&se.reference[ve]<=se.floating[ve];return{[pe]:fe[pe]-(Oe?ze<$e?$e-ze:ke-ze:0),data:{[pe]:Ue,centerOffset:ze-Ue}}}}),g$3={left:"right",right:"left",bottom:"top",top:"bottom"};function d$3(Z){return Z.replace(/left|right|bottom|top/g,_=>g$3[_])}function p$3(Z,_,K){K===void 0&&(K=!1);const te=e$1(Z),ne=n$2(Z),ie=r$2(ne);let oe=ne==="x"?te===(K?"end":"start")?"right":"left":te==="start"?"bottom":"top";return _.reference[ie]>_.floating[ie]&&(oe=d$3(oe)),{main:oe,cross:d$3(oe)}}const h$3={start:"end",end:"start"};function y$3(Z){return Z.replace(/start|end/g,_=>h$3[_])}const x$2=["top","right","bottom","left"];x$2.reduce((Z,_)=>Z.concat(_,_+"-start",_+"-end"),[]);const b$3=function(Z){return Z===void 0&&(Z={}),{name:"flip",options:Z,async fn(_){var K;const{placement:te,middlewareData:ne,rects:ie,initialPlacement:oe,platform:se,elements:le}=_,{mainAxis:ce=!0,crossAxis:fe=!0,fallbackPlacements:pe,fallbackStrategy:me="bestFit",flipAlignment:ve=!0,...ye}=Z,Ee=t$1(te),Se=pe||(Ee===oe||!ve?[d$3(oe)]:function(ze){const Ue=d$3(ze);return[y$3(ze),Ue,y$3(Ue)]}(oe)),_e=[oe,...Se],Te=await s$3(_,ye),Re=[];let Pe=((K=ne.flip)==null?void 0:K.overflows)||[];if(ce&&Re.push(Te[Ee]),fe){const{main:ze,cross:Ue}=p$3(te,ie,await(se.isRTL==null?void 0:se.isRTL(le.floating)));Re.push(Te[ze],Te[Ue])}if(Pe=[...Pe,{placement:te,overflows:Re}],!Re.every(ze=>ze<=0)){var Fe,$e;const ze=((Fe=($e=ne.flip)==null?void 0:$e.index)!=null?Fe:0)+1,Ue=_e[ze];if(Ue)return{data:{index:ze,overflows:Pe},reset:{placement:Ue}};let Oe="bottom";switch(me){case"bestFit":{var ke;const Ve=(ke=Pe.map(Ye=>[Ye,Ye.overflows.filter(Ke=>Ke>0).reduce((Ke,rt)=>Ke+rt,0)]).sort((Ye,Ke)=>Ye[1]-Ke[1])[0])==null?void 0:ke[0].placement;Ve&&(Oe=Ve);break}case"initialPlacement":Oe=oe}if(te!==Oe)return{reset:{placement:Oe}}}return{}}}};function R$1(Z,_){return{top:Z.top-_.height,right:Z.right-_.width,bottom:Z.bottom-_.height,left:Z.left-_.width}}function A(Z){return x$2.some(_=>Z[_]>=0)}const P=function(Z){let{strategy:_="referenceHidden",...K}=Z===void 0?{}:Z;return{name:"hide",async fn(te){const{rects:ne}=te;switch(_){case"referenceHidden":{const ie=R$1(await s$3(te,{...K,elementContext:"reference"}),ne.reference);return{data:{referenceHiddenOffsets:ie,referenceHidden:A(ie)}}}case"escaped":{const ie=R$1(await s$3(te,{...K,altBoundary:!0}),ne.floating);return{data:{escapedOffsets:ie,escaped:A(ie)}}}default:return{}}}}},T$2=function(Z){return Z===void 0&&(Z=0),{name:"offset",options:Z,async fn(_){const{x:K,y:te}=_,ne=await async function(ie,oe){const{placement:se,platform:le,elements:ce}=ie,fe=await(le.isRTL==null?void 0:le.isRTL(ce.floating)),pe=t$1(se),me=e$1(se),ve=n$2(se)==="x",ye=["left","top"].includes(pe)?-1:1,Ee=fe&&ve?-1:1,Se=typeof oe=="function"?oe(ie):oe;let{mainAxis:_e,crossAxis:Te,alignmentAxis:Re}=typeof Se=="number"?{mainAxis:Se,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Se};return me&&typeof Re=="number"&&(Te=me==="end"?-1*Re:Re),ve?{x:Te*Ee,y:_e*ye}:{x:_e*ye,y:Te*Ee}}(_,Z);return{x:K+ne.x,y:te+ne.y,data:ne}}}};function O(Z){return Z==="x"?"y":"x"}const D$1=function(Z){return Z===void 0&&(Z={}),{name:"shift",options:Z,async fn(_){const{x:K,y:te,placement:ne}=_,{mainAxis:ie=!0,crossAxis:oe=!1,limiter:se={fn:Se=>{let{x:_e,y:Te}=Se;return{x:_e,y:Te}}},...le}=Z,ce={x:K,y:te},fe=await s$3(_,le),pe=n$2(t$1(ne)),me=O(pe);let ve=ce[pe],ye=ce[me];if(ie){const Se=pe==="y"?"bottom":"right";ve=u$3(ve+fe[pe==="y"?"top":"left"],ve,ve-fe[Se])}if(oe){const Se=me==="y"?"bottom":"right";ye=u$3(ye+fe[me==="y"?"top":"left"],ye,ye-fe[Se])}const Ee=se.fn({..._,[pe]:ve,[me]:ye});return{...Ee,data:{x:Ee.x-K,y:Ee.y-te}}}}},L$2=function(Z){return Z===void 0&&(Z={}),{options:Z,fn(_){const{x:K,y:te,placement:ne,rects:ie,middlewareData:oe}=_,{offset:se=0,mainAxis:le=!0,crossAxis:ce=!0}=Z,fe={x:K,y:te},pe=n$2(ne),me=O(pe);let ve=fe[pe],ye=fe[me];const Ee=typeof se=="function"?se({...ie,placement:ne}):se,Se=typeof Ee=="number"?{mainAxis:Ee,crossAxis:0}:{mainAxis:0,crossAxis:0,...Ee};if(le){const Fe=pe==="y"?"height":"width",$e=ie.reference[pe]-ie.floating[Fe]+Se.mainAxis,ke=ie.reference[pe]+ie.reference[Fe]-Se.mainAxis;ve<$e?ve=$e:ve>ke&&(ve=ke)}if(ce){var _e,Te,Re,Pe;const Fe=pe==="y"?"width":"height",$e=["top","left"].includes(t$1(ne)),ke=ie.reference[me]-ie.floating[Fe]+($e&&(_e=(Te=oe.offset)==null?void 0:Te[me])!=null?_e:0)+($e?0:Se.crossAxis),ze=ie.reference[me]+ie.reference[Fe]+($e?0:(Re=(Pe=oe.offset)==null?void 0:Pe[me])!=null?Re:0)-($e?Se.crossAxis:0);ye<ke?ye=ke:ye>ze&&(ye=ze)}return{[pe]:ve,[me]:ye}}}},k$2=function(Z){return Z===void 0&&(Z={}),{name:"size",options:Z,async fn(_){const{placement:K,rects:te,platform:ne,elements:ie}=_,{apply:oe,...se}=Z,le=await s$3(_,se),ce=t$1(K),fe=e$1(K);let pe,me;ce==="top"||ce==="bottom"?(pe=ce,me=fe===(await(ne.isRTL==null?void 0:ne.isRTL(ie.floating))?"start":"end")?"left":"right"):(me=ce,pe=fe==="end"?"top":"bottom");const ve=f$3(le.left,0),ye=f$3(le.right,0),Ee=f$3(le.top,0),Se=f$3(le.bottom,0),_e={availableHeight:te.floating.height-(["left","right"].includes(K)?2*(Ee!==0||Se!==0?Ee+Se:f$3(le.top,le.bottom)):le[pe]),availableWidth:te.floating.width-(["top","bottom"].includes(K)?2*(ve!==0||ye!==0?ve+ye:f$3(le.left,le.right)):le[me])},Te=await ne.getDimensions(ie.floating);oe==null||oe({..._,..._e});const Re=await ne.getDimensions(ie.floating);return Te.width!==Re.width||Te.height!==Re.height?{reset:{rects:!0}}:{}}}};function n$1(Z){return Z&&Z.document&&Z.location&&Z.alert&&Z.setInterval}function o$1(Z){if(Z==null)return window;if(!n$1(Z)){const _=Z.ownerDocument;return _&&_.defaultView||window}return Z}function i$2(Z){return o$1(Z).getComputedStyle(Z)}function r$1(Z){return n$1(Z)?"":Z?(Z.nodeName||"").toLowerCase():""}function l$1(){const Z=navigator.userAgentData;return Z!=null&&Z.brands?Z.brands.map(_=>_.brand+"/"+_.version).join(" "):navigator.userAgent}function c$2(Z){return Z instanceof o$1(Z).HTMLElement}function f$2(Z){return Z instanceof o$1(Z).Element}function s$2(Z){return typeof ShadowRoot>"u"?!1:Z instanceof o$1(Z).ShadowRoot||Z instanceof ShadowRoot}function u$2(Z){const{overflow:_,overflowX:K,overflowY:te}=i$2(Z);return/auto|scroll|overlay|hidden/.test(_+te+K)}function d$2(Z){return["table","td","th"].includes(r$1(Z))}function h$2(Z){const _=/firefox/i.test(l$1()),K=i$2(Z);return K.transform!=="none"||K.perspective!=="none"||K.contain==="paint"||["transform","perspective"].includes(K.willChange)||_&&K.willChange==="filter"||_&&!!K.filter&&K.filter!=="none"}function a$1(){return!/^((?!chrome|android).)*safari/i.test(l$1())}const g$2=Math.min,p$2=Math.max,m$2=Math.round;function w$1(Z,_,K){var te,ne,ie,oe;_===void 0&&(_=!1),K===void 0&&(K=!1);const se=Z.getBoundingClientRect();let le=1,ce=1;_&&c$2(Z)&&(le=Z.offsetWidth>0&&m$2(se.width)/Z.offsetWidth||1,ce=Z.offsetHeight>0&&m$2(se.height)/Z.offsetHeight||1);const fe=f$2(Z)?o$1(Z):window,pe=!a$1()&&K,me=(se.left+(pe&&(te=(ne=fe.visualViewport)==null?void 0:ne.offsetLeft)!=null?te:0))/le,ve=(se.top+(pe&&(ie=(oe=fe.visualViewport)==null?void 0:oe.offsetTop)!=null?ie:0))/ce,ye=se.width/le,Ee=se.height/ce;return{width:ye,height:Ee,top:ve,right:me+ye,bottom:ve+Ee,left:me,x:me,y:ve}}function v$2(Z){return(_=Z,(_ instanceof o$1(_).Node?Z.ownerDocument:Z.document)||window.document).documentElement;var _}function y$2(Z){return f$2(Z)?{scrollLeft:Z.scrollLeft,scrollTop:Z.scrollTop}:{scrollLeft:Z.pageXOffset,scrollTop:Z.pageYOffset}}function x$1(Z){return w$1(v$2(Z)).left+y$2(Z).scrollLeft}function b$2(Z,_,K){const te=c$2(_),ne=v$2(_),ie=w$1(Z,te&&function(le){const ce=w$1(le);return m$2(ce.width)!==le.offsetWidth||m$2(ce.height)!==le.offsetHeight}(_),K==="fixed");let oe={scrollLeft:0,scrollTop:0};const se={x:0,y:0};if(te||!te&&K!=="fixed")if((r$1(_)!=="body"||u$2(ne))&&(oe=y$2(_)),c$2(_)){const le=w$1(_,!0);se.x=le.x+_.clientLeft,se.y=le.y+_.clientTop}else ne&&(se.x=x$1(ne));return{x:ie.left+oe.scrollLeft-se.x,y:ie.top+oe.scrollTop-se.y,width:ie.width,height:ie.height}}function L$1(Z){return r$1(Z)==="html"?Z:Z.assignedSlot||Z.parentNode||(s$2(Z)?Z.host:null)||v$2(Z)}function R(Z){return c$2(Z)&&getComputedStyle(Z).position!=="fixed"?Z.offsetParent:null}function T$1(Z){const _=o$1(Z);let K=R(Z);for(;K&&d$2(K)&&getComputedStyle(K).position==="static";)K=R(K);return K&&(r$1(K)==="html"||r$1(K)==="body"&&getComputedStyle(K).position==="static"&&!h$2(K))?_:K||function(te){let ne=L$1(te);for(s$2(ne)&&(ne=ne.host);c$2(ne)&&!["html","body"].includes(r$1(ne));){if(h$2(ne))return ne;ne=ne.parentNode}return null}(Z)||_}function W(Z){if(c$2(Z))return{width:Z.offsetWidth,height:Z.offsetHeight};const _=w$1(Z);return{width:_.width,height:_.height}}function E(Z){const _=L$1(Z);return["html","body","#document"].includes(r$1(_))?Z.ownerDocument.body:c$2(_)&&u$2(_)?_:E(_)}function H$1(Z,_){var K;_===void 0&&(_=[]);const te=E(Z),ne=te===((K=Z.ownerDocument)==null?void 0:K.body),ie=o$1(te),oe=ne?[ie].concat(ie.visualViewport||[],u$2(te)?te:[]):te,se=_.concat(oe);return ne?se:se.concat(H$1(oe))}function C(Z,_,K){return _==="viewport"?l$2(function(te,ne){const ie=o$1(te),oe=v$2(te),se=ie.visualViewport;let le=oe.clientWidth,ce=oe.clientHeight,fe=0,pe=0;if(se){le=se.width,ce=se.height;const me=a$1();(me||!me&&ne==="fixed")&&(fe=se.offsetLeft,pe=se.offsetTop)}return{width:le,height:ce,x:fe,y:pe}}(Z,K)):f$2(_)?function(te,ne){const ie=w$1(te,!1,ne==="fixed"),oe=ie.top+te.clientTop,se=ie.left+te.clientLeft;return{top:oe,left:se,x:se,y:oe,right:se+te.clientWidth,bottom:oe+te.clientHeight,width:te.clientWidth,height:te.clientHeight}}(_,K):l$2(function(te){var ne;const ie=v$2(te),oe=y$2(te),se=(ne=te.ownerDocument)==null?void 0:ne.body,le=p$2(ie.scrollWidth,ie.clientWidth,se?se.scrollWidth:0,se?se.clientWidth:0),ce=p$2(ie.scrollHeight,ie.clientHeight,se?se.scrollHeight:0,se?se.clientHeight:0);let fe=-oe.scrollLeft+x$1(te);const pe=-oe.scrollTop;return i$2(se||ie).direction==="rtl"&&(fe+=p$2(ie.clientWidth,se?se.clientWidth:0)-le),{width:le,height:ce,x:fe,y:pe}}(v$2(Z)))}function S$2(Z){const _=H$1(Z),K=["absolute","fixed"].includes(i$2(Z).position)&&c$2(Z)?T$1(Z):Z;return f$2(K)?_.filter(te=>f$2(te)&&function(ne,ie){const oe=ie.getRootNode==null?void 0:ie.getRootNode();if(ne.contains(ie))return!0;if(oe&&s$2(oe)){let se=ie;do{if(se&&ne===se)return!0;se=se.parentNode||se.host}while(se)}return!1}(te,K)&&r$1(te)!=="body"):[]}const D={getClippingRect:function(Z){let{element:_,boundary:K,rootBoundary:te,strategy:ne}=Z;const ie=[...K==="clippingAncestors"?S$2(_):[].concat(K),te],oe=ie[0],se=ie.reduce((le,ce)=>{const fe=C(_,ce,ne);return le.top=p$2(fe.top,le.top),le.right=g$2(fe.right,le.right),le.bottom=g$2(fe.bottom,le.bottom),le.left=p$2(fe.left,le.left),le},C(_,oe,ne));return{width:se.right-se.left,height:se.bottom-se.top,x:se.left,y:se.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(Z){let{rect:_,offsetParent:K,strategy:te}=Z;const ne=c$2(K),ie=v$2(K);if(K===ie)return _;let oe={scrollLeft:0,scrollTop:0};const se={x:0,y:0};if((ne||!ne&&te!=="fixed")&&((r$1(K)!=="body"||u$2(ie))&&(oe=y$2(K)),c$2(K))){const le=w$1(K,!0);se.x=le.x+K.clientLeft,se.y=le.y+K.clientTop}return{..._,x:_.x-oe.scrollLeft+se.x,y:_.y-oe.scrollTop+se.y}},isElement:f$2,getDimensions:W,getOffsetParent:T$1,getDocumentElement:v$2,getElementRects:Z=>{let{reference:_,floating:K,strategy:te}=Z;return{reference:b$2(_,T$1(K),te),floating:{...W(K),x:0,y:0}}},getClientRects:Z=>Array.from(Z.getClientRects()),isRTL:Z=>i$2(Z).direction==="rtl"};function N$1(Z,_,K,te){te===void 0&&(te={});const{ancestorScroll:ne=!0,ancestorResize:ie=!0,elementResize:oe=!0,animationFrame:se=!1}=te,le=ne&&!se,ce=ie&&!se,fe=le||ce?[...f$2(Z)?H$1(Z):[],...H$1(_)]:[];fe.forEach(ye=>{le&&ye.addEventListener("scroll",K,{passive:!0}),ce&&ye.addEventListener("resize",K)});let pe,me=null;if(oe){let ye=!0;me=new ResizeObserver(()=>{ye||K(),ye=!1}),f$2(Z)&&!se&&me.observe(Z),me.observe(_)}let ve=se?w$1(Z):null;return se&&function ye(){const Ee=w$1(Z);!ve||Ee.x===ve.x&&Ee.y===ve.y&&Ee.width===ve.width&&Ee.height===ve.height||K(),ve=Ee,pe=requestAnimationFrame(ye)}(),K(),()=>{var ye;fe.forEach(Ee=>{le&&Ee.removeEventListener("scroll",K),ce&&Ee.removeEventListener("resize",K)}),(ye=me)==null||ye.disconnect(),me=null,se&&cancelAnimationFrame(pe)}}const z=(Z,_,K)=>o$2(Z,_,{platform:D,...K});var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(Z,_){if(Z===_)return!0;if(typeof Z!=typeof _)return!1;if(typeof Z=="function"&&Z.toString()===_.toString())return!0;let K,te,ne;if(Z&&_&&typeof Z=="object"){if(Array.isArray(Z)){if(K=Z.length,K!=_.length)return!1;for(te=K;te--!==0;)if(!deepEqual(Z[te],_[te]))return!1;return!0}if(ne=Object.keys(Z),K=ne.length,K!==Object.keys(_).length)return!1;for(te=K;te--!==0;)if(!Object.prototype.hasOwnProperty.call(_,ne[te]))return!1;for(te=K;te--!==0;){const ie=ne[te];if(!(ie==="_owner"&&Z.$$typeof)&&!deepEqual(Z[ie],_[ie]))return!1}return!0}return Z!==Z&&_!==_}function useLatestRef(Z){const _=reactExports.useRef(Z);return index(()=>{_.current=Z}),_}function useFloating(Z){let{middleware:_,placement:K="bottom",strategy:te="absolute",whileElementsMounted:ne}=Z===void 0?{}:Z;const ie=reactExports.useRef(null),oe=reactExports.useRef(null),se=useLatestRef(ne),le=reactExports.useRef(null),[ce,fe]=reactExports.useState({x:null,y:null,strategy:te,placement:K,middlewareData:{}}),[pe,me]=reactExports.useState(_);deepEqual(pe==null?void 0:pe.map(Re=>{let{options:Pe}=Re;return Pe}),_==null?void 0:_.map(Re=>{let{options:Pe}=Re;return Pe}))||me(_);const ve=reactExports.useCallback(()=>{!ie.current||!oe.current||z(ie.current,oe.current,{middleware:pe,placement:K,strategy:te}).then(Re=>{ye.current&&reactDomExports.flushSync(()=>{fe(Re)})})},[pe,K,te]);index(()=>{ye.current&&ve()},[ve]);const ye=reactExports.useRef(!1);index(()=>(ye.current=!0,()=>{ye.current=!1}),[]);const Ee=reactExports.useCallback(()=>{if(typeof le.current=="function"&&(le.current(),le.current=null),ie.current&&oe.current)if(se.current){const Re=se.current(ie.current,oe.current,ve);le.current=Re}else ve()},[ve,se]),Se=reactExports.useCallback(Re=>{ie.current=Re,Ee()},[Ee]),_e=reactExports.useCallback(Re=>{oe.current=Re,Ee()},[Ee]),Te=reactExports.useMemo(()=>({reference:ie,floating:oe}),[]);return reactExports.useMemo(()=>({...ce,update:ve,refs:Te,reference:Se,floating:_e}),[ce,ve,Te,Se,_e])}const arrow=Z=>{const{element:_,padding:K}=Z;function te(ne){return Object.prototype.hasOwnProperty.call(ne,"current")}return{name:"arrow",options:Z,fn(ne){return te(_)?_.current!=null?m$3({element:_.current,padding:K}).fn(ne):{}:_?m$3({element:_,padding:K}).fn(ne):{}}}},$7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((Z,_)=>{const{children:K,width:te=10,height:ne=5,...ie}=Z;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends$1({},ie,{ref:_,width:te,height:ne,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),Z.asChild?K:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(Z){const[_,K]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(Z){K({width:Z.offsetWidth,height:Z.offsetHeight});const te=new ResizeObserver(ne=>{if(!Array.isArray(ne)||!ne.length)return;const ie=ne[0];let oe,se;if("borderBoxSize"in ie){const le=ie.borderBoxSize,ce=Array.isArray(le)?le[0]:le;oe=ce.inlineSize,se=ce.blockSize}else oe=Z.offsetWidth,se=Z.offsetHeight;K({width:oe,height:se})});return te.observe(Z,{box:"border-box"}),()=>te.unobserve(Z)}else K(void 0)},[Z]),_}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=Z=>{const{__scopePopper:_,children:K}=Z,[te,ne]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:_,anchor:te,onAnchorChange:ne},K)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((Z,_)=>{const{__scopePopper:K,virtualRef:te,...ne}=Z,ie=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,K),oe=reactExports.useRef(null),se=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,oe);return reactExports.useEffect(()=>{ie.onAnchorChange((te==null?void 0:te.current)||oe.current)}),te?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},ne,{ref:se}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),[$cf1ac5d9fe0e8206$var$PositionContextProvider,$cf1ac5d9fe0e8206$var$usePositionContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,{hasParent:!1,positionUpdateFns:new Set}),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((Z,_)=>{var K,te,ne,ie,oe,se,le,ce;const{__scopePopper:fe,side:pe="bottom",sideOffset:me=0,align:ve="center",alignOffset:ye=0,arrowPadding:Ee=0,collisionBoundary:Se=[],collisionPadding:_e=0,sticky:Te="partial",hideWhenDetached:Re=!1,avoidCollisions:Pe=!0,onPlaced:Fe,...$e}=Z,ke=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,fe),[ze,Ue]=reactExports.useState(null),Oe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,He=>Ue(He)),[Ve,Ye]=reactExports.useState(null),Ke=$db6c3485150b8e66$export$1ab7ae714698c4b8(Ve),rt=(K=Ke==null?void 0:Ke.width)!==null&&K!==void 0?K:0,ct=(te=Ke==null?void 0:Ke.height)!==null&&te!==void 0?te:0,at=pe+(ve!=="center"?"-"+ve:""),mt=typeof _e=="number"?_e:{top:0,right:0,bottom:0,left:0,..._e},je=Array.isArray(Se)?Se:[Se],it=je.length>0,et={padding:mt,boundary:je.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:it},{reference:qe,floating:lt,strategy:_t,x:ut,y:St,placement:Et,middlewareData:At,update:kt}=useFloating({strategy:"fixed",placement:at,whileElementsMounted:N$1,middleware:[$cf1ac5d9fe0e8206$var$anchorCssProperties(),T$2({mainAxis:me+ct,alignmentAxis:ye}),Pe?D$1({mainAxis:!0,crossAxis:!1,limiter:Te==="partial"?L$2():void 0,...et}):void 0,Ve?arrow({element:Ve,padding:Ee}):void 0,Pe?b$3({...et}):void 0,k$2({...et,apply:({elements:He,availableWidth:tt,availableHeight:pt})=>{He.floating.style.setProperty("--radix-popper-available-width",`${tt}px`),He.floating.style.setProperty("--radix-popper-available-height",`${pt}px`)}}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:rt,arrowHeight:ct}),Re?P({strategy:"referenceHidden"}):void 0].filter($cf1ac5d9fe0e8206$var$isDefined)});$9f79659886946c16$export$e5c5a5f917a5871c(()=>{qe(ke.anchor)},[qe,ke.anchor]);const jt=ut!==null&&St!==null,[en,un]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Et),It=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Fe);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{jt&&(It==null||It())},[jt,It]);const Ot=(ne=At.arrow)===null||ne===void 0?void 0:ne.x,Ze=(ie=At.arrow)===null||ie===void 0?void 0:ie.y,sn=((oe=At.arrow)===null||oe===void 0?void 0:oe.centerOffset)!==0,[Bt,rn]=reactExports.useState();$9f79659886946c16$export$e5c5a5f917a5871c(()=>{ze&&rn(window.getComputedStyle(ze).zIndex)},[ze]);const{hasParent:Gt,positionUpdateFns:pn}=$cf1ac5d9fe0e8206$var$usePositionContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,fe),qt=!Gt;reactExports.useLayoutEffect(()=>{if(!qt)return pn.add(kt),()=>{pn.delete(kt)}},[qt,pn,kt]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{qt&&jt&&Array.from(pn).reverse().forEach(He=>requestAnimationFrame(He))},[qt,jt,pn]);const Xe={"data-side":en,"data-align":un,...$e,ref:Oe,style:{...$e.style,animation:jt?void 0:"none",opacity:(se=At.hide)!==null&&se!==void 0&&se.referenceHidden?0:void 0}};return reactExports.createElement("div",{ref:lt,"data-radix-popper-content-wrapper":"",style:{position:_t,left:0,top:0,transform:jt?`translate3d(${Math.round(ut)}px, ${Math.round(St)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Bt,"--radix-popper-transform-origin":[(le=At.transformOrigin)===null||le===void 0?void 0:le.x,(ce=At.transformOrigin)===null||ce===void 0?void 0:ce.y].join(" ")},dir:Z.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:fe,placedSide:en,onArrowChange:Ye,arrowX:Ot,arrowY:Ze,shouldHideArrow:sn},qt?reactExports.createElement($cf1ac5d9fe0e8206$var$PositionContextProvider,{scope:fe,hasParent:!0,positionUpdateFns:pn},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,Xe)):reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,Xe)))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function(_,K){const{__scopePopper:te,...ne}=_,ie=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,te),oe=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[ie.placedSide];return reactExports.createElement("span",{ref:ie.onArrowChange,style:{position:"absolute",left:ie.arrowX,top:ie.arrowY,[oe]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ie.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ie.placedSide],visibility:ie.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends$1({},ne,{ref:K,style:{...ne.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isDefined(Z){return Z!==void 0}function $cf1ac5d9fe0e8206$var$isNotNull(Z){return Z!==null}const $cf1ac5d9fe0e8206$var$anchorCssProperties=()=>({name:"anchorCssProperties",fn(Z){const{rects:_,elements:K}=Z,{width:te,height:ne}=_.reference;return K.floating.style.setProperty("--radix-popper-anchor-width",`${te}px`),K.floating.style.setProperty("--radix-popper-anchor-height",`${ne}px`),{}}}),$cf1ac5d9fe0e8206$var$transformOrigin=Z=>({name:"transformOrigin",options:Z,fn(_){var K,te,ne,ie,oe;const{placement:se,rects:le,middlewareData:ce}=_,pe=((K=ce.arrow)===null||K===void 0?void 0:K.centerOffset)!==0,me=pe?0:Z.arrowWidth,ve=pe?0:Z.arrowHeight,[ye,Ee]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(se),Se={start:"0%",center:"50%",end:"100%"}[Ee],_e=((te=(ne=ce.arrow)===null||ne===void 0?void 0:ne.x)!==null&&te!==void 0?te:0)+me/2,Te=((ie=(oe=ce.arrow)===null||oe===void 0?void 0:oe.y)!==null&&ie!==void 0?ie:0)+ve/2;let Re="",Pe="";return ye==="bottom"?(Re=pe?Se:`${_e}px`,Pe=`${-ve}px`):ye==="top"?(Re=pe?Se:`${_e}px`,Pe=`${le.floating.height+ve}px`):ye==="right"?(Re=`${-ve}px`,Pe=pe?Se:`${Te}px`):ye==="left"&&(Re=`${le.floating.width+ve}px`,Pe=pe?Se:`${Te}px`),{data:{x:Re,y:Pe}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Z){const[_,K="center"]=Z.split("-");return[_,K]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$cf1ac5d9fe0e8206$export$21b07c8f274aebd5=$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0;function $fe963b355347cc68$export$3e6543de14f8614f(Z,_){return reactExports.useReducer((K,te)=>{const ne=_[K][te];return ne??K},Z)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=Z=>{const{present:_,children:K}=Z,te=$921a889cee6df7e8$var$usePresence(_),ne=typeof K=="function"?K({present:te.isPresent}):reactExports.Children.only(K),ie=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(te.ref,ne.ref);return typeof K=="function"||te.isPresent?reactExports.cloneElement(ne,{ref:ie}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(Z){const[_,K]=reactExports.useState(),te=reactExports.useRef({}),ne=reactExports.useRef(Z),ie=reactExports.useRef("none"),oe=Z?"mounted":"unmounted",[se,le]=$fe963b355347cc68$export$3e6543de14f8614f(oe,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const ce=$921a889cee6df7e8$var$getAnimationName(te.current);ie.current=se==="mounted"?ce:"none"},[se]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const ce=te.current,fe=ne.current;if(fe!==Z){const me=ie.current,ve=$921a889cee6df7e8$var$getAnimationName(ce);Z?le("MOUNT"):ve==="none"||(ce==null?void 0:ce.display)==="none"?le("UNMOUNT"):le(fe&&me!==ve?"ANIMATION_OUT":"UNMOUNT"),ne.current=Z}},[Z,le]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(_){const ce=pe=>{const ve=$921a889cee6df7e8$var$getAnimationName(te.current).includes(pe.animationName);pe.target===_&&ve&&reactDomExports.flushSync(()=>le("ANIMATION_END"))},fe=pe=>{pe.target===_&&(ie.current=$921a889cee6df7e8$var$getAnimationName(te.current))};return _.addEventListener("animationstart",fe),_.addEventListener("animationcancel",ce),_.addEventListener("animationend",ce),()=>{_.removeEventListener("animationstart",fe),_.removeEventListener("animationcancel",ce),_.removeEventListener("animationend",ce)}}else le("ANIMATION_END")},[_,le]),{isPresent:["mounted","unmountSuspended"].includes(se),ref:reactExports.useCallback(ce=>{ce&&(te.current=getComputedStyle(ce)),K(ce)},[])}}function $921a889cee6df7e8$var$getAnimationName(Z){return(Z==null?void 0:Z.animationName)||"none"}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:Z,defaultProp:_,onChange:K=()=>{}}){const[te,ne]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:_,onChange:K}),ie=Z!==void 0,oe=ie?Z:te,se=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(K),le=reactExports.useCallback(ce=>{if(ie){const pe=typeof ce=="function"?ce(Z):ce;pe!==Z&&se(pe)}else ne(ce)},[ie,Z,ne,se]);return[oe,le]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:Z,onChange:_}){const K=reactExports.useState(Z),[te]=K,ne=reactExports.useRef(te),ie=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_);return reactExports.useEffect(()=>{ne.current!==te&&(ie(te),ne.current=te)},[te,ne,ie]),K}const $ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((Z,_)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$1({},Z,{ref:_,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...Z.style}}))),$ea1ef594cf570d83$export$be92b6f5f03c0fe9=$ea1ef594cf570d83$export$439d29a4e110a164,[$a093c7e1ec25a057$var$createTooltipContext,$a093c7e1ec25a057$export$1c540a2224f0d865]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Tooltip",[$cf1ac5d9fe0e8206$export$722aac194ae923]),$a093c7e1ec25a057$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$a093c7e1ec25a057$var$PROVIDER_NAME="TooltipProvider",$a093c7e1ec25a057$var$TOOLTIP_OPEN="tooltip.open",[$a093c7e1ec25a057$var$TooltipProviderContextProvider,$a093c7e1ec25a057$var$useTooltipProviderContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME),$a093c7e1ec25a057$var$TOOLTIP_NAME="Tooltip",[$a093c7e1ec25a057$var$TooltipContextProvider,$a093c7e1ec25a057$var$useTooltipContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME),$a093c7e1ec25a057$export$28c660c63b792dea=Z=>{const{__scopeTooltip:_,children:K,open:te,defaultOpen:ne=!1,onOpenChange:ie,disableHoverableContent:oe,delayDuration:se}=Z,le=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME,Z.__scopeTooltip),ce=$a093c7e1ec25a057$var$usePopperScope(_),[fe,pe]=reactExports.useState(null),me=$1746a345f3d73bb7$export$f680877a34711e37(),ve=reactExports.useRef(0),ye=oe??le.disableHoverableContent,Ee=se??le.delayDuration,Se=reactExports.useRef(!1),[_e=!1,Te]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:te,defaultProp:ne,onChange:ke=>{ke?(le.onOpen(),document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN))):le.onClose(),ie==null||ie(ke)}}),Re=reactExports.useMemo(()=>_e?Se.current?"delayed-open":"instant-open":"closed",[_e]),Pe=reactExports.useCallback(()=>{window.clearTimeout(ve.current),Se.current=!1,Te(!0)},[Te]),Fe=reactExports.useCallback(()=>{window.clearTimeout(ve.current),Te(!1)},[Te]),$e=reactExports.useCallback(()=>{window.clearTimeout(ve.current),ve.current=window.setTimeout(()=>{Se.current=!0,Te(!0)},Ee)},[Ee,Te]);return reactExports.useEffect(()=>()=>window.clearTimeout(ve.current),[]),reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,ce,reactExports.createElement($a093c7e1ec25a057$var$TooltipContextProvider,{scope:_,contentId:me,open:_e,stateAttribute:Re,trigger:fe,onTriggerChange:pe,onTriggerEnter:reactExports.useCallback(()=>{le.isOpenDelayed?$e():Pe()},[le.isOpenDelayed,$e,Pe]),onTriggerLeave:reactExports.useCallback(()=>{ye?Fe():window.clearTimeout(ve.current)},[Fe,ye]),onOpen:Pe,onClose:Fe,disableHoverableContent:ye},K))},$a093c7e1ec25a057$var$TRIGGER_NAME="TooltipTrigger",$a093c7e1ec25a057$export$8c610744efcf8a1d=reactExports.forwardRef((Z,_)=>{const{__scopeTooltip:K,...te}=Z,ne=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME,K),ie=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME,K),oe=$a093c7e1ec25a057$var$usePopperScope(K),se=reactExports.useRef(null),le=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,se,ne.onTriggerChange),ce=reactExports.useRef(!1),fe=reactExports.useRef(!1),pe=reactExports.useCallback(()=>ce.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",pe),[pe]),reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends$1({asChild:!0},oe),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$1({"aria-describedby":ne.open?ne.contentId:void 0,"data-state":ne.stateAttribute},te,{ref:le,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onPointerMove,me=>{me.pointerType!=="touch"&&!fe.current&&!ie.isPointerInTransitRef.current&&(ne.onTriggerEnter(),fe.current=!0)}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onPointerLeave,()=>{ne.onTriggerLeave(),fe.current=!1}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onPointerDown,()=>{ce.current=!0,document.addEventListener("pointerup",pe,{once:!0})}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onFocus,()=>{ce.current||ne.onOpen()}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onBlur,ne.onClose),onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onClick,ne.onClose)})))}),$a093c7e1ec25a057$var$PORTAL_NAME="TooltipPortal",[$a093c7e1ec25a057$var$PortalProvider,$a093c7e1ec25a057$var$usePortalContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,{forceMount:void 0}),$a093c7e1ec25a057$var$CONTENT_NAME="TooltipContent",$a093c7e1ec25a057$export$e9003e2be37ec060=reactExports.forwardRef((Z,_)=>{const K=$a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME,Z.__scopeTooltip),{forceMount:te=K.forceMount,side:ne="top",...ie}=Z,oe=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,Z.__scopeTooltip);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:te||oe.open},oe.disableHoverableContent?reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$1({side:ne},ie,{ref:_})):reactExports.createElement($a093c7e1ec25a057$var$TooltipContentHoverable,_extends$1({side:ne},ie,{ref:_})))}),$a093c7e1ec25a057$var$TooltipContentHoverable=reactExports.forwardRef((Z,_)=>{const K=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,Z.__scopeTooltip),te=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME,Z.__scopeTooltip),ne=reactExports.useRef(null),ie=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,ne),[oe,se]=reactExports.useState(null),{trigger:le,onClose:ce}=K,fe=ne.current,{onPointerInTransitChange:pe}=te,me=reactExports.useCallback(()=>{se(null),pe(!1)},[pe]),ve=reactExports.useCallback((ye,Ee)=>{const Se=ye.currentTarget,_e={x:ye.clientX,y:ye.clientY},Te=$a093c7e1ec25a057$var$getExitSideFromRect(_e,Se.getBoundingClientRect()),Re=Te==="right"||Te==="bottom"?-5:5,Fe=Te==="right"||Te==="left"?{x:ye.clientX+Re,y:ye.clientY}:{x:ye.clientX,y:ye.clientY+Re},$e=$a093c7e1ec25a057$var$getPointsFromRect(Ee.getBoundingClientRect()),ke=$a093c7e1ec25a057$var$getHull([Fe,...$e]);se(ke),pe(!0)},[pe]);return reactExports.useEffect(()=>()=>me(),[me]),reactExports.useEffect(()=>{if(le&&fe){const ye=Se=>ve(Se,fe),Ee=Se=>ve(Se,le);return le.addEventListener("pointerleave",ye),fe.addEventListener("pointerleave",Ee),()=>{le.removeEventListener("pointerleave",ye),fe.removeEventListener("pointerleave",Ee)}}},[le,fe,ve,me]),reactExports.useEffect(()=>{if(oe){const ye=Ee=>{const Se=Ee.target,_e={x:Ee.clientX,y:Ee.clientY},Te=(le==null?void 0:le.contains(Se))||(fe==null?void 0:fe.contains(Se)),Re=!$a093c7e1ec25a057$var$isPointInPolygon(_e,oe);Te?me():Re&&(me(),ce())};return document.addEventListener("pointermove",ye),()=>document.removeEventListener("pointermove",ye)}},[le,fe,oe,ce,me]),reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$1({},Z,{ref:ie}))}),[$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,$a093c7e1ec25a057$var$useVisuallyHiddenContentContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME,{isInside:!1}),$a093c7e1ec25a057$var$TooltipContentImpl=reactExports.forwardRef((Z,_)=>{const{__scopeTooltip:K,children:te,"aria-label":ne,onEscapeKeyDown:ie,onPointerDownOutside:oe,...se}=Z,le=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,K),ce=$a093c7e1ec25a057$var$usePopperScope(K),{onClose:fe}=le;return reactExports.useEffect(()=>(document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,fe),()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,fe)),[fe]),reactExports.useEffect(()=>{if(le.trigger){const pe=me=>{const ve=me.target;ve!=null&&ve.contains(le.trigger)&&fe()};return window.addEventListener("scroll",pe,{capture:!0}),()=>window.removeEventListener("scroll",pe,{capture:!0})}},[le.trigger,fe]),reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:ie,onPointerDownOutside:oe,onFocusOutside:pe=>pe.preventDefault(),onDismiss:fe},reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$1({"data-state":le.stateAttribute},ce,se,{ref:_,style:{...se.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),reactExports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,te),reactExports.createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,{scope:K,isInside:!0},reactExports.createElement($ea1ef594cf570d83$export$be92b6f5f03c0fe9,{id:le.contentId,role:"tooltip"},ne||te))))}),$a093c7e1ec25a057$var$ARROW_NAME="TooltipArrow",$a093c7e1ec25a057$export$c27ee0ad710f7559=reactExports.forwardRef((Z,_)=>{const{__scopeTooltip:K,...te}=Z,ne=$a093c7e1ec25a057$var$usePopperScope(K);return $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME,K).isInside?null:reactExports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends$1({},ne,te,{ref:_}))});function $a093c7e1ec25a057$var$getExitSideFromRect(Z,_){const K=Math.abs(_.top-Z.y),te=Math.abs(_.bottom-Z.y),ne=Math.abs(_.right-Z.x),ie=Math.abs(_.left-Z.x);switch(Math.min(K,te,ne,ie)){case ie:return"left";case ne:return"right";case K:return"top";case te:return"bottom";default:return null}}function $a093c7e1ec25a057$var$getPointsFromRect(Z){const{top:_,right:K,bottom:te,left:ne}=Z;return[{x:ne,y:_},{x:K,y:_},{x:K,y:te},{x:ne,y:te}]}function $a093c7e1ec25a057$var$isPointInPolygon(Z,_){const{x:K,y:te}=Z;let ne=!1;for(let ie=0,oe=_.length-1;ie<_.length;oe=ie++){const se=_[ie].x,le=_[ie].y,ce=_[oe].x,fe=_[oe].y;le>te!=fe>te&&K<(ce-se)*(te-le)/(fe-le)+se&&(ne=!ne)}return ne}function $a093c7e1ec25a057$var$getHull(Z){const _=Z.slice();return _.sort((K,te)=>K.x<te.x?-1:K.x>te.x?1:K.y<te.y?-1:K.y>te.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(_)}function $a093c7e1ec25a057$var$getHullPresorted(Z){if(Z.length<=1)return Z.slice();const _=[];for(let te=0;te<Z.length;te++){const ne=Z[te];for(;_.length>=2;){const ie=_[_.length-1],oe=_[_.length-2];if((ie.x-oe.x)*(ne.y-oe.y)>=(ie.y-oe.y)*(ne.x-oe.x))_.pop();else break}_.push(ne)}_.pop();const K=[];for(let te=Z.length-1;te>=0;te--){const ne=Z[te];for(;K.length>=2;){const ie=K[K.length-1],oe=K[K.length-2];if((ie.x-oe.x)*(ne.y-oe.y)>=(ie.y-oe.y)*(ne.x-oe.x))K.pop();else break}K.push(ne)}return K.pop(),_.length===1&&K.length===1&&_[0].x===K[0].x&&_[0].y===K[0].y?_:_.concat(K)}const $a093c7e1ec25a057$export$be92b6f5f03c0fe9=$a093c7e1ec25a057$export$28c660c63b792dea,$a093c7e1ec25a057$export$41fb9f06171c75f4=$a093c7e1ec25a057$export$8c610744efcf8a1d,$a093c7e1ec25a057$export$7c6e2c02157bb7d2=$a093c7e1ec25a057$export$e9003e2be37ec060,$a093c7e1ec25a057$export$21b07c8f274aebd5=$a093c7e1ec25a057$export$c27ee0ad710f7559;function _objectWithoutPropertiesLoose$4(Z,_){if(Z==null)return{};var K={},te=Object.keys(Z),ne,ie;for(ie=0;ie<te.length;ie++)ne=te[ie],!(_.indexOf(ne)>=0)&&(K[ne]=Z[ne]);return K}function _objectWithoutProperties$1(Z,_){if(Z==null)return{};var K=_objectWithoutPropertiesLoose$4(Z,_),te,ne;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(Z);for(ne=0;ne<ie.length;ne++)te=ie[ne],!(_.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(Z,te)&&(K[te]=Z[te])}return K}let LevaErrors;(function(Z){Z[Z.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",Z[Z.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",Z[Z.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",Z[Z.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",Z[Z.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",Z[Z.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",Z[Z.THEME_ERROR=6]="THEME_ERROR",Z[Z.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",Z[Z.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",Z[Z.EMPTY_KEY=9]="EMPTY_KEY"})(LevaErrors||(LevaErrors={}));const ErrorList={[LevaErrors.UNSUPPORTED_INPUT]:(Z,_)=>[`An input with type \`${Z}\` input was found at path \`${_}\` but it's not supported yet.`],[LevaErrors.NO_COMPONENT_FOR_TYPE]:(Z,_)=>[`Type \`${Z}\` found at path \`${_}\` can't be displayed in panel because no component supports it yet.`],[LevaErrors.UNKNOWN_INPUT]:(Z,_)=>[`input at path \`${Z}\` is not recognized.`,_],[LevaErrors.DUPLICATE_KEYS]:(Z,_,K)=>[`Key \`${Z}\` of path \`${_}\` already exists at path \`${K}\`. Even nested keys need to be unique. Rename one of the keys.`],[LevaErrors.ALREADY_REGISTERED_TYPE]:Z=>[`Type ${Z} has already been registered. You can't register a component with the same type.`],[LevaErrors.CLIPBOARD_ERROR]:Z=>["Error copying the value",Z],[LevaErrors.THEME_ERROR]:(Z,_)=>[`Error accessing the theme \`${Z}.${_}\` value.`],[LevaErrors.PATH_DOESNT_EXIST]:Z=>[`Error getting the value at path \`${Z}\`. There is probably an error in your \`render\` function.`],[LevaErrors.PATH_DOESNT_EXIST]:Z=>[`Error accessing the value at path \`${Z}\``],[LevaErrors.INPUT_TYPE_OVERRIDE]:(Z,_,K)=>[`Input at path \`${Z}\` already exists with type: \`${_}\`. Its type cannot be overridden with type \`${K}\`.`],[LevaErrors.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function _log(Z,_,...K){const[te,...ne]=ErrorList[_](...K);console[Z]("LEVA: "+te,...ne)}const warn=_log.bind(null,"warn"),log=_log.bind(null,"log"),_excluded$a=["value"],_excluded2$4=["schema"],_excluded3$1=["value"],Schemas=[],Plugins={};function getValueType(Z){let{value:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$a);for(let te of Schemas){const ne=te(_,K);if(ne)return ne}}function register(Z,_){let{schema:K}=_,te=_objectWithoutProperties$1(_,_excluded2$4);if(Z in Plugins){warn(LevaErrors.ALREADY_REGISTERED_TYPE,Z);return}Schemas.push((ne,ie)=>K(ne,ie)&&Z),Plugins[Z]=te}function createInternalPlugin(Z){return Z}function normalize$3$1(Z,_,K,te){const{normalize:ne}=Plugins[Z];if(ne)return ne(_,K,te);if(typeof _!="object"||!("value"in _))return{value:_};const{value:ie}=_,oe=_objectWithoutProperties$1(_,_excluded3$1);return{value:ie,settings:oe}}function sanitize$4(Z,_,K,te,ne,ie){const{sanitize:oe}=Plugins[Z];return oe?oe(_,K,te,ne,ie):_}function format$2(Z,_,K){const{format:te}=Plugins[Z];return te?te(_,K):_}function _defineProperty$2(Z,_,K){return _ in Z?Object.defineProperty(Z,_,{value:K,enumerable:!0,configurable:!0,writable:!0}):Z[_]=K,Z}function ownKeys$2(Z,_){var K=Object.keys(Z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Z);_&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(Z,ne).enumerable})),K.push.apply(K,te)}return K}function _objectSpread2(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$2(Object(K),!0).forEach(function(te){_defineProperty$2(Z,te,K[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):ownKeys$2(Object(K)).forEach(function(te){Object.defineProperty(Z,te,Object.getOwnPropertyDescriptor(K,te))})}return Z}const clamp$1=(Z,_,K)=>Z>K?K:Z<_?_:Z,parseNumber=Z=>{if(Z===""||typeof Z=="number")return Z;try{const _=evaluate(Z);if(!isNaN(_))return _}catch{}return parseFloat(Z)},log10=Math.log(10);function getStep(Z){let _=Math.abs(+String(Z).replace(".",""));if(_===0)return .01;for(;_!==0&&_%10===0;)_/=10;const K=Math.floor(Math.log(_)/log10)+1,te=Math.floor(Math.log10(Math.abs(Z))),ne=Math.pow(10,te-K);return Math.max(ne,.001)}const range=(Z,_,K)=>K===_?0:(clamp$1(Z,_,K)-_)/(K-_),invertedRange=(Z,_,K)=>Z*(K-_)+_,getUid=()=>"_"+Math.random().toString(36).substr(2,9),parens=/\(([0-9+\-*/^ .]+)\)/,exp=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,mul=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,div=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,add=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,sub=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function evaluate(Z){if(isNaN(Number(Z)))if(parens.test(Z)){const _=Z.replace(parens,(K,te)=>String(evaluate(te)));return evaluate(_)}else if(exp.test(Z)){const _=Z.replace(exp,(K,te,ne)=>String(Math.pow(Number(te),Number(ne))));return evaluate(_)}else if(mul.test(Z)){const _=Z.replace(mul,(K,te,ne)=>String(Number(te)*Number(ne)));return evaluate(_)}else if(div.test(Z)){const _=Z.replace(div,(K,te,ne)=>{if(ne!=0)return String(Number(te)/Number(ne));throw new Error("Division by zero")});return evaluate(_)}else if(add.test(Z)){const _=Z.replace(add,(K,te,ne)=>String(Number(te)+Number(ne)));return evaluate(_)}else if(sub.test(Z)){const _=Z.replace(sub,(K,te,ne)=>String(Number(te)-Number(ne)));return evaluate(_)}else return Number(Z);return Number(Z)}function pick(Z,_){return _.reduce((K,te)=>(Z&&Z.hasOwnProperty(te)&&(K[te]=Z[te]),K),{})}function omit(Z,_){const K=_objectSpread2({},Z);return _.forEach(te=>te in Z&&delete K[te]),K}function mapArrayToKeys(Z,_){return Z.reduce((K,te,ne)=>Object.assign(K,{[_[ne]]:te}),{})}function isObject$1(Z){return Object.prototype.toString.call(Z)==="[object Object]"}const isEmptyObject=Z=>isObject$1(Z)&&Object.keys(Z).length===0;let SpecialInputs;(function(Z){Z.BUTTON="BUTTON",Z.BUTTON_GROUP="BUTTON_GROUP",Z.MONITOR="MONITOR",Z.FOLDER="FOLDER"})(SpecialInputs||(SpecialInputs={}));let LevaInputs;(function(Z){Z.SELECT="SELECT",Z.IMAGE="IMAGE",Z.NUMBER="NUMBER",Z.COLOR="COLOR",Z.STRING="STRING",Z.BOOLEAN="BOOLEAN",Z.INTERVAL="INTERVAL",Z.VECTOR3D="VECTOR3D",Z.VECTOR2D="VECTOR2D"})(LevaInputs||(LevaInputs={}));const _excluded$9=["type","__customInput"],_excluded2$3=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],_excluded3$2=["type"];function parseOptions(Z,_,K={},te){var ne,ie;if(typeof Z!="object"||Array.isArray(Z))return{type:te,input:Z,options:_objectSpread2({key:_,label:_,optional:!1,disabled:!1,order:0},K)};if("__customInput"in Z){const{type:Fe,__customInput:$e}=Z,ke=_objectWithoutProperties$1(Z,_excluded$9);return parseOptions($e,_,ke,Fe)}const{render:oe,label:se,optional:le,order:ce=0,disabled:fe,hint:pe,onChange:me,onEditStart:ve,onEditEnd:ye,transient:Ee}=Z,Se=_objectWithoutProperties$1(Z,_excluded2$3),_e=_objectSpread2({render:oe,key:_,label:se??_,hint:pe,transient:Ee??!!me,onEditStart:ve,onEditEnd:ye,disabled:fe,optional:le,order:ce},K);let{type:Te}=Se,Re=_objectWithoutProperties$1(Se,_excluded3$2);if(Te=te??Te,Te in SpecialInputs)return{type:Te,input:Re,options:_e};let Pe;return te&&isObject$1(Re)&&"value"in Re?Pe=Re.value:Pe=isEmptyObject(Re)?void 0:Re,{type:Te,input:Pe,options:_objectSpread2(_objectSpread2({},_e),{},{onChange:me,optional:(ne=_e.optional)!==null&&ne!==void 0?ne:!1,disabled:(ie=_e.disabled)!==null&&ie!==void 0?ie:!1})}}function normalizeInput(Z,_,K,te){const ne=parseOptions(Z,_),{type:ie,input:oe,options:se}=ne;if(ie)return ie in SpecialInputs?ne:{type:ie,input:normalize$3$1(ie,oe,K,te),options:se};let le=getValueType(oe);return le?{type:le,input:normalize$3$1(le,oe,K,te),options:se}:(le=getValueType({value:oe}),le?{type:le,input:normalize$3$1(le,{value:oe},K,te),options:se}:!1)}function updateInput(Z,_,K,te,ne){const{value:ie,type:oe,settings:se}=Z;Z.value=sanitizeValue({type:oe,value:ie,settings:se},_,K,te),Z.fromPanel=ne}const ValueError=function(_,K,te){this.type="LEVA_ERROR",this.message="LEVA: "+_,this.previousValue=K,this.error=te};function sanitizeValue({type:Z,value:_,settings:K},te,ne,ie){const oe=Z!=="SELECT"&&typeof te=="function"?te(_):te;let se;try{se=sanitize$4(Z,oe,K,_,ne,ie)}catch(le){throw new ValueError(`The value \`${te}\` did not result in a correct value.`,_,le)}return dequal(se,_)?_:se}const debounce=(Z,_,K=!1)=>{let te=0;return function(){const ne=arguments,ie=K&&!te,oe=()=>Z.apply(this,ne);window.clearTimeout(te),te=window.setTimeout(oe,_),ie&&oe()}},multiplyStep=Z=>Z.shiftKey?5:Z.altKey?1/5:1;function render(Z,_){const K=console.error;console.error=()=>{},ReactDOM.render(Z,_),console.error=K}const _excluded$8$1=["value"],_excluded2$2$1=["min","max"],schema$3=Z=>{if(typeof Z=="number")return!0;if(typeof Z=="string"){const _=parseFloat(Z);return isNaN(_)?!1:Z.substring((""+_).length).trim().length<4}return!1},sanitize$3=(Z,{min:_=-1/0,max:K=1/0,suffix:te})=>{const ne=parseFloat(Z);if(Z===""||isNaN(ne))throw Error("Invalid number");const ie=clamp$1(ne,_,K);return te?ie+te:ie},format$1$1=(Z,{pad:_=0,suffix:K})=>{const te=parseFloat(Z).toFixed(_);return K?te+K:te},normalize$2$1=Z=>{let{value:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$8$1);const{min:te=-1/0,max:ne=1/0}=K,ie=_objectWithoutProperties$1(K,_excluded2$2$1);let oe=parseFloat(_);const se=typeof _=="string"?_.substring((""+oe).length):void 0;oe=clamp$1(oe,te,ne);let le=K.step;le||(Number.isFinite(te)?Number.isFinite(ne)?le=+(Math.abs(ne-te)/100).toPrecision(1):le=+(Math.abs(oe-te)/100).toPrecision(1):Number.isFinite(ne)&&(le=+(Math.abs(ne-oe)/100).toPrecision(1)));const ce=le?getStep(le)*10:getStep(oe);le=le||ce/10;const fe=Math.round(clamp$1(Math.log10(1/ce),0,2));return{value:se?oe+se:oe,settings:_objectSpread2({initialValue:oe,step:le,pad:fe,min:te,max:ne,suffix:se},ie)}},sanitizeStep$1=(Z,{step:_,initialValue:K})=>{const te=Math.round((Z-K)/_);return K+te*_};var props$3=Object.freeze({__proto__:null,schema:schema$3,sanitize:sanitize$3,format:format$1$1,normalize:normalize$2$1,sanitizeStep:sanitizeStep$1});function _extends(){return _extends=Object.assign?Object.assign.bind():function(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_];for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(Z[te]=K[te])}return Z},_extends.apply(this,arguments)}const InputContext=reactExports.createContext({});function useInputContext(){return reactExports.useContext(InputContext)}const ThemeContext$1=reactExports.createContext(null),StoreContext=reactExports.createContext(null),PanelSettingsContext=reactExports.createContext(null);function useStoreContext(){return reactExports.useContext(StoreContext)}function usePanelSettingsContext(){return reactExports.useContext(PanelSettingsContext)}const getDefaultTheme=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function createStateClass(Z,_){const[K,te]=Z.split(" "),ne={};return K!=="none"&&(ne.boxShadow=`${_.inset?"inset ":""}0 0 0 $borderWidths${[_.key]} $colors${K!=="default"&&K||_.borderColor}`),te&&(ne.backgroundColor=te),ne}const utils={$inputStyle:()=>Z=>createStateClass(Z,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>Z=>createStateClass(Z,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>Z=>createStateClass(Z,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>Z=>createStateClass(Z,{key:"$active",borderColor:"$accent1",inset:!0})},{styled,css,createTheme:createTheme$1,globalCss,keyframes}=q$1({prefix:"leva",theme:getDefaultTheme(),utils:_objectSpread2(_objectSpread2({},utils),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:Z=>({"&:focus":utils.$focusStyle()(Z)}),$focusWithin:Z=>({"&:focus-within":utils.$focusStyle()(Z)}),$hover:Z=>({"&:hover":utils.$hoverStyle()(Z)}),$active:Z=>({"&:active":utils.$activeStyle()(Z)})})}),globalStyles=globalCss({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function mergeTheme(Z){const _=getDefaultTheme();if(!Z)return{theme:_,className:""};Object.keys(Z).forEach(te=>{Object.assign(_[te],Z[te])});const K=createTheme$1(_);return{theme:_,className:K.className}}function useTh(Z,_){const{theme:K}=reactExports.useContext(ThemeContext$1);if(!(Z in K)||!(_ in K[Z]))return warn(LevaErrors.THEME_ERROR,Z,_),"";let te=_;for(;;){let ne=K[Z][te];if(typeof ne=="string"&&ne.charAt(0)==="$")te=ne.substr(1);else return ne}}const StyledInput=styled("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),InnerLabel=styled("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${StyledInput}`]:{paddingLeft:0}}),InnerNumberLabel=styled(InnerLabel,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),InputContainer=styled("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),_excluded$7$1=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],_excluded2$1$1=["onUpdate"];function ValueInput(Z){let{innerLabel:_,value:K,onUpdate:te,onChange:ne,onKeyDown:ie,type:oe,id:se,inputType:le="text",rows:ce=0}=Z,fe=_objectWithoutProperties$1(Z,_excluded$7$1);const{id:pe,emitOnEditStart:me,emitOnEditEnd:ve,disabled:ye}=useInputContext(),Ee=se||pe,Se=reactExports.useRef(null),_e=ce>0,Te=_e?"textarea":"input",Re=reactExports.useCallback($e=>ke=>{const ze=ke.currentTarget.value;$e(ze)},[]);React.useEffect(()=>{const $e=Se.current,ke=Re(ze=>{te(ze),ve()});return $e==null||$e.addEventListener("blur",ke),()=>$e==null?void 0:$e.removeEventListener("blur",ke)},[Re,te,ve]);const Pe=reactExports.useCallback($e=>{$e.key==="Enter"&&Re(te)($e)},[Re,te]),Fe=Object.assign({as:Te},_e?{rows:ce}:{},fe);return React.createElement(InputContainer,{textArea:_e},_&&typeof _=="string"?React.createElement(InnerLabel,null,_):_,React.createElement(StyledInput,_extends({levaType:oe,ref:Se,id:Ee,type:le,autoComplete:"off",spellCheck:"false",value:K,onChange:Re(ne),onFocus:()=>me(),onKeyPress:Pe,onKeyDown:ie,disabled:ye},Fe)))}function NumberInput(Z){let{onUpdate:_}=Z,K=_objectWithoutProperties$1(Z,_excluded2$1$1);const te=reactExports.useCallback(ie=>_(parseNumber(ie)),[_]),ne=reactExports.useCallback(ie=>{const oe=ie.key==="ArrowUp"?1:ie.key==="ArrowDown"?-1:0;if(oe){ie.preventDefault();const se=ie.altKey?.1:ie.shiftKey?10:1;_(le=>parseFloat(le)+oe*se)}},[_]);return React.createElement(ValueInput,_extends({},K,{onUpdate:te,onKeyDown:ne,type:"number"}))}const StyledFolder=styled("div",{}),StyledWrapper=styled("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),StyledTitle=styled("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & > svg`]:{opacity:1}}),StyledContent=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${StyledFolder}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),StyledRow=styled("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${StyledContent} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),StyledInputRow=styled(StyledRow,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),CopyLabelContainer=styled("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),StyledOptionalToggle=styled("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),StyledLabel=styled("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),StyledInputWrapper$1=styled("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${StyledLabel}`]:{pointerEvents:"auto"}}}}}),Overlay=styled("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),StyledToolTipContent=styled("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),ToolTipArrow=styled($a093c7e1ec25a057$export$21b07c8f274aebd5,{fill:"$toolTipBackground"});function Portal({children:Z}){const{className:_}=reactExports.useContext(ThemeContext$1);return React.createElement($f1701beae083dbae$export$be92b6f5f03c0fe9,{className:_},Z)}const _excluded$6$1=["align"];function OptionalToggle(){const{id:Z,disable:_,disabled:K}=useInputContext();return React.createElement(React.Fragment,null,React.createElement(StyledOptionalToggle,{id:Z+"__disable",type:"checkbox",checked:!K,onChange:()=>_(!K)}),React.createElement("label",{htmlFor:Z+"__disable"}))}function RawLabel(Z){const{id:_,optional:K,hint:te}=useInputContext(),ne=Z.htmlFor||(_?{htmlFor:_}:null),ie=!te&&typeof Z.children=="string"?{title:Z.children}:null;return React.createElement(React.Fragment,null,K&&React.createElement(OptionalToggle,null),te!==void 0?React.createElement($a093c7e1ec25a057$export$be92b6f5f03c0fe9,null,React.createElement($a093c7e1ec25a057$export$41fb9f06171c75f4,{asChild:!0},React.createElement(StyledLabel,_extends({},ne,Z))),React.createElement($a093c7e1ec25a057$export$7c6e2c02157bb7d2,{side:"top",sideOffset:2},React.createElement(StyledToolTipContent,null,te,React.createElement(ToolTipArrow,null)))):React.createElement(StyledLabel,_extends({},ne,ie,Z)))}function Label(Z){let{align:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$6$1);const{value:te,label:ne,key:ie,disabled:oe}=useInputContext(),{hideCopyButton:se}=usePanelSettingsContext(),le=!se&&ie!==void 0,[ce,fe]=reactExports.useState(!1),pe=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[ie]:te??""})),fe(!0)}catch{warn(LevaErrors.CLIPBOARD_ERROR,{[ie]:te})}};return React.createElement(CopyLabelContainer,{align:_,onPointerLeave:()=>fe(!1)},React.createElement(RawLabel,K),le&&!oe&&React.createElement("div",{title:`Click to copy ${typeof ne=="string"?ne:ie} value`},ce?React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),React.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):React.createElement("svg",{onClick:pe,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),React.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const _excluded$5$1=["toggled"],Svg=styled("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Chevron(Z){let{toggled:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$5$1);return React.createElement(Svg,_extends({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${_?0:-90}deg)`}},K),React.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const _excluded$4$1=["input"];function Row$1(Z){let{input:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$4$1);return _?React.createElement(StyledInputRow,K):React.createElement(StyledRow,K)}function useInputSetters({value:Z,type:_,settings:K,setValue:te}){const[ne,ie]=reactExports.useState(format$2(_,Z,K)),oe=reactExports.useRef(Z),se=reactExports.useRef(K);se.current=K;const le=reactExports.useCallback(fe=>ie(format$2(_,fe,se.current)),[_]),ce=reactExports.useCallback(fe=>{try{te(fe)}catch(pe){const{type:me,previousValue:ve}=pe;if(me!=="LEVA_ERROR")throw pe;le(ve)}},[le,te]);return reactExports.useEffect(()=>{dequal(Z,oe.current)||le(Z),oe.current=Z},[Z,le]),{displayValue:ne,onChange:ie,onUpdate:ce}}function useDrag(Z,_){const{emitOnEditStart:K,emitOnEditEnd:te}=useInputContext();return useDrag$1(ne=>{ne.first&&(document.body.classList.add("leva__panel__dragged"),K==null||K());const ie=Z(ne);return ne.last&&(document.body.classList.remove("leva__panel__dragged"),te==null||te()),ie},_)}function useCanvas2d(Z){const _=reactExports.useRef(null),K=reactExports.useRef(null),te=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ne=debounce(()=>{_.current.width=_.current.offsetWidth*window.devicePixelRatio,_.current.height=_.current.offsetHeight*window.devicePixelRatio,Z(_.current,K.current)},250);return window.addEventListener("resize",ne),te.current||(ne(),te.current=!0),()=>window.removeEventListener("resize",ne)},[Z]),reactExports.useEffect(()=>{K.current=_.current.getContext("2d")},[]),[_,K]}function useTransform(){const Z=reactExports.useRef(null),_=reactExports.useRef({x:0,y:0}),K=reactExports.useCallback(te=>{Object.assign(_.current,te),Z.current&&(Z.current.style.transform=`translate3d(${_.current.x}px, ${_.current.y}px, 0)`)},[]);return[Z,K]}const _excluded$3$1=["__refCount"],getInputAtPath=(Z,_)=>{if(!Z[_])return null;const K=Z[_];return _objectWithoutProperties$1(K,_excluded$3$1)};function useInput(Z){const _=useStoreContext(),[K,te]=reactExports.useState(getInputAtPath(_.getData(),Z)),ne=reactExports.useCallback(ce=>_.setValueAtPath(Z,ce,!0),[Z,_]),ie=reactExports.useCallback(ce=>_.setSettingsAtPath(Z,ce),[Z,_]),oe=reactExports.useCallback(ce=>_.disableInputAtPath(Z,ce),[Z,_]),se=reactExports.useCallback(()=>_.emitOnEditStart(Z),[Z,_]),le=reactExports.useCallback(()=>_.emitOnEditEnd(Z),[Z,_]);return reactExports.useEffect(()=>{te(getInputAtPath(_.getData(),Z));const ce=_.useStore.subscribe(fe=>getInputAtPath(fe.data,Z),te,{equalityFn:shallow});return()=>ce()},[_,Z]),[K,{set:ne,setSettings:ie,disable:oe,storeId:_.storeId,emitOnEditStart:se,emitOnEditEnd:le}]}const RangeGrid=styled("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Range=styled("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Scrubber=styled("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),RangeWrapper=styled("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Indicator=styled("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function RangeSlider({value:Z,min:_,max:K,onDrag:te,step:ne,initialValue:ie}){const oe=reactExports.useRef(null),se=reactExports.useRef(null),le=reactExports.useRef(0),ce=useTh("sizes","scrubberWidth"),fe=useDrag(({event:me,first:ve,xy:[ye],movement:[Ee],memo:Se})=>{if(ve){const{width:Te,left:Re}=oe.current.getBoundingClientRect();le.current=Te-parseFloat(ce),Se=(me==null?void 0:me.target)===se.current?Z:invertedRange((ye-Re)/Te,_,K)}const _e=Se+invertedRange(Ee/le.current,0,K-_);return te(sanitizeStep$1(_e,{step:ne,initialValue:ie})),Se}),pe=range(Z,_,K);return React.createElement(RangeWrapper,_extends({ref:oe},fe()),React.createElement(Range,null,React.createElement(Indicator,{style:{left:0,right:`${(1-pe)*100}%`}})),React.createElement(Scrubber,{ref:se,style:{left:`calc(${pe} * (100% - ${ce}))`}}))}const DraggableLabel=React.memo(({label:Z,onUpdate:_,step:K,innerLabelTrim:te})=>{const[ne,ie]=reactExports.useState(!1),oe=useDrag(({active:se,delta:[le],event:ce,memo:fe=0})=>(ie(se),fe+=le/2,Math.abs(fe)>=1&&(_(pe=>parseFloat(pe)+Math.floor(fe)*K*multiplyStep(ce)),fe=0),fe));return React.createElement(InnerNumberLabel,_extends({dragging:ne,title:Z.length>1?Z:""},oe()),Z.slice(0,te))});function Number$1({label:Z,id:_,displayValue:K,onUpdate:te,onChange:ne,settings:ie,innerLabelTrim:oe=1}){const se=oe>0&&React.createElement(DraggableLabel,{label:Z,step:ie.step,onUpdate:te,innerLabelTrim:oe});return React.createElement(NumberInput,{id:_,value:String(K),onUpdate:te,onChange:ne,innerLabel:se})}function NumberComponent(){const Z=useInputContext(),{label:_,value:K,onUpdate:te,settings:ne,id:ie}=Z,{min:oe,max:se}=ne,le=se!==1/0&&oe!==-1/0;return React.createElement(Row$1,{input:!0},React.createElement(Label,null,_),React.createElement(RangeGrid,{hasRange:le},le&&React.createElement(RangeSlider,_extends({value:parseFloat(K),onDrag:te},ne)),React.createElement(Number$1,_extends({},Z,{id:ie,label:"value",innerLabelTrim:le?0:1}))))}const{sanitizeStep}=props$3,rest=_objectWithoutProperties$1(props$3,["sanitizeStep"]);var number$1=_objectSpread2({component:NumberComponent},rest);const schema$2$1=(Z,_)=>v8n().schema({options:v8n().passesAnyOf(v8n().object(),v8n().array())}).test(_),sanitize$2$1=(Z,{values:_})=>{if(_.indexOf(Z)<0)throw Error("Selected value doesn't match Select options");return Z},format$3=(Z,{values:_})=>_.indexOf(Z),normalize$1$1=Z=>{let{value:_,options:K}=Z,te,ne;return Array.isArray(K)?(ne=K,te=K.map(ie=>String(ie))):(ne=Object.values(K),te=Object.keys(K)),"value"in Z?ne.includes(_)||(te.unshift(String(_)),ne.unshift(_)):_=ne[0],Object.values(K).includes(_)||(K[String(_)]=_),{value:_,settings:{keys:te,values:ne}}};var props$2$1=Object.freeze({__proto__:null,schema:schema$2$1,sanitize:sanitize$2$1,format:format$3,normalize:normalize$1$1});const SelectContainer=styled("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),NativeSelect=styled("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),PresentationalSelect=styled("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${NativeSelect}:focus + &`]:{$focusStyle:""},[`${NativeSelect}:hover + &`]:{$hoverStyle:""}});function Select({displayValue:Z,value:_,onUpdate:K,id:te,settings:ne,disabled:ie}){const{keys:oe,values:se}=ne,le=reactExports.useRef();return _===se[Z]&&(le.current=oe[Z]),React.createElement(SelectContainer,null,React.createElement(NativeSelect,{id:te,value:Z,onChange:ce=>K(se[Number(ce.currentTarget.value)]),disabled:ie},oe.map((ce,fe)=>React.createElement("option",{key:ce,value:fe},ce))),React.createElement(PresentationalSelect,null,le.current),React.createElement(Chevron,{toggled:!0}))}function SelectComponent(){const{label:Z,value:_,displayValue:K,onUpdate:te,id:ne,disabled:ie,settings:oe}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Select,{id:ne,value:_,displayValue:K,onUpdate:te,settings:oe,disabled:ie}))}var select=_objectSpread2({component:SelectComponent},props$2$1);const schema$1$1=Z=>v8n().string().test(Z),sanitize$1$1=Z=>{if(typeof Z!="string")throw Error("Invalid string");return Z},normalize$4=({value:Z,editable:_=!0,rows:K=!1})=>({value:Z,settings:{editable:_,rows:typeof K=="number"?K:K?5:0}});var props$1$1=Object.freeze({__proto__:null,schema:schema$1$1,sanitize:sanitize$1$1,normalize:normalize$4});const _excluded$2$1=["displayValue","onUpdate","onChange","editable"],NonEditableString=styled("div",{whiteSpace:"pre-wrap"});function String$1(Z){let{displayValue:_,onUpdate:K,onChange:te,editable:ne=!0}=Z,ie=_objectWithoutProperties$1(Z,_excluded$2$1);return ne?React.createElement(ValueInput,_extends({value:_,onUpdate:K,onChange:te},ie)):React.createElement(NonEditableString,null,_)}function StringComponent(){const{label:Z,settings:_,displayValue:K,onUpdate:te,onChange:ne}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(String$1,_extends({displayValue:K,onUpdate:te,onChange:ne},_)))}var string=_objectSpread2({component:StringComponent},props$1$1);const schema$4=Z=>v8n().boolean().test(Z),sanitize$5=Z=>{if(typeof Z!="boolean")throw Error("Invalid boolean");return Z};var props$4=Object.freeze({__proto__:null,schema:schema$4,sanitize:sanitize$5});const StyledInputWrapper=styled("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Boolean$1({value:Z,onUpdate:_,id:K,disabled:te}){return React.createElement(StyledInputWrapper,null,React.createElement("input",{id:K,type:"checkbox",checked:Z,onChange:ne=>_(ne.currentTarget.checked),disabled:te}),React.createElement("label",{htmlFor:K},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function BooleanComponent(){const{label:Z,value:_,onUpdate:K,disabled:te,id:ne}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Boolean$1,{value:_,onUpdate:K,id:ne,disabled:te}))}var boolean=_objectSpread2({component:BooleanComponent},props$4);const _excluded$1$2=["locked"];function Coordinate({value:Z,id:_,valueKey:K,settings:te,onUpdate:ne,innerLabelTrim:ie}){const oe=reactExports.useRef(Z[K]);oe.current=Z[K];const se=reactExports.useCallback(ce=>ne({[K]:sanitizeValue({type:"NUMBER",value:oe.current,settings:te},ce)}),[ne,te,K]),le=useInputSetters({type:"NUMBER",value:Z[K],settings:te,setValue:se});return React.createElement(Number$1,{id:_,label:K,value:Z[K],displayValue:le.displayValue,onUpdate:le.onUpdate,onChange:le.onChange,settings:te,innerLabelTrim:ie})}const Container$2=styled("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Lock(Z){let{locked:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$1$2);return React.createElement("svg",_extends({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K),_?React.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):React.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Vector({value:Z,onUpdate:_,settings:K,innerLabelTrim:te}){const{id:ne,setSettings:ie}=useInputContext(),{lock:oe,locked:se}=K;return React.createElement(Container$2,{withLock:oe},oe&&React.createElement(Lock,{locked:se,onClick:()=>ie({locked:!se})}),Object.keys(Z).map((le,ce)=>React.createElement(Coordinate,{id:ce===0?ne:`${ne}.${le}`,key:le,valueKey:le,value:Z,settings:K[le],onUpdate:_,innerLabelTrim:te})))}const normalizeKeyedNumberSettings=(Z,_)=>{const K={};let te=0,ne=1/0;Object.entries(Z).forEach(([ie,oe])=>{K[ie]=normalize$2$1(_objectSpread2({value:oe},_[ie])).settings,te=Math.max(te,K[ie].step),ne=Math.min(ne,K[ie].pad)});for(let ie in K){const{step:oe,min:se,max:le}=_[ie]||{};!isFinite(oe)&&(!isFinite(se)||!isFinite(le))&&(K[ie].step=te,K[ie].pad=ne)}return K},_excluded$b=["lock"],_excluded2$5=["value"];function getVectorSchema(Z){const _=v8n().array().length(Z).every.number(),K=te=>{if(!te||typeof te!="object")return!1;const ne=Object.values(te);return ne.length===Z&&ne.every(ie=>isFinite(ie))};return te=>_.test(te)||K(te)}function getVectorType(Z){return Array.isArray(Z)?"array":"object"}function convert$1(Z,_,K){return getVectorType(Z)===_?Z:_==="array"?Object.values(Z):mapArrayToKeys(Z,K)}const sanitizeVector=(Z,_,K)=>{const te=convert$1(Z,"object",_.keys);for(let oe in te)te[oe]=sanitize$3(te[oe],_[oe]);const ne=Object.keys(te);let ie={};if(ne.length===_.keys.length)ie=te;else{const oe=convert$1(K,"object",_.keys);if(ne.length===1&&_.locked){const se=ne[0],le=te[se],ce=oe[se],fe=ce!==0?le/ce:1;for(let pe in oe)pe===se?ie[se]=le:ie[pe]=oe[pe]*fe}else ie=_objectSpread2(_objectSpread2({},oe),te)}return convert$1(ie,_.format,_.keys)},formatVector=(Z,_)=>convert$1(Z,"object",_.keys),isNumberSettings=Z=>!!Z&&("step"in Z||"min"in Z||"max"in Z);function normalizeVector(Z,_,K=[]){const{lock:te=!1}=_,ne=_objectWithoutProperties$1(_,_excluded$b),ie=Array.isArray(Z)?"array":"object",oe=ie==="object"?Object.keys(Z):K,se=convert$1(Z,"object",oe),le=isNumberSettings(ne)?oe.reduce((fe,pe)=>Object.assign(fe,{[pe]:ne}),{}):ne,ce=normalizeKeyedNumberSettings(se,le);return{value:ie==="array"?Z:se,settings:_objectSpread2(_objectSpread2({},ce),{},{format:ie,keys:oe,lock:te,locked:!1})}}function getVectorPlugin(Z){return{schema:getVectorSchema(Z.length),normalize:_=>{let{value:K}=_,te=_objectWithoutProperties$1(_,_excluded2$5);return normalizeVector(K,te,Z)},format:(_,K)=>formatVector(_,K),sanitize:(_,K,te)=>sanitizeVector(_,K,te)}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(Z){return typeof Z=="string"?Z.length>0:typeof Z=="number"},n=function(Z,_,K){return _===void 0&&(_=0),K===void 0&&(K=Math.pow(10,_)),Math.round(K*Z)/K+0},e=function(Z,_,K){return _===void 0&&(_=0),K===void 0&&(K=1),Z>K?K:Z>_?Z:_},u$1=function(Z){return(Z=isFinite(Z)?Z%360:0)>0?Z:Z+360},a=function(Z){return{r:e(Z.r,0,255),g:e(Z.g,0,255),b:e(Z.b,0,255),a:e(Z.a)}},o=function(Z){return{r:n(Z.r),g:n(Z.g),b:n(Z.b),a:n(Z.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$1=function(Z){var _=Z.toString(16);return _.length<2?"0"+_:_},h$1=function(Z){var _=Z.r,K=Z.g,te=Z.b,ne=Z.a,ie=Math.max(_,K,te),oe=ie-Math.min(_,K,te),se=oe?ie===_?(K-te)/oe:ie===K?2+(te-_)/oe:4+(_-K)/oe:0;return{h:60*(se<0?se+6:se),s:ie?oe/ie*100:0,v:ie/255*100,a:ne}},b$1=function(Z){var _=Z.h,K=Z.s,te=Z.v,ne=Z.a;_=_/360*6,K/=100,te/=100;var ie=Math.floor(_),oe=te*(1-K),se=te*(1-(_-ie)*K),le=te*(1-(1-_+ie)*K),ce=ie%6;return{r:255*[te,se,oe,oe,le,te][ce],g:255*[le,te,te,se,oe,oe][ce],b:255*[oe,oe,le,te,te,se][ce],a:ne}},g$1=function(Z){return{h:u$1(Z.h),s:e(Z.s,0,100),l:e(Z.l,0,100),a:e(Z.a)}},d$1=function(Z){return{h:n(Z.h),s:n(Z.s),l:n(Z.l),a:n(Z.a,3)}},f$1=function(Z){return b$1((K=(_=Z).s,{h:_.h,s:(K*=((te=_.l)<50?te:100-te)/100)>0?2*K/(te+K)*100:0,v:te+K,a:_.a}));var _,K,te},c$1=function(Z){return{h:(_=h$1(Z)).h,s:(ne=(200-(K=_.s))*(te=_.v)/100)>0&&ne<200?K*te/100/(ne<=100?ne:200-ne)*100:0,l:ne/2,a:_.a};var _,K,te,ne},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(Z){var _=i$1.exec(Z);return _?(Z=_[1]).length<=4?{r:parseInt(Z[0]+Z[0],16),g:parseInt(Z[1]+Z[1],16),b:parseInt(Z[2]+Z[2],16),a:Z.length===4?n(parseInt(Z[3]+Z[3],16)/255,2):1}:Z.length===6||Z.length===8?{r:parseInt(Z.substr(0,2),16),g:parseInt(Z.substr(2,2),16),b:parseInt(Z.substr(4,2),16),a:Z.length===8?n(parseInt(Z.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(Z){var _=v$1.exec(Z)||m$1.exec(Z);return _?_[2]!==_[4]||_[4]!==_[6]?null:a({r:Number(_[1])/(_[2]?100/255:1),g:Number(_[3])/(_[4]?100/255:1),b:Number(_[5])/(_[6]?100/255:1),a:_[7]===void 0?1:Number(_[7])/(_[8]?100:1)}):null},"rgb"],[function(Z){var _=l.exec(Z)||p$1.exec(Z);if(!_)return null;var K,te,ne=g$1({h:(K=_[1],te=_[2],te===void 0&&(te="deg"),Number(K)*(r[te]||1)),s:Number(_[3]),l:Number(_[4]),a:_[5]===void 0?1:Number(_[5])/(_[6]?100:1)});return f$1(ne)},"hsl"]],object:[[function(Z){var _=Z.r,K=Z.g,te=Z.b,ne=Z.a,ie=ne===void 0?1:ne;return t(_)&&t(K)&&t(te)?a({r:Number(_),g:Number(K),b:Number(te),a:Number(ie)}):null},"rgb"],[function(Z){var _=Z.h,K=Z.s,te=Z.l,ne=Z.a,ie=ne===void 0?1:ne;if(!t(_)||!t(K)||!t(te))return null;var oe=g$1({h:Number(_),s:Number(K),l:Number(te),a:Number(ie)});return f$1(oe)},"hsl"],[function(Z){var _=Z.h,K=Z.s,te=Z.v,ne=Z.a,ie=ne===void 0?1:ne;if(!t(_)||!t(K)||!t(te))return null;var oe=function(se){return{h:u$1(se.h),s:e(se.s,0,100),v:e(se.v,0,100),a:e(se.a)}}({h:Number(_),s:Number(K),v:Number(te),a:Number(ie)});return b$1(oe)},"hsv"]]},N=function(Z,_){for(var K=0;K<_.length;K++){var te=_[K][0](Z);if(te)return[te,_[K][1]]}return[null,void 0]},x=function(Z){return typeof Z=="string"?N(Z.trim(),y$1.string):typeof Z=="object"&&Z!==null?N(Z,y$1.object):[null,void 0]},I$1=function(Z){return x(Z)[1]},M=function(Z,_){var K=c$1(Z);return{h:K.h,s:e(K.s+100*_,0,100),l:K.l,a:K.a}},H=function(Z){return(299*Z.r+587*Z.g+114*Z.b)/1e3/255},$$1=function(Z,_){var K=c$1(Z);return{h:K.h,s:K.s,l:e(K.l+100*_,0,100),a:K.a}},j=function(){function Z(_){this.parsed=x(_)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return Z.prototype.isValid=function(){return this.parsed!==null},Z.prototype.brightness=function(){return n(H(this.rgba),2)},Z.prototype.isDark=function(){return H(this.rgba)<.5},Z.prototype.isLight=function(){return H(this.rgba)>=.5},Z.prototype.toHex=function(){return _=o(this.rgba),K=_.r,te=_.g,ne=_.b,oe=(ie=_.a)<1?s$1(n(255*ie)):"","#"+s$1(K)+s$1(te)+s$1(ne)+oe;var _,K,te,ne,ie,oe},Z.prototype.toRgb=function(){return o(this.rgba)},Z.prototype.toRgbString=function(){return _=o(this.rgba),K=_.r,te=_.g,ne=_.b,(ie=_.a)<1?"rgba("+K+", "+te+", "+ne+", "+ie+")":"rgb("+K+", "+te+", "+ne+")";var _,K,te,ne,ie},Z.prototype.toHsl=function(){return d$1(c$1(this.rgba))},Z.prototype.toHslString=function(){return _=d$1(c$1(this.rgba)),K=_.h,te=_.s,ne=_.l,(ie=_.a)<1?"hsla("+K+", "+te+"%, "+ne+"%, "+ie+")":"hsl("+K+", "+te+"%, "+ne+"%)";var _,K,te,ne,ie},Z.prototype.toHsv=function(){return _=h$1(this.rgba),{h:n(_.h),s:n(_.s),v:n(_.v),a:n(_.a,3)};var _},Z.prototype.invert=function(){return w({r:255-(_=this.rgba).r,g:255-_.g,b:255-_.b,a:_.a});var _},Z.prototype.saturate=function(_){return _===void 0&&(_=.1),w(M(this.rgba,_))},Z.prototype.desaturate=function(_){return _===void 0&&(_=.1),w(M(this.rgba,-_))},Z.prototype.grayscale=function(){return w(M(this.rgba,-1))},Z.prototype.lighten=function(_){return _===void 0&&(_=.1),w($$1(this.rgba,_))},Z.prototype.darken=function(_){return _===void 0&&(_=.1),w($$1(this.rgba,-_))},Z.prototype.rotate=function(_){return _===void 0&&(_=15),this.hue(this.hue()+_)},Z.prototype.alpha=function(_){return typeof _=="number"?w({r:(K=this.rgba).r,g:K.g,b:K.b,a:_}):n(this.rgba.a,3);var K},Z.prototype.hue=function(_){var K=c$1(this.rgba);return typeof _=="number"?w({h:_,s:K.s,l:K.l,a:K.a}):n(K.h)},Z.prototype.isEqual=function(_){return this.toHex()===w(_).toHex()},Z}(),w=function(Z){return Z instanceof j?Z:new j(Z)},S$1=[],k$1=function(Z){Z.forEach(function(_){S$1.indexOf(_)<0&&(_(j,y$1),S$1.push(_))})};function namesPlugin(Z,_){var K={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},te={};for(var ne in K)te[K[ne]]=ne;var ie={};Z.prototype.toName=function(oe){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var se,le,ce=te[this.toHex()];if(ce)return ce;if(oe!=null&&oe.closest){var fe=this.toRgb(),pe=1/0,me="black";if(!ie.length)for(var ve in K)ie[ve]=new Z(K[ve]).toRgb();for(var ye in K){var Ee=(se=fe,le=ie[ye],Math.pow(se.r-le.r,2)+Math.pow(se.g-le.g,2)+Math.pow(se.b-le.b,2));Ee<pe&&(pe=Ee,me=ye)}return me}},_.string.push([function(oe){var se=oe.toLowerCase(),le=se==="transparent"?"#0000":K[se];return le?new Z(le).toRgb():null},"name"])}function u(){return(u=Object.assign||function(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_];for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(Z[te]=K[te])}return Z}).apply(this,arguments)}function c(Z,_){if(Z==null)return{};var K,te,ne={},ie=Object.keys(Z);for(te=0;te<ie.length;te++)_.indexOf(K=ie[te])>=0||(ne[K]=Z[K]);return ne}function i(Z){var _=reactExports.useRef(Z),K=reactExports.useRef(function(te){_.current&&_.current(te)});return _.current=Z,K.current}var s=function(Z,_,K){return _===void 0&&(_=0),K===void 0&&(K=1),Z>K?K:Z<_?_:Z},f=function(Z){return"touches"in Z},v=function(Z){return Z&&Z.ownerDocument.defaultView||self},d=function(Z,_,K){var te=Z.getBoundingClientRect(),ne=f(_)?function(ie,oe){for(var se=0;se<ie.length;se++)if(ie[se].identifier===oe)return ie[se];return ie[0]}(_.touches,K):_;return{left:s((ne.pageX-(te.left+v(Z).pageXOffset))/te.width),top:s((ne.pageY-(te.top+v(Z).pageYOffset))/te.height)}},h=function(Z){!f(Z)&&Z.preventDefault()},m=React.memo(function(Z){var _=Z.onMove,K=Z.onKey,te=c(Z,["onMove","onKey"]),ne=reactExports.useRef(null),ie=i(_),oe=i(K),se=reactExports.useRef(null),le=reactExports.useRef(!1),ce=reactExports.useMemo(function(){var ve=function(Se){h(Se),(f(Se)?Se.touches.length>0:Se.buttons>0)&&ne.current?ie(d(ne.current,Se,se.current)):Ee(!1)},ye=function(){return Ee(!1)};function Ee(Se){var _e=le.current,Te=v(ne.current),Re=Se?Te.addEventListener:Te.removeEventListener;Re(_e?"touchmove":"mousemove",ve),Re(_e?"touchend":"mouseup",ye)}return[function(Se){var _e=Se.nativeEvent,Te=ne.current;if(Te&&(h(_e),!function(Pe,Fe){return Fe&&!f(Pe)}(_e,le.current)&&Te)){if(f(_e)){le.current=!0;var Re=_e.changedTouches||[];Re.length&&(se.current=Re[0].identifier)}Te.focus(),ie(d(Te,_e,se.current)),Ee(!0)}},function(Se){var _e=Se.which||Se.keyCode;_e<37||_e>40||(Se.preventDefault(),oe({left:_e===39?.05:_e===37?-.05:0,top:_e===40?.05:_e===38?-.05:0}))},Ee]},[oe,ie]),fe=ce[0],pe=ce[1],me=ce[2];return reactExports.useEffect(function(){return me},[me]),React.createElement("div",u({},te,{onTouchStart:fe,onMouseDown:fe,className:"react-colorful__interactive",ref:ne,onKeyDown:pe,tabIndex:0,role:"slider"}))}),g=function(Z){return Z.filter(Boolean).join(" ")},p=function(Z){var _=Z.color,K=Z.left,te=Z.top,ne=te===void 0?.5:te,ie=g(["react-colorful__pointer",Z.className]);return React.createElement("div",{className:ie,style:{top:100*ne+"%",left:100*K+"%"}},React.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:_}}))},b=function(Z,_,K){return _===void 0&&(_=0),K===void 0&&(K=Math.pow(10,_)),Math.round(K*Z)/K},y=function(Z){var _=Z.s,K=Z.v,te=Z.a,ne=(200-_)*K/100;return{h:b(Z.h),s:b(ne>0&&ne<200?_*K/100/(ne<=100?ne:200-ne)*100:0),l:b(ne/2),a:b(te,2)}},q=function(Z){var _=y(Z);return"hsl("+_.h+", "+_.s+"%, "+_.l+"%)"},k=function(Z){var _=y(Z);return"hsla("+_.h+", "+_.s+"%, "+_.l+"%, "+_.a+")"},I=function(Z){var _=Z.h,K=Z.s,te=Z.v,ne=Z.a;_=_/360*6,K/=100,te/=100;var ie=Math.floor(_),oe=te*(1-K),se=te*(1-(_-ie)*K),le=te*(1-(1-_+ie)*K),ce=ie%6;return{r:b(255*[te,se,oe,oe,le,te][ce]),g:b(255*[le,te,te,se,oe,oe][ce]),b:b(255*[oe,oe,le,te,te,se][ce]),a:b(ne,2)}},L=function(Z){var _=Z.r,K=Z.g,te=Z.b,ne=Z.a,ie=Math.max(_,K,te),oe=ie-Math.min(_,K,te),se=oe?ie===_?(K-te)/oe:ie===K?2+(te-_)/oe:4+(_-K)/oe:0;return{h:b(60*(se<0?se+6:se)),s:b(ie?oe/ie*100:0),v:b(ie/255*100),a:ne}},S=React.memo(function(Z){var _=Z.hue,K=Z.onChange,te=g(["react-colorful__hue",Z.className]);return React.createElement("div",{className:te},React.createElement(m,{onMove:function(ne){K({h:360*ne.left})},onKey:function(ne){K({h:s(_+360*ne.left,0,360)})},"aria-label":"Hue","aria-valuenow":b(_),"aria-valuemax":"360","aria-valuemin":"0"},React.createElement(p,{className:"react-colorful__hue-pointer",left:_/360,color:q({h:_,s:100,v:100,a:1})})))}),T=React.memo(function(Z){var _=Z.hsva,K=Z.onChange,te={backgroundColor:q({h:_.h,s:100,v:100,a:1})};return React.createElement("div",{className:"react-colorful__saturation",style:te},React.createElement(m,{onMove:function(ne){K({s:100*ne.left,v:100-100*ne.top})},onKey:function(ne){K({s:s(_.s+100*ne.left,0,100),v:s(_.v-100*ne.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+b(_.s)+"%, Brightness "+b(_.v)+"%"},React.createElement(p,{className:"react-colorful__saturation-pointer",top:1-_.v/100,left:_.s/100,color:q(_)})))}),F=function(Z,_){if(Z===_)return!0;for(var K in Z)if(Z[K]!==_[K])return!1;return!0};function Y(Z,_,K){var te=i(K),ne=reactExports.useState(function(){return Z.toHsva(_)}),ie=ne[0],oe=ne[1],se=reactExports.useRef({color:_,hsva:ie});reactExports.useEffect(function(){if(!Z.equal(_,se.current.color)){var ce=Z.toHsva(_);se.current={hsva:ce,color:_},oe(ce)}},[_,Z]),reactExports.useEffect(function(){var ce;F(ie,se.current.hsva)||Z.equal(ce=Z.fromHsva(ie),se.current.color)||(se.current={hsva:ie,color:ce},te(ce))},[ie,Z,te]);var le=reactExports.useCallback(function(ce){oe(function(fe){return Object.assign({},fe,ce)})},[]);return[ie,le]}var V=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},J=new Map,Q=function(Z){V(function(){var _=Z.current?Z.current.ownerDocument:document;if(_!==void 0&&!J.has(_)){var K=_.createElement("style");K.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,J.set(_,K);var te=$();te&&K.setAttribute("nonce",te),_.head.appendChild(K)}},[])},U=function(Z){var _=Z.className,K=Z.colorModel,te=Z.color,ne=te===void 0?K.defaultColor:te,ie=Z.onChange,oe=c(Z,["className","colorModel","color","onChange"]),se=reactExports.useRef(null);Q(se);var le=Y(K,ne,ie),ce=le[0],fe=le[1],pe=g(["react-colorful",_]);return React.createElement("div",u({},oe,{ref:se,className:pe}),React.createElement(T,{hsva:ce,onChange:fe}),React.createElement(S,{hue:ce.h,onChange:fe,className:"react-colorful__last-control"}))},ee=function(Z){var _=Z.className,K=Z.hsva,te=Z.onChange,ne={backgroundImage:"linear-gradient(90deg, "+k(Object.assign({},K,{a:0}))+", "+k(Object.assign({},K,{a:1}))+")"},ie=g(["react-colorful__alpha",_]),oe=b(100*K.a);return React.createElement("div",{className:ie},React.createElement("div",{className:"react-colorful__alpha-gradient",style:ne}),React.createElement(m,{onMove:function(se){te({a:se.left})},onKey:function(se){te({a:s(K.a+se.left)})},"aria-label":"Alpha","aria-valuetext":oe+"%","aria-valuenow":oe,"aria-valuemin":"0","aria-valuemax":"100"},React.createElement(p,{className:"react-colorful__alpha-pointer",left:K.a,color:k(K)})))},re=function(Z){var _=Z.className,K=Z.colorModel,te=Z.color,ne=te===void 0?K.defaultColor:te,ie=Z.onChange,oe=c(Z,["className","colorModel","color","onChange"]),se=reactExports.useRef(null);Q(se);var le=Y(K,ne,ie),ce=le[0],fe=le[1],pe=g(["react-colorful",_]);return React.createElement("div",u({},oe,{ref:se,className:pe}),React.createElement(T,{hsva:ce,onChange:fe}),React.createElement(S,{hue:ce.h,onChange:fe}),React.createElement(ee,{hsva:ce,onChange:fe,className:"react-colorful__last-control"}))},xe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L,fromHsva:I,equal:F},Ce=function(Z){return React.createElement(re,u({},Z,{colorModel:xe}))},Me={defaultColor:{r:0,g:0,b:0},toHsva:function(Z){return L({r:Z.r,g:Z.g,b:Z.b,a:1})},fromHsva:function(Z){return{r:(_=I(Z)).r,g:_.g,b:_.b};var _},equal:F},Ne=function(Z){return React.createElement(U,u({},Z,{colorModel:Me}))};function __rest(Z,_){var K={};for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&_.indexOf(te)<0&&(K[te]=Z[te]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,te=Object.getOwnPropertySymbols(Z);ne<te.length;ne++)_.indexOf(te[ne])<0&&Object.prototype.propertyIsEnumerable.call(Z,te[ne])&&(K[te[ne]]=Z[te[ne]]);return K}function __awaiter(Z,_,K,te){function ne(ie){return ie instanceof K?ie:new K(function(oe){oe(ie)})}return new(K||(K=Promise))(function(ie,oe){function se(fe){try{ce(te.next(fe))}catch(pe){oe(pe)}}function le(fe){try{ce(te.throw(fe))}catch(pe){oe(pe)}}function ce(fe){fe.done?ie(fe.value):ne(fe.value).then(se,le)}ce((te=te.apply(Z,_||[])).next())})}function __generator(Z,_){var K={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},te,ne,ie,oe=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return oe.next=se(0),oe.throw=se(1),oe.return=se(2),typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function se(ce){return function(fe){return le([ce,fe])}}function le(ce){if(te)throw new TypeError("Generator is already executing.");for(;oe&&(oe=0,ce[0]&&(K=0)),K;)try{if(te=1,ne&&(ie=ce[0]&2?ne.return:ce[0]?ne.throw||((ie=ne.return)&&ie.call(ne),0):ne.next)&&!(ie=ie.call(ne,ce[1])).done)return ie;switch(ne=0,ie&&(ce=[ce[0]&2,ie.value]),ce[0]){case 0:case 1:ie=ce;break;case 4:return K.label++,{value:ce[1],done:!1};case 5:K.label++,ne=ce[1],ce=[0];continue;case 7:ce=K.ops.pop(),K.trys.pop();continue;default:if(ie=K.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(ce[0]===6||ce[0]===2)){K=0;continue}if(ce[0]===3&&(!ie||ce[1]>ie[0]&&ce[1]<ie[3])){K.label=ce[1];break}if(ce[0]===6&&K.label<ie[1]){K.label=ie[1],ie=ce;break}if(ie&&K.label<ie[2]){K.label=ie[2],K.ops.push(ce);break}ie[2]&&K.ops.pop(),K.trys.pop();continue}ce=_.call(Z,K)}catch(fe){ce=[6,fe],ne=0}finally{te=ie=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}}function __read(Z,_){var K=typeof Symbol=="function"&&Z[Symbol.iterator];if(!K)return Z;var te=K.call(Z),ne,ie=[],oe;try{for(;(_===void 0||_-- >0)&&!(ne=te.next()).done;)ie.push(ne.value)}catch(se){oe={error:se}}finally{try{ne&&!ne.done&&(K=te.return)&&K.call(te)}finally{if(oe)throw oe.error}}return ie}function __spread(){for(var Z=[],_=0;_<arguments.length;_++)Z=Z.concat(__read(arguments[_]));return Z}typeof SuppressedError=="function"&&SuppressedError;var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(Z,_){var K=withMimeType(Z);if(typeof K.path!="string"){var te=Z.webkitRelativePath;Object.defineProperty(K,"path",{value:typeof _=="string"?_:typeof te=="string"&&te.length>0?te:Z.name,writable:!1,configurable:!1,enumerable:!0})}return K}function withMimeType(Z){var _=Z.name,K=_&&_.lastIndexOf(".")!==-1;if(K&&!Z.type){var te=_.split(".").pop().toLowerCase(),ne=COMMON_MIME_TYPES.get(te);ne&&Object.defineProperty(Z,"type",{value:ne,writable:!1,configurable:!1,enumerable:!0})}return Z}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(Z){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return isObject(Z)&&isDataTransfer(Z)?[2,getDataTransferFiles(Z.dataTransfer,Z.type)]:isChangeEvt(Z)?[2,getInputFiles(Z)]:Array.isArray(Z)&&Z.every(function(K){return"getFile"in K&&typeof K.getFile=="function"})?[2,getFsHandleFiles(Z)]:[2,[]]})})}function isDataTransfer(Z){return isObject(Z.dataTransfer)}function isChangeEvt(Z){return isObject(Z)&&isObject(Z.target)}function isObject(Z){return typeof Z=="object"&&Z!==null}function getInputFiles(Z){return fromList(Z.target.files).map(function(_){return toFileWithPath(_)})}function getFsHandleFiles(Z){return __awaiter(this,void 0,void 0,function(){var _;return __generator(this,function(K){switch(K.label){case 0:return[4,Promise.all(Z.map(function(te){return te.getFile()}))];case 1:return _=K.sent(),[2,_.map(function(te){return toFileWithPath(te)})]}})})}function getDataTransferFiles(Z,_){return __awaiter(this,void 0,void 0,function(){var K,te;return __generator(this,function(ne){switch(ne.label){case 0:return Z===null?[2,[]]:Z.items?(K=fromList(Z.items).filter(function(ie){return ie.kind==="file"}),_!=="drop"?[2,K]:[4,Promise.all(K.map(toFilePromises))]):[3,2];case 1:return te=ne.sent(),[2,noIgnoredFiles(flatten(te))];case 2:return[2,noIgnoredFiles(fromList(Z.files).map(function(ie){return toFileWithPath(ie)}))]}})})}function noIgnoredFiles(Z){return Z.filter(function(_){return FILES_TO_IGNORE.indexOf(_.name)===-1})}function fromList(Z){if(Z===null)return[];for(var _=[],K=0;K<Z.length;K++){var te=Z[K];_.push(te)}return _}function toFilePromises(Z){if(typeof Z.webkitGetAsEntry!="function")return fromDataTransferItem(Z);var _=Z.webkitGetAsEntry();return _&&_.isDirectory?fromDirEntry(_):fromDataTransferItem(Z)}function flatten(Z){return Z.reduce(function(_,K){return __spread(_,Array.isArray(K)?flatten(K):[K])},[])}function fromDataTransferItem(Z){var _=Z.getAsFile();if(!_)return Promise.reject(Z+" is not a File");var K=toFileWithPath(_);return Promise.resolve(K)}function fromEntry(Z){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return[2,Z.isDirectory?fromDirEntry(Z):fromFileEntry(Z)]})})}function fromDirEntry(Z){var _=Z.createReader();return new Promise(function(K,te){var ne=[];function ie(){var oe=this;_.readEntries(function(se){return __awaiter(oe,void 0,void 0,function(){var le,ce,fe;return __generator(this,function(pe){switch(pe.label){case 0:if(se.length)return[3,5];pe.label=1;case 1:return pe.trys.push([1,3,,4]),[4,Promise.all(ne)];case 2:return le=pe.sent(),K(le),[3,4];case 3:return ce=pe.sent(),te(ce),[3,4];case 4:return[3,6];case 5:fe=Promise.all(se.map(fromEntry)),ne.push(fe),ie(),pe.label=6;case 6:return[2]}})})},function(se){te(se)})}ie()})}function fromFileEntry(Z){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return[2,new Promise(function(K,te){Z.file(function(ne){var ie=toFileWithPath(ne,Z.fullPath);K(ie)},function(ne){te(ne)})})]})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(Z,_){if(Z&&_){var K=Array.isArray(_)?_:_.split(",");if(K.length===0)return!0;var te=Z.name||"",ne=(Z.type||"").toLowerCase(),ie=ne.replace(/\/.*$/,"");return K.some(function(oe){var se=oe.trim().toLowerCase();return se.charAt(0)==="."?te.toLowerCase().endsWith(se):se.endsWith("/*")?ie===se.replace(/\/.*$/,""):ne===se})}return!0}),es}var esExports=requireEs();const accepts=getDefaultExportFromCjs(esExports);function ownKeys$1(Z,_){var K=Object.keys(Z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Z);_&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(Z,ne).enumerable})),K.push.apply(K,te)}return K}function _objectSpread$1(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1(Object(K),!0).forEach(function(te){_defineProperty$1(Z,te,K[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):ownKeys$1(Object(K)).forEach(function(te){Object.defineProperty(Z,te,Object.getOwnPropertyDescriptor(K,te))})}return Z}function _defineProperty$1(Z,_,K){return _ in Z?Object.defineProperty(Z,_,{value:K,enumerable:!0,configurable:!0,writable:!0}):Z[_]=K,Z}function _slicedToArray$1(Z,_){return _arrayWithHoles$1(Z)||_iterableToArrayLimit$1(Z,_)||_unsupportedIterableToArray$1(Z,_)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(Z,_){if(Z){if(typeof Z=="string")return _arrayLikeToArray$1(Z,_);var K=Object.prototype.toString.call(Z).slice(8,-1);if(K==="Object"&&Z.constructor&&(K=Z.constructor.name),K==="Map"||K==="Set")return Array.from(Z);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return _arrayLikeToArray$1(Z,_)}}function _arrayLikeToArray$1(Z,_){(_==null||_>Z.length)&&(_=Z.length);for(var K=0,te=new Array(_);K<_;K++)te[K]=Z[K];return te}function _iterableToArrayLimit$1(Z,_){var K=Z==null?null:typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(K!=null){var te=[],ne=!0,ie=!1,oe,se;try{for(K=K.call(Z);!(ne=(oe=K.next()).done)&&(te.push(oe.value),!(_&&te.length===_));ne=!0);}catch(le){ie=!0,se=le}finally{try{!ne&&K.return!=null&&K.return()}finally{if(ie)throw se}}return te}}function _arrayWithHoles$1(Z){if(Array.isArray(Z))return Z}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(_){_=Array.isArray(_)&&_.length===1?_[0]:_;var K=Array.isArray(_)?"one of ".concat(_.join(", ")):_;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(K)}},getTooLargeRejectionErr=function(_){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(_," ").concat(_===1?"byte":"bytes")}},getTooSmallRejectionErr=function(_){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(_," ").concat(_===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(Z,_){var K=Z.type==="application/x-moz-file"||accepts(Z,_);return[K,K?null:getInvalidTypeRejectionErr(_)]}function fileMatchSize(Z,_,K){if(isDefined(Z.size))if(isDefined(_)&&isDefined(K)){if(Z.size>K)return[!1,getTooLargeRejectionErr(K)];if(Z.size<_)return[!1,getTooSmallRejectionErr(_)]}else{if(isDefined(_)&&Z.size<_)return[!1,getTooSmallRejectionErr(_)];if(isDefined(K)&&Z.size>K)return[!1,getTooLargeRejectionErr(K)]}return[!0,null]}function isDefined(Z){return Z!=null}function allFilesAccepted(Z){var _=Z.files,K=Z.accept,te=Z.minSize,ne=Z.maxSize,ie=Z.multiple,oe=Z.maxFiles;return!ie&&_.length>1||ie&&oe>=1&&_.length>oe?!1:_.every(function(se){var le=fileAccepted(se,K),ce=_slicedToArray$1(le,1),fe=ce[0],pe=fileMatchSize(se,te,ne),me=_slicedToArray$1(pe,1),ve=me[0];return fe&&ve})}function isPropagationStopped(Z){return typeof Z.isPropagationStopped=="function"?Z.isPropagationStopped():typeof Z.cancelBubble<"u"?Z.cancelBubble:!1}function isEvtWithFiles(Z){return Z.dataTransfer?Array.prototype.some.call(Z.dataTransfer.types,function(_){return _==="Files"||_==="application/x-moz-file"}):!!Z.target&&!!Z.target.files}function onDocumentDragOver(Z){Z.preventDefault()}function isIe(Z){return Z.indexOf("MSIE")!==-1||Z.indexOf("Trident/")!==-1}function isEdge(Z){return Z.indexOf("Edge/")!==-1}function isIeOrEdge(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(Z)||isEdge(Z)}function composeEventHandlers$1(){for(var Z=arguments.length,_=new Array(Z),K=0;K<Z;K++)_[K]=arguments[K];return function(te){for(var ne=arguments.length,ie=new Array(ne>1?ne-1:0),oe=1;oe<ne;oe++)ie[oe-1]=arguments[oe];return _.some(function(se){return!isPropagationStopped(te)&&se&&se.apply(void 0,[te].concat(ie)),isPropagationStopped(te)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function filePickerOptionsTypes(Z){return Z=typeof Z=="string"?Z.split(","):Z,[{description:"everything",accept:Array.isArray(Z)?Z.filter(function(_){return _==="audio/*"||_==="video/*"||_==="image/*"||_==="text/*"||/\w+\/[-+.\w]+/g.test(_)}).reduce(function(_,K){return _objectSpread$1(_objectSpread$1({},_),{},_defineProperty$1({},K,[]))},{}):{}}]}function isAbort(Z){return Z instanceof DOMException&&(Z.name==="AbortError"||Z.code===Z.ABORT_ERR)}function isSecurityError(Z){return Z instanceof DOMException&&(Z.name==="SecurityError"||Z.code===Z.SECURITY_ERR)}var _excluded$8=["children"],_excluded2$2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(Z){return _arrayWithoutHoles(Z)||_iterableToArray(Z)||_unsupportedIterableToArray(Z)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(Z){if(typeof Symbol<"u"&&Z[Symbol.iterator]!=null||Z["@@iterator"]!=null)return Array.from(Z)}function _arrayWithoutHoles(Z){if(Array.isArray(Z))return _arrayLikeToArray(Z)}function _slicedToArray(Z,_){return _arrayWithHoles(Z)||_iterableToArrayLimit(Z,_)||_unsupportedIterableToArray(Z,_)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(Z,_){if(Z){if(typeof Z=="string")return _arrayLikeToArray(Z,_);var K=Object.prototype.toString.call(Z).slice(8,-1);if(K==="Object"&&Z.constructor&&(K=Z.constructor.name),K==="Map"||K==="Set")return Array.from(Z);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return _arrayLikeToArray(Z,_)}}function _arrayLikeToArray(Z,_){(_==null||_>Z.length)&&(_=Z.length);for(var K=0,te=new Array(_);K<_;K++)te[K]=Z[K];return te}function _iterableToArrayLimit(Z,_){var K=Z==null?null:typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(K!=null){var te=[],ne=!0,ie=!1,oe,se;try{for(K=K.call(Z);!(ne=(oe=K.next()).done)&&(te.push(oe.value),!(_&&te.length===_));ne=!0);}catch(le){ie=!0,se=le}finally{try{!ne&&K.return!=null&&K.return()}finally{if(ie)throw se}}return te}}function _arrayWithHoles(Z){if(Array.isArray(Z))return Z}function ownKeys(Z,_){var K=Object.keys(Z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Z);_&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(Z,ne).enumerable})),K.push.apply(K,te)}return K}function _objectSpread(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_]!=null?arguments[_]:{};_%2?ownKeys(Object(K),!0).forEach(function(te){_defineProperty(Z,te,K[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):ownKeys(Object(K)).forEach(function(te){Object.defineProperty(Z,te,Object.getOwnPropertyDescriptor(K,te))})}return Z}function _defineProperty(Z,_,K){return _ in Z?Object.defineProperty(Z,_,{value:K,enumerable:!0,configurable:!0,writable:!0}):Z[_]=K,Z}function _objectWithoutProperties(Z,_){if(Z==null)return{};var K=_objectWithoutPropertiesLoose$3(Z,_),te,ne;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(Z);for(ne=0;ne<ie.length;ne++)te=ie[ne],!(_.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(Z,te)&&(K[te]=Z[te])}return K}function _objectWithoutPropertiesLoose$3(Z,_){if(Z==null)return{};var K={},te=Object.keys(Z),ne,ie;for(ie=0;ie<te.length;ie++)ne=te[ie],!(_.indexOf(ne)>=0)&&(K[ne]=Z[ne]);return K}var Dropzone=reactExports.forwardRef(function(Z,_){var K=Z.children,te=_objectWithoutProperties(Z,_excluded$8),ne=useDropzone(te),ie=ne.open,oe=_objectWithoutProperties(ne,_excluded2$2);return reactExports.useImperativeHandle(_,function(){return{open:ie}},[ie]),React.createElement(reactExports.Fragment,null,K(_objectSpread(_objectSpread({},oe),{},{open:ie})))});Dropzone.displayName="Dropzone";var defaultProps$e={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Dropzone.defaultProps=defaultProps$e;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function useDropzone(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=_objectSpread(_objectSpread({},defaultProps$e),Z),K=_.accept,te=_.disabled,ne=_.getFilesFromEvent,ie=_.maxSize,oe=_.minSize,se=_.multiple,le=_.maxFiles,ce=_.onDragEnter,fe=_.onDragLeave,pe=_.onDragOver,me=_.onDrop,ve=_.onDropAccepted,ye=_.onDropRejected,Ee=_.onFileDialogCancel,Se=_.onFileDialogOpen,_e=_.useFsAccessApi,Te=_.preventDropOnDocument,Re=_.noClick,Pe=_.noKeyboard,Fe=_.noDrag,$e=_.noDragEventsBubbling,ke=_.validator,ze=reactExports.useMemo(function(){return typeof Se=="function"?Se:noop$2},[Se]),Ue=reactExports.useMemo(function(){return typeof Ee=="function"?Ee:noop$2},[Ee]),Oe=reactExports.useRef(null),Ve=reactExports.useRef(null),Ye=reactExports.useReducer(reducer,initialState),Ke=_slicedToArray(Ye,2),rt=Ke[0],ct=Ke[1],at=rt.isFocused,mt=rt.isFileDialogActive,je=rt.draggedFiles,it=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&_e&&canUseFileSystemAccessAPI()),et=function(){!it.current&&mt&&setTimeout(function(){if(Ve.current){var pt=Ve.current.files;pt.length||(ct({type:"closeDialog"}),Ue())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",et,!1),function(){window.removeEventListener("focus",et,!1)}},[Ve,mt,Ue,it]);var qe=reactExports.useRef([]),lt=function(pt){Oe.current&&Oe.current.contains(pt.target)||(pt.preventDefault(),qe.current=[])};reactExports.useEffect(function(){return Te&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",lt,!1)),function(){Te&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",lt))}},[Oe,Te]);var _t=reactExports.useCallback(function(tt){tt.preventDefault(),tt.persist(),Bt(tt),qe.current=[].concat(_toConsumableArray(qe.current),[tt.target]),isEvtWithFiles(tt)&&Promise.resolve(ne(tt)).then(function(pt){isPropagationStopped(tt)&&!$e||(ct({draggedFiles:pt,isDragActive:!0,type:"setDraggedFiles"}),ce&&ce(tt))})},[ne,ce,$e]),ut=reactExports.useCallback(function(tt){tt.preventDefault(),tt.persist(),Bt(tt);var pt=isEvtWithFiles(tt);if(pt&&tt.dataTransfer)try{tt.dataTransfer.dropEffect="copy"}catch{}return pt&&pe&&pe(tt),!1},[pe,$e]),St=reactExports.useCallback(function(tt){tt.preventDefault(),tt.persist(),Bt(tt);var pt=qe.current.filter(function(Ct){return Oe.current&&Oe.current.contains(Ct)}),Lt=pt.indexOf(tt.target);Lt!==-1&&pt.splice(Lt,1),qe.current=pt,!(pt.length>0)&&(ct({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),isEvtWithFiles(tt)&&fe&&fe(tt))},[Oe,fe,$e]),Et=reactExports.useCallback(function(tt,pt){var Lt=[],Ct=[];tt.forEach(function(nn){var Xt=fileAccepted(nn,K),Qt=_slicedToArray(Xt,2),Rn=Qt[0],Ut=Qt[1],Ft=fileMatchSize(nn,oe,ie),Zt=_slicedToArray(Ft,2),yn=Zt[0],an=Zt[1],ot=ke?ke(nn):null;if(Rn&&yn&&!ot)Lt.push(nn);else{var $t=[Ut,an];ot&&($t=$t.concat(ot)),Ct.push({file:nn,errors:$t.filter(function(tn){return tn})})}}),(!se&&Lt.length>1||se&&le>=1&&Lt.length>le)&&(Lt.forEach(function(nn){Ct.push({file:nn,errors:[TOO_MANY_FILES_REJECTION]})}),Lt.splice(0)),ct({acceptedFiles:Lt,fileRejections:Ct,type:"setFiles"}),me&&me(Lt,Ct,pt),Ct.length>0&&ye&&ye(Ct,pt),Lt.length>0&&ve&&ve(Lt,pt)},[ct,se,K,oe,ie,le,me,ve,ye,ke]),At=reactExports.useCallback(function(tt){tt.preventDefault(),tt.persist(),Bt(tt),qe.current=[],isEvtWithFiles(tt)&&Promise.resolve(ne(tt)).then(function(pt){isPropagationStopped(tt)&&!$e||Et(pt,tt)}),ct({type:"reset"})},[ne,Et,$e]),kt=reactExports.useCallback(function(){if(it.current){ct({type:"openDialog"}),ze();var tt={multiple:se,types:filePickerOptionsTypes(K)};window.showOpenFilePicker(tt).then(function(pt){return ne(pt)}).then(function(pt){Et(pt,null),ct({type:"closeDialog"})}).catch(function(pt){isAbort(pt)?(Ue(pt),ct({type:"closeDialog"})):isSecurityError(pt)&&(it.current=!1,Ve.current&&(Ve.current.value=null,Ve.current.click()))});return}Ve.current&&(ct({type:"openDialog"}),ze(),Ve.current.value=null,Ve.current.click())},[ct,ze,Ue,_e,Et,K,se]),jt=reactExports.useCallback(function(tt){!Oe.current||!Oe.current.isEqualNode(tt.target)||(tt.key===" "||tt.key==="Enter"||tt.keyCode===32||tt.keyCode===13)&&(tt.preventDefault(),kt())},[Oe,kt]),en=reactExports.useCallback(function(){ct({type:"focus"})},[]),un=reactExports.useCallback(function(){ct({type:"blur"})},[]),It=reactExports.useCallback(function(){Re||(isIeOrEdge()?setTimeout(kt,0):kt())},[Re,kt]),Ot=function(pt){return te?null:pt},Ze=function(pt){return Pe?null:Ot(pt)},sn=function(pt){return Fe?null:Ot(pt)},Bt=function(pt){$e&&pt.stopPropagation()},rn=reactExports.useMemo(function(){return function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pt=tt.refKey,Lt=pt===void 0?"ref":pt,Ct=tt.role,nn=tt.onKeyDown,Xt=tt.onFocus,Qt=tt.onBlur,Rn=tt.onClick,Ut=tt.onDragEnter,Ft=tt.onDragOver,Zt=tt.onDragLeave,yn=tt.onDrop,an=_objectWithoutProperties(tt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:Ze(composeEventHandlers$1(nn,jt)),onFocus:Ze(composeEventHandlers$1(Xt,en)),onBlur:Ze(composeEventHandlers$1(Qt,un)),onClick:Ot(composeEventHandlers$1(Rn,It)),onDragEnter:sn(composeEventHandlers$1(Ut,_t)),onDragOver:sn(composeEventHandlers$1(Ft,ut)),onDragLeave:sn(composeEventHandlers$1(Zt,St)),onDrop:sn(composeEventHandlers$1(yn,At)),role:typeof Ct=="string"&&Ct!==""?Ct:"button"},Lt,Oe),!te&&!Pe?{tabIndex:0}:{}),an)}},[Oe,jt,en,un,It,_t,ut,St,At,Pe,Fe,te]),Gt=reactExports.useCallback(function(tt){tt.stopPropagation()},[]),pn=reactExports.useMemo(function(){return function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pt=tt.refKey,Lt=pt===void 0?"ref":pt,Ct=tt.onChange,nn=tt.onClick,Xt=_objectWithoutProperties(tt,_excluded4),Qt=_defineProperty({accept:K,multiple:se,type:"file",style:{display:"none"},onChange:Ot(composeEventHandlers$1(Ct,At)),onClick:Ot(composeEventHandlers$1(nn,Gt)),tabIndex:-1},Lt,Ve);return _objectSpread(_objectSpread({},Qt),Xt)}},[Ve,K,se,At,te]),qt=je.length,Xe=qt>0&&allFilesAccepted({files:je,accept:K,minSize:oe,maxSize:ie,multiple:se,maxFiles:le}),He=qt>0&&!Xe;return _objectSpread(_objectSpread({},rt),{},{isDragAccept:Xe,isDragReject:He,isFocused:at&&!te,getRootProps:rn,getInputProps:pn,rootRef:Oe,inputRef:Ve,open:Ot(kt)})}function reducer(Z,_){switch(_.type){case"focus":return _objectSpread(_objectSpread({},Z),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},Z),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},Z),{},{isFileDialogActive:!1});case"setDraggedFiles":var K=_.isDragActive,te=_.draggedFiles;return _objectSpread(_objectSpread({},Z),{},{draggedFiles:te,isDragActive:K});case"setFiles":return _objectSpread(_objectSpread({},Z),{},{acceptedFiles:_.acceptedFiles,fileRejections:_.fileRejections});case"reset":return _objectSpread({},initialState);default:return Z}}function noop$2(){}function createStore(Z){let _;const K=new Set,te=(ce,fe)=>{const pe=typeof ce=="function"?ce(_):ce;if(pe!==_){const me=_;_=fe?pe:Object.assign({},_,pe),K.forEach(ve=>ve(_,me))}},ne=()=>_,ie=(ce,fe=ne,pe=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let me=fe(_);function ve(){const ye=fe(_);if(!pe(me,ye)){const Ee=me;ce(me=ye,Ee)}}return K.add(ve),()=>K.delete(ve)},le={setState:te,getState:ne,subscribe:(ce,fe,pe)=>fe||pe?ie(ce,fe,pe):(K.add(ce),()=>K.delete(ce)),destroy:()=>K.clear()};return _=Z(te,ne,le),le}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(Z){const _=typeof Z=="function"?createStore(Z):Z,K=(te=_.getState,ne=Object.is)=>{const[,ie]=reactExports.useReducer(Se=>Se+1,0),oe=_.getState(),se=reactExports.useRef(oe),le=reactExports.useRef(te),ce=reactExports.useRef(ne),fe=reactExports.useRef(!1),pe=reactExports.useRef();pe.current===void 0&&(pe.current=te(oe));let me,ve=!1;(se.current!==oe||le.current!==te||ce.current!==ne||fe.current)&&(me=te(oe),ve=!ne(pe.current,me)),useIsomorphicLayoutEffect$1(()=>{ve&&(pe.current=me),se.current=oe,le.current=te,ce.current=ne,fe.current=!1});const ye=reactExports.useRef(oe);useIsomorphicLayoutEffect$1(()=>{const Se=()=>{try{const Te=_.getState(),Re=le.current(Te);ce.current(pe.current,Re)||(se.current=Te,pe.current=Re,ie())}catch{fe.current=!0,ie()}},_e=_.subscribe(Se);return _.getState()!==ye.current&&Se(),_e},[]);const Ee=ve?me:pe.current;return reactExports.useDebugValue(Ee),Ee};return Object.assign(K,_),K[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const te=[K,_];return{next(){const ne=te.length<=0;return{value:te.shift(),done:ne}}}},K}const subscribeWithSelector=Z=>(_,K,te)=>{const ne=te.subscribe;return te.subscribe=(oe,se,le)=>{let ce=oe;if(se){const fe=(le==null?void 0:le.equalityFn)||Object.is;let pe=oe(te.getState());ce=me=>{const ve=oe(me);if(!fe(pe,ve)){const ye=pe;se(pe=ve,ye)}},le!=null&&le.fireImmediately&&se(pe,pe)}return ne(ce)},Z(_,K,te)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isobject,hasRequiredIsobject;function requireIsobject(){return hasRequiredIsobject||(hasRequiredIsobject=1,isobject=function(_){return _!=null&&typeof _=="object"&&Array.isArray(_)===!1}),isobject}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isPlainObject,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject;hasRequiredIsPlainObject=1;var Z=requireIsobject();function _(K){return Z(K)===!0&&Object.prototype.toString.call(K)==="[object Object]"}return isPlainObject=function(te){var ne,ie;return!(_(te)===!1||(ne=te.constructor,typeof ne!="function")||(ie=ne.prototype,_(ie)===!1)||ie.hasOwnProperty("isPrototypeOf")===!1)},isPlainObject}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isExtendable$2,hasRequiredIsExtendable$2;function requireIsExtendable$2(){if(hasRequiredIsExtendable$2)return isExtendable$2;hasRequiredIsExtendable$2=1;var Z=requireIsPlainObject();return isExtendable$2=function(K){return Z(K)||typeof K=="function"||Array.isArray(K)},isExtendable$2}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var forIn,hasRequiredForIn;function requireForIn(){return hasRequiredForIn||(hasRequiredForIn=1,forIn=function(_,K,te){for(var ne in _)if(K.call(te,_[ne],ne,_)===!1)break}),forIn}var mixinDeep_1,hasRequiredMixinDeep;function requireMixinDeep(){if(hasRequiredMixinDeep)return mixinDeep_1;hasRequiredMixinDeep=1;var Z=requireIsExtendable$2(),_=requireForIn();function K(oe,se){for(var le=arguments.length,ce=0;++ce<le;){var fe=arguments[ce];ne(fe)&&_(fe,te,oe)}return oe}function te(oe,se){if(ie(se)){var le=this[se];ne(oe)&&ne(le)?K(le,oe):this[se]=oe}}function ne(oe){return Z(oe)&&!Array.isArray(oe)}function ie(oe){return oe!=="__proto__"&&oe!=="constructor"&&oe!=="prototype"}return mixinDeep_1=K,mixinDeep_1}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var getValue$1,hasRequiredGetValue;function requireGetValue(){if(hasRequiredGetValue)return getValue$1;hasRequiredGetValue=1,getValue$1=function(K,te,ne,ie,oe){if(!Z(K)||!te)return K;if(te=_(te),ne&&(te+="."+_(ne)),ie&&(te+="."+_(ie)),oe&&(te+="."+_(oe)),te in K)return K[te];for(var se=te.split("."),le=se.length,ce=-1;K&&++ce<le;){for(var fe=se[ce];fe[fe.length-1]==="\\";)fe=fe.slice(0,-1)+"."+se[++ce];K=K[fe]}return K};function Z(K){return K!==null&&(typeof K=="object"||typeof K=="function")}function _(K){return K?Array.isArray(K)?K.join("."):K:""}return getValue$1}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var assignSymbols,hasRequiredAssignSymbols;function requireAssignSymbols(){return hasRequiredAssignSymbols||(hasRequiredAssignSymbols=1,assignSymbols=function(Z,_){if(Z===null||typeof Z>"u")throw new TypeError("expected first argument to be an object.");if(typeof _>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return Z;for(var K=Object.prototype.propertyIsEnumerable,te=Object(Z),ne=arguments.length,ie=0;++ie<ne;)for(var oe=Object(arguments[ie]),se=Object.getOwnPropertySymbols(oe),le=0;le<se.length;le++){var ce=se[le];K.call(oe,ce)&&(te[ce]=oe[ce])}return te}),assignSymbols}var extendShallow$1,hasRequiredExtendShallow$1;function requireExtendShallow$1(){if(hasRequiredExtendShallow$1)return extendShallow$1;hasRequiredExtendShallow$1=1;var Z=requireIsExtendable$2(),_=requireAssignSymbols();extendShallow$1=Object.assign||function(se){if(se===null||typeof se>"u")throw new TypeError("Cannot convert undefined or null to object");ie(se)||(se={});for(var le=1;le<arguments.length;le++){var ce=arguments[le];te(ce)&&(ce=ne(ce)),ie(ce)&&(K(se,ce),_(se,ce))}return se};function K(se,le){for(var ce in le)oe(le,ce)&&(se[ce]=le[ce])}function te(se){return se&&typeof se=="string"}function ne(se){var le={};for(var ce in se)le[ce]=se[ce];return le}function ie(se){return se&&typeof se=="object"||Z(se)}function oe(se,le){return Object.prototype.hasOwnProperty.call(se,le)}return extendShallow$1}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var splitString,hasRequiredSplitString;function requireSplitString(){if(hasRequiredSplitString)return splitString;hasRequiredSplitString=1;var Z=requireExtendShallow$1();splitString=function(ne,ie,oe){if(typeof ne!="string")throw new TypeError("expected a string");typeof ie=="function"&&(oe=ie,ie=null),typeof ie=="string"&&(ie={sep:ie});var se=Z({sep:"."},ie),le=se.quotes||['"',"'","`"],ce;se.brackets===!0?ce={"<":">","(":")","[":"]","{":"}"}:se.brackets&&(ce=se.brackets);var fe=[],pe=[],me=[""],ve=se.sep,ye=ne.length,Ee=-1,Se;function _e(){if(ce&&pe.length)return ce[pe[pe.length-1]]}for(;++Ee<ye;){var Te=ne[Ee],Re=ne[Ee+1],Pe={val:Te,idx:Ee,arr:me,str:ne};if(fe.push(Pe),Te==="\\"){Pe.val=te(se,ne,Ee)===!0?Te+Re:Re,Pe.escaped=!0,typeof oe=="function"&&oe(Pe),me[me.length-1]+=Pe.val,Ee++;continue}if(ce&&ce[Te]){pe.push(Te);var Fe=_e(),$e=Ee+1;if(ne.indexOf(Fe,$e+1)!==-1)for(;pe.length&&$e<ye;){var ke=ne[++$e];if(ke==="\\"){ke++;continue}if(le.indexOf(ke)!==-1){$e=_(ne,ke,$e+1);continue}if(Fe=_e(),pe.length&&ne.indexOf(Fe,$e+1)===-1)break;if(ce[ke]){pe.push(ke);continue}Fe===ke&&pe.pop()}if(Se=$e,Se===-1){me[me.length-1]+=Te;continue}Te=ne.slice(Ee,Se+1),Pe.val=Te,Pe.idx=Ee=Se}if(le.indexOf(Te)!==-1){if(Se=_(ne,Te,Ee+1),Se===-1){me[me.length-1]+=Te;continue}K(Te,se)===!0?Te=ne.slice(Ee,Se+1):Te=ne.slice(Ee+1,Se),Pe.val=Te,Pe.idx=Ee=Se}if(typeof oe=="function"&&(oe(Pe,fe),Te=Pe.val,Ee=Pe.idx),Pe.val===ve&&Pe.split!==!1){me.push("");continue}me[me.length-1]+=Pe.val}return me};function _(ne,ie,oe,se){var le=ne.indexOf(ie,oe);return ne.charAt(le-1)==="\\"?_(ne,ie,le+1):le}function K(ne,ie){return ie.keepDoubleQuotes===!0&&ne==='"'||ie.keepSingleQuotes===!0&&ne==="'"?!0:ie.keepQuotes}function te(ne,ie,oe){return typeof ne.keepEscaping=="function"?ne.keepEscaping(ie,oe):ne.keepEscaping===!0||ie[oe+1]==="\\"}return splitString}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable$1,hasRequiredIsExtendable$1;function requireIsExtendable$1(){return hasRequiredIsExtendable$1||(hasRequiredIsExtendable$1=1,isExtendable$1=function(_){return typeof _<"u"&&_!==null&&(typeof _=="object"||typeof _=="function")}),isExtendable$1}var extendShallow,hasRequiredExtendShallow;function requireExtendShallow(){if(hasRequiredExtendShallow)return extendShallow;hasRequiredExtendShallow=1;var Z=requireIsExtendable$1();extendShallow=function(ne){Z(ne)||(ne={});for(var ie=arguments.length,oe=1;oe<ie;oe++){var se=arguments[oe];Z(se)&&_(ne,se)}return ne};function _(te,ne){for(var ie in ne)K(ne,ie)&&(te[ie]=ne[ie])}function K(te,ne){return Object.prototype.hasOwnProperty.call(te,ne)}return extendShallow}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable,hasRequiredIsExtendable;function requireIsExtendable(){return hasRequiredIsExtendable||(hasRequiredIsExtendable=1,isExtendable=function(_){return typeof _<"u"&&_!==null&&(typeof _=="object"||typeof _=="function")}),isExtendable}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var setValue,hasRequiredSetValue;function requireSetValue(){if(hasRequiredSetValue)return setValue;hasRequiredSetValue=1;var Z=requireSplitString(),_=requireExtendShallow(),K=requireIsPlainObject(),te=requireIsExtendable();setValue=function(ie,oe,se){if(!te(ie)||(Array.isArray(oe)&&(oe=[].concat.apply([],oe).join(".")),typeof oe!="string"))return ie;for(var le=Z(oe,{sep:".",brackets:!0}).filter(ne),ce=le.length,fe=-1,pe=ie;++fe<ce;){var me=le[fe];if(fe!==ce-1){te(pe[me])||(pe[me]={}),pe=pe[me];continue}K(pe[me])&&K(se)?pe[me]=_({},pe[me],se):pe[me]=se}return ie};function ne(ie){return ie!=="__proto__"&&ie!=="constructor"&&ie!=="prototype"}return setValue}var mergeValue,hasRequiredMergeValue;function requireMergeValue(){if(hasRequiredMergeValue)return mergeValue;hasRequiredMergeValue=1;var Z=requireIsExtendable$2(),_=requireMixinDeep(),K=requireGetValue(),te=requireSetValue();return mergeValue=function(ie,oe,se){if(!Z(ie))throw new TypeError("expected an object");if(typeof oe!="string"||se==null)return _.apply(null,arguments);if(typeof se=="string")return te(ie,oe,se),ie;var le=K(ie,oe);return Z(se)&&Z(le)&&(se=_({},le,se)),te(ie,oe,se),ie},mergeValue}var mergeValueExports=requireMergeValue();const merge=getDefaultExportFromCjs(mergeValueExports),join=(...Z)=>Z.filter(Boolean).join(".");function getKeyPath(Z){const _=Z.split(".");return[_.pop(),_.join(".")||void 0]}function getValuesForPaths(Z,_){return Object.entries(pick(Z,_)).reduce((K,[,{value:te,disabled:ne,key:ie}])=>(K[ie]=ne?void 0:te,K),{})}function useCompareMemoize(Z,_){const K=reactExports.useRef();return dequal(Z,K.current)||(K.current=Z),K.current}function useDeepMemo(Z,_){return reactExports.useMemo(Z,useCompareMemoize(_))}function useToggle(Z){const _=reactExports.useRef(null),K=reactExports.useRef(null),te=reactExports.useRef(!0);return reactExports.useLayoutEffect(()=>{Z||(_.current.style.height="0px",_.current.style.overflow="hidden")},[]),reactExports.useEffect(()=>{if(te.current){te.current=!1;return}let ne;const ie=_.current,oe=()=>{Z&&(ie.style.removeProperty("height"),ie.style.removeProperty("overflow"),K.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};ie.addEventListener("transitionend",oe,{once:!0});const{height:se}=K.current.getBoundingClientRect();return ie.style.height=se+"px",Z||(ie.style.overflow="hidden",ne=window.setTimeout(()=>ie.style.height="0px",50)),()=>{ie.removeEventListener("transitionend",oe),clearTimeout(ne)}},[Z]),{wrapperRef:_,contentRef:K}}const useVisiblePaths=Z=>{const[_,K]=reactExports.useState(Z.getVisiblePaths());return reactExports.useEffect(()=>{K(Z.getVisiblePaths());const te=Z.useStore.subscribe(Z.getVisiblePaths,K,{equalityFn:shallow});return()=>te()},[Z]),_};function useValuesForPath(Z,_,K){return Z.useStore(ne=>{const ie=_objectSpread2(_objectSpread2({},K),ne.data);return getValuesForPaths(ie,_)},shallow)}function usePopin(Z=3){const _=reactExports.useRef(null),K=reactExports.useRef(null),[te,ne]=reactExports.useState(!1),ie=reactExports.useCallback(()=>ne(!0),[]),oe=reactExports.useCallback(()=>ne(!1),[]);return reactExports.useLayoutEffect(()=>{if(te){const{bottom:se,top:le,left:ce}=_.current.getBoundingClientRect(),{height:fe}=K.current.getBoundingClientRect(),pe=se+fe>window.innerHeight-40?"up":"down";K.current.style.position="fixed",K.current.style.zIndex="10000",K.current.style.left=ce+"px",pe==="down"?K.current.style.top=se+Z+"px":K.current.style.bottom=window.innerHeight-le+Z+"px"}},[Z,te]),{popinRef:_,wrapperRef:K,shown:te,show:ie,hide:oe}}k$1([namesPlugin]);const convertMap={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};v8n.extend({color:()=>Z=>w(Z).isValid()});const schema$2=Z=>v8n().color().test(Z);function convert(Z,{format:_,hasAlpha:K,isString:te}){const ne=convertMap[_]+(te&&_!=="hex"?"String":""),ie=Z[ne]();return typeof ie=="object"&&!K?omit(ie,["a"]):ie}const sanitize$2=(Z,_)=>{const K=w(Z);if(!K.isValid())throw Error("Invalid color");return convert(K,_)},format$1=(Z,_)=>convert(w(Z),_objectSpread2(_objectSpread2({},_),{},{isString:!0,format:"hex"})),normalize$3=({value:Z})=>{const _=I$1(Z),K=_==="name"?"hex":_,te=typeof Z=="object"?"a"in Z:_==="hex"&&Z.length===8||/^(rgba)|(hsla)|(hsva)/.test(Z),ne={format:K,hasAlpha:te,isString:typeof Z=="string"};return{value:sanitize$2(Z,ne),settings:ne}};var props$2=Object.freeze({__proto__:null,schema:schema$2,sanitize:sanitize$2,format:format$1,normalize:normalize$3});const ColorPreview=styled("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),PickerContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),PickerWrapper=styled("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function convertToRgb(Z,_){return _!=="rgb"?w(Z).toRgb():Z}function Color({value:Z,displayValue:_,settings:K,onUpdate:te}){const{emitOnEditStart:ne,emitOnEditEnd:ie}=useInputContext(),{format:oe,hasAlpha:se}=K,{popinRef:le,wrapperRef:ce,shown:fe,show:pe,hide:me}=usePopin(),ve=reactExports.useRef(0),[ye,Ee]=reactExports.useState(()=>convertToRgb(Z,oe)),Se=se?Ce:Ne,_e=()=>{Ee(convertToRgb(Z,oe)),pe(),ne()},Te=()=>{me(),ie(),window.clearTimeout(ve.current)},Re=()=>{ve.current=window.setTimeout(Te,500)};return reactExports.useEffect(()=>()=>window.clearTimeout(ve.current),[]),React.createElement(React.Fragment,null,React.createElement(ColorPreview,{ref:le,active:fe,onClick:()=>_e(),style:{color:_}}),fe&&React.createElement(Portal,null,React.createElement(Overlay,{onPointerUp:Te}),React.createElement(PickerWrapper,{ref:ce,onMouseEnter:()=>window.clearTimeout(ve.current),onMouseLeave:Pe=>Pe.buttons===0&&Re()},React.createElement(Se,{color:ye,onChange:te}))))}function ColorComponent(){const{value:Z,displayValue:_,label:K,onChange:te,onUpdate:ne,settings:ie}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,K),React.createElement(PickerContainer,null,React.createElement(Color,{value:Z,displayValue:_,onChange:te,onUpdate:ne,settings:ie}),React.createElement(ValueInput,{value:_,onChange:te,onUpdate:ne})))}var color=_objectSpread2({component:ColorComponent},props$2);function Vector3dComponent(){const{label:Z,displayValue:_,onUpdate:K,settings:te}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Vector,{value:_,settings:te,onUpdate:K}))}var vector3d=_objectSpread2({component:Vector3dComponent},getVectorPlugin(["x","y","z"]));const JoystickTrigger=styled("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),JoystickPlayground=styled("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Joystick({value:Z,settings:_,onUpdate:K}){const te=reactExports.useRef(),ne=reactExports.useRef(0),ie=reactExports.useRef(0),oe=reactExports.useRef(1),[se,le]=reactExports.useState(!1),[ce,fe]=reactExports.useState(!1),[pe,me]=useTransform(),ve=reactExports.useRef(null),ye=reactExports.useRef(null);reactExports.useLayoutEffect(()=>{if(se){const{top:Ye,left:Ke,width:rt,height:ct}=ve.current.getBoundingClientRect();ye.current.style.left=Ke+rt/2+"px",ye.current.style.top=Ye+ct/2+"px"}},[se]);const{keys:[Ee,Se],joystick:_e}=_,Te=_e==="invertY"?1:-1,{[Ee]:{step:Re},[Se]:{step:Pe}}=_,Fe=useTh("sizes","joystickWidth"),$e=useTh("sizes","joystickHeight"),ke=parseFloat(Fe)*.8/2,ze=parseFloat($e)*.8/2,Ue=reactExports.useCallback(()=>{te.current||(fe(!0),ne.current&&me({x:ne.current*ke}),ie.current&&me({y:ie.current*-ze}),te.current=window.setInterval(()=>{K(Ye=>{const Ke=Re*ne.current*oe.current,rt=Te*Pe*ie.current*oe.current;return Array.isArray(Ye)?{[Ee]:Ye[0]+Ke,[Se]:Ye[1]+rt}:{[Ee]:Ye[Ee]+Ke,[Se]:Ye[Se]+rt}})},16))},[ke,ze,K,me,Re,Pe,Ee,Se,Te]),Oe=reactExports.useCallback(()=>{window.clearTimeout(te.current),te.current=void 0,fe(!1)},[]);reactExports.useEffect(()=>{function Ye(Ke){oe.current=multiplyStep(Ke)}return window.addEventListener("keydown",Ye),window.addEventListener("keyup",Ye),()=>{window.clearTimeout(te.current),window.removeEventListener("keydown",Ye),window.removeEventListener("keyup",Ye)}},[]);const Ve=useDrag(({first:Ye,active:Ke,delta:[rt,ct],movement:[at,mt]})=>{Ye&&le(!0);const je=clamp$1(at,-ke,ke),it=clamp$1(mt,-ze,ze);ne.current=Math.abs(at)>Math.abs(je)?Math.sign(at-je):0,ie.current=Math.abs(mt)>Math.abs(it)?Math.sign(it-mt):0;let et=Z[Ee],qe=Z[Se];Ke?(ne.current||(et+=rt*Re*oe.current,me({x:je})),ie.current||(qe-=Te*ct*Pe*oe.current,me({y:it})),ne.current||ie.current?Ue():Oe(),K({[Ee]:et,[Se]:qe})):(le(!1),ne.current=0,ie.current=0,me({x:0,y:0}),Oe())});return React.createElement(JoystickTrigger,_extends({ref:ve},Ve()),se&&React.createElement(Portal,null,React.createElement(JoystickPlayground,{ref:ye,isOutOfBounds:ce},React.createElement("div",null),React.createElement("span",{ref:pe}))))}const Container$1=styled("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Vector2dComponent(){const{label:Z,displayValue:_,onUpdate:K,settings:te}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Container$1,{withJoystick:!!te.joystick},te.joystick&&React.createElement(Joystick,{value:_,settings:te,onUpdate:K}),React.createElement(Vector,{value:_,settings:te,onUpdate:K})))}const _excluded$7=["joystick"],plugin=getVectorPlugin(["x","y"]),normalize$2=Z=>{let{joystick:_=!0}=Z,K=_objectWithoutProperties$1(Z,_excluded$7);const{value:te,settings:ne}=plugin.normalize(K);return{value:te,settings:_objectSpread2(_objectSpread2({},ne),{},{joystick:_})}};var vector2d=_objectSpread2(_objectSpread2({component:Vector2dComponent},plugin),{},{normalize:normalize$2});const sanitize$1=Z=>{if(Z!==void 0){if(Z instanceof File)try{return URL.createObjectURL(Z)}catch{return}if(typeof Z=="string"&&Z.indexOf("blob:")===0)return Z;throw Error("Invalid image format [undefined | blob |File].")}},schema$1=(Z,_)=>typeof _=="object"&&"image"in _,normalize$1=({image:Z})=>({value:Z});var props$1=Object.freeze({__proto__:null,sanitize:sanitize$1,schema:schema$1,normalize:normalize$1});const ImageContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),DropZone=styled("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ImagePreview=styled("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ImageLargePreview=styled("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Instructions=styled("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Remove=styled("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function ImageComponent(){const{label:Z,value:_,onUpdate:K,disabled:te}=useInputContext(),{popinRef:ne,wrapperRef:ie,shown:oe,show:se,hide:le}=usePopin(),ce=reactExports.useCallback(ye=>{ye.length&&K(ye[0])},[K]),fe=reactExports.useCallback(ye=>{ye.stopPropagation(),K(void 0)},[K]),{getRootProps:pe,getInputProps:me,isDragAccept:ve}=useDropzone({maxFiles:1,accept:"image/*",onDrop:ce,disabled:te});return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(ImageContainer,null,React.createElement(ImagePreview,{ref:ne,hasImage:!!_,onPointerDown:()=>!!_&&se(),onPointerUp:le,style:{backgroundImage:_?`url(${_})`:"none"}}),oe&&!!_&&React.createElement(Portal,null,React.createElement(Overlay,{onPointerUp:le,style:{cursor:"pointer"}}),React.createElement(ImageLargePreview,{ref:ie,style:{backgroundImage:`url(${_})`}})),React.createElement(DropZone,pe({isDragAccept:ve}),React.createElement("input",me()),React.createElement(Instructions,null,ve?"drop image":"click or drop")),React.createElement(Remove,{onClick:fe,disabled:!_})))}var image=_objectSpread2({component:ImageComponent},props$1);const number=v8n().number(),schema=(Z,_)=>v8n().array().length(2).every.number().test(Z)&&v8n().schema({min:number,max:number}).test(_),format=Z=>({min:Z[0],max:Z[1]}),sanitize=(Z,{bounds:[_,K]},te)=>{const ne=Array.isArray(Z)?format(Z):Z,ie={min:te[0],max:te[1]},{min:oe,max:se}=_objectSpread2(_objectSpread2({},ie),ne);return[clamp$1(Number(oe),_,Math.max(_,se)),clamp$1(Number(se),Math.min(K,oe),K)]},normalize=({value:Z,min:_,max:K})=>{const te={min:_,max:K},ne=normalizeKeyedNumberSettings(format(Z),{min:te,max:te}),ie=[_,K],oe=_objectSpread2(_objectSpread2({},ne),{},{bounds:ie});return{value:sanitize(format(Z),oe,Z),settings:oe}};var props=Object.freeze({__proto__:null,schema,format,sanitize,normalize});const _excluded$6=["value","bounds","onDrag"],_excluded2$1=["bounds"],Container=styled("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function IntervalSlider(Z){let{value:_,bounds:[K,te],onDrag:ne}=Z,ie=_objectWithoutProperties$1(Z,_excluded$6);const oe=reactExports.useRef(null),se=reactExports.useRef(null),le=reactExports.useRef(null),ce=reactExports.useRef(0),fe=useTh("sizes","scrubberWidth"),pe=useDrag(({event:ye,first:Ee,xy:[Se],movement:[_e],memo:Te={}})=>{if(Ee){const{width:Pe,left:Fe}=oe.current.getBoundingClientRect();ce.current=Pe-parseFloat(fe);const $e=(ye==null?void 0:ye.target)===se.current||(ye==null?void 0:ye.target)===le.current;Te.pos=invertedRange((Se-Fe)/Pe,K,te);const ke=Math.abs(Te.pos-_.min)-Math.abs(Te.pos-_.max);Te.key=ke<0||ke===0&&Te.pos<=_.min?"min":"max",$e&&(Te.pos=_[Te.key])}const Re=Te.pos+invertedRange(_e/ce.current,0,te-K);return ne({[Te.key]:sanitizeStep(Re,ie[Te.key])}),Te}),me=`calc(${range(_.min,K,te)} * (100% - ${fe} - 8px) + 4px)`,ve=`calc(${1-range(_.max,K,te)} * (100% - ${fe} - 8px) + 4px)`;return React.createElement(RangeWrapper,_extends({ref:oe},pe()),React.createElement(Range,null,React.createElement(Indicator,{style:{left:me,right:ve}})),React.createElement(Scrubber,{position:"left",ref:se,style:{left:me}}),React.createElement(Scrubber,{position:"right",ref:le,style:{right:ve}}))}function IntervalComponent(){const{label:Z,displayValue:_,onUpdate:K,settings:te}=useInputContext(),ne=_objectWithoutProperties$1(te,_excluded2$1);return React.createElement(React.Fragment,null,React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Container,null,React.createElement(IntervalSlider,_extends({value:_},te,{onDrag:K})),React.createElement(Vector,{value:_,settings:ne,onUpdate:K,innerLabelTrim:0}))))}var interval=_objectSpread2({component:IntervalComponent},props);const createEventEmitter=()=>{const Z=new Map;return{on:(_,K)=>{let te=Z.get(_);te===void 0&&(te=new Set,Z.set(_,te)),te.add(K)},off:(_,K)=>{const te=Z.get(_);te!==void 0&&(te.delete(K),te.size===0&&Z.delete(_))},emit:(_,...K)=>{const te=Z.get(_);if(te!==void 0)for(const ne of te)ne(...K)}}},_excluded$5=["type","value"],_excluded2=["onChange","transient","onEditStart","onEditEnd"],Store=function(){const _=create(subscribeWithSelector(()=>({data:{}}))),K=createEventEmitter();this.storeId=getUid(),this.useStore=_;const te={},ne=new Set;this.getVisiblePaths=()=>{const oe=this.getData(),se=Object.keys(oe),le=[];Object.entries(te).forEach(([fe,pe])=>{pe.render&&se.some(me=>me.indexOf(fe)===0)&&!pe.render(this.get)&&le.push(fe+".")});const ce=[];return ne.forEach(fe=>{fe in oe&&oe[fe].__refCount>0&&le.every(pe=>fe.indexOf(pe)===-1)&&(!oe[fe].render||oe[fe].render(this.get))&&ce.push(fe)}),ce},this.setOrderedPaths=oe=>{oe.forEach(se=>ne.add(se))},this.orderPaths=oe=>(this.setOrderedPaths(oe),oe),this.disposePaths=oe=>{_.setState(se=>{const le=se.data;return oe.forEach(ce=>{if(ce in le){const fe=le[ce];fe.__refCount--,fe.__refCount===0&&fe.type in SpecialInputs&&delete le[ce]}}),{data:le}})},this.dispose=()=>{_.setState(()=>({data:{}}))},this.getFolderSettings=oe=>te[oe]||{},this.getData=()=>_.getState().data,this.addData=(oe,se)=>{_.setState(le=>{const ce=le.data;return Object.entries(oe).forEach(([fe,pe])=>{let me=ce[fe];if(me){const{type:ve,value:ye}=pe,Ee=_objectWithoutProperties$1(pe,_excluded$5);ve!==me.type?warn(LevaErrors.INPUT_TYPE_OVERRIDE,ve):((me.__refCount===0||se)&&Object.assign(me,Ee),me.__refCount++)}else ce[fe]=_objectSpread2(_objectSpread2({},pe),{},{__refCount:1})}),{data:ce}})},this.setValueAtPath=(oe,se,le)=>{_.setState(ce=>{const fe=ce.data;return updateInput(fe[oe],se,oe,this,le),{data:fe}})},this.setSettingsAtPath=(oe,se)=>{_.setState(le=>{const ce=le.data;return ce[oe].settings=_objectSpread2(_objectSpread2({},ce[oe].settings),se),{data:ce}})},this.disableInputAtPath=(oe,se)=>{_.setState(le=>{const ce=le.data;return ce[oe].disabled=se,{data:ce}})},this.set=(oe,se)=>{_.setState(le=>{const ce=le.data;return Object.entries(oe).forEach(([fe,pe])=>{try{updateInput(ce[fe],pe,void 0,void 0,se)}catch{}}),{data:ce}})},this.getInput=oe=>{try{return this.getData()[oe]}catch{warn(LevaErrors.PATH_DOESNT_EXIST,oe)}},this.get=oe=>{var se;return(se=this.getInput(oe))===null||se===void 0?void 0:se.value},this.emitOnEditStart=oe=>{K.emit(`onEditStart:${oe}`,this.get(oe),oe,_objectSpread2(_objectSpread2({},this.getInput(oe)),{},{get:this.get}))},this.emitOnEditEnd=oe=>{K.emit(`onEditEnd:${oe}`,this.get(oe),oe,_objectSpread2(_objectSpread2({},this.getInput(oe)),{},{get:this.get}))},this.subscribeToEditStart=(oe,se)=>{const le=`onEditStart:${oe}`;return K.on(le,se),()=>K.off(le,se)},this.subscribeToEditEnd=(oe,se)=>{const le=`onEditEnd:${oe}`;return K.on(le,se),()=>K.off(le,se)};const ie=(oe,se,le)=>{const ce={};return Object.entries(oe).forEach(([fe,pe])=>{if(fe==="")return warn(LevaErrors.EMPTY_KEY);let me=join(se,fe);if(pe.type===SpecialInputs.FOLDER){const ve=ie(pe.schema,me,le);Object.assign(ce,ve),me in te||(te[me]=pe.settings)}else if(fe in le)warn(LevaErrors.DUPLICATE_KEYS,fe,me,le[fe].path);else{const ve=normalizeInput(pe,fe,me,ce);if(ve){const{type:ye,options:Ee,input:Se}=ve,{onChange:_e,transient:Te,onEditStart:Re,onEditEnd:Pe}=Ee,Fe=_objectWithoutProperties$1(Ee,_excluded2);ce[me]=_objectSpread2(_objectSpread2(_objectSpread2({type:ye},Fe),Se),{},{fromPanel:!0}),le[fe]={path:me,onChange:_e,transient:Te,onEditStart:Re,onEditEnd:Pe}}else warn(LevaErrors.UNKNOWN_INPUT,me,pe)}}),ce};this.getDataFromSchema=oe=>{const se={};return[ie(oe,"",se),se]}},levaStore=new Store,defaultSettings$2={collapsed:!1};function folder(Z,_){return{type:SpecialInputs.FOLDER,schema:Z,settings:_objectSpread2(_objectSpread2({},defaultSettings$2),_)}}const isInput=Z=>"__levaInput"in Z,buildTree=(Z,_)=>{const K={},te=_?_.toLowerCase():null;return Z.forEach(ne=>{const[ie,oe]=getKeyPath(ne);(!te||ie.toLowerCase().indexOf(te)>-1)&&merge(K,oe,{[ie]:{__levaInput:!0,path:ne}})}),K},_excluded$4=["type","label","path","valueKey","value","settings","setValue","disabled"];function ControlInput(Z){let{type:_,label:K,path:te,valueKey:ne,value:ie,settings:oe,setValue:se,disabled:le}=Z,ce=_objectWithoutProperties$1(Z,_excluded$4);const{displayValue:fe,onChange:pe,onUpdate:me}=useInputSetters({type:_,value:ie,settings:oe,setValue:se}),ve=Plugins[_].component;return ve?React.createElement(InputContext.Provider,{value:_objectSpread2({key:ne,path:te,id:""+te,label:K,displayValue:fe,value:ie,onChange:pe,onUpdate:me,settings:oe,setValue:se,disabled:le},ce)},React.createElement(StyledInputWrapper$1,{disabled:le},React.createElement(ve,null))):(warn(LevaErrors.NO_COMPONENT_FOR_TYPE,_,te),null)}const StyledButton=styled("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Button$1({onClick:Z,settings:_,label:K}){const te=useStoreContext();return React.createElement(Row$1,null,React.createElement(StyledButton,{disabled:_.disabled,onClick:()=>Z(te.get)},K))}const StyledButtonGroup=styled("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),StyledButtonGroupButton=styled("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),getOpts=({label:Z,opts:_})=>{let K=typeof Z=="string"&&Z.trim()===""?null:Z,te=_;return typeof _.opts=="object"&&(te.label!==void 0&&(K=_.label),te=_.opts),{label:K,opts:te}};function ButtonGroup(Z){const{label:_,opts:K}=getOpts(Z),te=useStoreContext();return React.createElement(Row$1,{input:!!_},_&&React.createElement(Label,null,_),React.createElement(StyledButtonGroup,null,Object.entries(K).map(([ne,ie])=>React.createElement(StyledButtonGroupButton,{key:ne,onClick:()=>ie(te.get)},ne))))}const Canvas=styled("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),POINTS=100;function push(Z,_){Z.push(_),Z.length>POINTS&&Z.shift()}const MonitorCanvas=reactExports.forwardRef(function({initialValue:Z},_){const K=useTh("colors","highlight3"),te=useTh("colors","elevation2"),ne=useTh("colors","highlight1"),[ie,oe]=reactExports.useMemo(()=>[w(ne).alpha(.4).toRgbString(),w(ne).alpha(.1).toRgbString()],[ne]),se=reactExports.useRef([Z]),le=reactExports.useRef(Z),ce=reactExports.useRef(Z),fe=reactExports.useRef(),pe=reactExports.useCallback((ye,Ee)=>{if(!ye)return;const{width:Se,height:_e}=ye,Te=new Path2D,Re=Se/POINTS,Pe=_e*.05;for(let ke=0;ke<se.current.length;ke++){const ze=range(se.current[ke],le.current,ce.current),Ue=Re*ke,Oe=_e-ze*(_e-Pe*2)-Pe;Te.lineTo(Ue,Oe)}Ee.clearRect(0,0,Se,_e);const Fe=new Path2D(Te);Fe.lineTo(Re*(se.current.length+1),_e),Fe.lineTo(0,_e),Fe.lineTo(0,0);const $e=Ee.createLinearGradient(0,0,0,_e);$e.addColorStop(0,ie),$e.addColorStop(1,oe),Ee.fillStyle=$e,Ee.fill(Fe),Ee.strokeStyle=te,Ee.lineJoin="round",Ee.lineWidth=14,Ee.stroke(Te),Ee.strokeStyle=K,Ee.lineWidth=2,Ee.stroke(Te)},[K,te,ie,oe]),[me,ve]=useCanvas2d(pe);return reactExports.useImperativeHandle(_,()=>({frame:ye=>{(le.current===void 0||ye<le.current)&&(le.current=ye),(ce.current===void 0||ye>ce.current)&&(ce.current=ye),push(se.current,ye),fe.current=requestAnimationFrame(()=>pe(me.current,ve.current))}}),[me,ve,pe]),reactExports.useEffect(()=>()=>cancelAnimationFrame(fe.current),[]),React.createElement(Canvas,{ref:me})}),parse=Z=>Number.isFinite(Z)?Z.toPrecision(2):Z.toString(),MonitorLog=reactExports.forwardRef(function({initialValue:Z},_){const[K,te]=reactExports.useState(parse(Z));return reactExports.useImperativeHandle(_,()=>({frame:ne=>te(parse(ne))}),[]),React.createElement("div",null,K)});function getValue(Z){return typeof Z=="function"?Z():Z.current}function Monitor({label:Z,objectOrFn:_,settings:K}){const te=reactExports.useRef(),ne=reactExports.useRef(getValue(_));return reactExports.useEffect(()=>{const ie=window.setInterval(()=>{var oe;document.hidden||(oe=te.current)===null||oe===void 0||oe.frame(getValue(_))},K.interval);return()=>window.clearInterval(ie)},[_,K.interval]),React.createElement(Row$1,{input:!0},React.createElement(Label,{align:"top"},Z),K.graph?React.createElement(MonitorCanvas,{ref:te,initialValue:ne.current}):React.createElement(MonitorLog,{ref:te,initialValue:ne.current}))}const _excluded$3=["type","label","key"],specialComponents={[SpecialInputs.BUTTON]:Button$1,[SpecialInputs.BUTTON_GROUP]:ButtonGroup,[SpecialInputs.MONITOR]:Monitor},Control=React.memo(({path:Z})=>{const[_,{set:K,setSettings:te,disable:ne,storeId:ie,emitOnEditStart:oe,emitOnEditEnd:se}]=useInput(Z);if(!_)return null;const{type:le,label:ce,key:fe}=_,pe=_objectWithoutProperties$1(_,_excluded$3);if(le in SpecialInputs){const me=specialComponents[le];return React.createElement(me,_extends({label:ce,path:Z},pe))}return le in Plugins?React.createElement(ControlInput,_extends({key:ie+Z,type:le,label:ce,storeId:ie,path:Z,valueKey:fe,setValue:K,setSettings:te,disable:ne,emitOnEditStart:oe,emitOnEditEnd:se},pe)):(log(LevaErrors.UNSUPPORTED_INPUT,le,Z),null)});function FolderTitle({toggle:Z,toggled:_,name:K}){return React.createElement(StyledTitle,{onClick:()=>Z()},React.createElement(Chevron,{toggled:_}),React.createElement("div",null,K))}const Folder=({name:Z,path:_,tree:K})=>{const te=useStoreContext(),ne=join(_,Z),{collapsed:ie,color:oe}=te.getFolderSettings(ne),[se,le]=reactExports.useState(!ie),ce=reactExports.useRef(null),fe=useTh("colors","folderWidgetColor"),pe=useTh("colors","folderTextColor");return reactExports.useLayoutEffect(()=>{ce.current.style.setProperty("--leva-colors-folderWidgetColor",oe||fe),ce.current.style.setProperty("--leva-colors-folderTextColor",oe||pe)},[oe,fe,pe]),React.createElement(StyledFolder,{ref:ce},React.createElement(FolderTitle,{name:Z,toggled:se,toggle:()=>le(me=>!me)}),React.createElement(TreeWrapper,{parent:ne,tree:K,toggled:se}))},TreeWrapper=React.memo(({isRoot:Z=!1,fill:_=!1,flat:K=!1,parent:te,tree:ne,toggled:ie})=>{const{wrapperRef:oe,contentRef:se}=useToggle(ie),le=useStoreContext(),ce=([pe,me])=>{var ve;return(isInput(me)?(ve=le.getInput(me.path))===null||ve===void 0?void 0:ve.order:le.getFolderSettings(join(te,pe)).order)||0},fe=Object.entries(ne).sort((pe,me)=>ce(pe)-ce(me));return React.createElement(StyledWrapper,{ref:oe,isRoot:Z,fill:_,flat:K},React.createElement(StyledContent,{ref:se,isRoot:Z,toggled:ie},fe.map(([pe,me])=>isInput(me)?React.createElement(Control,{key:me.path,valueKey:me.valueKey,path:me.path}):React.createElement(Folder,{key:pe,name:pe,path:te,tree:me}))))}),StyledRoot=styled("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${StyledInputRow}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),iconWidth=40,Icon=styled("i",{$flexCenter:"",width:iconWidth,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),StyledTitleWithFilter=styled("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),FilterWrapper=styled("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Icon}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),StyledFilterInput=styled("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),TitleContainer=styled("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:iconWidth}}}}),FilterInput=React.forwardRef(({setFilter:Z,toggle:_},K)=>{const[te,ne]=reactExports.useState(""),ie=reactExports.useMemo(()=>debounce(Z,250),[Z]),oe=()=>{Z(""),ne("")},se=le=>{const ce=le.currentTarget.value;_(!0),ne(ce)};return reactExports.useEffect(()=>{ie(te)},[te,ie]),React.createElement(React.Fragment,null,React.createElement(StyledFilterInput,{ref:K,value:te,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:le=>le.stopPropagation(),onChange:se}),React.createElement(Icon,{onClick:()=>oe(),style:{visibility:te?"visible":"hidden"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function TitleWithFilter({setFilter:Z,onDrag:_,onDragStart:K,onDragEnd:te,toggle:ne,toggled:ie,title:oe,drag:se,filterEnabled:le,from:ce}){const[fe,pe]=reactExports.useState(!1),me=reactExports.useRef(null);reactExports.useEffect(()=>{var ye,Ee;fe?(ye=me.current)===null||ye===void 0||ye.focus():(Ee=me.current)===null||Ee===void 0||Ee.blur()},[fe]);const ve=useDrag(({offset:[ye,Ee],first:Se,last:_e})=>{_({x:ye,y:Ee}),Se&&K({x:ye,y:Ee}),_e&&te({x:ye,y:Ee})},{filterTaps:!0,from:({offset:[ye,Ee]})=>[(ce==null?void 0:ce.x)||ye,(ce==null?void 0:ce.y)||Ee]});return reactExports.useEffect(()=>{const ye=Ee=>{Ee.key==="L"&&Ee.shiftKey&&Ee.metaKey&&pe(Se=>!Se)};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[]),React.createElement(React.Fragment,null,React.createElement(StyledTitleWithFilter,{mode:se?"drag":void 0},React.createElement(Icon,{active:!ie,onClick:()=>ne()},React.createElement(Chevron,{toggled:ie,width:12,height:8})),React.createElement(TitleContainer,_extends({},se?ve():{},{drag:se,filterEnabled:le}),oe===void 0&&se?React.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},React.createElement("circle",{cx:"2",cy:"2",r:"2"}),React.createElement("circle",{cx:"14",cy:"2",r:"2"}),React.createElement("circle",{cx:"26",cy:"2",r:"2"}),React.createElement("circle",{cx:"2",cy:"12",r:"2"}),React.createElement("circle",{cx:"14",cy:"12",r:"2"}),React.createElement("circle",{cx:"26",cy:"12",r:"2"})):oe),le&&React.createElement(Icon,{active:fe,onClick:()=>pe(ye=>!ye)},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},React.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),React.createElement(FilterWrapper,{toggled:fe},React.createElement(FilterInput,{ref:me,setFilter:Z,toggle:ne})))}const _excluded$2=["store","hidden","theme","collapsed"];function LevaRoot(Z){let{store:_,hidden:K=!1,theme:te,collapsed:ne=!1}=Z,ie=_objectWithoutProperties$1(Z,_excluded$2);const oe=useDeepMemo(()=>mergeTheme(te),[te]),[se,le]=reactExports.useState(!ne),ce=typeof ne=="object"?!ne.collapsed:se,fe=reactExports.useMemo(()=>typeof ne=="object"?pe=>{typeof pe=="function"?ne.onChange(!pe(!ne.collapsed)):ne.onChange(!pe)}:le,[ne]);return!_||K?null:React.createElement(ThemeContext$1.Provider,{value:oe},React.createElement(LevaCore,_extends({store:_},ie,{toggled:ce,setToggle:fe,rootClass:oe.className})))}const LevaCore=React.memo(({store:Z,rootClass:_,fill:K=!1,flat:te=!1,neverHide:ne=!1,oneLineLabels:ie=!1,titleBar:oe={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:se=!1,toggled:le,setToggle:ce})=>{var fe,pe;const me=useVisiblePaths(Z),[ve,ye]=reactExports.useState(""),Ee=reactExports.useMemo(()=>buildTree(me,ve),[me,ve]),[Se,_e]=useTransform(),Te=ne||me.length>0,Re=typeof oe=="object"&&oe.title||void 0,Pe=typeof oe=="object"&&(fe=oe.drag)!==null&&fe!==void 0?fe:!0,Fe=typeof oe=="object"&&(pe=oe.filter)!==null&&pe!==void 0?pe:!0,$e=typeof oe=="object"&&oe.position||void 0,ke=typeof oe=="object"&&oe.onDrag||void 0,ze=typeof oe=="object"&&oe.onDragStart||void 0,Ue=typeof oe=="object"&&oe.onDragEnd||void 0;return React.useEffect(()=>{_e({x:$e==null?void 0:$e.x,y:$e==null?void 0:$e.y})},[$e,_e]),globalStyles(),React.createElement(PanelSettingsContext.Provider,{value:{hideCopyButton:se}},React.createElement(StyledRoot,{ref:Se,className:_,fill:K,flat:te,oneLineLabels:ie,hideTitleBar:!oe,style:{display:Te?"block":"none"}},oe&&React.createElement(TitleWithFilter,{onDrag:Oe=>{_e(Oe),ke==null||ke(Oe)},onDragStart:Oe=>ze==null?void 0:ze(Oe),onDragEnd:Oe=>Ue==null?void 0:Ue(Oe),setFilter:ye,toggle:Oe=>ce(Ve=>Oe??!Ve),toggled:le,title:Re,drag:Pe,filterEnabled:Fe,from:$e}),Te&&React.createElement(StoreContext.Provider,{value:Z},React.createElement(TreeWrapper,{isRoot:!0,fill:K,flat:te,tree:Ee,toggled:le}))))}),_excluded$1$1=["isRoot"];let rootInitialized=!1,rootEl=null;function Leva(Z){let{isRoot:_=!1}=Z,K=_objectWithoutProperties$1(Z,_excluded$1$1);return reactExports.useEffect(()=>(rootInitialized=!0,!_&&rootEl&&(rootEl.remove(),rootEl=null),()=>{_||(rootInitialized=!1)}),[_]),React.createElement(LevaRoot,_extends({store:levaStore},K))}function useRenderRoot(Z){reactExports.useEffect(()=>{Z&&!rootInitialized&&(rootEl||(rootEl=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(rootEl),render(React.createElement(Leva,{isRoot:!0}),rootEl))),rootInitialized=!0)},[Z])}function parseArgs(Z,_,K,te,ne){let ie,oe,se,le,ce;return typeof Z=="string"?(oe=Z,ie=_,Array.isArray(K)&&(ce=K)):(ie=Z,Array.isArray(_)?ce=_:(le=_,ce=K)),{schema:ie,folderName:oe,folderSettings:se,hookSettings:le,deps:ce||[]}}function useControls(Z,_,K,te,ne){const{folderName:ie,schema:oe,folderSettings:se,hookSettings:le,deps:ce}=parseArgs(Z,_,K),fe=typeof oe=="function",pe=reactExports.useRef(!1),me=reactExports.useRef(!0),ve=useDeepMemo(()=>{pe.current=!0;const Ve=typeof oe=="function"?oe():oe;return ie?{[ie]:folder(Ve,se)}:Ve},ce),ye=!(le!=null&&le.store);useRenderRoot(ye);const[Ee]=reactExports.useState(()=>(le==null?void 0:le.store)||levaStore),[Se,_e]=reactExports.useMemo(()=>Ee.getDataFromSchema(ve),[Ee,ve]),[Te,Re,Pe,Fe,$e]=reactExports.useMemo(()=>{const Ve=[],Ye=[],Ke={},rt={},ct={};return Object.values(_e).forEach(({path:at,onChange:mt,onEditStart:je,onEditEnd:it,transient:et})=>{Ve.push(at),mt?(Ke[at]=mt,et||Ye.push(at)):Ye.push(at),je&&(rt[at]=je),it&&(ct[at]=it)}),[Ve,Ye,Ke,rt,ct]},[_e]),ke=reactExports.useMemo(()=>Ee.orderPaths(Te),[Te,Ee]),ze=useValuesForPath(Ee,Re,Se),Ue=reactExports.useCallback(Ve=>{const Ye=Object.entries(Ve).reduce((Ke,[rt,ct])=>Object.assign(Ke,{[_e[rt].path]:ct}),{});Ee.set(Ye,!1)},[Ee,_e]),Oe=reactExports.useCallback(Ve=>Ee.get(_e[Ve].path),[Ee,_e]);return reactExports.useEffect(()=>{const Ve=!me.current&&pe.current;return Ee.addData(Se,Ve),me.current=!1,pe.current=!1,()=>Ee.disposePaths(ke)},[Ee,ke,Se]),reactExports.useEffect(()=>{const Ve=[];return Object.entries(Pe).forEach(([Ye,Ke])=>{Ke(Ee.get(Ye),Ye,_objectSpread2({initial:!0,get:Ee.get},Ee.getInput(Ye)));const rt=Ee.useStore.subscribe(ct=>{const at=ct.data[Ye];return[at.disabled?void 0:at.value,at]},([ct,at])=>Ke(ct,Ye,_objectSpread2({initial:!1,get:Ee.get},at)),{equalityFn:shallow});Ve.push(rt)}),()=>Ve.forEach(Ye=>Ye())},[Ee,Pe]),reactExports.useEffect(()=>{const Ve=[];return Object.entries(Fe).forEach(([Ye,Ke])=>Ve.push(Ee.subscribeToEditStart(Ye,Ke))),Object.entries($e).forEach(([Ye,Ke])=>Ve.push(Ee.subscribeToEditEnd(Ye,Ke))),()=>Ve.forEach(Ye=>Ye())},[Fe,$e,Ee]),fe?[ze,Ue,Oe]:ze}register(LevaInputs.SELECT,select);register(LevaInputs.IMAGE,image);register(LevaInputs.NUMBER,number$1);register(LevaInputs.COLOR,color);register(LevaInputs.STRING,string);register(LevaInputs.BOOLEAN,boolean);register(LevaInputs.INTERVAL,interval);register(LevaInputs.VECTOR3D,vector3d);register(LevaInputs.VECTOR2D,vector2d);extend({WaterPass,UnrealBloomPass,FilmPass,LUTPass});function PostProc(){const Z=reactExports.useRef(null),_=useLoader(LUTCubeLoader,"/cubicle.CUBE"),{size:K}=useThree(),te=useControls({waterFactor:{value:.39,min:0,max:1,step:.01},bloomStrength:{value:.8,min:0,max:2,step:.01},bloomRadius:{value:.2,min:0,max:2,step:.01},bloomThreshold:{value:.001,min:0,max:1,step:.001},filmNoiseIntensity:{value:.2,min:0,max:1,step:.01},filmScanlinesIntensity:{value:.3,min:0,max:1,step:.01},filmScanlinesCount:{value:1500,min:0,max:3e3,step:1},lutIntensity:{value:.3,min:0,max:1,step:.01}});return useFrame(ne=>{Z.current&&(Z.current.time=ne.clock.elapsedTime*4)}),jsxRuntimeExports.jsxs(Effects,{disableGamma:!0,children:[jsxRuntimeExports.jsx("waterPass",{ref:Z,factor:te.waterFactor}),jsxRuntimeExports.jsx("unrealBloomPass",{resolution:new Vector2(K.width,K.height),strength:te.bloomStrength,radius:te.bloomRadius,threshold:te.bloomThreshold}),jsxRuntimeExports.jsx("filmPass",{args:[te.filmNoiseIntensity,te.filmScanlinesIntensity,te.filmScanlinesCount,!1]}),jsxRuntimeExports.jsx("lUTPass",{lut:_.texture,intensity:te.lutIntensity})]})}const memo=(Z,_)=>reactExports.memo(Z,_),mergeRefs$2=(...Z)=>_=>{Z.filter(Boolean).forEach(K=>{typeof K=="function"?K(_):K&&typeof K=="object"&&(K.current=_)})},useUpdateEffect$1=(Z,_)=>{const K=reactExports.useRef(!0);reactExports.useEffect(()=>{if(K.current){K.current=!1;return}Z()},_)},ANIMATOR_STATES=Object.freeze({entered:"entered",entering:"entering",exiting:"exiting",exited:"exited"}),ANIMATOR_ACTIONS=Object.freeze({setup:"setup",enter:"enter",enterEnd:"enterEnd",exit:"exit",exitEnd:"exitEnd",update:"update",refresh:"refresh"}),ANIMATOR_MANAGER_NAMES=Object.freeze({parallel:"parallel",stagger:"stagger",staggerReverse:"staggerReverse",sequence:"sequence",sequenceReverse:"sequenceReverse",switch:"switch"}),ANIMATOR_DEFAULT_DURATION=Object.freeze({enter:.4,exit:.4,delay:0,offset:0,stagger:.04,limit:-1}),ANIMATOR_DEFAULT_SETTINGS=Object.freeze({active:!0,duration:ANIMATOR_DEFAULT_DURATION,manager:ANIMATOR_MANAGER_NAMES.parallel,merge:!1,combine:!1,initialState:"exited"}),isBrowser$1=()=>typeof window<"u",cx=(...Z)=>Z.filter(Boolean).join(" "),ID_DEFAULT="";function createTOScheduler(){const Z=new Map,_=(ie=ID_DEFAULT)=>Z.has(ie),K=(ie=ID_DEFAULT)=>{const oe=Z.get(ie);oe&&oe(),Z.delete(ie)};return Object.freeze({isPending:_,stop:K,stopAll:()=>{Array.from(Z.keys()).forEach(K)},start:(ie,oe,se)=>{const le=se?ie:ID_DEFAULT,ce=(se?oe:ie)*1e3,fe=se||oe;K(le);const pe=setTimeout(()=>{Z.delete(le),fe()},ce);Z.set(le,()=>{clearTimeout(pe)})}})}const randomizeList=Z=>{const _=Z.slice(0);for(let K=_.length-1;K>0;K--){const te=Math.floor(Math.random()*(K+1));[_[K],_[te]]=[_[te],_[K]]}return _},filterProps=Z=>{const _={},K=Object.keys(Z);for(const te of K)Z[te]!==void 0&&(_[te]=Z[te]);return _},createAnimatorManagerParallel=Z=>{const _=ie=>(ie||Array.from(Z._children)).reduce((se,le)=>{const{duration:ce}=le.settings;return Math.max(se,ce.delay+ce.enter)},0),K=ie=>{for(const oe of ie){const{duration:se}=oe.settings;oe._scheduler.start(se.delay,()=>oe.send(ANIMATOR_ACTIONS.enter))}},te=ie=>{for(const oe of ie)oe._scheduler.start(0,()=>oe.send(ANIMATOR_ACTIONS.exit))},ne=()=>{};return Object.freeze({name:ANIMATOR_MANAGER_NAMES.parallel,getDurationEnter:_,enterChildren:K,exitChildren:te,destroy:ne})},createAnimatorManagerStagger=(Z,_)=>{const K=new Map;return Object.freeze({name:_,getDurationEnter:se=>{let le=se||Array.from(Z._children);if(!le.length)return 0;_===ANIMATOR_MANAGER_NAMES.staggerReverse&&(le=le.reverse());const{duration:{stagger:ce}}=Z._getUserSettings();let fe=0,pe=0,me=0;for(const ve of le){const{enter:ye,offset:Ee=0,delay:Se=0}=ve.settings.duration;pe+=Ee,fe=Math.max(fe,me*ce+pe+ye+Se),me++}return fe},enterChildren:se=>{let le=se||Array.from(Z._children);if(!le.length)return;_===ANIMATOR_MANAGER_NAMES.staggerReverse&&(le=[...le].reverse());const ce=Date.now(),fe=Z._getUserSettings(),pe=fe.duration.stagger*1e3,me=fe.duration.limit;for(const ve of le){if(K.has(ve))continue;const{duration:ye}=ve.settings,Ee=ye.offset*1e3,Se=ye.enter*1e3+Ee,_e=Array.from(K).map(([,ke])=>ke).filter(([ke,,ze])=>ke+ze>=ce).sort((ke,ze)=>ke[0]-ze[0]);let Te=Ee,Re=0;for(const[ke]of _e){if(Re===_e.length-1){Te=Math.max(0,ke+pe+Ee-ce);break}const[ze,Ue]=_e[Re+1];if(ze-ke-Ue>=pe*2+Ee){Te=Math.max(0,ke+pe+Ee-ce);break}Re++}me>=0&&(Te=Math.min(Te,me*pe)),K.set(ve,[ce+Te,Ee,Se]);const Pe=()=>{K.delete(ve)},Fe=()=>{ve.state!==ANIMATOR_STATES.entering&&(Pe(),ve._watchers.delete(Pe),ve._subscribers.delete(Fe))};ve._watchers.add(Pe),ve._subscribers.add(Fe);const $e=Te/1e3+ye.delay;ve._scheduler.start($e,()=>ve.send(ANIMATOR_ACTIONS.enter))}},exitChildren:se=>{for(const le of se)K.delete(le),le._scheduler.start(0,()=>le.send(ANIMATOR_ACTIONS.exit))},destroy:()=>{K.clear()}})},createAnimatorManagerSequence=(Z,_)=>{const K=new Map;return Object.freeze({name:_,getDurationEnter:se=>{let le=se||Array.from(Z._children);if(!le.length)return 0;_===ANIMATOR_MANAGER_NAMES.sequenceReverse&&(le=[...le].reverse());let ce=0,fe=0;for(const pe of le){const{enter:me,offset:ve=0,delay:ye=0}=pe.settings.duration;fe+=ve+me,ce=Math.max(ce,fe+ye)}return ce},enterChildren:se=>{let le=se||Array.from(Z._children);if(!le.length)return;_===ANIMATOR_MANAGER_NAMES.sequenceReverse&&(le=[...le].reverse());const ce=Date.now(),pe=Z._getUserSettings().duration.limit;for(const me of le){if(K.has(me))continue;const{duration:ve}=me.settings,ye=ve.enter*1e3+ve.offset*1e3,Ee=Array.from(K).map(([,Fe])=>Fe).filter(([Fe,$e])=>Fe+$e>=ce).sort((Fe,$e)=>Fe[0]-$e[0]);let Se=0,_e=0;for(const[Fe,$e]of Ee){const ke=Fe+$e;if(_e===Ee.length-1){Se=Math.max(0,ke-ce);break}const[ze]=Ee[_e+1];if(ze-ke>=ye){Se=Math.max(0,ke-ce);break}_e++}if(pe>0&&Ee.length>=pe){const[Fe]=Ee[pe-1];Se=Fe-ce}K.set(me,[ce+Se,ye]);const Te=()=>{K.delete(me)},Re=()=>{me.state!==ANIMATOR_STATES.entering&&(Te(),me._watchers.delete(Te),me._subscribers.delete(Re))};me._watchers.add(Te),me._subscribers.add(Re);const Pe=Se/1e3+ve.offset+ve.delay;me._scheduler.start(Pe,()=>me.send(ANIMATOR_ACTIONS.enter))}},exitChildren:se=>{for(const le of se)K.delete(le),le._scheduler.start(0,()=>le.send(ANIMATOR_ACTIONS.exit))},destroy:()=>{K.clear()}})},createAnimatorManagerSwitch=Z=>{let _,K,te;const ne=()=>{if(K)return K.settings.duration.enter;const le=Array.from(Z._children).find(ce=>{const{condition:fe}=ce._getUserSettings();return typeof fe=="function"?fe(ce):typeof fe=="boolean"?fe:!0});return le?le.settings.duration.enter:0},ie=()=>{te==null||te(),te=void 0;const le=Array.from(Z._children),ce=le.find(pe=>{const{condition:me}=pe._getUserSettings();return typeof me=="function"?me(pe):typeof me=="boolean"?me:!0}),fe=()=>{ce?ce===K?ce.send(ANIMATOR_ACTIONS.enter):(K?(_=K,te=_.subscribe(pe=>{pe.state===ANIMATOR_STATES.exited&&(te==null||te(),te=void 0,_=void 0,ce.send(ANIMATOR_ACTIONS.enter))}),_==null||_.send(ANIMATOR_ACTIONS.exit)):(ce.send(ANIMATOR_ACTIONS.enter),_=void 0),K=ce):(_=K,K=void 0)};_?te=_.subscribe(pe=>{pe.state===ANIMATOR_STATES.exited&&fe()}):fe(),le.filter(pe=>pe!==ce).forEach(pe=>pe.send(ANIMATOR_ACTIONS.exit))},oe=le=>{for(const ce of le)ce._scheduler.start(0,()=>ce.send(ANIMATOR_ACTIONS.exit))},se=()=>{_=void 0,K=void 0,te==null||te(),te=void 0};return Object.freeze({name:ANIMATOR_MANAGER_NAMES.switch,getDurationEnter:ne,enterChildren:ie,exitChildren:oe,destroy:se})},createAnimatorManager=(Z,_)=>{switch(_){case ANIMATOR_MANAGER_NAMES.stagger:return createAnimatorManagerStagger(Z,ANIMATOR_MANAGER_NAMES.stagger);case ANIMATOR_MANAGER_NAMES.staggerReverse:return createAnimatorManagerStagger(Z,ANIMATOR_MANAGER_NAMES.staggerReverse);case ANIMATOR_MANAGER_NAMES.sequence:return createAnimatorManagerSequence(Z,ANIMATOR_MANAGER_NAMES.sequence);case ANIMATOR_MANAGER_NAMES.sequenceReverse:return createAnimatorManagerSequence(Z,ANIMATOR_MANAGER_NAMES.sequenceReverse);case ANIMATOR_MANAGER_NAMES.switch:return createAnimatorManagerSwitch(Z,ANIMATOR_MANAGER_NAMES.switch);default:return createAnimatorManagerParallel(Z,ANIMATOR_MANAGER_NAMES.parallel)}},createAnimatorMachine=(Z,_)=>{let K=_;const te={[ANIMATOR_STATES.exited]:{onActions:{[ANIMATOR_ACTIONS.enter]:ANIMATOR_STATES.entering,[ANIMATOR_ACTIONS.setup]:()=>{const ce=Z._getUserSettings();if(Z._parent){const fe=Z._parent._getUserSettings(),{condition:pe}=ce;switch(Z._parent.state){case ANIMATOR_STATES.entering:{const me=typeof pe=="function"?pe(Z):typeof pe=="boolean"?pe:!0;(fe.combine||ce.merge)&&me&&Z._parent._manager.enterChildren([Z]);break}case ANIMATOR_STATES.entered:{(typeof pe=="function"?pe(Z):typeof pe=="boolean"?pe:!0)&&Z._parent._manager.enterChildren([Z]);break}}}else if(ce.active===void 0||ce.active)return ce.duration.delay>0?{duration:ce.duration.delay,state:ANIMATOR_STATES.entering}:ANIMATOR_STATES.entering}}},[ANIMATOR_STATES.entering]:{onEntry:{execute:()=>{const ce=Z._getUserSettings(),fe=Array.from(Z._children).filter(pe=>{const me=pe._getUserSettings();if(ce.combine||me.merge){const{condition:ve}=me;return typeof ve=="function"?ve(pe):typeof ve=="boolean"?ve:!0}return!1});Z._manager.enterChildren(fe)},schedule:()=>({duration:Z.settings.duration.enter,action:ANIMATOR_ACTIONS.enterEnd})},onActions:{[ANIMATOR_ACTIONS.enterEnd]:ANIMATOR_STATES.entered,[ANIMATOR_ACTIONS.exit]:ANIMATOR_STATES.exiting}},[ANIMATOR_STATES.entered]:{onEntry:{execute:()=>{if(Z._getUserSettings().combine)return;const fe=Array.from(Z._children).filter(pe=>{const me=pe._getUserSettings(),{condition:ve}=me,ye=typeof ve=="function"?ve(pe):typeof ve=="boolean"?ve:!0;return!me.merge&&ye});Z._manager.enterChildren(fe)}},onActions:{[ANIMATOR_ACTIONS.exit]:ANIMATOR_STATES.exiting}},[ANIMATOR_STATES.exiting]:{onEntry:{execute:()=>{Z._manager.exitChildren(Array.from(Z._children))},schedule:()=>({duration:Z.settings.duration.exit,action:ANIMATOR_ACTIONS.exitEnd})},onActions:{[ANIMATOR_ACTIONS.exitEnd]:ANIMATOR_STATES.exited,[ANIMATOR_ACTIONS.enter]:ANIMATOR_STATES.entering}},"*":{onActions:{[ANIMATOR_ACTIONS.update]:()=>{var fe,pe;const ce=Z._getUserSettings();if(ce.manager!==Z._manager.name&&((pe=(fe=Z._manager).destroy)==null||pe.call(fe),Z._manager=createAnimatorManager(Z,ce.manager)),!Z._parent){const me=ce.active===!0||ce.active===void 0;if((K===ANIMATOR_STATES.exited||K===ANIMATOR_STATES.exiting)&&me)return ce.duration.delay>0?{duration:ce.duration.delay,state:ANIMATOR_STATES.entering}:ANIMATOR_STATES.entering;if((K===ANIMATOR_STATES.entered||K===ANIMATOR_STATES.entering)&&!me)return ANIMATOR_STATES.exiting}},[ANIMATOR_ACTIONS.refresh]:()=>{const ce=Z._getUserSettings(),fe=Array.from(Z._children).map(pe=>({node:pe,settings:pe._getUserSettings()}));if(Z.state===ANIMATOR_STATES.entering||Z.state===ANIMATOR_STATES.entered){const pe=fe.filter(ve=>ve.node.state===ANIMATOR_STATES.entering||ve.node.state===ANIMATOR_STATES.entered).filter(ve=>Z.state===ANIMATOR_STATES.entering?ce.combine||ve.settings.merge:!0).filter(ve=>{const{condition:ye}=ve.settings;return!(typeof ye=="function"?ye(ve.node):typeof ye=="boolean"?ye:!0)}).map(ve=>ve.node),me=fe.filter(ve=>ve.node.state===ANIMATOR_STATES.exiting||ve.node.state===ANIMATOR_STATES.exited).filter(ve=>{const{condition:ye}=ve.settings;return typeof ye=="function"?ye(ve.node):typeof ye=="boolean"?ye:!0}).map(ve=>ve.node);Z._manager.exitChildren(pe),Z._manager.enterChildren(me)}}}}},ne=ce=>{if(!ce||K===ce)return;K=ce;const{onEntry:fe}=te[K]||{},{onTransition:pe}=Z.control.getSettings();if(Z._scheduler.stopAll(),fe!=null&&fe.execute&&fe.execute(),fe!=null&&fe.schedule){const me=fe.schedule();Z._scheduler.start(me.duration,()=>se(me.action))}pe==null||pe(Z);for(const me of Z._subscribers)me(Z)},ie=ce=>{if(ce!==void 0)if(typeof ce=="string")ne(ce);else{const fe=ce();typeof fe=="object"&&fe!==null?Z._scheduler.start(fe.duration,()=>ne(fe.state)):fe&&ne(fe)}},oe=()=>K,se=ce=>{var fe,pe,me,ve;isBrowser$1()&&(ie((pe=(fe=te[K])==null?void 0:fe.onActions)==null?void 0:pe[ce]),ie((ve=(me=te["*"])==null?void 0:me.onActions)==null?void 0:ve[ce]))};return Object.freeze({getState:oe,send:se})},isNodeConditionCorrect=(Z,_)=>typeof _=="function"?_(Z):typeof _=="boolean"?_:!0,createAnimatorSystem=()=>{const Z=`s${Math.random()}`.replace(".","");let _=0,K;const te=(ce,fe)=>{const pe=`${Z}-n${_++}`,me={id:pe};let ve=null,ye=null;const Ee=Object.freeze({getSettings:()=>{const Pe=(fe==null?void 0:fe.getSettings())||{},Fe=ve||{};return{...Pe,...Fe,duration:{...Pe.duration,...Fe.duration},condition:Fe.condition!==void 0?Fe.condition:Pe.condition!==void 0?Pe.condition:void 0,onTransition:$e=>{var ke,ze;(ke=Pe.onTransition)==null||ke.call(Pe,$e),(ze=Fe.onTransition)==null||ze.call(Fe,$e)}}},setSettings:Pe=>{if(Pe===null){ve=null;return}ve={...ve,...Pe,duration:{...ve==null?void 0:ve.duration,...Pe.duration}}},getForeign:()=>ye,setForeign:Pe=>{ye=Pe}}),Se=Ee.getSettings(),_e=createAnimatorMachine(me,Se.initialState??ANIMATOR_DEFAULT_SETTINGS.initialState),Te=createAnimatorManager(me,Se.manager??ANIMATOR_DEFAULT_SETTINGS.manager),Re={_parent:{value:ce,enumerable:!0},_children:{value:new Set,enumerable:!0},_subscribers:{value:new Set,enumerable:!0},_watchers:{value:new Set,enumerable:!0},_scheduler:{value:createTOScheduler(),enumerable:!0},_getUserSettings:{value:()=>{const Pe=me.control.getSettings();return{...ANIMATOR_DEFAULT_SETTINGS,...filterProps(Pe),duration:{...ANIMATOR_DEFAULT_SETTINGS.duration,...Pe.duration?filterProps(Pe.duration):null}}},enumerable:!0},_manager:{value:Te,enumerable:!0,writable:!0},id:{value:pe,enumerable:!0},state:{get:()=>_e.getState(),enumerable:!0},control:{value:Ee,enumerable:!0},settings:{get:()=>{const Pe=me._getUserSettings();let Fe=Pe.duration.enter;if(Pe.combine){const $e=Array.from(me._children).filter(ke=>{const{condition:ze}=ke.control.getSettings();return isNodeConditionCorrect(ke,ze)});Fe=me._manager.getDurationEnter($e)}return{...Pe,duration:{...Pe.duration,enter:Fe}}},enumerable:!0},subscribe:{value:Pe=>(me._subscribers.add(Pe),Pe(me),()=>me._subscribers.delete(Pe)),enumerable:!0},unsubscribe:{value:Pe=>{me._subscribers.delete(Pe)},enumerable:!0},send:{value:_e.send,enumerable:!0}};return Object.defineProperties(me,Re),ce&&ce._children.add(me),me},ne=ce=>{ce._scheduler.stopAll();for(const fe of ce._children)ne(fe);ce._parent&&ce._parent._children.delete(ce),ce._children.clear(),ce._subscribers.clear(),ce._watchers.clear()},ie=(ce,fe)=>{if(ce==null){if(K)throw new Error("ARWES animator root node must be unregistered before registering another root node.");return K=te(void 0,fe),K}if(!K)throw new Error("ARWES animator system requires an animator root node before registering children nodes. This means the provided animator parent node does not belong to the system.");return te(ce,fe)},oe=ce=>{if(K){for(const fe of ce._watchers)fe(ce);ne(ce),K.id===ce.id&&(K=void 0)}},se={};return Object.defineProperties(se,{id:{value:Z,enumerable:!0},root:{get:()=>K,enumerable:!0},register:{value:ie,enumerable:!0},unregister:{value:oe,enumerable:!0}}),se},AnimatorContext=reactExports.createContext(void 0),AnimatorGeneralContext=reactExports.createContext(void 0),setNodeRefValue=(Z,_)=>{typeof Z=="function"?Z(_):Z&&(Z.current=_)},Animator$1=Z=>{const{root:_,disabled:K,dismissed:te,unmountOnExited:ne,unmountOnEntered:ie,unmountOnDisabled:oe,refreshOn:se,nodeRef:le,children:ce,...fe}=Z,pe=reactExports.useContext(AnimatorContext),me=reactExports.useContext(AnimatorGeneralContext),ve=reactExports.useRef(fe),ye=reactExports.useRef(void 0),Ee=reactExports.useRef(!0);ve.current=fe;const Se=me==null?void 0:me.getSettings(),_e=!!_||!pe,Te=te!==void 0?!!te:!!(Se!=null&&Se.dismissed),Re=K!==void 0?!!K:!!(Se!=null&&Se.disabled),Pe=reactExports.useMemo(()=>{if(ye.current&&ye.current.system.unregister(ye.current.node),Te)return setNodeRefValue(le,null),pe;if(Re){setNodeRefValue(le,null);return}const Ue=_e?createAnimatorSystem():pe.system,Oe=()=>{const Ye=me==null?void 0:me.getSettings(),Ke={...Ye==null?void 0:Ye.duration,...ve.current.duration};return{...Ye,...ve.current,duration:Ke}},Ve=_e?Ue.register(void 0,{getSettings:Oe}):Ue.register(pe.node,{getSettings:Oe});return setNodeRefValue(le,Ve),Object.freeze({system:Ue,node:Ve})},[pe,_e,Re,Te]);ye.current=Pe;const[Fe,$e]=reactExports.useState(()=>ne&&(Pe==null?void 0:Pe.node.state)===ANIMATOR_STATES.exited||ie&&(Pe==null?void 0:Pe.node.state)===ANIMATOR_STATES.entered||oe&&Re);reactExports.useEffect(()=>()=>{Ee.current=!1,ye.current&&ye.current.system.unregister(ye.current.node)},[]),reactExports.useEffect(()=>{Pe&&queueMicrotask(()=>{Ee.current&&Pe.node.send(ANIMATOR_ACTIONS.setup)})},[!!Pe]);const ke=reactExports.useRef(!0);reactExports.useEffect(()=>{if(ke.current){ke.current=!1;return}Pe&&queueMicrotask(()=>{Ee.current&&Pe.node.send(ANIMATOR_ACTIONS.update)})},[fe.active,fe.manager,fe.merge,fe.combine]),reactExports.useEffect(()=>{if(Pe){const Ue=Pe.node.subscribe(Oe=>{$e(ne&&Oe.state===ANIMATOR_STATES.exited||ie&&Oe.state===ANIMATOR_STATES.entered)});return()=>Ue()}else $e(oe)},[Pe,ne,ie,oe]);const ze=reactExports.useRef(!0);return reactExports.useEffect(()=>{if(ze.current){ze.current=!1;return}Pe&&queueMicrotask(()=>{Ee.current&&Pe.node.send(ANIMATOR_ACTIONS.refresh)})},se??[]),reactExports.createElement(AnimatorContext.Provider,{value:Pe},Fe?null:ce)},Animator=memo(Animator$1),useAnimator=()=>reactExports.useContext(AnimatorContext),AnimatorGeneralProvider=Z=>{const{children:_,...K}=Z,te=reactExports.useRef(K);te.current=K;const ne=reactExports.useMemo(()=>Object.freeze({getSettings:()=>te.current}),[]);return reactExports.createElement(AnimatorGeneralContext.Provider,{value:ne},_)};memo(AnimatorGeneralProvider);const pow=Math.pow,sqrt=Math.sqrt,sin=Math.sin,cos=Math.cos,PI=Math.PI,c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*PI/3,c5=2*PI/4.5,bounceOut=Z=>Z<1/2.75?7.5625*Z*Z:Z<2/2.75?7.5625*(Z-=1.5/2.75)*Z+.75:Z<2.5/2.75?7.5625*(Z-=2.25/2.75)*Z+.9375:7.5625*(Z-=2.625/2.75)*Z+.984375,easing={linear:Z=>Z,inQuad:Z=>Z*Z,outQuad:Z=>1-(1-Z)*(1-Z),inOutQuad:Z=>Z<.5?2*Z*Z:1-pow(-2*Z+2,2)/2,inCubic:Z=>Z*Z*Z,outCubic:Z=>1-pow(1-Z,3),inOutCubic:Z=>Z<.5?4*Z*Z*Z:1-pow(-2*Z+2,3)/2,inQuart:Z=>Z*Z*Z*Z,outQuart:Z=>1-pow(1-Z,4),inOutQuart:Z=>Z<.5?8*Z*Z*Z*Z:1-pow(-2*Z+2,4)/2,inQuint:Z=>Z*Z*Z*Z*Z,outQuint:Z=>1-pow(1-Z,5),inOutQuint:Z=>Z<.5?16*Z*Z*Z*Z*Z:1-pow(-2*Z+2,5)/2,inSine:Z=>1-cos(Z*PI/2),outSine:Z=>sin(Z*PI/2),inOutSine:Z=>-(cos(PI*Z)-1)/2,inExpo:Z=>Z===0?0:pow(2,10*Z-10),outExpo:Z=>Z===1?1:1-pow(2,-10*Z),inOutExpo:Z=>Z===0?0:Z===1?1:Z<.5?pow(2,20*Z-10)/2:(2-pow(2,-20*Z+10))/2,inCirc:Z=>1-sqrt(1-pow(Z,2)),outCirc:Z=>sqrt(1-pow(Z-1,2)),inOutCirc:Z=>Z<.5?(1-sqrt(1-pow(2*Z,2)))/2:(sqrt(1-pow(-2*Z+2,2))+1)/2,inBack:Z=>c3*Z*Z*Z-c1*Z*Z,outBack:Z=>1+c3*pow(Z-1,3)+c1*pow(Z-1,2),inOutBack:Z=>Z<.5?pow(2*Z,2)*((c2+1)*2*Z-c2)/2:(pow(2*Z-2,2)*((c2+1)*(Z*2-2)+c2)+2)/2,inElastic:Z=>Z===0?0:Z===1?1:-pow(2,10*Z-10)*sin((Z*10-10.75)*c4),outElastic:Z=>Z===0?0:Z===1?1:pow(2,-10*Z)*sin((Z*10-.75)*c4)+1,inOutElastic:Z=>Z===0?0:Z===1?1:Z<.5?-(pow(2,20*Z-10)*sin((20*Z-11.125)*c5))/2:pow(2,-20*Z+10)*sin((20*Z-11.125)*c5)/2+1,inBounce:Z=>1-bounceOut(1-Z),outBounce:bounceOut,inOutBounce:Z=>Z<.5?(1-bounceOut(1-2*Z))/2:(1+bounceOut(2*Z-1))/2},easeAmong=Z=>_=>{if(Z.length===1)return _*Z[0];if(_<=0)return Z[0];if(_>=1)return Z[Z.length-1];const K=1/(Z.length-1),te=Math.floor(_/K),ne=_/K-te,ie=Math.floor(_*(Z.length-1)),oe=ie+1,se=Z[ie],le=Z[oe];if(le>se){const fe=le-se;return se+fe*ne}const ce=se-le;return se-ce*ne},propsTransformDistances={x:"translateX",y:"translateY",z:"translateZ"},propsTransformAngles={rotate:"rotate",rotateX:"rotateX",rotateY:"rotateY",rotateZ:"rotateZ",skew:"skew",skewX:"skewX",skewY:"skewY"},propsTransformUnitless={scale:"scale",scaleX:"scaleX",scaleY:"scaleY",scaleZ:"scaleZ"},formatAnimatedCSSProps=Z=>{const _={};let K="";return Object.keys(Z).forEach(te=>{const ne=Z[te];if(propsTransformDistances[te]){const ie=propsTransformDistances[te],oe=Number.isFinite(ne)?`${ne}px`:String(ne);K+=` ${ie}(var(--motion-${ie}))`,_[`--motion-${ie}`]=oe}else if(propsTransformAngles[te]){const ie=propsTransformAngles[te],oe=Number.isFinite(ne)?`${ne}deg`:String(ne);K+=` ${ie}(var(--motion-${ie}))`,_[`--motion-${ie}`]=oe}else if(propsTransformUnitless[te]){const ie=propsTransformUnitless[te];K+=` ${ie}(var(--motion-${ie}))`,_[`--motion-${ie}`]=ne}else _[te]=ne}),K=K.trim(),K&&(_.transform=K),_},applyAnimatedCSSProps=(Z,_)=>{const K=formatAnimatedCSSProps(_);Object.keys(K).forEach(te=>{/^--[a-zA-Z]/.test(te)?Z.style.setProperty(te,K[te]):Z.style[te]=K[te]})};function addUniqueItem(Z,_){Z.indexOf(_)===-1&&Z.push(_)}function removeItem(Z,_){const K=Z.indexOf(_);K>-1&&Z.splice(K,1)}const clamp=(Z,_,K)=>Math.min(Math.max(K,Z),_),defaults$1={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},isNumber=Z=>typeof Z=="number",isEasingList=Z=>Array.isArray(Z)&&!isNumber(Z[0]),wrap=(Z,_,K)=>{const te=_-Z;return((K-Z)%te+te)%te+Z};function getEasingForSegment(Z,_){return isEasingList(Z)?Z[wrap(0,Z.length,_)]:Z}const mix=(Z,_,K)=>-K*Z+K*_+Z,noop$1=()=>{},noopReturn=Z=>Z,progress=(Z,_,K)=>_-Z===0?1:(K-Z)/(_-Z);function fillOffset(Z,_){const K=Z[Z.length-1];for(let te=1;te<=_;te++){const ne=progress(0,_,te);Z.push(mix(K,1,ne))}}function defaultOffset(Z){const _=[0];return fillOffset(_,Z-1),_}function interpolate(Z,_=defaultOffset(Z.length),K=noopReturn){const te=Z.length,ne=te-_.length;return ne>0&&fillOffset(_,ne),ie=>{let oe=0;for(;oe<te-2&&!(ie<_[oe+1]);oe++);let se=clamp(0,1,progress(_[oe],_[oe+1],ie));return se=getEasingForSegment(K,oe)(se),mix(Z[oe],Z[oe+1],se)}}const isCubicBezier=Z=>Array.isArray(Z)&&isNumber(Z[0]),isEasingGenerator=Z=>typeof Z=="object"&&!!Z.createAnimation,isFunction=Z=>typeof Z=="function",isString=Z=>typeof Z=="string",time={ms:Z=>Z*1e3,s:Z=>Z/1e3};function velocityPerSecond(Z,_){return _?Z*(1e3/_):0}const calcBezier=(Z,_,K)=>(((1-3*K+3*_)*Z+(3*K-6*_))*Z+3*_)*Z,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(Z,_,K,te,ne){let ie,oe,se=0;do oe=_+(K-_)/2,ie=calcBezier(oe,te,ne)-Z,ie>0?K=oe:_=oe;while(Math.abs(ie)>subdivisionPrecision&&++se<subdivisionMaxIterations);return oe}function cubicBezier(Z,_,K,te){if(Z===_&&K===te)return noopReturn;const ne=ie=>binarySubdivide(ie,0,1,Z,K);return ie=>ie===0||ie===1?ie:calcBezier(ne(ie),_,te)}const steps=(Z,_="end")=>K=>{K=_==="end"?Math.min(K,.999):Math.max(K,.001);const te=K*Z,ne=_==="end"?Math.floor(te):Math.ceil(te);return clamp(0,1,ne/Z)},namedEasings={ease:cubicBezier(.25,.1,.25,1),"ease-in":cubicBezier(.42,0,1,1),"ease-in-out":cubicBezier(.42,0,.58,1),"ease-out":cubicBezier(0,0,.58,1)},functionArgsRegex=/\((.*?)\)/;function getEasingFunction(Z){if(isFunction(Z))return Z;if(isCubicBezier(Z))return cubicBezier(...Z);const _=namedEasings[Z];if(_)return _;if(Z.startsWith("steps")){const K=functionArgsRegex.exec(Z);if(K){const te=K[1].split(",");return steps(parseFloat(te[0]),te[1].trim())}}return noopReturn}class Animation{constructor(_,K=[0,1],{easing:te,duration:ne=defaults$1.duration,delay:ie=defaults$1.delay,endDelay:oe=defaults$1.endDelay,repeat:se=defaults$1.repeat,offset:le,direction:ce="normal",autoplay:fe=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=noopReturn,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((me,ve)=>{this.resolve=me,this.reject=ve}),te=te||defaults$1.easing,isEasingGenerator(te)){const me=te.createAnimation(K);te=me.easing,K=me.keyframes||K,ne=me.duration||ne}this.repeat=se,this.easing=isEasingList(te)?noopReturn:getEasingFunction(te),this.updateDuration(ne);const pe=interpolate(K,le,isEasingList(te)?te.map(getEasingFunction):noopReturn);this.tick=me=>{var ve;ie=ie;let ye=0;this.pauseTime!==void 0?ye=this.pauseTime:ye=(me-this.startTime)*this.rate,this.t=ye,ye/=1e3,ye=Math.max(ye-ie,0),this.playState==="finished"&&this.pauseTime===void 0&&(ye=this.totalDuration);const Ee=ye/this.duration;let Se=Math.floor(Ee),_e=Ee%1;!_e&&Ee>=1&&(_e=1),_e===1&&Se--;const Te=Se%2;(ce==="reverse"||ce==="alternate"&&Te||ce==="alternate-reverse"&&!Te)&&(_e=1-_e);const Re=ye>=this.totalDuration?1:Math.min(_e,1),Pe=pe(this.easing(Re));_(Pe),this.pauseTime===void 0&&(this.playState==="finished"||ye>=this.totalDuration+oe)?(this.playState="finished",(ve=this.resolve)===null||ve===void 0||ve.call(this,Pe)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},fe&&this.play()}play(){const _=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=_-this.pauseTime:this.startTime||(this.startTime=_),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var _;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(_=this.reject)===null||_===void 0||_.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(_){this.duration=_,this.totalDuration=_*(this.repeat+1)}get currentTime(){return this.t}set currentTime(_){this.pauseTime!==void 0||this.rate===0?this.pauseTime=_:this.startTime=performance.now()-_/this.rate}get playbackRate(){return this.rate}set playbackRate(_){this.rate=_}}var invariant$1=function(){};class MotionValue{setAnimation(_){this.animation=_,_==null||_.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const data=new WeakMap;function getAnimationData(Z){return data.has(Z)||data.set(Z,{transforms:[],values:new Map}),data.get(Z)}function getMotionValue(Z,_){return Z.has(_)||Z.set(_,new MotionValue),Z.get(_)}const axes=["","X","Y","Z"],order=["translate","scale","rotate","skew"],transformAlias={x:"translateX",y:"translateY",z:"translateZ"},rotation={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:Z=>Z+"deg"},baseTransformProperties={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:Z=>Z+"px"},rotate:rotation,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:noopReturn},skew:rotation},transformDefinitions=new Map,asTransformCssVar=Z=>`--motion-${Z}`,transforms=["x","y","z"];order.forEach(Z=>{axes.forEach(_=>{transforms.push(Z+_),transformDefinitions.set(asTransformCssVar(Z+_),baseTransformProperties[Z])})});const compareTransformOrder=(Z,_)=>transforms.indexOf(Z)-transforms.indexOf(_),transformLookup=new Set(transforms),isTransform$1=Z=>transformLookup.has(Z),addTransformToElement=(Z,_)=>{transformAlias[_]&&(_=transformAlias[_]);const{transforms:K}=getAnimationData(Z);addUniqueItem(K,_),Z.style.transform=buildTransformTemplate(K)},buildTransformTemplate=Z=>Z.sort(compareTransformOrder).reduce(transformListToString,"").trim(),transformListToString=(Z,_)=>`${Z} ${_}(var(${asTransformCssVar(_)}))`,isCssVar=Z=>Z.startsWith("--"),registeredProperties=new Set;function registerCssVariable(Z){if(!registeredProperties.has(Z)){registeredProperties.add(Z);try{const{syntax:_,initialValue:K}=transformDefinitions.has(Z)?transformDefinitions.get(Z):{};CSS.registerProperty({name:Z,inherits:!1,syntax:_,initialValue:K})}catch{}}}const testAnimation=(Z,_)=>document.createElement("div").animate(Z,_),featureTests={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{testAnimation({opacity:[1]})}catch{return!1}return!0},finished:()=>!!testAnimation({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{testAnimation({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},results={},supports={};for(const Z in featureTests)supports[Z]=()=>(results[Z]===void 0&&(results[Z]=featureTests[Z]()),results[Z]);const resolution=.015,generateLinearEasingPoints=(Z,_)=>{let K="";const te=Math.round(_/resolution);for(let ne=0;ne<te;ne++)K+=Z(progress(0,te-1,ne))+", ";return K.substring(0,K.length-2)},convertEasing=(Z,_)=>isFunction(Z)?supports.linearEasing()?`linear(${generateLinearEasingPoints(Z,_)})`:defaults$1.easing:isCubicBezier(Z)?cubicBezierAsString(Z):Z,cubicBezierAsString=([Z,_,K,te])=>`cubic-bezier(${Z}, ${_}, ${K}, ${te})`;function hydrateKeyframes(Z,_){for(let K=0;K<Z.length;K++)Z[K]===null&&(Z[K]=K?Z[K-1]:_());return Z}const keyframesList=Z=>Array.isArray(Z)?Z:[Z];function getStyleName(Z){return transformAlias[Z]&&(Z=transformAlias[Z]),isTransform$1(Z)?asTransformCssVar(Z):Z}const style$1={get:(Z,_)=>{_=getStyleName(_);let K=isCssVar(_)?Z.style.getPropertyValue(_):getComputedStyle(Z)[_];if(!K&&K!==0){const te=transformDefinitions.get(_);te&&(K=te.initialValue)}return K},set:(Z,_,K)=>{_=getStyleName(_),isCssVar(_)?Z.style.setProperty(_,K):Z.style[_]=K}};function stopAnimation(Z,_=!0){if(!(!Z||Z.playState==="finished"))try{Z.stop?Z.stop():(_&&Z.commitStyles(),Z.cancel())}catch{}}function getUnitConverter(Z,_){var K;let te=(_==null?void 0:_.toDefaultUnit)||noopReturn;const ne=Z[Z.length-1];if(isString(ne)){const ie=((K=ne.match(/(-?[\d.]+)([a-z%]*)/))===null||K===void 0?void 0:K[2])||"";ie&&(te=oe=>oe+ie)}return te}function getDevToolsRecord(){return window.__MOTION_DEV_TOOLS_RECORD}function animateStyle(Z,_,K,te={},ne){const ie=getDevToolsRecord(),oe=te.record!==!1&&ie;let se,{duration:le=defaults$1.duration,delay:ce=defaults$1.delay,endDelay:fe=defaults$1.endDelay,repeat:pe=defaults$1.repeat,easing:me=defaults$1.easing,persist:ve=!1,direction:ye,offset:Ee,allowWebkitAcceleration:Se=!1,autoplay:_e=!0}=te;const Te=getAnimationData(Z),Re=isTransform$1(_);let Pe=supports.waapi();Re&&addTransformToElement(Z,_);const Fe=getStyleName(_),$e=getMotionValue(Te.values,Fe),ke=transformDefinitions.get(Fe);return stopAnimation($e.animation,!(isEasingGenerator(me)&&$e.generator)&&te.record!==!1),()=>{const ze=()=>{var Ve,Ye;return(Ye=(Ve=style$1.get(Z,Fe))!==null&&Ve!==void 0?Ve:ke==null?void 0:ke.initialValue)!==null&&Ye!==void 0?Ye:0};let Ue=hydrateKeyframes(keyframesList(K),ze);const Oe=getUnitConverter(Ue,ke);if(isEasingGenerator(me)){const Ve=me.createAnimation(Ue,_!=="opacity",ze,Fe,$e);me=Ve.easing,Ue=Ve.keyframes||Ue,le=Ve.duration||le}if(isCssVar(Fe)&&(supports.cssRegisterProperty()?registerCssVariable(Fe):Pe=!1),Re&&!supports.linearEasing()&&(isFunction(me)||isEasingList(me)&&me.some(isFunction))&&(Pe=!1),Pe){ke&&(Ue=Ue.map(Ke=>isNumber(Ke)?ke.toDefaultUnit(Ke):Ke)),Ue.length===1&&(!supports.partialKeyframes()||oe)&&Ue.unshift(ze());const Ve={delay:time.ms(ce),duration:time.ms(le),endDelay:time.ms(fe),easing:isEasingList(me)?void 0:convertEasing(me,le),direction:ye,iterations:pe+1,fill:"both"};se=Z.animate({[Fe]:Ue,offset:Ee,easing:isEasingList(me)?me.map(Ke=>convertEasing(Ke,le)):void 0},Ve),se.finished||(se.finished=new Promise((Ke,rt)=>{se.onfinish=Ke,se.oncancel=rt}));const Ye=Ue[Ue.length-1];se.finished.then(()=>{ve||(style$1.set(Z,Fe,Ye),se.cancel())}).catch(noop$1),Se||(se.playbackRate=1.000001)}else if(ne&&Re)Ue=Ue.map(Ve=>typeof Ve=="string"?parseFloat(Ve):Ve),Ue.length===1&&Ue.unshift(parseFloat(ze())),se=new ne(Ve=>{style$1.set(Z,Fe,Oe?Oe(Ve):Ve)},Ue,Object.assign(Object.assign({},te),{duration:le,easing:me}));else{const Ve=Ue[Ue.length-1];style$1.set(Z,Fe,ke&&isNumber(Ve)?ke.toDefaultUnit(Ve):Ve)}return oe&&ie(Z,_,Ue,{duration:le,delay:ce,easing:me,repeat:pe,offset:Ee},"motion-one"),$e.setAnimation(se),se&&!_e&&se.pause(),se}}const getOptions=(Z,_)=>Z[_]?Object.assign(Object.assign({},Z),Z[_]):Object.assign({},Z);function resolveElements(Z,_){var K;return typeof Z=="string"?_?((K=_[Z])!==null&&K!==void 0||(_[Z]=document.querySelectorAll(Z)),Z=_[Z]):Z=document.querySelectorAll(Z):Z instanceof Element&&(Z=[Z]),Array.from(Z||[])}const createAnimation$1=Z=>Z(),withControls=(Z,_,K=defaults$1.duration)=>new Proxy({animations:Z.map(createAnimation$1).filter(Boolean),duration:K,options:_},controls),getActiveAnimation=Z=>Z.animations[0],controls={get:(Z,_)=>{const K=getActiveAnimation(Z);switch(_){case"duration":return Z.duration;case"currentTime":return time.s((K==null?void 0:K[_])||0);case"playbackRate":case"playState":return K==null?void 0:K[_];case"finished":return Z.finished||(Z.finished=Promise.all(Z.animations.map(selectFinished)).catch(noop$1)),Z.finished;case"stop":return()=>{Z.animations.forEach(te=>stopAnimation(te))};case"forEachNative":return te=>{Z.animations.forEach(ne=>te(ne,Z))};default:return typeof(K==null?void 0:K[_])>"u"?void 0:()=>Z.animations.forEach(te=>te[_]())}},set:(Z,_,K)=>{switch(_){case"currentTime":K=time.ms(K);case"playbackRate":for(let te=0;te<Z.animations.length;te++)Z.animations[te][_]=K;return!0}return!1}},selectFinished=Z=>Z.finished;function stagger(Z=.1,{start:_=0,from:K=0,easing:te}={}){return(ne,ie)=>{const oe=isNumber(K)?K:getFromIndex(K,ie),se=Math.abs(oe-ne);let le=Z*se;if(te){const ce=ie*Z;le=getEasingFunction(te)(le/ce)*ce}return _+le}}function getFromIndex(Z,_){if(Z==="first")return 0;{const K=_-1;return Z==="last"?K:K/2}}function resolveOption(Z,_,K){return isFunction(Z)?Z(_,K):Z}function createAnimate(Z){return function(K,te,ne={}){K=resolveElements(K);const ie=K.length,oe=[];for(let se=0;se<ie;se++){const le=K[se];for(const ce in te){const fe=getOptions(ne,ce);fe.delay=resolveOption(fe.delay,se,ie);const pe=animateStyle(le,ce,te[ce],fe,Z);oe.push(pe)}}return withControls(oe,ne,ne.duration)}}const animate$1=createAnimate(Animation);function calcNextTime(Z,_,K,te){var ne;return isNumber(_)?_:_.startsWith("-")||_.startsWith("+")?Math.max(0,Z+parseFloat(_)):_==="<"?K:(ne=te.get(_))!==null&&ne!==void 0?ne:Z}function eraseKeyframes(Z,_,K){for(let te=0;te<Z.length;te++){const ne=Z[te];ne.at>_&&ne.at<K&&(removeItem(Z,ne),te--)}}function addKeyframes(Z,_,K,te,ne,ie){eraseKeyframes(Z,ne,ie);for(let oe=0;oe<_.length;oe++)Z.push({value:_[oe],at:mix(ne,ie,te[oe]),easing:getEasingForSegment(K,oe)})}function compareByTime(Z,_){return Z.at===_.at?Z.value===null?1:-1:Z.at-_.at}function timeline(Z,_={}){var K;const te=createAnimationsFromTimeline(Z,_),ne=te.map(ie=>animateStyle(...ie,Animation)).filter(Boolean);return withControls(ne,_,(K=te[0])===null||K===void 0?void 0:K[3].duration)}function createAnimationsFromTimeline(Z,_={}){var{defaultOptions:K={}}=_,te=__rest(_,["defaultOptions"]);const ne=[],ie=new Map,oe={},se=new Map;let le=0,ce=0,fe=0;for(let pe=0;pe<Z.length;pe++){const me=Z[pe];if(isString(me)){se.set(me,ce);continue}else if(!Array.isArray(me)){se.set(me.name,calcNextTime(ce,me.at,le,se));continue}const[ve,ye,Ee={}]=me;Ee.at!==void 0&&(ce=calcNextTime(ce,Ee.at,le,se));let Se=0;const _e=resolveElements(ve,oe),Te=_e.length;for(let Re=0;Re<Te;Re++){const Pe=_e[Re],Fe=getElementSequence(Pe,ie);for(const $e in ye){const ke=getValueSequence($e,Fe);let ze=keyframesList(ye[$e]);const Ue=getOptions(Ee,$e);let{duration:Oe=K.duration||defaults$1.duration,easing:Ve=K.easing||defaults$1.easing}=Ue;if(isEasingGenerator(Ve)){invariant$1($e==="opacity"||ze.length>1);const mt=Ve.createAnimation(ze,$e!=="opacity",()=>0,$e);Ve=mt.easing,ze=mt.keyframes||ze,Oe=mt.duration||Oe}const Ye=resolveOption(Ee.delay,Re,Te)||0,Ke=ce+Ye,rt=Ke+Oe;let{offset:ct=defaultOffset(ze.length)}=Ue;ct.length===1&&ct[0]===0&&(ct[1]=1);const at=ct.length-ze.length;at>0&&fillOffset(ct,at),ze.length===1&&ze.unshift(null),addKeyframes(ke,ze,Ve,ct,Ke,rt),Se=Math.max(Ye+Oe,Se),fe=Math.max(rt,fe)}}le=ce,ce+=Se}return ie.forEach((pe,me)=>{for(const ve in pe){const ye=pe[ve];ye.sort(compareByTime);const Ee=[],Se=[],_e=[];for(let Te=0;Te<ye.length;Te++){const{at:Re,value:Pe,easing:Fe}=ye[Te];Ee.push(Pe),Se.push(progress(0,fe,Re)),_e.push(Fe||defaults$1.easing)}Se[0]!==0&&(Se.unshift(0),Ee.unshift(Ee[0]),_e.unshift("linear")),Se[Se.length-1]!==1&&(Se.push(1),Ee.push(null)),ne.push([me,ve,Ee,Object.assign(Object.assign(Object.assign({},K),{duration:fe,easing:_e,offset:Se}),te)])}}),ne}function getElementSequence(Z,_){return!_.has(Z)&&_.set(Z,{}),_.get(Z)}function getValueSequence(Z,_){return _[Z]||(_[Z]=[]),_[Z]}const sampleT=5;function calcGeneratorVelocity(Z,_,K){const te=Math.max(_-sampleT,0);return velocityPerSecond(K-Z(te),_-te)}const defaults={stiffness:100,damping:10,mass:1},calcDampingRatio=(Z=defaults.stiffness,_=defaults.damping,K=defaults.mass)=>_/(2*Math.sqrt(Z*K));function hasReachedTarget(Z,_,K){return Z<_&&K>=_||Z>_&&K<=_}const spring$1=({stiffness:Z=defaults.stiffness,damping:_=defaults.damping,mass:K=defaults.mass,from:te=0,to:ne=1,velocity:ie=0,restSpeed:oe,restDistance:se}={})=>{ie=ie?time.s(ie):0;const le={done:!1,hasReachedTarget:!1,current:te,target:ne},ce=ne-te,fe=Math.sqrt(Z/K)/1e3,pe=calcDampingRatio(Z,_,K),me=Math.abs(ce)<5;oe||(oe=me?.01:2),se||(se=me?.005:.5);let ve;if(pe<1){const ye=fe*Math.sqrt(1-pe*pe);ve=Ee=>ne-Math.exp(-pe*fe*Ee)*((-ie+pe*fe*ce)/ye*Math.sin(ye*Ee)+ce*Math.cos(ye*Ee))}else ve=ye=>ne-Math.exp(-fe*ye)*(ce+(-ie+fe*ce)*ye);return ye=>{le.current=ve(ye);const Ee=ye===0?ie:calcGeneratorVelocity(ve,ye,le.current),Se=Math.abs(Ee)<=oe,_e=Math.abs(ne-le.current)<=se;return le.done=Se&&_e,le.hasReachedTarget=hasReachedTarget(te,ne,le.current),le}},glide$1=({from:Z=0,velocity:_=0,power:K=.8,decay:te=.325,bounceDamping:ne,bounceStiffness:ie,changeTarget:oe,min:se,max:le,restDistance:ce=.5,restSpeed:fe})=>{te=time.ms(te);const pe={hasReachedTarget:!1,done:!1,current:Z,target:Z},me=ke=>se!==void 0&&ke<se||le!==void 0&&ke>le,ve=ke=>se===void 0?le:le===void 0||Math.abs(se-ke)<Math.abs(le-ke)?se:le;let ye=K*_;const Ee=Z+ye,Se=oe===void 0?Ee:oe(Ee);pe.target=Se,Se!==Ee&&(ye=Se-Z);const _e=ke=>-ye*Math.exp(-ke/te),Te=ke=>Se+_e(ke),Re=ke=>{const ze=_e(ke),Ue=Te(ke);pe.done=Math.abs(ze)<=ce,pe.current=pe.done?Se:Ue};let Pe,Fe;const $e=ke=>{me(pe.current)&&(Pe=ke,Fe=spring$1({from:pe.current,to:ve(pe.current),velocity:calcGeneratorVelocity(Te,ke,pe.current),damping:ne,stiffness:ie,restDistance:ce,restSpeed:fe}))};return $e(0),ke=>{let ze=!1;return!Fe&&Pe===void 0&&(ze=!0,Re(ke),$e(ke)),Pe!==void 0&&ke>Pe?(pe.hasReachedTarget=!0,Fe(ke-Pe)):(pe.hasReachedTarget=!1,!ze&&Re(ke),pe)}},timeStep=10,maxDuration=1e4;function pregenerateKeyframes(Z,_=noopReturn){let K,te=timeStep,ne=Z(0);const ie=[_(ne.current)];for(;!ne.done&&te<maxDuration;)ne=Z(te),ie.push(_(ne.done?ne.target:ne.current)),K===void 0&&ne.hasReachedTarget&&(K=te),te+=timeStep;const oe=te-timeStep;return ie.length===1&&ie.push(ne.current),{keyframes:ie,duration:oe/1e3,overshootDuration:(K??oe)/1e3}}function canGenerate(Z){return isNumber(Z)&&!isNaN(Z)}function getAsNumber(Z){return isString(Z)?parseFloat(Z):Z}function createGeneratorEasing(Z){const _=new WeakMap;return(K={})=>{const te=new Map,ne=(oe=0,se=100,le=0,ce=!1)=>{const fe=`${oe}-${se}-${le}-${ce}`;return te.has(fe)||te.set(fe,Z(Object.assign({from:oe,to:se,velocity:le},K))),te.get(fe)},ie=(oe,se)=>(_.has(oe)||_.set(oe,pregenerateKeyframes(oe,se)),_.get(oe));return{createAnimation:(oe,se=!0,le,ce,fe)=>{let pe,me,ve,ye=0,Ee=noopReturn;const Se=oe.length;if(se){Ee=getUnitConverter(oe,ce?transformDefinitions.get(getStyleName(ce)):void 0);const _e=oe[Se-1];if(ve=getAsNumber(_e),Se>1&&oe[0]!==null)me=getAsNumber(oe[0]);else{const Te=fe==null?void 0:fe.generator;if(Te){const{animation:Re,generatorStartTime:Pe}=fe,Fe=(Re==null?void 0:Re.startTime)||Pe||0,$e=(Re==null?void 0:Re.currentTime)||performance.now()-Fe,ke=Te($e).current;me=ke,ye=calcGeneratorVelocity(ze=>Te(ze).current,$e,ke)}else le&&(me=getAsNumber(le()))}}if(canGenerate(me)&&canGenerate(ve)){const _e=ne(me,ve,ye,ce==null?void 0:ce.includes("scale"));pe=Object.assign(Object.assign({},ie(_e,Ee)),{easing:"linear"}),fe&&(fe.generator=_e,fe.generatorStartTime=performance.now())}return pe||(pe={easing:"ease",duration:ie(ne(0,100)).overshootDuration}),pe}}}}const spring=createGeneratorEasing(spring$1),glide=createGeneratorEasing(glide$1);function animateProgress(Z,_={}){return withControls([()=>{const K=new Animation(Z,[0,1],_);return K.finished.catch(()=>{}),K}],_,_.duration)}function animate(Z,_,K){return(isFunction(Z)?animateProgress:animate$1)(Z,_,K)}const animateDraw=Z=>{const{element:_,duration:K,delay:te,isEntering:ne=!0}=Z;if(!(_ instanceof SVGPathElement))throw new Error("ARWES animateDraw() requires a SVGPathElement.");const ie=_.getTotalLength(),oe=typeof Z.easing=="string"?easing[Z.easing]:Z.easing;_.style.strokeDashoffset=String(ne?ie:0),_.style.strokeDasharray=String(ie);const se=animate(_,{strokeDashoffset:ne?[ie,0]:[0,ie]},{duration:K,delay:te,easing:oe||(ne?easing.outExpo:easing.outSine)});return ne&&se.finished.then(()=>{_.style.strokeDashoffset="",_.style.strokeDasharray=""}),se},transition=(Z,_,K,te,ne)=>({transitions:{entering:{[Z]:[_,K],easing:ne},exiting:{[Z]:[K,te??_],easing:ne}}}),fadeTransition=Object.freeze({transitions:{entering:{opacity:[0,1]},exiting:{opacity:[1,0]}}}),fade=()=>fadeTransition,flickerTransition=Object.freeze({transitions:{entering:{opacity:[0,1,.5,1],easing:easing.outSine},exiting:{opacity:[1,0,.5,0],easing:easing.outSine}}}),flicker=()=>flickerTransition,draw=(Z,_)=>({transitions:{entering:({element:K,duration:te})=>animateDraw({isEntering:!0,element:K,duration:Z??te,easing:_}),exiting:({element:K,duration:te})=>animateDraw({isEntering:!1,element:K,duration:Z??te,easing:_})}}),createAnimation=Z=>{if(Z.duration!==void 0&&Z.duration<0)throw new Error("Arwes createAnimation() does not support negative durations.");const{duration:_,easing:K="outSine",direction:te="normal",repeat:ne=0,onUpdate:ie,onFinish:oe,onCancel:se}=Z,le=typeof K=="function"?K:easing[K],ce=_*1e3;let fe=null,pe,me=0,ve,ye=0;const Ee=new Promise(Fe=>{ve=Fe}),Se=Fe=>Ee.then(Fe),_e=Fe=>{pe||(pe=Fe),me=Math.max(Fe-pe,0);const $e=le(ce===0?1:Math.min(1,Math.max(0,me/ce)));ie(te==="normal"?$e:1-$e);let ke=ce>0&&me<ce;!ke&&ne>0&&ye<ne&&(pe=Fe,ke=!0,ye++),ke?fe=window.requestAnimationFrame(_e):(fe=null,oe==null||oe(),ve())},Te=()=>fe!==null,Re=()=>{fe!==null&&(window.cancelAnimationFrame(fe),fe=null,se==null||se(),ve())},Pe=()=>{fe!==null&&(window.cancelAnimationFrame(fe),fe=null,ie(le(te==="reverse"?0:1)),oe==null||oe(),ve())};return fe=window.requestAnimationFrame(_e),Object.freeze({then:Se,isPending:Te,cancel:Re,complete:Pe})},animatedPresets={fade,flicker,draw},createAnimatedElement=Z=>{const{element:_,animator:K}=Z,te=()=>({hideOnExited:!0,renderInitials:!0,...filterProps(Z.settingsRef.current)}),ne=new Set,ie=te();if(ie.renderInitials){const{animated:le}=ie,fe=(Array.isArray(le)?le:[le]).map(ve=>typeof ve=="string"||Array.isArray(ve)?void 0:ve).filter(Boolean),pe=fe.map(ve=>ve?ve.initialAttributes:null).reduce((ve,ye)=>({...ve,...ye}),{});Object.keys(pe).forEach(ve=>{_.setAttribute(ve,pe[ve])});const me=fe.map(ve=>ve?ve.initialStyle:null).reduce((ve,ye)=>({...ve,...ye}),{});applyAnimatedCSSProps(_,me)}const oe=K.subscribe(le=>{const{animated:ce,hideOnExited:fe,hideOnEntered:pe,onTransition:me}=te();_.style.visibility=fe&&le.state==="exited"||pe&&le.state==="entered"?"hidden":"";const ye=le.settings.duration,Ee=le.state==="entering"||le.state==="entered"?ye.enter:ye.exit,Se=Re=>Array.from(_.querySelectorAll(Re));(Array.isArray(ce)?ce:[ce]).filter(Boolean).filter(Boolean).map(Re=>{if(typeof Re=="string"){const Pe=animatedPresets[Re];if(!Pe)throw new Error(`ARWES createAnimatedElement() unexpected animated preset "${Re}".`);return Pe()}return Array.isArray(Re)?transition(...Re):Re}).map(Re=>{var Pe;return Re?(Pe=Re.transitions)==null?void 0:Pe[le.state]:null}).filter(Boolean).forEach(Re=>{if(typeof Re=="function"){const Pe=Re({element:_,$:Se,duration:Ee,nodeDuration:ye,easing,animate,timeline,stagger,spring,glide});Pe&&(ne.add(Pe),Pe.then?Pe.then(()=>{ne.delete(Pe)}):Pe.finished&&Pe.finished.then(()=>{ne.delete(Pe)}))}else if(Re){const{duration:Pe,delay:Fe,easing:$e,repeat:ke,direction:ze,options:Ue,...Oe}=Re,Ve=Pe||Ee;if(Ve<=0)throw new Error("ARWES createAnimatedElement() animation duration must be greater than 0.");try{const Ye=animate(_,Oe,{duration:Ve,delay:Fe,easing:typeof $e=="string"?easing[$e]??$e:$e,repeat:ke,direction:ze,...Ue});ne.add(Ye),Ye.finished.then(()=>{ne.delete(Ye)})}catch(Ye){throw new Error(`ARWES createAnimatedElement() animation error:
${String(Ye)}`)}}}),me==null||me(_,le)}),se=()=>{oe(),ne.forEach(le=>le.cancel()),ne.clear()};return Object.freeze({settingsRef:Z.settingsRef,cancel:se})},createAnimatedXElement=Z=>{const{element:_}=Z,K=()=>({hideOnStates:[],renderInitials:!0,...filterProps(Z.settingsRef.current)});let te=Z.settingsRef.current.state;const ne=new Set,ie=K();if(ie.renderInitials){const{animated:ce}=ie,pe=(Array.isArray(ce)?ce:[ce]).filter(Boolean),me=pe.map(ye=>ye==null?void 0:ye.initialAttributes).reduce((ye,Ee)=>({...ye,...Ee}),{});Object.keys(me).forEach(ye=>{_.setAttribute(ye,me[ye])});const ve=pe.map(ye=>ye==null?void 0:ye.initialStyle).reduce((ye,Ee)=>({...ye,...Ee}),{});applyAnimatedCSSProps(_,ve)}const oe=()=>{const{state:ce,animated:fe,hideOnStates:pe}=K();te=ce;const ve=(Array.isArray(fe)?fe:[fe]).filter(Boolean);_.style.visibility=pe!=null&&pe.includes(ce)?"hidden":"";const ye=Ee=>Array.from(_.querySelectorAll(Ee));ve.map(Ee=>{var Se;return(Se=Ee.transitions)==null?void 0:Se[ce]}).filter(Boolean).forEach(Ee=>{if(typeof Ee=="function"){const Se=Ee({element:_,$:ye,easing,animate,timeline,stagger,spring,glide});Se&&(ne.add(Se),Se.then?Se.then(()=>{ne.delete(Se)}):Se.finished&&Se.finished.then(()=>{ne.delete(Se)}))}else{const{duration:Se,delay:_e,easing:Te,repeat:Re,direction:Pe,options:Fe,...$e}=Ee;if(Number.isFinite(Se)&&Se<=0)throw new Error("ARWES createAnimatedXElement() animation duration must be greater than 0.");try{const ke=animate(_,$e,{duration:Se,delay:_e,easing:typeof Te=="string"?easing[Te]:Te,repeat:Re,direction:Pe,...Fe});ne.add(ke),ke.finished.then(()=>{ne.delete(ke)})}catch(ke){throw new Error(`ARWES createAnimatedXElement() animation error:
${String(ke)}`)}}})};return oe(),Object.freeze({refresh:()=>{te!==Z.settingsRef.current.state&&oe()},cancel:()=>{ne.forEach(ce=>ce.cancel()),ne.clear()}})},getDistanceBetweenTwoPoints=(Z,_,K,te)=>Math.sqrt((K-Z)**2+(te-_)**2),getDistanceFromOriginToCornerProgress=(Z,_,K,te,ne)=>{switch(ne){case"left":return K/Z;case"right":return 1-K/Z;case"top":return te/_;case"bottom":return 1-te/_;case"center":ne=[.5,.5];break}const[ie,oe]=ne,se=Z*ie,le=_*oe,ce=getDistanceBetweenTwoPoints(K,te,se,le),fe=se<Z/2?Z:0,pe=le<_/2?_:0,me=getDistanceBetweenTwoPoints(se,le,fe,pe);return ce/me},defaultProps$d={color:"#777",type:"box",distance:30,size:4,crossSize:1,origin:"center",originInverted:!1,easing:easing.inSine},createBackgroundDots=Z=>{const{canvas:_,animator:K}=Z,te=_.getContext("2d");if(!te)return{cancel:()=>{}};const ne=Math.min(window.devicePixelRatio||2,2);let ie,oe,se;const le=()=>({...defaultProps$d,...Z.settingsRef.current}),ce=()=>{const{width:Ee,height:Se}=_.getBoundingClientRect();(_.width!==Ee*ne||_.height!==Se*ne)&&(_.width=Ee*ne,_.height=Se*ne),te.setTransform(1,0,0,1,0,0),te.scale(ne,ne)},fe=(Ee,Se)=>{if(!te)return;const{color:_e,type:Te,distance:Re,size:Pe,crossSize:Fe,origin:$e,originInverted:ke}=le(),{width:ze,height:Ue}=_,Oe=1+Math.floor(ze/Re),Ve=1+Math.floor(Ue/Re),Ye=ze%Re,Ke=Ue%Re;te.clearRect(0,0,ze,Ue);for(let rt=0;rt<Oe;rt++){const ct=Ye/2+rt*Re;for(let at=0;at<Ve;at++){const mt=Ke/2+at*Re,je=getDistanceFromOriginToCornerProgress(ze/ne,Ue/ne,ct,mt,$e),it=Ee&&ke||!Ee&&!ke?1-je:je,et=Se/it,qe=Math.max(0,Math.min(1,et));if(te.beginPath(),te.globalAlpha=Ee?qe:1-qe,Te==="circle")te.arc(ct,mt,Pe,0,2*Math.PI);else if(Te==="cross"){const lt=Pe/2,_t=Fe/2;te.moveTo(ct-lt,mt+_t),te.lineTo(ct-lt,mt-_t),te.lineTo(ct-_t,mt-_t),te.lineTo(ct-_t,mt-lt),te.lineTo(ct+_t,mt-lt),te.lineTo(ct+_t,mt-_t),te.lineTo(ct+lt,mt-_t),te.lineTo(ct+lt,mt+_t),te.lineTo(ct+_t,mt+_t),te.lineTo(ct+_t,mt+lt),te.lineTo(ct-_t,mt+lt),te.lineTo(ct-_t,mt+_t)}else te.rect(ct-Pe/2,mt-Pe/2,Pe,Pe);te.fillStyle=_e,te.fill(),te.closePath()}}},pe=()=>{_.style.opacity="1",typeof window<"u"&&!oe&&(oe=new window.ResizeObserver(()=>{if(ce(),K)switch(K.state){case"entered":{fe(!0,1);break}}else fe(!0,1)}),oe.observe(_),ce())},me=()=>{_.style.opacity="0",oe==null||oe.disconnect(),oe=void 0,ie==null||ie.cancel(),ie=void 0},ve=()=>{if(!K){pe(),fe(!0,1);return}se=K.subscribe(Ee=>{const Se=le();switch(Ee.state){case"entering":{pe(),ie==null||ie.cancel(),ie=createAnimation({duration:Ee.settings.duration.enter,easing:Se.easing,onUpdate(_e){fe(!0,_e)}});break}case"entered":{pe(),ie==null||ie.cancel(),fe(!0,1);break}case"exiting":{pe(),ie==null||ie.cancel(),ie=createAnimation({duration:Ee.settings.duration.exit,easing:Se.easing,onUpdate(_e){fe(!1,_e)}});break}case"exited":{me();break}}})},ye=()=>{se==null||se(),me()};return ve(),Object.freeze({cancel:ye})},defaultProps$c={color:"#777",quantity:10,padding:50,xOffset:[0,0],yOffset:[-10,-100],radiusInitial:4,radiusOffset:[4,40],sets:5},minmaxOverflow01$1=Z=>Math.min(1,Math.max(0,Z===1?1:Z%1)),createBackgroundPuffs=Z=>{const{canvas:_,animator:K}=Z,te=_.getContext("2d");if(!te)return{cancel:()=>{}};let ne,ie,oe,se,le,ce=[];const fe=()=>({...defaultProps$c,...Z.settingsRef.current}),pe=(Fe,$e)=>{const{padding:ke,xOffset:ze,yOffset:Ue,radiusInitial:Oe,radiusOffset:Ve}=fe(),Ye=ke+Math.random()*(Fe-ke*2),Ke=ke+Math.random()*($e-ke*2),rt=Oe,ct=ze[0]+Math.random()*ze[1],at=Ue[0]+Math.random()*Ue[1],mt=Ve[0]+Math.random()*Ve[1];return{x:Ye,y:Ke,r:rt,xo:ct,yo:at,ro:mt}},me=(Fe,$e)=>{const{quantity:ke,sets:ze}=fe(),Ue=Math.round(ke/ze);return Array(ze).fill(null).map(()=>Array(Ue).fill(null).map(()=>pe(Fe,$e)))},ve=()=>{const Fe=Math.min(window.devicePixelRatio||2,2),{width:$e,height:ke}=_.getBoundingClientRect();(_.width!==$e*Fe||_.height!==ke*Fe)&&(_.width=$e*Fe,_.height=ke*Fe),te.setTransform(1,0,0,1,0,0),te.scale(Fe,Fe),ce=me($e,ke)},ye=(Fe,$e)=>{const{color:ke}=fe();te.globalAlpha=$e<=.5?$e*2:-2*$e+2,Fe.forEach(ze=>{const Ue=ze.x+$e*ze.xo,Oe=ze.y+$e*ze.yo,Ve=ze.r+$e*ze.ro,Ye=te.createRadialGradient(Ue,Oe,0,Ue,Oe,Ve);Ye.addColorStop(0,ke),Ye.addColorStop(1,"transparent"),te.beginPath(),te.fillStyle=Ye,te.arc(Ue,Oe,Ve,0,2*Math.PI),te.fill(),te.closePath()})},Ee=Fe=>{const{sets:$e}=fe(),{width:ke,height:ze}=_,Ue=1/$e;te.clearRect(0,0,ke,ze),ce.forEach((Oe,Ve)=>{const Ye=Ue*Ve,Ke=minmaxOverflow01$1(Fe+Ye);ye(Oe,easing.outSine(Ke))})},Se=()=>{if(!K)return;const{duration:{interval:Fe=2,intervalPause:$e=0}}=K.settings;oe==null||oe.cancel(),oe=createAnimation({duration:Fe,easing:"linear",onUpdate(ke){Ee(ke)},onFinish(){const ke=$e*1e3;window.clearTimeout(le),le=window.setTimeout(Se,ke)}})},_e=()=>{typeof window<"u"&&!ne&&(ne=new window.ResizeObserver(()=>{ve(),K||Ee(1)}),ne.observe(_),ve())},Te=()=>{ne==null||ne.disconnect(),ne=void 0,ie==null||ie.cancel(),ie=void 0,oe==null||oe.cancel(),oe=void 0,window.clearTimeout(le),le=void 0},Re=()=>{if(!K){_e(),Ee(1),_.style.opacity="1";return}se=K.subscribe(Fe=>{switch(Fe.state){case"entering":{_e(),oe===void 0&&Se(),ie==null||ie.cancel(),ie=createAnimation({duration:Fe.settings.duration.enter,onUpdate($e){_.style.opacity=String($e)}});break}case"entered":{_e(),oe===void 0&&Se(),_.style.opacity="1";break}case"exiting":{ie==null||ie.cancel(),ie=createAnimation({duration:Fe.settings.duration.exit,onUpdate($e){_.style.opacity=String(1-$e)}});break}case"exited":{Te(),_.style.opacity="0";break}}})},Pe=()=>{se==null||se(),Te(),_.style.opacity="0"};return Re(),Object.freeze({cancel:Pe})},defaultProps$b={lineWidth:1,lineColor:"#777",horizontalLineDash:[4],verticalLineDash:[],distance:30},createBackgroundGridLines=Z=>{const{canvas:_,animator:K}=Z,te=_.getContext("2d");if(!te)return{cancel:()=>{}};let ne,ie,oe;const se=()=>({...defaultProps$b,...Z.settingsRef.current}),le=()=>{const ye=Math.min(window.devicePixelRatio||2,2),{width:Ee,height:Se}=_.getBoundingClientRect();(_.width!==Ee*ye||_.height!==Se*ye)&&(_.width=Ee*ye,_.height=Se*ye),te.setTransform(1,0,0,1,0,0),te.scale(ye,ye)},ce=()=>{const{lineWidth:ye,lineColor:Ee,horizontalLineDash:Se,verticalLineDash:_e,distance:Te}=se(),{width:Re,height:Pe}=_,Fe=1+Math.floor(Re/Te),$e=1+Math.floor(Pe/Te),ke=Re%Te,ze=Pe%Te;te.clearRect(0,0,Re,Pe),te.lineWidth=ye,te.strokeStyle=Ee,te.setLineDash(Se);for(let Ue=0;Ue<$e;Ue++){const Oe=ze/2+Ue*Te;te.beginPath(),te.moveTo(0,Oe),te.lineTo(Re,Oe),te.stroke(),te.closePath()}te.setLineDash(_e);for(let Ue=0;Ue<Fe;Ue++){const Oe=ke/2+Ue*Te;te.beginPath(),te.moveTo(Oe,0),te.lineTo(Oe,Pe),te.stroke(),te.closePath()}},fe=()=>{typeof window<"u"&&!ne&&(ne=new window.ResizeObserver(()=>{le(),ce()}),ne.observe(_),le())},pe=()=>{ne==null||ne.disconnect(),ne=void 0,ie==null||ie.cancel(),ie=void 0},me=()=>{if(!K){fe(),ce(),_.style.opacity="1";return}oe=K.subscribe(ye=>{switch(ye.state){case"entering":{fe(),ce(),ie=createAnimation({duration:ye.settings.duration.enter,onUpdate(Ee){_.style.opacity=String(Ee)}});break}case"entered":{fe(),ce(),_.style.opacity="1";break}case"exiting":{ie=createAnimation({duration:ye.settings.duration.exit,onUpdate(Ee){_.style.opacity=String(1-Ee)}});break}case"exited":{pe(),_.style.opacity="0";break}}})},ve=()=>{oe==null||oe(),pe(),_.style.opacity="0"};return me(),Object.freeze({cancel:ve})},defaultProps$a={lineWidth:1,lineColor:"#777",distance:30,sets:5},random=(Z,_)=>(_-Z)*Math.random(),minmaxOverflow01=Z=>Math.min(1,Math.max(0,Z===1?1:Z%1)),createLinesSet=Z=>{const{distance:_,positionsLength:K,margin:te,size:ne}=Z,ie=Math.floor(random(.1,.5)*K),oe=Array(K).fill(0).map((ce,fe)=>fe);return randomizeList(oe).slice(0,ie).map(ce=>{const fe=te/2+ce*_,pe=Math.random()*(ne/2),me=Math.floor(random(.1,.5)*ne);return{axis1:fe,axis2Initial:pe,length:me}})},createBackgroundMovingLines=Z=>{const{canvas:_,animator:K}=Z,te=_.getContext("2d");if(!te)return{cancel:()=>{}};let ne,ie,oe,se,le=[];const ce=()=>({...defaultProps$a,...Z.settingsRef.current}),fe=()=>{const _e=Math.min(window.devicePixelRatio||2,2),{width:Te,height:Re}=_.getBoundingClientRect();(_.width!==Te*_e||_.height!==Re*_e)&&(_.width=Te*_e,_.height=Re*_e),te.setTransform(1,0,0,1,0,0),te.scale(_e,_e)},pe=_e=>{const{lineWidth:Te,lineColor:Re,distance:Pe,sets:Fe}=ce(),{width:$e,height:ke}=_,ze=_.width!==$e||_.height!==ke,Ue=$e,Oe=ke,Ve=1+Math.floor(Ue/Pe),Ye=Ue%Pe;te.clearRect(0,0,$e,ke),te.lineWidth=Te,te.strokeStyle=Re,te.shadowBlur=Te,te.shadowOffsetX=0,te.shadowOffsetY=0,te.shadowColor=Re,(le.length===0||ze)&&(le=Array(Fe).fill(null).map(()=>createLinesSet({positionsLength:Ve,margin:Ye,distance:Pe,size:Oe}))),le.forEach((Ke,rt)=>{const ct=1/Fe*rt,at=minmaxOverflow01(_e+ct),mt=easing.inOutCubic(at);Ke.forEach(je=>{const{axis1:it,axis2Initial:et,length:qe}=je,lt=Oe*2*mt-Oe;te.beginPath(),te.moveTo(it,Oe-(et+lt)),te.lineTo(it,Oe-(et+qe+lt)),te.stroke(),te.closePath()})})},me=()=>{if(!K)return;const{duration:{interval:_e=10}}=K.settings;oe==null||oe.cancel(),oe=createAnimation({duration:_e,easing:"linear",repeat:1/0,onUpdate:pe})},ve=()=>{typeof window<"u"&&!ne&&(ne=new window.ResizeObserver(()=>{fe(),K||pe(1)}),ne.observe(_),fe())},ye=()=>{ne==null||ne.disconnect(),ne=void 0,ie==null||ie.cancel(),ie=void 0,oe==null||oe.cancel(),oe=void 0},Ee=()=>{if(!K){ve(),pe(1),_.style.opacity="1";return}se=K.subscribe(_e=>{switch(_e.state){case"entering":{ve(),oe===void 0&&me(),ie=createAnimation({duration:_e.settings.duration.enter,onUpdate(Te){_.style.opacity=String(Te)}});break}case"entered":{ve(),oe===void 0&&me(),_.style.opacity="1";break}case"exiting":{ie=createAnimation({duration:_e.settings.duration.exit,onUpdate(Te){_.style.opacity=String(1-Te)}});break}case"exited":{ye(),_.style.opacity="0";break}}})},Se=()=>{se==null||se(),ye(),_.style.opacity="0"};return Ee(),Object.freeze({cancel:Se})},positionedStyle$1={position:"absolute",inset:0,display:"block",border:0,margin:0,padding:0,width:"100%",height:"100%"},Dots=memo(Z=>{const{elementRef:_,id:K,className:te,style:ne,positioned:ie=!0}=Z,oe=useAnimator(),se=reactExports.useRef(null),le=reactExports.useRef(Z);return le.current=Z,reactExports.useEffect(()=>{const ce=se.current;if(!ce)return;const fe=createBackgroundDots({canvas:ce,animator:oe==null?void 0:oe.node,settingsRef:le});return()=>fe.cancel()},[oe]),React.createElement("canvas",{role:"presentation",ref:mergeRefs$2(se,_),id:K,className:cx("arwes-bgs-dots",te),style:{...ie?positionedStyle$1:null,...ne}})});memo(Z=>{const{elementRef:_,id:K,className:te,style:ne,positioned:ie=!0}=Z,oe=useAnimator(),se=reactExports.useRef(null),le=reactExports.useRef(Z);return le.current=Z,reactExports.useEffect(()=>{const ce=se.current;if(!ce)return;const fe=createBackgroundPuffs({canvas:ce,animator:oe==null?void 0:oe.node,settingsRef:le});return()=>fe.cancel()},[oe]),React.createElement("canvas",{role:"presentation",ref:mergeRefs$2(se,_),id:K,className:cx("arwes-bgs-puffs",te),style:{...ie?positionedStyle$1:null,...ne}})});const GridLines=memo(Z=>{const{elementRef:_,id:K,className:te,style:ne,positioned:ie=!0}=Z,oe=useAnimator(),se=reactExports.useRef(null),le=reactExports.useRef(Z);return le.current=Z,reactExports.useEffect(()=>{const ce=se.current;if(!ce)return;const fe=createBackgroundGridLines({canvas:ce,animator:oe==null?void 0:oe.node,settingsRef:le});return()=>fe.cancel()},[oe]),React.createElement("canvas",{role:"presentation",ref:mergeRefs$2(se,_),id:K,className:cx("arwes-bgs-gridlines",te),style:{...ie?positionedStyle$1:null,...ne}})}),MovingLines=memo(Z=>{const{elementRef:_,id:K,className:te,style:ne,positioned:ie=!0}=Z,oe=useAnimator(),se=reactExports.useRef(null),le=reactExports.useRef(Z);return le.current=Z,reactExports.useEffect(()=>{const ce=se.current;if(!ce)return;const fe=createBackgroundMovingLines({canvas:ce,animator:oe==null?void 0:oe.node,settingsRef:le});return()=>fe.cancel()},[oe]),React.createElement("canvas",{role:"presentation",ref:mergeRefs$2(se,_),id:K,className:cx("arwes-bgs-movinglines",te),style:{...ie?positionedStyle$1:null,...ne}})}),BACKGROUND_COLOR_CANVAS_ON="rgba(0, 9, 6, 0.05)",ScifiBackground=()=>{const[Z,_]=reactExports.useState(!0);return reactExports.useEffect(()=>{const K=setInterval(()=>{_(!Z)},Z?5e3:1e3);return()=>clearTimeout(K)},[Z]),jsxRuntimeExports.jsx(Animator,{active:Z,duration:{enter:1,interval:10},children:jsxRuntimeExports.jsxs("div",{className:"scifi-background",style:{opacity:1,backgroundColor:BACKGROUND_COLOR_CANVAS_ON},children:[jsxRuntimeExports.jsx(GridLines,{lineColor:"hsla(180, 100%, 75%, 0.05)",distance:30}),jsxRuntimeExports.jsx(Dots,{color:"hsla(180, 100%, 75%, 0.05)",distance:30}),jsxRuntimeExports.jsx(MovingLines,{lineColor:"hsla(180, 100%, 75%, 0.07)",distance:30,sets:20})]})})},createThemeMultiplier=Z=>_=>{if(Number.isFinite(Z))return Z*_;if(Array.isArray(Z)){if(!Z.length)return 0;const te=Z,ne=Math.round(_);return te[ne>te.length-1?te.length-1:ne]}return Z(_)},getSeriesItem=(Z,_)=>{const K=Math.round(_);return Z[K>Z.length-1?Z.length-1:K]},createThemeUnit=Z=>_=>{if(typeof _=="string")return _;const K=Array.isArray(_)?_:[_];return Array.isArray(Z)?Z.length?K.map(te=>typeof te=="string"?te:getSeriesItem(Z,te)).join(" "):"":K.map(te=>typeof te=="string"?te:Z(te)).join(" ")},minMax=(Z,_)=>K=>Math.min(_,Math.max(Z,K)),minMax0to100=minMax(0,100),minMax0to230=minMax(0,230),minMax0to360=minMax(0,360),minMax0to1=minMax(0,1),searchRegExp=(Z,_)=>{const K=Z.match(_);return Array.isArray(K)?String(K[0]):null},colorOptionsDefault={},fromArrayToHSL=(Z,_=colorOptionsDefault)=>{const[K,te,ne,ie=1]=Z,{alpha:oe=1}=_,se=minMax0to360(K),le=minMax0to100(te),ce=minMax0to100(ne),fe=minMax0to1(ie)*minMax0to1(oe);return`hsl(${se},${le}%,${ce}%,${fe})`},fromArrayToRGB=(Z,_=colorOptionsDefault)=>{const[K,te,ne,ie=1]=Z,{alpha:oe=1}=_,se=minMax0to100(K),le=minMax0to100(te),ce=minMax0to100(ne),fe=minMax0to1(ie)*minMax0to1(oe);return`rgb(${se}%,${le}%,${ce}%,${fe})`},fromArrayToLCH=(Z,_=colorOptionsDefault)=>{const[K,te,ne,ie=1]=Z,{alpha:oe=1}=_,se=minMax0to100(K),le=minMax0to230(te),ce=minMax0to360(ne),fe=minMax0to1(ie)*minMax0to1(oe);return`lch(${se} ${le} ${ce} / ${fe})`},fromArrayToHWB=(Z,_=colorOptionsDefault)=>{const[K,te,ne,ie=1]=Z,{alpha:oe=1}=_,se=minMax0to360(K),le=minMax0to100(te),ce=minMax0to100(ne),fe=minMax0to1(ie)*minMax0to1(oe);return`hwb(${se} ${le}% ${ce}% / ${fe})`},formatColor=(Z,_=colorOptionsDefault)=>{const{alpha:K}=_;if(K==null||!/^(hsla?|rgba?|lch|hwb)\([a-zA-Z0-9,./% -]+\)$/.test(Z))return Z;const ne=Array.from(Z.matchAll(/(,\s?|\s?\/\s?|\s)/g)).length===3,ie=Z.includes(","),oe=minMax0to1(K);if(ne){const se=searchRegExp(Z,/\d+(\.\d+)?%?\)$/),le=se.includes("%");let ce=Number(se.replace(/%?\)$/g,""));return ce=le?minMax0to100(ce):minMax0to1(ce),Z.replace(/\d+(\.\d+)?%?\)$/,`${ce*oe}${le?"%":""})`)}return Z.replace(/\)$/,ie?`,${oe})`:` / ${oe})`)},createThemeColorBySeries=(Z,_)=>(K,te)=>{if(!_.length)return"";const ne=Math.round(K),ie=_[ne>_.length-1?_.length-1:ne];return typeof ie=="string"?formatColor(ie,te):Z==="rgb"?fromArrayToRGB(ie,te):Z==="lch"?fromArrayToLCH(ie,te):Z==="hwb"?fromArrayToHWB(ie,te):fromArrayToHSL(ie,te)},createThemeColorByFunction=(Z,_)=>(K,te)=>{const ne=Math.round(K),ie=_(ne);return typeof ie=="string"?formatColor(ie,te):Z==="rgb"?fromArrayToRGB(ie,te):Z==="lch"?fromArrayToLCH(ie,te):Z==="hwb"?fromArrayToHWB(ie,te):fromArrayToHSL(ie,te)},createThemeColor=Z=>{if(Array.isArray(Z))return createThemeColorBySeries("hsl",Z);if(typeof Z=="function")return createThemeColorByFunction("hsl",Z);if(Array.isArray(Z.list))return createThemeColorBySeries(Z.color,Z.list);const _=Z.create;if(typeof _!="function")throw new Error("ARWES createThemeColor requires a valid list of colors or a color creator.");return createThemeColorByFunction(Z.color,_)},createThemeStyle=Z=>_=>{if(!Z.length)return{};const K=Math.round(_);return Z[K]||Z[Z.length-1]},createThemeBreakpoints=(Z=[])=>{const _=Z.filter(oe=>typeof oe!="string").map(oe=>oe.key),K=oe=>{if(typeof oe=="string"){for(const le of Z)if(typeof le!="string"&&le.key===oe)return le.value;return oe}const se=Z[oe>Z.length-1?Z.length-1:oe];return typeof se=="string"?se:se.value};return Object.freeze({breakpoints:_,settings:Z,up:(oe,se)=>`${se!=null&&se.strip?"":"@media "}(min-width: ${K(oe)})`,down:(oe,se)=>`${se!=null&&se.strip?"":"@media "}(max-width: calc(${K(oe)} - 1px))`,between:(oe,se,le)=>{const ce=le!=null&&le.strip?"":"@media ",fe=K(oe),pe=K(se);return`${ce}(min-width: ${fe}) and (max-width: calc(${pe} - 1px))`}})},extendDeepObject=(Z,_,K)=>{const te={};return Object.keys(Z).forEach(ne=>{if(typeof Z[ne]=="object"){if(Z[ne]===null)throw new Error("Theme structure values can not be null.");if(!_[ne]||typeof _[ne]!="object")throw new Error("Theme default value should match theme structure object.");te[ne]=extendDeepObject(Z[ne],_[ne],K==null?void 0:K[ne])}else te[ne]=(K==null?void 0:K[ne])??_[ne]}),te},createDeepThemeSetup=(Z,_)=>{const K={};return Object.keys(Z).forEach(te=>{if(typeof Z[te]=="object")K[te]=createDeepThemeSetup(Z[te],_[te]);else switch(Z[te]){case"multiplier":K[te]=createThemeMultiplier(_[te]);break;case"unit":K[te]=createThemeUnit(_[te]);break;case"color":K[te]=createThemeColor(_[te]);break;case"style":K[te]=createThemeStyle(_[te]);break;case"breakpoints":K[te]=createThemeBreakpoints(_[te]);break;case"other":K[te]=_[te];break;default:throw new Error(`Invalid theme structure key "${Z[te]}" provided.`)}}),K},createCreateTheme=(Z,_)=>(te={})=>{let ne;return Array.isArray(te)?ne=te.reduce((ie,oe)=>oe?extendDeepObject(Z,ie,oe):ie,_):ne=extendDeepObject(Z,_,te),createDeepThemeSetup(Z,ne)},BLEEPS_CATEGORIES={background:"background",transition:"transition",interaction:"interaction",notification:"notification",voice:"voice"},createBleepSource=Z=>{const{context:_,buffer:K,gain:te,loop:ne,onStop:ie}=Z,oe=_.createBufferSource();let se=!1,le=!1;oe.buffer=K,oe.loop=!!ne,ne&&(oe.loopStart=0,oe.loopEnd=K.duration);const ce=()=>{se||(oe.start(),se=!0)},fe=()=>{le||(oe.stop(),oe.disconnect(te),le=!0,ie==null||ie())};return oe.connect(te),oe.onended=()=>{le||ie==null||ie()},{get started(){return se},get stopped(){return le},start:ce,stop:fe}},createBleep=Z=>{const _=typeof window<"u",K=_&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome");if(!(_&&!!window.AudioContext))return null;const{sources:ne,preload:ie=!0,asyncLoad:oe,loop:se,fetchHeaders:le,masterGain:ce,maxPlaybackDelay:fe=.25,muteOnWindowBlur:pe}=Z;let me=Z.volume??1,ve=!!Z.muted,ye=!1,Ee=!1,Se=!1,_e=!1,Te=0,Re,Pe=null,Fe=null,$e=0,ke;const ze=Z.context??new window.AudioContext,Ue=ze.createGain(),Oe=new Set,Ve=(_t,ut,St)=>{try{window.fetch(_t,{method:"GET",headers:le}).then(Et=>{if(!Et.ok)throw new Error("ARWES bleep source could not be fetched.");return Et}).then(Et=>Et.arrayBuffer()).then(Et=>ze.decodeAudioData(Et)).then(Et=>{Fe=Et,$e=Fe.duration}).catch(Et=>{Se=!0,console.error(`ARWES bleep with source URL "${_t}" and type "${ut}" could not be used:`,Et)}).then(()=>{Ee=!1,St()})}catch{Se=!0,Ee=!1,console.error("ARWES bleep throws when fetched.")}};function Ye(){if(Fe||Ee||Se)return;if(!ne.length){Se=!0,console.error("ARWES bleep must have at least one source with a valid audio file URL and type.");return}const _t=new window.Audio,ut=ne.find(At=>{if(K&&At.type.includes("audio/webm"))return!1;const kt=_t.canPlayType(At.type||"");return kt==="probably"||kt==="maybe"});if(!ut){Se=!0,console.error(`ARWES bleep sources "${JSON.stringify(ne)}" are not supported on this navigator.`);return}const{src:St,type:Et}=ut;Ee=!0,ke=new Promise(At=>{oe?Re=window.setTimeout(()=>{Ve(St,Et,At)},0):Ve(St,Et,At)})}function Ke(){window.removeEventListener("click",Ke),ze.state==="suspended"&&ze.resume()}function rt(){pe&&(ye=!1,et({}))}function ct(){pe&&(ye=!0,et({}))}function at(_t){const ut=()=>{Date.now()<=Te+fe*1e3&&at(_t)};if(Te=Date.now(),!Se){if(Ee){ke.then(ut);return}if(!Fe){Ye(),ke.then(ut);return}if(_t!==void 0&&Oe.add(_t),!(se&&_e)){if(ze.state==="suspended"){window.addEventListener("click",Ke),ze.resume().then(ut).catch(St=>{const Et=JSON.stringify(ne);console.error(`ARWES bleep audio context with sources "${Et}" could not be resumed to be played:`,St)});return}Pe&&Pe.stop(),Pe=createBleepSource({context:ze,buffer:Fe,gain:Ue,loop:se,onStop(){_e=!1}}),_e=!0,Pe.start()}}}function mt(_t){if(!Fe)return;_t!==void 0&&Oe.delete(_t),(se?!Oe.size:!0)&&(Pe&&Pe.stop(),_e=!1)}function je(){Ye()}function it(){Pe&&Pe.stop(),Pe=null,Fe=null,Ee=!1,Se=!1,_e=!1,window.clearTimeout(Re),window.removeEventListener("click",Ke),window.removeEventListener("focus",rt),window.removeEventListener("blur",ct)}function et(_t){_t.volume!==void 0&&(me=Math.max(0,Math.min(1,_t.volume))),_t.muted!==void 0&&(ve=!!_t.muted);const ut=ve||ye?0:me;ut!==Ue.gain.value&&(Ue.gain.value=ut)}const qe={};return Object.defineProperties(qe,{duration:{get:()=>$e,enumerable:!0},volume:{get:()=>me,set:_t=>et({volume:_t}),enumerable:!0},muted:{get:()=>ve,set:_t=>et({muted:_t}),enumerable:!0},isPlaying:{get:()=>_e,enumerable:!0},isLoaded:{get:()=>!!Fe,enumerable:!0},play:{value:at,enumerable:!0},stop:{value:mt,enumerable:!0},load:{value:je,enumerable:!0},unload:{value:it,enumerable:!0},update:{value:et,enumerable:!0}}),ce?Ue.connect(ce):Ue.connect(ze.destination),et({volume:me}),ie&&Ye(),pe&&(window.addEventListener("focus",rt),window.addEventListener("blur",ct)),qe},categoryNames=Object.keys(BLEEPS_CATEGORIES),createBleepsManager=Z=>{const _=structuredClone(Z),K=typeof window<"u"&&!!window.AudioContext,te=K?new window.AudioContext:null,ne=K?te.createGain():null,ie=new Set(Object.keys(_.bleeps)),oe={},se=()=>{var Ee;const ye=Math.max(0,Math.min(1,((Ee=_.master)==null?void 0:Ee.volume)??1));ne.gain.setValueAtTime(ye,te.currentTime)},le=ye=>{var Re,Pe;const Ee=_.bleeps[ye],Se=Ee.category??((Re=_.common)==null?void 0:Re.category),_e=Se?(Pe=_.categories)==null?void 0:Pe[Se]:null;return{...{..._.common,..._e},...Ee,context:te,masterGain:ne}},ce=()=>{K&&ie.forEach(ye=>{var Ee;(Ee=oe[ye])==null||Ee.unload()})},fe=ye=>{ye.master&&(_.master={..._.master,...filterProps(ye.master)}),ye.common&&(_.common={..._.common,...filterProps(ye.common)});const Ee=ye.categories;Ee&&categoryNames.forEach(_e=>{var Te;_.categories=_.categories??{},_.categories[_e]={...(Te=_.categories)==null?void 0:Te[_e],...Ee[_e]}});const Se=ye.bleeps;Se&&(Object.keys(Se).forEach(_e=>ie.add(_e)),ie.forEach(_e=>{_.bleeps[_e]={..._.bleeps[_e],...Se[_e]}}))},pe=()=>{ie.forEach(ye=>{const Ee=le(ye);if(Ee.disabled){const Se=oe[ye];Se&&(Se.muted=!0,Se.unload()),oe[ye]=null}else{const Se=oe[ye];Se?Se.update(Ee):oe[ye]=createBleep(Ee)}})},me=ye=>{K&&(fe(ye),se(),pe())};K&&(ne.connect(te.destination),se(),pe());const ve=new Proxy(oe,{get(ye,Ee){const Se=Ee;return ie.has(Se)?ye[Se]:(console.error(`ARWES bleeps manager bleep "${Se}" was not found and can not be played.`),null)}});return Object.freeze({bleeps:ve,unload:ce,update:me})},walkTextNodes=(Z,_)=>{Array.from(Z.childNodes).forEach(K=>{K.nodeType===Node.TEXT_NODE?_(K):K.nodeType===Node.ELEMENT_NODE&&walkTextNodes(K,_)})},setTextNodesContent=(Z,_,K,te)=>{let ne=0;for(let ie=0;ie<Z.length;ie++){const oe=Z[ie],se=_[ie],le=ne+se.length;if(le<=K)oe.textContent!==se&&(oe.textContent=se),le===K&&(te==null||te(oe));else if(ne<K){const ce=K-ne,fe=se.substring(0,ce);oe.textContent!==fe&&(oe.textContent=fe),te==null||te(oe)}else oe.textContent!==""&&(oe.textContent=""),K===0&&ie===0&&(te==null||te(oe));ne=le}},animateTextSequence=Z=>{const{rootElement:_,contentElement:K,duration:te,easing:ne="linear",blink:ie=!0,blinkDuration:oe=.1,isEntering:se=!0,hideOnExited:le=!0,hideOnEntered:ce}=filterProps(Z);if(!_||!K)throw new Error("ARWES animateTextSequence() requires valid DOM elements.");let fe,pe;const me=K.cloneNode(!0);Object.assign(me.style,{position:"absolute",inset:0,visibility:"visible",opacity:1}),ie&&(fe=document.createElement("span"),fe.classList.add("arwes-text__blink"),fe.innerHTML="&#9614;",Object.assign(fe.style,{position:"relative",display:"inline-block",width:0,height:0,lineHeight:"0",color:"inherit"}));const ve=[],ye=[];walkTextNodes(me,Se=>{ve.push(Se),ye.push(Se.textContent||""),se&&(Se.textContent="")});const Ee=ye.join("").length;if(_.appendChild(me),K.style.visibility="hidden",ie&&fe){const Se=easeAmong([0,1,2]),_e=["transparent","inherit","transparent"];pe=createAnimation({duration:oe,easing:"linear",repeat:1/0,onUpdate(Te){const Re=Math.round(Se(Te));fe.style.color=_e[Re]}})}return createAnimation({duration:te,easing:ne,direction:se?"normal":"reverse",onUpdate:Se=>{const _e=Math.round(Se*Ee);setTextNodesContent(ve,ye,_e,Te=>{fe&&Te.parentNode&&Te.parentNode!==fe.parentNode&&Te.parentNode.appendChild(fe)})},onFinish:()=>{K.style.visibility=se&&ce||!se&&le?"hidden":"",me.remove(),pe==null||pe.cancel()},onCancel:()=>{K.style.visibility="",me.remove(),pe==null||pe.cancel()}})},CIPHERED_CHARACTERS="    ----____abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",animateTextDecipher=Z=>{const{rootElement:_,contentElement:K,duration:te,easing:ne="linear",isEntering:ie=!0,hideOnExited:oe=!0,hideOnEntered:se,characters:le=CIPHERED_CHARACTERS}=filterProps(Z);if(!_||!K)throw new Error("ARWES animateTextDecipher() requires valid DOM elements.");const ce=K.cloneNode(!0);Object.assign(ce.style,{position:"absolute",inset:0,visibility:"visible",opacity:1});const fe=[],pe=[];walkTextNodes(ce,Ee=>{fe.push(Ee),pe.push(Ee.textContent||"")});const me=pe.join("").length,ve=randomizeList(Array(me).fill(null).map((Ee,Se)=>Se)),ye={};return _.appendChild(ce),K.style.visibility="hidden",createAnimation({duration:te,easing:ne,direction:ie?"normal":"reverse",onUpdate:Ee=>{const Se=Math.round(me*Ee);for(let Te=0;Te<me;Te++)ye[ve[Te]]=Te<Se;const _e=pe.map(Te=>Te.split("").map((Re,Pe)=>Re===" "?" ":ye[Pe]?Re:le[Math.round(Math.random()*(le.length-1))]).join(""));setTextNodesContent(fe,_e,me)},onFinish:()=>{K.style.visibility=ie&&se||!ie&&oe?"hidden":"",ce.remove()},onCancel:()=>{K.style.visibility="",ce.remove()}})},getAnimationTextDuration=Z=>{const{length:_,maxDuration:K=4,charactersPerSecond:te=100}=Z,ne=1e3/te*_/1e3;return Math.min(ne,K)},renderFrameElements=(Z,_,K,te)=>{const ne=Array.from(Z.children);for(let ie=0;ie<_.length;ie++){const oe=_[ie],se=ne[ie]??document.createElementNS("http://www.w3.org/2000/svg",oe.type??"path"),{name:le,id:ce,className:fe,style:pe}=oe;switch(le&&(se.dataset.name=le),ce&&(se.id=ce),fe&&(se.classList.value=fe),pe&&applyAnimatedCSSProps(se,pe),oe.type==="svg"&&se.setAttribute("xmlns","http://www.w3.org/2000/svg"),oe.type){case"svg":case"g":case"defs":case"clipPath":case"mask":{typeof oe.elements=="string"?se.innerHTML=oe.elements:renderFrameElements(se,oe.elements,K,te);break}}if(K&&oe.animated){const me=te.get(se)??new Map,ve=me.get("__animator__");if(ve)ve.settingsRef.current={...oe.animatedSettings,animated:oe.animated};else{const ye=createAnimatedElement({element:se,animator:K,settingsRef:{current:{...oe.animatedSettings,animated:oe.animated}}});me.set("__animator__",ye)}te.set(se,me)}se.parentNode||Z.appendChild(se)}},formatFrameDimension=(size,dimension)=>{if(typeof dimension=="number")return String(dimension);if(/[^\d.\-+*/%\s()]/.test(dimension))throw new Error("ARWES frames does not support formulas with text different from math expressions.");const formula=String(dimension).replace(/(\d{1,}\.)?\d{1,}%/g,Z=>String(size*(Number(Z.replace("%",""))/100)));return String(eval(formula))},formatCommand=(Z,_,K)=>{if(Array.isArray(K)){const[te,...ne]=K;if(te==="H"||te==="h")return`${te} ${formatFrameDimension(Z,ne[0])}`;if(te==="V"||te==="v")return`${te} ${formatFrameDimension(_,ne[0])}`;if(te==="A"||te==="a"){const[oe,se,le,ce,fe,pe,me]=ne,ve=[formatFrameDimension(Z,oe),formatFrameDimension(_,se),le,ce,fe,formatFrameDimension(Z,pe),formatFrameDimension(_,me)].join(",");return te+" "+ve}const ie=ne.map((oe,se)=>{const ce=se%2===0?Z:_;return formatFrameDimension(ce,oe)}).join(",");return te+" "+ie}return K},formatFramePath=(Z,_,K)=>K.map(te=>formatCommand(Z,_,te)).join(" "),drawFrameElements=(Z,_,K,te,ne)=>{const ie=Array.from(Z.children);for(let oe=0;oe<te.length;oe++){const se=ie[oe],le={...te[oe]},ce=le.contexts?Object.keys(le.contexts):[];if(!se)throw new Error("ARWES frame elements did not match the original setup on drawing.");if(le.type===void 0||le.type==="path"){for(const pe of ce){const me=ne[pe],ve=le.contexts[pe][me];ve&&ve.path&&(le.path=ve.path)}const fe=typeof le.path=="string"?le.path:typeof le.path=="function"?le.path({width:_,height:K}):formatFramePath(_,K,le.path);se.getAttribute("d")!==fe&&se.setAttribute("d",fe)}else if(le.type==="rect"){for(const fe of ce){const pe=ne[fe],me=le.contexts[fe][pe];me&&(me.x!==void 0&&(le.x=me.x),me.y!==void 0&&(le.y=me.y),me.width!==void 0&&(le.width=me.width),me.height!==void 0&&(le.height=me.height),me.rx!==void 0&&(le.rx=me.rx),me.ry!==void 0&&(le.ry=me.ry))}se.setAttribute("x",formatFrameDimension(_,le.x)),se.setAttribute("y",formatFrameDimension(K,le.y)),se.setAttribute("width",formatFrameDimension(_,le.width)),se.setAttribute("height",formatFrameDimension(K,le.height)),le.rx!==void 0&&se.setAttribute("rx",String(le.rx)),le.ry!==void 0&&se.setAttribute("ry",String(le.ry))}else if(le.type==="ellipse"){let fe=le.cx,pe=le.cy,me=le.rx,ve=le.ry;for(const ye of ce){const Ee=ne[ye],Se=le.contexts[ye][Ee];Se&&(Se.cx!==void 0&&(fe=Se.cx),Se.cy!==void 0&&(pe=Se.cy),Se.rx!==void 0&&(me=Se.rx),Se.ry!==void 0&&(ve=Se.ry))}fe=formatFrameDimension(_,fe),pe=formatFrameDimension(K,pe),me=formatFrameDimension(_,me),ve=formatFrameDimension(K,ve),se.setAttribute("cx",fe),se.setAttribute("cy",pe),se.setAttribute("rx",me),se.setAttribute("ry",ve)}else if(le.type==="svg"){let fe=le.viewBox,pe=le.x,me=le.y,ve=le.width,ye=le.height;for(const Ee of ce){const Se=ne[Ee],_e=le.contexts[Ee][Se];_e&&(_e.viewBox!==void 0&&(fe=_e.viewBox),_e.x!==void 0&&(pe=_e.x),_e.y!==void 0&&(me=_e.y),_e.width!==void 0&&(ve=_e.width),_e.height!==void 0&&(ye=_e.height))}ve=formatFrameDimension(_,ve),ye=formatFrameDimension(K,ye),pe=formatFrameDimension(_,pe),me=formatFrameDimension(K,me),se.setAttribute("viewBox",fe),se.setAttribute("x",pe),se.setAttribute("y",me),se.setAttribute("width",ve),se.setAttribute("height",ye),Array.isArray(le.elements)&&drawFrameElements(se,+ve,+ye,le.elements,ne)}switch(le.type){case"g":case"defs":case"clipPath":case"mask":{Array.isArray(le.elements)&&drawFrameElements(se,_,K,le.elements,ne);break}}le.draw&&le.draw({element:se,width:_,height:K})}},transitionElement=(Z,_,K,te)=>{var ie;if(!te.contexts)return;const ne=Object.keys(te.contexts);ne.map(oe=>te.contexts[oe]).filter(Boolean).map(oe=>Object.keys(oe).map(se=>oe[se]).map(se=>se==null?void 0:se.className)).flat().filter(Boolean).forEach(oe=>Z.classList.remove(oe));for(const oe of ne){const le=te.contexts[oe][_[oe]];if(le&&(le.className&&Z.classList.add(le.className),le.style&&applyAnimatedCSSProps(Z,le.style),le.animate)){const ce=K.get(Z)??new Map;(ie=ce.get(oe))==null||ie.cancel();const fe=createAnimatedXElement({element:Z,settingsRef:{current:{state:"initial",animated:{transitions:{initial:le.animate}}}}});ce.set(oe,fe)}}},transitionFrameElements=(Z,_,K,te)=>{const ne=Array.from(Z.children);for(let ie=0;ie<te.length;ie++){const oe=ne[ie],se=te[ie];if(!oe)throw new Error("ARWES frame elements did not match the original setup on transition.");switch(transitionElement(oe,_,K,se),se.type){case"svg":case"g":case"defs":case"clipPath":case"mask":{Array.isArray(se.elements)&&transitionFrameElements(oe,_,K,se.elements);break}}}},createFrame=(Z,_)=>{if(!(Z instanceof SVGSVGElement))throw new Error("ARWES createFrame requires a <svg> element.");const{animator:K}=_;let te=0,ne=0,ie;const oe=_.container??document.createElementNS("http://www.w3.org/2000/svg","g"),se={..._.contexts},le=new Map,ce=()=>{te=Math.floor(Z.clientWidth),ne=Math.floor(Z.clientHeight),Z.getAttribute("viewBox")!==`0 0 ${te} ${ne}`&&Z.setAttribute("viewBox",`0 0 ${te} ${ne}`)},fe=()=>{renderFrameElements(oe,_.elements,K,le)},pe=()=>{te<=0||ne<=0||drawFrameElements(oe,te,ne,_.elements,se)},me=(Se,_e)=>{se[Se]=_e,pe(),transitionFrameElements(oe,se,le,_.elements)},ve=()=>{ie.disconnect(),le.forEach(Se=>Se.forEach(_e=>_e.cancel()))},ye=()=>{ve(),Array.from(oe.children).forEach(Se=>Se.remove())};if(oe.dataset.frame="",oe.style.setProperty("vector-effect","non-scaling-stroke"),ce(),fe(),pe(),se){const Se=Object.keys(se);for(const _e of Se)me(_e,se[_e])}oe.parentNode||Z.appendChild(oe);let Ee=!0;return ie=new ResizeObserver(()=>{if(Ee){Ee=!1;return}ce(),pe()}),ie.observe(Z),Object.freeze({get contexts(){return Object.freeze({...se})},render:()=>{ce(),fe(),pe()},transition:me,cancel:ve,remove:ye})},defaultProps$9={styled:!0,animated:!0,padding:0,squareSize:16,strokeWidth:1},createFrameUnderlineSettings=Z=>{const{styled:_,animated:K,squareSize:te,strokeWidth:ne,padding:ie}={...defaultProps$9,...Z?filterProps(Z):null},oe=ne/2;return{elements:[{name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&["fade"],path:[["M",ie,ie],["L",ie,`100% - ${ie}`],["L",`100% - ${te} - ${ie}`,`100% - ${ie}`],["L",`100% - ${ie}`,`100% - ${te} - ${ie}`],["L",`100% - ${ie}`,ie]]},{name:"line",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ne)},animated:K&&{transitions:{entering:({element:se,duration:le})=>animateDraw({isEntering:!0,element:se,duration:le}),exiting:({element:se,duration:le})=>animateDraw({isEntering:!1,element:se,duration:le})}},path:[["M",oe+ie,`100% - ${oe} - ${ie}`],["L",`100% - ${te} - ${ie}`,`100% - ${oe} - ${ie}`],["L",`100% - ${oe} - ${ie}`,`100% - ${te-oe} - ${ie}`]]}]}},defaultProps$8={styled:!0,animated:!0,padding:0,largeLineWidth:1,smallLineWidth:1,smallLineLength:16},createFrameLinesSettings=Z=>{const{styled:_,animated:K,padding:te,largeLineWidth:ne,smallLineWidth:ie,smallLineLength:oe}={...defaultProps$8,...Z?filterProps(Z):null},se=[[["M",te,te+ne/2],["H","50% + 0.1"]],[["M",`100% - ${te+ne/2}`,te+ne/2],["H","50% - 0.1"]],[["M",te+ne/2,`100% - ${te+ne/2}`],["H","50% + 0.1"]],[["M",`100% - ${te+ne/2}`,`100% - ${te+ne/2}`],["H","50% - 0.1"]]],le=[[["M",te,te+ie/2],["h",oe]],[["M",`100% - ${te}`,te+ie/2],["h",-oe]],[["M",te,`100% - ${te+ie/2}`],["h",oe]],[["M",`100% - ${te}`,`100% - ${te+ie/2}`],["h",-oe]]];return{elements:[{type:"rect",name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&["fade"],x:te,y:te,width:`100% - ${te*2}`,height:`100% - ${te*2}`},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeWidth:String(ne)},elements:se.map(ce=>({name:"line",animated:K&&["draw"],path:ce}))},{type:"g",style:{filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,strokeWidth:String(ie)},animated:K&&{transitions:{entering:({element:ce,duration:fe,animate:pe})=>pe(ce,{opacity:[0,1,.5,1]},{duration:fe/2}),exiting:({element:ce,duration:fe,animate:pe})=>pe(ce,{opacity:[1,0,.5,0]},{duration:fe/2})}},elements:le.map(ce=>({name:"deco",path:ce}))}]}},defaultProps$7={styled:!0,animated:!0,padding:0,strokeWidth:1,cornerLength:16},createFrameCornersSettings=Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,cornerLength:ie}={...defaultProps$7,...Z?filterProps(Z):null},oe=ne/2,se=[[["M",oe+te,oe+te],["L",oe+te,ie+te]],[["M",oe+te,oe+te],["L",ie+te,oe+te]],[["M",`100% - ${oe} - ${te}`,oe+te],["L",`100% - ${ie} - ${te}`,oe+te]],[["M",`100% - ${oe} - ${te}`,oe+te],["L",`100% - ${oe} - ${te}`,ie+te]],[["M",`100% - ${oe} - ${te}`,`100% - ${oe} - ${te}`],["L",`100% - ${oe} - ${te}`,`100% - ${ie} - ${te}`]],[["M",`100% - ${oe} - ${te}`,`100% - ${oe} - ${te}`],["L",`100% - ${ie} - ${te}`,`100% - ${oe} - ${te}`]],[["M",oe+te,`100% - ${oe} - ${te}`],["L",ie+te,`100% - ${oe} - ${te}`]],[["M",oe+te,`100% - ${oe} - ${te}`],["L",oe+te,`100% - ${ie} - ${te}`]]];return{elements:[{type:"rect",name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&["fade"],x:te+ne,y:te+ne,width:`100% - ${(te+ne)*2}`,height:`100% - ${(te+ne)*2}`},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ne)},elements:se.map(le=>({type:"path",name:"line",animated:K&&{transitions:{entering:({element:ce,duration:fe})=>animateDraw({isEntering:!0,element:ce,duration:fe}),exiting:({element:ce,duration:fe})=>animateDraw({isEntering:!1,element:ce,duration:fe})}},path:le}))}]}},defaultProps$6={styled:!0,animated:!0,padding:0,leftTop:!0,rightTop:!0,rightBottom:!0,leftBottom:!0,squareSize:16,strokeWidth:1},createFrameOctagonSettings=Z=>{const{styled:_,animated:K,padding:te,leftTop:ne,rightTop:ie,rightBottom:oe,leftBottom:se,squareSize:le,strokeWidth:ce}={...defaultProps$6,...Z?filterProps(Z):null},fe=ce/2;return{elements:[{type:"path",name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&["fade"],path:[...ne?[["M",te+fe,te+fe+le],["l",le,-le]]:[["M",te+fe,te+fe]],...ie?[["H",`100% - ${te+fe+le}`],["l",le,le]]:[["H",`100% - ${te+fe}`]],...oe?[["V",`100% - ${te+fe+le}`],["l",-le,le]]:[["V",`100% - ${te+fe}`]],...se?[["H",te+fe+le],["l",-le,-le]]:[["H",te+fe]],"Z"]},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ce)},elements:[{type:"path",name:"line",animated:K&&["draw"],path:[...ne?[["M",te+fe,te+fe+le],["l",le,-le]]:[["M",te+fe,te+fe]],...ie?[["H",`100% - ${te+fe+le}`],["l",le,le]]:[["H",`100% - ${te+fe}`]],...oe?[["V",`100% - ${te+fe+le}`]]:[["V",`100% - ${te+fe}`]]]},{type:"path",name:"line",animated:K&&["draw"],path:[...oe?[["M",`100% - ${te+fe}`,`100% - ${te+fe+le}`],["l",-le,le]]:[["M",`100% - ${te+fe}`,`100% - ${te+fe}`]],...se?[["H",te+fe+le],["l",-le,-le]]:[["H",te+fe]],...ne?[["V",te+fe+le]]:[["V",te+fe]]]}]}]}},defaultProps$5={styled:!0,animated:!0,padding:0,cornerLength:24,cornerWidth:2},createFrameNeroSettings=Z=>{const{styled:_,animated:K,padding:te,cornerWidth:ne,cornerLength:ie}={...defaultProps$5,...Z?filterProps(Z):null},oe=ie/2,se=ie/2-ne*2;return{elements:[{type:"rect",name:"bg",x:te,y:te,width:`100% - ${te*2}`,height:`100% - ${te*2}`,style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:_?"0":void 0},animated:K&&{initialStyle:{opacity:0},transitions:{entering:({element:le,duration:ce,animate:fe})=>fe(le,{opacity:1},{delay:ce/2,duration:ce/2}),exiting:({element:le,duration:ce,animate:fe})=>fe(le,{opacity:0},{duration:ce/2})}}},{type:"g",style:{filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,strokeWidth:_?"0":void 0},animated:K&&{transitions:{entering:({element:le,duration:ce,animate:fe})=>fe(le,{opacity:[0,1,.5,1]},{duration:ce/2}),exiting:({element:le,duration:ce,animate:fe})=>fe(le,{opacity:[1,0,.5,0]},{delay:ce/2,duration:ce/2})}},elements:[{type:"path",name:"deco",animated:K&&[["x",oe,0,void 0,"outExpo"],["y",oe,0,void 0,"outExpo"]],path:[["M",te,te],["h",ie],["l",-ne,ne],["h",-oe],["l",-se,se],["v",oe],["l",-ne,ne],"z"]},{type:"path",name:"deco",animated:K&&[["x",-oe,0,void 0,"outExpo"],["y",oe,0,void 0,"outExpo"]],path:[["M",`100% - ${te}`,te],["v",ie],["l",-ne,-ne],["v",-oe],["l",-se,-se],["h",-oe],["l",-ne,-ne],"z"]},{type:"path",name:"deco",animated:K&&[["x",-oe,0,void 0,"outExpo"],["y",-oe,0,void 0,"outExpo"]],path:[["M",`100% - ${te}`,`100% - ${te}`],["h",-ie],["l",ne,-ne],["h",oe],["l",se,-se],["v",-oe],["l",ne,-ne],"z"]},{type:"path",name:"deco",animated:K&&[["x",oe,0,void 0,"outExpo"],["y",-oe,0,void 0,"outExpo"]],path:[["M",te,`100% - ${te}`],["h",ie],["l",-ne,-ne],["h",-oe],["l",-se,-se],["v",-oe],["l",-ne,-ne],"z"]}]}]}},defaultProps$4={styled:!0,animated:!0,padding:0,leftTop:!0,leftBottom:!1,rightTop:!1,rightBottom:!0,squareSize:16,strokeWidth:1,smallLineLength:16,largeLineLength:64},createFrameNefrexSettings=Z=>{const{styled:_,animated:K,padding:te,leftTop:ne,leftBottom:ie,rightTop:oe,rightBottom:se,squareSize:le,strokeWidth:ce,smallLineLength:fe,largeLineLength:pe}={...defaultProps$4,...Z?filterProps(Z):null},me=ce/2,ve=ne?[["M",te+me,te+me+le+fe],["v",-fe],["l",le,-le],["h",pe]]:[["M",te+me,te+me]],ye=oe?[["L",`100% - ${te+me+le+pe}`,te+me],["h",pe],["l",le,le],["v",fe]]:[["L",`100% - ${te+me}`,te+me]],Ee=se?[["L",`100% - ${te+me}`,`100% - ${te+me+le+fe}`],["v",fe],["l",-le,le],["h",-pe]]:[["L",`100% - ${te+me}`,`100% - ${te+me}`]],Se=ie?[["L",te+me+le+pe,`100% - ${te+me}`],["h",-pe],["l",-le,-le],["v",-fe]]:[["L",te+me,`100% - ${te+me}`]];return{elements:[{name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&{transitions:{entering:({element:Te,duration:Re,animate:Pe})=>Pe(Te,{opacity:[0,1]},{duration:Re/2,delay:Re/2}),exiting:({element:Te,duration:Re,animate:Pe,easing:Fe})=>Pe(Te,{opacity:[1,0]},{duration:Re/2,easing:Fe.outExpo})}},path:ve.concat(ye).concat(Ee).concat(Se)},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ce)},elements:[{type:"g",animated:K&&[["x",le,0,void 0,"outExpo"]],elements:[ne&&{name:"line",animated:K&&["draw"],path:[["M",te+me,te+me+le+fe],["v",-fe],["l",le,-le],["h",pe]]},ie&&{name:"line",animated:K&&["draw"],path:[["M",te+me,`100% - ${te+me+le+fe}`],["v",fe],["l",le,le],["h",pe]]}].filter(Boolean)},{type:"g",animated:K&&[["x",-le,0,void 0,"outExpo"]],elements:[oe&&{name:"line",animated:K&&["draw"],path:[["M",`100% - ${te+me}`,te+me+le+fe],["v",-fe],["l",-le,-le],["h",-pe]]},se&&{name:"line",animated:K&&["draw"],path:[["M",`100% - ${te+me}`,`100% - ${te+me+le+fe}`],["v",fe],["l",-le,le],["h",-pe]]}].filter(Boolean)}]}]}},defaultProps$3={styled:!0,animated:!0,padding:0,strokeWidth:2,bgStrokeWidth:0,squareSize:16,smallLineLength:16,largeLineLength:64},toPath=Z=>Z.map((_,K)=>[K===0?"M":"L",..._]),createFrameKranoxSettings=Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,bgStrokeWidth:ie,squareSize:oe,smallLineLength:se,largeLineLength:le}={...defaultProps$3,...Z?filterProps(Z):null},ce=ne/2,fe=ie/2,pe=[[te+fe+oe*2,`100% - ${te+fe+ne*2}`],[te+fe+oe,`100% - ${te+fe+ne*2+oe}`],[te+fe+oe,te+fe+ne*2+le+oe*3+se],[te+fe,te+fe+ne*2+le+oe*2+se],[te+fe,te+fe+ne*2+oe*2+se],[te+fe+oe,te+fe+ne*2+se+oe],[te+fe+oe,te+fe+ne+oe],[te+fe+oe*2-ne,te+fe+ne*2],[`100% - ${te+fe+oe*2}`,te+fe+ne*2]],me=[[`100% - ${te+fe+oe*2}`,te+fe+ne*2],[`100% - ${te+fe+oe}`,te+fe+ne*2+oe],[`100% - ${te+fe+oe}`,`100% - ${te+fe+ne*2+oe*3+se+le}`],[`100% - ${te+fe}`,`100% - ${te+fe+ne*2+oe*2+se+le}`],[`100% - ${te+fe}`,`100% - ${te+fe+ne*2+oe*2+se}`],[`100% - ${te+fe+oe}`,`100% - ${te+fe+ne*2+oe+se}`],[`100% - ${te+fe+oe}`,`100% - ${te+fe+ne+oe}`],[`100% - ${te+fe+oe*2-ne}`,`100% - ${te+fe+ne*2}`],[fe+te+oe*2,`100% - ${te+fe+ne*2}`]],ve=[[te+ce-ne*2+oe,te+ce+oe+se],[te+ce-ne*2+oe,te+ce+oe],[te+ce-ne*2+oe*2,te+ce],[te+ce-ne*2+oe*2+le,te+ce]],ye=[[`100% - ${te+ce+oe} + ${ne*2}`,`100% - ${te+ce+oe+se}`],[`100% - ${te+ce+oe} + ${ne*2}`,`100% - ${te+ce+oe}`],[`100% - ${te+ce+oe*2} + ${ne*2}`,`100% - ${te+ce}`],[`100% - ${te+ce+oe*2+le} + ${ne*2}`,`100% - ${te+ce}`]];return{elements:[{name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,stroke:_?"var(--arwes-frames-bg-stroke, currentcolor)":void 0,strokeWidth:String(ie)},animated:K&&["fade"],path:toPath(pe.concat(me))},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ne)},elements:[{name:"line",animated:K&&["draw"],path:toPath(ve)},{name:"line",animated:K&&["draw"],path:toPath(ye)}]}]}},defaultProps$2={styled:!0,animated:!0,padding:0,strokeWidth:1,decoWidth:4,direction:"horizontal",align:"left",contentLength:0},createFrameHeaderSettings=Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,decoWidth:ie,direction:oe,align:se,contentLength:le}={...defaultProps$2,...Z?filterProps(Z):null},ce=ne/2,fe={filter:_?"var(--arwes-frames-line-filter)":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,fill:_?"none":void 0,strokeWidth:String(ne)},pe={filter:_?"var(--arwes-frames-deco-filter)":void 0,stroke:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,fill:_?"none":void 0,strokeWidth:String(ne)},me={filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,strokeWidth:"0"},ve=K?{transitions:{entering:({element:Te,duration:Re})=>animate(Te,{opacity:[0,1,.5,1]},{duration:Re*.4}),exiting:({element:Te,duration:Re})=>animate(Te,{opacity:[1,0,.5,0]},{duration:Re*.4,delay:Re*.6})}}:void 0,ye=K?["draw"]:void 0,Ee=K?{transitions:{entering:({element:Te,duration:Re})=>animate(Te,{opacity:[0,1,.5,1]},{delay:Re*.6,duration:Re*.4}),exiting:{opacity:[1,0,.5,0]}}}:void 0,Se=[{type:"rect",x:0,y:0,width:"100%",height:"20%"},{type:"rect",x:0,y:"40%",width:"100%",height:"20%"},{type:"rect",x:0,y:"80%",width:"100%",height:"20%"}];if(oe==="vertical")return se==="bottom"?{elements:[{type:"path",name:"deco",style:pe,animated:ve,path:[["M",le?`100% - ${te+ce}`:te+ce,`100% - ${te}`],["v",-ie*2],["m",0,-ie],["v",-ie*2]]},{type:"path",name:"line",style:fe,animated:ye,path:({width:Te,height:Re})=>["M",le?Te-(te+ce):te+ce,Re-(te+ie*6),"v",-Math.max(0,le-ie*6),"L",le?Te*.5:te+ce,Re-(te+le+Te*.5),"V",te+ie*6.5].join(" ")},{type:"g",name:"deco",style:{...me,skewY:-45,transformOrigin:le?"top center":"top left"},animated:Ee,elements:[{type:"svg",viewBox:`0 0 ${ie*2} ${ie*5}`,x:le?`50% - ${ce}`:te,y:te+ie*2,width:ie*2,height:ie*5,elements:Se}]}]}:{elements:[{type:"path",name:"deco",style:pe,animated:ve,path:[["M",le?`100% - ${te+ce}`:te+ce,te],["v",ie*2],["m",0,ie],["v",ie*2]]},{type:"path",name:"line",style:fe,animated:ye,path:({width:Te,height:Re})=>["M",le?Te-(te+ce):te+ce,te+ie*6,"v",Math.max(0,le-ie*6),"L",le?Te*.5:te+ce,te+le+Te*.5,"V",Re-(te+ie*6.5)].join(" ")},{type:"g",name:"deco",style:{...me,transformOrigin:le?"bottom center":"bottom left",skewY:45},animated:Ee,elements:[{type:"svg",viewBox:`0 0 ${ie*2} ${ie*5}`,x:le?`50% - ${ce}`:te,y:`100% - ${te+ie*7}`,width:ie*2,height:ie*5,elements:Se}]}]};const _e=[{type:"rect",x:0,y:0,width:"20%",height:"100%"},{type:"rect",x:"40%",y:0,width:"20%",height:"100%"},{type:"rect",x:"80%",y:0,width:"20%",height:"100%"}];return se==="right"?{elements:[{type:"path",name:"deco",style:pe,animated:ve,path:[["M",`100% - ${te}`,le?`100% - ${te+ce}`:te+ce],["h",-ie*2],["m",-ie,0],["h",-ie*2]]},{type:"path",name:"line",style:fe,animated:ye,path:({width:Te,height:Re})=>["M",Te-(te+ie*6),le?Re-(te+ce):te+ce,"h",-Math.max(0,le-ie*6),"L",Te-(te+le+Re*.5),le?Re*.5:te+ce,"H",te+ie*6.5].join(" ")},{type:"g",name:"deco",animated:Ee,style:{...me,transformOrigin:le?"left center":"left top",skewX:-45},elements:[{type:"svg",viewBox:`0 0 ${ie*5} ${ie*2}`,x:te+ie*2,y:le?`50% - ${ce}`:te,width:ie*5,height:ie*2,elements:_e}]}]}:{elements:[{type:"path",name:"deco",style:pe,animated:ve,path:[["M",te,le?`100% - ${te+ce}`:te+ce],["h",ie*2],["m",ie,0],["h",ie*2]]},{type:"path",name:"line",style:fe,animated:ye,path:({width:Te,height:Re})=>["M",te+ie*6,le?Re-(te+ce):te+ce,"h",Math.max(0,le-ie*6),"L",te+le+Re*.5,le?Re*.5:te+ce,"H",Te-(te+ie*6.5)].join(" ")},{type:"g",name:"deco",animated:Ee,style:{...me,transformOrigin:le?"right center":"right top",skewX:45},elements:[{type:"svg",viewBox:`0 0 ${ie*5} ${ie*2}`,x:`100% - ${te+ie*7}`,y:le?`50% - ${ce}`:te,width:ie*5,height:ie*2,elements:_e}]}]}},defaultProps$1={styled:!0,animated:!0,padding:0,strokeWidth:1,separation:0,sideWidth:24},createFrameCircleSettings=Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,separation:ie,sideWidth:oe}={...defaultProps$1,...Z?filterProps(Z):null},se=ne/2;return{elements:[{type:"g",style:{transformOrigin:"center"},animated:K&&{initialStyle:{rotate:-45},transitions:{entering:{rotate:[-45,0],easing:"outExpo"},exiting:{rotate:[0,45],easing:"outExpo"}}},elements:[{type:"g",animated:K&&{transitions:{entering:({element:le,duration:ce})=>animate(le,{opacity:[0,1]},{delay:ce/2,duration:ce/2}),exiting:({element:le,duration:ce})=>animate(le,{opacity:[1,0]},{duration:ce/2})}},elements:[{type:"ellipse",name:"bg",cx:"50%",cy:"50%",rx:`50% - ${te+ne+ne*3+ie}`,ry:`50% - ${te+ne+ne*3+ie}`,style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0}},{type:"ellipse",name:"line",cx:"50%",cy:"50%",rx:`50% - ${te+se+ne*3}`,ry:`50% - ${te+se+ne*3}`,style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeWidth:String(ne)}}]},{type:"g",name:"deco",style:{transformOrigin:"center"},animated:K&&{transitions:{entering:({element:le,duration:ce})=>animate(le,{opacity:[0,1,.5,1],scale:[.9,1]},{duration:ce/2}),exiting:({element:le,duration:ce})=>animate(le,{opacity:[1,0,.5,0],scale:[1,.9]},{delay:ce/2,duration:ce/2})}},elements:[{type:"ellipse",cx:"50%",cy:"50%",rx:`50% - ${te+se+ne*3}`,ry:`50% - ${te+se+ne*3}`,style:{filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,strokeWidth:String(ne),transformOrigin:"center",rotate:-22.5},draw:({element:le})=>{const fe=Number(le.getAttribute("rx"))*Math.PI*2;le.setAttribute("stroke-dasharray",String(fe/8))}},{type:"g",style:{filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,stroke:_?"none":void 0,strokeWidth:"0"},elements:[{type:"path",path:[["M",te,`50% - ${oe*.2}`],["l",ne*2,-oe*.3],["h",ne*2],["v",oe],["h",-ne*2],["l",-ne*2,-oe*.3],"z"]},{type:"path",path:[["M",`100% - ${te}`,`50% - ${oe*.2}`],["l",-ne*2,-oe*.3],["h",-ne*2],["v",oe],["h",ne*2],["l",ne*2,-oe*.3],"z"]},{type:"path",path:[["M",`50% + ${oe*.2}`,te],["l",oe*.3,ne*2],["v",ne*2],["h",-oe],["v",-ne*2],["l",oe*.3,-ne*2],"z"]},{type:"path",path:[["M",`50% + ${oe*.2}`,`100% - ${te}`],["l",oe*.3,-ne*2],["v",-ne*2],["h",-oe],["v",ne*2],["l",oe*.3,ne*2],"z"]}]}]}]}]}},animateFrameAssembler=Z=>{const{element:_,duration:K,isEntering:te=!0}=Z,ne=Array.from(_.querySelectorAll("[data-name=bg]")),ie=Array.from(_.querySelectorAll("[data-name=line]")),oe=Array.from(_.querySelectorAll("[data-name=deco]")),se=[...ne,...ie,...oe];for(const fe of ie){const pe=fe.getTotalLength();fe.style.opacity="1",fe.style.strokeDasharray=String(pe),fe.dataset.length=String(pe)}const le=ie.map(fe=>{const pe=Number(fe.dataset.length);return[fe,{strokeDashoffset:[pe,0]},{at:0,duration:K,easing:easing.outSine}]}),ce=timeline([[ne,{opacity:[0,1]},{at:0,duration:K/2,easing:easing.outSine}],[oe,{opacity:[0,1,.5,1]},{at:K/2,duration:K/2,easing:easing.outSine}],...le],{direction:te?"normal":"reverse"});return ce.finished.then(()=>{for(const fe of se)fe.style.opacity=te?"1":"0";for(const fe of ie)fe.style.strokeDasharray="",fe.style.strokeDashoffset=""}),ce},styleFrameClipOctagon=Z=>{const{squareSize:_="16px",leftTop:K=!0,leftBottom:te=!0,rightTop:ne=!0,rightBottom:ie=!0}=Z??{},oe=typeof _=="number"?`${_}px`:_,se=K?`0 ${oe},
${oe} 0,`:"0 0,",le=ne?`calc(100% - ${oe}) 0,
100% ${oe},`:"100% 0,",ce=ie?`100% calc(100% - ${oe}),
calc(100% - ${oe}) 100%,`:"100% 100%,",fe=te?`${oe} 100%,
0 calc(100% - ${oe})`:"0 100%";return`polygon(
${se}
${le}
${ce}
${fe}
)`},createEffectIlluminator=Z=>{const{container:_,color:K="hsl(0 0% 50% / 5%)",size:te=300,className:ne,style:ie}=Z,oe=document.createElement("div");oe.role="presentation",oe.dataset.name="illuminator",ne&&(oe.className=ne),Object.assign(oe.style,{position:"absolute",left:0,top:0,width:`${te}px`,height:`${te}px`,background:`radial-gradient(closest-side, ${K}, transparent)`,opacity:0,transition:"opacity 200ms ease-out",pointerEvents:"none",...ie});let se,le,ce,fe,pe;const me=Ee=>{se=_.getBoundingClientRect(),le=Ee.clientX-se.left,ce=Ee.clientY-se.top,fe=le>=-(te/2)&&le<=se.width+te/2&&ce>=-(te/2)&&ce<=se.height+te/2,pe=fe?"1":"0",oe.style.opacity!==pe&&(oe.style.opacity=pe),fe&&(oe.style.transform=`translate(calc(${le}px - 50%), calc(${ce}px - 50%))`)},ve=()=>{oe.style.opacity!=="0"&&(oe.style.opacity="0")};return _.appendChild(oe),document.addEventListener("mousemove",me),document.addEventListener("mouseleave",ve),Object.freeze({cancel:()=>{oe.remove(),document.removeEventListener("mousemove",me),document.removeEventListener("mouseleave",ve)}})},createEffectIlluminatorSVG=Z=>{const{svg:_,container:K,color:te="hsl(0 0% 50% / 5%)",size:ne=300,className:ie,style:oe}=Z,se=document.createElementNS("http://www.w3.org/2000/svg","g"),le=`illuminator-${Math.random()}`;se.dataset.name="illuminator",ie&&se.classList.add(ie),Object.assign(se.style,oe),se.innerHTML=`
    <defs>
      <radialGradient id="${le}">
        <stop offset="0%" stop-color="${te}" />
        <stop offset="100%" stop-color="transparent" />
      </radialGradient>
    </defs>
    <circle
      r="${ne/2}"
      style="
        position: absolute;
        transition: opacity 200ms ease-out;
        opacity: 0;
      "
      fill="url(#${le})"
    />
  `;const ce=se.querySelector("circle");ce.style.transform=`translate(-${ne/2}px, -${ne/2}px)`;const fe=ve=>{const ye=_.getBoundingClientRect(),Ee=ve.clientX-ye.left+ne/2,Se=ve.clientY-ye.top+ne/2;ce.style.opacity="1",ce.setAttribute("cx",String(Ee)),ce.setAttribute("cy",String(Se))},pe=()=>{ce.style.opacity="0"};return K.appendChild(se),document.addEventListener("mousemove",fe),document.addEventListener("mouseleave",pe),Object.freeze({cancel:()=>{se.remove(),document.removeEventListener("mousemove",fe),document.removeEventListener("mouseleave",pe)}})},useAnimated=(Z,_,K)=>{const te=useAnimator(),ne=reactExports.useRef({animated:void 0});ne.current={...K,animated:_},reactExports.useEffect(()=>{const ie=Z.current;if(!ie||!te)return;const oe=createAnimatedElement({element:ie,animator:te.node,settingsRef:ne});return()=>oe.cancel()},[te])},AnimatedComponent=Z=>{const{as:_,animated:K,className:te,style:ne,elementRef:ie,hideOnExited:oe=!0,hideOnEntered:se,onTransition:le,...ce}=Z,fe=useAnimator(),pe=reactExports.useMemo(()=>_||"div",[]),me=reactExports.useRef(null);useAnimated(me,K,{renderInitials:!1,hideOnExited:oe,hideOnEntered:se,onTransition:le});const ye=(Array.isArray(K)?K:[K]).map(_e=>typeof _e=="string"||Array.isArray(_e)?void 0:_e).filter(Boolean);let Ee;fe&&(Ee=ye.map(_e=>_e?_e.initialAttributes:void 0).reduce((_e,Te)=>({..._e,...Te}),{}));let Se;return fe&&(Se=ye.map(_e=>_e?_e.initialStyle:void 0).filter(Boolean).map(_e=>formatAnimatedCSSProps(_e)).reduce((_e,Te)=>({..._e,...Te}),{})),reactExports.createElement(pe,{...ce,...Ee,ref:mergeRefs$2(ie,me),className:te,style:{...ne,visibility:fe&&(oe&&fe.node.state==="exited"||se&&fe.node.state==="entered")?"hidden":"",...Se}})},Animated$1=memo(AnimatedComponent),Animated=reactExports.memo(reactExports.forwardRef((Z,_)=>reactExports.createElement(Animated$1,{elementRef:_,...Z}))),useAnimatedX=(Z,_,K,te)=>{const ne=reactExports.useRef({});ne.current={...te,state:Z,animated:K},reactExports.useEffect(()=>{const ie=_.current;if(Z==null||!ie)return;const oe=createAnimatedXElement({element:ie,settingsRef:ne});return()=>oe.cancel()},[Z])},AnimatedX=Z=>{const{as:_,state:K,hideOnStates:te=[],animated:ne,className:ie,style:oe,elementRef:se,...le}=Z,ce=K!=null,fe=reactExports.useMemo(()=>_||"div",[]),pe=reactExports.useRef(null);useAnimatedX(K,pe,ne,{renderInitials:!1,hideOnStates:te});const ve=(Array.isArray(ne)?ne:[ne]).filter(Boolean);let ye;ce&&(ye=ve.map(Se=>Se==null?void 0:Se.initialAttributes).reduce((Se,_e)=>({...Se,..._e}),{}));let Ee;return ce&&(Ee=ve.map(Se=>Se.initialStyle).filter(Boolean).map(Se=>formatAnimatedCSSProps(Se)).reduce((Se,_e)=>({...Se,..._e}),{})),reactExports.createElement(fe,{...le,...ye,ref:mergeRefs$2(se,pe),className:ie,style:{...oe,visibility:ce&&te.includes(K)?"hidden":"",...Ee}})};reactExports.memo(reactExports.forwardRef((Z,_)=>reactExports.createElement(AnimatedX,{elementRef:_,...Z})));const BleepsManagerContext=reactExports.createContext(null),BleepsProvider$1=Z=>{const{master:_,common:K,categories:te,bleeps:ne,children:ie}=Z,oe=reactExports.useMemo(()=>createBleepsManager({master:_,common:K,categories:te,bleeps:ne}),[]);return reactExports.useEffect(()=>{oe==null||oe.update({master:_,common:K,categories:te,bleeps:ne})},[_,K,te,ne]),reactExports.useEffect(()=>()=>{oe==null||oe.update({common:{muted:!0}}),oe==null||oe.unload()},[]),React.createElement(BleepsManagerContext.Provider,{value:oe},ie)},BleepsProvider=memo(BleepsProvider$1),defaultProps={},useBleeps=(Z=defaultProps)=>{if(Z.disabled)return{};const _=reactExports.useContext(BleepsManagerContext);return(_==null?void 0:_.bleeps)??{}},Text$1=memo(Z=>{const{as:_="p",className:K,contentClassName:te,contentStyle:ne,children:ie,manager:oe,easing:se,fixed:le,blink:ce,blinkDuration:fe,characters:pe,hideOnEntered:me,hideOnExited:ve=!0,elementRef:ye,...Ee}=Z,Se=reactExports.useMemo(()=>_,[]),[_e,Te]=reactExports.useState(""),Re=reactExports.useRef(null),Pe=reactExports.useRef(null),Fe=reactExports.useRef(null),$e=useAnimator();return reactExports.useEffect(()=>{var ke;Te(((ke=Pe.current)==null?void 0:ke.textContent)??"")},[ie]),reactExports.useEffect(()=>{const ke=Re.current,ze=Pe.current;if(!$e||!_e.length||!ke||!ze)return;if(!le){const{settings:Ve}=$e.node,Ye=getAnimationTextDuration({length:_e.length,maxDuration:Ve.duration.enter}),Ke=getAnimationTextDuration({length:_e.length,maxDuration:Ve.duration.exit});$e.node.control.setSettings({duration:{enter:Ye,exit:Ke}})}const Ue=(Ve,Ye)=>{var rt;const Ke={rootElement:ke,contentElement:ze,duration:Ve,isEntering:Ye,easing:se,hideOnExited:ve,hideOnEntered:me};(rt=Fe.current)==null||rt.cancel(),oe==="decipher"?Fe.current=animateTextDecipher({...Ke,characters:pe}):Fe.current=animateTextSequence({...Ke,blink:ce,blinkDuration:fe})},Oe=$e.node.subscribe(Ve=>{switch(Ve.state){case"entering":{Ue(Ve.settings.duration.enter,!0);break}case"entered":{Fe.current||Ue(Ve.settings.duration.enter,!0);break}case"exiting":{Ue(Ve.settings.duration.exit,!1);break}}});return()=>{var Ve;Oe(),(Ve=Fe.current)==null||Ve.cancel(),Fe.current=null}},[$e,_e]),reactExports.createElement(Se,{...Ee,className:cx("arwes-text-text",K),style:{position:"relative",...Ee.style},ref:mergeRefs$2(ye,Re)},reactExports.createElement("span",{ref:Pe,className:cx("arwes-text-text__content",te),style:{position:"relative",visibility:$e?$e.node.state==="exited"&&ve||$e.node.state==="entered"&&me?"hidden":"":void 0,...ne}},ie))}),positionedStyle={position:"absolute",inset:0,display:"block",border:0,margin:0,padding:0,width:"100%",height:"100%"},FrameBase=memo(Z=>{const{elementRef:_,positioned:K=!0,settings:te,className:ne,style:ie,preserveAspectRatio:oe="none",children:se}=Z,le=useAnimator(),ce=reactExports.useRef(null),fe=reactExports.useRef(null),pe=reactExports.useRef(te);return Object.assign(pe.current,te,{animator:le==null?void 0:le.node}),reactExports.useEffect(()=>{const me=ce.current;if(me)return fe.current=createFrame(me,pe.current),()=>{var ve;return(ve=fe.current)==null?void 0:ve.remove()}},[le]),useUpdateEffect$1(()=>{var me;(me=fe.current)==null||me.render()},[te]),React.createElement("svg",{role:"presentation",ref:mergeRefs$2(ce,_),className:cx("arwes-frames-frame",ne),style:{...K?positionedStyle:null,...ie},xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:oe},se)}),FrameOctagon=memo(Z=>{const{styled:_,animated:K,padding:te,leftTop:ne,rightTop:ie,rightBottom:oe,leftBottom:se,squareSize:le,strokeWidth:ce}=Z,fe=reactExports.useMemo(()=>createFrameOctagonSettings({styled:_,animated:K,padding:te,leftTop:ne,rightTop:ie,rightBottom:oe,leftBottom:se,squareSize:le,strokeWidth:ce}),[_,K,te,ne,ie,oe,se,le,ce]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-frameoctagon",Z.className),settings:fe})}),FrameUnderline=memo(Z=>{const{styled:_,squareSize:K,strokeWidth:te,padding:ne}=Z,ie=reactExports.useMemo(()=>createFrameUnderlineSettings({styled:_,squareSize:K,strokeWidth:te,padding:ne}),[_,K,te,ne]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-frameunderline",Z.className),settings:ie})}),FrameCorners=memo(Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,cornerLength:ie}=Z,oe=reactExports.useMemo(()=>createFrameCornersSettings({styled:_,animated:K,padding:te,strokeWidth:ne,cornerLength:ie}),[_,K,te,ne,ie]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framecorners",Z.className),settings:oe})}),FrameLines=memo(Z=>{const{styled:_,animated:K,padding:te,largeLineWidth:ne,smallLineWidth:ie,smallLineLength:oe}=Z,se=reactExports.useMemo(()=>createFrameLinesSettings({styled:_,animated:K,padding:te,largeLineWidth:ne,smallLineWidth:ie,smallLineLength:oe}),[_,K,te,ne,ie,oe]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framelines",Z.className),settings:se})}),FrameNero=memo(Z=>{const{styled:_,animated:K,padding:te,cornerLength:ne,cornerWidth:ie}=Z,oe=reactExports.useMemo(()=>createFrameNeroSettings({styled:_,animated:K,padding:te,cornerLength:ne,cornerWidth:ie}),[_,K,te,ne,ie]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framenero",Z.className),settings:oe})}),FrameNefrex=memo(Z=>{const{styled:_,animated:K,padding:te,leftTop:ne,leftBottom:ie,rightTop:oe,rightBottom:se,squareSize:le,strokeWidth:ce,smallLineLength:fe,largeLineLength:pe}=Z,me=reactExports.useMemo(()=>createFrameNefrexSettings({styled:_,animated:K,padding:te,leftTop:ne,leftBottom:ie,rightTop:oe,rightBottom:se,squareSize:le,strokeWidth:ce,smallLineLength:fe,largeLineLength:pe}),[_,K,te,ne,ie,oe,se,le,ce,fe,pe]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framenefrex",Z.className),settings:me})}),FrameKranox=memo(Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,bgStrokeWidth:ie,squareSize:oe,smallLineLength:se,largeLineLength:le}=Z,ce=reactExports.useMemo(()=>createFrameKranoxSettings({styled:_,animated:K,padding:te,strokeWidth:ne,bgStrokeWidth:ie,squareSize:oe,smallLineLength:se,largeLineLength:le}),[_,K,te,ne,ie,oe,se,le]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framekranox",Z.className),settings:ce})}),FrameHeader=memo(Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,decoWidth:ie,direction:oe,align:se,contentLength:le}=Z,ce=reactExports.useMemo(()=>createFrameHeaderSettings({styled:_,animated:K,padding:te,strokeWidth:ne,decoWidth:ie,direction:oe,align:se,contentLength:le}),[_,K,te,ne,ie,oe,se,le]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-frameheader",Z.className),settings:ce})}),FrameCircle=memo(Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,separation:ie,sideWidth:oe}=Z,se=reactExports.useMemo(()=>createFrameCircleSettings({styled:_,animated:K,padding:te,strokeWidth:ne,separation:ie,sideWidth:oe}),[_,K,te,ne,ie,oe]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framecircle",Z.className),settings:se})}),useFrameAssembler=Z=>{const _=useAnimator();reactExports.useEffect(()=>{const K=Z.current;if(!_||!K)return;let te;const ne=_.node.subscribe(ie=>{switch(ie.state){case"entering":{te==null||te.cancel(),te=animateFrameAssembler({element:K,duration:ie.settings.duration.enter,isEntering:!0});break}case"exiting":{te==null||te.cancel(),te=animateFrameAssembler({element:K,duration:ie.settings.duration.exit,isEntering:!1});break}}});return()=>{te==null||te.cancel(),ne()}},[_])},BleepsOnAnimator=Z=>{const{id:_,transitions:K,continuous:te}=Z,ne=reactExports.useId(),ie=reactExports.useRef(K),oe=useAnimator(),se=useBleeps();ie.current=K;const le=_??ne;return reactExports.useEffect(()=>{if(!oe)return;let ce=null;const fe=oe.node.subscribe(pe=>{const me=ie.current[pe.state];if(te||ce==null||ce.stop(le),me){const ve=se[me];ve&&(ce==null||ce.stop(le),ce=ve,ce.play(le))}});return()=>{fe(),ce==null||ce.stop(le)}},[le,oe,se]),React.createElement(React.Fragment,null)};memo(BleepsOnAnimator);const themeStructure={space:"unit",spacen:"multiplier",outline:"multiplier",font:"style",color:{primary:"color",secondary:"color"}},themeDefaults={space:createThemeUnit(Z=>`${Z*.25}rem`),spacen:createThemeMultiplier(Z=>Z*4),outline:1,font:[{fontFamily:"Electrolize",fontWeight:600,fontSize:"2rem"},{fontFamily:"Tomorrow",fontWeight:500,fontSize:"2rem"},{fontFamily:'"Titillium Web"',fontWeight:300,fontSize:"1.5rem"}],color:{primary:Z=>[199,65+Z,90.5-Z*9.44],secondary:Z=>[60,60+Z,92.5-Z*9.44]}},createTheme=createCreateTheme(themeStructure,themeDefaults),theme=createTheme({outline:3}),bleepsSettings={master:{volume:.5},categories:{background:{volume:.25},transition:{volume:.5},interaction:{volume:.75},notification:{volume:1}},bleeps:{hover:{category:"background",sources:[{src:"/assets/sounds/hover.webm",type:"audio/webm"}]},click:{category:"interaction",sources:[{src:"/assets/sounds/click.webm",type:"audio/webm"}]},type:{category:"background",sources:[{src:"/assets/sounds/type.mp3",type:"audio/mpeg"}]}}},Illuminator=memo(Z=>{const{elementRef:_,color:K,size:te,...ne}=Z,ie=reactExports.useRef(null);return reactExports.useEffect(()=>{const oe=ie.current;if(!oe)return;const se=createEffectIlluminator({container:oe,color:K,size:te});return()=>se.cancel()},[K,te]),React.createElement("div",{ref:mergeRefs$2(ie,_),role:"presentation",...ne,className:cx("arwes-frames-illuminator",ne.className),style:{position:"absolute",inset:0,overflow:"hidden",width:"100%",height:"100%",...ne.style}})});memo(Z=>{const{elementRef:_,svgRef:K,color:te,size:ne,...ie}=Z,oe=reactExports.useRef(null);return reactExports.useEffect(()=>{const se=K.current,le=oe.current;if(!se||!le)return;const ce=createEffectIlluminatorSVG({svg:se,container:le,size:ne,color:te});return()=>ce.cancel()},[ne,te]),React.createElement("g",{ref:mergeRefs$2(oe,_),...ie,className:cx("arwes-frames-illuminatorsvg",ie.className),style:{pointerEvents:"none",...ie.style}})});function PreprocessGLSLForThree(Z){return Z.replace(/^#version.*$/gm,"")}function UnprojectPointer(Z,_){const K=Z.x/window.innerWidth*2-1,te=-(Z.y/window.innerHeight)*2+1;return new Vector3(K,te,0).unproject(_)}const addStyles=Z=>{const _=document.createElement("style");_.innerHTML=Z,document.body.appendChild(_)};function Text({as:Z,children:_,style:K,className:te,onClick:ne,onMouseEnter:ie,decipher:oe=!1,duration:se={enter:3}}){return jsxRuntimeExports.jsx(Animator,{duration:se,children:jsxRuntimeExports.jsx(Text$1,{as:Z,blink:!0,blinkDuration:.1,className:te||void 0,onClick:ne,onMouseEnter:ie,manager:oe?"decipher":"sequence",easing:oe?"outSine":"linear",fixed:oe,style:{pointerEvents:"auto",fontFamily:theme.font(0).fontFamily,fontWeight:theme.font(0).fontWeight,color:theme.color.primary(4),...K},children:_})})}const ThemeButton=reactExports.memo(Z=>{const{className:_,style:K,color:te="primary",variant:ne="fill",animated:ie,children:oe,onClick:se,active:le=!0}=Z,ce=useBleeps(),fe=reactExports.useRef(null);return useFrameAssembler(fe),jsxRuntimeExports.jsx(Animator,{active:le,duration:{enter:1},children:jsxRuntimeExports.jsxs(Animated,{as:"button",className:cx("theme-button",`theme-button-${te}`,`theme-button-${ne}`,_),style:K,animated:["fade",...Array.isArray(ie)?ie:[ie]],onMouseEnter:()=>{var pe;(pe=ce.hover)==null||pe.play()},onClick:pe=>{var me;(me=ce.click)==null||me.play(),se==null||se(pe)},children:[jsxRuntimeExports.jsx("div",{className:"theme-button-back",children:jsxRuntimeExports.jsx(Illuminator,{size:theme.spacen(50),color:theme.color[te](3,{alpha:.2})})}),jsxRuntimeExports.jsx(FrameOctagon,{elementRef:fe,style:{zIndex:0},squareSize:theme.spacen(2)}),jsxRuntimeExports.jsx(Text,{as:"div",className:"theme-button-content",children:oe})]})})});addStyles(`
.theme-button {
    position: relative;
    display: inline-flex;
    outline: none;
    margin: 0;
    border: none;
    padding: 0 ${theme.space(8)};
    line-height: ${theme.space(8)};
    font-size: 0.75rem;
    font-family: ${theme.font(0).fontFamily};
    letter-spacing: 1px;
    text-transform: uppercase;
    color: ${theme.color.primary(5)};
    background: transparent;
    cursor: pointer;
    user-select: none;
    transition-property: opacity, color;
    transition-duration: 0.2s;
    transition-timing-function: ease-out;
}

.theme-button-back {
    position: absolute;
    inset: 0;
    overflow: hidden;
    clip-path: ${styleFrameClipOctagon({squareSize:theme.spacen(2)})};
}

.theme-button-content {
    position: relative;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: ${theme.space(2)};
}

.theme-button:hover .theme-button-content{
    color: ${theme.color.secondary(4)};
}

.theme-button .arwes-frames-framesvg {
    transition-property: opacity, transform;
    transition-duration: 0.2s;
    transition-timing-function: ease-out;
}
.theme-button:hover .arwes-frames-framesvg,
.theme-button:focus .arwes-frames-framesvg {
    transform: scale(1.05);
}
.theme-button [data-frame] {
    transition-property: opacity, color;
    transition-duration: 0.2s;
    transition-timing-function: ease-out;
}
.theme-button [data-name=line] {
    color: ${theme.color.primary(5)};
}
.theme-button:hover [data-name=line],
.theme-button:focus [data-name=line] {
    color: ${theme.color.primary(4)};
}
.theme-button [data-name=bg] {
    color: ${theme.color.primary(9)};
}
.theme-button:hover [data-name=bg],
.theme-button:focus [data-name=bg] {
    color: ${theme.color.primary(8)};
}

.theme-button-secondary {
    color: ${theme.color.secondary(5)};
}
.theme-button-secondary [data-name=line] {
    color: ${theme.color.secondary(5)};
}
.theme-button-secondary:hover [data-name=line],
.theme-button-secondary:focus [data-name=line] {
    color: ${theme.color.secondary(4)};
}
.theme-button-secondary [data-name=bg] {
    color: ${theme.color.secondary(9)};
}
.theme-button-secondary:hover [data-name=bg],
.theme-button-secondary:focus [data-name=bg] {
    color: ${theme.color.secondary(8)};
}

.theme-button-fill {}

.theme-button-outline {}
.theme-button-outline [data-name=bg] {
    display: none;
}
`);var FrameType=(Z=>(Z[Z.LINES=0]="LINES",Z[Z.UNDERLINE=1]="UNDERLINE",Z[Z.CORNERS=2]="CORNERS",Z[Z.OCTAGON=3]="OCTAGON",Z[Z.NERO=4]="NERO",Z[Z.NEFREX=5]="NEFREX",Z[Z.KRANOX=6]="KRANOX",Z[Z.CIRCLE=7]="CIRCLE",Z[Z.HEADER=8]="HEADER",Z))(FrameType||{});function Frame({className:Z="",style:_={},type:K,children:te}){const ne={"--arwes-frames-bg-color":`${theme.color.primary(9,{alpha:.3})}`,"--arwes-frames-line-color":`${theme.color.primary(3)}`,"--arwes-frames-deco-color":`${theme.color.primary(0)}`},ie=reactExports.useMemo(()=>{switch(K){case 0:return jsxRuntimeExports.jsx(FrameLines,{style:ne});case 1:return jsxRuntimeExports.jsx(FrameUnderline,{style:ne});case 3:return jsxRuntimeExports.jsx(FrameOctagon,{style:ne});case 4:return jsxRuntimeExports.jsx(FrameNero,{style:ne});case 5:return jsxRuntimeExports.jsx(FrameNefrex,{style:ne});case 6:return jsxRuntimeExports.jsx(FrameKranox,{style:ne});case 7:return jsxRuntimeExports.jsx(FrameCircle,{style:ne});case 8:return jsxRuntimeExports.jsx(FrameHeader,{style:ne,contentLength:60});case 2:default:return jsxRuntimeExports.jsx(FrameCorners,{style:ne})}},[K]);return jsxRuntimeExports.jsx(Animator,{children:jsxRuntimeExports.jsxs("div",{className:`theme-frame ${Z}`.trim(),style:{..._},children:[ie,te]})})}var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=oe,dist.serialize=ce;const Z=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,_=/^[\u0021-\u003A\u003C-\u007E]*$/,K=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,te=/^[\u0020-\u003A\u003D-\u007E]*$/,ne=Object.prototype.toString,ie=(()=>{const me=function(){};return me.prototype=Object.create(null),me})();function oe(me,ve){const ye=new ie,Ee=me.length;if(Ee<2)return ye;const Se=(ve==null?void 0:ve.decode)||fe;let _e=0;do{const Te=me.indexOf("=",_e);if(Te===-1)break;const Re=me.indexOf(";",_e),Pe=Re===-1?Ee:Re;if(Te>Pe){_e=me.lastIndexOf(";",Te-1)+1;continue}const Fe=se(me,_e,Te),$e=le(me,Te,Fe),ke=me.slice(Fe,$e);if(ye[ke]===void 0){let ze=se(me,Te+1,Pe),Ue=le(me,Pe,ze);const Oe=Se(me.slice(ze,Ue));ye[ke]=Oe}_e=Pe+1}while(_e<Ee);return ye}function se(me,ve,ye){do{const Ee=me.charCodeAt(ve);if(Ee!==32&&Ee!==9)return ve}while(++ve<ye);return ye}function le(me,ve,ye){for(;ve>ye;){const Ee=me.charCodeAt(--ve);if(Ee!==32&&Ee!==9)return ve+1}return ye}function ce(me,ve,ye){const Ee=(ye==null?void 0:ye.encode)||encodeURIComponent;if(!Z.test(me))throw new TypeError(`argument name is invalid: ${me}`);const Se=Ee(ve);if(!_.test(Se))throw new TypeError(`argument val is invalid: ${ve}`);let _e=me+"="+Se;if(!ye)return _e;if(ye.maxAge!==void 0){if(!Number.isInteger(ye.maxAge))throw new TypeError(`option maxAge is invalid: ${ye.maxAge}`);_e+="; Max-Age="+ye.maxAge}if(ye.domain){if(!K.test(ye.domain))throw new TypeError(`option domain is invalid: ${ye.domain}`);_e+="; Domain="+ye.domain}if(ye.path){if(!te.test(ye.path))throw new TypeError(`option path is invalid: ${ye.path}`);_e+="; Path="+ye.path}if(ye.expires){if(!pe(ye.expires)||!Number.isFinite(ye.expires.valueOf()))throw new TypeError(`option expires is invalid: ${ye.expires}`);_e+="; Expires="+ye.expires.toUTCString()}if(ye.httpOnly&&(_e+="; HttpOnly"),ye.secure&&(_e+="; Secure"),ye.partitioned&&(_e+="; Partitioned"),ye.priority)switch(typeof ye.priority=="string"?ye.priority.toLowerCase():void 0){case"low":_e+="; Priority=Low";break;case"medium":_e+="; Priority=Medium";break;case"high":_e+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${ye.priority}`)}if(ye.sameSite)switch(typeof ye.sameSite=="string"?ye.sameSite.toLowerCase():ye.sameSite){case!0:case"strict":_e+="; SameSite=Strict";break;case"lax":_e+="; SameSite=Lax";break;case"none":_e+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${ye.sameSite}`)}return _e}function fe(me){if(me.indexOf("%")===-1)return me;try{return decodeURIComponent(me)}catch{return me}}function pe(me){return ne.call(me)==="[object Date]"}return dist}requireDist();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createHashHistory(Z={}){function _(ne,ie){let{pathname:oe="/",search:se="",hash:le=""}=parsePath(ne.location.hash.substring(1));return!oe.startsWith("/")&&!oe.startsWith(".")&&(oe="/"+oe),createLocation("",{pathname:oe,search:se,hash:le},ie.state&&ie.state.usr||null,ie.state&&ie.state.key||"default")}function K(ne,ie){let oe=ne.document.querySelector("base"),se="";if(oe&&oe.getAttribute("href")){let le=ne.location.href,ce=le.indexOf("#");se=ce===-1?le:le.slice(0,ce)}return se+"#"+(typeof ie=="string"?ie:createPath(ie))}function te(ne,ie){warning(ne.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(ie)})`)}return getUrlBasedHistory(_,K,te,Z)}function invariant(Z,_){if(Z===!1||Z===null||typeof Z>"u")throw new Error(_)}function warning(Z,_){if(!Z){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Z,_){return{usr:Z.state,key:Z.key,idx:_}}function createLocation(Z,_,K=null,te){return{pathname:typeof Z=="string"?Z:Z.pathname,search:"",hash:"",...typeof _=="string"?parsePath(_):_,state:K,key:_&&_.key||te||createKey()}}function createPath({pathname:Z="/",search:_="",hash:K=""}){return _&&_!=="?"&&(Z+=_.charAt(0)==="?"?_:"?"+_),K&&K!=="#"&&(Z+=K.charAt(0)==="#"?K:"#"+K),Z}function parsePath(Z){let _={};if(Z){let K=Z.indexOf("#");K>=0&&(_.hash=Z.substring(K),Z=Z.substring(0,K));let te=Z.indexOf("?");te>=0&&(_.search=Z.substring(te),Z=Z.substring(0,te)),Z&&(_.pathname=Z)}return _}function getUrlBasedHistory(Z,_,K,te={}){let{window:ne=document.defaultView,v5Compat:ie=!1}=te,oe=ne.history,se="POP",le=null,ce=fe();ce==null&&(ce=0,oe.replaceState({...oe.state,idx:ce},""));function fe(){return(oe.state||{idx:null}).idx}function pe(){se="POP";let Se=fe(),_e=Se==null?null:Se-ce;ce=Se,le&&le({action:se,location:Ee.location,delta:_e})}function me(Se,_e){se="PUSH";let Te=createLocation(Ee.location,Se,_e);K&&K(Te,Se),ce=fe()+1;let Re=getHistoryState(Te,ce),Pe=Ee.createHref(Te);try{oe.pushState(Re,"",Pe)}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="DataCloneError")throw Fe;ne.location.assign(Pe)}ie&&le&&le({action:se,location:Ee.location,delta:1})}function ve(Se,_e){se="REPLACE";let Te=createLocation(Ee.location,Se,_e);K&&K(Te,Se),ce=fe();let Re=getHistoryState(Te,ce),Pe=Ee.createHref(Te);oe.replaceState(Re,"",Pe),ie&&le&&le({action:se,location:Ee.location,delta:0})}function ye(Se){let _e=ne.location.origin!=="null"?ne.location.origin:ne.location.href,Te=typeof Se=="string"?Se:createPath(Se);return Te=Te.replace(/ $/,"%20"),invariant(_e,`No window.location.(origin|href) available to create URL for href: ${Te}`),new URL(Te,_e)}let Ee={get action(){return se},get location(){return Z(ne,oe)},listen(Se){if(le)throw new Error("A history only accepts one active listener");return ne.addEventListener(PopStateEventType,pe),le=Se,()=>{ne.removeEventListener(PopStateEventType,pe),le=null}},createHref(Se){return _(ne,Se)},createURL:ye,encodeLocation(Se){let _e=ye(Se);return{pathname:_e.pathname,search:_e.search,hash:_e.hash}},push:me,replace:ve,go(Se){return oe.go(Se)}};return Ee}function matchRoutes(Z,_,K="/"){return matchRoutesImpl(Z,_,K,!1)}function matchRoutesImpl(Z,_,K,te){let ne=typeof _=="string"?parsePath(_):_,ie=stripBasename(ne.pathname||"/",K);if(ie==null)return null;let oe=flattenRoutes(Z);rankRouteBranches(oe);let se=null;for(let le=0;se==null&&le<oe.length;++le){let ce=decodePath(ie);se=matchRouteBranch(oe[le],ce,te)}return se}function flattenRoutes(Z,_=[],K=[],te=""){let ne=(ie,oe,se)=>{let le={relativePath:se===void 0?ie.path||"":se,caseSensitive:ie.caseSensitive===!0,childrenIndex:oe,route:ie};le.relativePath.startsWith("/")&&(invariant(le.relativePath.startsWith(te),`Absolute route path "${le.relativePath}" nested under path "${te}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),le.relativePath=le.relativePath.slice(te.length));let ce=joinPaths([te,le.relativePath]),fe=K.concat(le);ie.children&&ie.children.length>0&&(invariant(ie.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ce}".`),flattenRoutes(ie.children,_,fe,ce)),!(ie.path==null&&!ie.index)&&_.push({path:ce,score:computeScore(ce,ie.index),routesMeta:fe})};return Z.forEach((ie,oe)=>{var se;if(ie.path===""||!((se=ie.path)!=null&&se.includes("?")))ne(ie,oe);else for(let le of explodeOptionalSegments(ie.path))ne(ie,oe,le)}),_}function explodeOptionalSegments(Z){let _=Z.split("/");if(_.length===0)return[];let[K,...te]=_,ne=K.endsWith("?"),ie=K.replace(/\?$/,"");if(te.length===0)return ne?[ie,""]:[ie];let oe=explodeOptionalSegments(te.join("/")),se=[];return se.push(...oe.map(le=>le===""?ie:[ie,le].join("/"))),ne&&se.push(...oe),se.map(le=>Z.startsWith("/")&&le===""?"/":le)}function rankRouteBranches(Z){Z.sort((_,K)=>_.score!==K.score?K.score-_.score:compareIndexes(_.routesMeta.map(te=>te.childrenIndex),K.routesMeta.map(te=>te.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Z=>Z==="*";function computeScore(Z,_){let K=Z.split("/"),te=K.length;return K.some(isSplat)&&(te+=splatPenalty),_&&(te+=indexRouteValue),K.filter(ne=>!isSplat(ne)).reduce((ne,ie)=>ne+(paramRe.test(ie)?dynamicSegmentValue:ie===""?emptySegmentValue:staticSegmentValue),te)}function compareIndexes(Z,_){return Z.length===_.length&&Z.slice(0,-1).every((te,ne)=>te===_[ne])?Z[Z.length-1]-_[_.length-1]:0}function matchRouteBranch(Z,_,K=!1){let{routesMeta:te}=Z,ne={},ie="/",oe=[];for(let se=0;se<te.length;++se){let le=te[se],ce=se===te.length-1,fe=ie==="/"?_:_.slice(ie.length)||"/",pe=matchPath({path:le.relativePath,caseSensitive:le.caseSensitive,end:ce},fe),me=le.route;if(!pe&&ce&&K&&!te[te.length-1].route.index&&(pe=matchPath({path:le.relativePath,caseSensitive:le.caseSensitive,end:!1},fe)),!pe)return null;Object.assign(ne,pe.params),oe.push({params:ne,pathname:joinPaths([ie,pe.pathname]),pathnameBase:normalizePathname(joinPaths([ie,pe.pathnameBase])),route:me}),pe.pathnameBase!=="/"&&(ie=joinPaths([ie,pe.pathnameBase]))}return oe}function matchPath(Z,_){typeof Z=="string"&&(Z={path:Z,caseSensitive:!1,end:!0});let[K,te]=compilePath(Z.path,Z.caseSensitive,Z.end),ne=_.match(K);if(!ne)return null;let ie=ne[0],oe=ie.replace(/(.)\/+$/,"$1"),se=ne.slice(1);return{params:te.reduce((ce,{paramName:fe,isOptional:pe},me)=>{if(fe==="*"){let ye=se[me]||"";oe=ie.slice(0,ie.length-ye.length).replace(/(.)\/+$/,"$1")}const ve=se[me];return pe&&!ve?ce[fe]=void 0:ce[fe]=(ve||"").replace(/%2F/g,"/"),ce},{}),pathname:ie,pathnameBase:oe,pattern:Z}}function compilePath(Z,_=!1,K=!0){warning(Z==="*"||!Z.endsWith("*")||Z.endsWith("/*"),`Route path "${Z}" will be treated as if it were "${Z.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Z.replace(/\*$/,"/*")}".`);let te=[],ne="^"+Z.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(oe,se,le)=>(te.push({paramName:se,isOptional:le!=null}),le?"/?([^\\/]+)?":"/([^\\/]+)"));return Z.endsWith("*")?(te.push({paramName:"*"}),ne+=Z==="*"||Z==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):K?ne+="\\/*$":Z!==""&&Z!=="/"&&(ne+="(?:(?=\\/|$))"),[new RegExp(ne,_?void 0:"i"),te]}function decodePath(Z){try{return Z.split("/").map(_=>decodeURIComponent(_).replace(/\//g,"%2F")).join("/")}catch(_){return warning(!1,`The URL path "${Z}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${_}).`),Z}}function stripBasename(Z,_){if(_==="/")return Z;if(!Z.toLowerCase().startsWith(_.toLowerCase()))return null;let K=_.endsWith("/")?_.length-1:_.length,te=Z.charAt(K);return te&&te!=="/"?null:Z.slice(K)||"/"}function resolvePath(Z,_="/"){let{pathname:K,search:te="",hash:ne=""}=typeof Z=="string"?parsePath(Z):Z;return{pathname:K?K.startsWith("/")?K:resolvePathname(K,_):_,search:normalizeSearch(te),hash:normalizeHash(ne)}}function resolvePathname(Z,_){let K=_.replace(/\/+$/,"").split("/");return Z.split("/").forEach(ne=>{ne===".."?K.length>1&&K.pop():ne!=="."&&K.push(ne)}),K.length>1?K.join("/"):"/"}function getInvalidPathError(Z,_,K,te){return`Cannot include a '${Z}' character in a manually specified \`to.${_}\` field [${JSON.stringify(te)}].  Please separate it out to the \`to.${K}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Z){return Z.filter((_,K)=>K===0||_.route.path&&_.route.path.length>0)}function getResolveToMatches(Z){let _=getPathContributingMatches(Z);return _.map((K,te)=>te===_.length-1?K.pathname:K.pathnameBase)}function resolveTo(Z,_,K,te=!1){let ne;typeof Z=="string"?ne=parsePath(Z):(ne={...Z},invariant(!ne.pathname||!ne.pathname.includes("?"),getInvalidPathError("?","pathname","search",ne)),invariant(!ne.pathname||!ne.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ne)),invariant(!ne.search||!ne.search.includes("#"),getInvalidPathError("#","search","hash",ne)));let ie=Z===""||ne.pathname==="",oe=ie?"/":ne.pathname,se;if(oe==null)se=K;else{let pe=_.length-1;if(!te&&oe.startsWith("..")){let me=oe.split("/");for(;me[0]==="..";)me.shift(),pe-=1;ne.pathname=me.join("/")}se=pe>=0?_[pe]:"/"}let le=resolvePath(ne,se),ce=oe&&oe!=="/"&&oe.endsWith("/"),fe=(ie||oe===".")&&K.endsWith("/");return!le.pathname.endsWith("/")&&(ce||fe)&&(le.pathname+="/"),le}var joinPaths=Z=>Z.join("/").replace(/\/\/+/g,"/"),normalizePathname=Z=>Z.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Z=>!Z||Z==="?"?"":Z.startsWith("?")?Z:"?"+Z,normalizeHash=Z=>!Z||Z==="#"?"":Z.startsWith("#")?Z:"#"+Z;function isRouteErrorResponse(Z){return Z!=null&&typeof Z.status=="number"&&typeof Z.statusText=="string"&&typeof Z.internal=="boolean"&&"data"in Z}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Z,{relative:_}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:K,navigator:te}=reactExports.useContext(NavigationContext),{hash:ne,pathname:ie,search:oe}=useResolvedPath(Z,{relative:_}),se=ie;return K!=="/"&&(se=ie==="/"?K:joinPaths([K,ie])),te.createHref({pathname:se,search:oe,hash:ne})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(Z){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Z)}function useNavigate(){let{isDataRoute:Z}=reactExports.useContext(RouteContext);return Z?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Z=reactExports.useContext(DataRouterContext),{basename:_,navigator:K}=reactExports.useContext(NavigationContext),{matches:te}=reactExports.useContext(RouteContext),{pathname:ne}=useLocation(),ie=JSON.stringify(getResolveToMatches(te)),oe=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{oe.current=!0}),reactExports.useCallback((le,ce={})=>{if(warning(oe.current,navigateEffectWarning),!oe.current)return;if(typeof le=="number"){K.go(le);return}let fe=resolveTo(le,JSON.parse(ie),ne,ce.relative==="path");Z==null&&_!=="/"&&(fe.pathname=fe.pathname==="/"?_:joinPaths([_,fe.pathname])),(ce.replace?K.replace:K.push)(fe,ce.state,ce)},[_,K,ie,ne,Z])}reactExports.createContext(null);function useParams(){let{matches:Z}=reactExports.useContext(RouteContext),_=Z[Z.length-1];return _?_.params:{}}function useResolvedPath(Z,{relative:_}={}){let{matches:K}=reactExports.useContext(RouteContext),{pathname:te}=useLocation(),ne=JSON.stringify(getResolveToMatches(K));return reactExports.useMemo(()=>resolveTo(Z,JSON.parse(ne),te,_==="path"),[Z,ne,te,_])}function useRoutes(Z,_){return useRoutesImpl(Z,_)}function useRoutesImpl(Z,_,K,te){var Te;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:ne,static:ie}=reactExports.useContext(NavigationContext),{matches:oe}=reactExports.useContext(RouteContext),se=oe[oe.length-1],le=se?se.params:{},ce=se?se.pathname:"/",fe=se?se.pathnameBase:"/",pe=se&&se.route;{let Re=pe&&pe.path||"";warningOnce(ce,!pe||Re.endsWith("*")||Re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${ce}" (under <Route path="${Re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Re}"> to <Route path="${Re==="/"?"*":`${Re}/*`}">.`)}let me=useLocation(),ve;if(_){let Re=typeof _=="string"?parsePath(_):_;invariant(fe==="/"||((Te=Re.pathname)==null?void 0:Te.startsWith(fe)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${fe}" but pathname "${Re.pathname}" was given in the \`location\` prop.`),ve=Re}else ve=me;let ye=ve.pathname||"/",Ee=ye;if(fe!=="/"){let Re=fe.replace(/^\//,"").split("/");Ee="/"+ye.replace(/^\//,"").split("/").slice(Re.length).join("/")}let Se=!ie&&K&&K.matches&&K.matches.length>0?K.matches:matchRoutes(Z,{pathname:Ee});warning(pe||Se!=null,`No routes matched location "${ve.pathname}${ve.search}${ve.hash}" `),warning(Se==null||Se[Se.length-1].route.element!==void 0||Se[Se.length-1].route.Component!==void 0||Se[Se.length-1].route.lazy!==void 0,`Matched leaf route at location "${ve.pathname}${ve.search}${ve.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _e=_renderMatches(Se&&Se.map(Re=>Object.assign({},Re,{params:Object.assign({},le,Re.params),pathname:joinPaths([fe,ne.encodeLocation?ne.encodeLocation(Re.pathname).pathname:Re.pathname]),pathnameBase:Re.pathnameBase==="/"?fe:joinPaths([fe,ne.encodeLocation?ne.encodeLocation(Re.pathnameBase).pathname:Re.pathnameBase])})),oe,K,te);return _&&_e?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ve},navigationType:"POP"}},_e):_e}function DefaultErrorComponent(){let Z=useRouteError(),_=isRouteErrorResponse(Z)?`${Z.status} ${Z.statusText}`:Z instanceof Error?Z.message:JSON.stringify(Z),K=Z instanceof Error?Z.stack:null,te="rgba(200,200,200, 0.5)",ne={padding:"0.5rem",backgroundColor:te},ie={padding:"2px 4px",backgroundColor:te},oe=null;return console.error("Error handled by React Router default ErrorBoundary:",Z),oe=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:ie},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:ie},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_),K?reactExports.createElement("pre",{style:ne},K):null,oe)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Z){super(Z),this.state={location:Z.location,revalidation:Z.revalidation,error:Z.error}}static getDerivedStateFromError(Z){return{error:Z}}static getDerivedStateFromProps(Z,_){return _.location!==Z.location||_.revalidation!=="idle"&&Z.revalidation==="idle"?{error:Z.error,location:Z.location,revalidation:Z.revalidation}:{error:Z.error!==void 0?Z.error:_.error,location:_.location,revalidation:Z.revalidation||_.revalidation}}componentDidCatch(Z,_){console.error("React Router caught the following error during render",Z,_)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Z,match:_,children:K}){let te=reactExports.useContext(DataRouterContext);return te&&te.static&&te.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(te.staticContext._deepestRenderedBoundaryId=_.route.id),reactExports.createElement(RouteContext.Provider,{value:Z},K)}function _renderMatches(Z,_=[],K=null,te=null){if(Z==null){if(!K)return null;if(K.errors)Z=K.matches;else if(_.length===0&&!K.initialized&&K.matches.length>0)Z=K.matches;else return null}let ne=Z,ie=K==null?void 0:K.errors;if(ie!=null){let le=ne.findIndex(ce=>ce.route.id&&(ie==null?void 0:ie[ce.route.id])!==void 0);invariant(le>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(ie).join(",")}`),ne=ne.slice(0,Math.min(ne.length,le+1))}let oe=!1,se=-1;if(K)for(let le=0;le<ne.length;le++){let ce=ne[le];if((ce.route.HydrateFallback||ce.route.hydrateFallbackElement)&&(se=le),ce.route.id){let{loaderData:fe,errors:pe}=K,me=ce.route.loader&&!fe.hasOwnProperty(ce.route.id)&&(!pe||pe[ce.route.id]===void 0);if(ce.route.lazy||me){oe=!0,se>=0?ne=ne.slice(0,se+1):ne=[ne[0]];break}}}return ne.reduceRight((le,ce,fe)=>{let pe,me=!1,ve=null,ye=null;K&&(pe=ie&&ce.route.id?ie[ce.route.id]:void 0,ve=ce.route.errorElement||defaultErrorElement,oe&&(se<0&&fe===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),me=!0,ye=null):se===fe&&(me=!0,ye=ce.route.hydrateFallbackElement||null)));let Ee=_.concat(ne.slice(0,fe+1)),Se=()=>{let _e;return pe?_e=ve:me?_e=ye:ce.route.Component?_e=reactExports.createElement(ce.route.Component,null):ce.route.element?_e=ce.route.element:_e=le,reactExports.createElement(RenderedRoute,{match:ce,routeContext:{outlet:le,matches:Ee,isDataRoute:K!=null},children:_e})};return K&&(ce.route.ErrorBoundary||ce.route.errorElement||fe===0)?reactExports.createElement(RenderErrorBoundary,{location:K.location,revalidation:K.revalidation,component:ve,error:pe,children:Se(),routeContext:{outlet:null,matches:Ee,isDataRoute:!0}}):Se()},null)}function getDataRouterConsoleError(Z){return`${Z} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Z){let _=reactExports.useContext(DataRouterContext);return invariant(_,getDataRouterConsoleError(Z)),_}function useDataRouterState(Z){let _=reactExports.useContext(DataRouterStateContext);return invariant(_,getDataRouterConsoleError(Z)),_}function useRouteContext(Z){let _=reactExports.useContext(RouteContext);return invariant(_,getDataRouterConsoleError(Z)),_}function useCurrentRouteId(Z){let _=useRouteContext(Z),K=_.matches[_.matches.length-1];return invariant(K.route.id,`${Z} can only be used on routes that contain a unique "id"`),K.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var te;let Z=reactExports.useContext(RouteErrorContext),_=useDataRouterState("useRouteError"),K=useCurrentRouteId("useRouteError");return Z!==void 0?Z:(te=_.errors)==null?void 0:te[K]}function useNavigateStable(){let{router:Z}=useDataRouterContext("useNavigate"),_=useCurrentRouteId("useNavigate"),K=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{K.current=!0}),reactExports.useCallback(async(ne,ie={})=>{warning(K.current,navigateEffectWarning),K.current&&(typeof ne=="number"?Z.navigate(ne):await Z.navigate(ne,{fromRouteId:_,...ie}))},[Z,_])}var alreadyWarned={};function warningOnce(Z,_,K){!_&&!alreadyWarned[Z]&&(alreadyWarned[Z]=!0,warning(!1,K))}reactExports.memo(DataRoutes);function DataRoutes({routes:Z,future:_,state:K}){return useRoutesImpl(Z,void 0,K,_)}function Route(Z){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Z="/",children:_=null,location:K,navigationType:te="POP",navigator:ne,static:ie=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let oe=Z.replace(/^\/*/,"/"),se=reactExports.useMemo(()=>({basename:oe,navigator:ne,static:ie,future:{}}),[oe,ne,ie]);typeof K=="string"&&(K=parsePath(K));let{pathname:le="/",search:ce="",hash:fe="",state:pe=null,key:me="default"}=K,ve=reactExports.useMemo(()=>{let ye=stripBasename(le,oe);return ye==null?null:{location:{pathname:ye,search:ce,hash:fe,state:pe,key:me},navigationType:te}},[oe,le,ce,fe,pe,me,te]);return warning(ve!=null,`<Router basename="${oe}"> is not able to match the URL "${le}${ce}${fe}" because it does not start with the basename, so the <Router> won't render anything.`),ve==null?null:reactExports.createElement(NavigationContext.Provider,{value:se},reactExports.createElement(LocationContext.Provider,{children:_,value:ve}))}function Routes({children:Z,location:_}){return useRoutes(createRoutesFromChildren(Z),_)}function createRoutesFromChildren(Z,_=[]){let K=[];return reactExports.Children.forEach(Z,(te,ne)=>{if(!reactExports.isValidElement(te))return;let ie=[..._,ne];if(te.type===reactExports.Fragment){K.push.apply(K,createRoutesFromChildren(te.props.children,ie));return}invariant(te.type===Route,`[${typeof te.type=="string"?te.type:te.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!te.props.index||!te.props.children,"An index route cannot have child routes.");let oe={id:te.props.id||ie.join("-"),caseSensitive:te.props.caseSensitive,element:te.props.element,Component:te.props.Component,index:te.props.index,path:te.props.path,loader:te.props.loader,action:te.props.action,hydrateFallbackElement:te.props.hydrateFallbackElement,HydrateFallback:te.props.HydrateFallback,errorElement:te.props.errorElement,ErrorBoundary:te.props.ErrorBoundary,hasErrorBoundary:te.props.hasErrorBoundary===!0||te.props.ErrorBoundary!=null||te.props.errorElement!=null,shouldRevalidate:te.props.shouldRevalidate,handle:te.props.handle,lazy:te.props.lazy};te.props.children&&(oe.children=createRoutesFromChildren(te.props.children,ie)),K.push(oe)}),K}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Z){return Z!=null&&typeof Z.tagName=="string"}function isButtonElement(Z){return isHtmlElement(Z)&&Z.tagName.toLowerCase()==="button"}function isFormElement(Z){return isHtmlElement(Z)&&Z.tagName.toLowerCase()==="form"}function isInputElement(Z){return isHtmlElement(Z)&&Z.tagName.toLowerCase()==="input"}function isModifiedEvent(Z){return!!(Z.metaKey||Z.altKey||Z.ctrlKey||Z.shiftKey)}function shouldProcessLinkClick(Z,_){return Z.button===0&&(!_||_==="_self")&&!isModifiedEvent(Z)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Z){return Z!=null&&!supportedFormEncTypes.has(Z)?(warning(!1,`"${Z}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Z}function getFormSubmissionInfo(Z,_){let K,te,ne,ie,oe;if(isFormElement(Z)){let se=Z.getAttribute("action");te=se?stripBasename(se,_):null,K=Z.getAttribute("method")||defaultMethod,ne=getFormEncType(Z.getAttribute("enctype"))||defaultEncType,ie=new FormData(Z)}else if(isButtonElement(Z)||isInputElement(Z)&&(Z.type==="submit"||Z.type==="image")){let se=Z.form;if(se==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let le=Z.getAttribute("formaction")||se.getAttribute("action");if(te=le?stripBasename(le,_):null,K=Z.getAttribute("formmethod")||se.getAttribute("method")||defaultMethod,ne=getFormEncType(Z.getAttribute("formenctype"))||getFormEncType(se.getAttribute("enctype"))||defaultEncType,ie=new FormData(se,Z),!isFormDataSubmitterSupported()){let{name:ce,type:fe,value:pe}=Z;if(fe==="image"){let me=ce?`${ce}.`:"";ie.append(`${me}x`,"0"),ie.append(`${me}y`,"0")}else ce&&ie.append(ce,pe)}}else{if(isHtmlElement(Z))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');K=defaultMethod,te=null,ne=defaultEncType,oe=Z}return ie&&ne==="text/plain"&&(oe=ie,ie=void 0),{action:te,method:K.toLowerCase(),encType:ne,formData:ie,body:oe}}function invariant2(Z,_){if(Z===!1||Z===null||typeof Z>"u")throw new Error(_)}async function loadRouteModule(Z,_){if(Z.id in _)return _[Z.id];try{let K=await import(Z.module);return _[Z.id]=K,K}catch(K){return console.error(`Error loading route module \`${Z.module}\`, reloading page...`),console.error(K),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Z){return Z==null?!1:Z.href==null?Z.rel==="preload"&&typeof Z.imageSrcSet=="string"&&typeof Z.imageSizes=="string":typeof Z.rel=="string"&&typeof Z.href=="string"}async function getKeyedPrefetchLinks(Z,_,K){let te=await Promise.all(Z.map(async ne=>{let ie=_.routes[ne.route.id];if(ie){let oe=await loadRouteModule(ie,K);return oe.links?oe.links():[]}return[]}));return dedupeLinkDescriptors(te.flat(1).filter(isHtmlLinkDescriptor).filter(ne=>ne.rel==="stylesheet"||ne.rel==="preload").map(ne=>ne.rel==="stylesheet"?{...ne,rel:"prefetch",as:"style"}:{...ne,rel:"prefetch"}))}function getNewMatchesForLinks(Z,_,K,te,ne,ie){let oe=(le,ce)=>K[ce]?le.route.id!==K[ce].route.id:!0,se=(le,ce)=>{var fe;return K[ce].pathname!==le.pathname||((fe=K[ce].route.path)==null?void 0:fe.endsWith("*"))&&K[ce].params["*"]!==le.params["*"]};return ie==="assets"?_.filter((le,ce)=>oe(le,ce)||se(le,ce)):ie==="data"?_.filter((le,ce)=>{var pe;let fe=te.routes[le.route.id];if(!fe||!fe.hasLoader)return!1;if(oe(le,ce)||se(le,ce))return!0;if(le.route.shouldRevalidate){let me=le.route.shouldRevalidate({currentUrl:new URL(ne.pathname+ne.search+ne.hash,window.origin),currentParams:((pe=K[0])==null?void 0:pe.params)||{},nextUrl:new URL(Z,window.origin),nextParams:le.params,defaultShouldRevalidate:!0});if(typeof me=="boolean")return me}return!0}):[]}function getModuleLinkHrefs(Z,_,{includeHydrateFallback:K}={}){return dedupeHrefs(Z.map(te=>{let ne=_.routes[te.route.id];if(!ne)return[];let ie=[ne.module];return ne.clientActionModule&&(ie=ie.concat(ne.clientActionModule)),ne.clientLoaderModule&&(ie=ie.concat(ne.clientLoaderModule)),K&&ne.hydrateFallbackModule&&(ie=ie.concat(ne.hydrateFallbackModule)),ne.imports&&(ie=ie.concat(ne.imports)),ie}).flat(1))}function dedupeHrefs(Z){return[...new Set(Z)]}function sortKeys(Z){let _={},K=Object.keys(Z).sort();for(let te of K)_[te]=Z[te];return _}function dedupeLinkDescriptors(Z,_){let K=new Set;return new Set(_),Z.reduce((te,ne)=>{let ie=JSON.stringify(sortKeys(ne));return K.has(ie)||(K.add(ie),te.push({key:ie,link:ne})),te},[])}function singleFetchUrl(Z){let _=typeof Z=="string"?new URL(Z,typeof window>"u"?"server://singlefetch/":window.location.origin):Z;return _.pathname==="/"?_.pathname="_root.data":_.pathname=`${_.pathname.replace(/\/$/,"")}.data`,_}function useDataRouterContext2(){let Z=reactExports.useContext(DataRouterContext);return invariant2(Z,"You must render this element inside a <DataRouterContext.Provider> element"),Z}function useDataRouterStateContext(){let Z=reactExports.useContext(DataRouterStateContext);return invariant2(Z,"You must render this element inside a <DataRouterStateContext.Provider> element"),Z}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Z=reactExports.useContext(FrameworkContext);return invariant2(Z,"You must render this element inside a <HydratedRouter> element"),Z}function usePrefetchBehavior(Z,_){let K=reactExports.useContext(FrameworkContext),[te,ne]=reactExports.useState(!1),[ie,oe]=reactExports.useState(!1),{onFocus:se,onBlur:le,onMouseEnter:ce,onMouseLeave:fe,onTouchStart:pe}=_,me=reactExports.useRef(null);reactExports.useEffect(()=>{if(Z==="render"&&oe(!0),Z==="viewport"){let Ee=_e=>{_e.forEach(Te=>{oe(Te.isIntersecting)})},Se=new IntersectionObserver(Ee,{threshold:.5});return me.current&&Se.observe(me.current),()=>{Se.disconnect()}}},[Z]),reactExports.useEffect(()=>{if(te){let Ee=setTimeout(()=>{oe(!0)},100);return()=>{clearTimeout(Ee)}}},[te]);let ve=()=>{ne(!0)},ye=()=>{ne(!1),oe(!1)};return K?Z!=="intent"?[ie,me,{}]:[ie,me,{onFocus:composeEventHandlers(se,ve),onBlur:composeEventHandlers(le,ye),onMouseEnter:composeEventHandlers(ce,ve),onMouseLeave:composeEventHandlers(fe,ye),onTouchStart:composeEventHandlers(pe,ve)}]:[!1,me,{}]}function composeEventHandlers(Z,_){return K=>{Z&&Z(K),K.defaultPrevented||_(K)}}function PrefetchPageLinks({page:Z,..._}){let{router:K}=useDataRouterContext2(),te=reactExports.useMemo(()=>matchRoutes(K.routes,Z,K.basename),[K.routes,Z,K.basename]);return te?reactExports.createElement(PrefetchPageLinksImpl,{page:Z,matches:te,..._}):null}function useKeyedPrefetchLinks(Z){let{manifest:_,routeModules:K}=useFrameworkContext(),[te,ne]=reactExports.useState([]);return reactExports.useEffect(()=>{let ie=!1;return getKeyedPrefetchLinks(Z,_,K).then(oe=>{ie||ne(oe)}),()=>{ie=!0}},[Z,_,K]),te}function PrefetchPageLinksImpl({page:Z,matches:_,...K}){let te=useLocation(),{manifest:ne,routeModules:ie}=useFrameworkContext(),{loaderData:oe,matches:se}=useDataRouterStateContext(),le=reactExports.useMemo(()=>getNewMatchesForLinks(Z,_,se,ne,te,"data"),[Z,_,se,ne,te]),ce=reactExports.useMemo(()=>getNewMatchesForLinks(Z,_,se,ne,te,"assets"),[Z,_,se,ne,te]),fe=reactExports.useMemo(()=>{if(Z===te.pathname+te.search+te.hash)return[];let ve=new Set,ye=!1;if(_.forEach(Se=>{var Te;let _e=ne.routes[Se.route.id];!_e||!_e.hasLoader||(!le.some(Re=>Re.route.id===Se.route.id)&&Se.route.id in oe&&((Te=ie[Se.route.id])!=null&&Te.shouldRevalidate)||_e.hasClientLoader?ye=!0:ve.add(Se.route.id))}),ve.size===0)return[];let Ee=singleFetchUrl(Z);return ye&&ve.size>0&&Ee.searchParams.set("_routes",_.filter(Se=>ve.has(Se.route.id)).map(Se=>Se.route.id).join(",")),[Ee.pathname+Ee.search]},[oe,te,ne,le,_,Z,ie]),pe=reactExports.useMemo(()=>getModuleLinkHrefs(ce,ne),[ce,ne]),me=useKeyedPrefetchLinks(ce);return reactExports.createElement(reactExports.Fragment,null,fe.map(ve=>reactExports.createElement("link",{key:ve,rel:"prefetch",as:"fetch",href:ve,...K})),pe.map(ve=>reactExports.createElement("link",{key:ve,rel:"modulepreload",href:ve,...K})),me.map(({key:ve,link:ye})=>reactExports.createElement("link",{key:ve,...ye})))}function mergeRefs$1(...Z){return _=>{Z.forEach(K=>{typeof K=="function"?K(_):K!=null&&(K.current=_)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.2.0")}catch(Z){}function HashRouter({basename:Z,children:_,window:K}){let te=reactExports.useRef();te.current==null&&(te.current=createHashHistory({window:K,v5Compat:!0}));let ne=te.current,[ie,oe]=reactExports.useState({action:ne.action,location:ne.location}),se=reactExports.useCallback(le=>{reactExports.startTransition(()=>oe(le))},[oe]);return reactExports.useLayoutEffect(()=>ne.listen(se),[ne,se]),reactExports.createElement(Router,{basename:Z,children:_,location:ie.location,navigationType:ie.action,navigator:ne})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function Z({onClick:_,discover:K="render",prefetch:te="none",relative:ne,reloadDocument:ie,replace:oe,state:se,target:le,to:ce,preventScrollReset:fe,viewTransition:pe,...me},ve){let{basename:ye}=reactExports.useContext(NavigationContext),Ee=typeof ce=="string"&&ABSOLUTE_URL_REGEX2.test(ce),Se,_e=!1;if(typeof ce=="string"&&Ee&&(Se=ce,isBrowser))try{let Ue=new URL(window.location.href),Oe=ce.startsWith("//")?new URL(Ue.protocol+ce):new URL(ce),Ve=stripBasename(Oe.pathname,ye);Oe.origin===Ue.origin&&Ve!=null?ce=Ve+Oe.search+Oe.hash:_e=!0}catch{warning(!1,`<Link to="${ce}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Te=useHref(ce,{relative:ne}),[Re,Pe,Fe]=usePrefetchBehavior(te,me),$e=useLinkClickHandler(ce,{replace:oe,state:se,target:le,preventScrollReset:fe,relative:ne,viewTransition:pe});function ke(Ue){_&&_(Ue),Ue.defaultPrevented||$e(Ue)}let ze=reactExports.createElement("a",{...me,...Fe,href:Se||Te,onClick:_e||ie?_:ke,ref:mergeRefs$1(ve,Pe),target:le,"data-discover":!Ee&&K==="render"?"true":void 0});return Re&&!Ee?reactExports.createElement(reactExports.Fragment,null,ze,reactExports.createElement(PrefetchPageLinks,{page:Te})):ze});Link.displayName="Link";var NavLink=reactExports.forwardRef(function Z({"aria-current":_="page",caseSensitive:K=!1,className:te="",end:ne=!1,style:ie,to:oe,viewTransition:se,children:le,...ce},fe){let pe=useResolvedPath(oe,{relative:ce.relative}),me=useLocation(),ve=reactExports.useContext(DataRouterStateContext),{navigator:ye,basename:Ee}=reactExports.useContext(NavigationContext),Se=ve!=null&&useViewTransitionState(pe)&&se===!0,_e=ye.encodeLocation?ye.encodeLocation(pe).pathname:pe.pathname,Te=me.pathname,Re=ve&&ve.navigation&&ve.navigation.location?ve.navigation.location.pathname:null;K||(Te=Te.toLowerCase(),Re=Re?Re.toLowerCase():null,_e=_e.toLowerCase()),Re&&Ee&&(Re=stripBasename(Re,Ee)||Re);const Pe=_e!=="/"&&_e.endsWith("/")?_e.length-1:_e.length;let Fe=Te===_e||!ne&&Te.startsWith(_e)&&Te.charAt(Pe)==="/",$e=Re!=null&&(Re===_e||!ne&&Re.startsWith(_e)&&Re.charAt(_e.length)==="/"),ke={isActive:Fe,isPending:$e,isTransitioning:Se},ze=Fe?_:void 0,Ue;typeof te=="function"?Ue=te(ke):Ue=[te,Fe?"active":null,$e?"pending":null,Se?"transitioning":null].filter(Boolean).join(" ");let Oe=typeof ie=="function"?ie(ke):ie;return reactExports.createElement(Link,{...ce,"aria-current":ze,className:Ue,ref:fe,style:Oe,to:oe,viewTransition:se},typeof le=="function"?le(ke):le)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Z="render",fetcherKey:_,navigate:K,reloadDocument:te,replace:ne,state:ie,method:oe=defaultMethod,action:se,onSubmit:le,relative:ce,preventScrollReset:fe,viewTransition:pe,...me},ve)=>{let ye=useSubmit(),Ee=useFormAction(se,{relative:ce}),Se=oe.toLowerCase()==="get"?"get":"post",_e=typeof se=="string"&&ABSOLUTE_URL_REGEX2.test(se),Te=Re=>{if(le&&le(Re),Re.defaultPrevented)return;Re.preventDefault();let Pe=Re.nativeEvent.submitter,Fe=(Pe==null?void 0:Pe.getAttribute("formmethod"))||oe;ye(Pe||Re.currentTarget,{fetcherKey:_,method:Fe,navigate:K,replace:ne,state:ie,relative:ce,preventScrollReset:fe,viewTransition:pe})};return reactExports.createElement("form",{ref:ve,method:Se,action:Ee,onSubmit:te?le:Te,...me,"data-discover":!_e&&Z==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Z){return`${Z} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Z){let _=reactExports.useContext(DataRouterContext);return invariant(_,getDataRouterConsoleError2(Z)),_}function useLinkClickHandler(Z,{target:_,replace:K,state:te,preventScrollReset:ne,relative:ie,viewTransition:oe}={}){let se=useNavigate(),le=useLocation(),ce=useResolvedPath(Z,{relative:ie});return reactExports.useCallback(fe=>{if(shouldProcessLinkClick(fe,_)){fe.preventDefault();let pe=K!==void 0?K:createPath(le)===createPath(ce);se(Z,{replace:pe,state:te,preventScrollReset:ne,relative:ie,viewTransition:oe})}},[le,se,ce,K,te,_,Z,ne,ie,oe])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Z}=useDataRouterContext3("useSubmit"),{basename:_}=reactExports.useContext(NavigationContext),K=useRouteId();return reactExports.useCallback(async(te,ne={})=>{let{action:ie,method:oe,encType:se,formData:le,body:ce}=getFormSubmissionInfo(te,_);if(ne.navigate===!1){let fe=ne.fetcherKey||getUniqueFetcherId();await Z.fetch(fe,K,ne.action||ie,{preventScrollReset:ne.preventScrollReset,formData:le,body:ce,formMethod:ne.method||oe,formEncType:ne.encType||se,flushSync:ne.flushSync})}else await Z.navigate(ne.action||ie,{preventScrollReset:ne.preventScrollReset,formData:le,body:ce,formMethod:ne.method||oe,formEncType:ne.encType||se,replace:ne.replace,state:ne.state,fromRouteId:K,flushSync:ne.flushSync,viewTransition:ne.viewTransition})},[Z,_,K])}function useFormAction(Z,{relative:_}={}){let{basename:K}=reactExports.useContext(NavigationContext),te=reactExports.useContext(RouteContext);invariant(te,"useFormAction must be used inside a RouteContext");let[ne]=te.matches.slice(-1),ie={...useResolvedPath(Z||".",{relative:_})},oe=useLocation();if(Z==null){ie.search=oe.search;let se=new URLSearchParams(ie.search),le=se.getAll("index");if(le.some(fe=>fe==="")){se.delete("index"),le.filter(pe=>pe).forEach(pe=>se.append("index",pe));let fe=se.toString();ie.search=fe?`?${fe}`:""}}return(!Z||Z===".")&&ne.route.index&&(ie.search=ie.search?ie.search.replace(/^\?/,"?index&"):"?index"),K!=="/"&&(ie.pathname=ie.pathname==="/"?K:joinPaths([K,ie.pathname])),createPath(ie)}function useViewTransitionState(Z,_={}){let K=reactExports.useContext(ViewTransitionContext);invariant(K!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:te}=useDataRouterContext3("useViewTransitionState"),ne=useResolvedPath(Z,{relative:_.relative});if(!K.isTransitioning)return!1;let ie=stripBasename(K.currentLocation.pathname,te)||K.currentLocation.pathname,oe=stripBasename(K.nextLocation.pathname,te)||K.nextLocation.pathname;return matchPath(ne.pathname,oe)!=null||matchPath(ne.pathname,ie)!=null}new TextEncoder;function Welcome({}){const Z=useNavigate();return jsxRuntimeExports.jsx("div",{className:"welcome-container h-100",children:jsxRuntimeExports.jsx(Animator,{active:!0,duration:{enter:1,exit:1},children:jsxRuntimeExports.jsx("div",{style:{position:"relative",width:400,height:400},children:jsxRuntimeExports.jsx(Frame,{type:FrameType.CIRCLE,style:{width:400,height:400},children:jsxRuntimeExports.jsxs("div",{className:"w-100 h-100 d-flex flex-column justify-content-center align-items-center",children:[jsxRuntimeExports.jsx(Text,{as:"h1",style:{...theme.font(0),margin:theme.space([0,0,4]),paddingBottom:theme.space(4),color:theme.color.primary(4)},children:"WELCOME"}),jsxRuntimeExports.jsx(ThemeButton,{onClick:()=>{Z("/profile")},children:"Proceed"})]})})})})})}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,function(Z){(function(){var _={}.hasOwnProperty;function K(){for(var ie="",oe=0;oe<arguments.length;oe++){var se=arguments[oe];se&&(ie=ne(ie,te(se)))}return ie}function te(ie){if(typeof ie=="string"||typeof ie=="number")return ie;if(typeof ie!="object")return"";if(Array.isArray(ie))return K.apply(null,ie);if(ie.toString!==Object.prototype.toString&&!ie.toString.toString().includes("[native code]"))return ie.toString();var oe="";for(var se in ie)_.call(ie,se)&&ie[se]&&(oe=ne(oe,se));return oe}function ne(ie,oe){return oe?ie?ie+" "+oe:ie+oe:ie}Z.exports?(K.default=K,Z.exports=K):window.classNames=K})()}(classnames)),classnames.exports}var classnamesExports=requireClassnames();const classNames=getDefaultExportFromCjs(classnamesExports);function _objectWithoutPropertiesLoose$2(Z,_){if(Z==null)return{};var K={};for(var te in Z)if({}.hasOwnProperty.call(Z,te)){if(_.includes(te))continue;K[te]=Z[te]}return K}function defaultKey(Z){return"default"+Z.charAt(0).toUpperCase()+Z.substr(1)}function _toPropertyKey(Z){var _=_toPrimitive(Z,"string");return typeof _=="symbol"?_:String(_)}function _toPrimitive(Z,_){if(typeof Z!="object"||Z===null)return Z;var K=Z[Symbol.toPrimitive];if(K!==void 0){var te=K.call(Z,_);if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}function useUncontrolledProp(Z,_,K){var te=reactExports.useRef(Z!==void 0),ne=reactExports.useState(_),ie=ne[0],oe=ne[1],se=Z!==void 0,le=te.current;return te.current=se,!se&&le&&ie!==_&&oe(_),[se?Z:ie,reactExports.useCallback(function(ce){for(var fe=arguments.length,pe=new Array(fe>1?fe-1:0),me=1;me<fe;me++)pe[me-1]=arguments[me];K&&K.apply(void 0,[ce].concat(pe)),oe(ce)},[K])]}function useUncontrolled(Z,_){return Object.keys(_).reduce(function(K,te){var ne,ie=K,oe=ie[defaultKey(te)],se=ie[te],le=_objectWithoutPropertiesLoose$2(ie,[defaultKey(te),te].map(_toPropertyKey)),ce=_[te],fe=useUncontrolledProp(se,oe,Z[ce]),pe=fe[0],me=fe[1];return _extends$1({},le,(ne={},ne[te]=pe,ne[ce]=me,ne))},Z)}function _setPrototypeOf(Z,_){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,te){return K.__proto__=te,K},_setPrototypeOf(Z,_)}function _inheritsLoose(Z,_){Z.prototype=Object.create(_.prototype),Z.prototype.constructor=Z,_setPrototypeOf(Z,_)}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT}),{Consumer,Provider}=ThemeContext;function useBootstrapPrefix(Z,_){const{prefixes:K}=reactExports.useContext(ThemeContext);return Z||K[_]||_}function useBootstrapBreakpoints(){const{breakpoints:Z}=reactExports.useContext(ThemeContext);return Z}function useBootstrapMinBreakpoint(){const{minBreakpoint:Z}=reactExports.useContext(ThemeContext);return Z}function useIsRTL(){const{dir:Z}=reactExports.useContext(ThemeContext);return Z==="rtl"}function ownerDocument(Z){return Z&&Z.ownerDocument||document}function ownerWindow(Z){var _=ownerDocument(Z);return _&&_.defaultView||window}function getComputedStyle$1(Z,_){return ownerWindow(Z).getComputedStyle(Z,_)}var rUpper=/([A-Z])/g;function hyphenate(Z){return Z.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(Z){return hyphenate(Z).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(Z){return!!(Z&&supportedTransforms.test(Z))}function style(Z,_){var K="",te="";if(typeof _=="string")return Z.style.getPropertyValue(hyphenateStyleName(_))||getComputedStyle$1(Z).getPropertyValue(hyphenateStyleName(_));Object.keys(_).forEach(function(ne){var ie=_[ne];!ie&&ie!==0?Z.style.removeProperty(hyphenateStyleName(ne)):isTransform(ne)?te+=ne+"("+ie+") ":K+=hyphenateStyleName(ne)+": "+ie+";"}),te&&(K+="transform: "+te+";"),Z.style.cssText+=";"+K}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function Z(_){return _.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(Z){_inheritsLoose(_,Z);function _(te,ne){var ie;ie=Z.call(this,te,ne)||this;var oe=ne,se=oe&&!oe.isMounting?te.enter:te.appear,le;return ie.appearStatus=null,te.in?se?(le=EXITED,ie.appearStatus=ENTERING):le=ENTERED:te.unmountOnExit||te.mountOnEnter?le=UNMOUNTED:le=EXITED,ie.state={status:le},ie.nextCallback=null,ie}_.getDerivedStateFromProps=function(ne,ie){var oe=ne.in;return oe&&ie.status===UNMOUNTED?{status:EXITED}:null};var K=_.prototype;return K.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},K.componentDidUpdate=function(ne){var ie=null;if(ne!==this.props){var oe=this.state.status;this.props.in?oe!==ENTERING&&oe!==ENTERED&&(ie=ENTERING):(oe===ENTERING||oe===ENTERED)&&(ie=EXITING)}this.updateStatus(!1,ie)},K.componentWillUnmount=function(){this.cancelNextCallback()},K.getTimeouts=function(){var ne=this.props.timeout,ie,oe,se;return ie=oe=se=ne,ne!=null&&typeof ne!="number"&&(ie=ne.exit,oe=ne.enter,se=ne.appear!==void 0?ne.appear:oe),{exit:ie,enter:oe,appear:se}},K.updateStatus=function(ne,ie){if(ne===void 0&&(ne=!1),ie!==null)if(this.cancelNextCallback(),ie===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var oe=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);oe&&forceReflow(oe)}this.performEnter(ne)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},K.performEnter=function(ne){var ie=this,oe=this.props.enter,se=this.context?this.context.isMounting:ne,le=this.props.nodeRef?[se]:[ReactDOM.findDOMNode(this),se],ce=le[0],fe=le[1],pe=this.getTimeouts(),me=se?pe.appear:pe.enter;if(!ne&&!oe||config.disabled){this.safeSetState({status:ENTERED},function(){ie.props.onEntered(ce)});return}this.props.onEnter(ce,fe),this.safeSetState({status:ENTERING},function(){ie.props.onEntering(ce,fe),ie.onTransitionEnd(me,function(){ie.safeSetState({status:ENTERED},function(){ie.props.onEntered(ce,fe)})})})},K.performExit=function(){var ne=this,ie=this.props.exit,oe=this.getTimeouts(),se=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!ie||config.disabled){this.safeSetState({status:EXITED},function(){ne.props.onExited(se)});return}this.props.onExit(se),this.safeSetState({status:EXITING},function(){ne.props.onExiting(se),ne.onTransitionEnd(oe.exit,function(){ne.safeSetState({status:EXITED},function(){ne.props.onExited(se)})})})},K.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},K.safeSetState=function(ne,ie){ie=this.setNextCallback(ie),this.setState(ne,ie)},K.setNextCallback=function(ne){var ie=this,oe=!0;return this.nextCallback=function(se){oe&&(oe=!1,ie.nextCallback=null,ne(se))},this.nextCallback.cancel=function(){oe=!1},this.nextCallback},K.onTransitionEnd=function(ne,ie){this.setNextCallback(ie);var oe=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),se=ne==null&&!this.props.addEndListener;if(!oe||se){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var le=this.props.nodeRef?[this.nextCallback]:[oe,this.nextCallback],ce=le[0],fe=le[1];this.props.addEndListener(ce,fe)}ne!=null&&setTimeout(this.nextCallback,ne)},K.render=function(){var ne=this.state.status;if(ne===UNMOUNTED)return null;var ie=this.props,oe=ie.children;ie.in,ie.mountOnEnter,ie.unmountOnExit,ie.appear,ie.enter,ie.exit,ie.timeout,ie.addEndListener,ie.onEnter,ie.onEntering,ie.onEntered,ie.onExit,ie.onExiting,ie.onExited,ie.nodeRef;var se=_objectWithoutPropertiesLoose$2(ie,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof oe=="function"?oe(ne,se):React.cloneElement(React.Children.only(oe),se))},_}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch(Z){}function addEventListener(Z,_,K,te){if(te&&typeof te!="boolean"&&!onceSupported){var ne=te.once,ie=te.capture,oe=K;!onceSupported&&ne&&(oe=K.__once||function se(le){this.removeEventListener(_,se,ie),K.call(this,le)},K.__once=oe),Z.addEventListener(_,oe,optionsSupported?te:ie)}Z.addEventListener(_,K,te)}function removeEventListener(Z,_,K,te){var ne=te&&typeof te!="boolean"?te.capture:te;Z.removeEventListener(_,K,ne),K.__once&&Z.removeEventListener(_,K.__once,ne)}function listen(Z,_,K,te){return addEventListener(Z,_,K,te),function(){removeEventListener(Z,_,K,te)}}function triggerEvent(Z,_,K,te){if(te===void 0&&(te=!0),Z){var ne=document.createEvent("HTMLEvents");ne.initEvent(_,K,te),Z.dispatchEvent(ne)}}function parseDuration$1(Z){var _=style(Z,"transitionDuration")||"",K=_.indexOf("ms")===-1?1e3:1;return parseFloat(_)*K}function emulateTransitionEnd(Z,_,K){K===void 0&&(K=5);var te=!1,ne=setTimeout(function(){te||triggerEvent(Z,"transitionend",!0)},_+K),ie=listen(Z,"transitionend",function(){te=!0},{once:!0});return function(){clearTimeout(ne),ie()}}function transitionEnd(Z,_,K,te){K==null&&(K=parseDuration$1(Z)||0);var ne=emulateTransitionEnd(Z,K,te),ie=listen(Z,"transitionend",_);return function(){ne(),ie()}}function parseDuration(Z,_){const K=style(Z,_)||"",te=K.indexOf("ms")===-1?1e3:1;return parseFloat(K)*te}function transitionEndListener(Z,_){const K=parseDuration(Z,"transitionDuration"),te=parseDuration(Z,"transitionDelay"),ne=transitionEnd(Z,ie=>{ie.target===Z&&(ne(),_(ie))},K+te)}function triggerBrowserReflow(Z){Z.offsetHeight}const toFnRef=Z=>!Z||typeof Z=="function"?Z:_=>{Z.current=_};function mergeRefs(Z,_){const K=toFnRef(Z),te=toFnRef(_);return ne=>{K&&K(ne),te&&te(ne)}}function useMergedRefs(Z,_){return reactExports.useMemo(()=>mergeRefs(Z,_),[Z,_])}function safeFindDOMNode(Z){return Z&&"setState"in Z?ReactDOM.findDOMNode(Z):Z??null}const TransitionWrapper=React.forwardRef(({onEnter:Z,onEntering:_,onEntered:K,onExit:te,onExiting:ne,onExited:ie,addEndListener:oe,children:se,childRef:le,...ce},fe)=>{const pe=reactExports.useRef(null),me=useMergedRefs(pe,le),ve=$e=>{me(safeFindDOMNode($e))},ye=$e=>ke=>{$e&&pe.current&&$e(pe.current,ke)},Ee=reactExports.useCallback(ye(Z),[Z]),Se=reactExports.useCallback(ye(_),[_]),_e=reactExports.useCallback(ye(K),[K]),Te=reactExports.useCallback(ye(te),[te]),Re=reactExports.useCallback(ye(ne),[ne]),Pe=reactExports.useCallback(ye(ie),[ie]),Fe=reactExports.useCallback(ye(oe),[oe]);return jsxRuntimeExports.jsx(Transition,{ref:fe,...ce,onEnter:Ee,onEntered:_e,onEntering:Se,onExit:Te,onExited:Pe,onExiting:Re,addEndListener:Fe,nodeRef:pe,children:typeof se=="function"?($e,ke)=>se($e,{...ke,ref:ve}):React.cloneElement(se,{ref:ve})})});function useCommittedRef$1(Z){const _=reactExports.useRef(Z);return reactExports.useEffect(()=>{_.current=Z},[Z]),_}function useEventCallback$1(Z){const _=useCommittedRef$1(Z);return reactExports.useCallback(function(...K){return _.current&&_.current(...K)},[_])}function useCommittedRef(Z){const _=reactExports.useRef(Z);return reactExports.useEffect(()=>{_.current=Z},[Z]),_}function useEventCallback(Z){const _=useCommittedRef(Z);return reactExports.useCallback(function(...K){return _.current&&_.current(...K)},[_])}const _excluded$1=["as","disabled"];function _objectWithoutPropertiesLoose$1(Z,_){if(Z==null)return{};var K={};for(var te in Z)if({}.hasOwnProperty.call(Z,te)){if(_.indexOf(te)>=0)continue;K[te]=Z[te]}return K}function isTrivialHref$1(Z){return!Z||Z.trim()==="#"}function useButtonProps({tagName:Z,disabled:_,href:K,target:te,rel:ne,role:ie,onClick:oe,tabIndex:se=0,type:le}){Z||(K!=null||te!=null||ne!=null?Z="a":Z="button");const ce={tagName:Z};if(Z==="button")return[{type:le||"button",disabled:_},ce];const fe=me=>{if((_||Z==="a"&&isTrivialHref$1(K))&&me.preventDefault(),_){me.stopPropagation();return}oe==null||oe(me)},pe=me=>{me.key===" "&&(me.preventDefault(),fe(me))};return Z==="a"&&(K||(K="#"),_&&(K=void 0)),[{role:ie??"button",disabled:void 0,tabIndex:_?void 0:se,href:K,target:Z==="a"?te:void 0,"aria-disabled":_||void 0,rel:Z==="a"?ne:void 0,onClick:fe,onKeyDown:pe},ce]}const Button=reactExports.forwardRef((Z,_)=>{let{as:K,disabled:te}=Z,ne=_objectWithoutPropertiesLoose$1(Z,_excluded$1);const[ie,{tagName:oe}]=useButtonProps(Object.assign({tagName:K,disabled:te},ne));return jsxRuntimeExports.jsx(oe,Object.assign({},ne,ie,{ref:_}))});Button.displayName="Button";const _excluded=["onKeyDown"];function _objectWithoutPropertiesLoose(Z,_){if(Z==null)return{};var K={};for(var te in Z)if({}.hasOwnProperty.call(Z,te)){if(_.indexOf(te)>=0)continue;K[te]=Z[te]}return K}function isTrivialHref(Z){return!Z||Z.trim()==="#"}const Anchor=reactExports.forwardRef((Z,_)=>{let{onKeyDown:K}=Z,te=_objectWithoutPropertiesLoose(Z,_excluded);const[ne]=useButtonProps(Object.assign({tagName:"a"},te)),ie=useEventCallback(oe=>{ne.onKeyDown(oe),K==null||K(oe)});return isTrivialHref(te.href)||te.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:_},te,ne,{onKeyDown:ie})):jsxRuntimeExports.jsx("a",Object.assign({ref:_},te,{onKeyDown:K}))});Anchor.displayName="Anchor";function useUpdateEffect(Z,_){const K=reactExports.useRef(!0);reactExports.useEffect(()=>{if(K.current){K.current=!1;return}return Z()},_)}function useMounted(){const Z=reactExports.useRef(!0),_=reactExports.useRef(()=>Z.current);return reactExports.useEffect(()=>(Z.current=!0,()=>{Z.current=!1}),[]),_.current}function useUpdatedRef(Z){const _=reactExports.useRef(Z);return _.current=Z,_}function useWillUnmount(Z){const _=useUpdatedRef(Z);reactExports.useEffect(()=>()=>_.current(),[])}const MAX_DELAY_MS=2**31-1;function setChainedTimeout(Z,_,K){const te=K-Date.now();Z.current=te<=MAX_DELAY_MS?setTimeout(_,te):setTimeout(()=>setChainedTimeout(Z,_,K),MAX_DELAY_MS)}function useTimeout(){const Z=useMounted(),_=reactExports.useRef();return useWillUnmount(()=>clearTimeout(_.current)),reactExports.useMemo(()=>{const K=()=>clearTimeout(_.current);function te(ne,ie=0){Z()&&(K(),ie<=MAX_DELAY_MS?_.current=setTimeout(ne,ie):setChainedTimeout(_,ne,Date.now()+ie))}return{set:te,clear:K,handleRef:_}},[])}const CarouselCaption=reactExports.forwardRef(({className:Z,bsPrefix:_,as:K="div",...te},ne)=>(_=useBootstrapPrefix(_,"carousel-caption"),jsxRuntimeExports.jsx(K,{ref:ne,className:classNames(Z,_),...te})));CarouselCaption.displayName="CarouselCaption";const CarouselItem=reactExports.forwardRef(({as:Z="div",bsPrefix:_,className:K,...te},ne)=>{const ie=classNames(K,useBootstrapPrefix(_,"carousel-item"));return jsxRuntimeExports.jsx(Z,{ref:ne,...te,className:ie})});CarouselItem.displayName="CarouselItem";function map(Z,_){let K=0;return reactExports.Children.map(Z,te=>reactExports.isValidElement(te)?_(te,K++):te)}function forEach(Z,_){let K=0;reactExports.Children.forEach(Z,te=>{reactExports.isValidElement(te)&&_(te,K++)})}const SWIPE_THRESHOLD=40;function isVisible(Z){if(!Z||!Z.style||!Z.parentNode||!Z.parentNode.style)return!1;const _=getComputedStyle(Z);return _.display!=="none"&&_.visibility!=="hidden"&&getComputedStyle(Z.parentNode).display!=="none"}const Carousel=reactExports.forwardRef(({defaultActiveIndex:Z=0,..._},K)=>{const{as:te="div",bsPrefix:ne,slide:ie=!0,fade:oe=!1,controls:se=!0,indicators:le=!0,indicatorLabels:ce=[],activeIndex:fe,onSelect:pe,onSlide:me,onSlid:ve,interval:ye=5e3,keyboard:Ee=!0,onKeyDown:Se,pause:_e="hover",onMouseOver:Te,onMouseOut:Re,wrap:Pe=!0,touch:Fe=!0,onTouchStart:$e,onTouchMove:ke,onTouchEnd:ze,prevIcon:Ue=jsxRuntimeExports.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Oe="Previous",nextIcon:Ve=jsxRuntimeExports.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:Ye="Next",variant:Ke,className:rt,children:ct,...at}=useUncontrolled({defaultActiveIndex:Z,..._},{activeIndex:"onSelect"}),mt=useBootstrapPrefix(ne,"carousel"),je=useIsRTL(),it=reactExports.useRef(null),[et,qe]=reactExports.useState("next"),[lt,_t]=reactExports.useState(!1),[ut,St]=reactExports.useState(!1),[Et,At]=reactExports.useState(fe||0);reactExports.useEffect(()=>{!ut&&fe!==Et&&(it.current?qe(it.current):qe((fe||0)>Et?"next":"prev"),ie&&St(!0),At(fe||0))},[fe,ut,Et,ie]),reactExports.useEffect(()=>{it.current&&(it.current=null)});let kt=0,jt;forEach(ct,(Ft,Zt)=>{++kt,Zt===fe&&(jt=Ft.props.interval)});const en=useCommittedRef$1(jt),un=reactExports.useCallback(Ft=>{if(ut)return;let Zt=Et-1;if(Zt<0){if(!Pe)return;Zt=kt-1}it.current="prev",pe==null||pe(Zt,Ft)},[ut,Et,pe,Pe,kt]),It=useEventCallback$1(Ft=>{if(ut)return;let Zt=Et+1;if(Zt>=kt){if(!Pe)return;Zt=0}it.current="next",pe==null||pe(Zt,Ft)}),Ot=reactExports.useRef();reactExports.useImperativeHandle(K,()=>({element:Ot.current,prev:un,next:It}));const Ze=useEventCallback$1(()=>{!document.hidden&&isVisible(Ot.current)&&(je?un():It())}),sn=et==="next"?"start":"end";useUpdateEffect(()=>{ie||(me==null||me(Et,sn),ve==null||ve(Et,sn))},[Et]);const Bt=`${mt}-item-${et}`,rn=`${mt}-item-${sn}`,Gt=reactExports.useCallback(Ft=>{triggerBrowserReflow(Ft),me==null||me(Et,sn)},[me,Et,sn]),pn=reactExports.useCallback(()=>{St(!1),ve==null||ve(Et,sn)},[ve,Et,sn]),qt=reactExports.useCallback(Ft=>{if(Ee&&!/input|textarea/i.test(Ft.target.tagName))switch(Ft.key){case"ArrowLeft":Ft.preventDefault(),je?It(Ft):un(Ft);return;case"ArrowRight":Ft.preventDefault(),je?un(Ft):It(Ft);return}Se==null||Se(Ft)},[Ee,Se,un,It,je]),Xe=reactExports.useCallback(Ft=>{_e==="hover"&&_t(!0),Te==null||Te(Ft)},[_e,Te]),He=reactExports.useCallback(Ft=>{_t(!1),Re==null||Re(Ft)},[Re]),tt=reactExports.useRef(0),pt=reactExports.useRef(0),Lt=useTimeout(),Ct=reactExports.useCallback(Ft=>{tt.current=Ft.touches[0].clientX,pt.current=0,_e==="hover"&&_t(!0),$e==null||$e(Ft)},[_e,$e]),nn=reactExports.useCallback(Ft=>{Ft.touches&&Ft.touches.length>1?pt.current=0:pt.current=Ft.touches[0].clientX-tt.current,ke==null||ke(Ft)},[ke]),Xt=reactExports.useCallback(Ft=>{if(Fe){const Zt=pt.current;Math.abs(Zt)>SWIPE_THRESHOLD&&(Zt>0?un(Ft):It(Ft))}_e==="hover"&&Lt.set(()=>{_t(!1)},ye||void 0),ze==null||ze(Ft)},[Fe,_e,un,It,Lt,ye,ze]),Qt=ye!=null&&!lt&&!ut,Rn=reactExports.useRef();reactExports.useEffect(()=>{var Ft,Zt;if(!Qt)return;const yn=je?un:It;return Rn.current=window.setInterval(document.visibilityState?Ze:yn,(Ft=(Zt=en.current)!=null?Zt:ye)!=null?Ft:void 0),()=>{Rn.current!==null&&clearInterval(Rn.current)}},[Qt,un,It,en,ye,Ze,je]);const Ut=reactExports.useMemo(()=>le&&Array.from({length:kt},(Ft,Zt)=>yn=>{pe==null||pe(Zt,yn)}),[le,kt,pe]);return jsxRuntimeExports.jsxs(te,{ref:Ot,...at,onKeyDown:qt,onMouseOver:Xe,onMouseOut:He,onTouchStart:Ct,onTouchMove:nn,onTouchEnd:Xt,className:classNames(rt,mt,ie&&"slide",oe&&`${mt}-fade`,Ke&&`${mt}-${Ke}`),children:[le&&jsxRuntimeExports.jsx("div",{className:`${mt}-indicators`,children:map(ct,(Ft,Zt)=>jsxRuntimeExports.jsx("button",{type:"button","data-bs-target":"","aria-label":ce!=null&&ce.length?ce[Zt]:`Slide ${Zt+1}`,className:Zt===Et?"active":void 0,onClick:Ut?Ut[Zt]:void 0,"aria-current":Zt===Et},Zt))}),jsxRuntimeExports.jsx("div",{className:`${mt}-inner`,children:map(ct,(Ft,Zt)=>{const yn=Zt===Et;return ie?jsxRuntimeExports.jsx(TransitionWrapper,{in:yn,onEnter:yn?Gt:void 0,onEntered:yn?pn:void 0,addEndListener:transitionEndListener,children:(an,ot)=>reactExports.cloneElement(Ft,{...ot,className:classNames(Ft.props.className,yn&&an!=="entered"&&Bt,(an==="entered"||an==="exiting")&&"active",(an==="entering"||an==="exiting")&&rn)})}):reactExports.cloneElement(Ft,{className:classNames(Ft.props.className,yn&&"active")})})}),se&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(Pe||fe!==0)&&jsxRuntimeExports.jsxs(Anchor,{className:`${mt}-control-prev`,onClick:un,children:[Ue,Oe&&jsxRuntimeExports.jsx("span",{className:"visually-hidden",children:Oe})]}),(Pe||fe!==kt-1)&&jsxRuntimeExports.jsxs(Anchor,{className:`${mt}-control-next`,onClick:It,children:[Ve,Ye&&jsxRuntimeExports.jsx("span",{className:"visually-hidden",children:Ye})]})]})]})});Carousel.displayName="Carousel";const Carousel$1=Object.assign(Carousel,{Caption:CarouselCaption,Item:CarouselItem});function useCol({as:Z,bsPrefix:_,className:K,...te}){_=useBootstrapPrefix(_,"col");const ne=useBootstrapBreakpoints(),ie=useBootstrapMinBreakpoint(),oe=[],se=[];return ne.forEach(le=>{const ce=te[le];delete te[le];let fe,pe,me;typeof ce=="object"&&ce!=null?{span:fe,offset:pe,order:me}=ce:fe=ce;const ve=le!==ie?`-${le}`:"";fe&&oe.push(fe===!0?`${_}${ve}`:`${_}${ve}-${fe}`),me!=null&&se.push(`order${ve}-${me}`),pe!=null&&se.push(`offset${ve}-${pe}`)}),[{...te,className:classNames(K,...oe,...se)},{as:Z,bsPrefix:_,spans:oe}]}const Col=reactExports.forwardRef((Z,_)=>{const[{className:K,...te},{as:ne="div",bsPrefix:ie,spans:oe}]=useCol(Z);return jsxRuntimeExports.jsx(ne,{...te,ref:_,className:classNames(K,!oe.length&&ie)})});Col.displayName="Col";const Row=reactExports.forwardRef(({bsPrefix:Z,className:_,as:K="div",...te},ne)=>{const ie=useBootstrapPrefix(Z,"row"),oe=useBootstrapBreakpoints(),se=useBootstrapMinBreakpoint(),le=`${ie}-cols`,ce=[];return oe.forEach(fe=>{const pe=te[fe];delete te[fe];let me;pe!=null&&typeof pe=="object"?{cols:me}=pe:me=pe;const ve=fe!==se?`-${fe}`:"";me!=null&&ce.push(`${le}${ve}-${me}`)}),jsxRuntimeExports.jsx(K,{ref:ne,...te,className:classNames(_,ie,...ce)})});Row.displayName="Row";function Header(){const[Z,_]=reactExports.useState();return reactExports.useEffect(()=>{fetch("/resources/header_icons.json").then(K=>K.json()).then(K=>{const te=K.map((ne,ie)=>jsxRuntimeExports.jsx("a",{target:"_blank",href:ne.url,style:{pointerEvents:"auto"},children:jsxRuntimeExports.jsx(Animated,{as:"i",className:`fa-3x fab ${ne.font_awesome}`,style:{marginRight:theme.space(4)},animated:["flicker",["rotate",-45,0]]})},`icon-${ie}`));_(te)}).catch(K=>console.error("Error fetching JSON:",K))},[]),jsxRuntimeExports.jsx(Animator,{children:jsxRuntimeExports.jsx(Frame,{type:FrameType.OCTAGON,children:jsxRuntimeExports.jsxs(Row,{className:"position-relative align-items-center",style:{padding:"10px 0"},children:[jsxRuntimeExports.jsxs(Col,{className:"d-flex align-items-center",style:{marginLeft:theme.space(3)},children:[jsxRuntimeExports.jsx(Animator,{duration:{enter:.8},children:jsxRuntimeExports.jsx(Animated,{as:"img",className:"logo-image",animated:["flicker",["rotate",-45,0]],src:"assets/images/logoicon.svg"})}),jsxRuntimeExports.jsx(Text,{as:"h2",style:{textTransform:"uppercase",marginLeft:theme.space(3),color:theme.color.primary(3),textShadow:`0 0 2px ${theme.color.primary(3)}`},children:"///Acess Granted///"})]}),jsxRuntimeExports.jsx(Col,{className:"d-flex justify-content-end",style:{marginRight:theme.space(3)},children:Z})]})})})}addStyles(`
.logo-image::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none; /* Prevent blocking the image */
  background-color: ${theme.color.primary(3)};
}
`);function SidebarItem({label:Z,duration:_,subItems:K,selectedItem:te,selectedSubItem:ne,onItemSelect:ie,onSubItemSelect:oe}){const se=useNavigate(),[le,ce]=reactExports.useState(null),[fe,pe]=reactExports.useState(!1),me=useBleeps();return reactExports.useEffect(()=>{te&&pe(te.toLowerCase()===Z.toLowerCase())},[te,Z]),reactExports.useEffect(()=>{if(K){const ve=K.map((ye,Ee)=>{const Se=ne&&fe&&ne.toLowerCase()===ye.label.toLowerCase();return jsxRuntimeExports.jsx(Text,{as:"li",className:`sidebar-sub-item ${Se?"active":""}`.trim(),onClick:()=>{var Te;(Te=me.click)==null||Te.play(),ie==null||ie(Z),oe==null||oe(ye.label);const _e=`/profile/${Z.toLowerCase()}/${Ee}`;se(_e,{replace:!0})},onMouseEnter:()=>{var _e;(_e=me.hover)==null||_e.play()},style:{fontFamily:theme.font(0).fontFamily,fontWeight:theme.font(0).fontWeight,fontSize:"1.3rem",color:theme.color.primary(4)},duration:{delay:Ee*.1},children:ye.label},`sub-item-${Ee}`)});ce(ve)}},[me,fe,K,te,ne,oe,ie,Z]),jsxRuntimeExports.jsx(Animator,{duration:_,children:jsxRuntimeExports.jsxs("div",{className:"sidebar-item-wrapper",children:[jsxRuntimeExports.jsx("div",{className:`sidebar-item ${fe?"active":""}`,style:{pointerEvents:K?"none":"auto"},onClick:()=>{ie&&ie(Z),K||se("/profile/"+Z.toLowerCase(),{replace:!0})},onMouseEnter:()=>{var ve;(ve=me.hover)==null||ve.play()},children:jsxRuntimeExports.jsx(Text,{as:"div",style:{textTransform:"uppercase",fontStyle:"italic",fontFamily:theme.font(0).fontFamily,fontWeight:theme.font(0).fontWeight,fontSize:"1.5rem",color:theme.color.primary(4)},children:Z})}),K&&le&&jsxRuntimeExports.jsx("ol",{className:"sidebar-sub-items-wrapper",children:le})]})})}function Sidebar({profileData:Z}){const[_,K]=reactExports.useState([]),[te,ne]=reactExports.useState(null),[ie,oe]=reactExports.useState(null);return reactExports.useEffect(()=>{if(Z){const se=Object.entries(Z).map(([le,ce],fe)=>jsxRuntimeExports.jsx(SidebarItem,{label:le,subItems:Array.isArray(ce)?ce:null,selectedItem:te,selectedSubItem:ie,onItemSelect:ne,onSubItemSelect:oe,duration:{delay:fe*.1}},`sidebar-item-${le}`));K(se)}},[Z,te,ie,ne,oe]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Frame,{style:{width:"100%",position:"relative",height:"auto"},type:FrameType.OCTAGON,children:jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",display:"flex",flexDirection:"column",padding:theme.space(4)},children:_})})})}addStyles(`
.sidebar-item-wrapper{
    margin-bottom: ${theme.space(2)};
}

.sidebar-item{
    width: 100%;
    border-bottom: 2px solid ${theme.color.primary(2)};
    margin-bottom: ${theme.space(2)};
    cursor: pointer;
}

.sidebar-item.active, .sidebar-item:hover, .sidebar-item:focus{
    border-bottom: 2px solid ${theme.color.secondary(4)};
}

.sidebar-item.active span, .sidebar-item:hover span, .sidebar-item:focus span {
    color: ${theme.color.secondary(4)};
}

.sidebar-sub-items-wrapper{
    margin-left: ${theme.space(2)};
}

.sidebar-sub-item{
    width: 100%;
    border-bottom: 1px solid ${theme.color.primary(2)};
    margin-bottom: ${theme.space(2)};
    cursor: pointer;
    pointer-events: auto;
}

.sidebar-sub-item.active, .sidebar-sub-item:hover, .sidebar-sub-item:focus{
    border-bottom: 1px solid ${theme.color.secondary(4)};
}

.sidebar-sub-item.active span, .sidebar-sub-item:hover span, .sidebar-sub-item:focus span {
    color: ${theme.color.secondary(4)};
}

`);const SciFiCarousel=({images:Z,styles:_,className:K})=>jsxRuntimeExports.jsx(Carousel$1,{className:`sci-fi-carousel ${K}`.trim(),interval:5e3,wrap:!0,style:_,children:Z.map((te,ne)=>jsxRuntimeExports.jsx(Carousel$1.Item,{children:jsxRuntimeExports.jsx("img",{className:"d-block w-100 sci-fi-img",src:te,alt:`Sci-Fi Image ${ne+1}`})},ne))});addStyles(`
.sci-fi-img {
  border-radius: 15px;
  filter: brightness(0.8);
  transition: filter 0.3s ease-in-out;
  height: 100%;
  width: 100%;
  object-fit: cover;
  object-position: center;
}

.sci-fi-img:hover {
  filter: brightness(1) contrast(1.1);
}

.sci-fi-carousel {
  box-shadow: 0 0 30px ${theme.color.primary(9,{alpha:.5})};
  border-radius: 15px;
  pointer-events: auto;
}


.carousel-inner {
  background: radial-gradient(circle at center, #1a1a1a, #0f0f0f);
  /*border: 1px solid ${theme.color.primary(6)}; #00ff99 Glowing border effect */
  box-shadow: 0 0 30px ${theme.color.primary(9,{alpha:.5})}; /* rgba(0, 255, 153, 0.5)Glowing effect */
}

.carousel-control-prev,
.carousel-control-next {
  background-color: transparent;
}
.carousel-control-prev-icon,
.carousel-control-next-icon {
  pointer-events: auto;
  color: ${theme.color.primary(6)}; /* #00ff99Sci-fi glow */
}
`);const RESOURCE_DIR_ROOT="/resources/projects/";function Project({projectsData:Z}){const{index:_}=useParams(),[K,te]=reactExports.useState(""),[ne,ie]=reactExports.useState(""),[oe,se]=reactExports.useState(),[le,ce]=reactExports.useState(),[fe,pe]=reactExports.useState("");return reactExports.useEffect(()=>{if(Z&&_!==void 0){const me=Z[parseInt(_)];te(me.label),ie(me.description),se(me.demo_url),pe(me.link);const ve=me.screenshots.map(ye=>RESOURCE_DIR_ROOT+me.resource_directory+"/"+ye);ce(ve)}},[Z,_]),K?jsxRuntimeExports.jsxs("div",{className:"w-100",children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",marginTop:theme.space(5),display:"flex",justifyContent:"center",paddingBottom:theme.space(2),borderBottom:`1px solid ${theme.color.primary(3)}`,boxShadow:`0 10px 15px ${theme.color.primary(6,{alpha:.5})}`},children:jsxRuntimeExports.jsx(Text,{as:"h1",children:K})}),fe&&jsxRuntimeExports.jsx("a",{target:"_blank",href:fe,style:{pointerEvents:"auto",position:"absolute",right:theme.space(6),top:theme.space(5)},children:jsxRuntimeExports.jsx(Animated,{as:"i",className:"fa-2x fas fa-external-link-alt",style:{marginRight:theme.space(4)},animated:["flicker",["rotate",-45,0]]})})]})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{sm:{offset:1,span:10},md:{offset:2,span:8},children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Text,{as:"p",className:"project-description",style:{marginTop:theme.space(4),textAlign:"justify"},children:ne})}),oe&&jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Frame,{className:"demo-frame",type:FrameType.NERO,style:{position:"relative",width:"100%",marginTop:theme.space(4),marginBottom:theme.space(6),padding:"5px"},children:jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",paddingTop:"56.25%",pointerEvents:"auto",borderRadius:"15px",border:`1px solid ${theme.color.primary(6)}`},children:jsxRuntimeExports.jsx("iframe",{src:oe,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},allowFullScreen:!0})})})}),le&&le.length>0&&jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Frame,{className:"carousel-frame",style:{padding:"5px",marginBottom:theme.space(6)},type:FrameType.NERO,children:jsxRuntimeExports.jsx(SciFiCarousel,{styles:{width:"100%",position:"relative",borderRadius:"15px",border:`1px solid ${theme.color.primary(6)}`},images:le})})})]})})]}):jsxRuntimeExports.jsx("div",{className:"w-100",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(Text,{as:"h1",children:"No project found"})})})})}function Profile(){const[Z,_]=reactExports.useState();return reactExports.useEffect(()=>{fetch("/resources/profile_data.json").then(K=>K.json()).then(K=>{_(K)}).catch(K=>console.error("Error fetching JSON:",K))},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Row,{style:{marginTop:theme.space(4)},children:jsxRuntimeExports.jsxs(Animator,{children:[jsxRuntimeExports.jsx(Col,{className:"left-panel",xl:3,md:4,sm:5,children:jsxRuntimeExports.jsx(Sidebar,{profileData:Z})}),jsxRuntimeExports.jsx(Col,{className:"right-panel",style:{width:"100%",position:"relative"},children:jsxRuntimeExports.jsx(Frame,{type:FrameType.OCTAGON,children:jsxRuntimeExports.jsx(Routes,{children:Z&&jsxRuntimeExports.jsx(Route,{path:"/projects/:index",element:jsxRuntimeExports.jsx(Project,{projectsData:Z.projects})})})})})]})})]})}function MainOverlay({styles:Z}){return jsxRuntimeExports.jsx(BleepsProvider,{...bleepsSettings,children:jsxRuntimeExports.jsx("div",{className:"main-overlay",style:Z,children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Welcome,{})}),jsxRuntimeExports.jsx(Route,{path:"/profile/*",element:jsxRuntimeExports.jsx(Profile,{})})]})})})}const AsyncParticleSphere=React.lazy(()=>__vitePreload(()=>import("./ParticleSphere-C7B0U0tF.js"),[])),AsyncCityModel=React.lazy(()=>__vitePreload(()=>import("./CityModel-R13TF1Im.js"),[])),mode="prod";console.log("App Mode:",mode);addStyles(`
    #leva__root {
      display: none;
    }  
  `);function App(){const{didCatch:Z,error:_}=a$4(),K=useControls({camZoom:{value:1.26,min:0,max:5,step:.01}});return Z?jsxRuntimeExports.jsx("div",{children:_.message}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(GlobalStateProvider,{children:jsxRuntimeExports.jsxs("div",{className:"app",children:[jsxRuntimeExports.jsx(ScifiBackground,{}),jsxRuntimeExports.jsx(MainOverlay,{}),jsxRuntimeExports.jsxs(ThreeCanvas,{className:"main-canvas",style:{position:"fixed",width:"100vw",height:"100vh"},showState:mode==="dev",children:[jsxRuntimeExports.jsx(PerspectiveCamera,{makeDefault:!0,position:[0,0,5],zoom:K.camZoom}),jsxRuntimeExports.jsx(OrbitControls,{enableZoom:!1,enablePan:!1,enableRotate:!1,zoomSpeed:1,onChange:te=>console.log(te)}),jsxRuntimeExports.jsx(CameraShake,{yawFrequency:1,maxYaw:.03,pitchFrequency:.2,maxPitch:.03,rollFrequency:.5,maxRoll:.3,intensity:.2}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(AsyncCityModel,{})}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(AsyncParticleSphere,{})}),jsxRuntimeExports.jsx(PostProc,{})]})]})})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(App,{})}));export{LineBasicMaterial as $,LinearMipmapLinearFilter as A,BufferAttribute as B,Color$1 as C,DataTexture as D,NearestMipmapLinearFilter as E,FloatType as F,GlobalStateContext as G,LinearMipmapNearestFilter as H,InstancedMesh as I,NearestMipmapNearestFilter as J,LinearFilter as K,Loader as L,MathUtils as M,NormalBlending as N,OrthographicCamera as O,PreprocessGLSLForThree as P,Quaternion as Q,RGBAFormat as R,ShaderMaterial as S,TrianglesDrawMode as T,UnprojectPointer as U,Vector4 as V,RepeatWrapping as W,MirroredRepeatWrapping as X,ClampToEdgeWrapping as Y,PointsMaterial as Z,Material as _,Vector3 as a,MeshStandardMaterial as a0,DoubleSide as a1,MeshBasicMaterial as a2,PropertyBinding as a3,BufferGeometry as a4,SkinnedMesh as a5,Mesh as a6,LineSegments as a7,Line as a8,LineLoop as a9,Points as aa,Group as ab,PerspectiveCamera$1 as ac,Skeleton as ad,AnimationClip as ae,Bone as af,InterpolateDiscrete as ag,InterpolateLinear as ah,InterleavedBufferAttribute as ai,Texture as aj,VectorKeyframeTrack as ak,NumberKeyframeTrack as al,QuaternionKeyframeTrack as am,FrontSide as an,Interpolant as ao,Box3 as ap,Sphere as aq,useThree as ar,useLoader as as,Scene as b,useFrame as c,createPortal as d,extend as e,NearestFilter as f,useControls as g,REVISION as h,TriangleFanDrawMode as i,jsxRuntimeExports as j,TriangleStripDrawMode as k,LoaderUtils as l,FileLoader as m,MeshPhysicalMaterial as n,Vector2 as o,SpotLight as p,PointLight as q,reactExports as r,DirectionalLight as s,Matrix4 as t,useFBO as u,InstancedBufferAttribute as v,Object3D as w,TextureLoader as x,ImageBitmapLoader as y,InterleavedBuffer as z};
