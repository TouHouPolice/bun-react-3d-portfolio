function _mergeNamespaces(Z,_){for(var K=0;K<_.length;K++){const te=_[K];if(typeof te!="string"&&!Array.isArray(te)){for(const ne in te)if(ne!=="default"&&!(ne in Z)){const ie=Object.getOwnPropertyDescriptor(te,ne);ie&&Object.defineProperty(Z,ne,ie.get?ie:{enumerable:!0,get:()=>te[ne]})}}}return Object.freeze(Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const ne of document.querySelectorAll('link[rel="modulepreload"]'))te(ne);new MutationObserver(ne=>{for(const ie of ne)if(ie.type==="childList")for(const oe of ie.addedNodes)oe.tagName==="LINK"&&oe.rel==="modulepreload"&&te(oe)}).observe(document,{childList:!0,subtree:!0});function K(ne){const ie={};return ne.integrity&&(ie.integrity=ne.integrity),ne.referrerPolicy&&(ie.referrerPolicy=ne.referrerPolicy),ne.crossOrigin==="use-credentials"?ie.credentials="include":ne.crossOrigin==="anonymous"?ie.credentials="omit":ie.credentials="same-origin",ie}function te(ne){if(ne.ep)return;ne.ep=!0;const ie=K(ne);fetch(ne.href,ie)}})();function getDefaultExportFromCjs(Z){return Z&&Z.__esModule&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var Z=Symbol.for("react.element"),_=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),oe=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),me=Symbol.iterator;function pe(qe){return qe===null||typeof qe!="object"?null:(qe=me&&qe[me]||qe["@@iterator"],typeof qe=="function"?qe:null)}var ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ye=Object.assign,Ee={};function _e(qe,lt,Et){this.props=qe,this.context=lt,this.refs=Ee,this.updater=Et||ge}_e.prototype.isReactComponent={},_e.prototype.setState=function(qe,lt){if(typeof qe!="object"&&typeof qe!="function"&&qe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,qe,lt,"setState")},_e.prototype.forceUpdate=function(qe){this.updater.enqueueForceUpdate(this,qe,"forceUpdate")};function Se(){}Se.prototype=_e.prototype;function Re(qe,lt,Et){this.props=qe,this.context=lt,this.refs=Ee,this.updater=Et||ge}var Te=Re.prototype=new Se;Te.constructor=Re,ye(Te,_e.prototype),Te.isPureReactComponent=!0;var Ae=Array.isArray,Fe=Object.prototype.hasOwnProperty,$e={current:null},ke={key:!0,ref:!0,__self:!0,__source:!0};function ze(qe,lt,Et){var ht,dt={},Mt=null,Pt=null;if(lt!=null)for(ht in lt.ref!==void 0&&(Pt=lt.ref),lt.key!==void 0&&(Mt=""+lt.key),lt)Fe.call(lt,ht)&&!ke.hasOwnProperty(ht)&&(dt[ht]=lt[ht]);var Wt=arguments.length-2;if(Wt===1)dt.children=Et;else if(1<Wt){for(var Qt=Array(Wt),sn=0;sn<Wt;sn++)Qt[sn]=arguments[sn+2];dt.children=Qt}if(qe&&qe.defaultProps)for(ht in Wt=qe.defaultProps,Wt)dt[ht]===void 0&&(dt[ht]=Wt[ht]);return{$$typeof:Z,type:qe,key:Mt,ref:Pt,props:dt,_owner:$e.current}}function Ue(qe,lt){return{$$typeof:Z,type:qe.type,key:lt,ref:qe.ref,props:qe.props,_owner:qe._owner}}function Oe(qe){return typeof qe=="object"&&qe!==null&&qe.$$typeof===Z}function Ve(qe){var lt={"=":"=0",":":"=2"};return"$"+qe.replace(/[=:]/g,function(Et){return lt[Et]})}var Ye=/\/+/g;function Ke(qe,lt){return typeof qe=="object"&&qe!==null&&qe.key!=null?Ve(""+qe.key):lt.toString(36)}function ot(qe,lt,Et,ht,dt){var Mt=typeof qe;(Mt==="undefined"||Mt==="boolean")&&(qe=null);var Pt=!1;if(qe===null)Pt=!0;else switch(Mt){case"string":case"number":Pt=!0;break;case"object":switch(qe.$$typeof){case Z:case _:Pt=!0}}if(Pt)return Pt=qe,dt=dt(Pt),qe=ht===""?"."+Ke(Pt,0):ht,Ae(dt)?(Et="",qe!=null&&(Et=qe.replace(Ye,"$&/")+"/"),ot(dt,lt,Et,"",function(sn){return sn})):dt!=null&&(Oe(dt)&&(dt=Ue(dt,Et+(!dt.key||Pt&&Pt.key===dt.key?"":(""+dt.key).replace(Ye,"$&/")+"/")+qe)),lt.push(dt)),1;if(Pt=0,ht=ht===""?".":ht+":",Ae(qe))for(var Wt=0;Wt<qe.length;Wt++){Mt=qe[Wt];var Qt=ht+Ke(Mt,Wt);Pt+=ot(Mt,lt,Et,Qt,dt)}else if(Qt=pe(qe),typeof Qt=="function")for(qe=Qt.call(qe),Wt=0;!(Mt=qe.next()).done;)Mt=Mt.value,Qt=ht+Ke(Mt,Wt++),Pt+=ot(Mt,lt,Et,Qt,dt);else if(Mt==="object")throw lt=String(qe),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(qe).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.");return Pt}function ut(qe,lt,Et){if(qe==null)return qe;var ht=[],dt=0;return ot(qe,ht,"","",function(Mt){return lt.call(Et,Mt,dt++)}),ht}function ct(qe){if(qe._status===-1){var lt=qe._result;lt=lt(),lt.then(function(Et){(qe._status===0||qe._status===-1)&&(qe._status=1,qe._result=Et)},function(Et){(qe._status===0||qe._status===-1)&&(qe._status=2,qe._result=Et)}),qe._status===-1&&(qe._status=0,qe._result=lt)}if(qe._status===1)return qe._result.default;throw qe._result}var gt={current:null},je={transition:null},rt={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:je,ReactCurrentOwner:$e};function Qe(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ut,forEach:function(qe,lt,Et){ut(qe,function(){lt.apply(this,arguments)},Et)},count:function(qe){var lt=0;return ut(qe,function(){lt++}),lt},toArray:function(qe){return ut(qe,function(lt){return lt})||[]},only:function(qe){if(!Oe(qe))throw Error("React.Children.only expected to receive a single React element child.");return qe}},react_production_min.Component=_e,react_production_min.Fragment=K,react_production_min.Profiler=ne,react_production_min.PureComponent=Re,react_production_min.StrictMode=te,react_production_min.Suspense=le,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rt,react_production_min.act=Qe,react_production_min.cloneElement=function(qe,lt,Et){if(qe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+qe+".");var ht=ye({},qe.props),dt=qe.key,Mt=qe.ref,Pt=qe._owner;if(lt!=null){if(lt.ref!==void 0&&(Mt=lt.ref,Pt=$e.current),lt.key!==void 0&&(dt=""+lt.key),qe.type&&qe.type.defaultProps)var Wt=qe.type.defaultProps;for(Qt in lt)Fe.call(lt,Qt)&&!ke.hasOwnProperty(Qt)&&(ht[Qt]=lt[Qt]===void 0&&Wt!==void 0?Wt[Qt]:lt[Qt])}var Qt=arguments.length-2;if(Qt===1)ht.children=Et;else if(1<Qt){Wt=Array(Qt);for(var sn=0;sn<Qt;sn++)Wt[sn]=arguments[sn+2];ht.children=Wt}return{$$typeof:Z,type:qe.type,key:dt,ref:Mt,props:ht,_owner:Pt}},react_production_min.createContext=function(qe){return qe={$$typeof:oe,_currentValue:qe,_currentValue2:qe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},qe.Provider={$$typeof:ie,_context:qe},qe.Consumer=qe},react_production_min.createElement=ze,react_production_min.createFactory=function(qe){var lt=ze.bind(null,qe);return lt.type=qe,lt},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(qe){return{$$typeof:se,render:qe}},react_production_min.isValidElement=Oe,react_production_min.lazy=function(qe){return{$$typeof:fe,_payload:{_status:-1,_result:qe},_init:ct}},react_production_min.memo=function(qe,lt){return{$$typeof:ce,type:qe,compare:lt===void 0?null:lt}},react_production_min.startTransition=function(qe){var lt=je.transition;je.transition={};try{qe()}finally{je.transition=lt}},react_production_min.unstable_act=Qe,react_production_min.useCallback=function(qe,lt){return gt.current.useCallback(qe,lt)},react_production_min.useContext=function(qe){return gt.current.useContext(qe)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(qe){return gt.current.useDeferredValue(qe)},react_production_min.useEffect=function(qe,lt){return gt.current.useEffect(qe,lt)},react_production_min.useId=function(){return gt.current.useId()},react_production_min.useImperativeHandle=function(qe,lt,Et){return gt.current.useImperativeHandle(qe,lt,Et)},react_production_min.useInsertionEffect=function(qe,lt){return gt.current.useInsertionEffect(qe,lt)},react_production_min.useLayoutEffect=function(qe,lt){return gt.current.useLayoutEffect(qe,lt)},react_production_min.useMemo=function(qe,lt){return gt.current.useMemo(qe,lt)},react_production_min.useReducer=function(qe,lt,Et){return gt.current.useReducer(qe,lt,Et)},react_production_min.useRef=function(qe){return gt.current.useRef(qe)},react_production_min.useState=function(qe){return gt.current.useState(qe)},react_production_min.useSyncExternalStore=function(qe,lt,Et){return gt.current.useSyncExternalStore(qe,lt,Et)},react_production_min.useTransition=function(){return gt.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var Z=requireReact(),_=Symbol.for("react.element"),K=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,ne=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ie={key:!0,ref:!0,__self:!0,__source:!0};function oe(se,le,ce){var fe,me={},pe=null,ge=null;ce!==void 0&&(pe=""+ce),le.key!==void 0&&(pe=""+le.key),le.ref!==void 0&&(ge=le.ref);for(fe in le)te.call(le,fe)&&!ie.hasOwnProperty(fe)&&(me[fe]=le[fe]);if(se&&se.defaultProps)for(fe in le=se.defaultProps,le)me[fe]===void 0&&(me[fe]=le[fe]);return{$$typeof:_,type:se,key:pe,ref:ge,props:me,_owner:ne.current}}return reactJsxRuntime_production_min.Fragment=K,reactJsxRuntime_production_min.jsx=oe,reactJsxRuntime_production_min.jsxs=oe,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min$1;function requireScheduler_production_min$1(){return hasRequiredScheduler_production_min$1||(hasRequiredScheduler_production_min$1=1,function(Z){function _(je,rt){var Qe=je.length;je.push(rt);e:for(;0<Qe;){var qe=Qe-1>>>1,lt=je[qe];if(0<ne(lt,rt))je[qe]=rt,je[Qe]=lt,Qe=qe;else break e}}function K(je){return je.length===0?null:je[0]}function te(je){if(je.length===0)return null;var rt=je[0],Qe=je.pop();if(Qe!==rt){je[0]=Qe;e:for(var qe=0,lt=je.length,Et=lt>>>1;qe<Et;){var ht=2*(qe+1)-1,dt=je[ht],Mt=ht+1,Pt=je[Mt];if(0>ne(dt,Qe))Mt<lt&&0>ne(Pt,dt)?(je[qe]=Pt,je[Mt]=Qe,qe=Mt):(je[qe]=dt,je[ht]=Qe,qe=ht);else if(Mt<lt&&0>ne(Pt,Qe))je[qe]=Pt,je[Mt]=Qe,qe=Mt;else break e}}return rt}function ne(je,rt){var Qe=je.sortIndex-rt.sortIndex;return Qe!==0?Qe:je.id-rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ie=performance;Z.unstable_now=function(){return ie.now()}}else{var oe=Date,se=oe.now();Z.unstable_now=function(){return oe.now()-se}}var le=[],ce=[],fe=1,me=null,pe=3,ge=!1,ye=!1,Ee=!1,_e=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Te(je){for(var rt=K(ce);rt!==null;){if(rt.callback===null)te(ce);else if(rt.startTime<=je)te(ce),rt.sortIndex=rt.expirationTime,_(le,rt);else break;rt=K(ce)}}function Ae(je){if(Ee=!1,Te(je),!ye)if(K(le)!==null)ye=!0,ct(Fe);else{var rt=K(ce);rt!==null&&gt(Ae,rt.startTime-je)}}function Fe(je,rt){ye=!1,Ee&&(Ee=!1,Se(ze),ze=-1),ge=!0;var Qe=pe;try{for(Te(rt),me=K(le);me!==null&&(!(me.expirationTime>rt)||je&&!Ve());){var qe=me.callback;if(typeof qe=="function"){me.callback=null,pe=me.priorityLevel;var lt=qe(me.expirationTime<=rt);rt=Z.unstable_now(),typeof lt=="function"?me.callback=lt:me===K(le)&&te(le),Te(rt)}else te(le);me=K(le)}if(me!==null)var Et=!0;else{var ht=K(ce);ht!==null&&gt(Ae,ht.startTime-rt),Et=!1}return Et}finally{me=null,pe=Qe,ge=!1}}var $e=!1,ke=null,ze=-1,Ue=5,Oe=-1;function Ve(){return!(Z.unstable_now()-Oe<Ue)}function Ye(){if(ke!==null){var je=Z.unstable_now();Oe=je;var rt=!0;try{rt=ke(!0,je)}finally{rt?Ke():($e=!1,ke=null)}}else $e=!1}var Ke;if(typeof Re=="function")Ke=function(){Re(Ye)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,ut=ot.port2;ot.port1.onmessage=Ye,Ke=function(){ut.postMessage(null)}}else Ke=function(){_e(Ye,0)};function ct(je){ke=je,$e||($e=!0,Ke())}function gt(je,rt){ze=_e(function(){je(Z.unstable_now())},rt)}Z.unstable_IdlePriority=5,Z.unstable_ImmediatePriority=1,Z.unstable_LowPriority=4,Z.unstable_NormalPriority=3,Z.unstable_Profiling=null,Z.unstable_UserBlockingPriority=2,Z.unstable_cancelCallback=function(je){je.callback=null},Z.unstable_continueExecution=function(){ye||ge||(ye=!0,ct(Fe))},Z.unstable_forceFrameRate=function(je){0>je||125<je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<je?Math.floor(1e3/je):5},Z.unstable_getCurrentPriorityLevel=function(){return pe},Z.unstable_getFirstCallbackNode=function(){return K(le)},Z.unstable_next=function(je){switch(pe){case 1:case 2:case 3:var rt=3;break;default:rt=pe}var Qe=pe;pe=rt;try{return je()}finally{pe=Qe}},Z.unstable_pauseExecution=function(){},Z.unstable_requestPaint=function(){},Z.unstable_runWithPriority=function(je,rt){switch(je){case 1:case 2:case 3:case 4:case 5:break;default:je=3}var Qe=pe;pe=je;try{return rt()}finally{pe=Qe}},Z.unstable_scheduleCallback=function(je,rt,Qe){var qe=Z.unstable_now();switch(typeof Qe=="object"&&Qe!==null?(Qe=Qe.delay,Qe=typeof Qe=="number"&&0<Qe?qe+Qe:qe):Qe=qe,je){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=Qe+lt,je={id:fe++,callback:rt,priorityLevel:je,startTime:Qe,expirationTime:lt,sortIndex:-1},Qe>qe?(je.sortIndex=Qe,_(ce,je),K(le)===null&&je===K(ce)&&(Ee?(Se(ze),ze=-1):Ee=!0,gt(Ae,Qe-qe))):(je.sortIndex=lt,_(le,je),ye||ge||(ye=!0,ct(Fe))),je},Z.unstable_shouldYield=Ve,Z.unstable_wrapCallback=function(je){var rt=pe;return function(){var Qe=pe;pe=rt;try{return je.apply(this,arguments)}finally{pe=Qe}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler$1;function requireScheduler$1(){return hasRequiredScheduler$1||(hasRequiredScheduler$1=1,scheduler$1.exports=requireScheduler_production_min$1()),scheduler$1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var Z=requireReact(),_=requireScheduler$1();function K(ae){for(var ue="https://reactjs.org/docs/error-decoder.html?invariant="+ae,ve=1;ve<arguments.length;ve++)ue+="&args[]="+encodeURIComponent(arguments[ve]);return"Minified React error #"+ae+"; visit "+ue+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var te=new Set,ne={};function ie(ae,ue){oe(ae,ue),oe(ae+"Capture",ue)}function oe(ae,ue){for(ne[ae]=ue,ae=0;ae<ue.length;ae++)te.add(ue[ae])}var se=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),le=Object.prototype.hasOwnProperty,ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe={},me={};function pe(ae){return le.call(me,ae)?!0:le.call(fe,ae)?!1:ce.test(ae)?me[ae]=!0:(fe[ae]=!0,!1)}function ge(ae,ue,ve,we){if(ve!==null&&ve.type===0)return!1;switch(typeof ue){case"function":case"symbol":return!0;case"boolean":return we?!1:ve!==null?!ve.acceptsBooleans:(ae=ae.toLowerCase().slice(0,5),ae!=="data-"&&ae!=="aria-");default:return!1}}function ye(ae,ue,ve,we){if(ue===null||typeof ue>"u"||ge(ae,ue,ve,we))return!0;if(we)return!1;if(ve!==null)switch(ve.type){case 3:return!ue;case 4:return ue===!1;case 5:return isNaN(ue);case 6:return isNaN(ue)||1>ue}return!1}function Ee(ae,ue,ve,we,Ie,De,Ge){this.acceptsBooleans=ue===2||ue===3||ue===4,this.attributeName=we,this.attributeNamespace=Ie,this.mustUseProperty=ve,this.propertyName=ae,this.type=ue,this.sanitizeURL=De,this.removeEmptyString=Ge}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ae){_e[ae]=new Ee(ae,0,!1,ae,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ae){var ue=ae[0];_e[ue]=new Ee(ue,1,!1,ae[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(ae){_e[ae]=new Ee(ae,2,!1,ae.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ae){_e[ae]=new Ee(ae,2,!1,ae,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ae){_e[ae]=new Ee(ae,3,!1,ae.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(ae){_e[ae]=new Ee(ae,3,!0,ae,null,!1,!1)}),["capture","download"].forEach(function(ae){_e[ae]=new Ee(ae,4,!1,ae,null,!1,!1)}),["cols","rows","size","span"].forEach(function(ae){_e[ae]=new Ee(ae,6,!1,ae,null,!1,!1)}),["rowSpan","start"].forEach(function(ae){_e[ae]=new Ee(ae,5,!1,ae.toLowerCase(),null,!1,!1)});var Se=/[\-:]([a-z])/g;function Re(ae){return ae[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ae){var ue=ae.replace(Se,Re);_e[ue]=new Ee(ue,1,!1,ae,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ae){var ue=ae.replace(Se,Re);_e[ue]=new Ee(ue,1,!1,ae,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(ae){var ue=ae.replace(Se,Re);_e[ue]=new Ee(ue,1,!1,ae,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(ae){_e[ae]=new Ee(ae,1,!1,ae.toLowerCase(),null,!1,!1)}),_e.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(ae){_e[ae]=new Ee(ae,1,!1,ae.toLowerCase(),null,!0,!0)});function Te(ae,ue,ve,we){var Ie=_e.hasOwnProperty(ue)?_e[ue]:null;(Ie!==null?Ie.type!==0:we||!(2<ue.length)||ue[0]!=="o"&&ue[0]!=="O"||ue[1]!=="n"&&ue[1]!=="N")&&(ye(ue,ve,Ie,we)&&(ve=null),we||Ie===null?pe(ue)&&(ve===null?ae.removeAttribute(ue):ae.setAttribute(ue,""+ve)):Ie.mustUseProperty?ae[Ie.propertyName]=ve===null?Ie.type===3?!1:"":ve:(ue=Ie.attributeName,we=Ie.attributeNamespace,ve===null?ae.removeAttribute(ue):(Ie=Ie.type,ve=Ie===3||Ie===4&&ve===!0?"":""+ve,we?ae.setAttributeNS(we,ue,ve):ae.setAttribute(ue,ve))))}var Ae=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),$e=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),ze=Symbol.for("react.strict_mode"),Ue=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),gt=Symbol.for("react.offscreen"),je=Symbol.iterator;function rt(ae){return ae===null||typeof ae!="object"?null:(ae=je&&ae[je]||ae["@@iterator"],typeof ae=="function"?ae:null)}var Qe=Object.assign,qe;function lt(ae){if(qe===void 0)try{throw Error()}catch(ve){var ue=ve.stack.trim().match(/\n( *(at )?)/);qe=ue&&ue[1]||""}return`
`+qe+ae}var Et=!1;function ht(ae,ue){if(!ae||Et)return"";Et=!0;var ve=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ue)if(ue=function(){throw Error()},Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch($t){var we=$t}Reflect.construct(ae,[],ue)}else{try{ue.call()}catch($t){we=$t}ae.call(ue.prototype)}else{try{throw Error()}catch($t){we=$t}ae()}}catch($t){if($t&&we&&typeof $t.stack=="string"){for(var Ie=$t.stack.split(`
`),De=we.stack.split(`
`),Ge=Ie.length-1,nt=De.length-1;1<=Ge&&0<=nt&&Ie[Ge]!==De[nt];)nt--;for(;1<=Ge&&0<=nt;Ge--,nt--)if(Ie[Ge]!==De[nt]){if(Ge!==1||nt!==1)do if(Ge--,nt--,0>nt||Ie[Ge]!==De[nt]){var ft=`
`+Ie[Ge].replace(" at new "," at ");return ae.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",ae.displayName)),ft}while(1<=Ge&&0<=nt);break}}}finally{Et=!1,Error.prepareStackTrace=ve}return(ae=ae?ae.displayName||ae.name:"")?lt(ae):""}function dt(ae){switch(ae.tag){case 5:return lt(ae.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 2:case 15:return ae=ht(ae.type,!1),ae;case 11:return ae=ht(ae.type.render,!1),ae;case 1:return ae=ht(ae.type,!0),ae;default:return""}}function Mt(ae){if(ae==null)return null;if(typeof ae=="function")return ae.displayName||ae.name||null;if(typeof ae=="string")return ae;switch(ae){case ke:return"Fragment";case $e:return"Portal";case Ue:return"Profiler";case ze:return"StrictMode";case Ke:return"Suspense";case ot:return"SuspenseList"}if(typeof ae=="object")switch(ae.$$typeof){case Ve:return(ae.displayName||"Context")+".Consumer";case Oe:return(ae._context.displayName||"Context")+".Provider";case Ye:var ue=ae.render;return ae=ae.displayName,ae||(ae=ue.displayName||ue.name||"",ae=ae!==""?"ForwardRef("+ae+")":"ForwardRef"),ae;case ut:return ue=ae.displayName||null,ue!==null?ue:Mt(ae.type)||"Memo";case ct:ue=ae._payload,ae=ae._init;try{return Mt(ae(ue))}catch{}}return null}function Pt(ae){var ue=ae.type;switch(ae.tag){case 24:return"Cache";case 9:return(ue.displayName||"Context")+".Consumer";case 10:return(ue._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ae=ue.render,ae=ae.displayName||ae.name||"",ue.displayName||(ae!==""?"ForwardRef("+ae+")":"ForwardRef");case 7:return"Fragment";case 5:return ue;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mt(ue);case 8:return ue===ze?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ue=="function")return ue.displayName||ue.name||null;if(typeof ue=="string")return ue}return null}function Wt(ae){switch(typeof ae){case"boolean":case"number":case"string":case"undefined":return ae;case"object":return ae;default:return""}}function Qt(ae){var ue=ae.type;return(ae=ae.nodeName)&&ae.toLowerCase()==="input"&&(ue==="checkbox"||ue==="radio")}function sn(ae){var ue=Qt(ae)?"checked":"value",ve=Object.getOwnPropertyDescriptor(ae.constructor.prototype,ue),we=""+ae[ue];if(!ae.hasOwnProperty(ue)&&typeof ve<"u"&&typeof ve.get=="function"&&typeof ve.set=="function"){var Ie=ve.get,De=ve.set;return Object.defineProperty(ae,ue,{configurable:!0,get:function(){return Ie.call(this)},set:function(Ge){we=""+Ge,De.call(this,Ge)}}),Object.defineProperty(ae,ue,{enumerable:ve.enumerable}),{getValue:function(){return we},setValue:function(Ge){we=""+Ge},stopTracking:function(){ae._valueTracker=null,delete ae[ue]}}}}function hn(ae){ae._valueTracker||(ae._valueTracker=sn(ae))}function Dt(ae){if(!ae)return!1;var ue=ae._valueTracker;if(!ue)return!0;var ve=ue.getValue(),we="";return ae&&(we=Qt(ae)?ae.checked?"true":"false":ae.value),ae=we,ae!==ve?(ue.setValue(ae),!0):!1}function Vt(ae){if(ae=ae||(typeof document<"u"?document:void 0),typeof ae>"u")return null;try{return ae.activeElement||ae.body}catch{return ae.body}}function Ze(ae,ue){var ve=ue.checked;return Qe({},ue,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ve??ae._wrapperState.initialChecked})}function on(ae,ue){var ve=ue.defaultValue==null?"":ue.defaultValue,we=ue.checked!=null?ue.checked:ue.defaultChecked;ve=Wt(ue.value!=null?ue.value:ve),ae._wrapperState={initialChecked:we,initialValue:ve,controlled:ue.type==="checkbox"||ue.type==="radio"?ue.checked!=null:ue.value!=null}}function Xt(ae,ue){ue=ue.checked,ue!=null&&Te(ae,"checked",ue,!1)}function an(ae,ue){Xt(ae,ue);var ve=Wt(ue.value),we=ue.type;if(ve!=null)we==="number"?(ve===0&&ae.value===""||ae.value!=ve)&&(ae.value=""+ve):ae.value!==""+ve&&(ae.value=""+ve);else if(we==="submit"||we==="reset"){ae.removeAttribute("value");return}ue.hasOwnProperty("value")?mn(ae,ue.type,ve):ue.hasOwnProperty("defaultValue")&&mn(ae,ue.type,Wt(ue.defaultValue)),ue.checked==null&&ue.defaultChecked!=null&&(ae.defaultChecked=!!ue.defaultChecked)}function Yt(ae,ue,ve){if(ue.hasOwnProperty("value")||ue.hasOwnProperty("defaultValue")){var we=ue.type;if(!(we!=="submit"&&we!=="reset"||ue.value!==void 0&&ue.value!==null))return;ue=""+ae._wrapperState.initialValue,ve||ue===ae.value||(ae.value=ue),ae.defaultValue=ue}ve=ae.name,ve!==""&&(ae.name=""),ae.defaultChecked=!!ae._wrapperState.initialChecked,ve!==""&&(ae.name=ve)}function mn(ae,ue,ve){(ue!=="number"||Vt(ae.ownerDocument)!==ae)&&(ve==null?ae.defaultValue=""+ae._wrapperState.initialValue:ae.defaultValue!==""+ve&&(ae.defaultValue=""+ve))}var Jt=Array.isArray;function Xe(ae,ue,ve,we){if(ae=ae.options,ue){ue={};for(var Ie=0;Ie<ve.length;Ie++)ue["$"+ve[Ie]]=!0;for(ve=0;ve<ae.length;ve++)Ie=ue.hasOwnProperty("$"+ae[ve].value),ae[ve].selected!==Ie&&(ae[ve].selected=Ie),Ie&&we&&(ae[ve].defaultSelected=!0)}else{for(ve=""+Wt(ve),ue=null,Ie=0;Ie<ae.length;Ie++){if(ae[Ie].value===ve){ae[Ie].selected=!0,we&&(ae[Ie].defaultSelected=!0);return}ue!==null||ae[Ie].disabled||(ue=ae[Ie])}ue!==null&&(ue.selected=!0)}}function He(ae,ue){if(ue.dangerouslySetInnerHTML!=null)throw Error(K(91));return Qe({},ue,{value:void 0,defaultValue:void 0,children:""+ae._wrapperState.initialValue})}function tt(ae,ue){var ve=ue.value;if(ve==null){if(ve=ue.children,ue=ue.defaultValue,ve!=null){if(ue!=null)throw Error(K(92));if(Jt(ve)){if(1<ve.length)throw Error(K(93));ve=ve[0]}ue=ve}ue==null&&(ue=""),ve=ue}ae._wrapperState={initialValue:Wt(ve)}}function mt(ae,ue){var ve=Wt(ue.value),we=Wt(ue.defaultValue);ve!=null&&(ve=""+ve,ve!==ae.value&&(ae.value=ve),ue.defaultValue==null&&ae.defaultValue!==ve&&(ae.defaultValue=ve)),we!=null&&(ae.defaultValue=""+we)}function Nt(ae){var ue=ae.textContent;ue===ae._wrapperState.initialValue&&ue!==""&&ue!==null&&(ae.value=ue)}function _t(ae){switch(ae){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(ae,ue){return ae==null||ae==="http://www.w3.org/1999/xhtml"?_t(ue):ae==="http://www.w3.org/2000/svg"&&ue==="foreignObject"?"http://www.w3.org/1999/xhtml":ae}var Ot,qt=function(ae){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ue,ve,we,Ie){MSApp.execUnsafeLocalFunction(function(){return ae(ue,ve,we,Ie)})}:ae}(function(ae,ue){if(ae.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ae)ae.innerHTML=ue;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+ue.valueOf().toString()+"</svg>",ue=Ot.firstChild;ae.firstChild;)ae.removeChild(ae.firstChild);for(;ue.firstChild;)ae.appendChild(ue.firstChild)}});function Sn(ae,ue){if(ue){var ve=ae.firstChild;if(ve&&ve===ae.lastChild&&ve.nodeType===3){ve.nodeValue=ue;return}}ae.textContent=ue}var Ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tt=["Webkit","ms","Moz","O"];Object.keys(Ht).forEach(function(ae){Tt.forEach(function(ue){ue=ue+ae.charAt(0).toUpperCase()+ae.substring(1),Ht[ue]=Ht[ae]})});function Ft(ae,ue,ve){return ue==null||typeof ue=="boolean"||ue===""?"":ve||typeof ue!="number"||ue===0||Ht.hasOwnProperty(ae)&&Ht[ae]?(""+ue).trim():ue+"px"}function pn(ae,ue){ae=ae.style;for(var ve in ue)if(ue.hasOwnProperty(ve)){var we=ve.indexOf("--")===0,Ie=Ft(ve,ue[ve],we);ve==="float"&&(ve="cssFloat"),we?ae.setProperty(ve,Ie):ae[ve]=Ie}}var cn=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(ae,ue){if(ue){if(cn[ae]&&(ue.children!=null||ue.dangerouslySetInnerHTML!=null))throw Error(K(137,ae));if(ue.dangerouslySetInnerHTML!=null){if(ue.children!=null)throw Error(K(60));if(typeof ue.dangerouslySetInnerHTML!="object"||!("__html"in ue.dangerouslySetInnerHTML))throw Error(K(61))}if(ue.style!=null&&typeof ue.style!="object")throw Error(K(62))}}function Ut(ae,ue){if(ae.indexOf("-")===-1)return typeof ue.is=="string";switch(ae){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function st(ae){return ae=ae.target||ae.srcElement||window,ae.correspondingUseElement&&(ae=ae.correspondingUseElement),ae.nodeType===3?ae.parentNode:ae}var Kt=null,At=null,zt=null;function yn(ae){if(ae=$o(ae)){if(typeof Kt!="function")throw Error(K(280));var ue=ae.stateNode;ue&&(ue=Ul(ue),Kt(ae.stateNode,ae.type,ue))}}function gn(ae){At?zt?zt.push(ae):zt=[ae]:At=ae}function Dn(){if(At){var ae=At,ue=zt;if(zt=At=null,yn(ae),ue)for(ae=0;ae<ue.length;ae++)yn(ue[ae])}}function tr(ae,ue){return ae(ue)}function cr(){}var qn=!1;function Sr(ae,ue,ve){if(qn)return ae(ue,ve);qn=!0;try{return tr(ae,ue,ve)}finally{qn=!1,(At!==null||zt!==null)&&(cr(),Dn())}}function hr(ae,ue){var ve=ae.stateNode;if(ve===null)return null;var we=Ul(ve);if(we===null)return null;ve=we[ue];e:switch(ue){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(we=!we.disabled)||(ae=ae.type,we=!(ae==="button"||ae==="input"||ae==="select"||ae==="textarea")),ae=!we;break e;default:ae=!1}if(ae)return null;if(ve&&typeof ve!="function")throw Error(K(231,ue,typeof ve));return ve}var _o=!1;if(se)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{_o=!1}function Ai(ae,ue,ve,we,Ie,De,Ge,nt,ft){var $t=Array.prototype.slice.call(arguments,3);try{ue.apply(ve,$t)}catch(nn){this.onError(nn)}}var vi=!1,co=null,yi=!1,Qi=null,fs={onError:function(ae){vi=!0,co=ae}};function So(ae,ue,ve,we,Ie,De,Ge,nt,ft){vi=!1,co=null,Ai.apply(fs,arguments)}function Ws(ae,ue,ve,we,Ie,De,Ge,nt,ft){if(So.apply(this,arguments),vi){if(vi){var $t=co;vi=!1,co=null}else throw Error(K(198));yi||(yi=!0,Qi=$t)}}function Ui(ae){var ue=ae,ve=ae;if(ae.alternate)for(;ue.return;)ue=ue.return;else{ae=ue;do ue=ae,ue.flags&4098&&(ve=ue.return),ae=ue.return;while(ae)}return ue.tag===3?ve:null}function js(ae){if(ae.tag===13){var ue=ae.memoizedState;if(ue===null&&(ae=ae.alternate,ae!==null&&(ue=ae.memoizedState)),ue!==null)return ue.dehydrated}return null}function Eo(ae){if(Ui(ae)!==ae)throw Error(K(188))}function ds(ae){var ue=ae.alternate;if(!ue){if(ue=Ui(ae),ue===null)throw Error(K(188));return ue!==ae?null:ae}for(var ve=ae,we=ue;;){var Ie=ve.return;if(Ie===null)break;var De=Ie.alternate;if(De===null){if(we=Ie.return,we!==null){ve=we;continue}break}if(Ie.child===De.child){for(De=Ie.child;De;){if(De===ve)return Eo(Ie),ae;if(De===we)return Eo(Ie),ue;De=De.sibling}throw Error(K(188))}if(ve.return!==we.return)ve=Ie,we=De;else{for(var Ge=!1,nt=Ie.child;nt;){if(nt===ve){Ge=!0,ve=Ie,we=De;break}if(nt===we){Ge=!0,we=Ie,ve=De;break}nt=nt.sibling}if(!Ge){for(nt=De.child;nt;){if(nt===ve){Ge=!0,ve=De,we=Ie;break}if(nt===we){Ge=!0,we=De,ve=Ie;break}nt=nt.sibling}if(!Ge)throw Error(K(189))}}if(ve.alternate!==we)throw Error(K(190))}if(ve.tag!==3)throw Error(K(188));return ve.stateNode.current===ve?ae:ue}function hs(ae){return ae=ds(ae),ae!==null?ps(ae):null}function ps(ae){if(ae.tag===5||ae.tag===6)return ae;for(ae=ae.child;ae!==null;){var ue=ps(ae);if(ue!==null)return ue;ae=ae.sibling}return null}var We=_.unstable_scheduleCallback,xt=_.unstable_cancelCallback,It=_.unstable_shouldYield,Lt=_.unstable_requestPaint,pt=_.unstable_now,tn=_.unstable_getCurrentPriorityLevel,vn=_.unstable_ImmediatePriority,_n=_.unstable_UserBlockingPriority,wn=_.unstable_NormalPriority,Un=_.unstable_LowPriority,Nn=_.unstable_IdlePriority,Tn=null,bn=null;function Ln(ae){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Tn,ae,void 0,(ae.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Pn,Zn=Math.log,Gn=Math.LN2;function Pn(ae){return ae>>>=0,ae===0?32:31-(Zn(ae)/Gn|0)|0}var ur=64,Bn=4194304;function Rr(ae){switch(ae&-ae){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ae&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ae&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ae}}function xi(ae,ue){var ve=ae.pendingLanes;if(ve===0)return 0;var we=0,Ie=ae.suspendedLanes,De=ae.pingedLanes,Ge=ve&268435455;if(Ge!==0){var nt=Ge&~Ie;nt!==0?we=Rr(nt):(De&=Ge,De!==0&&(we=Rr(De)))}else Ge=ve&~Ie,Ge!==0?we=Rr(Ge):De!==0&&(we=Rr(De));if(we===0)return 0;if(ue!==0&&ue!==we&&!(ue&Ie)&&(Ie=we&-we,De=ue&-ue,Ie>=De||Ie===16&&(De&4194240)!==0))return ue;if(we&4&&(we|=ve&16),ue=ae.entangledLanes,ue!==0)for(ae=ae.entanglements,ue&=we;0<ue;)ve=31-Kn(ue),Ie=1<<ve,we|=ae[ve],ue&=~Ie;return we}function zr(ae,ue){switch(ae){case 1:case 2:case 4:return ue+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ue+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bi(ae,ue){for(var ve=ae.suspendedLanes,we=ae.pingedLanes,Ie=ae.expirationTimes,De=ae.pendingLanes;0<De;){var Ge=31-Kn(De),nt=1<<Ge,ft=Ie[Ge];ft===-1?(!(nt&ve)||nt&we)&&(Ie[Ge]=zr(nt,ue)):ft<=ue&&(ae.expiredLanes|=nt),De&=~nt}}function sr(ae){return ae=ae.pendingLanes&-1073741825,ae!==0?ae:ae&1073741824?1073741824:0}function pr(){var ae=ur;return ur<<=1,!(ur&4194240)&&(ur=64),ae}function Vr(ae){for(var ue=[],ve=0;31>ve;ve++)ue.push(ae);return ue}function wr(ae,ue,ve){ae.pendingLanes|=ue,ue!==536870912&&(ae.suspendedLanes=0,ae.pingedLanes=0),ae=ae.eventTimes,ue=31-Kn(ue),ae[ue]=ve}function Gr(ae,ue){var ve=ae.pendingLanes&~ue;ae.pendingLanes=ue,ae.suspendedLanes=0,ae.pingedLanes=0,ae.expiredLanes&=ue,ae.mutableReadLanes&=ue,ae.entangledLanes&=ue,ue=ae.entanglements;var we=ae.eventTimes;for(ae=ae.expirationTimes;0<ve;){var Ie=31-Kn(ve),De=1<<Ie;ue[Ie]=0,we[Ie]=-1,ae[Ie]=-1,ve&=~De}}function zi(ae,ue){var ve=ae.entangledLanes|=ue;for(ae=ae.entanglements;ve;){var we=31-Kn(ve),Ie=1<<we;Ie&ue|ae[we]&ue&&(ae[we]|=ue),ve&=~Ie}}var Xn=0;function Xo(ae){return ae&=-ae,1<ae?4<ae?ae&268435455?16:536870912:4:1}var ms,Pa,hl,qs,Xs,bo=!1,Ys=[],Vi=null,Qn=null,Ji=null,wo=new Map,Yo=new Map,uo=[],ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ir(ae,ue){switch(ae){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":wo.delete(ue.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(ue.pointerId)}}function Mo(ae,ue,ve,we,Ie,De){return ae===null||ae.nativeEvent!==De?(ae={blockedOn:ue,domEventName:ve,eventSystemFlags:we,nativeEvent:De,targetContainers:[Ie]},ue!==null&&(ue=$o(ue),ue!==null&&Pa(ue)),ae):(ae.eventSystemFlags|=we,ue=ae.targetContainers,Ie!==null&&ue.indexOf(Ie)===-1&&ue.push(Ie),ae)}function pl(ae,ue,ve,we,Ie){switch(ue){case"focusin":return Vi=Mo(Vi,ae,ue,ve,we,Ie),!0;case"dragenter":return Qn=Mo(Qn,ae,ue,ve,we,Ie),!0;case"mouseover":return Ji=Mo(Ji,ae,ue,ve,we,Ie),!0;case"pointerover":var De=Ie.pointerId;return wo.set(De,Mo(wo.get(De)||null,ae,ue,ve,we,Ie)),!0;case"gotpointercapture":return De=Ie.pointerId,Yo.set(De,Mo(Yo.get(De)||null,ae,ue,ve,we,Ie)),!0}return!1}function Ks(ae){var ue=os(ae.target);if(ue!==null){var ve=Ui(ue);if(ve!==null){if(ue=ve.tag,ue===13){if(ue=js(ve),ue!==null){ae.blockedOn=ue,Xs(ae.priority,function(){hl(ve)});return}}else if(ue===3&&ve.stateNode.current.memoizedState.isDehydrated){ae.blockedOn=ve.tag===3?ve.stateNode.containerInfo:null;return}}}ae.blockedOn=null}function bt(ae){if(ae.blockedOn!==null)return!1;for(var ue=ae.targetContainers;0<ue.length;){var ve=li(ae.domEventName,ae.eventSystemFlags,ue[0],ae.nativeEvent);if(ve===null){ve=ae.nativeEvent;var we=new ve.constructor(ve.type,ve);un=we,ve.target.dispatchEvent(we),un=null}else return ue=$o(ve),ue!==null&&Pa(ue),ae.blockedOn=ve,!1;ue.shift()}return!0}function et(ae,ue,ve){bt(ae)&&ve.delete(ue)}function it(){bo=!1,Vi!==null&&bt(Vi)&&(Vi=null),Qn!==null&&bt(Qn)&&(Qn=null),Ji!==null&&bt(Ji)&&(Ji=null),wo.forEach(et),Yo.forEach(et)}function Bt(ae,ue){ae.blockedOn===ue&&(ae.blockedOn=null,bo||(bo=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,it)))}function Zt(ae){function ue(Ie){return Bt(Ie,ae)}if(0<Ys.length){Bt(Ys[0],ae);for(var ve=1;ve<Ys.length;ve++){var we=Ys[ve];we.blockedOn===ae&&(we.blockedOn=null)}}for(Vi!==null&&Bt(Vi,ae),Qn!==null&&Bt(Qn,ae),Ji!==null&&Bt(Ji,ae),wo.forEach(ue),Yo.forEach(ue),ve=0;ve<uo.length;ve++)we=uo[ve],we.blockedOn===ae&&(we.blockedOn=null);for(;0<uo.length&&(ve=uo[0],ve.blockedOn===null);)Ks(ve),ve.blockedOn===null&&uo.shift()}var Fn=Ae.ReactCurrentBatchConfig,rr=!0;function kr(ae,ue,ve,we){var Ie=Xn,De=Fn.transition;Fn.transition=null;try{Xn=1,Zs(ae,ue,ve,we)}finally{Xn=Ie,Fn.transition=De}}function Ko(ae,ue,ve,we){var Ie=Xn,De=Fn.transition;Fn.transition=null;try{Xn=4,Zs(ae,ue,ve,we)}finally{Xn=Ie,Fn.transition=De}}function Zs(ae,ue,ve,we){if(rr){var Ie=li(ae,ue,ve,we);if(Ie===null)$l(ae,ue,we,Qs,ve),Ir(ae,we);else if(pl(Ie,ae,ue,ve,we))we.stopPropagation();else if(Ir(ae,we),ue&4&&-1<ic.indexOf(ae)){for(;Ie!==null;){var De=$o(Ie);if(De!==null&&ms(De),De=li(ae,ue,ve,we),De===null&&$l(ae,ue,we,Qs,ve),De===Ie)break;Ie=De}Ie!==null&&we.stopPropagation()}else $l(ae,ue,we,null,ve)}}var Qs=null;function li(ae,ue,ve,we){if(Qs=null,ae=st(we),ae=os(ae),ae!==null)if(ue=Ui(ae),ue===null)ae=null;else if(ve=ue.tag,ve===13){if(ae=js(ue),ae!==null)return ae;ae=null}else if(ve===3){if(ue.stateNode.current.memoizedState.isDehydrated)return ue.tag===3?ue.stateNode.containerInfo:null;ae=null}else ue!==ae&&(ae=null);return Qs=ae,null}function Ia(ae){switch(ae){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tn()){case vn:return 1;case _n:return 4;case wn:case Un:return 16;case Nn:return 536870912;default:return 16}default:return 16}}var _i=null,Js=null,Si=null;function La(){if(Si)return Si;var ae,ue=Js,ve=ue.length,we,Ie="value"in _i?_i.value:_i.textContent,De=Ie.length;for(ae=0;ae<ve&&ue[ae]===Ie[ae];ae++);var Ge=ve-ae;for(we=1;we<=Ge&&ue[ve-we]===Ie[De-we];we++);return Si=Ie.slice(ae,1<we?1-we:void 0)}function gs(ae){var ue=ae.keyCode;return"charCode"in ae?(ae=ae.charCode,ae===0&&ue===13&&(ae=13)):ae=ue,ae===10&&(ae=13),32<=ae||ae===13?ae:0}function To(){return!0}function ml(){return!1}function ci(ae){function ue(ve,we,Ie,De,Ge){this._reactName=ve,this._targetInst=Ie,this.type=we,this.nativeEvent=De,this.target=Ge,this.currentTarget=null;for(var nt in ae)ae.hasOwnProperty(nt)&&(ve=ae[nt],this[nt]=ve?ve(De):De[nt]);return this.isDefaultPrevented=(De.defaultPrevented!=null?De.defaultPrevented:De.returnValue===!1)?To:ml,this.isPropagationStopped=ml,this}return Qe(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ve=this.nativeEvent;ve&&(ve.preventDefault?ve.preventDefault():typeof ve.returnValue!="unknown"&&(ve.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var ve=this.nativeEvent;ve&&(ve.stopPropagation?ve.stopPropagation():typeof ve.cancelBubble!="unknown"&&(ve.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),ue}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ae){return ae.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=ci(vs),ys=Qe({},vs,{view:0,detail:0}),ea=ci(ys),Ei,Gi,Hi,ta=Qe({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(ae){return ae.relatedTarget===void 0?ae.fromElement===ae.srcElement?ae.toElement:ae.fromElement:ae.relatedTarget},movementX:function(ae){return"movementX"in ae?ae.movementX:(ae!==Hi&&(Hi&&ae.type==="mousemove"?(Ei=ae.screenX-Hi.screenX,Gi=ae.screenY-Hi.screenY):Gi=Ei=0,Hi=ae),Ei)},movementY:function(ae){return"movementY"in ae?ae.movementY:Gi}}),oc=ci(ta),Ro=Qe({},ta,{dataTransfer:0}),Zo=ci(Ro),gl=Qe({},ys,{relatedTarget:0}),vl=ci(gl),yl=Qe({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=ci(yl),Zc=Qe({},vs,{clipboardData:function(ae){return"clipboardData"in ae?ae.clipboardData:window.clipboardData}}),sc=ci(Zc),xl=Qe({},vs,{data:0}),ac=ci(xl),Qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(ae){var ue=this.nativeEvent;return ue.getModifierState?ue.getModifierState(ae):(ae=lc[ae])?!!ue[ae]:!1}function Qo(){return na}var _l=Qe({},ys,{key:function(ae){if(ae.key){var ue=Qc[ae.key]||ae.key;if(ue!=="Unidentified")return ue}return ae.type==="keypress"?(ae=gs(ae),ae===13?"Enter":String.fromCharCode(ae)):ae.type==="keydown"||ae.type==="keyup"?Jc[ae.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(ae){return ae.type==="keypress"?gs(ae):0},keyCode:function(ae){return ae.type==="keydown"||ae.type==="keyup"?ae.keyCode:0},which:function(ae){return ae.type==="keypress"?gs(ae):ae.type==="keydown"||ae.type==="keyup"?ae.keyCode:0}}),Sl=ci(_l),Wi=Qe({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=ci(Wi),xs=Qe({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Ao=ci(xs),Co=Qe({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),_s=ci(Co),eu=Qe({},ta,{deltaX:function(ae){return"deltaX"in ae?ae.deltaX:"wheelDeltaX"in ae?-ae.wheelDeltaX:0},deltaY:function(ae){return"deltaY"in ae?ae.deltaY:"wheelDeltaY"in ae?-ae.wheelDeltaY:"wheelDelta"in ae?-ae.wheelDelta:0},deltaZ:0,deltaMode:0}),cc=ci(eu),uc=[9,13,27,32],ui=se&&"CompositionEvent"in window,Kr=null;se&&"documentMode"in document&&(Kr=document.documentMode);var Er=se&&"TextEvent"in window&&!Kr,ra=se&&(!ui||Kr&&8<Kr&&11>=Kr),ji=" ",fc=!1;function dc(ae,ue){switch(ae){case"keyup":return uc.indexOf(ue.keyCode)!==-1;case"keydown":return ue.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function El(ae){return ae=ae.detail,typeof ae=="object"&&"data"in ae?ae.data:null}var Jo=!1;function tu(ae,ue){switch(ae){case"compositionend":return El(ue);case"keypress":return ue.which!==32?null:(fc=!0,ji);case"textInput":return ae=ue.data,ae===ji&&fc?null:ae;default:return null}}function Da(ae,ue){if(Jo)return ae==="compositionend"||!ui&&dc(ae,ue)?(ae=La(),Si=Js=_i=null,Jo=!1,ae):null;switch(ae){case"paste":return null;case"keypress":if(!(ue.ctrlKey||ue.altKey||ue.metaKey)||ue.ctrlKey&&ue.altKey){if(ue.char&&1<ue.char.length)return ue.char;if(ue.which)return String.fromCharCode(ue.which)}return null;case"compositionend":return ra&&ue.locale!=="ko"?null:ue.data;default:return null}}var ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bl(ae){var ue=ae&&ae.nodeName&&ae.nodeName.toLowerCase();return ue==="input"?!!ia[ae.type]:ue==="textarea"}function oa(ae,ue,ve,we){gn(we),ue=Dl(ue,"onChange"),0<ue.length&&(ve=new $a("onChange","change",null,ve,we),ae.push({event:ve,listeners:ue}))}var ts=null,sa=null;function nu(ae){ua(ae,0)}function Po(ae){var ue=Lr(ae);if(Dt(ue))return ae}function ru(ae,ue){if(ae==="change")return ue}var aa=!1;if(se){var bi;if(se){var Ss="oninput"in document;if(!Ss){var Es=document.createElement("div");Es.setAttribute("oninput","return;"),Ss=typeof Es.oninput=="function"}bi=Ss}else bi=!1;aa=bi&&(!document.documentMode||9<document.documentMode)}function eo(){ts&&(ts.detachEvent("onpropertychange",wl),sa=ts=null)}function wl(ae){if(ae.propertyName==="value"&&Po(sa)){var ue=[];oa(ue,sa,ae,st(ae)),Sr(nu,ue)}}function la(ae,ue,ve){ae==="focusin"?(eo(),ts=ue,sa=ve,ts.attachEvent("onpropertychange",wl)):ae==="focusout"&&eo()}function iu(ae){if(ae==="selectionchange"||ae==="keyup"||ae==="keydown")return Po(sa)}function hc(ae,ue){if(ae==="click")return Po(ue)}function Mr(ae,ue){if(ae==="input"||ae==="change")return Po(ue)}function Ml(ae,ue){return ae===ue&&(ae!==0||1/ae===1/ue)||ae!==ae&&ue!==ue}var Pi=typeof Object.is=="function"?Object.is:Ml;function bs(ae,ue){if(Pi(ae,ue))return!0;if(typeof ae!="object"||ae===null||typeof ue!="object"||ue===null)return!1;var ve=Object.keys(ae),we=Object.keys(ue);if(ve.length!==we.length)return!1;for(we=0;we<ve.length;we++){var Ie=ve[we];if(!le.call(ue,Ie)||!Pi(ae[Ie],ue[Ie]))return!1}return!0}function Oa(ae){for(;ae&&ae.firstChild;)ae=ae.firstChild;return ae}function Ii(ae,ue){var ve=Oa(ae);ae=0;for(var we;ve;){if(ve.nodeType===3){if(we=ae+ve.textContent.length,ae<=ue&&we>=ue)return{node:ve,offset:ue-ae};ae=we}e:{for(;ve;){if(ve.nextSibling){ve=ve.nextSibling;break e}ve=ve.parentNode}ve=void 0}ve=Oa(ve)}}function ws(ae,ue){return ae&&ue?ae===ue?!0:ae&&ae.nodeType===3?!1:ue&&ue.nodeType===3?ws(ae,ue.parentNode):"contains"in ae?ae.contains(ue):ae.compareDocumentPosition?!!(ae.compareDocumentPosition(ue)&16):!1:!1}function Tr(){for(var ae=window,ue=Vt();ue instanceof ae.HTMLIFrameElement;){try{var ve=typeof ue.contentWindow.location.href=="string"}catch{ve=!1}if(ve)ae=ue.contentWindow;else break;ue=Vt(ae.document)}return ue}function Hr(ae){var ue=ae&&ae.nodeName&&ae.nodeName.toLowerCase();return ue&&(ue==="input"&&(ae.type==="text"||ae.type==="search"||ae.type==="tel"||ae.type==="url"||ae.type==="password")||ue==="textarea"||ae.contentEditable==="true")}function Wr(ae){var ue=Tr(),ve=ae.focusedElem,we=ae.selectionRange;if(ue!==ve&&ve&&ve.ownerDocument&&ws(ve.ownerDocument.documentElement,ve)){if(we!==null&&Hr(ve)){if(ue=we.start,ae=we.end,ae===void 0&&(ae=ue),"selectionStart"in ve)ve.selectionStart=ue,ve.selectionEnd=Math.min(ae,ve.value.length);else if(ae=(ue=ve.ownerDocument||document)&&ue.defaultView||window,ae.getSelection){ae=ae.getSelection();var Ie=ve.textContent.length,De=Math.min(we.start,Ie);we=we.end===void 0?De:Math.min(we.end,Ie),!ae.extend&&De>we&&(Ie=we,we=De,De=Ie),Ie=Ii(ve,De);var Ge=Ii(ve,we);Ie&&Ge&&(ae.rangeCount!==1||ae.anchorNode!==Ie.node||ae.anchorOffset!==Ie.offset||ae.focusNode!==Ge.node||ae.focusOffset!==Ge.offset)&&(ue=ue.createRange(),ue.setStart(Ie.node,Ie.offset),ae.removeAllRanges(),De>we?(ae.addRange(ue),ae.extend(Ge.node,Ge.offset)):(ue.setEnd(Ge.node,Ge.offset),ae.addRange(ue)))}}for(ue=[],ae=ve;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<ue.length;ve++)ae=ue[ve],ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}var Tl=se&&"documentMode"in document&&11>=document.documentMode,fo=null,Ms=null,Na=null,jr=!1;function Rl(ae,ue,ve){var we=ve.window===ve?ve.document:ve.nodeType===9?ve:ve.ownerDocument;jr||fo==null||fo!==Vt(we)||(we=fo,"selectionStart"in we&&Hr(we)?we={start:we.selectionStart,end:we.selectionEnd}:(we=(we.ownerDocument&&we.ownerDocument.defaultView||window).getSelection(),we={anchorNode:we.anchorNode,anchorOffset:we.anchorOffset,focusNode:we.focusNode,focusOffset:we.focusOffset}),Na&&bs(Na,we)||(Na=we,we=Dl(Ms,"onSelect"),0<we.length&&(ue=new $a("onSelect","select",null,ue,ve),ae.push({event:ue,listeners:we}),ue.target=fo)))}function ca(ae,ue){var ve={};return ve[ae.toLowerCase()]=ue.toLowerCase(),ve["Webkit"+ae]="webkit"+ue,ve["Moz"+ae]="moz"+ue,ve}var ns={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},to={},no={};se&&(no=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function ho(ae){if(to[ae])return to[ae];if(!ns[ae])return ae;var ue=ns[ae],ve;for(ve in ue)if(ue.hasOwnProperty(ve)&&ve in no)return to[ae]=ue[ve];return ae}var Fa=ho("animationend"),ka=ho("animationiteration"),pc=ho("animationstart"),mc=ho("transitionend"),gc=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(ae,ue){gc.set(ae,ue),ie(ue,[ae])}for(var Al=0;Al<vc.length;Al++){var Ua=vc[Al],Ba=Ua.toLowerCase(),ou=Ua[0].toUpperCase()+Ua.slice(1);Io(Ba,"on"+ou)}Io(Fa,"onAnimationEnd"),Io(ka,"onAnimationIteration"),Io(pc,"onAnimationStart"),Io("dblclick","onDoubleClick"),Io("focusin","onFocus"),Io("focusout","onBlur"),Io(mc,"onTransitionEnd"),oe("onMouseEnter",["mouseout","mouseover"]),oe("onMouseLeave",["mouseout","mouseover"]),oe("onPointerEnter",["pointerout","pointerover"]),oe("onPointerLeave",["pointerout","pointerover"]),ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cl=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function Pl(ae,ue,ve){var we=ae.type||"unknown-event";ae.currentTarget=ve,Ws(we,ue,void 0,ae),ae.currentTarget=null}function ua(ae,ue){ue=(ue&4)!==0;for(var ve=0;ve<ae.length;ve++){var we=ae[ve],Ie=we.event;we=we.listeners;e:{var De=void 0;if(ue)for(var Ge=we.length-1;0<=Ge;Ge--){var nt=we[Ge],ft=nt.instance,$t=nt.currentTarget;if(nt=nt.listener,ft!==De&&Ie.isPropagationStopped())break e;Pl(Ie,nt,$t),De=ft}else for(Ge=0;Ge<we.length;Ge++){if(nt=we[Ge],ft=nt.instance,$t=nt.currentTarget,nt=nt.listener,ft!==De&&Ie.isPropagationStopped())break e;Pl(Ie,nt,$t),De=ft}}}if(yi)throw ae=Qi,yi=!1,Qi=null,ae}function gr(ae,ue){var ve=ue[As];ve===void 0&&(ve=ue[As]=new Set);var we=ae+"__bubble";ve.has(we)||(Ll(ue,ae,2,!1),ve.add(we))}function Il(ae,ue,ve){var we=0;ue&&(we|=4),Ll(ve,ae,we,ue)}var za="_reactListening"+Math.random().toString(36).slice(2);function fa(ae){if(!ae[za]){ae[za]=!0,te.forEach(function(ve){ve!=="selectionchange"&&(Cl.has(ve)||Il(ve,!1,ae),Il(ve,!0,ae))});var ue=ae.nodeType===9?ae:ae.ownerDocument;ue===null||ue[za]||(ue[za]=!0,Il("selectionchange",!1,ue))}}function Ll(ae,ue,ve,we){switch(Ia(ue)){case 1:var Ie=kr;break;case 4:Ie=Ko;break;default:Ie=Zs}ve=Ie.bind(null,ue,ve,ae),Ie=void 0,!_o||ue!=="touchstart"&&ue!=="touchmove"&&ue!=="wheel"||(Ie=!0),we?Ie!==void 0?ae.addEventListener(ue,ve,{capture:!0,passive:Ie}):ae.addEventListener(ue,ve,!0):Ie!==void 0?ae.addEventListener(ue,ve,{passive:Ie}):ae.addEventListener(ue,ve,!1)}function $l(ae,ue,ve,we,Ie){var De=we;if(!(ue&1)&&!(ue&2)&&we!==null)e:for(;;){if(we===null)return;var Ge=we.tag;if(Ge===3||Ge===4){var nt=we.stateNode.containerInfo;if(nt===Ie||nt.nodeType===8&&nt.parentNode===Ie)break;if(Ge===4)for(Ge=we.return;Ge!==null;){var ft=Ge.tag;if((ft===3||ft===4)&&(ft=Ge.stateNode.containerInfo,ft===Ie||ft.nodeType===8&&ft.parentNode===Ie))return;Ge=Ge.return}for(;nt!==null;){if(Ge=os(nt),Ge===null)return;if(ft=Ge.tag,ft===5||ft===6){we=De=Ge;continue e}nt=nt.parentNode}}we=we.return}Sr(function(){var $t=De,nn=st(ve),rn=[];e:{var en=gc.get(ae);if(en!==void 0){var Mn=$a,Cn=ae;switch(ae){case"keypress":if(gs(ve)===0)break e;case"keydown":case"keyup":Mn=Sl;break;case"focusin":Cn="focus",Mn=vl;break;case"focusout":Cn="blur",Mn=vl;break;case"beforeblur":case"afterblur":Mn=vl;break;case"click":if(ve.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mn=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mn=Zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mn=Ao;break;case Fa:case ka:case pc:Mn=Kc;break;case mc:Mn=_s;break;case"scroll":Mn=ea;break;case"wheel":Mn=cc;break;case"copy":case"cut":case"paste":Mn=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mn=Ci}var In=(ue&4)!==0,Br=!In&&ae==="scroll",wt=In?en!==null?en+"Capture":null:en;In=[];for(var vt=$t,Rt;vt!==null;){Rt=vt;var fn=Rt.stateNode;if(Rt.tag===5&&fn!==null&&(Rt=fn,wt!==null&&(fn=hr(vt,wt),fn!=null&&In.push(da(vt,fn,Rt)))),Br)break;vt=vt.return}0<In.length&&(en=new Mn(en,Cn,null,ve,nn),rn.push({event:en,listeners:In}))}}if(!(ue&7)){e:{if(en=ae==="mouseover"||ae==="pointerover",Mn=ae==="mouseout"||ae==="pointerout",en&&ve!==un&&(Cn=ve.relatedTarget||ve.fromElement)&&(os(Cn)||Cn[Li]))break e;if((Mn||en)&&(en=nn.window===nn?nn:(en=nn.ownerDocument)?en.defaultView||en.parentWindow:window,Mn?(Cn=ve.relatedTarget||ve.toElement,Mn=$t,Cn=Cn?os(Cn):null,Cn!==null&&(Br=Ui(Cn),Cn!==Br||Cn.tag!==5&&Cn.tag!==6)&&(Cn=null)):(Mn=null,Cn=$t),Mn!==Cn)){if(In=oc,fn="onMouseLeave",wt="onMouseEnter",vt="mouse",(ae==="pointerout"||ae==="pointerover")&&(In=Ci,fn="onPointerLeave",wt="onPointerEnter",vt="pointer"),Br=Mn==null?en:Lr(Mn),Rt=Cn==null?en:Lr(Cn),en=new In(fn,vt+"leave",Mn,ve,nn),en.target=Br,en.relatedTarget=Rt,fn=null,os(nn)===$t&&(In=new In(wt,vt+"enter",Cn,ve,nn),In.target=Rt,In.relatedTarget=Br,fn=In),Br=fn,Mn&&Cn)t:{for(In=Mn,wt=Cn,vt=0,Rt=In;Rt;Rt=Ts(Rt))vt++;for(Rt=0,fn=wt;fn;fn=Ts(fn))Rt++;for(;0<vt-Rt;)In=Ts(In),vt--;for(;0<Rt-vt;)wt=Ts(wt),Rt--;for(;vt--;){if(In===wt||wt!==null&&In===wt.alternate)break t;In=Ts(In),wt=Ts(wt)}In=null}else In=null;Mn!==null&&su(rn,en,Mn,In,!1),Cn!==null&&Br!==null&&su(rn,Br,Cn,In,!0)}}e:{if(en=$t?Lr($t):window,Mn=en.nodeName&&en.nodeName.toLowerCase(),Mn==="select"||Mn==="input"&&en.type==="file")var On=ru;else if(bl(en))if(aa)On=Mr;else{On=iu;var zn=la}else(Mn=en.nodeName)&&Mn.toLowerCase()==="input"&&(en.type==="checkbox"||en.type==="radio")&&(On=hc);if(On&&(On=On(ae,$t))){oa(rn,On,ve,nn);break e}zn&&zn(ae,en,$t),ae==="focusout"&&(zn=en._wrapperState)&&zn.controlled&&en.type==="number"&&mn(en,"number",en.value)}switch(zn=$t?Lr($t):window,ae){case"focusin":(bl(zn)||zn.contentEditable==="true")&&(fo=zn,Ms=$t,Na=null);break;case"focusout":Na=Ms=fo=null;break;case"mousedown":jr=!0;break;case"contextmenu":case"mouseup":case"dragend":jr=!1,Rl(rn,ve,nn);break;case"selectionchange":if(Tl)break;case"keydown":case"keyup":Rl(rn,ve,nn)}var Vn;if(ui)e:{switch(ae){case"compositionstart":var Hn="onCompositionStart";break e;case"compositionend":Hn="onCompositionEnd";break e;case"compositionupdate":Hn="onCompositionUpdate";break e}Hn=void 0}else Jo?dc(ae,ve)&&(Hn="onCompositionEnd"):ae==="keydown"&&ve.keyCode===229&&(Hn="onCompositionStart");Hn&&(ra&&ve.locale!=="ko"&&(Jo||Hn!=="onCompositionStart"?Hn==="onCompositionEnd"&&Jo&&(Vn=La()):(_i=nn,Js="value"in _i?_i.value:_i.textContent,Jo=!0)),zn=Dl($t,Hn),0<zn.length&&(Hn=new ac(Hn,ae,null,ve,nn),rn.push({event:Hn,listeners:zn}),Vn?Hn.data=Vn:(Vn=El(ve),Vn!==null&&(Hn.data=Vn)))),(Vn=Er?tu(ae,ve):Da(ae,ve))&&($t=Dl($t,"onBeforeInput"),0<$t.length&&(nn=new ac("onBeforeInput","beforeinput",null,ve,nn),rn.push({event:nn,listeners:$t}),nn.data=Vn))}ua(rn,ue)})}function da(ae,ue,ve){return{instance:ae,listener:ue,currentTarget:ve}}function Dl(ae,ue){for(var ve=ue+"Capture",we=[];ae!==null;){var Ie=ae,De=Ie.stateNode;Ie.tag===5&&De!==null&&(Ie=De,De=hr(ae,ve),De!=null&&we.unshift(da(ae,De,Ie)),De=hr(ae,ue),De!=null&&we.push(da(ae,De,Ie))),ae=ae.return}return we}function Ts(ae){if(ae===null)return null;do ae=ae.return;while(ae&&ae.tag!==5);return ae||null}function su(ae,ue,ve,we,Ie){for(var De=ue._reactName,Ge=[];ve!==null&&ve!==we;){var nt=ve,ft=nt.alternate,$t=nt.stateNode;if(ft!==null&&ft===we)break;nt.tag===5&&$t!==null&&(nt=$t,Ie?(ft=hr(ve,De),ft!=null&&Ge.unshift(da(ve,ft,nt))):Ie||(ft=hr(ve,De),ft!=null&&Ge.push(da(ve,ft,nt)))),ve=ve.return}Ge.length!==0&&ae.push({event:ue,listeners:Ge})}var Bu=/\r\n?/g,au=/\u0000|\uFFFD/g;function yc(ae){return(typeof ae=="string"?ae:""+ae).replace(Bu,`
`).replace(au,"")}function Va(ae,ue,ve){if(ue=yc(ue),yc(ae)!==ue&&ve)throw Error(K(425))}function Ga(){}var ha=null,xc=null;function _c(ae,ue){return ae==="textarea"||ae==="noscript"||typeof ue.children=="string"||typeof ue.children=="number"||typeof ue.dangerouslySetInnerHTML=="object"&&ue.dangerouslySetInnerHTML!==null&&ue.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,Ec=typeof clearTimeout=="function"?clearTimeout:void 0,Ol=typeof Promise=="function"?Promise:void 0,zu=typeof queueMicrotask=="function"?queueMicrotask:typeof Ol<"u"?function(ae){return Ol.resolve(null).then(ae).catch(lu)}:Sc;function lu(ae){setTimeout(function(){throw ae})}function Nl(ae,ue){var ve=ue,we=0;do{var Ie=ve.nextSibling;if(ae.removeChild(ve),Ie&&Ie.nodeType===8)if(ve=Ie.data,ve==="/$"){if(we===0){ae.removeChild(Ie),Zt(ue);return}we--}else ve!=="$"&&ve!=="$?"&&ve!=="$!"||we++;ve=Ie}while(ve);Zt(ue)}function Lo(ae){for(;ae!=null;ae=ae.nextSibling){var ue=ae.nodeType;if(ue===1||ue===3)break;if(ue===8){if(ue=ae.data,ue==="$"||ue==="$!"||ue==="$?")break;if(ue==="/$")return null}}return ae}function bc(ae){ae=ae.previousSibling;for(var ue=0;ae;){if(ae.nodeType===8){var ve=ae.data;if(ve==="$"||ve==="$!"||ve==="$?"){if(ue===0)return ae;ue--}else ve==="/$"&&ue++}ae=ae.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Rs,pa="__reactProps$"+Rs,Li="__reactContainer$"+Rs,As="__reactEvents$"+Rs,Fl="__reactListeners$"+Rs,kl="__reactHandles$"+Rs;function os(ae){var ue=ae[Ur];if(ue)return ue;for(var ve=ae.parentNode;ve;){if(ue=ve[Li]||ve[Ur]){if(ve=ue.alternate,ue.child!==null||ve!==null&&ve.child!==null)for(ae=bc(ae);ae!==null;){if(ve=ae[Ur])return ve;ae=bc(ae)}return ue}ae=ve,ve=ae.parentNode}return null}function $o(ae){return ae=ae[Ur]||ae[Li],!ae||ae.tag!==5&&ae.tag!==6&&ae.tag!==13&&ae.tag!==3?null:ae}function Lr(ae){if(ae.tag===5||ae.tag===6)return ae.stateNode;throw Error(K(33))}function Ul(ae){return ae[pa]||null}var wc=[],qr=-1;function Ar(ae){return{current:ae}}function vr(ae){0>qr||(ae.current=wc[qr],wc[qr]=null,qr--)}function mr(ae,ue){qr++,wc[qr]=ae.current,ae.current=ue}var Do={},Zr=Ar(Do),fi=Ar(!1),Oo=Do;function Cs(ae,ue){var ve=ae.type.contextTypes;if(!ve)return Do;var we=ae.stateNode;if(we&&we.__reactInternalMemoizedUnmaskedChildContext===ue)return we.__reactInternalMemoizedMaskedChildContext;var Ie={},De;for(De in ve)Ie[De]=ue[De];return we&&(ae=ae.stateNode,ae.__reactInternalMemoizedUnmaskedChildContext=ue,ae.__reactInternalMemoizedMaskedChildContext=Ie),Ie}function ri(ae){return ae=ae.childContextTypes,ae!=null}function Ha(){vr(fi),vr(Zr)}function Mc(ae,ue,ve){if(Zr.current!==Do)throw Error(K(168));mr(Zr,ue),mr(fi,ve)}function Wa(ae,ue,ve){var we=ae.stateNode;if(ue=ue.childContextTypes,typeof we.getChildContext!="function")return ve;we=we.getChildContext();for(var Ie in we)if(!(Ie in ue))throw Error(K(108,Pt(ae)||"Unknown",Ie));return Qe({},ve,we)}function Ps(ae){return ae=(ae=ae.stateNode)&&ae.__reactInternalMemoizedMergedChildContext||Do,Oo=Zr.current,mr(Zr,ae),mr(fi,fi.current),!0}function Tc(ae,ue,ve){var we=ae.stateNode;if(!we)throw Error(K(169));ve?(ae=Wa(ae,ue,Oo),we.__reactInternalMemoizedMergedChildContext=ae,vr(fi),vr(Zr),mr(Zr,ae)):vr(fi),mr(fi,ve)}var ro=null,ja=!1,Bl=!1;function qa(ae){ro===null?ro=[ae]:ro.push(ae)}function cu(ae){ja=!0,qa(ae)}function po(){if(!Bl&&ro!==null){Bl=!0;var ae=0,ue=Xn;try{var ve=ro;for(Xn=1;ae<ve.length;ae++){var we=ve[ae];do we=we(!0);while(we!==null)}ro=null,ja=!1}catch(Ie){throw ro!==null&&(ro=ro.slice(ae+1)),We(vn,po),Ie}finally{Xn=ue,Bl=!1}}return null}var Is=[],wi=0,zl=null,Vl=0,di=[],Xr=0,Ls=null,dn=1,qi="";function No(ae,ue){Is[wi++]=Vl,Is[wi++]=zl,zl=ae,Vl=ue}function Rc(ae,ue,ve){di[Xr++]=dn,di[Xr++]=qi,di[Xr++]=Ls,Ls=ae;var we=dn;ae=qi;var Ie=32-Kn(we)-1;we&=~(1<<Ie),ve+=1;var De=32-Kn(ue)+Ie;if(30<De){var Ge=Ie-Ie%5;De=(we&(1<<Ge)-1).toString(32),we>>=Ge,Ie-=Ge,dn=1<<32-Kn(ue)+Ie|ve<<Ie|we,qi=De+ae}else dn=1<<De|ve<<Ie|we,qi=ae}function Ac(ae){ae.return!==null&&(No(ae,1),Rc(ae,1,0))}function Fo(ae){for(;ae===zl;)zl=Is[--wi],Is[wi]=null,Vl=Is[--wi],Is[wi]=null;for(;ae===Ls;)Ls=di[--Xr],di[Xr]=null,qi=di[--Xr],di[Xr]=null,dn=di[--Xr],di[Xr]=null}var Qr=null,hi=null,xr=!1,Xi=null;function Cc(ae,ue){var ve=xo(5,null,null,0);ve.elementType="DELETED",ve.stateNode=ue,ve.return=ae,ue=ae.deletions,ue===null?(ae.deletions=[ve],ae.flags|=16):ue.push(ve)}function Pc(ae,ue){switch(ae.tag){case 5:var ve=ae.type;return ue=ue.nodeType!==1||ve.toLowerCase()!==ue.nodeName.toLowerCase()?null:ue,ue!==null?(ae.stateNode=ue,Qr=ae,hi=Lo(ue.firstChild),!0):!1;case 6:return ue=ae.pendingProps===""||ue.nodeType!==3?null:ue,ue!==null?(ae.stateNode=ue,Qr=ae,hi=null,!0):!1;case 13:return ue=ue.nodeType!==8?null:ue,ue!==null?(ve=Ls!==null?{id:dn,overflow:qi}:null,ae.memoizedState={dehydrated:ue,treeContext:ve,retryLane:1073741824},ve=xo(18,null,null,0),ve.stateNode=ue,ve.return=ae,ae.child=ve,Qr=ae,hi=null,!0):!1;default:return!1}}function Gl(ae){return(ae.mode&1)!==0&&(ae.flags&128)===0}function Hl(ae){if(xr){var ue=hi;if(ue){var ve=ue;if(!Pc(ae,ue)){if(Gl(ae))throw Error(K(418));ue=Lo(ve.nextSibling);var we=Qr;ue&&Pc(ae,ue)?Cc(we,ve):(ae.flags=ae.flags&-4097|2,xr=!1,Qr=ae)}}else{if(Gl(ae))throw Error(K(418));ae.flags=ae.flags&-4097|2,xr=!1,Qr=ae}}}function Wl(ae){for(ae=ae.return;ae!==null&&ae.tag!==5&&ae.tag!==3&&ae.tag!==13;)ae=ae.return;Qr=ae}function ma(ae){if(ae!==Qr)return!1;if(!xr)return Wl(ae),xr=!0,!1;var ue;if((ue=ae.tag!==3)&&!(ue=ae.tag!==5)&&(ue=ae.type,ue=ue!=="head"&&ue!=="body"&&!_c(ae.type,ae.memoizedProps)),ue&&(ue=hi)){if(Gl(ae))throw Ic(),Error(K(418));for(;ue;)Cc(ae,ue),ue=Lo(ue.nextSibling)}if(Wl(ae),ae.tag===13){if(ae=ae.memoizedState,ae=ae!==null?ae.dehydrated:null,!ae)throw Error(K(317));e:{for(ae=ae.nextSibling,ue=0;ae;){if(ae.nodeType===8){var ve=ae.data;if(ve==="/$"){if(ue===0){hi=Lo(ae.nextSibling);break e}ue--}else ve!=="$"&&ve!=="$!"&&ve!=="$?"||ue++}ae=ae.nextSibling}hi=null}}else hi=Qr?Lo(ae.stateNode.nextSibling):null;return!0}function Ic(){for(var ae=hi;ae;)ae=Lo(ae.nextSibling)}function ss(){hi=Qr=null,xr=!1}function ga(ae){Xi===null?Xi=[ae]:Xi.push(ae)}var Vu=Ae.ReactCurrentBatchConfig;function Xa(ae,ue,ve){if(ae=ve.ref,ae!==null&&typeof ae!="function"&&typeof ae!="object"){if(ve._owner){if(ve=ve._owner,ve){if(ve.tag!==1)throw Error(K(309));var we=ve.stateNode}if(!we)throw Error(K(147,ae));var Ie=we,De=""+ae;return ue!==null&&ue.ref!==null&&typeof ue.ref=="function"&&ue.ref._stringRef===De?ue.ref:(ue=function(Ge){var nt=Ie.refs;Ge===null?delete nt[De]:nt[De]=Ge},ue._stringRef=De,ue)}if(typeof ae!="string")throw Error(K(284));if(!ve._owner)throw Error(K(290,ae))}return ae}function Ya(ae,ue){throw ae=Object.prototype.toString.call(ue),Error(K(31,ae==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":ae))}function Lc(ae){var ue=ae._init;return ue(ae._payload)}function $c(ae){function ue(wt,vt){if(ae){var Rt=wt.deletions;Rt===null?(wt.deletions=[vt],wt.flags|=16):Rt.push(vt)}}function ve(wt,vt){if(!ae)return null;for(;vt!==null;)ue(wt,vt),vt=vt.sibling;return null}function we(wt,vt){for(wt=new Map;vt!==null;)vt.key!==null?wt.set(vt.key,vt):wt.set(vt.index,vt),vt=vt.sibling;return wt}function Ie(wt,vt){return wt=Aa(wt,vt),wt.index=0,wt.sibling=null,wt}function De(wt,vt,Rt){return wt.index=Rt,ae?(Rt=wt.alternate,Rt!==null?(Rt=Rt.index,Rt<vt?(wt.flags|=2,vt):Rt):(wt.flags|=2,vt)):(wt.flags|=1048576,vt)}function Ge(wt){return ae&&wt.alternate===null&&(wt.flags|=2),wt}function nt(wt,vt,Rt,fn){return vt===null||vt.tag!==6?(vt=lf(Rt,wt.mode,fn),vt.return=wt,vt):(vt=Ie(vt,Rt),vt.return=wt,vt)}function ft(wt,vt,Rt,fn){var On=Rt.type;return On===ke?nn(wt,vt,Rt.props.children,fn,Rt.key):vt!==null&&(vt.elementType===On||typeof On=="object"&&On!==null&&On.$$typeof===ct&&Lc(On)===vt.type)?(fn=Ie(vt,Rt.props),fn.ref=Xa(wt,vt,Rt),fn.return=wt,fn):(fn=Lu(Rt.type,Rt.key,Rt.props,null,wt.mode,fn),fn.ref=Xa(wt,vt,Rt),fn.return=wt,fn)}function $t(wt,vt,Rt,fn){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Rt.containerInfo||vt.stateNode.implementation!==Rt.implementation?(vt=cf(Rt,wt.mode,fn),vt.return=wt,vt):(vt=Ie(vt,Rt.children||[]),vt.return=wt,vt)}function nn(wt,vt,Rt,fn,On){return vt===null||vt.tag!==7?(vt=dl(Rt,wt.mode,fn,On),vt.return=wt,vt):(vt=Ie(vt,Rt),vt.return=wt,vt)}function rn(wt,vt,Rt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=lf(""+vt,wt.mode,Rt),vt.return=wt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case Fe:return Rt=Lu(vt.type,vt.key,vt.props,null,wt.mode,Rt),Rt.ref=Xa(wt,null,vt),Rt.return=wt,Rt;case $e:return vt=cf(vt,wt.mode,Rt),vt.return=wt,vt;case ct:var fn=vt._init;return rn(wt,fn(vt._payload),Rt)}if(Jt(vt)||rt(vt))return vt=dl(vt,wt.mode,Rt,null),vt.return=wt,vt;Ya(wt,vt)}return null}function en(wt,vt,Rt,fn){var On=vt!==null?vt.key:null;if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return On!==null?null:nt(wt,vt,""+Rt,fn);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Fe:return Rt.key===On?ft(wt,vt,Rt,fn):null;case $e:return Rt.key===On?$t(wt,vt,Rt,fn):null;case ct:return On=Rt._init,en(wt,vt,On(Rt._payload),fn)}if(Jt(Rt)||rt(Rt))return On!==null?null:nn(wt,vt,Rt,fn,null);Ya(wt,Rt)}return null}function Mn(wt,vt,Rt,fn,On){if(typeof fn=="string"&&fn!==""||typeof fn=="number")return wt=wt.get(Rt)||null,nt(vt,wt,""+fn,On);if(typeof fn=="object"&&fn!==null){switch(fn.$$typeof){case Fe:return wt=wt.get(fn.key===null?Rt:fn.key)||null,ft(vt,wt,fn,On);case $e:return wt=wt.get(fn.key===null?Rt:fn.key)||null,$t(vt,wt,fn,On);case ct:var zn=fn._init;return Mn(wt,vt,Rt,zn(fn._payload),On)}if(Jt(fn)||rt(fn))return wt=wt.get(Rt)||null,nn(vt,wt,fn,On,null);Ya(vt,fn)}return null}function Cn(wt,vt,Rt,fn){for(var On=null,zn=null,Vn=vt,Hn=vt=0,ai=null;Vn!==null&&Hn<Rt.length;Hn++){Vn.index>Hn?(ai=Vn,Vn=null):ai=Vn.sibling;var lr=en(wt,Vn,Rt[Hn],fn);if(lr===null){Vn===null&&(Vn=ai);break}ae&&Vn&&lr.alternate===null&&ue(wt,Vn),vt=De(lr,vt,Hn),zn===null?On=lr:zn.sibling=lr,zn=lr,Vn=ai}if(Hn===Rt.length)return ve(wt,Vn),xr&&No(wt,Hn),On;if(Vn===null){for(;Hn<Rt.length;Hn++)Vn=rn(wt,Rt[Hn],fn),Vn!==null&&(vt=De(Vn,vt,Hn),zn===null?On=Vn:zn.sibling=Vn,zn=Vn);return xr&&No(wt,Hn),On}for(Vn=we(wt,Vn);Hn<Rt.length;Hn++)ai=Mn(Vn,wt,Hn,Rt[Hn],fn),ai!==null&&(ae&&ai.alternate!==null&&Vn.delete(ai.key===null?Hn:ai.key),vt=De(ai,vt,Hn),zn===null?On=ai:zn.sibling=ai,zn=ai);return ae&&Vn.forEach(function(Ca){return ue(wt,Ca)}),xr&&No(wt,Hn),On}function In(wt,vt,Rt,fn){var On=rt(Rt);if(typeof On!="function")throw Error(K(150));if(Rt=On.call(Rt),Rt==null)throw Error(K(151));for(var zn=On=null,Vn=vt,Hn=vt=0,ai=null,lr=Rt.next();Vn!==null&&!lr.done;Hn++,lr=Rt.next()){Vn.index>Hn?(ai=Vn,Vn=null):ai=Vn.sibling;var Ca=en(wt,Vn,lr.value,fn);if(Ca===null){Vn===null&&(Vn=ai);break}ae&&Vn&&Ca.alternate===null&&ue(wt,Vn),vt=De(Ca,vt,Hn),zn===null?On=Ca:zn.sibling=Ca,zn=Ca,Vn=ai}if(lr.done)return ve(wt,Vn),xr&&No(wt,Hn),On;if(Vn===null){for(;!lr.done;Hn++,lr=Rt.next())lr=rn(wt,lr.value,fn),lr!==null&&(vt=De(lr,vt,Hn),zn===null?On=lr:zn.sibling=lr,zn=lr);return xr&&No(wt,Hn),On}for(Vn=we(wt,Vn);!lr.done;Hn++,lr=Rt.next())lr=Mn(Vn,wt,Hn,lr.value,fn),lr!==null&&(ae&&lr.alternate!==null&&Vn.delete(lr.key===null?Hn:lr.key),vt=De(lr,vt,Hn),zn===null?On=lr:zn.sibling=lr,zn=lr);return ae&&Vn.forEach(function(pd){return ue(wt,pd)}),xr&&No(wt,Hn),On}function Br(wt,vt,Rt,fn){if(typeof Rt=="object"&&Rt!==null&&Rt.type===ke&&Rt.key===null&&(Rt=Rt.props.children),typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Fe:e:{for(var On=Rt.key,zn=vt;zn!==null;){if(zn.key===On){if(On=Rt.type,On===ke){if(zn.tag===7){ve(wt,zn.sibling),vt=Ie(zn,Rt.props.children),vt.return=wt,wt=vt;break e}}else if(zn.elementType===On||typeof On=="object"&&On!==null&&On.$$typeof===ct&&Lc(On)===zn.type){ve(wt,zn.sibling),vt=Ie(zn,Rt.props),vt.ref=Xa(wt,zn,Rt),vt.return=wt,wt=vt;break e}ve(wt,zn);break}else ue(wt,zn);zn=zn.sibling}Rt.type===ke?(vt=dl(Rt.props.children,wt.mode,fn,Rt.key),vt.return=wt,wt=vt):(fn=Lu(Rt.type,Rt.key,Rt.props,null,wt.mode,fn),fn.ref=Xa(wt,vt,Rt),fn.return=wt,wt=fn)}return Ge(wt);case $e:e:{for(zn=Rt.key;vt!==null;){if(vt.key===zn)if(vt.tag===4&&vt.stateNode.containerInfo===Rt.containerInfo&&vt.stateNode.implementation===Rt.implementation){ve(wt,vt.sibling),vt=Ie(vt,Rt.children||[]),vt.return=wt,wt=vt;break e}else{ve(wt,vt);break}else ue(wt,vt);vt=vt.sibling}vt=cf(Rt,wt.mode,fn),vt.return=wt,wt=vt}return Ge(wt);case ct:return zn=Rt._init,Br(wt,vt,zn(Rt._payload),fn)}if(Jt(Rt))return Cn(wt,vt,Rt,fn);if(rt(Rt))return In(wt,vt,Rt,fn);Ya(wt,Rt)}return typeof Rt=="string"&&Rt!==""||typeof Rt=="number"?(Rt=""+Rt,vt!==null&&vt.tag===6?(ve(wt,vt.sibling),vt=Ie(vt,Rt),vt.return=wt,wt=vt):(ve(wt,vt),vt=lf(Rt,wt.mode,fn),vt.return=wt,wt=vt),Ge(wt)):ve(wt,vt)}return Br}var $s=$c(!0),Ka=$c(!1),Ds=Ar(null),Os=null,ko=null,va=null;function Ns(){va=ko=Os=null}function Za(ae){var ue=Ds.current;vr(Ds),ae._currentValue=ue}function Qa(ae,ue,ve){for(;ae!==null;){var we=ae.alternate;if((ae.childLanes&ue)!==ue?(ae.childLanes|=ue,we!==null&&(we.childLanes|=ue)):we!==null&&(we.childLanes&ue)!==ue&&(we.childLanes|=ue),ae===ve)break;ae=ae.return}}function as(ae,ue){Os=ae,va=ko=null,ae=ae.dependencies,ae!==null&&ae.firstContext!==null&&(ae.lanes&ue&&(er=!0),ae.firstContext=null)}function $i(ae){var ue=ae._currentValue;if(va!==ae)if(ae={context:ae,memoizedValue:ue,next:null},ko===null){if(Os===null)throw Error(K(308));ko=ae,Os.dependencies={lanes:0,firstContext:ae}}else ko=ko.next=ae;return ue}var Uo=null;function Dc(ae){Uo===null?Uo=[ae]:Uo.push(ae)}function Ja(ae,ue,ve,we){var Ie=ue.interleaved;return Ie===null?(ve.next=ve,Dc(ue)):(ve.next=Ie.next,Ie.next=ve),ue.interleaved=ve,io(ae,we)}function io(ae,ue){ae.lanes|=ue;var ve=ae.alternate;for(ve!==null&&(ve.lanes|=ue),ve=ae,ae=ae.return;ae!==null;)ae.childLanes|=ue,ve=ae.alternate,ve!==null&&(ve.childLanes|=ue),ve=ae,ae=ae.return;return ve.tag===3?ve.stateNode:null}var fr=!1;function Jn(ae){ae.updateQueue={baseState:ae.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $r(ae,ue){ae=ae.updateQueue,ue.updateQueue===ae&&(ue.updateQueue={baseState:ae.baseState,firstBaseUpdate:ae.firstBaseUpdate,lastBaseUpdate:ae.lastBaseUpdate,shared:ae.shared,effects:ae.effects})}function dr(ae,ue){return{eventTime:ae,lane:ue,tag:0,payload:null,callback:null,next:null}}function br(ae,ue,ve){var we=ae.updateQueue;if(we===null)return null;if(we=we.shared,ar&2){var Ie=we.pending;return Ie===null?ue.next=ue:(ue.next=Ie.next,Ie.next=ue),we.pending=ue,io(ae,ve)}return Ie=we.interleaved,Ie===null?(ue.next=ue,Dc(we)):(ue.next=Ie.next,Ie.next=ue),we.interleaved=ue,io(ae,ve)}function ii(ae,ue,ve){if(ue=ue.updateQueue,ue!==null&&(ue=ue.shared,(ve&4194240)!==0)){var we=ue.lanes;we&=ae.pendingLanes,ve|=we,ue.lanes=ve,zi(ae,ve)}}function Fs(ae,ue){var ve=ae.updateQueue,we=ae.alternate;if(we!==null&&(we=we.updateQueue,ve===we)){var Ie=null,De=null;if(ve=ve.firstBaseUpdate,ve!==null){do{var Ge={eventTime:ve.eventTime,lane:ve.lane,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null};De===null?Ie=De=Ge:De=De.next=Ge,ve=ve.next}while(ve!==null);De===null?Ie=De=ue:De=De.next=ue}else Ie=De=ue;ve={baseState:we.baseState,firstBaseUpdate:Ie,lastBaseUpdate:De,shared:we.shared,effects:we.effects},ae.updateQueue=ve;return}ae=ve.lastBaseUpdate,ae===null?ve.firstBaseUpdate=ue:ae.next=ue,ve.lastBaseUpdate=ue}function Cr(ae,ue,ve,we){var Ie=ae.updateQueue;fr=!1;var De=Ie.firstBaseUpdate,Ge=Ie.lastBaseUpdate,nt=Ie.shared.pending;if(nt!==null){Ie.shared.pending=null;var ft=nt,$t=ft.next;ft.next=null,Ge===null?De=$t:Ge.next=$t,Ge=ft;var nn=ae.alternate;nn!==null&&(nn=nn.updateQueue,nt=nn.lastBaseUpdate,nt!==Ge&&(nt===null?nn.firstBaseUpdate=$t:nt.next=$t,nn.lastBaseUpdate=ft))}if(De!==null){var rn=Ie.baseState;Ge=0,nn=$t=ft=null,nt=De;do{var en=nt.lane,Mn=nt.eventTime;if((we&en)===en){nn!==null&&(nn=nn.next={eventTime:Mn,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var Cn=ae,In=nt;switch(en=ue,Mn=ve,In.tag){case 1:if(Cn=In.payload,typeof Cn=="function"){rn=Cn.call(Mn,rn,en);break e}rn=Cn;break e;case 3:Cn.flags=Cn.flags&-65537|128;case 0:if(Cn=In.payload,en=typeof Cn=="function"?Cn.call(Mn,rn,en):Cn,en==null)break e;rn=Qe({},rn,en);break e;case 2:fr=!0}}nt.callback!==null&&nt.lane!==0&&(ae.flags|=64,en=Ie.effects,en===null?Ie.effects=[nt]:en.push(nt))}else Mn={eventTime:Mn,lane:en,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},nn===null?($t=nn=Mn,ft=rn):nn=nn.next=Mn,Ge|=en;if(nt=nt.next,nt===null){if(nt=Ie.shared.pending,nt===null)break;en=nt,nt=en.next,en.next=null,Ie.lastBaseUpdate=en,Ie.shared.pending=null}}while(!0);if(nn===null&&(ft=rn),Ie.baseState=ft,Ie.firstBaseUpdate=$t,Ie.lastBaseUpdate=nn,ue=Ie.shared.interleaved,ue!==null){Ie=ue;do Ge|=Ie.lane,Ie=Ie.next;while(Ie!==ue)}else De===null&&(Ie.shared.lanes=0);ll|=Ge,ae.lanes=Ge,ae.memoizedState=rn}}function ya(ae,ue,ve){if(ae=ue.effects,ue.effects=null,ae!==null)for(ue=0;ue<ae.length;ue++){var we=ae[ue],Ie=we.callback;if(Ie!==null){if(we.callback=null,we=ve,typeof Ie!="function")throw Error(K(191,Ie));Ie.call(we)}}}var mo={},Di=Ar(mo),ks=Ar(mo),Bo=Ar(mo);function Dr(ae){if(ae===mo)throw Error(K(174));return ae}function el(ae,ue){switch(mr(Bo,ue),mr(ks,ae),mr(Di,mo),ae=ue.nodeType,ae){case 9:case 11:ue=(ue=ue.documentElement)?ue.namespaceURI:jt(null,"");break;default:ae=ae===8?ue.parentNode:ue,ue=ae.namespaceURI||null,ae=ae.tagName,ue=jt(ue,ae)}vr(Di),mr(Di,ue)}function ls(){vr(Di),vr(ks),vr(Bo)}function Us(ae){Dr(Bo.current);var ue=Dr(Di.current),ve=jt(ue,ae.type);ue!==ve&&(mr(ks,ae),mr(Di,ve))}function xa(ae){ks.current===ae&&(vr(Di),vr(ks))}var _r=Ar(0);function oo(ae){for(var ue=ae;ue!==null;){if(ue.tag===13){var ve=ue.memoizedState;if(ve!==null&&(ve=ve.dehydrated,ve===null||ve.data==="$?"||ve.data==="$!"))return ue}else if(ue.tag===19&&ue.memoizedProps.revealOrder!==void 0){if(ue.flags&128)return ue}else if(ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===ae)break;for(;ue.sibling===null;){if(ue.return===null||ue.return===ae)return null;ue=ue.return}ue.sibling.return=ue.return,ue=ue.sibling}return null}var Sa=[];function go(){for(var ae=0;ae<Sa.length;ae++)Sa[ae]._workInProgressVersionPrimary=null;Sa.length=0}var Bs=Ae.ReactCurrentDispatcher,zs=Ae.ReactCurrentBatchConfig,zo=0,yr=null,Pr=null,or=null,so=!1,oi=!1,cs=0,Mi=0;function Jr(){throw Error(K(321))}function tl(ae,ue){if(ue===null)return!1;for(var ve=0;ve<ue.length&&ve<ae.length;ve++)if(!Pi(ae[ve],ue[ve]))return!1;return!0}function nl(ae,ue,ve,we,Ie,De){if(zo=De,yr=ue,ue.memoizedState=null,ue.updateQueue=null,ue.lanes=0,Bs.current=ae===null||ae.memoizedState===null?gu:vu,ae=ve(we,Ie),oi){De=0;do{if(oi=!1,cs=0,25<=De)throw Error(K(301));De+=1,or=Pr=null,ue.updateQueue=null,Bs.current=yu,ae=ve(we,Ie)}while(oi)}if(Bs.current=Ql,ue=Pr!==null&&Pr.next!==null,zo=0,or=Pr=yr=null,so=!1,ue)throw Error(K(300));return ae}function Oc(){var ae=cs!==0;return cs=0,ae}function ei(){var ae={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?yr.memoizedState=or=ae:or=or.next=ae,or}function Oi(){if(Pr===null){var ae=yr.alternate;ae=ae!==null?ae.memoizedState:null}else ae=Pr.next;var ue=or===null?yr.memoizedState:or.next;if(ue!==null)or=ue,Pr=ae;else{if(ae===null)throw Error(K(310));Pr=ae,ae={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},or===null?yr.memoizedState=or=ae:or=or.next=ae}return or}function Ea(ae,ue){return typeof ue=="function"?ue(ae):ue}function rl(ae){var ue=Oi(),ve=ue.queue;if(ve===null)throw Error(K(311));ve.lastRenderedReducer=ae;var we=Pr,Ie=we.baseQueue,De=ve.pending;if(De!==null){if(Ie!==null){var Ge=Ie.next;Ie.next=De.next,De.next=Ge}we.baseQueue=Ie=De,ve.pending=null}if(Ie!==null){De=Ie.next,we=we.baseState;var nt=Ge=null,ft=null,$t=De;do{var nn=$t.lane;if((zo&nn)===nn)ft!==null&&(ft=ft.next={lane:0,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null}),we=$t.hasEagerState?$t.eagerState:ae(we,$t.action);else{var rn={lane:nn,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null};ft===null?(nt=ft=rn,Ge=we):ft=ft.next=rn,yr.lanes|=nn,ll|=nn}$t=$t.next}while($t!==null&&$t!==De);ft===null?Ge=we:ft.next=nt,Pi(we,ue.memoizedState)||(er=!0),ue.memoizedState=we,ue.baseState=Ge,ue.baseQueue=ft,ve.lastRenderedState=we}if(ae=ve.interleaved,ae!==null){Ie=ae;do De=Ie.lane,yr.lanes|=De,ll|=De,Ie=Ie.next;while(Ie!==ae)}else Ie===null&&(ve.lanes=0);return[ue.memoizedState,ve.dispatch]}function Vo(ae){var ue=Oi(),ve=ue.queue;if(ve===null)throw Error(K(311));ve.lastRenderedReducer=ae;var we=ve.dispatch,Ie=ve.pending,De=ue.memoizedState;if(Ie!==null){ve.pending=null;var Ge=Ie=Ie.next;do De=ae(De,Ge.action),Ge=Ge.next;while(Ge!==Ie);Pi(De,ue.memoizedState)||(er=!0),ue.memoizedState=De,ue.baseQueue===null&&(ue.baseState=De),ve.lastRenderedState=De}return[De,we]}function Nc(){}function Fc(ae,ue){var ve=yr,we=Oi(),Ie=ue(),De=!Pi(we.memoizedState,Ie);if(De&&(we.memoizedState=Ie,er=!0),we=we.queue,Bc(uu.bind(null,ve,we,ae),[ae]),we.getSnapshot!==ue||De||or!==null&&or.memoizedState.tag&1){if(ve.flags|=2048,ao(9,il.bind(null,ve,we,Ie,ue),void 0,null),si===null)throw Error(K(349));zo&30||jl(ve,ue,Ie)}return Ie}function jl(ae,ue,ve){ae.flags|=16384,ae={getSnapshot:ue,value:ve},ue=yr.updateQueue,ue===null?(ue={lastEffect:null,stores:null},yr.updateQueue=ue,ue.stores=[ae]):(ve=ue.stores,ve===null?ue.stores=[ae]:ve.push(ae))}function il(ae,ue,ve,we){ue.value=ve,ue.getSnapshot=we,fu(ue)&&kc(ae)}function uu(ae,ue,ve){return ve(function(){fu(ue)&&kc(ae)})}function fu(ae){var ue=ae.getSnapshot;ae=ae.value;try{var ve=ue();return!Pi(ae,ve)}catch{return!0}}function kc(ae){var ue=io(ae,1);ue!==null&&qo(ue,ae,1,-1)}function Uc(ae){var ue=ei();return typeof ae=="function"&&(ae=ae()),ue.memoizedState=ue.baseState=ae,ae={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ae},ue.queue=ae,ae=ae.dispatch=Vs.bind(null,yr,ae),[ue.memoizedState,ae]}function ao(ae,ue,ve,we){return ae={tag:ae,create:ue,destroy:ve,deps:we,next:null},ue=yr.updateQueue,ue===null?(ue={lastEffect:null,stores:null},yr.updateQueue=ue,ue.lastEffect=ae.next=ae):(ve=ue.lastEffect,ve===null?ue.lastEffect=ae.next=ae:(we=ve.next,ve.next=ae,ae.next=we,ue.lastEffect=ae)),ae}function du(){return Oi().memoizedState}function vo(ae,ue,ve,we){var Ie=ei();yr.flags|=ae,Ie.memoizedState=ao(1|ue,ve,void 0,we===void 0?null:we)}function ol(ae,ue,ve,we){var Ie=Oi();we=we===void 0?null:we;var De=void 0;if(Pr!==null){var Ge=Pr.memoizedState;if(De=Ge.destroy,we!==null&&tl(we,Ge.deps)){Ie.memoizedState=ao(ue,ve,De,we);return}}yr.flags|=ae,Ie.memoizedState=ao(1|ue,ve,De,we)}function pi(ae,ue){return vo(8390656,8,ae,ue)}function Bc(ae,ue){return ol(2048,8,ae,ue)}function zc(ae,ue){return ol(4,2,ae,ue)}function hu(ae,ue){return ol(4,4,ae,ue)}function pu(ae,ue){if(typeof ue=="function")return ae=ae(),ue(ae),function(){ue(null)};if(ue!=null)return ae=ae(),ue.current=ae,function(){ue.current=null}}function Vc(ae,ue,ve){return ve=ve!=null?ve.concat([ae]):null,ol(4,4,pu.bind(null,ue,ae),ve)}function ql(){}function mu(ae,ue){var ve=Oi();ue=ue===void 0?null:ue;var we=ve.memoizedState;return we!==null&&ue!==null&&tl(ue,we[1])?we[0]:(ve.memoizedState=[ae,ue],ae)}function Ni(ae,ue){var ve=Oi();ue=ue===void 0?null:ue;var we=ve.memoizedState;return we!==null&&ue!==null&&tl(ue,we[1])?we[0]:(ae=ae(),ve.memoizedState=[ae,ue],ae)}function Xl(ae,ue,ve){return zo&21?(Pi(ve,ue)||(ve=pr(),yr.lanes|=ve,ll|=ve,ae.baseState=!0),ue):(ae.baseState&&(ae.baseState=!1,er=!0),ae.memoizedState=ve)}function Gu(ae,ue){var ve=Xn;Xn=ve!==0&&4>ve?ve:4,ae(!0);var we=zs.transition;zs.transition={};try{ae(!1),ue()}finally{Xn=ve,zs.transition=we}}function Go(){return Oi().memoizedState}function Yl(ae,ue,ve){var we=Ta(ae);if(ve={lane:we,action:ve,hasEagerState:!1,eagerState:null,next:null},sl(ae))Kl(ue,ve);else if(ve=Ja(ae,ue,ve,we),ve!==null){var Ie=ki();qo(ve,ae,we,Ie),Zl(ve,ue,we)}}function Vs(ae,ue,ve){var we=Ta(ae),Ie={lane:we,action:ve,hasEagerState:!1,eagerState:null,next:null};if(sl(ae))Kl(ue,Ie);else{var De=ae.alternate;if(ae.lanes===0&&(De===null||De.lanes===0)&&(De=ue.lastRenderedReducer,De!==null))try{var Ge=ue.lastRenderedState,nt=De(Ge,ve);if(Ie.hasEagerState=!0,Ie.eagerState=nt,Pi(nt,Ge)){var ft=ue.interleaved;ft===null?(Ie.next=Ie,Dc(ue)):(Ie.next=ft.next,ft.next=Ie),ue.interleaved=Ie;return}}catch{}finally{}ve=Ja(ae,ue,Ie,we),ve!==null&&(Ie=ki(),qo(ve,ae,we,Ie),Zl(ve,ue,we))}}function sl(ae){var ue=ae.alternate;return ae===yr||ue!==null&&ue===yr}function Kl(ae,ue){oi=so=!0;var ve=ae.pending;ve===null?ue.next=ue:(ue.next=ve.next,ve.next=ue),ae.pending=ue}function Zl(ae,ue,ve){if(ve&4194240){var we=ue.lanes;we&=ae.pendingLanes,ve|=we,ue.lanes=ve,zi(ae,ve)}}var Ql={readContext:$i,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},gu={readContext:$i,useCallback:function(ae,ue){return ei().memoizedState=[ae,ue===void 0?null:ue],ae},useContext:$i,useEffect:pi,useImperativeHandle:function(ae,ue,ve){return ve=ve!=null?ve.concat([ae]):null,vo(4194308,4,pu.bind(null,ue,ae),ve)},useLayoutEffect:function(ae,ue){return vo(4194308,4,ae,ue)},useInsertionEffect:function(ae,ue){return vo(4,2,ae,ue)},useMemo:function(ae,ue){var ve=ei();return ue=ue===void 0?null:ue,ae=ae(),ve.memoizedState=[ae,ue],ae},useReducer:function(ae,ue,ve){var we=ei();return ue=ve!==void 0?ve(ue):ue,we.memoizedState=we.baseState=ue,ae={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ae,lastRenderedState:ue},we.queue=ae,ae=ae.dispatch=Yl.bind(null,yr,ae),[we.memoizedState,ae]},useRef:function(ae){var ue=ei();return ae={current:ae},ue.memoizedState=ae},useState:Uc,useDebugValue:ql,useDeferredValue:function(ae){return ei().memoizedState=ae},useTransition:function(){var ae=Uc(!1),ue=ae[0];return ae=Gu.bind(null,ae[1]),ei().memoizedState=ae,[ue,ae]},useMutableSource:function(){},useSyncExternalStore:function(ae,ue,ve){var we=yr,Ie=ei();if(xr){if(ve===void 0)throw Error(K(407));ve=ve()}else{if(ve=ue(),si===null)throw Error(K(349));zo&30||jl(we,ue,ve)}Ie.memoizedState=ve;var De={value:ve,getSnapshot:ue};return Ie.queue=De,pi(uu.bind(null,we,De,ae),[ae]),we.flags|=2048,ao(9,il.bind(null,we,De,ve,ue),void 0,null),ve},useId:function(){var ae=ei(),ue=si.identifierPrefix;if(xr){var ve=qi,we=dn;ve=(we&~(1<<32-Kn(we)-1)).toString(32)+ve,ue=":"+ue+"R"+ve,ve=cs++,0<ve&&(ue+="H"+ve.toString(32)),ue+=":"}else ve=Mi++,ue=":"+ue+"r"+ve.toString(32)+":";return ae.memoizedState=ue},unstable_isNewReconciler:!1},vu={readContext:$i,useCallback:mu,useContext:$i,useEffect:Bc,useImperativeHandle:Vc,useInsertionEffect:zc,useLayoutEffect:hu,useMemo:Ni,useReducer:rl,useRef:du,useState:function(){return rl(Ea)},useDebugValue:ql,useDeferredValue:function(ae){var ue=Oi();return Xl(ue,Pr.memoizedState,ae)},useTransition:function(){var ae=rl(Ea)[0],ue=Oi().memoizedState;return[ae,ue]},useMutableSource:Nc,useSyncExternalStore:Fc,useId:Go,unstable_isNewReconciler:!1},yu={readContext:$i,useCallback:mu,useContext:$i,useEffect:Bc,useImperativeHandle:Vc,useInsertionEffect:zc,useLayoutEffect:hu,useMemo:Ni,useReducer:Vo,useRef:du,useState:function(){return Vo(Ea)},useDebugValue:ql,useDeferredValue:function(ae){var ue=Oi();return Pr===null?ue.memoizedState=ae:Xl(ue,Pr.memoizedState,ae)},useTransition:function(){var ae=Vo(Ea)[0],ue=Oi().memoizedState;return[ae,ue]},useMutableSource:Nc,useSyncExternalStore:Fc,useId:Go,unstable_isNewReconciler:!1};function Yi(ae,ue){if(ae&&ae.defaultProps){ue=Qe({},ue),ae=ae.defaultProps;for(var ve in ae)ue[ve]===void 0&&(ue[ve]=ae[ve]);return ue}return ue}function al(ae,ue,ve,we){ue=ae.memoizedState,ve=ve(we,ue),ve=ve==null?ue:Qe({},ue,ve),ae.memoizedState=ve,ae.lanes===0&&(ae.updateQueue.baseState=ve)}var Jl={isMounted:function(ae){return(ae=ae._reactInternals)?Ui(ae)===ae:!1},enqueueSetState:function(ae,ue,ve){ae=ae._reactInternals;var we=ki(),Ie=Ta(ae),De=dr(we,Ie);De.payload=ue,ve!=null&&(De.callback=ve),ue=br(ae,De,Ie),ue!==null&&(qo(ue,ae,Ie,we),ii(ue,ae,Ie))},enqueueReplaceState:function(ae,ue,ve){ae=ae._reactInternals;var we=ki(),Ie=Ta(ae),De=dr(we,Ie);De.tag=1,De.payload=ue,ve!=null&&(De.callback=ve),ue=br(ae,De,Ie),ue!==null&&(qo(ue,ae,Ie,we),ii(ue,ae,Ie))},enqueueForceUpdate:function(ae,ue){ae=ae._reactInternals;var ve=ki(),we=Ta(ae),Ie=dr(ve,we);Ie.tag=2,ue!=null&&(Ie.callback=ue),ue=br(ae,Ie,we),ue!==null&&(qo(ue,ae,we,ve),ii(ue,ae,we))}};function xu(ae,ue,ve,we,Ie,De,Ge){return ae=ae.stateNode,typeof ae.shouldComponentUpdate=="function"?ae.shouldComponentUpdate(we,De,Ge):ue.prototype&&ue.prototype.isPureReactComponent?!bs(ve,we)||!bs(Ie,De):!0}function de(ae,ue,ve){var we=!1,Ie=Do,De=ue.contextType;return typeof De=="object"&&De!==null?De=$i(De):(Ie=ri(ue)?Oo:Zr.current,we=ue.contextTypes,De=(we=we!=null)?Cs(ae,Ie):Do),ue=new ue(ve,De),ae.memoizedState=ue.state!==null&&ue.state!==void 0?ue.state:null,ue.updater=Jl,ae.stateNode=ue,ue._reactInternals=ae,we&&(ae=ae.stateNode,ae.__reactInternalMemoizedUnmaskedChildContext=Ie,ae.__reactInternalMemoizedMaskedChildContext=De),ue}function he(ae,ue,ve,we){ae=ue.state,typeof ue.componentWillReceiveProps=="function"&&ue.componentWillReceiveProps(ve,we),typeof ue.UNSAFE_componentWillReceiveProps=="function"&&ue.UNSAFE_componentWillReceiveProps(ve,we),ue.state!==ae&&Jl.enqueueReplaceState(ue,ue.state,null)}function be(ae,ue,ve,we){var Ie=ae.stateNode;Ie.props=ve,Ie.state=ae.memoizedState,Ie.refs={},Jn(ae);var De=ue.contextType;typeof De=="object"&&De!==null?Ie.context=$i(De):(De=ri(ue)?Oo:Zr.current,Ie.context=Cs(ae,De)),Ie.state=ae.memoizedState,De=ue.getDerivedStateFromProps,typeof De=="function"&&(al(ae,ue,De,ve),Ie.state=ae.memoizedState),typeof ue.getDerivedStateFromProps=="function"||typeof Ie.getSnapshotBeforeUpdate=="function"||typeof Ie.UNSAFE_componentWillMount!="function"&&typeof Ie.componentWillMount!="function"||(ue=Ie.state,typeof Ie.componentWillMount=="function"&&Ie.componentWillMount(),typeof Ie.UNSAFE_componentWillMount=="function"&&Ie.UNSAFE_componentWillMount(),ue!==Ie.state&&Jl.enqueueReplaceState(Ie,Ie.state,null),Cr(ae,ve,Ie,we),Ie.state=ae.memoizedState),typeof Ie.componentDidMount=="function"&&(ae.flags|=4194308)}function Pe(ae,ue){try{var ve="",we=ue;do ve+=dt(we),we=we.return;while(we);var Ie=ve}catch(De){Ie=`
Error generating stack: `+De.message+`
`+De.stack}return{value:ae,source:ue,stack:Ie,digest:null}}function Le(ae,ue,ve){return{value:ae,source:null,stack:ve??null,digest:ue??null}}function Be(ae,ue){try{console.error(ue.value)}catch(ve){setTimeout(function(){throw ve})}}var Je=typeof WeakMap=="function"?WeakMap:Map;function yt(ae,ue,ve){ve=dr(-1,ve),ve.tag=3,ve.payload={element:null};var we=ue.value;return ve.callback=function(){Tu||(Tu=!0,Ju=we),Be(ae,ue)},ve}function Gt(ae,ue,ve){ve=dr(-1,ve),ve.tag=3;var we=ae.type.getDerivedStateFromError;if(typeof we=="function"){var Ie=ue.value;ve.payload=function(){return we(Ie)},ve.callback=function(){Be(ae,ue)}}var De=ae.stateNode;return De!==null&&typeof De.componentDidCatch=="function"&&(ve.callback=function(){Be(ae,ue),typeof we!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var Ge=ue.stack;this.componentDidCatch(ue.value,{componentStack:Ge!==null?Ge:""})}),ve}function ln(ae,ue,ve){var we=ae.pingCache;if(we===null){we=ae.pingCache=new Je;var Ie=new Set;we.set(ue,Ie)}else Ie=we.get(ue),Ie===void 0&&(Ie=new Set,we.set(ue,Ie));Ie.has(ve)||(Ie.add(ve),ae=rd.bind(null,ae,ue,ve),ue.then(ae,ae))}function Rn(ae){do{var ue;if((ue=ae.tag===13)&&(ue=ae.memoizedState,ue=ue!==null?ue.dehydrated!==null:!0),ue)return ae;ae=ae.return}while(ae!==null);return null}function Wn(ae,ue,ve,we,Ie){return ae.mode&1?(ae.flags|=65536,ae.lanes=Ie,ae):(ae===ue?ae.flags|=65536:(ae.flags|=128,ve.flags|=131072,ve.flags&=-52805,ve.tag===1&&(ve.alternate===null?ve.tag=17:(ue=dr(-1,1),ue.tag=2,br(ve,ue,1))),ve.lanes|=1),ae)}var kn=Ae.ReactCurrentOwner,er=!1;function En(ae,ue,ve,we){ue.child=ae===null?Ka(ue,null,ve,we):$s(ue,ae.child,ve,we)}function ti(ae,ue,ve,we,Ie){ve=ve.render;var De=ue.ref;return as(ue,Ie),we=nl(ae,ue,ve,we,De,Ie),ve=Oc(),ae!==null&&!er?(ue.updateQueue=ae.updateQueue,ue.flags&=-2053,ae.lanes&=~Ie,Gs(ae,ue,Ie)):(xr&&ve&&Ac(ue),ue.flags|=1,En(ae,ue,we,Ie),ue.child)}function Fi(ae,ue,ve,we,Ie){if(ae===null){var De=ve.type;return typeof De=="function"&&!af(De)&&De.defaultProps===void 0&&ve.compare===null&&ve.defaultProps===void 0?(ue.tag=15,ue.type=De,Ct(ae,ue,De,we,Ie)):(ae=Lu(ve.type,null,we,ue,ue.mode,Ie),ae.ref=ue.ref,ae.return=ue,ue.child=ae)}if(De=ae.child,!(ae.lanes&Ie)){var Ge=De.memoizedProps;if(ve=ve.compare,ve=ve!==null?ve:bs,ve(Ge,we)&&ae.ref===ue.ref)return Gs(ae,ue,Ie)}return ue.flags|=1,ae=Aa(De,we),ae.ref=ue.ref,ae.return=ue,ue.child=ae}function Ct(ae,ue,ve,we,Ie){if(ae!==null){var De=ae.memoizedProps;if(bs(De,we)&&ae.ref===ue.ref)if(er=!1,ue.pendingProps=we=De,(ae.lanes&Ie)!==0)ae.flags&131072&&(er=!0);else return ue.lanes=ae.lanes,Gs(ae,ue,Ie)}return xn(ae,ue,ve,we,Ie)}function St(ae,ue,ve){var we=ue.pendingProps,Ie=we.children,De=ae!==null?ae.memoizedState:null;if(we.mode==="hidden")if(!(ue.mode&1))ue.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(tc,lo),lo|=ve;else{if(!(ve&1073741824))return ae=De!==null?De.baseLanes|ve:ve,ue.lanes=ue.childLanes=1073741824,ue.memoizedState={baseLanes:ae,cachePool:null,transitions:null},ue.updateQueue=null,mr(tc,lo),lo|=ae,null;ue.memoizedState={baseLanes:0,cachePool:null,transitions:null},we=De!==null?De.baseLanes:ve,mr(tc,lo),lo|=we}else De!==null?(we=De.baseLanes|ve,ue.memoizedState=null):we=ve,mr(tc,lo),lo|=we;return En(ae,ue,Ie,ve),ue.child}function kt(ae,ue){var ve=ue.ref;(ae===null&&ve!==null||ae!==null&&ae.ref!==ve)&&(ue.flags|=512,ue.flags|=2097152)}function xn(ae,ue,ve,we,Ie){var De=ri(ve)?Oo:Zr.current;return De=Cs(ue,De),as(ue,Ie),ve=nl(ae,ue,ve,we,De,Ie),we=Oc(),ae!==null&&!er?(ue.updateQueue=ae.updateQueue,ue.flags&=-2053,ae.lanes&=~Ie,Gs(ae,ue,Ie)):(xr&&we&&Ac(ue),ue.flags|=1,En(ae,ue,ve,Ie),ue.child)}function $n(ae,ue,ve,we,Ie){if(ri(ve)){var De=!0;Ps(ue)}else De=!1;if(as(ue,Ie),ue.stateNode===null)Su(ae,ue),de(ue,ve,we),be(ue,ve,we,Ie),we=!0;else if(ae===null){var Ge=ue.stateNode,nt=ue.memoizedProps;Ge.props=nt;var ft=Ge.context,$t=ve.contextType;typeof $t=="object"&&$t!==null?$t=$i($t):($t=ri(ve)?Oo:Zr.current,$t=Cs(ue,$t));var nn=ve.getDerivedStateFromProps,rn=typeof nn=="function"||typeof Ge.getSnapshotBeforeUpdate=="function";rn||typeof Ge.UNSAFE_componentWillReceiveProps!="function"&&typeof Ge.componentWillReceiveProps!="function"||(nt!==we||ft!==$t)&&he(ue,Ge,we,$t),fr=!1;var en=ue.memoizedState;Ge.state=en,Cr(ue,we,Ge,Ie),ft=ue.memoizedState,nt!==we||en!==ft||fi.current||fr?(typeof nn=="function"&&(al(ue,ve,nn,we),ft=ue.memoizedState),(nt=fr||xu(ue,ve,nt,we,en,ft,$t))?(rn||typeof Ge.UNSAFE_componentWillMount!="function"&&typeof Ge.componentWillMount!="function"||(typeof Ge.componentWillMount=="function"&&Ge.componentWillMount(),typeof Ge.UNSAFE_componentWillMount=="function"&&Ge.UNSAFE_componentWillMount()),typeof Ge.componentDidMount=="function"&&(ue.flags|=4194308)):(typeof Ge.componentDidMount=="function"&&(ue.flags|=4194308),ue.memoizedProps=we,ue.memoizedState=ft),Ge.props=we,Ge.state=ft,Ge.context=$t,we=nt):(typeof Ge.componentDidMount=="function"&&(ue.flags|=4194308),we=!1)}else{Ge=ue.stateNode,$r(ae,ue),nt=ue.memoizedProps,$t=ue.type===ue.elementType?nt:Yi(ue.type,nt),Ge.props=$t,rn=ue.pendingProps,en=Ge.context,ft=ve.contextType,typeof ft=="object"&&ft!==null?ft=$i(ft):(ft=ri(ve)?Oo:Zr.current,ft=Cs(ue,ft));var Mn=ve.getDerivedStateFromProps;(nn=typeof Mn=="function"||typeof Ge.getSnapshotBeforeUpdate=="function")||typeof Ge.UNSAFE_componentWillReceiveProps!="function"&&typeof Ge.componentWillReceiveProps!="function"||(nt!==rn||en!==ft)&&he(ue,Ge,we,ft),fr=!1,en=ue.memoizedState,Ge.state=en,Cr(ue,we,Ge,Ie);var Cn=ue.memoizedState;nt!==rn||en!==Cn||fi.current||fr?(typeof Mn=="function"&&(al(ue,ve,Mn,we),Cn=ue.memoizedState),($t=fr||xu(ue,ve,$t,we,en,Cn,ft)||!1)?(nn||typeof Ge.UNSAFE_componentWillUpdate!="function"&&typeof Ge.componentWillUpdate!="function"||(typeof Ge.componentWillUpdate=="function"&&Ge.componentWillUpdate(we,Cn,ft),typeof Ge.UNSAFE_componentWillUpdate=="function"&&Ge.UNSAFE_componentWillUpdate(we,Cn,ft)),typeof Ge.componentDidUpdate=="function"&&(ue.flags|=4),typeof Ge.getSnapshotBeforeUpdate=="function"&&(ue.flags|=1024)):(typeof Ge.componentDidUpdate!="function"||nt===ae.memoizedProps&&en===ae.memoizedState||(ue.flags|=4),typeof Ge.getSnapshotBeforeUpdate!="function"||nt===ae.memoizedProps&&en===ae.memoizedState||(ue.flags|=1024),ue.memoizedProps=we,ue.memoizedState=Cn),Ge.props=we,Ge.state=Cn,Ge.context=ft,we=$t):(typeof Ge.componentDidUpdate!="function"||nt===ae.memoizedProps&&en===ae.memoizedState||(ue.flags|=4),typeof Ge.getSnapshotBeforeUpdate!="function"||nt===ae.memoizedProps&&en===ae.memoizedState||(ue.flags|=1024),we=!1)}return Yn(ae,ue,ve,we,De,Ie)}function Yn(ae,ue,ve,we,Ie,De){kt(ae,ue);var Ge=(ue.flags&128)!==0;if(!we&&!Ge)return Ie&&Tc(ue,ve,!1),Gs(ae,ue,De);we=ue.stateNode,kn.current=ue;var nt=Ge&&typeof ve.getDerivedStateFromError!="function"?null:we.render();return ue.flags|=1,ae!==null&&Ge?(ue.child=$s(ue,ae.child,null,De),ue.child=$s(ue,null,nt,De)):En(ae,ue,nt,De),ue.memoizedState=we.state,Ie&&Tc(ue,ve,!0),ue.child}function jn(ae){var ue=ae.stateNode;ue.pendingContext?Mc(ae,ue.pendingContext,ue.pendingContext!==ue.context):ue.context&&Mc(ae,ue.context,!1),el(ae,ue.containerInfo)}function ir(ae,ue,ve,we,Ie){return ss(),ga(Ie),ue.flags|=256,En(ae,ue,ve,we),ue.child}var Or={dehydrated:null,treeContext:null,retryLane:0};function nr(ae){return{baseLanes:ae,cachePool:null,transitions:null}}function Ho(ae,ue,ve){var we=ue.pendingProps,Ie=_r.current,De=!1,Ge=(ue.flags&128)!==0,nt;if((nt=Ge)||(nt=ae!==null&&ae.memoizedState===null?!1:(Ie&2)!==0),nt?(De=!0,ue.flags&=-129):(ae===null||ae.memoizedState!==null)&&(Ie|=1),mr(_r,Ie&1),ae===null)return Hl(ue),ae=ue.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null)?(ue.mode&1?ae.data==="$!"?ue.lanes=8:ue.lanes=1073741824:ue.lanes=1,null):(Ge=we.children,ae=we.fallback,De?(we=ue.mode,De=ue.child,Ge={mode:"hidden",children:Ge},!(we&1)&&De!==null?(De.childLanes=0,De.pendingProps=Ge):De=$u(Ge,we,0,null),ae=dl(ae,we,ve,null),De.return=ue,ae.return=ue,De.sibling=ae,ue.child=De,ue.child.memoizedState=nr(ve),ue.memoizedState=Or,ae):Gc(ue,Ge));if(Ie=ae.memoizedState,Ie!==null&&(nt=Ie.dehydrated,nt!==null))return Wf(ae,ue,Ge,we,nt,Ie,ve);if(De){De=we.fallback,Ge=ue.mode,Ie=ae.child,nt=Ie.sibling;var ft={mode:"hidden",children:we.children};return!(Ge&1)&&ue.child!==Ie?(we=ue.child,we.childLanes=0,we.pendingProps=ft,ue.deletions=null):(we=Aa(Ie,ft),we.subtreeFlags=Ie.subtreeFlags&14680064),nt!==null?De=Aa(nt,De):(De=dl(De,Ge,ve,null),De.flags|=2),De.return=ue,we.return=ue,we.sibling=De,ue.child=we,we=De,De=ue.child,Ge=ae.child.memoizedState,Ge=Ge===null?nr(ve):{baseLanes:Ge.baseLanes|ve,cachePool:null,transitions:Ge.transitions},De.memoizedState=Ge,De.childLanes=ae.childLanes&~ve,ue.memoizedState=Or,we}return De=ae.child,ae=De.sibling,we=Aa(De,{mode:"visible",children:we.children}),!(ue.mode&1)&&(we.lanes=ve),we.return=ue,we.sibling=null,ae!==null&&(ve=ue.deletions,ve===null?(ue.deletions=[ae],ue.flags|=16):ve.push(ae)),ue.child=we,ue.memoizedState=null,we}function Gc(ae,ue){return ue=$u({mode:"visible",children:ue},ae.mode,0,null),ue.return=ae,ae.child=ue}function _u(ae,ue,ve,we){return we!==null&&ga(we),$s(ue,ae.child,null,ve),ae=Gc(ue,ue.pendingProps.children),ae.flags|=2,ue.memoizedState=null,ae}function Wf(ae,ue,ve,we,Ie,De,Ge){if(ve)return ue.flags&256?(ue.flags&=-257,we=Le(Error(K(422))),_u(ae,ue,Ge,we)):ue.memoizedState!==null?(ue.child=ae.child,ue.flags|=128,null):(De=we.fallback,Ie=ue.mode,we=$u({mode:"visible",children:we.children},Ie,0,null),De=dl(De,Ie,Ge,null),De.flags|=2,we.return=ue,De.return=ue,we.sibling=De,ue.child=we,ue.mode&1&&$s(ue,ae.child,null,Ge),ue.child.memoizedState=nr(Ge),ue.memoizedState=Or,De);if(!(ue.mode&1))return _u(ae,ue,Ge,null);if(Ie.data==="$!"){if(we=Ie.nextSibling&&Ie.nextSibling.dataset,we)var nt=we.dgst;return we=nt,De=Error(K(419)),we=Le(De,we,void 0),_u(ae,ue,Ge,we)}if(nt=(Ge&ae.childLanes)!==0,er||nt){if(we=si,we!==null){switch(Ge&-Ge){case 4:Ie=2;break;case 16:Ie=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ie=32;break;case 536870912:Ie=268435456;break;default:Ie=0}Ie=Ie&(we.suspendedLanes|Ge)?0:Ie,Ie!==0&&Ie!==De.retryLane&&(De.retryLane=Ie,io(ae,Ie),qo(we,ae,Ie,-1))}return sf(),we=Le(Error(K(421))),_u(ae,ue,Ge,we)}return Ie.data==="$?"?(ue.flags|=128,ue.child=ae.child,ue=id.bind(null,ae),Ie._reactRetry=ue,null):(ae=De.treeContext,hi=Lo(Ie.nextSibling),Qr=ue,xr=!0,Xi=null,ae!==null&&(di[Xr++]=dn,di[Xr++]=qi,di[Xr++]=Ls,dn=ae.id,qi=ae.overflow,Ls=ue),ue=Gc(ue,we.children),ue.flags|=4096,ue)}function pf(ae,ue,ve){ae.lanes|=ue;var we=ae.alternate;we!==null&&(we.lanes|=ue),Qa(ae.return,ue,ve)}function Hu(ae,ue,ve,we,Ie){var De=ae.memoizedState;De===null?ae.memoizedState={isBackwards:ue,rendering:null,renderingStartTime:0,last:we,tail:ve,tailMode:Ie}:(De.isBackwards=ue,De.rendering=null,De.renderingStartTime=0,De.last=we,De.tail=ve,De.tailMode=Ie)}function mf(ae,ue,ve){var we=ue.pendingProps,Ie=we.revealOrder,De=we.tail;if(En(ae,ue,we.children,ve),we=_r.current,we&2)we=we&1|2,ue.flags|=128;else{if(ae!==null&&ae.flags&128)e:for(ae=ue.child;ae!==null;){if(ae.tag===13)ae.memoizedState!==null&&pf(ae,ve,ue);else if(ae.tag===19)pf(ae,ve,ue);else if(ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===ue)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===ue)break e;ae=ae.return}ae.sibling.return=ae.return,ae=ae.sibling}we&=1}if(mr(_r,we),!(ue.mode&1))ue.memoizedState=null;else switch(Ie){case"forwards":for(ve=ue.child,Ie=null;ve!==null;)ae=ve.alternate,ae!==null&&oo(ae)===null&&(Ie=ve),ve=ve.sibling;ve=Ie,ve===null?(Ie=ue.child,ue.child=null):(Ie=ve.sibling,ve.sibling=null),Hu(ue,!1,Ie,ve,De);break;case"backwards":for(ve=null,Ie=ue.child,ue.child=null;Ie!==null;){if(ae=Ie.alternate,ae!==null&&oo(ae)===null){ue.child=Ie;break}ae=Ie.sibling,Ie.sibling=ve,ve=Ie,Ie=ae}Hu(ue,!0,ve,null,De);break;case"together":Hu(ue,!1,null,null,void 0);break;default:ue.memoizedState=null}return ue.child}function Su(ae,ue){!(ue.mode&1)&&ae!==null&&(ae.alternate=null,ue.alternate=null,ue.flags|=2)}function Gs(ae,ue,ve){if(ae!==null&&(ue.dependencies=ae.dependencies),ll|=ue.lanes,!(ve&ue.childLanes))return null;if(ae!==null&&ue.child!==ae.child)throw Error(K(153));if(ue.child!==null){for(ae=ue.child,ve=Aa(ae,ae.pendingProps),ue.child=ve,ve.return=ue;ae.sibling!==null;)ae=ae.sibling,ve=ve.sibling=Aa(ae,ae.pendingProps),ve.return=ue;ve.sibling=null}return ue.child}function jf(ae,ue,ve){switch(ue.tag){case 3:jn(ue),ss();break;case 5:Us(ue);break;case 1:ri(ue.type)&&Ps(ue);break;case 4:el(ue,ue.stateNode.containerInfo);break;case 10:var we=ue.type._context,Ie=ue.memoizedProps.value;mr(Ds,we._currentValue),we._currentValue=Ie;break;case 13:if(we=ue.memoizedState,we!==null)return we.dehydrated!==null?(mr(_r,_r.current&1),ue.flags|=128,null):ve&ue.child.childLanes?Ho(ae,ue,ve):(mr(_r,_r.current&1),ae=Gs(ae,ue,ve),ae!==null?ae.sibling:null);mr(_r,_r.current&1);break;case 19:if(we=(ve&ue.childLanes)!==0,ae.flags&128){if(we)return mf(ae,ue,ve);ue.flags|=128}if(Ie=ue.memoizedState,Ie!==null&&(Ie.rendering=null,Ie.tail=null,Ie.lastEffect=null),mr(_r,_r.current),we)break;return null;case 22:case 23:return ue.lanes=0,St(ae,ue,ve)}return Gs(ae,ue,ve)}var gf,Wu,vf,yf;gf=function(ae,ue){for(var ve=ue.child;ve!==null;){if(ve.tag===5||ve.tag===6)ae.appendChild(ve.stateNode);else if(ve.tag!==4&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===ue)break;for(;ve.sibling===null;){if(ve.return===null||ve.return===ue)return;ve=ve.return}ve.sibling.return=ve.return,ve=ve.sibling}},Wu=function(){},vf=function(ae,ue,ve,we){var Ie=ae.memoizedProps;if(Ie!==we){ae=ue.stateNode,Dr(Di.current);var De=null;switch(ve){case"input":Ie=Ze(ae,Ie),we=Ze(ae,we),De=[];break;case"select":Ie=Qe({},Ie,{value:void 0}),we=Qe({},we,{value:void 0}),De=[];break;case"textarea":Ie=He(ae,Ie),we=He(ae,we),De=[];break;default:typeof Ie.onClick!="function"&&typeof we.onClick=="function"&&(ae.onclick=Ga)}at(ve,we);var Ge;ve=null;for($t in Ie)if(!we.hasOwnProperty($t)&&Ie.hasOwnProperty($t)&&Ie[$t]!=null)if($t==="style"){var nt=Ie[$t];for(Ge in nt)nt.hasOwnProperty(Ge)&&(ve||(ve={}),ve[Ge]="")}else $t!=="dangerouslySetInnerHTML"&&$t!=="children"&&$t!=="suppressContentEditableWarning"&&$t!=="suppressHydrationWarning"&&$t!=="autoFocus"&&(ne.hasOwnProperty($t)?De||(De=[]):(De=De||[]).push($t,null));for($t in we){var ft=we[$t];if(nt=Ie!=null?Ie[$t]:void 0,we.hasOwnProperty($t)&&ft!==nt&&(ft!=null||nt!=null))if($t==="style")if(nt){for(Ge in nt)!nt.hasOwnProperty(Ge)||ft&&ft.hasOwnProperty(Ge)||(ve||(ve={}),ve[Ge]="");for(Ge in ft)ft.hasOwnProperty(Ge)&&nt[Ge]!==ft[Ge]&&(ve||(ve={}),ve[Ge]=ft[Ge])}else ve||(De||(De=[]),De.push($t,ve)),ve=ft;else $t==="dangerouslySetInnerHTML"?(ft=ft?ft.__html:void 0,nt=nt?nt.__html:void 0,ft!=null&&nt!==ft&&(De=De||[]).push($t,ft)):$t==="children"?typeof ft!="string"&&typeof ft!="number"||(De=De||[]).push($t,""+ft):$t!=="suppressContentEditableWarning"&&$t!=="suppressHydrationWarning"&&(ne.hasOwnProperty($t)?(ft!=null&&$t==="onScroll"&&gr("scroll",ae),De||nt===ft||(De=[])):(De=De||[]).push($t,ft))}ve&&(De=De||[]).push("style",ve);var $t=De;(ue.updateQueue=$t)&&(ue.flags|=4)}},yf=function(ae,ue,ve,we){ve!==we&&(ue.flags|=4)};function Hc(ae,ue){if(!xr)switch(ae.tailMode){case"hidden":ue=ae.tail;for(var ve=null;ue!==null;)ue.alternate!==null&&(ve=ue),ue=ue.sibling;ve===null?ae.tail=null:ve.sibling=null;break;case"collapsed":ve=ae.tail;for(var we=null;ve!==null;)ve.alternate!==null&&(we=ve),ve=ve.sibling;we===null?ue||ae.tail===null?ae.tail=null:ae.tail.sibling=null:we.sibling=null}}function Ti(ae){var ue=ae.alternate!==null&&ae.alternate.child===ae.child,ve=0,we=0;if(ue)for(var Ie=ae.child;Ie!==null;)ve|=Ie.lanes|Ie.childLanes,we|=Ie.subtreeFlags&14680064,we|=Ie.flags&14680064,Ie.return=ae,Ie=Ie.sibling;else for(Ie=ae.child;Ie!==null;)ve|=Ie.lanes|Ie.childLanes,we|=Ie.subtreeFlags,we|=Ie.flags,Ie.return=ae,Ie=Ie.sibling;return ae.subtreeFlags|=we,ae.childLanes=ve,ue}function qf(ae,ue,ve){var we=ue.pendingProps;switch(Fo(ue),ue.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(ue),null;case 1:return ri(ue.type)&&Ha(),Ti(ue),null;case 3:return we=ue.stateNode,ls(),vr(fi),vr(Zr),go(),we.pendingContext&&(we.context=we.pendingContext,we.pendingContext=null),(ae===null||ae.child===null)&&(ma(ue)?ue.flags|=4:ae===null||ae.memoizedState.isDehydrated&&!(ue.flags&256)||(ue.flags|=1024,Xi!==null&&(nf(Xi),Xi=null))),Wu(ae,ue),Ti(ue),null;case 5:xa(ue);var Ie=Dr(Bo.current);if(ve=ue.type,ae!==null&&ue.stateNode!=null)vf(ae,ue,ve,we,Ie),ae.ref!==ue.ref&&(ue.flags|=512,ue.flags|=2097152);else{if(!we){if(ue.stateNode===null)throw Error(K(166));return Ti(ue),null}if(ae=Dr(Di.current),ma(ue)){we=ue.stateNode,ve=ue.type;var De=ue.memoizedProps;switch(we[Ur]=ue,we[pa]=De,ae=(ue.mode&1)!==0,ve){case"dialog":gr("cancel",we),gr("close",we);break;case"iframe":case"object":case"embed":gr("load",we);break;case"video":case"audio":for(Ie=0;Ie<rs.length;Ie++)gr(rs[Ie],we);break;case"source":gr("error",we);break;case"img":case"image":case"link":gr("error",we),gr("load",we);break;case"details":gr("toggle",we);break;case"input":on(we,De),gr("invalid",we);break;case"select":we._wrapperState={wasMultiple:!!De.multiple},gr("invalid",we);break;case"textarea":tt(we,De),gr("invalid",we)}at(ve,De),Ie=null;for(var Ge in De)if(De.hasOwnProperty(Ge)){var nt=De[Ge];Ge==="children"?typeof nt=="string"?we.textContent!==nt&&(De.suppressHydrationWarning!==!0&&Va(we.textContent,nt,ae),Ie=["children",nt]):typeof nt=="number"&&we.textContent!==""+nt&&(De.suppressHydrationWarning!==!0&&Va(we.textContent,nt,ae),Ie=["children",""+nt]):ne.hasOwnProperty(Ge)&&nt!=null&&Ge==="onScroll"&&gr("scroll",we)}switch(ve){case"input":hn(we),Yt(we,De,!0);break;case"textarea":hn(we),Nt(we);break;case"select":case"option":break;default:typeof De.onClick=="function"&&(we.onclick=Ga)}we=Ie,ue.updateQueue=we,we!==null&&(ue.flags|=4)}else{Ge=Ie.nodeType===9?Ie:Ie.ownerDocument,ae==="http://www.w3.org/1999/xhtml"&&(ae=_t(ve)),ae==="http://www.w3.org/1999/xhtml"?ve==="script"?(ae=Ge.createElement("div"),ae.innerHTML="<script><\/script>",ae=ae.removeChild(ae.firstChild)):typeof we.is=="string"?ae=Ge.createElement(ve,{is:we.is}):(ae=Ge.createElement(ve),ve==="select"&&(Ge=ae,we.multiple?Ge.multiple=!0:we.size&&(Ge.size=we.size))):ae=Ge.createElementNS(ae,ve),ae[Ur]=ue,ae[pa]=we,gf(ae,ue,!1,!1),ue.stateNode=ae;e:{switch(Ge=Ut(ve,we),ve){case"dialog":gr("cancel",ae),gr("close",ae),Ie=we;break;case"iframe":case"object":case"embed":gr("load",ae),Ie=we;break;case"video":case"audio":for(Ie=0;Ie<rs.length;Ie++)gr(rs[Ie],ae);Ie=we;break;case"source":gr("error",ae),Ie=we;break;case"img":case"image":case"link":gr("error",ae),gr("load",ae),Ie=we;break;case"details":gr("toggle",ae),Ie=we;break;case"input":on(ae,we),Ie=Ze(ae,we),gr("invalid",ae);break;case"option":Ie=we;break;case"select":ae._wrapperState={wasMultiple:!!we.multiple},Ie=Qe({},we,{value:void 0}),gr("invalid",ae);break;case"textarea":tt(ae,we),Ie=He(ae,we),gr("invalid",ae);break;default:Ie=we}at(ve,Ie),nt=Ie;for(De in nt)if(nt.hasOwnProperty(De)){var ft=nt[De];De==="style"?pn(ae,ft):De==="dangerouslySetInnerHTML"?(ft=ft?ft.__html:void 0,ft!=null&&qt(ae,ft)):De==="children"?typeof ft=="string"?(ve!=="textarea"||ft!=="")&&Sn(ae,ft):typeof ft=="number"&&Sn(ae,""+ft):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(ne.hasOwnProperty(De)?ft!=null&&De==="onScroll"&&gr("scroll",ae):ft!=null&&Te(ae,De,ft,Ge))}switch(ve){case"input":hn(ae),Yt(ae,we,!1);break;case"textarea":hn(ae),Nt(ae);break;case"option":we.value!=null&&ae.setAttribute("value",""+Wt(we.value));break;case"select":ae.multiple=!!we.multiple,De=we.value,De!=null?Xe(ae,!!we.multiple,De,!1):we.defaultValue!=null&&Xe(ae,!!we.multiple,we.defaultValue,!0);break;default:typeof Ie.onClick=="function"&&(ae.onclick=Ga)}switch(ve){case"button":case"input":case"select":case"textarea":we=!!we.autoFocus;break e;case"img":we=!0;break e;default:we=!1}}we&&(ue.flags|=4)}ue.ref!==null&&(ue.flags|=512,ue.flags|=2097152)}return Ti(ue),null;case 6:if(ae&&ue.stateNode!=null)yf(ae,ue,ae.memoizedProps,we);else{if(typeof we!="string"&&ue.stateNode===null)throw Error(K(166));if(ve=Dr(Bo.current),Dr(Di.current),ma(ue)){if(we=ue.stateNode,ve=ue.memoizedProps,we[Ur]=ue,(De=we.nodeValue!==ve)&&(ae=Qr,ae!==null))switch(ae.tag){case 3:Va(we.nodeValue,ve,(ae.mode&1)!==0);break;case 5:ae.memoizedProps.suppressHydrationWarning!==!0&&Va(we.nodeValue,ve,(ae.mode&1)!==0)}De&&(ue.flags|=4)}else we=(ve.nodeType===9?ve:ve.ownerDocument).createTextNode(we),we[Ur]=ue,ue.stateNode=we}return Ti(ue),null;case 13:if(vr(_r),we=ue.memoizedState,ae===null||ae.memoizedState!==null&&ae.memoizedState.dehydrated!==null){if(xr&&hi!==null&&ue.mode&1&&!(ue.flags&128))Ic(),ss(),ue.flags|=98560,De=!1;else if(De=ma(ue),we!==null&&we.dehydrated!==null){if(ae===null){if(!De)throw Error(K(318));if(De=ue.memoizedState,De=De!==null?De.dehydrated:null,!De)throw Error(K(317));De[Ur]=ue}else ss(),!(ue.flags&128)&&(ue.memoizedState=null),ue.flags|=4;Ti(ue),De=!1}else Xi!==null&&(nf(Xi),Xi=null),De=!0;if(!De)return ue.flags&65536?ue:null}return ue.flags&128?(ue.lanes=ve,ue):(we=we!==null,we!==(ae!==null&&ae.memoizedState!==null)&&we&&(ue.child.flags|=8192,ue.mode&1&&(ae===null||_r.current&1?ni===0&&(ni=3):sf())),ue.updateQueue!==null&&(ue.flags|=4),Ti(ue),null);case 4:return ls(),Wu(ae,ue),ae===null&&fa(ue.stateNode.containerInfo),Ti(ue),null;case 10:return Za(ue.type._context),Ti(ue),null;case 17:return ri(ue.type)&&Ha(),Ti(ue),null;case 19:if(vr(_r),De=ue.memoizedState,De===null)return Ti(ue),null;if(we=(ue.flags&128)!==0,Ge=De.rendering,Ge===null)if(we)Hc(De,!1);else{if(ni!==0||ae!==null&&ae.flags&128)for(ae=ue.child;ae!==null;){if(Ge=oo(ae),Ge!==null){for(ue.flags|=128,Hc(De,!1),we=Ge.updateQueue,we!==null&&(ue.updateQueue=we,ue.flags|=4),ue.subtreeFlags=0,we=ve,ve=ue.child;ve!==null;)De=ve,ae=we,De.flags&=14680066,Ge=De.alternate,Ge===null?(De.childLanes=0,De.lanes=ae,De.child=null,De.subtreeFlags=0,De.memoizedProps=null,De.memoizedState=null,De.updateQueue=null,De.dependencies=null,De.stateNode=null):(De.childLanes=Ge.childLanes,De.lanes=Ge.lanes,De.child=Ge.child,De.subtreeFlags=0,De.deletions=null,De.memoizedProps=Ge.memoizedProps,De.memoizedState=Ge.memoizedState,De.updateQueue=Ge.updateQueue,De.type=Ge.type,ae=Ge.dependencies,De.dependencies=ae===null?null:{lanes:ae.lanes,firstContext:ae.firstContext}),ve=ve.sibling;return mr(_r,_r.current&1|2),ue.child}ae=ae.sibling}De.tail!==null&&pt()>nc&&(ue.flags|=128,we=!0,Hc(De,!1),ue.lanes=4194304)}else{if(!we)if(ae=oo(Ge),ae!==null){if(ue.flags|=128,we=!0,ve=ae.updateQueue,ve!==null&&(ue.updateQueue=ve,ue.flags|=4),Hc(De,!0),De.tail===null&&De.tailMode==="hidden"&&!Ge.alternate&&!xr)return Ti(ue),null}else 2*pt()-De.renderingStartTime>nc&&ve!==1073741824&&(ue.flags|=128,we=!0,Hc(De,!1),ue.lanes=4194304);De.isBackwards?(Ge.sibling=ue.child,ue.child=Ge):(ve=De.last,ve!==null?ve.sibling=Ge:ue.child=Ge,De.last=Ge)}return De.tail!==null?(ue=De.tail,De.rendering=ue,De.tail=ue.sibling,De.renderingStartTime=pt(),ue.sibling=null,ve=_r.current,mr(_r,we?ve&1|2:ve&1),ue):(Ti(ue),null);case 22:case 23:return of(),we=ue.memoizedState!==null,ae!==null&&ae.memoizedState!==null!==we&&(ue.flags|=8192),we&&ue.mode&1?lo&1073741824&&(Ti(ue),ue.subtreeFlags&6&&(ue.flags|=8192)):Ti(ue),null;case 24:return null;case 25:return null}throw Error(K(156,ue.tag))}function Xf(ae,ue){switch(Fo(ue),ue.tag){case 1:return ri(ue.type)&&Ha(),ae=ue.flags,ae&65536?(ue.flags=ae&-65537|128,ue):null;case 3:return ls(),vr(fi),vr(Zr),go(),ae=ue.flags,ae&65536&&!(ae&128)?(ue.flags=ae&-65537|128,ue):null;case 5:return xa(ue),null;case 13:if(vr(_r),ae=ue.memoizedState,ae!==null&&ae.dehydrated!==null){if(ue.alternate===null)throw Error(K(340));ss()}return ae=ue.flags,ae&65536?(ue.flags=ae&-65537|128,ue):null;case 19:return vr(_r),null;case 4:return ls(),null;case 10:return Za(ue.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Eu=!1,Ri=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,An=null;function ec(ae,ue){var ve=ae.ref;if(ve!==null)if(typeof ve=="function")try{ve(null)}catch(we){Nr(ae,ue,we)}else ve.current=null}function ju(ae,ue,ve){try{ve()}catch(we){Nr(ae,ue,we)}}var xf=!1;function Kf(ae,ue){if(ha=rr,ae=Tr(),Hr(ae)){if("selectionStart"in ae)var ve={start:ae.selectionStart,end:ae.selectionEnd};else e:{ve=(ve=ae.ownerDocument)&&ve.defaultView||window;var we=ve.getSelection&&ve.getSelection();if(we&&we.rangeCount!==0){ve=we.anchorNode;var Ie=we.anchorOffset,De=we.focusNode;we=we.focusOffset;try{ve.nodeType,De.nodeType}catch{ve=null;break e}var Ge=0,nt=-1,ft=-1,$t=0,nn=0,rn=ae,en=null;t:for(;;){for(var Mn;rn!==ve||Ie!==0&&rn.nodeType!==3||(nt=Ge+Ie),rn!==De||we!==0&&rn.nodeType!==3||(ft=Ge+we),rn.nodeType===3&&(Ge+=rn.nodeValue.length),(Mn=rn.firstChild)!==null;)en=rn,rn=Mn;for(;;){if(rn===ae)break t;if(en===ve&&++$t===Ie&&(nt=Ge),en===De&&++nn===we&&(ft=Ge),(Mn=rn.nextSibling)!==null)break;rn=en,en=rn.parentNode}rn=Mn}ve=nt===-1||ft===-1?null:{start:nt,end:ft}}else ve=null}ve=ve||{start:0,end:0}}else ve=null;for(xc={focusedElem:ae,selectionRange:ve},rr=!1,An=ue;An!==null;)if(ue=An,ae=ue.child,(ue.subtreeFlags&1028)!==0&&ae!==null)ae.return=ue,An=ae;else for(;An!==null;){ue=An;try{var Cn=ue.alternate;if(ue.flags&1024)switch(ue.tag){case 0:case 11:case 15:break;case 1:if(Cn!==null){var In=Cn.memoizedProps,Br=Cn.memoizedState,wt=ue.stateNode,vt=wt.getSnapshotBeforeUpdate(ue.elementType===ue.type?In:Yi(ue.type,In),Br);wt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var Rt=ue.stateNode.containerInfo;Rt.nodeType===1?Rt.textContent="":Rt.nodeType===9&&Rt.documentElement&&Rt.removeChild(Rt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(fn){Nr(ue,ue.return,fn)}if(ae=ue.sibling,ae!==null){ae.return=ue.return,An=ae;break}An=ue.return}return Cn=xf,xf=!1,Cn}function Wc(ae,ue,ve){var we=ue.updateQueue;if(we=we!==null?we.lastEffect:null,we!==null){var Ie=we=we.next;do{if((Ie.tag&ae)===ae){var De=Ie.destroy;Ie.destroy=void 0,De!==void 0&&ju(ue,ve,De)}Ie=Ie.next}while(Ie!==we)}}function bu(ae,ue){if(ue=ue.updateQueue,ue=ue!==null?ue.lastEffect:null,ue!==null){var ve=ue=ue.next;do{if((ve.tag&ae)===ae){var we=ve.create;ve.destroy=we()}ve=ve.next}while(ve!==ue)}}function qu(ae){var ue=ae.ref;if(ue!==null){var ve=ae.stateNode;switch(ae.tag){case 5:ae=ve;break;default:ae=ve}typeof ue=="function"?ue(ae):ue.current=ae}}function _f(ae){var ue=ae.alternate;ue!==null&&(ae.alternate=null,_f(ue)),ae.child=null,ae.deletions=null,ae.sibling=null,ae.tag===5&&(ue=ae.stateNode,ue!==null&&(delete ue[Ur],delete ue[pa],delete ue[As],delete ue[Fl],delete ue[kl])),ae.stateNode=null,ae.return=null,ae.dependencies=null,ae.memoizedProps=null,ae.memoizedState=null,ae.pendingProps=null,ae.stateNode=null,ae.updateQueue=null}function Sf(ae){return ae.tag===5||ae.tag===3||ae.tag===4}function Ef(ae){e:for(;;){for(;ae.sibling===null;){if(ae.return===null||Sf(ae.return))return null;ae=ae.return}for(ae.sibling.return=ae.return,ae=ae.sibling;ae.tag!==5&&ae.tag!==6&&ae.tag!==18;){if(ae.flags&2||ae.child===null||ae.tag===4)continue e;ae.child.return=ae,ae=ae.child}if(!(ae.flags&2))return ae.stateNode}}function Xu(ae,ue,ve){var we=ae.tag;if(we===5||we===6)ae=ae.stateNode,ue?ve.nodeType===8?ve.parentNode.insertBefore(ae,ue):ve.insertBefore(ae,ue):(ve.nodeType===8?(ue=ve.parentNode,ue.insertBefore(ae,ve)):(ue=ve,ue.appendChild(ae)),ve=ve._reactRootContainer,ve!=null||ue.onclick!==null||(ue.onclick=Ga));else if(we!==4&&(ae=ae.child,ae!==null))for(Xu(ae,ue,ve),ae=ae.sibling;ae!==null;)Xu(ae,ue,ve),ae=ae.sibling}function Yu(ae,ue,ve){var we=ae.tag;if(we===5||we===6)ae=ae.stateNode,ue?ve.insertBefore(ae,ue):ve.appendChild(ae);else if(we!==4&&(ae=ae.child,ae!==null))for(Yu(ae,ue,ve),ae=ae.sibling;ae!==null;)Yu(ae,ue,ve),ae=ae.sibling}var mi=null,Wo=!1;function ba(ae,ue,ve){for(ve=ve.child;ve!==null;)bf(ae,ue,ve),ve=ve.sibling}function bf(ae,ue,ve){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Tn,ve)}catch{}switch(ve.tag){case 5:Ri||ec(ve,ue);case 6:var we=mi,Ie=Wo;mi=null,ba(ae,ue,ve),mi=we,Wo=Ie,mi!==null&&(Wo?(ae=mi,ve=ve.stateNode,ae.nodeType===8?ae.parentNode.removeChild(ve):ae.removeChild(ve)):mi.removeChild(ve.stateNode));break;case 18:mi!==null&&(Wo?(ae=mi,ve=ve.stateNode,ae.nodeType===8?Nl(ae.parentNode,ve):ae.nodeType===1&&Nl(ae,ve),Zt(ae)):Nl(mi,ve.stateNode));break;case 4:we=mi,Ie=Wo,mi=ve.stateNode.containerInfo,Wo=!0,ba(ae,ue,ve),mi=we,Wo=Ie;break;case 0:case 11:case 14:case 15:if(!Ri&&(we=ve.updateQueue,we!==null&&(we=we.lastEffect,we!==null))){Ie=we=we.next;do{var De=Ie,Ge=De.destroy;De=De.tag,Ge!==void 0&&(De&2||De&4)&&ju(ve,ue,Ge),Ie=Ie.next}while(Ie!==we)}ba(ae,ue,ve);break;case 1:if(!Ri&&(ec(ve,ue),we=ve.stateNode,typeof we.componentWillUnmount=="function"))try{we.props=ve.memoizedProps,we.state=ve.memoizedState,we.componentWillUnmount()}catch(nt){Nr(ve,ue,nt)}ba(ae,ue,ve);break;case 21:ba(ae,ue,ve);break;case 22:ve.mode&1?(Ri=(we=Ri)||ve.memoizedState!==null,ba(ae,ue,ve),Ri=we):ba(ae,ue,ve);break;default:ba(ae,ue,ve)}}function wf(ae){var ue=ae.updateQueue;if(ue!==null){ae.updateQueue=null;var ve=ae.stateNode;ve===null&&(ve=ae.stateNode=new Yf),ue.forEach(function(we){var Ie=od.bind(null,ae,we);ve.has(we)||(ve.add(we),we.then(Ie,Ie))})}}function jo(ae,ue){var ve=ue.deletions;if(ve!==null)for(var we=0;we<ve.length;we++){var Ie=ve[we];try{var De=ae,Ge=ue,nt=Ge;e:for(;nt!==null;){switch(nt.tag){case 5:mi=nt.stateNode,Wo=!1;break e;case 3:mi=nt.stateNode.containerInfo,Wo=!0;break e;case 4:mi=nt.stateNode.containerInfo,Wo=!0;break e}nt=nt.return}if(mi===null)throw Error(K(160));bf(De,Ge,Ie),mi=null,Wo=!1;var ft=Ie.alternate;ft!==null&&(ft.return=null),Ie.return=null}catch($t){Nr(Ie,ue,$t)}}if(ue.subtreeFlags&12854)for(ue=ue.child;ue!==null;)Mf(ue,ae),ue=ue.sibling}function Mf(ae,ue){var ve=ae.alternate,we=ae.flags;switch(ae.tag){case 0:case 11:case 14:case 15:if(jo(ue,ae),us(ae),we&4){try{Wc(3,ae,ae.return),bu(3,ae)}catch(In){Nr(ae,ae.return,In)}try{Wc(5,ae,ae.return)}catch(In){Nr(ae,ae.return,In)}}break;case 1:jo(ue,ae),us(ae),we&512&&ve!==null&&ec(ve,ve.return);break;case 5:if(jo(ue,ae),us(ae),we&512&&ve!==null&&ec(ve,ve.return),ae.flags&32){var Ie=ae.stateNode;try{Sn(Ie,"")}catch(In){Nr(ae,ae.return,In)}}if(we&4&&(Ie=ae.stateNode,Ie!=null)){var De=ae.memoizedProps,Ge=ve!==null?ve.memoizedProps:De,nt=ae.type,ft=ae.updateQueue;if(ae.updateQueue=null,ft!==null)try{nt==="input"&&De.type==="radio"&&De.name!=null&&Xt(Ie,De),Ut(nt,Ge);var $t=Ut(nt,De);for(Ge=0;Ge<ft.length;Ge+=2){var nn=ft[Ge],rn=ft[Ge+1];nn==="style"?pn(Ie,rn):nn==="dangerouslySetInnerHTML"?qt(Ie,rn):nn==="children"?Sn(Ie,rn):Te(Ie,nn,rn,$t)}switch(nt){case"input":an(Ie,De);break;case"textarea":mt(Ie,De);break;case"select":var en=Ie._wrapperState.wasMultiple;Ie._wrapperState.wasMultiple=!!De.multiple;var Mn=De.value;Mn!=null?Xe(Ie,!!De.multiple,Mn,!1):en!==!!De.multiple&&(De.defaultValue!=null?Xe(Ie,!!De.multiple,De.defaultValue,!0):Xe(Ie,!!De.multiple,De.multiple?[]:"",!1))}Ie[pa]=De}catch(In){Nr(ae,ae.return,In)}}break;case 6:if(jo(ue,ae),us(ae),we&4){if(ae.stateNode===null)throw Error(K(162));Ie=ae.stateNode,De=ae.memoizedProps;try{Ie.nodeValue=De}catch(In){Nr(ae,ae.return,In)}}break;case 3:if(jo(ue,ae),us(ae),we&4&&ve!==null&&ve.memoizedState.isDehydrated)try{Zt(ue.containerInfo)}catch(In){Nr(ae,ae.return,In)}break;case 4:jo(ue,ae),us(ae);break;case 13:jo(ue,ae),us(ae),Ie=ae.child,Ie.flags&8192&&(De=Ie.memoizedState!==null,Ie.stateNode.isHidden=De,!De||Ie.alternate!==null&&Ie.alternate.memoizedState!==null||(Qu=pt())),we&4&&wf(ae);break;case 22:if(nn=ve!==null&&ve.memoizedState!==null,ae.mode&1?(Ri=($t=Ri)||nn,jo(ue,ae),Ri=$t):jo(ue,ae),us(ae),we&8192){if($t=ae.memoizedState!==null,(ae.stateNode.isHidden=$t)&&!nn&&ae.mode&1)for(An=ae,nn=ae.child;nn!==null;){for(rn=An=nn;An!==null;){switch(en=An,Mn=en.child,en.tag){case 0:case 11:case 14:case 15:Wc(4,en,en.return);break;case 1:ec(en,en.return);var Cn=en.stateNode;if(typeof Cn.componentWillUnmount=="function"){we=en,ve=en.return;try{ue=we,Cn.props=ue.memoizedProps,Cn.state=ue.memoizedState,Cn.componentWillUnmount()}catch(In){Nr(we,ve,In)}}break;case 5:ec(en,en.return);break;case 22:if(en.memoizedState!==null){Af(rn);continue}}Mn!==null?(Mn.return=en,An=Mn):Af(rn)}nn=nn.sibling}e:for(nn=null,rn=ae;;){if(rn.tag===5){if(nn===null){nn=rn;try{Ie=rn.stateNode,$t?(De=Ie.style,typeof De.setProperty=="function"?De.setProperty("display","none","important"):De.display="none"):(nt=rn.stateNode,ft=rn.memoizedProps.style,Ge=ft!=null&&ft.hasOwnProperty("display")?ft.display:null,nt.style.display=Ft("display",Ge))}catch(In){Nr(ae,ae.return,In)}}}else if(rn.tag===6){if(nn===null)try{rn.stateNode.nodeValue=$t?"":rn.memoizedProps}catch(In){Nr(ae,ae.return,In)}}else if((rn.tag!==22&&rn.tag!==23||rn.memoizedState===null||rn===ae)&&rn.child!==null){rn.child.return=rn,rn=rn.child;continue}if(rn===ae)break e;for(;rn.sibling===null;){if(rn.return===null||rn.return===ae)break e;nn===rn&&(nn=null),rn=rn.return}nn===rn&&(nn=null),rn.sibling.return=rn.return,rn=rn.sibling}}break;case 19:jo(ue,ae),us(ae),we&4&&wf(ae);break;case 21:break;default:jo(ue,ae),us(ae)}}function us(ae){var ue=ae.flags;if(ue&2){try{e:{for(var ve=ae.return;ve!==null;){if(Sf(ve)){var we=ve;break e}ve=ve.return}throw Error(K(160))}switch(we.tag){case 5:var Ie=we.stateNode;we.flags&32&&(Sn(Ie,""),we.flags&=-33);var De=Ef(ae);Yu(ae,De,Ie);break;case 3:case 4:var Ge=we.stateNode.containerInfo,nt=Ef(ae);Xu(ae,nt,Ge);break;default:throw Error(K(161))}}catch(ft){Nr(ae,ae.return,ft)}ae.flags&=-3}ue&4096&&(ae.flags&=-4097)}function Zf(ae,ue,ve){An=ae,Tf(ae)}function Tf(ae,ue,ve){for(var we=(ae.mode&1)!==0;An!==null;){var Ie=An,De=Ie.child;if(Ie.tag===22&&we){var Ge=Ie.memoizedState!==null||Eu;if(!Ge){var nt=Ie.alternate,ft=nt!==null&&nt.memoizedState!==null||Ri;nt=Eu;var $t=Ri;if(Eu=Ge,(Ri=ft)&&!$t)for(An=Ie;An!==null;)Ge=An,ft=Ge.child,Ge.tag===22&&Ge.memoizedState!==null?Cf(Ie):ft!==null?(ft.return=Ge,An=ft):Cf(Ie);for(;De!==null;)An=De,Tf(De),De=De.sibling;An=Ie,Eu=nt,Ri=$t}Rf(ae)}else Ie.subtreeFlags&8772&&De!==null?(De.return=Ie,An=De):Rf(ae)}}function Rf(ae){for(;An!==null;){var ue=An;if(ue.flags&8772){var ve=ue.alternate;try{if(ue.flags&8772)switch(ue.tag){case 0:case 11:case 15:Ri||bu(5,ue);break;case 1:var we=ue.stateNode;if(ue.flags&4&&!Ri)if(ve===null)we.componentDidMount();else{var Ie=ue.elementType===ue.type?ve.memoizedProps:Yi(ue.type,ve.memoizedProps);we.componentDidUpdate(Ie,ve.memoizedState,we.__reactInternalSnapshotBeforeUpdate)}var De=ue.updateQueue;De!==null&&ya(ue,De,we);break;case 3:var Ge=ue.updateQueue;if(Ge!==null){if(ve=null,ue.child!==null)switch(ue.child.tag){case 5:ve=ue.child.stateNode;break;case 1:ve=ue.child.stateNode}ya(ue,Ge,ve)}break;case 5:var nt=ue.stateNode;if(ve===null&&ue.flags&4){ve=nt;var ft=ue.memoizedProps;switch(ue.type){case"button":case"input":case"select":case"textarea":ft.autoFocus&&ve.focus();break;case"img":ft.src&&(ve.src=ft.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ue.memoizedState===null){var $t=ue.alternate;if($t!==null){var nn=$t.memoizedState;if(nn!==null){var rn=nn.dehydrated;rn!==null&&Zt(rn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ri||ue.flags&512&&qu(ue)}catch(en){Nr(ue,ue.return,en)}}if(ue===ae){An=null;break}if(ve=ue.sibling,ve!==null){ve.return=ue.return,An=ve;break}An=ue.return}}function Af(ae){for(;An!==null;){var ue=An;if(ue===ae){An=null;break}var ve=ue.sibling;if(ve!==null){ve.return=ue.return,An=ve;break}An=ue.return}}function Cf(ae){for(;An!==null;){var ue=An;try{switch(ue.tag){case 0:case 11:case 15:var ve=ue.return;try{bu(4,ue)}catch(ft){Nr(ue,ve,ft)}break;case 1:var we=ue.stateNode;if(typeof we.componentDidMount=="function"){var Ie=ue.return;try{we.componentDidMount()}catch(ft){Nr(ue,Ie,ft)}}var De=ue.return;try{qu(ue)}catch(ft){Nr(ue,De,ft)}break;case 5:var Ge=ue.return;try{qu(ue)}catch(ft){Nr(ue,Ge,ft)}}}catch(ft){Nr(ue,ue.return,ft)}if(ue===ae){An=null;break}var nt=ue.sibling;if(nt!==null){nt.return=ue.return,An=nt;break}An=ue.return}}var Qf=Math.ceil,wu=Ae.ReactCurrentDispatcher,Ku=Ae.ReactCurrentOwner,yo=Ae.ReactCurrentBatchConfig,ar=0,si=null,Yr=null,gi=0,lo=0,tc=Ar(0),ni=0,jc=null,ll=0,Mu=0,Zu=0,qc=null,Ki=null,Qu=0,nc=1/0,Hs=null,Tu=!1,Ju=null,wa=null,Ru=!1,Ma=null,Au=0,Xc=0,ef=null,Cu=-1,Pu=0;function ki(){return ar&6?pt():Cu!==-1?Cu:Cu=pt()}function Ta(ae){return ae.mode&1?ar&2&&gi!==0?gi&-gi:Vu.transition!==null?(Pu===0&&(Pu=pr()),Pu):(ae=Xn,ae!==0||(ae=window.event,ae=ae===void 0?16:Ia(ae.type)),ae):1}function qo(ae,ue,ve,we){if(50<Xc)throw Xc=0,ef=null,Error(K(185));wr(ae,ve,we),(!(ar&2)||ae!==si)&&(ae===si&&(!(ar&2)&&(Mu|=ve),ni===4&&Ra(ae,gi)),Zi(ae,we),ve===1&&ar===0&&!(ue.mode&1)&&(nc=pt()+500,ja&&po()))}function Zi(ae,ue){var ve=ae.callbackNode;Bi(ae,ue);var we=xi(ae,ae===si?gi:0);if(we===0)ve!==null&&xt(ve),ae.callbackNode=null,ae.callbackPriority=0;else if(ue=we&-we,ae.callbackPriority!==ue){if(ve!=null&&xt(ve),ue===1)ae.tag===0?cu(If.bind(null,ae)):qa(If.bind(null,ae)),zu(function(){!(ar&6)&&po()}),ve=null;else{switch(Xo(we)){case 1:ve=vn;break;case 4:ve=_n;break;case 16:ve=wn;break;case 536870912:ve=Nn;break;default:ve=wn}ve=Uf(ve,Pf.bind(null,ae))}ae.callbackPriority=ue,ae.callbackNode=ve}}function Pf(ae,ue){if(Cu=-1,Pu=0,ar&6)throw Error(K(327));var ve=ae.callbackNode;if(rc()&&ae.callbackNode!==ve)return null;var we=xi(ae,ae===si?gi:0);if(we===0)return null;if(we&30||we&ae.expiredLanes||ue)ue=Iu(ae,we);else{ue=we;var Ie=ar;ar|=2;var De=$f();(si!==ae||gi!==ue)&&(Hs=null,nc=pt()+500,ul(ae,ue));do try{td();break}catch(nt){Lf(ae,nt)}while(!0);Ns(),wu.current=De,ar=Ie,Yr!==null?ue=0:(si=null,gi=0,ue=ni)}if(ue!==0){if(ue===2&&(Ie=sr(ae),Ie!==0&&(we=Ie,ue=tf(ae,Ie))),ue===1)throw ve=jc,ul(ae,0),Ra(ae,we),Zi(ae,pt()),ve;if(ue===6)Ra(ae,we);else{if(Ie=ae.current.alternate,!(we&30)&&!Jf(Ie)&&(ue=Iu(ae,we),ue===2&&(De=sr(ae),De!==0&&(we=De,ue=tf(ae,De))),ue===1))throw ve=jc,ul(ae,0),Ra(ae,we),Zi(ae,pt()),ve;switch(ae.finishedWork=Ie,ae.finishedLanes=we,ue){case 0:case 1:throw Error(K(345));case 2:fl(ae,Ki,Hs);break;case 3:if(Ra(ae,we),(we&130023424)===we&&(ue=Qu+500-pt(),10<ue)){if(xi(ae,0)!==0)break;if(Ie=ae.suspendedLanes,(Ie&we)!==we){ki(),ae.pingedLanes|=ae.suspendedLanes&Ie;break}ae.timeoutHandle=Sc(fl.bind(null,ae,Ki,Hs),ue);break}fl(ae,Ki,Hs);break;case 4:if(Ra(ae,we),(we&4194240)===we)break;for(ue=ae.eventTimes,Ie=-1;0<we;){var Ge=31-Kn(we);De=1<<Ge,Ge=ue[Ge],Ge>Ie&&(Ie=Ge),we&=~De}if(we=Ie,we=pt()-we,we=(120>we?120:480>we?480:1080>we?1080:1920>we?1920:3e3>we?3e3:4320>we?4320:1960*Qf(we/1960))-we,10<we){ae.timeoutHandle=Sc(fl.bind(null,ae,Ki,Hs),we);break}fl(ae,Ki,Hs);break;case 5:fl(ae,Ki,Hs);break;default:throw Error(K(329))}}}return Zi(ae,pt()),ae.callbackNode===ve?Pf.bind(null,ae):null}function tf(ae,ue){var ve=qc;return ae.current.memoizedState.isDehydrated&&(ul(ae,ue).flags|=256),ae=Iu(ae,ue),ae!==2&&(ue=Ki,Ki=ve,ue!==null&&nf(ue)),ae}function nf(ae){Ki===null?Ki=ae:Ki.push.apply(Ki,ae)}function Jf(ae){for(var ue=ae;;){if(ue.flags&16384){var ve=ue.updateQueue;if(ve!==null&&(ve=ve.stores,ve!==null))for(var we=0;we<ve.length;we++){var Ie=ve[we],De=Ie.getSnapshot;Ie=Ie.value;try{if(!Pi(De(),Ie))return!1}catch{return!1}}}if(ve=ue.child,ue.subtreeFlags&16384&&ve!==null)ve.return=ue,ue=ve;else{if(ue===ae)break;for(;ue.sibling===null;){if(ue.return===null||ue.return===ae)return!0;ue=ue.return}ue.sibling.return=ue.return,ue=ue.sibling}}return!0}function Ra(ae,ue){for(ue&=~Zu,ue&=~Mu,ae.suspendedLanes|=ue,ae.pingedLanes&=~ue,ae=ae.expirationTimes;0<ue;){var ve=31-Kn(ue),we=1<<ve;ae[ve]=-1,ue&=~we}}function If(ae){if(ar&6)throw Error(K(327));rc();var ue=xi(ae,0);if(!(ue&1))return Zi(ae,pt()),null;var ve=Iu(ae,ue);if(ae.tag!==0&&ve===2){var we=sr(ae);we!==0&&(ue=we,ve=tf(ae,we))}if(ve===1)throw ve=jc,ul(ae,0),Ra(ae,ue),Zi(ae,pt()),ve;if(ve===6)throw Error(K(345));return ae.finishedWork=ae.current.alternate,ae.finishedLanes=ue,fl(ae,Ki,Hs),Zi(ae,pt()),null}function rf(ae,ue){var ve=ar;ar|=1;try{return ae(ue)}finally{ar=ve,ar===0&&(nc=pt()+500,ja&&po())}}function cl(ae){Ma!==null&&Ma.tag===0&&!(ar&6)&&rc();var ue=ar;ar|=1;var ve=yo.transition,we=Xn;try{if(yo.transition=null,Xn=1,ae)return ae()}finally{Xn=we,yo.transition=ve,ar=ue,!(ar&6)&&po()}}function of(){lo=tc.current,vr(tc)}function ul(ae,ue){ae.finishedWork=null,ae.finishedLanes=0;var ve=ae.timeoutHandle;if(ve!==-1&&(ae.timeoutHandle=-1,Ec(ve)),Yr!==null)for(ve=Yr.return;ve!==null;){var we=ve;switch(Fo(we),we.tag){case 1:we=we.type.childContextTypes,we!=null&&Ha();break;case 3:ls(),vr(fi),vr(Zr),go();break;case 5:xa(we);break;case 4:ls();break;case 13:vr(_r);break;case 19:vr(_r);break;case 10:Za(we.type._context);break;case 22:case 23:of()}ve=ve.return}if(si=ae,Yr=ae=Aa(ae.current,null),gi=lo=ue,ni=0,jc=null,Zu=Mu=ll=0,Ki=qc=null,Uo!==null){for(ue=0;ue<Uo.length;ue++)if(ve=Uo[ue],we=ve.interleaved,we!==null){ve.interleaved=null;var Ie=we.next,De=ve.pending;if(De!==null){var Ge=De.next;De.next=Ie,we.next=Ge}ve.pending=we}Uo=null}return ae}function Lf(ae,ue){do{var ve=Yr;try{if(Ns(),Bs.current=Ql,so){for(var we=yr.memoizedState;we!==null;){var Ie=we.queue;Ie!==null&&(Ie.pending=null),we=we.next}so=!1}if(zo=0,or=Pr=yr=null,oi=!1,cs=0,Ku.current=null,ve===null||ve.return===null){ni=1,jc=ue,Yr=null;break}e:{var De=ae,Ge=ve.return,nt=ve,ft=ue;if(ue=gi,nt.flags|=32768,ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var $t=ft,nn=nt,rn=nn.tag;if(!(nn.mode&1)&&(rn===0||rn===11||rn===15)){var en=nn.alternate;en?(nn.updateQueue=en.updateQueue,nn.memoizedState=en.memoizedState,nn.lanes=en.lanes):(nn.updateQueue=null,nn.memoizedState=null)}var Mn=Rn(Ge);if(Mn!==null){Mn.flags&=-257,Wn(Mn,Ge,nt,De,ue),Mn.mode&1&&ln(De,$t,ue),ue=Mn,ft=$t;var Cn=ue.updateQueue;if(Cn===null){var In=new Set;In.add(ft),ue.updateQueue=In}else Cn.add(ft);break e}else{if(!(ue&1)){ln(De,$t,ue),sf();break e}ft=Error(K(426))}}else if(xr&&nt.mode&1){var Br=Rn(Ge);if(Br!==null){!(Br.flags&65536)&&(Br.flags|=256),Wn(Br,Ge,nt,De,ue),ga(Pe(ft,nt));break e}}De=ft=Pe(ft,nt),ni!==4&&(ni=2),qc===null?qc=[De]:qc.push(De),De=Ge;do{switch(De.tag){case 3:De.flags|=65536,ue&=-ue,De.lanes|=ue;var wt=yt(De,ft,ue);Fs(De,wt);break e;case 1:nt=ft;var vt=De.type,Rt=De.stateNode;if(!(De.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||Rt!==null&&typeof Rt.componentDidCatch=="function"&&(wa===null||!wa.has(Rt)))){De.flags|=65536,ue&=-ue,De.lanes|=ue;var fn=Gt(De,nt,ue);Fs(De,fn);break e}}De=De.return}while(De!==null)}Of(ve)}catch(On){ue=On,Yr===ve&&ve!==null&&(Yr=ve=ve.return);continue}break}while(!0)}function $f(){var ae=wu.current;return wu.current=Ql,ae===null?Ql:ae}function sf(){(ni===0||ni===3||ni===2)&&(ni=4),si===null||!(ll&268435455)&&!(Mu&268435455)||Ra(si,gi)}function Iu(ae,ue){var ve=ar;ar|=2;var we=$f();(si!==ae||gi!==ue)&&(Hs=null,ul(ae,ue));do try{ed();break}catch(Ie){Lf(ae,Ie)}while(!0);if(Ns(),ar=ve,wu.current=we,Yr!==null)throw Error(K(261));return si=null,gi=0,ni}function ed(){for(;Yr!==null;)Df(Yr)}function td(){for(;Yr!==null&&!It();)Df(Yr)}function Df(ae){var ue=kf(ae.alternate,ae,lo);ae.memoizedProps=ae.pendingProps,ue===null?Of(ae):Yr=ue,Ku.current=null}function Of(ae){var ue=ae;do{var ve=ue.alternate;if(ae=ue.return,ue.flags&32768){if(ve=Xf(ve,ue),ve!==null){ve.flags&=32767,Yr=ve;return}if(ae!==null)ae.flags|=32768,ae.subtreeFlags=0,ae.deletions=null;else{ni=6,Yr=null;return}}else if(ve=qf(ve,ue,lo),ve!==null){Yr=ve;return}if(ue=ue.sibling,ue!==null){Yr=ue;return}Yr=ue=ae}while(ue!==null);ni===0&&(ni=5)}function fl(ae,ue,ve){var we=Xn,Ie=yo.transition;try{yo.transition=null,Xn=1,nd(ae,ue,ve,we)}finally{yo.transition=Ie,Xn=we}return null}function nd(ae,ue,ve,we){do rc();while(Ma!==null);if(ar&6)throw Error(K(327));ve=ae.finishedWork;var Ie=ae.finishedLanes;if(ve===null)return null;if(ae.finishedWork=null,ae.finishedLanes=0,ve===ae.current)throw Error(K(177));ae.callbackNode=null,ae.callbackPriority=0;var De=ve.lanes|ve.childLanes;if(Gr(ae,De),ae===si&&(Yr=si=null,gi=0),!(ve.subtreeFlags&2064)&&!(ve.flags&2064)||Ru||(Ru=!0,Uf(wn,function(){return rc(),null})),De=(ve.flags&15990)!==0,ve.subtreeFlags&15990||De){De=yo.transition,yo.transition=null;var Ge=Xn;Xn=1;var nt=ar;ar|=4,Ku.current=null,Kf(ae,ve),Mf(ve,ae),Wr(xc),rr=!!ha,xc=ha=null,ae.current=ve,Zf(ve),Lt(),ar=nt,Xn=Ge,yo.transition=De}else ae.current=ve;if(Ru&&(Ru=!1,Ma=ae,Au=Ie),De=ae.pendingLanes,De===0&&(wa=null),Ln(ve.stateNode),Zi(ae,pt()),ue!==null)for(we=ae.onRecoverableError,ve=0;ve<ue.length;ve++)Ie=ue[ve],we(Ie.value,{componentStack:Ie.stack,digest:Ie.digest});if(Tu)throw Tu=!1,ae=Ju,Ju=null,ae;return Au&1&&ae.tag!==0&&rc(),De=ae.pendingLanes,De&1?ae===ef?Xc++:(Xc=0,ef=ae):Xc=0,po(),null}function rc(){if(Ma!==null){var ae=Xo(Au),ue=yo.transition,ve=Xn;try{if(yo.transition=null,Xn=16>ae?16:ae,Ma===null)var we=!1;else{if(ae=Ma,Ma=null,Au=0,ar&6)throw Error(K(331));var Ie=ar;for(ar|=4,An=ae.current;An!==null;){var De=An,Ge=De.child;if(An.flags&16){var nt=De.deletions;if(nt!==null){for(var ft=0;ft<nt.length;ft++){var $t=nt[ft];for(An=$t;An!==null;){var nn=An;switch(nn.tag){case 0:case 11:case 15:Wc(8,nn,De)}var rn=nn.child;if(rn!==null)rn.return=nn,An=rn;else for(;An!==null;){nn=An;var en=nn.sibling,Mn=nn.return;if(_f(nn),nn===$t){An=null;break}if(en!==null){en.return=Mn,An=en;break}An=Mn}}}var Cn=De.alternate;if(Cn!==null){var In=Cn.child;if(In!==null){Cn.child=null;do{var Br=In.sibling;In.sibling=null,In=Br}while(In!==null)}}An=De}}if(De.subtreeFlags&2064&&Ge!==null)Ge.return=De,An=Ge;else e:for(;An!==null;){if(De=An,De.flags&2048)switch(De.tag){case 0:case 11:case 15:Wc(9,De,De.return)}var wt=De.sibling;if(wt!==null){wt.return=De.return,An=wt;break e}An=De.return}}var vt=ae.current;for(An=vt;An!==null;){Ge=An;var Rt=Ge.child;if(Ge.subtreeFlags&2064&&Rt!==null)Rt.return=Ge,An=Rt;else e:for(Ge=vt;An!==null;){if(nt=An,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:bu(9,nt)}}catch(On){Nr(nt,nt.return,On)}if(nt===Ge){An=null;break e}var fn=nt.sibling;if(fn!==null){fn.return=nt.return,An=fn;break e}An=nt.return}}if(ar=Ie,po(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Tn,ae)}catch{}we=!0}return we}finally{Xn=ve,yo.transition=ue}}return!1}function Nf(ae,ue,ve){ue=Pe(ve,ue),ue=yt(ae,ue,1),ae=br(ae,ue,1),ue=ki(),ae!==null&&(wr(ae,1,ue),Zi(ae,ue))}function Nr(ae,ue,ve){if(ae.tag===3)Nf(ae,ae,ve);else for(;ue!==null;){if(ue.tag===3){Nf(ue,ae,ve);break}else if(ue.tag===1){var we=ue.stateNode;if(typeof ue.type.getDerivedStateFromError=="function"||typeof we.componentDidCatch=="function"&&(wa===null||!wa.has(we))){ae=Pe(ve,ae),ae=Gt(ue,ae,1),ue=br(ue,ae,1),ae=ki(),ue!==null&&(wr(ue,1,ae),Zi(ue,ae));break}}ue=ue.return}}function rd(ae,ue,ve){var we=ae.pingCache;we!==null&&we.delete(ue),ue=ki(),ae.pingedLanes|=ae.suspendedLanes&ve,si===ae&&(gi&ve)===ve&&(ni===4||ni===3&&(gi&130023424)===gi&&500>pt()-Qu?ul(ae,0):Zu|=ve),Zi(ae,ue)}function Ff(ae,ue){ue===0&&(ae.mode&1?(ue=Bn,Bn<<=1,!(Bn&130023424)&&(Bn=4194304)):ue=1);var ve=ki();ae=io(ae,ue),ae!==null&&(wr(ae,ue,ve),Zi(ae,ve))}function id(ae){var ue=ae.memoizedState,ve=0;ue!==null&&(ve=ue.retryLane),Ff(ae,ve)}function od(ae,ue){var ve=0;switch(ae.tag){case 13:var we=ae.stateNode,Ie=ae.memoizedState;Ie!==null&&(ve=Ie.retryLane);break;case 19:we=ae.stateNode;break;default:throw Error(K(314))}we!==null&&we.delete(ue),Ff(ae,ve)}var kf;kf=function(ae,ue,ve){if(ae!==null)if(ae.memoizedProps!==ue.pendingProps||fi.current)er=!0;else{if(!(ae.lanes&ve)&&!(ue.flags&128))return er=!1,jf(ae,ue,ve);er=!!(ae.flags&131072)}else er=!1,xr&&ue.flags&1048576&&Rc(ue,Vl,ue.index);switch(ue.lanes=0,ue.tag){case 2:var we=ue.type;Su(ae,ue),ae=ue.pendingProps;var Ie=Cs(ue,Zr.current);as(ue,ve),Ie=nl(null,ue,we,ae,Ie,ve);var De=Oc();return ue.flags|=1,typeof Ie=="object"&&Ie!==null&&typeof Ie.render=="function"&&Ie.$$typeof===void 0?(ue.tag=1,ue.memoizedState=null,ue.updateQueue=null,ri(we)?(De=!0,Ps(ue)):De=!1,ue.memoizedState=Ie.state!==null&&Ie.state!==void 0?Ie.state:null,Jn(ue),Ie.updater=Jl,ue.stateNode=Ie,Ie._reactInternals=ue,be(ue,we,ae,ve),ue=Yn(null,ue,we,!0,De,ve)):(ue.tag=0,xr&&De&&Ac(ue),En(null,ue,Ie,ve),ue=ue.child),ue;case 16:we=ue.elementType;e:{switch(Su(ae,ue),ae=ue.pendingProps,Ie=we._init,we=Ie(we._payload),ue.type=we,Ie=ue.tag=ad(we),ae=Yi(we,ae),Ie){case 0:ue=xn(null,ue,we,ae,ve);break e;case 1:ue=$n(null,ue,we,ae,ve);break e;case 11:ue=ti(null,ue,we,ae,ve);break e;case 14:ue=Fi(null,ue,we,Yi(we.type,ae),ve);break e}throw Error(K(306,we,""))}return ue;case 0:return we=ue.type,Ie=ue.pendingProps,Ie=ue.elementType===we?Ie:Yi(we,Ie),xn(ae,ue,we,Ie,ve);case 1:return we=ue.type,Ie=ue.pendingProps,Ie=ue.elementType===we?Ie:Yi(we,Ie),$n(ae,ue,we,Ie,ve);case 3:e:{if(jn(ue),ae===null)throw Error(K(387));we=ue.pendingProps,De=ue.memoizedState,Ie=De.element,$r(ae,ue),Cr(ue,we,null,ve);var Ge=ue.memoizedState;if(we=Ge.element,De.isDehydrated)if(De={element:we,isDehydrated:!1,cache:Ge.cache,pendingSuspenseBoundaries:Ge.pendingSuspenseBoundaries,transitions:Ge.transitions},ue.updateQueue.baseState=De,ue.memoizedState=De,ue.flags&256){Ie=Pe(Error(K(423)),ue),ue=ir(ae,ue,we,ve,Ie);break e}else if(we!==Ie){Ie=Pe(Error(K(424)),ue),ue=ir(ae,ue,we,ve,Ie);break e}else for(hi=Lo(ue.stateNode.containerInfo.firstChild),Qr=ue,xr=!0,Xi=null,ve=Ka(ue,null,we,ve),ue.child=ve;ve;)ve.flags=ve.flags&-3|4096,ve=ve.sibling;else{if(ss(),we===Ie){ue=Gs(ae,ue,ve);break e}En(ae,ue,we,ve)}ue=ue.child}return ue;case 5:return Us(ue),ae===null&&Hl(ue),we=ue.type,Ie=ue.pendingProps,De=ae!==null?ae.memoizedProps:null,Ge=Ie.children,_c(we,Ie)?Ge=null:De!==null&&_c(we,De)&&(ue.flags|=32),kt(ae,ue),En(ae,ue,Ge,ve),ue.child;case 6:return ae===null&&Hl(ue),null;case 13:return Ho(ae,ue,ve);case 4:return el(ue,ue.stateNode.containerInfo),we=ue.pendingProps,ae===null?ue.child=$s(ue,null,we,ve):En(ae,ue,we,ve),ue.child;case 11:return we=ue.type,Ie=ue.pendingProps,Ie=ue.elementType===we?Ie:Yi(we,Ie),ti(ae,ue,we,Ie,ve);case 7:return En(ae,ue,ue.pendingProps,ve),ue.child;case 8:return En(ae,ue,ue.pendingProps.children,ve),ue.child;case 12:return En(ae,ue,ue.pendingProps.children,ve),ue.child;case 10:e:{if(we=ue.type._context,Ie=ue.pendingProps,De=ue.memoizedProps,Ge=Ie.value,mr(Ds,we._currentValue),we._currentValue=Ge,De!==null)if(Pi(De.value,Ge)){if(De.children===Ie.children&&!fi.current){ue=Gs(ae,ue,ve);break e}}else for(De=ue.child,De!==null&&(De.return=ue);De!==null;){var nt=De.dependencies;if(nt!==null){Ge=De.child;for(var ft=nt.firstContext;ft!==null;){if(ft.context===we){if(De.tag===1){ft=dr(-1,ve&-ve),ft.tag=2;var $t=De.updateQueue;if($t!==null){$t=$t.shared;var nn=$t.pending;nn===null?ft.next=ft:(ft.next=nn.next,nn.next=ft),$t.pending=ft}}De.lanes|=ve,ft=De.alternate,ft!==null&&(ft.lanes|=ve),Qa(De.return,ve,ue),nt.lanes|=ve;break}ft=ft.next}}else if(De.tag===10)Ge=De.type===ue.type?null:De.child;else if(De.tag===18){if(Ge=De.return,Ge===null)throw Error(K(341));Ge.lanes|=ve,nt=Ge.alternate,nt!==null&&(nt.lanes|=ve),Qa(Ge,ve,ue),Ge=De.sibling}else Ge=De.child;if(Ge!==null)Ge.return=De;else for(Ge=De;Ge!==null;){if(Ge===ue){Ge=null;break}if(De=Ge.sibling,De!==null){De.return=Ge.return,Ge=De;break}Ge=Ge.return}De=Ge}En(ae,ue,Ie.children,ve),ue=ue.child}return ue;case 9:return Ie=ue.type,we=ue.pendingProps.children,as(ue,ve),Ie=$i(Ie),we=we(Ie),ue.flags|=1,En(ae,ue,we,ve),ue.child;case 14:return we=ue.type,Ie=Yi(we,ue.pendingProps),Ie=Yi(we.type,Ie),Fi(ae,ue,we,Ie,ve);case 15:return Ct(ae,ue,ue.type,ue.pendingProps,ve);case 17:return we=ue.type,Ie=ue.pendingProps,Ie=ue.elementType===we?Ie:Yi(we,Ie),Su(ae,ue),ue.tag=1,ri(we)?(ae=!0,Ps(ue)):ae=!1,as(ue,ve),de(ue,we,Ie),be(ue,we,Ie,ve),Yn(null,ue,we,!0,ae,ve);case 19:return mf(ae,ue,ve);case 22:return St(ae,ue,ve)}throw Error(K(156,ue.tag))};function Uf(ae,ue){return We(ae,ue)}function sd(ae,ue,ve,we){this.tag=ae,this.key=ve,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ue,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=we,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(ae,ue,ve,we){return new sd(ae,ue,ve,we)}function af(ae){return ae=ae.prototype,!(!ae||!ae.isReactComponent)}function ad(ae){if(typeof ae=="function")return af(ae)?1:0;if(ae!=null){if(ae=ae.$$typeof,ae===Ye)return 11;if(ae===ut)return 14}return 2}function Aa(ae,ue){var ve=ae.alternate;return ve===null?(ve=xo(ae.tag,ue,ae.key,ae.mode),ve.elementType=ae.elementType,ve.type=ae.type,ve.stateNode=ae.stateNode,ve.alternate=ae,ae.alternate=ve):(ve.pendingProps=ue,ve.type=ae.type,ve.flags=0,ve.subtreeFlags=0,ve.deletions=null),ve.flags=ae.flags&14680064,ve.childLanes=ae.childLanes,ve.lanes=ae.lanes,ve.child=ae.child,ve.memoizedProps=ae.memoizedProps,ve.memoizedState=ae.memoizedState,ve.updateQueue=ae.updateQueue,ue=ae.dependencies,ve.dependencies=ue===null?null:{lanes:ue.lanes,firstContext:ue.firstContext},ve.sibling=ae.sibling,ve.index=ae.index,ve.ref=ae.ref,ve}function Lu(ae,ue,ve,we,Ie,De){var Ge=2;if(we=ae,typeof ae=="function")af(ae)&&(Ge=1);else if(typeof ae=="string")Ge=5;else e:switch(ae){case ke:return dl(ve.children,Ie,De,ue);case ze:Ge=8,Ie|=8;break;case Ue:return ae=xo(12,ve,ue,Ie|2),ae.elementType=Ue,ae.lanes=De,ae;case Ke:return ae=xo(13,ve,ue,Ie),ae.elementType=Ke,ae.lanes=De,ae;case ot:return ae=xo(19,ve,ue,Ie),ae.elementType=ot,ae.lanes=De,ae;case gt:return $u(ve,Ie,De,ue);default:if(typeof ae=="object"&&ae!==null)switch(ae.$$typeof){case Oe:Ge=10;break e;case Ve:Ge=9;break e;case Ye:Ge=11;break e;case ut:Ge=14;break e;case ct:Ge=16,we=null;break e}throw Error(K(130,ae==null?ae:typeof ae,""))}return ue=xo(Ge,ve,ue,Ie),ue.elementType=ae,ue.type=we,ue.lanes=De,ue}function dl(ae,ue,ve,we){return ae=xo(7,ae,we,ue),ae.lanes=ve,ae}function $u(ae,ue,ve,we){return ae=xo(22,ae,we,ue),ae.elementType=gt,ae.lanes=ve,ae.stateNode={isHidden:!1},ae}function lf(ae,ue,ve){return ae=xo(6,ae,null,ue),ae.lanes=ve,ae}function cf(ae,ue,ve){return ue=xo(4,ae.children!==null?ae.children:[],ae.key,ue),ue.lanes=ve,ue.stateNode={containerInfo:ae.containerInfo,pendingChildren:null,implementation:ae.implementation},ue}function ld(ae,ue,ve,we,Ie){this.tag=ue,this.containerInfo=ae,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vr(0),this.expirationTimes=Vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.identifierPrefix=we,this.onRecoverableError=Ie,this.mutableSourceEagerHydrationData=null}function uf(ae,ue,ve,we,Ie,De,Ge,nt,ft){return ae=new ld(ae,ue,ve,nt,ft),ue===1?(ue=1,De===!0&&(ue|=8)):ue=0,De=xo(3,null,null,ue),ae.current=De,De.stateNode=ae,De.memoizedState={element:we,isDehydrated:ve,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jn(De),ae}function cd(ae,ue,ve){var we=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$e,key:we==null?null:""+we,children:ae,containerInfo:ue,implementation:ve}}function Bf(ae){if(!ae)return Do;ae=ae._reactInternals;e:{if(Ui(ae)!==ae||ae.tag!==1)throw Error(K(170));var ue=ae;do{switch(ue.tag){case 3:ue=ue.stateNode.context;break e;case 1:if(ri(ue.type)){ue=ue.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ue=ue.return}while(ue!==null);throw Error(K(171))}if(ae.tag===1){var ve=ae.type;if(ri(ve))return Wa(ae,ve,ue)}return ue}function zf(ae,ue,ve,we,Ie,De,Ge,nt,ft){return ae=uf(ve,we,!0,ae,Ie,De,Ge,nt,ft),ae.context=Bf(null),ve=ae.current,we=ki(),Ie=Ta(ve),De=dr(we,Ie),De.callback=ue??null,br(ve,De,Ie),ae.current.lanes=Ie,wr(ae,Ie,we),Zi(ae,we),ae}function Du(ae,ue,ve,we){var Ie=ue.current,De=ki(),Ge=Ta(Ie);return ve=Bf(ve),ue.context===null?ue.context=ve:ue.pendingContext=ve,ue=dr(De,Ge),ue.payload={element:ae},we=we===void 0?null:we,we!==null&&(ue.callback=we),ae=br(Ie,ue,Ge),ae!==null&&(qo(ae,Ie,Ge,De),ii(ae,Ie,Ge)),Ge}function Ou(ae){if(ae=ae.current,!ae.child)return null;switch(ae.child.tag){case 5:return ae.child.stateNode;default:return ae.child.stateNode}}function Vf(ae,ue){if(ae=ae.memoizedState,ae!==null&&ae.dehydrated!==null){var ve=ae.retryLane;ae.retryLane=ve!==0&&ve<ue?ve:ue}}function ff(ae,ue){Vf(ae,ue),(ae=ae.alternate)&&Vf(ae,ue)}function ud(){return null}var Gf=typeof reportError=="function"?reportError:function(ae){console.error(ae)};function df(ae){this._internalRoot=ae}Nu.prototype.render=df.prototype.render=function(ae){var ue=this._internalRoot;if(ue===null)throw Error(K(409));Du(ae,ue,null,null)},Nu.prototype.unmount=df.prototype.unmount=function(){var ae=this._internalRoot;if(ae!==null){this._internalRoot=null;var ue=ae.containerInfo;cl(function(){Du(null,ae,null,null)}),ue[Li]=null}};function Nu(ae){this._internalRoot=ae}Nu.prototype.unstable_scheduleHydration=function(ae){if(ae){var ue=qs();ae={blockedOn:null,target:ae,priority:ue};for(var ve=0;ve<uo.length&&ue!==0&&ue<uo[ve].priority;ve++);uo.splice(ve,0,ae),ve===0&&Ks(ae)}};function hf(ae){return!(!ae||ae.nodeType!==1&&ae.nodeType!==9&&ae.nodeType!==11)}function Fu(ae){return!(!ae||ae.nodeType!==1&&ae.nodeType!==9&&ae.nodeType!==11&&(ae.nodeType!==8||ae.nodeValue!==" react-mount-point-unstable "))}function Hf(){}function fd(ae,ue,ve,we,Ie){if(Ie){if(typeof we=="function"){var De=we;we=function(){var $t=Ou(Ge);De.call($t)}}var Ge=zf(ue,we,ae,0,null,!1,!1,"",Hf);return ae._reactRootContainer=Ge,ae[Li]=Ge.current,fa(ae.nodeType===8?ae.parentNode:ae),cl(),Ge}for(;Ie=ae.lastChild;)ae.removeChild(Ie);if(typeof we=="function"){var nt=we;we=function(){var $t=Ou(ft);nt.call($t)}}var ft=uf(ae,0,!1,null,null,!1,!1,"",Hf);return ae._reactRootContainer=ft,ae[Li]=ft.current,fa(ae.nodeType===8?ae.parentNode:ae),cl(function(){Du(ue,ft,ve,we)}),ft}function ku(ae,ue,ve,we,Ie){var De=ve._reactRootContainer;if(De){var Ge=De;if(typeof Ie=="function"){var nt=Ie;Ie=function(){var ft=Ou(Ge);nt.call(ft)}}Du(ue,Ge,ae,Ie)}else Ge=fd(ve,ue,ae,Ie,we);return Ou(Ge)}ms=function(ae){switch(ae.tag){case 3:var ue=ae.stateNode;if(ue.current.memoizedState.isDehydrated){var ve=Rr(ue.pendingLanes);ve!==0&&(zi(ue,ve|1),Zi(ue,pt()),!(ar&6)&&(nc=pt()+500,po()))}break;case 13:cl(function(){var we=io(ae,1);if(we!==null){var Ie=ki();qo(we,ae,1,Ie)}}),ff(ae,1)}},Pa=function(ae){if(ae.tag===13){var ue=io(ae,134217728);if(ue!==null){var ve=ki();qo(ue,ae,134217728,ve)}ff(ae,134217728)}},hl=function(ae){if(ae.tag===13){var ue=Ta(ae),ve=io(ae,ue);if(ve!==null){var we=ki();qo(ve,ae,ue,we)}ff(ae,ue)}},qs=function(){return Xn},Xs=function(ae,ue){var ve=Xn;try{return Xn=ae,ue()}finally{Xn=ve}},Kt=function(ae,ue,ve){switch(ue){case"input":if(an(ae,ve),ue=ve.name,ve.type==="radio"&&ue!=null){for(ve=ae;ve.parentNode;)ve=ve.parentNode;for(ve=ve.querySelectorAll("input[name="+JSON.stringify(""+ue)+'][type="radio"]'),ue=0;ue<ve.length;ue++){var we=ve[ue];if(we!==ae&&we.form===ae.form){var Ie=Ul(we);if(!Ie)throw Error(K(90));Dt(we),an(we,Ie)}}}break;case"textarea":mt(ae,ve);break;case"select":ue=ve.value,ue!=null&&Xe(ae,!!ve.multiple,ue,!1)}},tr=rf,cr=cl;var dd={usingClientEntryPoint:!1,Events:[$o,Lr,Ul,gn,Dn,rf]},Yc={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hd={bundleType:Yc.bundleType,version:Yc.version,rendererPackageName:Yc.rendererPackageName,rendererConfig:Yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(ae){return ae=hs(ae),ae===null?null:ae.stateNode},findFiberByHostInstance:Yc.findFiberByHostInstance||ud,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Tn=Uu.inject(hd),bn=Uu}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dd,reactDom_production_min.createPortal=function(ae,ue){var ve=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(ue))throw Error(K(200));return cd(ae,ue,null,ve)},reactDom_production_min.createRoot=function(ae,ue){if(!hf(ae))throw Error(K(299));var ve=!1,we="",Ie=Gf;return ue!=null&&(ue.unstable_strictMode===!0&&(ve=!0),ue.identifierPrefix!==void 0&&(we=ue.identifierPrefix),ue.onRecoverableError!==void 0&&(Ie=ue.onRecoverableError)),ue=uf(ae,1,!1,null,null,ve,!1,we,Ie),ae[Li]=ue.current,fa(ae.nodeType===8?ae.parentNode:ae),new df(ue)},reactDom_production_min.findDOMNode=function(ae){if(ae==null)return null;if(ae.nodeType===1)return ae;var ue=ae._reactInternals;if(ue===void 0)throw typeof ae.render=="function"?Error(K(188)):(ae=Object.keys(ae).join(","),Error(K(268,ae)));return ae=hs(ue),ae=ae===null?null:ae.stateNode,ae},reactDom_production_min.flushSync=function(ae){return cl(ae)},reactDom_production_min.hydrate=function(ae,ue,ve){if(!Fu(ue))throw Error(K(200));return ku(null,ae,ue,!0,ve)},reactDom_production_min.hydrateRoot=function(ae,ue,ve){if(!hf(ae))throw Error(K(405));var we=ve!=null&&ve.hydratedSources||null,Ie=!1,De="",Ge=Gf;if(ve!=null&&(ve.unstable_strictMode===!0&&(Ie=!0),ve.identifierPrefix!==void 0&&(De=ve.identifierPrefix),ve.onRecoverableError!==void 0&&(Ge=ve.onRecoverableError)),ue=zf(ue,null,ae,1,ve??null,Ie,!1,De,Ge),ae[Li]=ue.current,fa(ae),we)for(ae=0;ae<we.length;ae++)ve=we[ae],Ie=ve._getVersion,Ie=Ie(ve._source),ue.mutableSourceEagerHydrationData==null?ue.mutableSourceEagerHydrationData=[ve,Ie]:ue.mutableSourceEagerHydrationData.push(ve,Ie);return new Nu(ue)},reactDom_production_min.render=function(ae,ue,ve){if(!Fu(ue))throw Error(K(200));return ku(null,ae,ue,!1,ve)},reactDom_production_min.unmountComponentAtNode=function(ae){if(!Fu(ae))throw Error(K(40));return ae._reactRootContainer?(cl(function(){ku(null,null,ae,!1,function(){ae._reactRootContainer=null,ae[Li]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=rf,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ae,ue,ve,we){if(!Fu(ve))throw Error(K(200));if(ae==null||ae._reactInternals===void 0)throw Error(K(38));return ku(ae,ue,ve,!1,we)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Z(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z)}catch(_){console.error(_)}}return Z(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var Z=requireReactDom();return client.createRoot=Z.createRoot,client.hydrateRoot=Z.hydrateRoot,client}var clientExports=requireClient();const scriptRel="modulepreload",assetsURL=function(Z){return"/scifi-portfolio/"+Z},seen={},__vitePreload=function(_,K,te){let ne=Promise.resolve();if(K&&K.length>0){document.getElementsByTagName("link");const oe=document.querySelector("meta[property=csp-nonce]"),se=(oe==null?void 0:oe.nonce)||(oe==null?void 0:oe.getAttribute("nonce"));ne=Promise.allSettled(K.map(le=>{if(le=assetsURL(le),le in seen)return;seen[le]=!0;const ce=le.endsWith(".css"),fe=ce?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${le}"]${fe}`))return;const me=document.createElement("link");if(me.rel=ce?"stylesheet":scriptRel,ce||(me.as="script"),me.crossOrigin="",me.href=le,se&&me.setAttribute("nonce",se),document.head.appendChild(me),ce)return new Promise((pe,ge)=>{me.addEventListener("load",pe),me.addEventListener("error",()=>ge(new Error(`Unable to preload CSS for ${le}`)))})}))}function ie(oe){const se=new Event("vite:preloadError",{cancelable:!0});if(se.payload=oe,window.dispatchEvent(se),!se.defaultPrevented)throw oe}return ne.then(oe=>{for(const se of oe||[])se.status==="rejected"&&ie(se.reason);return _().catch(ie)})};var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),$2AODx$react=_mergeNamespaces({__proto__:null,default:React},[reactExports]),defaultState={allowOrbitControl:!0,setAllowOrbitControl:()=>{},mousePos:{x:0,y:0},setMousePos:()=>{}},GlobalStateContext=reactExports.createContext(defaultState),GlobalStateProvider=({children:Z})=>{const[_,K]=reactExports.useState(!1),[te,ne]=reactExports.useState({x:0,y:0});return jsxRuntimeExports.jsx(GlobalStateContext.Provider,{value:{allowOrbitControl:_,setAllowOrbitControl:K,mousePos:te,setMousePos:ne},children:Z})};var c$5=function(Z){var _,K;function te(ie){var oe;return(oe=Z.call(this,ie)||this).state={hasError:!1,error:null},oe}K=Z,(_=te).prototype=Object.create(K.prototype),_.prototype.constructor=_,_.__proto__=K,te.getDerivedStateFromError=function(ie){return{hasError:!0,error:ie}};var ne=te.prototype;return ne.componentDidCatch=function(ie,oe){return this.props.onDidCatch(ie,oe)},ne.render=function(){var ie=this.state,oe=this.props,se=oe.render,le=oe.children,ce=oe.renderError;return ie.hasError?ce?ce({error:ie.error}):null:se?se():le||null},te}(reactExports.PureComponent),u$5=function(Z,_){switch(_.type){case"catch":return{didCatch:!0,error:_.error};case"reset":return{didCatch:!1,error:null};default:return Z}};function a$4(Z){var _=reactExports.useReducer(u$5,{didCatch:!1,error:null}),K=_[0],te=_[1],ne=reactExports.useRef(null);function ie(){return le=function(ce,fe){te({type:"catch",error:ce})},function(ce){return React.createElement(c$5,{onDidCatch:le,children:ce.children,render:ce.render,renderError:ce.renderError})};var le}var oe,se=reactExports.useCallback(function(){ne.current=ie(),te({type:"reset"})},[]);return{ErrorBoundary:(oe=ne.current,oe!==null?oe:(ne.current=ie(),ne.current)),didCatch:K.didCatch,error:K.error,reset:se}}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_];for(var te in K)({}).hasOwnProperty.call(K,te)&&(Z[te]=K[te])}return Z},_extends$1.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="171",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;let EventDispatcher$1=class{addEventListener(_,K){this._listeners===void 0&&(this._listeners={});const te=this._listeners;te[_]===void 0&&(te[_]=[]),te[_].indexOf(K)===-1&&te[_].push(K)}hasEventListener(_,K){if(this._listeners===void 0)return!1;const te=this._listeners;return te[_]!==void 0&&te[_].indexOf(K)!==-1}removeEventListener(_,K){if(this._listeners===void 0)return;const ne=this._listeners[_];if(ne!==void 0){const ie=ne.indexOf(K);ie!==-1&&ne.splice(ie,1)}}dispatchEvent(_){if(this._listeners===void 0)return;const te=this._listeners[_.type];if(te!==void 0){_.target=this;const ne=te.slice(0);for(let ie=0,oe=ne.length;ie<oe;ie++)ne[ie].call(this,_);_.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const Z=Math.random()*4294967295|0,_=Math.random()*4294967295|0,K=Math.random()*4294967295|0,te=Math.random()*4294967295|0;return(_lut[Z&255]+_lut[Z>>8&255]+_lut[Z>>16&255]+_lut[Z>>24&255]+"-"+_lut[_&255]+_lut[_>>8&255]+"-"+_lut[_>>16&15|64]+_lut[_>>24&255]+"-"+_lut[K&63|128]+_lut[K>>8&255]+"-"+_lut[K>>16&255]+_lut[K>>24&255]+_lut[te&255]+_lut[te>>8&255]+_lut[te>>16&255]+_lut[te>>24&255]).toLowerCase()}function clamp$3(Z,_,K){return Math.max(_,Math.min(K,Z))}function euclideanModulo(Z,_){return(Z%_+_)%_}function mapLinear(Z,_,K,te,ne){return te+(Z-_)*(ne-te)/(K-_)}function inverseLerp(Z,_,K){return Z!==_?(K-Z)/(_-Z):0}function lerp(Z,_,K){return(1-K)*Z+K*_}function damp(Z,_,K,te){return lerp(Z,_,1-Math.exp(-K*te))}function pingpong(Z,_=1){return _-Math.abs(euclideanModulo(Z,_*2)-_)}function smoothstep(Z,_,K){return Z<=_?0:Z>=K?1:(Z=(Z-_)/(K-_),Z*Z*(3-2*Z))}function smootherstep(Z,_,K){return Z<=_?0:Z>=K?1:(Z=(Z-_)/(K-_),Z*Z*Z*(Z*(Z*6-15)+10))}function randInt(Z,_){return Z+Math.floor(Math.random()*(_-Z+1))}function randFloat(Z,_){return Z+Math.random()*(_-Z)}function randFloatSpread(Z){return Z*(.5-Math.random())}function seededRandom(Z){Z!==void 0&&(_seed=Z);let _=_seed+=1831565813;return _=Math.imul(_^_>>>15,_|1),_^=_+Math.imul(_^_>>>7,_|61),((_^_>>>14)>>>0)/4294967296}function degToRad(Z){return Z*DEG2RAD}function radToDeg(Z){return Z*RAD2DEG}function isPowerOfTwo(Z){return(Z&Z-1)===0&&Z!==0}function ceilPowerOfTwo(Z){return Math.pow(2,Math.ceil(Math.log(Z)/Math.LN2))}function floorPowerOfTwo(Z){return Math.pow(2,Math.floor(Math.log(Z)/Math.LN2))}function setQuaternionFromProperEuler(Z,_,K,te,ne){const ie=Math.cos,oe=Math.sin,se=ie(K/2),le=oe(K/2),ce=ie((_+te)/2),fe=oe((_+te)/2),me=ie((_-te)/2),pe=oe((_-te)/2),ge=ie((te-_)/2),ye=oe((te-_)/2);switch(ne){case"XYX":Z.set(se*fe,le*me,le*pe,se*ce);break;case"YZY":Z.set(le*pe,se*fe,le*me,se*ce);break;case"ZXZ":Z.set(le*me,le*pe,se*fe,se*ce);break;case"XZX":Z.set(se*fe,le*ye,le*ge,se*ce);break;case"YXY":Z.set(le*ge,se*fe,le*ye,se*ce);break;case"ZYZ":Z.set(le*ye,le*ge,se*fe,se*ce);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+ne)}}function denormalize(Z,_){switch(_.constructor){case Float32Array:return Z;case Uint32Array:return Z/4294967295;case Uint16Array:return Z/65535;case Uint8Array:return Z/255;case Int32Array:return Math.max(Z/2147483647,-1);case Int16Array:return Math.max(Z/32767,-1);case Int8Array:return Math.max(Z/127,-1);default:throw new Error("Invalid component type.")}}function normalize$5(Z,_){switch(_.constructor){case Float32Array:return Z;case Uint32Array:return Math.round(Z*4294967295);case Uint16Array:return Math.round(Z*65535);case Uint8Array:return Math.round(Z*255);case Int32Array:return Math.round(Z*2147483647);case Int16Array:return Math.round(Z*32767);case Int8Array:return Math.round(Z*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$3,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$5,denormalize};class Vector2{constructor(_=0,K=0){Vector2.prototype.isVector2=!0,this.x=_,this.y=K}get width(){return this.x}set width(_){this.x=_}get height(){return this.y}set height(_){this.y=_}set(_,K){return this.x=_,this.y=K,this}setScalar(_){return this.x=_,this.y=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setComponent(_,K){switch(_){case 0:this.x=K;break;case 1:this.y=K;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y)}copy(_){return this.x=_.x,this.y=_.y,this}add(_){return this.x+=_.x,this.y+=_.y,this}addScalar(_){return this.x+=_,this.y+=_,this}addVectors(_,K){return this.x=_.x+K.x,this.y=_.y+K.y,this}addScaledVector(_,K){return this.x+=_.x*K,this.y+=_.y*K,this}sub(_){return this.x-=_.x,this.y-=_.y,this}subScalar(_){return this.x-=_,this.y-=_,this}subVectors(_,K){return this.x=_.x-K.x,this.y=_.y-K.y,this}multiply(_){return this.x*=_.x,this.y*=_.y,this}multiplyScalar(_){return this.x*=_,this.y*=_,this}divide(_){return this.x/=_.x,this.y/=_.y,this}divideScalar(_){return this.multiplyScalar(1/_)}applyMatrix3(_){const K=this.x,te=this.y,ne=_.elements;return this.x=ne[0]*K+ne[3]*te+ne[6],this.y=ne[1]*K+ne[4]*te+ne[7],this}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this}clamp(_,K){return this.x=clamp$3(this.x,_.x,K.x),this.y=clamp$3(this.y,_.y,K.y),this}clampScalar(_,K){return this.x=clamp$3(this.x,_,K),this.y=clamp$3(this.y,_,K),this}clampLength(_,K){const te=this.length();return this.divideScalar(te||1).multiplyScalar(clamp$3(te,_,K))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(_){return this.x*_.x+this.y*_.y}cross(_){return this.x*_.y-this.y*_.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(_){const K=Math.sqrt(this.lengthSq()*_.lengthSq());if(K===0)return Math.PI/2;const te=this.dot(_)/K;return Math.acos(clamp$3(te,-1,1))}distanceTo(_){return Math.sqrt(this.distanceToSquared(_))}distanceToSquared(_){const K=this.x-_.x,te=this.y-_.y;return K*K+te*te}manhattanDistanceTo(_){return Math.abs(this.x-_.x)+Math.abs(this.y-_.y)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,K){return this.x+=(_.x-this.x)*K,this.y+=(_.y-this.y)*K,this}lerpVectors(_,K,te){return this.x=_.x+(K.x-_.x)*te,this.y=_.y+(K.y-_.y)*te,this}equals(_){return _.x===this.x&&_.y===this.y}fromArray(_,K=0){return this.x=_[K],this.y=_[K+1],this}toArray(_=[],K=0){return _[K]=this.x,_[K+1]=this.y,_}fromBufferAttribute(_,K){return this.x=_.getX(K),this.y=_.getY(K),this}rotateAround(_,K){const te=Math.cos(K),ne=Math.sin(K),ie=this.x-_.x,oe=this.y-_.y;return this.x=ie*te-oe*ne+_.x,this.y=ie*ne+oe*te+_.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(_,K,te,ne,ie,oe,se,le,ce){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],_!==void 0&&this.set(_,K,te,ne,ie,oe,se,le,ce)}set(_,K,te,ne,ie,oe,se,le,ce){const fe=this.elements;return fe[0]=_,fe[1]=ne,fe[2]=se,fe[3]=K,fe[4]=ie,fe[5]=le,fe[6]=te,fe[7]=oe,fe[8]=ce,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(_){const K=this.elements,te=_.elements;return K[0]=te[0],K[1]=te[1],K[2]=te[2],K[3]=te[3],K[4]=te[4],K[5]=te[5],K[6]=te[6],K[7]=te[7],K[8]=te[8],this}extractBasis(_,K,te){return _.setFromMatrix3Column(this,0),K.setFromMatrix3Column(this,1),te.setFromMatrix3Column(this,2),this}setFromMatrix4(_){const K=_.elements;return this.set(K[0],K[4],K[8],K[1],K[5],K[9],K[2],K[6],K[10]),this}multiply(_){return this.multiplyMatrices(this,_)}premultiply(_){return this.multiplyMatrices(_,this)}multiplyMatrices(_,K){const te=_.elements,ne=K.elements,ie=this.elements,oe=te[0],se=te[3],le=te[6],ce=te[1],fe=te[4],me=te[7],pe=te[2],ge=te[5],ye=te[8],Ee=ne[0],_e=ne[3],Se=ne[6],Re=ne[1],Te=ne[4],Ae=ne[7],Fe=ne[2],$e=ne[5],ke=ne[8];return ie[0]=oe*Ee+se*Re+le*Fe,ie[3]=oe*_e+se*Te+le*$e,ie[6]=oe*Se+se*Ae+le*ke,ie[1]=ce*Ee+fe*Re+me*Fe,ie[4]=ce*_e+fe*Te+me*$e,ie[7]=ce*Se+fe*Ae+me*ke,ie[2]=pe*Ee+ge*Re+ye*Fe,ie[5]=pe*_e+ge*Te+ye*$e,ie[8]=pe*Se+ge*Ae+ye*ke,this}multiplyScalar(_){const K=this.elements;return K[0]*=_,K[3]*=_,K[6]*=_,K[1]*=_,K[4]*=_,K[7]*=_,K[2]*=_,K[5]*=_,K[8]*=_,this}determinant(){const _=this.elements,K=_[0],te=_[1],ne=_[2],ie=_[3],oe=_[4],se=_[5],le=_[6],ce=_[7],fe=_[8];return K*oe*fe-K*se*ce-te*ie*fe+te*se*le+ne*ie*ce-ne*oe*le}invert(){const _=this.elements,K=_[0],te=_[1],ne=_[2],ie=_[3],oe=_[4],se=_[5],le=_[6],ce=_[7],fe=_[8],me=fe*oe-se*ce,pe=se*le-fe*ie,ge=ce*ie-oe*le,ye=K*me+te*pe+ne*ge;if(ye===0)return this.set(0,0,0,0,0,0,0,0,0);const Ee=1/ye;return _[0]=me*Ee,_[1]=(ne*ce-fe*te)*Ee,_[2]=(se*te-ne*oe)*Ee,_[3]=pe*Ee,_[4]=(fe*K-ne*le)*Ee,_[5]=(ne*ie-se*K)*Ee,_[6]=ge*Ee,_[7]=(te*le-ce*K)*Ee,_[8]=(oe*K-te*ie)*Ee,this}transpose(){let _;const K=this.elements;return _=K[1],K[1]=K[3],K[3]=_,_=K[2],K[2]=K[6],K[6]=_,_=K[5],K[5]=K[7],K[7]=_,this}getNormalMatrix(_){return this.setFromMatrix4(_).invert().transpose()}transposeIntoArray(_){const K=this.elements;return _[0]=K[0],_[1]=K[3],_[2]=K[6],_[3]=K[1],_[4]=K[4],_[5]=K[7],_[6]=K[2],_[7]=K[5],_[8]=K[8],this}setUvTransform(_,K,te,ne,ie,oe,se){const le=Math.cos(ie),ce=Math.sin(ie);return this.set(te*le,te*ce,-te*(le*oe+ce*se)+oe+_,-ne*ce,ne*le,-ne*(-ce*oe+le*se)+se+K,0,0,1),this}scale(_,K){return this.premultiply(_m3.makeScale(_,K)),this}rotate(_){return this.premultiply(_m3.makeRotation(-_)),this}translate(_,K){return this.premultiply(_m3.makeTranslation(_,K)),this}makeTranslation(_,K){return _.isVector2?this.set(1,0,_.x,0,1,_.y,0,0,1):this.set(1,0,_,0,1,K,0,0,1),this}makeRotation(_){const K=Math.cos(_),te=Math.sin(_);return this.set(K,-te,0,te,K,0,0,0,1),this}makeScale(_,K){return this.set(_,0,0,0,K,0,0,0,1),this}equals(_){const K=this.elements,te=_.elements;for(let ne=0;ne<9;ne++)if(K[ne]!==te[ne])return!1;return!0}fromArray(_,K=0){for(let te=0;te<9;te++)this.elements[te]=_[te+K];return this}toArray(_=[],K=0){const te=this.elements;return _[K]=te[0],_[K+1]=te[1],_[K+2]=te[2],_[K+3]=te[3],_[K+4]=te[4],_[K+5]=te[5],_[K+6]=te[6],_[K+7]=te[7],_[K+8]=te[8],_}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(Z){for(let _=Z.length-1;_>=0;--_)if(Z[_]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(Z,_){return new TYPED_ARRAYS[Z](_)}function createElementNS(Z){return document.createElementNS("http://www.w3.org/1999/xhtml",Z)}function createCanvasElement(){const Z=createElementNS("canvas");return Z.style.display="block",Z}const _cache={};function warnOnce(Z){Z in _cache||(_cache[Z]=!0,console.warn(Z))}function probeAsync(Z,_,K){return new Promise(function(te,ne){function ie(){switch(Z.clientWaitSync(_,Z.SYNC_FLUSH_COMMANDS_BIT,0)){case Z.WAIT_FAILED:ne();break;case Z.TIMEOUT_EXPIRED:setTimeout(ie,K);break;default:te()}}setTimeout(ie,K)})}function toNormalizedProjectionMatrix(Z){const _=Z.elements;_[2]=.5*_[2]+.5*_[3],_[6]=.5*_[6]+.5*_[7],_[10]=.5*_[10]+.5*_[11],_[14]=.5*_[14]+.5*_[15]}function toReversedProjectionMatrix(Z){const _=Z.elements;_[11]===-1?(_[10]=-_[10]-1,_[14]=-_[14]):(_[10]=-_[10],_[14]=-_[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const Z={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(ne,ie,oe){return this.enabled===!1||ie===oe||!ie||!oe||(this.spaces[ie].transfer===SRGBTransfer&&(ne.r=SRGBToLinear(ne.r),ne.g=SRGBToLinear(ne.g),ne.b=SRGBToLinear(ne.b)),this.spaces[ie].primaries!==this.spaces[oe].primaries&&(ne.applyMatrix3(this.spaces[ie].toXYZ),ne.applyMatrix3(this.spaces[oe].fromXYZ)),this.spaces[oe].transfer===SRGBTransfer&&(ne.r=LinearToSRGB(ne.r),ne.g=LinearToSRGB(ne.g),ne.b=LinearToSRGB(ne.b))),ne},fromWorkingColorSpace:function(ne,ie){return this.convert(ne,this.workingColorSpace,ie)},toWorkingColorSpace:function(ne,ie){return this.convert(ne,ie,this.workingColorSpace)},getPrimaries:function(ne){return this.spaces[ne].primaries},getTransfer:function(ne){return ne===NoColorSpace?LinearTransfer:this.spaces[ne].transfer},getLuminanceCoefficients:function(ne,ie=this.workingColorSpace){return ne.fromArray(this.spaces[ie].luminanceCoefficients)},define:function(ne){Object.assign(this.spaces,ne)},_getMatrix:function(ne,ie,oe){return ne.copy(this.spaces[ie].toXYZ).multiply(this.spaces[oe].fromXYZ)},_getDrawingBufferColorSpace:function(ne){return this.spaces[ne].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(ne=this.workingColorSpace){return this.spaces[ne].workingColorSpaceConfig.unpackColorSpace}},_=[.64,.33,.3,.6,.15,.06],K=[.2126,.7152,.0722],te=[.3127,.329];return Z.define({[LinearSRGBColorSpace]:{primaries:_,whitePoint:te,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:K,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:_,whitePoint:te,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:K,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),Z}const ColorManagement=createColorManagement();function SRGBToLinear(Z){return Z<.04045?Z*.0773993808:Math.pow(Z*.9478672986+.0521327014,2.4)}function LinearToSRGB(Z){return Z<.0031308?Z*12.92:1.055*Math.pow(Z,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(_){if(/^data:/i.test(_.src)||typeof HTMLCanvasElement>"u")return _.src;let K;if(_ instanceof HTMLCanvasElement)K=_;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=_.width,_canvas.height=_.height;const te=_canvas.getContext("2d");_ instanceof ImageData?te.putImageData(_,0,0):te.drawImage(_,0,0,_.width,_.height),K=_canvas}return K.width>2048||K.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",_),K.toDataURL("image/jpeg",.6)):K.toDataURL("image/png")}static sRGBToLinear(_){if(typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_ instanceof ImageBitmap){const K=createElementNS("canvas");K.width=_.width,K.height=_.height;const te=K.getContext("2d");te.drawImage(_,0,0,_.width,_.height);const ne=te.getImageData(0,0,_.width,_.height),ie=ne.data;for(let oe=0;oe<ie.length;oe++)ie[oe]=SRGBToLinear(ie[oe]/255)*255;return te.putImageData(ne,0,0),K}else if(_.data){const K=_.data.slice(0);for(let te=0;te<K.length;te++)K instanceof Uint8Array||K instanceof Uint8ClampedArray?K[te]=Math.floor(SRGBToLinear(K[te]/255)*255):K[te]=SRGBToLinear(K[te]);return{data:K,width:_.width,height:_.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),_}}let _sourceId=0;class Source{constructor(_=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=_,this.dataReady=!0,this.version=0}set needsUpdate(_){_===!0&&this.version++}toJSON(_){const K=_===void 0||typeof _=="string";if(!K&&_.images[this.uuid]!==void 0)return _.images[this.uuid];const te={uuid:this.uuid,url:""},ne=this.data;if(ne!==null){let ie;if(Array.isArray(ne)){ie=[];for(let oe=0,se=ne.length;oe<se;oe++)ne[oe].isDataTexture?ie.push(serializeImage(ne[oe].image)):ie.push(serializeImage(ne[oe]))}else ie=serializeImage(ne);te.url=ie}return K||(_.images[this.uuid]=te),te}}function serializeImage(Z){return typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap?ImageUtils.getDataURL(Z):Z.data?{data:Array.from(Z.data),width:Z.width,height:Z.height,type:Z.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(_=Texture.DEFAULT_IMAGE,K=Texture.DEFAULT_MAPPING,te=ClampToEdgeWrapping,ne=ClampToEdgeWrapping,ie=LinearFilter,oe=LinearMipmapLinearFilter,se=RGBAFormat,le=UnsignedByteType,ce=Texture.DEFAULT_ANISOTROPY,fe=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(_),this.mipmaps=[],this.mapping=K,this.channel=0,this.wrapS=te,this.wrapT=ne,this.magFilter=ie,this.minFilter=oe,this.anisotropy=ce,this.format=se,this.internalFormat=null,this.type=le,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=fe,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(_=null){this.source.data=_}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(_){return this.name=_.name,this.source=_.source,this.mipmaps=_.mipmaps.slice(0),this.mapping=_.mapping,this.channel=_.channel,this.wrapS=_.wrapS,this.wrapT=_.wrapT,this.magFilter=_.magFilter,this.minFilter=_.minFilter,this.anisotropy=_.anisotropy,this.format=_.format,this.internalFormat=_.internalFormat,this.type=_.type,this.offset.copy(_.offset),this.repeat.copy(_.repeat),this.center.copy(_.center),this.rotation=_.rotation,this.matrixAutoUpdate=_.matrixAutoUpdate,this.matrix.copy(_.matrix),this.generateMipmaps=_.generateMipmaps,this.premultiplyAlpha=_.premultiplyAlpha,this.flipY=_.flipY,this.unpackAlignment=_.unpackAlignment,this.colorSpace=_.colorSpace,this.userData=JSON.parse(JSON.stringify(_.userData)),this.needsUpdate=!0,this}toJSON(_){const K=_===void 0||typeof _=="string";if(!K&&_.textures[this.uuid]!==void 0)return _.textures[this.uuid];const te={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(_).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(te.userData=this.userData),K||(_.textures[this.uuid]=te),te}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(_){if(this.mapping!==UVMapping)return _;if(_.applyMatrix3(this.matrix),_.x<0||_.x>1)switch(this.wrapS){case RepeatWrapping:_.x=_.x-Math.floor(_.x);break;case ClampToEdgeWrapping:_.x=_.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_.x)%2)===1?_.x=Math.ceil(_.x)-_.x:_.x=_.x-Math.floor(_.x);break}if(_.y<0||_.y>1)switch(this.wrapT){case RepeatWrapping:_.y=_.y-Math.floor(_.y);break;case ClampToEdgeWrapping:_.y=_.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_.y)%2)===1?_.y=Math.ceil(_.y)-_.y:_.y=_.y-Math.floor(_.y);break}return this.flipY&&(_.y=1-_.y),_}set needsUpdate(_){_===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(_){_===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(_=0,K=0,te=0,ne=1){Vector4.prototype.isVector4=!0,this.x=_,this.y=K,this.z=te,this.w=ne}get width(){return this.z}set width(_){this.z=_}get height(){return this.w}set height(_){this.w=_}set(_,K,te,ne){return this.x=_,this.y=K,this.z=te,this.w=ne,this}setScalar(_){return this.x=_,this.y=_,this.z=_,this.w=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setZ(_){return this.z=_,this}setW(_){return this.w=_,this}setComponent(_,K){switch(_){case 0:this.x=K;break;case 1:this.y=K;break;case 2:this.z=K;break;case 3:this.w=K;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this.w=_.w!==void 0?_.w:1,this}add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this.w+=_.w,this}addScalar(_){return this.x+=_,this.y+=_,this.z+=_,this.w+=_,this}addVectors(_,K){return this.x=_.x+K.x,this.y=_.y+K.y,this.z=_.z+K.z,this.w=_.w+K.w,this}addScaledVector(_,K){return this.x+=_.x*K,this.y+=_.y*K,this.z+=_.z*K,this.w+=_.w*K,this}sub(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this.w-=_.w,this}subScalar(_){return this.x-=_,this.y-=_,this.z-=_,this.w-=_,this}subVectors(_,K){return this.x=_.x-K.x,this.y=_.y-K.y,this.z=_.z-K.z,this.w=_.w-K.w,this}multiply(_){return this.x*=_.x,this.y*=_.y,this.z*=_.z,this.w*=_.w,this}multiplyScalar(_){return this.x*=_,this.y*=_,this.z*=_,this.w*=_,this}applyMatrix4(_){const K=this.x,te=this.y,ne=this.z,ie=this.w,oe=_.elements;return this.x=oe[0]*K+oe[4]*te+oe[8]*ne+oe[12]*ie,this.y=oe[1]*K+oe[5]*te+oe[9]*ne+oe[13]*ie,this.z=oe[2]*K+oe[6]*te+oe[10]*ne+oe[14]*ie,this.w=oe[3]*K+oe[7]*te+oe[11]*ne+oe[15]*ie,this}divide(_){return this.x/=_.x,this.y/=_.y,this.z/=_.z,this.w/=_.w,this}divideScalar(_){return this.multiplyScalar(1/_)}setAxisAngleFromQuaternion(_){this.w=2*Math.acos(_.w);const K=Math.sqrt(1-_.w*_.w);return K<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=_.x/K,this.y=_.y/K,this.z=_.z/K),this}setAxisAngleFromRotationMatrix(_){let K,te,ne,ie;const le=_.elements,ce=le[0],fe=le[4],me=le[8],pe=le[1],ge=le[5],ye=le[9],Ee=le[2],_e=le[6],Se=le[10];if(Math.abs(fe-pe)<.01&&Math.abs(me-Ee)<.01&&Math.abs(ye-_e)<.01){if(Math.abs(fe+pe)<.1&&Math.abs(me+Ee)<.1&&Math.abs(ye+_e)<.1&&Math.abs(ce+ge+Se-3)<.1)return this.set(1,0,0,0),this;K=Math.PI;const Te=(ce+1)/2,Ae=(ge+1)/2,Fe=(Se+1)/2,$e=(fe+pe)/4,ke=(me+Ee)/4,ze=(ye+_e)/4;return Te>Ae&&Te>Fe?Te<.01?(te=0,ne=.707106781,ie=.707106781):(te=Math.sqrt(Te),ne=$e/te,ie=ke/te):Ae>Fe?Ae<.01?(te=.707106781,ne=0,ie=.707106781):(ne=Math.sqrt(Ae),te=$e/ne,ie=ze/ne):Fe<.01?(te=.707106781,ne=.707106781,ie=0):(ie=Math.sqrt(Fe),te=ke/ie,ne=ze/ie),this.set(te,ne,ie,K),this}let Re=Math.sqrt((_e-ye)*(_e-ye)+(me-Ee)*(me-Ee)+(pe-fe)*(pe-fe));return Math.abs(Re)<.001&&(Re=1),this.x=(_e-ye)/Re,this.y=(me-Ee)/Re,this.z=(pe-fe)/Re,this.w=Math.acos((ce+ge+Se-1)/2),this}setFromMatrixPosition(_){const K=_.elements;return this.x=K[12],this.y=K[13],this.z=K[14],this.w=K[15],this}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this.z=Math.min(this.z,_.z),this.w=Math.min(this.w,_.w),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this.z=Math.max(this.z,_.z),this.w=Math.max(this.w,_.w),this}clamp(_,K){return this.x=clamp$3(this.x,_.x,K.x),this.y=clamp$3(this.y,_.y,K.y),this.z=clamp$3(this.z,_.z,K.z),this.w=clamp$3(this.w,_.w,K.w),this}clampScalar(_,K){return this.x=clamp$3(this.x,_,K),this.y=clamp$3(this.y,_,K),this.z=clamp$3(this.z,_,K),this.w=clamp$3(this.w,_,K),this}clampLength(_,K){const te=this.length();return this.divideScalar(te||1).multiplyScalar(clamp$3(te,_,K))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(_){return this.x*_.x+this.y*_.y+this.z*_.z+this.w*_.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,K){return this.x+=(_.x-this.x)*K,this.y+=(_.y-this.y)*K,this.z+=(_.z-this.z)*K,this.w+=(_.w-this.w)*K,this}lerpVectors(_,K,te){return this.x=_.x+(K.x-_.x)*te,this.y=_.y+(K.y-_.y)*te,this.z=_.z+(K.z-_.z)*te,this.w=_.w+(K.w-_.w)*te,this}equals(_){return _.x===this.x&&_.y===this.y&&_.z===this.z&&_.w===this.w}fromArray(_,K=0){return this.x=_[K],this.y=_[K+1],this.z=_[K+2],this.w=_[K+3],this}toArray(_=[],K=0){return _[K]=this.x,_[K+1]=this.y,_[K+2]=this.z,_[K+3]=this.w,_}fromBufferAttribute(_,K){return this.x=_.getX(K),this.y=_.getY(K),this.z=_.getZ(K),this.w=_.getW(K),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(_=1,K=1,te={}){super(),this.isRenderTarget=!0,this.width=_,this.height=K,this.depth=1,this.scissor=new Vector4(0,0,_,K),this.scissorTest=!1,this.viewport=new Vector4(0,0,_,K);const ne={width:_,height:K,depth:1};te=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},te);const ie=new Texture(ne,te.mapping,te.wrapS,te.wrapT,te.magFilter,te.minFilter,te.format,te.type,te.anisotropy,te.colorSpace);ie.flipY=!1,ie.generateMipmaps=te.generateMipmaps,ie.internalFormat=te.internalFormat,this.textures=[];const oe=te.count;for(let se=0;se<oe;se++)this.textures[se]=ie.clone(),this.textures[se].isRenderTargetTexture=!0;this.depthBuffer=te.depthBuffer,this.stencilBuffer=te.stencilBuffer,this.resolveDepthBuffer=te.resolveDepthBuffer,this.resolveStencilBuffer=te.resolveStencilBuffer,this.depthTexture=te.depthTexture,this.samples=te.samples}get texture(){return this.textures[0]}set texture(_){this.textures[0]=_}setSize(_,K,te=1){if(this.width!==_||this.height!==K||this.depth!==te){this.width=_,this.height=K,this.depth=te;for(let ne=0,ie=this.textures.length;ne<ie;ne++)this.textures[ne].image.width=_,this.textures[ne].image.height=K,this.textures[ne].image.depth=te;this.dispose()}this.viewport.set(0,0,_,K),this.scissor.set(0,0,_,K)}clone(){return new this.constructor().copy(this)}copy(_){this.width=_.width,this.height=_.height,this.depth=_.depth,this.scissor.copy(_.scissor),this.scissorTest=_.scissorTest,this.viewport.copy(_.viewport),this.textures.length=0;for(let te=0,ne=_.textures.length;te<ne;te++)this.textures[te]=_.textures[te].clone(),this.textures[te].isRenderTargetTexture=!0;const K=Object.assign({},_.texture.image);return this.texture.source=new Source(K),this.depthBuffer=_.depthBuffer,this.stencilBuffer=_.stencilBuffer,this.resolveDepthBuffer=_.resolveDepthBuffer,this.resolveStencilBuffer=_.resolveStencilBuffer,_.depthTexture!==null&&(this.depthTexture=_.depthTexture.clone()),this.samples=_.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(_=1,K=1,te={}){super(_,K,te),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(_=null,K=1,te=1,ne=1){super(null),this.isDataArrayTexture=!0,this.image={data:_,width:K,height:te,depth:ne},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(_){this.layerUpdates.add(_)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(_=1,K=1,te=1,ne={}){super(_,K,ne),this.isWebGLArrayRenderTarget=!0,this.depth=te,this.texture=new DataArrayTexture(null,_,K,te),this.texture.isRenderTargetTexture=!0}}let Data3DTexture$1=class extends Texture{constructor(_=null,K=1,te=1,ne=1){super(null),this.isData3DTexture=!0,this.image={data:_,width:K,height:te,depth:ne},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(_=1,K=1,te=1,ne={}){super(_,K,ne),this.isWebGL3DRenderTarget=!0,this.depth=te,this.texture=new Data3DTexture$1(null,_,K,te),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(_=0,K=0,te=0,ne=1){this.isQuaternion=!0,this._x=_,this._y=K,this._z=te,this._w=ne}static slerpFlat(_,K,te,ne,ie,oe,se){let le=te[ne+0],ce=te[ne+1],fe=te[ne+2],me=te[ne+3];const pe=ie[oe+0],ge=ie[oe+1],ye=ie[oe+2],Ee=ie[oe+3];if(se===0){_[K+0]=le,_[K+1]=ce,_[K+2]=fe,_[K+3]=me;return}if(se===1){_[K+0]=pe,_[K+1]=ge,_[K+2]=ye,_[K+3]=Ee;return}if(me!==Ee||le!==pe||ce!==ge||fe!==ye){let _e=1-se;const Se=le*pe+ce*ge+fe*ye+me*Ee,Re=Se>=0?1:-1,Te=1-Se*Se;if(Te>Number.EPSILON){const Fe=Math.sqrt(Te),$e=Math.atan2(Fe,Se*Re);_e=Math.sin(_e*$e)/Fe,se=Math.sin(se*$e)/Fe}const Ae=se*Re;if(le=le*_e+pe*Ae,ce=ce*_e+ge*Ae,fe=fe*_e+ye*Ae,me=me*_e+Ee*Ae,_e===1-se){const Fe=1/Math.sqrt(le*le+ce*ce+fe*fe+me*me);le*=Fe,ce*=Fe,fe*=Fe,me*=Fe}}_[K]=le,_[K+1]=ce,_[K+2]=fe,_[K+3]=me}static multiplyQuaternionsFlat(_,K,te,ne,ie,oe){const se=te[ne],le=te[ne+1],ce=te[ne+2],fe=te[ne+3],me=ie[oe],pe=ie[oe+1],ge=ie[oe+2],ye=ie[oe+3];return _[K]=se*ye+fe*me+le*ge-ce*pe,_[K+1]=le*ye+fe*pe+ce*me-se*ge,_[K+2]=ce*ye+fe*ge+se*pe-le*me,_[K+3]=fe*ye-se*me-le*pe-ce*ge,_}get x(){return this._x}set x(_){this._x=_,this._onChangeCallback()}get y(){return this._y}set y(_){this._y=_,this._onChangeCallback()}get z(){return this._z}set z(_){this._z=_,this._onChangeCallback()}get w(){return this._w}set w(_){this._w=_,this._onChangeCallback()}set(_,K,te,ne){return this._x=_,this._y=K,this._z=te,this._w=ne,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(_){return this._x=_.x,this._y=_.y,this._z=_.z,this._w=_.w,this._onChangeCallback(),this}setFromEuler(_,K=!0){const te=_._x,ne=_._y,ie=_._z,oe=_._order,se=Math.cos,le=Math.sin,ce=se(te/2),fe=se(ne/2),me=se(ie/2),pe=le(te/2),ge=le(ne/2),ye=le(ie/2);switch(oe){case"XYZ":this._x=pe*fe*me+ce*ge*ye,this._y=ce*ge*me-pe*fe*ye,this._z=ce*fe*ye+pe*ge*me,this._w=ce*fe*me-pe*ge*ye;break;case"YXZ":this._x=pe*fe*me+ce*ge*ye,this._y=ce*ge*me-pe*fe*ye,this._z=ce*fe*ye-pe*ge*me,this._w=ce*fe*me+pe*ge*ye;break;case"ZXY":this._x=pe*fe*me-ce*ge*ye,this._y=ce*ge*me+pe*fe*ye,this._z=ce*fe*ye+pe*ge*me,this._w=ce*fe*me-pe*ge*ye;break;case"ZYX":this._x=pe*fe*me-ce*ge*ye,this._y=ce*ge*me+pe*fe*ye,this._z=ce*fe*ye-pe*ge*me,this._w=ce*fe*me+pe*ge*ye;break;case"YZX":this._x=pe*fe*me+ce*ge*ye,this._y=ce*ge*me+pe*fe*ye,this._z=ce*fe*ye-pe*ge*me,this._w=ce*fe*me-pe*ge*ye;break;case"XZY":this._x=pe*fe*me-ce*ge*ye,this._y=ce*ge*me-pe*fe*ye,this._z=ce*fe*ye+pe*ge*me,this._w=ce*fe*me+pe*ge*ye;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+oe)}return K===!0&&this._onChangeCallback(),this}setFromAxisAngle(_,K){const te=K/2,ne=Math.sin(te);return this._x=_.x*ne,this._y=_.y*ne,this._z=_.z*ne,this._w=Math.cos(te),this._onChangeCallback(),this}setFromRotationMatrix(_){const K=_.elements,te=K[0],ne=K[4],ie=K[8],oe=K[1],se=K[5],le=K[9],ce=K[2],fe=K[6],me=K[10],pe=te+se+me;if(pe>0){const ge=.5/Math.sqrt(pe+1);this._w=.25/ge,this._x=(fe-le)*ge,this._y=(ie-ce)*ge,this._z=(oe-ne)*ge}else if(te>se&&te>me){const ge=2*Math.sqrt(1+te-se-me);this._w=(fe-le)/ge,this._x=.25*ge,this._y=(ne+oe)/ge,this._z=(ie+ce)/ge}else if(se>me){const ge=2*Math.sqrt(1+se-te-me);this._w=(ie-ce)/ge,this._x=(ne+oe)/ge,this._y=.25*ge,this._z=(le+fe)/ge}else{const ge=2*Math.sqrt(1+me-te-se);this._w=(oe-ne)/ge,this._x=(ie+ce)/ge,this._y=(le+fe)/ge,this._z=.25*ge}return this._onChangeCallback(),this}setFromUnitVectors(_,K){let te=_.dot(K)+1;return te<Number.EPSILON?(te=0,Math.abs(_.x)>Math.abs(_.z)?(this._x=-_.y,this._y=_.x,this._z=0,this._w=te):(this._x=0,this._y=-_.z,this._z=_.y,this._w=te)):(this._x=_.y*K.z-_.z*K.y,this._y=_.z*K.x-_.x*K.z,this._z=_.x*K.y-_.y*K.x,this._w=te),this.normalize()}angleTo(_){return 2*Math.acos(Math.abs(clamp$3(this.dot(_),-1,1)))}rotateTowards(_,K){const te=this.angleTo(_);if(te===0)return this;const ne=Math.min(1,K/te);return this.slerp(_,ne),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(_){return this._x*_._x+this._y*_._y+this._z*_._z+this._w*_._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let _=this.length();return _===0?(this._x=0,this._y=0,this._z=0,this._w=1):(_=1/_,this._x=this._x*_,this._y=this._y*_,this._z=this._z*_,this._w=this._w*_),this._onChangeCallback(),this}multiply(_){return this.multiplyQuaternions(this,_)}premultiply(_){return this.multiplyQuaternions(_,this)}multiplyQuaternions(_,K){const te=_._x,ne=_._y,ie=_._z,oe=_._w,se=K._x,le=K._y,ce=K._z,fe=K._w;return this._x=te*fe+oe*se+ne*ce-ie*le,this._y=ne*fe+oe*le+ie*se-te*ce,this._z=ie*fe+oe*ce+te*le-ne*se,this._w=oe*fe-te*se-ne*le-ie*ce,this._onChangeCallback(),this}slerp(_,K){if(K===0)return this;if(K===1)return this.copy(_);const te=this._x,ne=this._y,ie=this._z,oe=this._w;let se=oe*_._w+te*_._x+ne*_._y+ie*_._z;if(se<0?(this._w=-_._w,this._x=-_._x,this._y=-_._y,this._z=-_._z,se=-se):this.copy(_),se>=1)return this._w=oe,this._x=te,this._y=ne,this._z=ie,this;const le=1-se*se;if(le<=Number.EPSILON){const ge=1-K;return this._w=ge*oe+K*this._w,this._x=ge*te+K*this._x,this._y=ge*ne+K*this._y,this._z=ge*ie+K*this._z,this.normalize(),this}const ce=Math.sqrt(le),fe=Math.atan2(ce,se),me=Math.sin((1-K)*fe)/ce,pe=Math.sin(K*fe)/ce;return this._w=oe*me+this._w*pe,this._x=te*me+this._x*pe,this._y=ne*me+this._y*pe,this._z=ie*me+this._z*pe,this._onChangeCallback(),this}slerpQuaternions(_,K,te){return this.copy(_).slerp(K,te)}random(){const _=2*Math.PI*Math.random(),K=2*Math.PI*Math.random(),te=Math.random(),ne=Math.sqrt(1-te),ie=Math.sqrt(te);return this.set(ne*Math.sin(_),ne*Math.cos(_),ie*Math.sin(K),ie*Math.cos(K))}equals(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._w===this._w}fromArray(_,K=0){return this._x=_[K],this._y=_[K+1],this._z=_[K+2],this._w=_[K+3],this._onChangeCallback(),this}toArray(_=[],K=0){return _[K]=this._x,_[K+1]=this._y,_[K+2]=this._z,_[K+3]=this._w,_}fromBufferAttribute(_,K){return this._x=_.getX(K),this._y=_.getY(K),this._z=_.getZ(K),this._w=_.getW(K),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(_){return this._onChangeCallback=_,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(_=0,K=0,te=0){Vector3.prototype.isVector3=!0,this.x=_,this.y=K,this.z=te}set(_,K,te){return te===void 0&&(te=this.z),this.x=_,this.y=K,this.z=te,this}setScalar(_){return this.x=_,this.y=_,this.z=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setZ(_){return this.z=_,this}setComponent(_,K){switch(_){case 0:this.x=K;break;case 1:this.y=K;break;case 2:this.z=K;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this}add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this}addScalar(_){return this.x+=_,this.y+=_,this.z+=_,this}addVectors(_,K){return this.x=_.x+K.x,this.y=_.y+K.y,this.z=_.z+K.z,this}addScaledVector(_,K){return this.x+=_.x*K,this.y+=_.y*K,this.z+=_.z*K,this}sub(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this}subScalar(_){return this.x-=_,this.y-=_,this.z-=_,this}subVectors(_,K){return this.x=_.x-K.x,this.y=_.y-K.y,this.z=_.z-K.z,this}multiply(_){return this.x*=_.x,this.y*=_.y,this.z*=_.z,this}multiplyScalar(_){return this.x*=_,this.y*=_,this.z*=_,this}multiplyVectors(_,K){return this.x=_.x*K.x,this.y=_.y*K.y,this.z=_.z*K.z,this}applyEuler(_){return this.applyQuaternion(_quaternion$4.setFromEuler(_))}applyAxisAngle(_,K){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(_,K))}applyMatrix3(_){const K=this.x,te=this.y,ne=this.z,ie=_.elements;return this.x=ie[0]*K+ie[3]*te+ie[6]*ne,this.y=ie[1]*K+ie[4]*te+ie[7]*ne,this.z=ie[2]*K+ie[5]*te+ie[8]*ne,this}applyNormalMatrix(_){return this.applyMatrix3(_).normalize()}applyMatrix4(_){const K=this.x,te=this.y,ne=this.z,ie=_.elements,oe=1/(ie[3]*K+ie[7]*te+ie[11]*ne+ie[15]);return this.x=(ie[0]*K+ie[4]*te+ie[8]*ne+ie[12])*oe,this.y=(ie[1]*K+ie[5]*te+ie[9]*ne+ie[13])*oe,this.z=(ie[2]*K+ie[6]*te+ie[10]*ne+ie[14])*oe,this}applyQuaternion(_){const K=this.x,te=this.y,ne=this.z,ie=_.x,oe=_.y,se=_.z,le=_.w,ce=2*(oe*ne-se*te),fe=2*(se*K-ie*ne),me=2*(ie*te-oe*K);return this.x=K+le*ce+oe*me-se*fe,this.y=te+le*fe+se*ce-ie*me,this.z=ne+le*me+ie*fe-oe*ce,this}project(_){return this.applyMatrix4(_.matrixWorldInverse).applyMatrix4(_.projectionMatrix)}unproject(_){return this.applyMatrix4(_.projectionMatrixInverse).applyMatrix4(_.matrixWorld)}transformDirection(_){const K=this.x,te=this.y,ne=this.z,ie=_.elements;return this.x=ie[0]*K+ie[4]*te+ie[8]*ne,this.y=ie[1]*K+ie[5]*te+ie[9]*ne,this.z=ie[2]*K+ie[6]*te+ie[10]*ne,this.normalize()}divide(_){return this.x/=_.x,this.y/=_.y,this.z/=_.z,this}divideScalar(_){return this.multiplyScalar(1/_)}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this.z=Math.min(this.z,_.z),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this.z=Math.max(this.z,_.z),this}clamp(_,K){return this.x=clamp$3(this.x,_.x,K.x),this.y=clamp$3(this.y,_.y,K.y),this.z=clamp$3(this.z,_.z,K.z),this}clampScalar(_,K){return this.x=clamp$3(this.x,_,K),this.y=clamp$3(this.y,_,K),this.z=clamp$3(this.z,_,K),this}clampLength(_,K){const te=this.length();return this.divideScalar(te||1).multiplyScalar(clamp$3(te,_,K))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(_){return this.x*_.x+this.y*_.y+this.z*_.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,K){return this.x+=(_.x-this.x)*K,this.y+=(_.y-this.y)*K,this.z+=(_.z-this.z)*K,this}lerpVectors(_,K,te){return this.x=_.x+(K.x-_.x)*te,this.y=_.y+(K.y-_.y)*te,this.z=_.z+(K.z-_.z)*te,this}cross(_){return this.crossVectors(this,_)}crossVectors(_,K){const te=_.x,ne=_.y,ie=_.z,oe=K.x,se=K.y,le=K.z;return this.x=ne*le-ie*se,this.y=ie*oe-te*le,this.z=te*se-ne*oe,this}projectOnVector(_){const K=_.lengthSq();if(K===0)return this.set(0,0,0);const te=_.dot(this)/K;return this.copy(_).multiplyScalar(te)}projectOnPlane(_){return _vector$c.copy(this).projectOnVector(_),this.sub(_vector$c)}reflect(_){return this.sub(_vector$c.copy(_).multiplyScalar(2*this.dot(_)))}angleTo(_){const K=Math.sqrt(this.lengthSq()*_.lengthSq());if(K===0)return Math.PI/2;const te=this.dot(_)/K;return Math.acos(clamp$3(te,-1,1))}distanceTo(_){return Math.sqrt(this.distanceToSquared(_))}distanceToSquared(_){const K=this.x-_.x,te=this.y-_.y,ne=this.z-_.z;return K*K+te*te+ne*ne}manhattanDistanceTo(_){return Math.abs(this.x-_.x)+Math.abs(this.y-_.y)+Math.abs(this.z-_.z)}setFromSpherical(_){return this.setFromSphericalCoords(_.radius,_.phi,_.theta)}setFromSphericalCoords(_,K,te){const ne=Math.sin(K)*_;return this.x=ne*Math.sin(te),this.y=Math.cos(K)*_,this.z=ne*Math.cos(te),this}setFromCylindrical(_){return this.setFromCylindricalCoords(_.radius,_.theta,_.y)}setFromCylindricalCoords(_,K,te){return this.x=_*Math.sin(K),this.y=te,this.z=_*Math.cos(K),this}setFromMatrixPosition(_){const K=_.elements;return this.x=K[12],this.y=K[13],this.z=K[14],this}setFromMatrixScale(_){const K=this.setFromMatrixColumn(_,0).length(),te=this.setFromMatrixColumn(_,1).length(),ne=this.setFromMatrixColumn(_,2).length();return this.x=K,this.y=te,this.z=ne,this}setFromMatrixColumn(_,K){return this.fromArray(_.elements,K*4)}setFromMatrix3Column(_,K){return this.fromArray(_.elements,K*3)}setFromEuler(_){return this.x=_._x,this.y=_._y,this.z=_._z,this}setFromColor(_){return this.x=_.r,this.y=_.g,this.z=_.b,this}equals(_){return _.x===this.x&&_.y===this.y&&_.z===this.z}fromArray(_,K=0){return this.x=_[K],this.y=_[K+1],this.z=_[K+2],this}toArray(_=[],K=0){return _[K]=this.x,_[K+1]=this.y,_[K+2]=this.z,_}fromBufferAttribute(_,K){return this.x=_.getX(K),this.y=_.getY(K),this.z=_.getZ(K),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const _=Math.random()*Math.PI*2,K=Math.random()*2-1,te=Math.sqrt(1-K*K);return this.x=te*Math.cos(_),this.y=K,this.z=te*Math.sin(_),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(_=new Vector3(1/0,1/0,1/0),K=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=_,this.max=K}set(_,K){return this.min.copy(_),this.max.copy(K),this}setFromArray(_){this.makeEmpty();for(let K=0,te=_.length;K<te;K+=3)this.expandByPoint(_vector$b.fromArray(_,K));return this}setFromBufferAttribute(_){this.makeEmpty();for(let K=0,te=_.count;K<te;K++)this.expandByPoint(_vector$b.fromBufferAttribute(_,K));return this}setFromPoints(_){this.makeEmpty();for(let K=0,te=_.length;K<te;K++)this.expandByPoint(_[K]);return this}setFromCenterAndSize(_,K){const te=_vector$b.copy(K).multiplyScalar(.5);return this.min.copy(_).sub(te),this.max.copy(_).add(te),this}setFromObject(_,K=!1){return this.makeEmpty(),this.expandByObject(_,K)}clone(){return new this.constructor().copy(this)}copy(_){return this.min.copy(_.min),this.max.copy(_.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(_){return this.isEmpty()?_.set(0,0,0):_.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_){return this.isEmpty()?_.set(0,0,0):_.subVectors(this.max,this.min)}expandByPoint(_){return this.min.min(_),this.max.max(_),this}expandByVector(_){return this.min.sub(_),this.max.add(_),this}expandByScalar(_){return this.min.addScalar(-_),this.max.addScalar(_),this}expandByObject(_,K=!1){_.updateWorldMatrix(!1,!1);const te=_.geometry;if(te!==void 0){const ie=te.getAttribute("position");if(K===!0&&ie!==void 0&&_.isInstancedMesh!==!0)for(let oe=0,se=ie.count;oe<se;oe++)_.isMesh===!0?_.getVertexPosition(oe,_vector$b):_vector$b.fromBufferAttribute(ie,oe),_vector$b.applyMatrix4(_.matrixWorld),this.expandByPoint(_vector$b);else _.boundingBox!==void 0?(_.boundingBox===null&&_.computeBoundingBox(),_box$4.copy(_.boundingBox)):(te.boundingBox===null&&te.computeBoundingBox(),_box$4.copy(te.boundingBox)),_box$4.applyMatrix4(_.matrixWorld),this.union(_box$4)}const ne=_.children;for(let ie=0,oe=ne.length;ie<oe;ie++)this.expandByObject(ne[ie],K);return this}containsPoint(_){return _.x>=this.min.x&&_.x<=this.max.x&&_.y>=this.min.y&&_.y<=this.max.y&&_.z>=this.min.z&&_.z<=this.max.z}containsBox(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y&&this.min.z<=_.min.z&&_.max.z<=this.max.z}getParameter(_,K){return K.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y),(_.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(_){return _.max.x>=this.min.x&&_.min.x<=this.max.x&&_.max.y>=this.min.y&&_.min.y<=this.max.y&&_.max.z>=this.min.z&&_.min.z<=this.max.z}intersectsSphere(_){return this.clampPoint(_.center,_vector$b),_vector$b.distanceToSquared(_.center)<=_.radius*_.radius}intersectsPlane(_){let K,te;return _.normal.x>0?(K=_.normal.x*this.min.x,te=_.normal.x*this.max.x):(K=_.normal.x*this.max.x,te=_.normal.x*this.min.x),_.normal.y>0?(K+=_.normal.y*this.min.y,te+=_.normal.y*this.max.y):(K+=_.normal.y*this.max.y,te+=_.normal.y*this.min.y),_.normal.z>0?(K+=_.normal.z*this.min.z,te+=_.normal.z*this.max.z):(K+=_.normal.z*this.max.z,te+=_.normal.z*this.min.z),K<=-_.constant&&te>=-_.constant}intersectsTriangle(_){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(_.a,_center),_v1$7.subVectors(_.b,_center),_v2$4.subVectors(_.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let K=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(K,_v0$2,_v1$7,_v2$4,_extents)||(K=[1,0,0,0,1,0,0,0,1],!satForAxes(K,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),K=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(K,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(_,K){return K.copy(_).clamp(this.min,this.max)}distanceToPoint(_){return this.clampPoint(_,_vector$b).distanceTo(_)}getBoundingSphere(_){return this.isEmpty()?_.makeEmpty():(this.getCenter(_.center),_.radius=this.getSize(_vector$b).length()*.5),_}intersect(_){return this.min.max(_.min),this.max.min(_.max),this.isEmpty()&&this.makeEmpty(),this}union(_){return this.min.min(_.min),this.max.max(_.max),this}applyMatrix4(_){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(_),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(_),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(_),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(_),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(_),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(_),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(_),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(_),this.setFromPoints(_points),this)}translate(_){return this.min.add(_),this.max.add(_),this}equals(_){return _.min.equals(this.min)&&_.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(Z,_,K,te,ne){for(let ie=0,oe=Z.length-3;ie<=oe;ie+=3){_testAxis.fromArray(Z,ie);const se=ne.x*Math.abs(_testAxis.x)+ne.y*Math.abs(_testAxis.y)+ne.z*Math.abs(_testAxis.z),le=_.dot(_testAxis),ce=K.dot(_testAxis),fe=te.dot(_testAxis);if(Math.max(-Math.max(le,ce,fe),Math.min(le,ce,fe))>se)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(_=new Vector3,K=-1){this.isSphere=!0,this.center=_,this.radius=K}set(_,K){return this.center.copy(_),this.radius=K,this}setFromPoints(_,K){const te=this.center;K!==void 0?te.copy(K):_box$3.setFromPoints(_).getCenter(te);let ne=0;for(let ie=0,oe=_.length;ie<oe;ie++)ne=Math.max(ne,te.distanceToSquared(_[ie]));return this.radius=Math.sqrt(ne),this}copy(_){return this.center.copy(_.center),this.radius=_.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(_){return _.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(_){return _.distanceTo(this.center)-this.radius}intersectsSphere(_){const K=this.radius+_.radius;return _.center.distanceToSquared(this.center)<=K*K}intersectsBox(_){return _.intersectsSphere(this)}intersectsPlane(_){return Math.abs(_.distanceToPoint(this.center))<=this.radius}clampPoint(_,K){const te=this.center.distanceToSquared(_);return K.copy(_),te>this.radius*this.radius&&(K.sub(this.center).normalize(),K.multiplyScalar(this.radius).add(this.center)),K}getBoundingBox(_){return this.isEmpty()?(_.makeEmpty(),_):(_.set(this.center,this.center),_.expandByScalar(this.radius),_)}applyMatrix4(_){return this.center.applyMatrix4(_),this.radius=this.radius*_.getMaxScaleOnAxis(),this}translate(_){return this.center.add(_),this}expandByPoint(_){if(this.isEmpty())return this.center.copy(_),this.radius=0,this;_v1$6.subVectors(_,this.center);const K=_v1$6.lengthSq();if(K>this.radius*this.radius){const te=Math.sqrt(K),ne=(te-this.radius)*.5;this.center.addScaledVector(_v1$6,ne/te),this.radius+=ne}return this}union(_){return _.isEmpty()?this:this.isEmpty()?(this.copy(_),this):(this.center.equals(_.center)===!0?this.radius=Math.max(this.radius,_.radius):(_v2$3.subVectors(_.center,this.center).setLength(_.radius),this.expandByPoint(_v1$6.copy(_.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(_.center).sub(_v2$3))),this)}equals(_){return _.center.equals(this.center)&&_.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(_=new Vector3,K=new Vector3(0,0,-1)){this.origin=_,this.direction=K}set(_,K){return this.origin.copy(_),this.direction.copy(K),this}copy(_){return this.origin.copy(_.origin),this.direction.copy(_.direction),this}at(_,K){return K.copy(this.origin).addScaledVector(this.direction,_)}lookAt(_){return this.direction.copy(_).sub(this.origin).normalize(),this}recast(_){return this.origin.copy(this.at(_,_vector$a)),this}closestPointToPoint(_,K){K.subVectors(_,this.origin);const te=K.dot(this.direction);return te<0?K.copy(this.origin):K.copy(this.origin).addScaledVector(this.direction,te)}distanceToPoint(_){return Math.sqrt(this.distanceSqToPoint(_))}distanceSqToPoint(_){const K=_vector$a.subVectors(_,this.origin).dot(this.direction);return K<0?this.origin.distanceToSquared(_):(_vector$a.copy(this.origin).addScaledVector(this.direction,K),_vector$a.distanceToSquared(_))}distanceSqToSegment(_,K,te,ne){_segCenter.copy(_).add(K).multiplyScalar(.5),_segDir.copy(K).sub(_).normalize(),_diff.copy(this.origin).sub(_segCenter);const ie=_.distanceTo(K)*.5,oe=-this.direction.dot(_segDir),se=_diff.dot(this.direction),le=-_diff.dot(_segDir),ce=_diff.lengthSq(),fe=Math.abs(1-oe*oe);let me,pe,ge,ye;if(fe>0)if(me=oe*le-se,pe=oe*se-le,ye=ie*fe,me>=0)if(pe>=-ye)if(pe<=ye){const Ee=1/fe;me*=Ee,pe*=Ee,ge=me*(me+oe*pe+2*se)+pe*(oe*me+pe+2*le)+ce}else pe=ie,me=Math.max(0,-(oe*pe+se)),ge=-me*me+pe*(pe+2*le)+ce;else pe=-ie,me=Math.max(0,-(oe*pe+se)),ge=-me*me+pe*(pe+2*le)+ce;else pe<=-ye?(me=Math.max(0,-(-oe*ie+se)),pe=me>0?-ie:Math.min(Math.max(-ie,-le),ie),ge=-me*me+pe*(pe+2*le)+ce):pe<=ye?(me=0,pe=Math.min(Math.max(-ie,-le),ie),ge=pe*(pe+2*le)+ce):(me=Math.max(0,-(oe*ie+se)),pe=me>0?ie:Math.min(Math.max(-ie,-le),ie),ge=-me*me+pe*(pe+2*le)+ce);else pe=oe>0?-ie:ie,me=Math.max(0,-(oe*pe+se)),ge=-me*me+pe*(pe+2*le)+ce;return te&&te.copy(this.origin).addScaledVector(this.direction,me),ne&&ne.copy(_segCenter).addScaledVector(_segDir,pe),ge}intersectSphere(_,K){_vector$a.subVectors(_.center,this.origin);const te=_vector$a.dot(this.direction),ne=_vector$a.dot(_vector$a)-te*te,ie=_.radius*_.radius;if(ne>ie)return null;const oe=Math.sqrt(ie-ne),se=te-oe,le=te+oe;return le<0?null:se<0?this.at(le,K):this.at(se,K)}intersectsSphere(_){return this.distanceSqToPoint(_.center)<=_.radius*_.radius}distanceToPlane(_){const K=_.normal.dot(this.direction);if(K===0)return _.distanceToPoint(this.origin)===0?0:null;const te=-(this.origin.dot(_.normal)+_.constant)/K;return te>=0?te:null}intersectPlane(_,K){const te=this.distanceToPlane(_);return te===null?null:this.at(te,K)}intersectsPlane(_){const K=_.distanceToPoint(this.origin);return K===0||_.normal.dot(this.direction)*K<0}intersectBox(_,K){let te,ne,ie,oe,se,le;const ce=1/this.direction.x,fe=1/this.direction.y,me=1/this.direction.z,pe=this.origin;return ce>=0?(te=(_.min.x-pe.x)*ce,ne=(_.max.x-pe.x)*ce):(te=(_.max.x-pe.x)*ce,ne=(_.min.x-pe.x)*ce),fe>=0?(ie=(_.min.y-pe.y)*fe,oe=(_.max.y-pe.y)*fe):(ie=(_.max.y-pe.y)*fe,oe=(_.min.y-pe.y)*fe),te>oe||ie>ne||((ie>te||isNaN(te))&&(te=ie),(oe<ne||isNaN(ne))&&(ne=oe),me>=0?(se=(_.min.z-pe.z)*me,le=(_.max.z-pe.z)*me):(se=(_.max.z-pe.z)*me,le=(_.min.z-pe.z)*me),te>le||se>ne)||((se>te||te!==te)&&(te=se),(le<ne||ne!==ne)&&(ne=le),ne<0)?null:this.at(te>=0?te:ne,K)}intersectsBox(_){return this.intersectBox(_,_vector$a)!==null}intersectTriangle(_,K,te,ne,ie){_edge1.subVectors(K,_),_edge2.subVectors(te,_),_normal$1.crossVectors(_edge1,_edge2);let oe=this.direction.dot(_normal$1),se;if(oe>0){if(ne)return null;se=1}else if(oe<0)se=-1,oe=-oe;else return null;_diff.subVectors(this.origin,_);const le=se*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(le<0)return null;const ce=se*this.direction.dot(_edge1.cross(_diff));if(ce<0||le+ce>oe)return null;const fe=-se*_diff.dot(_normal$1);return fe<0?null:this.at(fe/oe,ie)}applyMatrix4(_){return this.origin.applyMatrix4(_),this.direction.transformDirection(_),this}equals(_){return _.origin.equals(this.origin)&&_.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(_,K,te,ne,ie,oe,se,le,ce,fe,me,pe,ge,ye,Ee,_e){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_!==void 0&&this.set(_,K,te,ne,ie,oe,se,le,ce,fe,me,pe,ge,ye,Ee,_e)}set(_,K,te,ne,ie,oe,se,le,ce,fe,me,pe,ge,ye,Ee,_e){const Se=this.elements;return Se[0]=_,Se[4]=K,Se[8]=te,Se[12]=ne,Se[1]=ie,Se[5]=oe,Se[9]=se,Se[13]=le,Se[2]=ce,Se[6]=fe,Se[10]=me,Se[14]=pe,Se[3]=ge,Se[7]=ye,Se[11]=Ee,Se[15]=_e,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(_){const K=this.elements,te=_.elements;return K[0]=te[0],K[1]=te[1],K[2]=te[2],K[3]=te[3],K[4]=te[4],K[5]=te[5],K[6]=te[6],K[7]=te[7],K[8]=te[8],K[9]=te[9],K[10]=te[10],K[11]=te[11],K[12]=te[12],K[13]=te[13],K[14]=te[14],K[15]=te[15],this}copyPosition(_){const K=this.elements,te=_.elements;return K[12]=te[12],K[13]=te[13],K[14]=te[14],this}setFromMatrix3(_){const K=_.elements;return this.set(K[0],K[3],K[6],0,K[1],K[4],K[7],0,K[2],K[5],K[8],0,0,0,0,1),this}extractBasis(_,K,te){return _.setFromMatrixColumn(this,0),K.setFromMatrixColumn(this,1),te.setFromMatrixColumn(this,2),this}makeBasis(_,K,te){return this.set(_.x,K.x,te.x,0,_.y,K.y,te.y,0,_.z,K.z,te.z,0,0,0,0,1),this}extractRotation(_){const K=this.elements,te=_.elements,ne=1/_v1$5.setFromMatrixColumn(_,0).length(),ie=1/_v1$5.setFromMatrixColumn(_,1).length(),oe=1/_v1$5.setFromMatrixColumn(_,2).length();return K[0]=te[0]*ne,K[1]=te[1]*ne,K[2]=te[2]*ne,K[3]=0,K[4]=te[4]*ie,K[5]=te[5]*ie,K[6]=te[6]*ie,K[7]=0,K[8]=te[8]*oe,K[9]=te[9]*oe,K[10]=te[10]*oe,K[11]=0,K[12]=0,K[13]=0,K[14]=0,K[15]=1,this}makeRotationFromEuler(_){const K=this.elements,te=_.x,ne=_.y,ie=_.z,oe=Math.cos(te),se=Math.sin(te),le=Math.cos(ne),ce=Math.sin(ne),fe=Math.cos(ie),me=Math.sin(ie);if(_.order==="XYZ"){const pe=oe*fe,ge=oe*me,ye=se*fe,Ee=se*me;K[0]=le*fe,K[4]=-le*me,K[8]=ce,K[1]=ge+ye*ce,K[5]=pe-Ee*ce,K[9]=-se*le,K[2]=Ee-pe*ce,K[6]=ye+ge*ce,K[10]=oe*le}else if(_.order==="YXZ"){const pe=le*fe,ge=le*me,ye=ce*fe,Ee=ce*me;K[0]=pe+Ee*se,K[4]=ye*se-ge,K[8]=oe*ce,K[1]=oe*me,K[5]=oe*fe,K[9]=-se,K[2]=ge*se-ye,K[6]=Ee+pe*se,K[10]=oe*le}else if(_.order==="ZXY"){const pe=le*fe,ge=le*me,ye=ce*fe,Ee=ce*me;K[0]=pe-Ee*se,K[4]=-oe*me,K[8]=ye+ge*se,K[1]=ge+ye*se,K[5]=oe*fe,K[9]=Ee-pe*se,K[2]=-oe*ce,K[6]=se,K[10]=oe*le}else if(_.order==="ZYX"){const pe=oe*fe,ge=oe*me,ye=se*fe,Ee=se*me;K[0]=le*fe,K[4]=ye*ce-ge,K[8]=pe*ce+Ee,K[1]=le*me,K[5]=Ee*ce+pe,K[9]=ge*ce-ye,K[2]=-ce,K[6]=se*le,K[10]=oe*le}else if(_.order==="YZX"){const pe=oe*le,ge=oe*ce,ye=se*le,Ee=se*ce;K[0]=le*fe,K[4]=Ee-pe*me,K[8]=ye*me+ge,K[1]=me,K[5]=oe*fe,K[9]=-se*fe,K[2]=-ce*fe,K[6]=ge*me+ye,K[10]=pe-Ee*me}else if(_.order==="XZY"){const pe=oe*le,ge=oe*ce,ye=se*le,Ee=se*ce;K[0]=le*fe,K[4]=-me,K[8]=ce*fe,K[1]=pe*me+Ee,K[5]=oe*fe,K[9]=ge*me-ye,K[2]=ye*me-ge,K[6]=se*fe,K[10]=Ee*me+pe}return K[3]=0,K[7]=0,K[11]=0,K[12]=0,K[13]=0,K[14]=0,K[15]=1,this}makeRotationFromQuaternion(_){return this.compose(_zero,_,_one)}lookAt(_,K,te){const ne=this.elements;return _z.subVectors(_,K),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(te,_z),_x.lengthSq()===0&&(Math.abs(te.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(te,_z)),_x.normalize(),_y.crossVectors(_z,_x),ne[0]=_x.x,ne[4]=_y.x,ne[8]=_z.x,ne[1]=_x.y,ne[5]=_y.y,ne[9]=_z.y,ne[2]=_x.z,ne[6]=_y.z,ne[10]=_z.z,this}multiply(_){return this.multiplyMatrices(this,_)}premultiply(_){return this.multiplyMatrices(_,this)}multiplyMatrices(_,K){const te=_.elements,ne=K.elements,ie=this.elements,oe=te[0],se=te[4],le=te[8],ce=te[12],fe=te[1],me=te[5],pe=te[9],ge=te[13],ye=te[2],Ee=te[6],_e=te[10],Se=te[14],Re=te[3],Te=te[7],Ae=te[11],Fe=te[15],$e=ne[0],ke=ne[4],ze=ne[8],Ue=ne[12],Oe=ne[1],Ve=ne[5],Ye=ne[9],Ke=ne[13],ot=ne[2],ut=ne[6],ct=ne[10],gt=ne[14],je=ne[3],rt=ne[7],Qe=ne[11],qe=ne[15];return ie[0]=oe*$e+se*Oe+le*ot+ce*je,ie[4]=oe*ke+se*Ve+le*ut+ce*rt,ie[8]=oe*ze+se*Ye+le*ct+ce*Qe,ie[12]=oe*Ue+se*Ke+le*gt+ce*qe,ie[1]=fe*$e+me*Oe+pe*ot+ge*je,ie[5]=fe*ke+me*Ve+pe*ut+ge*rt,ie[9]=fe*ze+me*Ye+pe*ct+ge*Qe,ie[13]=fe*Ue+me*Ke+pe*gt+ge*qe,ie[2]=ye*$e+Ee*Oe+_e*ot+Se*je,ie[6]=ye*ke+Ee*Ve+_e*ut+Se*rt,ie[10]=ye*ze+Ee*Ye+_e*ct+Se*Qe,ie[14]=ye*Ue+Ee*Ke+_e*gt+Se*qe,ie[3]=Re*$e+Te*Oe+Ae*ot+Fe*je,ie[7]=Re*ke+Te*Ve+Ae*ut+Fe*rt,ie[11]=Re*ze+Te*Ye+Ae*ct+Fe*Qe,ie[15]=Re*Ue+Te*Ke+Ae*gt+Fe*qe,this}multiplyScalar(_){const K=this.elements;return K[0]*=_,K[4]*=_,K[8]*=_,K[12]*=_,K[1]*=_,K[5]*=_,K[9]*=_,K[13]*=_,K[2]*=_,K[6]*=_,K[10]*=_,K[14]*=_,K[3]*=_,K[7]*=_,K[11]*=_,K[15]*=_,this}determinant(){const _=this.elements,K=_[0],te=_[4],ne=_[8],ie=_[12],oe=_[1],se=_[5],le=_[9],ce=_[13],fe=_[2],me=_[6],pe=_[10],ge=_[14],ye=_[3],Ee=_[7],_e=_[11],Se=_[15];return ye*(+ie*le*me-ne*ce*me-ie*se*pe+te*ce*pe+ne*se*ge-te*le*ge)+Ee*(+K*le*ge-K*ce*pe+ie*oe*pe-ne*oe*ge+ne*ce*fe-ie*le*fe)+_e*(+K*ce*me-K*se*ge-ie*oe*me+te*oe*ge+ie*se*fe-te*ce*fe)+Se*(-ne*se*fe-K*le*me+K*se*pe+ne*oe*me-te*oe*pe+te*le*fe)}transpose(){const _=this.elements;let K;return K=_[1],_[1]=_[4],_[4]=K,K=_[2],_[2]=_[8],_[8]=K,K=_[6],_[6]=_[9],_[9]=K,K=_[3],_[3]=_[12],_[12]=K,K=_[7],_[7]=_[13],_[13]=K,K=_[11],_[11]=_[14],_[14]=K,this}setPosition(_,K,te){const ne=this.elements;return _.isVector3?(ne[12]=_.x,ne[13]=_.y,ne[14]=_.z):(ne[12]=_,ne[13]=K,ne[14]=te),this}invert(){const _=this.elements,K=_[0],te=_[1],ne=_[2],ie=_[3],oe=_[4],se=_[5],le=_[6],ce=_[7],fe=_[8],me=_[9],pe=_[10],ge=_[11],ye=_[12],Ee=_[13],_e=_[14],Se=_[15],Re=me*_e*ce-Ee*pe*ce+Ee*le*ge-se*_e*ge-me*le*Se+se*pe*Se,Te=ye*pe*ce-fe*_e*ce-ye*le*ge+oe*_e*ge+fe*le*Se-oe*pe*Se,Ae=fe*Ee*ce-ye*me*ce+ye*se*ge-oe*Ee*ge-fe*se*Se+oe*me*Se,Fe=ye*me*le-fe*Ee*le-ye*se*pe+oe*Ee*pe+fe*se*_e-oe*me*_e,$e=K*Re+te*Te+ne*Ae+ie*Fe;if($e===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ke=1/$e;return _[0]=Re*ke,_[1]=(Ee*pe*ie-me*_e*ie-Ee*ne*ge+te*_e*ge+me*ne*Se-te*pe*Se)*ke,_[2]=(se*_e*ie-Ee*le*ie+Ee*ne*ce-te*_e*ce-se*ne*Se+te*le*Se)*ke,_[3]=(me*le*ie-se*pe*ie-me*ne*ce+te*pe*ce+se*ne*ge-te*le*ge)*ke,_[4]=Te*ke,_[5]=(fe*_e*ie-ye*pe*ie+ye*ne*ge-K*_e*ge-fe*ne*Se+K*pe*Se)*ke,_[6]=(ye*le*ie-oe*_e*ie-ye*ne*ce+K*_e*ce+oe*ne*Se-K*le*Se)*ke,_[7]=(oe*pe*ie-fe*le*ie+fe*ne*ce-K*pe*ce-oe*ne*ge+K*le*ge)*ke,_[8]=Ae*ke,_[9]=(ye*me*ie-fe*Ee*ie-ye*te*ge+K*Ee*ge+fe*te*Se-K*me*Se)*ke,_[10]=(oe*Ee*ie-ye*se*ie+ye*te*ce-K*Ee*ce-oe*te*Se+K*se*Se)*ke,_[11]=(fe*se*ie-oe*me*ie-fe*te*ce+K*me*ce+oe*te*ge-K*se*ge)*ke,_[12]=Fe*ke,_[13]=(fe*Ee*ne-ye*me*ne+ye*te*pe-K*Ee*pe-fe*te*_e+K*me*_e)*ke,_[14]=(ye*se*ne-oe*Ee*ne-ye*te*le+K*Ee*le+oe*te*_e-K*se*_e)*ke,_[15]=(oe*me*ne-fe*se*ne+fe*te*le-K*me*le-oe*te*pe+K*se*pe)*ke,this}scale(_){const K=this.elements,te=_.x,ne=_.y,ie=_.z;return K[0]*=te,K[4]*=ne,K[8]*=ie,K[1]*=te,K[5]*=ne,K[9]*=ie,K[2]*=te,K[6]*=ne,K[10]*=ie,K[3]*=te,K[7]*=ne,K[11]*=ie,this}getMaxScaleOnAxis(){const _=this.elements,K=_[0]*_[0]+_[1]*_[1]+_[2]*_[2],te=_[4]*_[4]+_[5]*_[5]+_[6]*_[6],ne=_[8]*_[8]+_[9]*_[9]+_[10]*_[10];return Math.sqrt(Math.max(K,te,ne))}makeTranslation(_,K,te){return _.isVector3?this.set(1,0,0,_.x,0,1,0,_.y,0,0,1,_.z,0,0,0,1):this.set(1,0,0,_,0,1,0,K,0,0,1,te,0,0,0,1),this}makeRotationX(_){const K=Math.cos(_),te=Math.sin(_);return this.set(1,0,0,0,0,K,-te,0,0,te,K,0,0,0,0,1),this}makeRotationY(_){const K=Math.cos(_),te=Math.sin(_);return this.set(K,0,te,0,0,1,0,0,-te,0,K,0,0,0,0,1),this}makeRotationZ(_){const K=Math.cos(_),te=Math.sin(_);return this.set(K,-te,0,0,te,K,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(_,K){const te=Math.cos(K),ne=Math.sin(K),ie=1-te,oe=_.x,se=_.y,le=_.z,ce=ie*oe,fe=ie*se;return this.set(ce*oe+te,ce*se-ne*le,ce*le+ne*se,0,ce*se+ne*le,fe*se+te,fe*le-ne*oe,0,ce*le-ne*se,fe*le+ne*oe,ie*le*le+te,0,0,0,0,1),this}makeScale(_,K,te){return this.set(_,0,0,0,0,K,0,0,0,0,te,0,0,0,0,1),this}makeShear(_,K,te,ne,ie,oe){return this.set(1,te,ie,0,_,1,oe,0,K,ne,1,0,0,0,0,1),this}compose(_,K,te){const ne=this.elements,ie=K._x,oe=K._y,se=K._z,le=K._w,ce=ie+ie,fe=oe+oe,me=se+se,pe=ie*ce,ge=ie*fe,ye=ie*me,Ee=oe*fe,_e=oe*me,Se=se*me,Re=le*ce,Te=le*fe,Ae=le*me,Fe=te.x,$e=te.y,ke=te.z;return ne[0]=(1-(Ee+Se))*Fe,ne[1]=(ge+Ae)*Fe,ne[2]=(ye-Te)*Fe,ne[3]=0,ne[4]=(ge-Ae)*$e,ne[5]=(1-(pe+Se))*$e,ne[6]=(_e+Re)*$e,ne[7]=0,ne[8]=(ye+Te)*ke,ne[9]=(_e-Re)*ke,ne[10]=(1-(pe+Ee))*ke,ne[11]=0,ne[12]=_.x,ne[13]=_.y,ne[14]=_.z,ne[15]=1,this}decompose(_,K,te){const ne=this.elements;let ie=_v1$5.set(ne[0],ne[1],ne[2]).length();const oe=_v1$5.set(ne[4],ne[5],ne[6]).length(),se=_v1$5.set(ne[8],ne[9],ne[10]).length();this.determinant()<0&&(ie=-ie),_.x=ne[12],_.y=ne[13],_.z=ne[14],_m1$2.copy(this);const ce=1/ie,fe=1/oe,me=1/se;return _m1$2.elements[0]*=ce,_m1$2.elements[1]*=ce,_m1$2.elements[2]*=ce,_m1$2.elements[4]*=fe,_m1$2.elements[5]*=fe,_m1$2.elements[6]*=fe,_m1$2.elements[8]*=me,_m1$2.elements[9]*=me,_m1$2.elements[10]*=me,K.setFromRotationMatrix(_m1$2),te.x=ie,te.y=oe,te.z=se,this}makePerspective(_,K,te,ne,ie,oe,se=WebGLCoordinateSystem){const le=this.elements,ce=2*ie/(K-_),fe=2*ie/(te-ne),me=(K+_)/(K-_),pe=(te+ne)/(te-ne);let ge,ye;if(se===WebGLCoordinateSystem)ge=-(oe+ie)/(oe-ie),ye=-2*oe*ie/(oe-ie);else if(se===WebGPUCoordinateSystem)ge=-oe/(oe-ie),ye=-oe*ie/(oe-ie);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+se);return le[0]=ce,le[4]=0,le[8]=me,le[12]=0,le[1]=0,le[5]=fe,le[9]=pe,le[13]=0,le[2]=0,le[6]=0,le[10]=ge,le[14]=ye,le[3]=0,le[7]=0,le[11]=-1,le[15]=0,this}makeOrthographic(_,K,te,ne,ie,oe,se=WebGLCoordinateSystem){const le=this.elements,ce=1/(K-_),fe=1/(te-ne),me=1/(oe-ie),pe=(K+_)*ce,ge=(te+ne)*fe;let ye,Ee;if(se===WebGLCoordinateSystem)ye=(oe+ie)*me,Ee=-2*me;else if(se===WebGPUCoordinateSystem)ye=ie*me,Ee=-1*me;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+se);return le[0]=2*ce,le[4]=0,le[8]=0,le[12]=-pe,le[1]=0,le[5]=2*fe,le[9]=0,le[13]=-ge,le[2]=0,le[6]=0,le[10]=Ee,le[14]=-ye,le[3]=0,le[7]=0,le[11]=0,le[15]=1,this}equals(_){const K=this.elements,te=_.elements;for(let ne=0;ne<16;ne++)if(K[ne]!==te[ne])return!1;return!0}fromArray(_,K=0){for(let te=0;te<16;te++)this.elements[te]=_[te+K];return this}toArray(_=[],K=0){const te=this.elements;return _[K]=te[0],_[K+1]=te[1],_[K+2]=te[2],_[K+3]=te[3],_[K+4]=te[4],_[K+5]=te[5],_[K+6]=te[6],_[K+7]=te[7],_[K+8]=te[8],_[K+9]=te[9],_[K+10]=te[10],_[K+11]=te[11],_[K+12]=te[12],_[K+13]=te[13],_[K+14]=te[14],_[K+15]=te[15],_}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(_=0,K=0,te=0,ne=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=_,this._y=K,this._z=te,this._order=ne}get x(){return this._x}set x(_){this._x=_,this._onChangeCallback()}get y(){return this._y}set y(_){this._y=_,this._onChangeCallback()}get z(){return this._z}set z(_){this._z=_,this._onChangeCallback()}get order(){return this._order}set order(_){this._order=_,this._onChangeCallback()}set(_,K,te,ne=this._order){return this._x=_,this._y=K,this._z=te,this._order=ne,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(_){return this._x=_._x,this._y=_._y,this._z=_._z,this._order=_._order,this._onChangeCallback(),this}setFromRotationMatrix(_,K=this._order,te=!0){const ne=_.elements,ie=ne[0],oe=ne[4],se=ne[8],le=ne[1],ce=ne[5],fe=ne[9],me=ne[2],pe=ne[6],ge=ne[10];switch(K){case"XYZ":this._y=Math.asin(clamp$3(se,-1,1)),Math.abs(se)<.9999999?(this._x=Math.atan2(-fe,ge),this._z=Math.atan2(-oe,ie)):(this._x=Math.atan2(pe,ce),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$3(fe,-1,1)),Math.abs(fe)<.9999999?(this._y=Math.atan2(se,ge),this._z=Math.atan2(le,ce)):(this._y=Math.atan2(-me,ie),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$3(pe,-1,1)),Math.abs(pe)<.9999999?(this._y=Math.atan2(-me,ge),this._z=Math.atan2(-oe,ce)):(this._y=0,this._z=Math.atan2(le,ie));break;case"ZYX":this._y=Math.asin(-clamp$3(me,-1,1)),Math.abs(me)<.9999999?(this._x=Math.atan2(pe,ge),this._z=Math.atan2(le,ie)):(this._x=0,this._z=Math.atan2(-oe,ce));break;case"YZX":this._z=Math.asin(clamp$3(le,-1,1)),Math.abs(le)<.9999999?(this._x=Math.atan2(-fe,ce),this._y=Math.atan2(-me,ie)):(this._x=0,this._y=Math.atan2(se,ge));break;case"XZY":this._z=Math.asin(-clamp$3(oe,-1,1)),Math.abs(oe)<.9999999?(this._x=Math.atan2(pe,ce),this._y=Math.atan2(se,ie)):(this._x=Math.atan2(-fe,ge),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+K)}return this._order=K,te===!0&&this._onChangeCallback(),this}setFromQuaternion(_,K,te){return _matrix$2.makeRotationFromQuaternion(_),this.setFromRotationMatrix(_matrix$2,K,te)}setFromVector3(_,K=this._order){return this.set(_.x,_.y,_.z,K)}reorder(_){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,_)}equals(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._order===this._order}fromArray(_){return this._x=_[0],this._y=_[1],this._z=_[2],_[3]!==void 0&&(this._order=_[3]),this._onChangeCallback(),this}toArray(_=[],K=0){return _[K]=this._x,_[K+1]=this._y,_[K+2]=this._z,_[K+3]=this._order,_}_onChange(_){return this._onChangeCallback=_,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(_){this.mask=(1<<_|0)>>>0}enable(_){this.mask|=1<<_|0}enableAll(){this.mask=-1}toggle(_){this.mask^=1<<_|0}disable(_){this.mask&=~(1<<_|0)}disableAll(){this.mask=0}test(_){return(this.mask&_.mask)!==0}isEnabled(_){return(this.mask&(1<<_|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const _=new Vector3,K=new Euler,te=new Quaternion,ne=new Vector3(1,1,1);function ie(){te.setFromEuler(K,!1)}function oe(){K.setFromQuaternion(te,void 0,!1)}K._onChange(ie),te._onChange(oe),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:_},rotation:{configurable:!0,enumerable:!0,value:K},quaternion:{configurable:!0,enumerable:!0,value:te},scale:{configurable:!0,enumerable:!0,value:ne},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(_){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(_),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(_){return this.quaternion.premultiply(_),this}setRotationFromAxisAngle(_,K){this.quaternion.setFromAxisAngle(_,K)}setRotationFromEuler(_){this.quaternion.setFromEuler(_,!0)}setRotationFromMatrix(_){this.quaternion.setFromRotationMatrix(_)}setRotationFromQuaternion(_){this.quaternion.copy(_)}rotateOnAxis(_,K){return _q1.setFromAxisAngle(_,K),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(_,K){return _q1.setFromAxisAngle(_,K),this.quaternion.premultiply(_q1),this}rotateX(_){return this.rotateOnAxis(_xAxis,_)}rotateY(_){return this.rotateOnAxis(_yAxis,_)}rotateZ(_){return this.rotateOnAxis(_zAxis,_)}translateOnAxis(_,K){return _v1$4.copy(_).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(K)),this}translateX(_){return this.translateOnAxis(_xAxis,_)}translateY(_){return this.translateOnAxis(_yAxis,_)}translateZ(_){return this.translateOnAxis(_zAxis,_)}localToWorld(_){return this.updateWorldMatrix(!0,!1),_.applyMatrix4(this.matrixWorld)}worldToLocal(_){return this.updateWorldMatrix(!0,!1),_.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(_,K,te){_.isVector3?_target.copy(_):_target.set(_,K,te);const ne=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),ne&&(_m1$1$1.extractRotation(ne.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(_){if(arguments.length>1){for(let K=0;K<arguments.length;K++)this.add(arguments[K]);return this}return _===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",_),this):(_&&_.isObject3D?(_.removeFromParent(),_.parent=this,this.children.push(_),_.dispatchEvent(_addedEvent),_childaddedEvent.child=_,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",_),this)}remove(_){if(arguments.length>1){for(let te=0;te<arguments.length;te++)this.remove(arguments[te]);return this}const K=this.children.indexOf(_);return K!==-1&&(_.parent=null,this.children.splice(K,1),_.dispatchEvent(_removedEvent),_childremovedEvent.child=_,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const _=this.parent;return _!==null&&_.remove(this),this}clear(){return this.remove(...this.children)}attach(_){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),_.parent!==null&&(_.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(_.parent.matrixWorld)),_.applyMatrix4(_m1$1$1),_.removeFromParent(),_.parent=this,this.children.push(_),_.updateWorldMatrix(!1,!0),_.dispatchEvent(_addedEvent),_childaddedEvent.child=_,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(_){return this.getObjectByProperty("id",_)}getObjectByName(_){return this.getObjectByProperty("name",_)}getObjectByProperty(_,K){if(this[_]===K)return this;for(let te=0,ne=this.children.length;te<ne;te++){const oe=this.children[te].getObjectByProperty(_,K);if(oe!==void 0)return oe}}getObjectsByProperty(_,K,te=[]){this[_]===K&&te.push(this);const ne=this.children;for(let ie=0,oe=ne.length;ie<oe;ie++)ne[ie].getObjectsByProperty(_,K,te);return te}getWorldPosition(_){return this.updateWorldMatrix(!0,!1),_.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(_){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_,_scale$2),_}getWorldScale(_){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,_),_}getWorldDirection(_){this.updateWorldMatrix(!0,!1);const K=this.matrixWorld.elements;return _.set(K[8],K[9],K[10]).normalize()}raycast(){}traverse(_){_(this);const K=this.children;for(let te=0,ne=K.length;te<ne;te++)K[te].traverse(_)}traverseVisible(_){if(this.visible===!1)return;_(this);const K=this.children;for(let te=0,ne=K.length;te<ne;te++)K[te].traverseVisible(_)}traverseAncestors(_){const K=this.parent;K!==null&&(_(K),K.traverseAncestors(_))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(_){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||_)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,_=!0);const K=this.children;for(let te=0,ne=K.length;te<ne;te++)K[te].updateMatrixWorld(_)}updateWorldMatrix(_,K){const te=this.parent;if(_===!0&&te!==null&&te.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),K===!0){const ne=this.children;for(let ie=0,oe=ne.length;ie<oe;ie++)ne[ie].updateWorldMatrix(!1,!0)}}toJSON(_){const K=_===void 0||typeof _=="string",te={};K&&(_={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},te.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const ne={};ne.uuid=this.uuid,ne.type=this.type,this.name!==""&&(ne.name=this.name),this.castShadow===!0&&(ne.castShadow=!0),this.receiveShadow===!0&&(ne.receiveShadow=!0),this.visible===!1&&(ne.visible=!1),this.frustumCulled===!1&&(ne.frustumCulled=!1),this.renderOrder!==0&&(ne.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(ne.userData=this.userData),ne.layers=this.layers.mask,ne.matrix=this.matrix.toArray(),ne.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(ne.matrixAutoUpdate=!1),this.isInstancedMesh&&(ne.type="InstancedMesh",ne.count=this.count,ne.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(ne.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(ne.type="BatchedMesh",ne.perObjectFrustumCulled=this.perObjectFrustumCulled,ne.sortObjects=this.sortObjects,ne.drawRanges=this._drawRanges,ne.reservedRanges=this._reservedRanges,ne.visibility=this._visibility,ne.active=this._active,ne.bounds=this._bounds.map(se=>({boxInitialized:se.boxInitialized,boxMin:se.box.min.toArray(),boxMax:se.box.max.toArray(),sphereInitialized:se.sphereInitialized,sphereRadius:se.sphere.radius,sphereCenter:se.sphere.center.toArray()})),ne.maxInstanceCount=this._maxInstanceCount,ne.maxVertexCount=this._maxVertexCount,ne.maxIndexCount=this._maxIndexCount,ne.geometryInitialized=this._geometryInitialized,ne.geometryCount=this._geometryCount,ne.matricesTexture=this._matricesTexture.toJSON(_),this._colorsTexture!==null&&(ne.colorsTexture=this._colorsTexture.toJSON(_)),this.boundingSphere!==null&&(ne.boundingSphere={center:ne.boundingSphere.center.toArray(),radius:ne.boundingSphere.radius}),this.boundingBox!==null&&(ne.boundingBox={min:ne.boundingBox.min.toArray(),max:ne.boundingBox.max.toArray()}));function ie(se,le){return se[le.uuid]===void 0&&(se[le.uuid]=le.toJSON(_)),le.uuid}if(this.isScene)this.background&&(this.background.isColor?ne.background=this.background.toJSON():this.background.isTexture&&(ne.background=this.background.toJSON(_).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(ne.environment=this.environment.toJSON(_).uuid);else if(this.isMesh||this.isLine||this.isPoints){ne.geometry=ie(_.geometries,this.geometry);const se=this.geometry.parameters;if(se!==void 0&&se.shapes!==void 0){const le=se.shapes;if(Array.isArray(le))for(let ce=0,fe=le.length;ce<fe;ce++){const me=le[ce];ie(_.shapes,me)}else ie(_.shapes,le)}}if(this.isSkinnedMesh&&(ne.bindMode=this.bindMode,ne.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(ie(_.skeletons,this.skeleton),ne.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const se=[];for(let le=0,ce=this.material.length;le<ce;le++)se.push(ie(_.materials,this.material[le]));ne.material=se}else ne.material=ie(_.materials,this.material);if(this.children.length>0){ne.children=[];for(let se=0;se<this.children.length;se++)ne.children.push(this.children[se].toJSON(_).object)}if(this.animations.length>0){ne.animations=[];for(let se=0;se<this.animations.length;se++){const le=this.animations[se];ne.animations.push(ie(_.animations,le))}}if(K){const se=oe(_.geometries),le=oe(_.materials),ce=oe(_.textures),fe=oe(_.images),me=oe(_.shapes),pe=oe(_.skeletons),ge=oe(_.animations),ye=oe(_.nodes);se.length>0&&(te.geometries=se),le.length>0&&(te.materials=le),ce.length>0&&(te.textures=ce),fe.length>0&&(te.images=fe),me.length>0&&(te.shapes=me),pe.length>0&&(te.skeletons=pe),ge.length>0&&(te.animations=ge),ye.length>0&&(te.nodes=ye)}return te.object=ne,te;function oe(se){const le=[];for(const ce in se){const fe=se[ce];delete fe.metadata,le.push(fe)}return le}}clone(_){return new this.constructor().copy(this,_)}copy(_,K=!0){if(this.name=_.name,this.up.copy(_.up),this.position.copy(_.position),this.rotation.order=_.rotation.order,this.quaternion.copy(_.quaternion),this.scale.copy(_.scale),this.matrix.copy(_.matrix),this.matrixWorld.copy(_.matrixWorld),this.matrixAutoUpdate=_.matrixAutoUpdate,this.matrixWorldAutoUpdate=_.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=_.matrixWorldNeedsUpdate,this.layers.mask=_.layers.mask,this.visible=_.visible,this.castShadow=_.castShadow,this.receiveShadow=_.receiveShadow,this.frustumCulled=_.frustumCulled,this.renderOrder=_.renderOrder,this.animations=_.animations.slice(),this.userData=JSON.parse(JSON.stringify(_.userData)),K===!0)for(let te=0;te<_.children.length;te++){const ne=_.children[te];this.add(ne.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(_=new Vector3,K=new Vector3,te=new Vector3){this.a=_,this.b=K,this.c=te}static getNormal(_,K,te,ne){ne.subVectors(te,K),_v0$1.subVectors(_,K),ne.cross(_v0$1);const ie=ne.lengthSq();return ie>0?ne.multiplyScalar(1/Math.sqrt(ie)):ne.set(0,0,0)}static getBarycoord(_,K,te,ne,ie){_v0$1.subVectors(ne,K),_v1$3.subVectors(te,K),_v2$2.subVectors(_,K);const oe=_v0$1.dot(_v0$1),se=_v0$1.dot(_v1$3),le=_v0$1.dot(_v2$2),ce=_v1$3.dot(_v1$3),fe=_v1$3.dot(_v2$2),me=oe*ce-se*se;if(me===0)return ie.set(0,0,0),null;const pe=1/me,ge=(ce*le-se*fe)*pe,ye=(oe*fe-se*le)*pe;return ie.set(1-ge-ye,ye,ge)}static containsPoint(_,K,te,ne){return this.getBarycoord(_,K,te,ne,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(_,K,te,ne,ie,oe,se,le){return this.getBarycoord(_,K,te,ne,_v3$2)===null?(le.x=0,le.y=0,"z"in le&&(le.z=0),"w"in le&&(le.w=0),null):(le.setScalar(0),le.addScaledVector(ie,_v3$2.x),le.addScaledVector(oe,_v3$2.y),le.addScaledVector(se,_v3$2.z),le)}static getInterpolatedAttribute(_,K,te,ne,ie,oe){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(_,K),_v41.fromBufferAttribute(_,te),_v42.fromBufferAttribute(_,ne),oe.setScalar(0),oe.addScaledVector(_v40,ie.x),oe.addScaledVector(_v41,ie.y),oe.addScaledVector(_v42,ie.z),oe}static isFrontFacing(_,K,te,ne){return _v0$1.subVectors(te,K),_v1$3.subVectors(_,K),_v0$1.cross(_v1$3).dot(ne)<0}set(_,K,te){return this.a.copy(_),this.b.copy(K),this.c.copy(te),this}setFromPointsAndIndices(_,K,te,ne){return this.a.copy(_[K]),this.b.copy(_[te]),this.c.copy(_[ne]),this}setFromAttributeAndIndices(_,K,te,ne){return this.a.fromBufferAttribute(_,K),this.b.fromBufferAttribute(_,te),this.c.fromBufferAttribute(_,ne),this}clone(){return new this.constructor().copy(this)}copy(_){return this.a.copy(_.a),this.b.copy(_.b),this.c.copy(_.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(_){return _.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(_){return Triangle.getNormal(this.a,this.b,this.c,_)}getPlane(_){return _.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(_,K){return Triangle.getBarycoord(_,this.a,this.b,this.c,K)}getInterpolation(_,K,te,ne,ie){return Triangle.getInterpolation(_,this.a,this.b,this.c,K,te,ne,ie)}containsPoint(_){return Triangle.containsPoint(_,this.a,this.b,this.c)}isFrontFacing(_){return Triangle.isFrontFacing(this.a,this.b,this.c,_)}intersectsBox(_){return _.intersectsTriangle(this)}closestPointToPoint(_,K){const te=this.a,ne=this.b,ie=this.c;let oe,se;_vab.subVectors(ne,te),_vac.subVectors(ie,te),_vap.subVectors(_,te);const le=_vab.dot(_vap),ce=_vac.dot(_vap);if(le<=0&&ce<=0)return K.copy(te);_vbp.subVectors(_,ne);const fe=_vab.dot(_vbp),me=_vac.dot(_vbp);if(fe>=0&&me<=fe)return K.copy(ne);const pe=le*me-fe*ce;if(pe<=0&&le>=0&&fe<=0)return oe=le/(le-fe),K.copy(te).addScaledVector(_vab,oe);_vcp.subVectors(_,ie);const ge=_vab.dot(_vcp),ye=_vac.dot(_vcp);if(ye>=0&&ge<=ye)return K.copy(ie);const Ee=ge*ce-le*ye;if(Ee<=0&&ce>=0&&ye<=0)return se=ce/(ce-ye),K.copy(te).addScaledVector(_vac,se);const _e=fe*ye-ge*me;if(_e<=0&&me-fe>=0&&ge-ye>=0)return _vbc.subVectors(ie,ne),se=(me-fe)/(me-fe+(ge-ye)),K.copy(ne).addScaledVector(_vbc,se);const Se=1/(_e+Ee+pe);return oe=Ee*Se,se=pe*Se,K.copy(te).addScaledVector(_vab,oe).addScaledVector(_vac,se)}equals(_){return _.a.equals(this.a)&&_.b.equals(this.b)&&_.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(Z,_,K){return K<0&&(K+=1),K>1&&(K-=1),K<1/6?Z+(_-Z)*6*K:K<1/2?_:K<2/3?Z+(_-Z)*6*(2/3-K):Z}let Color$1=class{constructor(_,K,te){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(_,K,te)}set(_,K,te){if(K===void 0&&te===void 0){const ne=_;ne&&ne.isColor?this.copy(ne):typeof ne=="number"?this.setHex(ne):typeof ne=="string"&&this.setStyle(ne)}else this.setRGB(_,K,te);return this}setScalar(_){return this.r=_,this.g=_,this.b=_,this}setHex(_,K=SRGBColorSpace){return _=Math.floor(_),this.r=(_>>16&255)/255,this.g=(_>>8&255)/255,this.b=(_&255)/255,ColorManagement.toWorkingColorSpace(this,K),this}setRGB(_,K,te,ne=ColorManagement.workingColorSpace){return this.r=_,this.g=K,this.b=te,ColorManagement.toWorkingColorSpace(this,ne),this}setHSL(_,K,te,ne=ColorManagement.workingColorSpace){if(_=euclideanModulo(_,1),K=clamp$3(K,0,1),te=clamp$3(te,0,1),K===0)this.r=this.g=this.b=te;else{const ie=te<=.5?te*(1+K):te+K-te*K,oe=2*te-ie;this.r=hue2rgb(oe,ie,_+1/3),this.g=hue2rgb(oe,ie,_),this.b=hue2rgb(oe,ie,_-1/3)}return ColorManagement.toWorkingColorSpace(this,ne),this}setStyle(_,K=SRGBColorSpace){function te(ie){ie!==void 0&&parseFloat(ie)<1&&console.warn("THREE.Color: Alpha component of "+_+" will be ignored.")}let ne;if(ne=/^(\w+)\(([^\)]*)\)/.exec(_)){let ie;const oe=ne[1],se=ne[2];switch(oe){case"rgb":case"rgba":if(ie=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(se))return te(ie[4]),this.setRGB(Math.min(255,parseInt(ie[1],10))/255,Math.min(255,parseInt(ie[2],10))/255,Math.min(255,parseInt(ie[3],10))/255,K);if(ie=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(se))return te(ie[4]),this.setRGB(Math.min(100,parseInt(ie[1],10))/100,Math.min(100,parseInt(ie[2],10))/100,Math.min(100,parseInt(ie[3],10))/100,K);break;case"hsl":case"hsla":if(ie=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(se))return te(ie[4]),this.setHSL(parseFloat(ie[1])/360,parseFloat(ie[2])/100,parseFloat(ie[3])/100,K);break;default:console.warn("THREE.Color: Unknown color model "+_)}}else if(ne=/^\#([A-Fa-f\d]+)$/.exec(_)){const ie=ne[1],oe=ie.length;if(oe===3)return this.setRGB(parseInt(ie.charAt(0),16)/15,parseInt(ie.charAt(1),16)/15,parseInt(ie.charAt(2),16)/15,K);if(oe===6)return this.setHex(parseInt(ie,16),K);console.warn("THREE.Color: Invalid hex color "+_)}else if(_&&_.length>0)return this.setColorName(_,K);return this}setColorName(_,K=SRGBColorSpace){const te=_colorKeywords[_.toLowerCase()];return te!==void 0?this.setHex(te,K):console.warn("THREE.Color: Unknown color "+_),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(_){return this.r=_.r,this.g=_.g,this.b=_.b,this}copySRGBToLinear(_){return this.r=SRGBToLinear(_.r),this.g=SRGBToLinear(_.g),this.b=SRGBToLinear(_.b),this}copyLinearToSRGB(_){return this.r=LinearToSRGB(_.r),this.g=LinearToSRGB(_.g),this.b=LinearToSRGB(_.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(_=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),_),Math.round(clamp$3(_color.r*255,0,255))*65536+Math.round(clamp$3(_color.g*255,0,255))*256+Math.round(clamp$3(_color.b*255,0,255))}getHexString(_=SRGBColorSpace){return("000000"+this.getHex(_).toString(16)).slice(-6)}getHSL(_,K=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),K);const te=_color.r,ne=_color.g,ie=_color.b,oe=Math.max(te,ne,ie),se=Math.min(te,ne,ie);let le,ce;const fe=(se+oe)/2;if(se===oe)le=0,ce=0;else{const me=oe-se;switch(ce=fe<=.5?me/(oe+se):me/(2-oe-se),oe){case te:le=(ne-ie)/me+(ne<ie?6:0);break;case ne:le=(ie-te)/me+2;break;case ie:le=(te-ne)/me+4;break}le/=6}return _.h=le,_.s=ce,_.l=fe,_}getRGB(_,K=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),K),_.r=_color.r,_.g=_color.g,_.b=_color.b,_}getStyle(_=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),_);const K=_color.r,te=_color.g,ne=_color.b;return _!==SRGBColorSpace?`color(${_} ${K.toFixed(3)} ${te.toFixed(3)} ${ne.toFixed(3)})`:`rgb(${Math.round(K*255)},${Math.round(te*255)},${Math.round(ne*255)})`}offsetHSL(_,K,te){return this.getHSL(_hslA),this.setHSL(_hslA.h+_,_hslA.s+K,_hslA.l+te)}add(_){return this.r+=_.r,this.g+=_.g,this.b+=_.b,this}addColors(_,K){return this.r=_.r+K.r,this.g=_.g+K.g,this.b=_.b+K.b,this}addScalar(_){return this.r+=_,this.g+=_,this.b+=_,this}sub(_){return this.r=Math.max(0,this.r-_.r),this.g=Math.max(0,this.g-_.g),this.b=Math.max(0,this.b-_.b),this}multiply(_){return this.r*=_.r,this.g*=_.g,this.b*=_.b,this}multiplyScalar(_){return this.r*=_,this.g*=_,this.b*=_,this}lerp(_,K){return this.r+=(_.r-this.r)*K,this.g+=(_.g-this.g)*K,this.b+=(_.b-this.b)*K,this}lerpColors(_,K,te){return this.r=_.r+(K.r-_.r)*te,this.g=_.g+(K.g-_.g)*te,this.b=_.b+(K.b-_.b)*te,this}lerpHSL(_,K){this.getHSL(_hslA),_.getHSL(_hslB);const te=lerp(_hslA.h,_hslB.h,K),ne=lerp(_hslA.s,_hslB.s,K),ie=lerp(_hslA.l,_hslB.l,K);return this.setHSL(te,ne,ie),this}setFromVector3(_){return this.r=_.x,this.g=_.y,this.b=_.z,this}applyMatrix3(_){const K=this.r,te=this.g,ne=this.b,ie=_.elements;return this.r=ie[0]*K+ie[3]*te+ie[6]*ne,this.g=ie[1]*K+ie[4]*te+ie[7]*ne,this.b=ie[2]*K+ie[5]*te+ie[8]*ne,this}equals(_){return _.r===this.r&&_.g===this.g&&_.b===this.b}fromArray(_,K=0){return this.r=_[K],this.g=_[K+1],this.b=_[K+2],this}toArray(_=[],K=0){return _[K]=this.r,_[K+1]=this.g,_[K+2]=this.b,_}fromBufferAttribute(_,K){return this.r=_.getX(K),this.g=_.getY(K),this.b=_.getZ(K),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(_){this._alphaTest>0!=_>0&&this.version++,this._alphaTest=_}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(_){if(_!==void 0)for(const K in _){const te=_[K];if(te===void 0){console.warn(`THREE.Material: parameter '${K}' has value of undefined.`);continue}const ne=this[K];if(ne===void 0){console.warn(`THREE.Material: '${K}' is not a property of THREE.${this.type}.`);continue}ne&&ne.isColor?ne.set(te):ne&&ne.isVector3&&te&&te.isVector3?ne.copy(te):this[K]=te}}toJSON(_){const K=_===void 0||typeof _=="string";K&&(_={textures:{},images:{}});const te={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};te.uuid=this.uuid,te.type=this.type,this.name!==""&&(te.name=this.name),this.color&&this.color.isColor&&(te.color=this.color.getHex()),this.roughness!==void 0&&(te.roughness=this.roughness),this.metalness!==void 0&&(te.metalness=this.metalness),this.sheen!==void 0&&(te.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(te.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(te.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(te.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(te.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(te.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(te.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(te.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(te.shininess=this.shininess),this.clearcoat!==void 0&&(te.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(te.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(te.clearcoatMap=this.clearcoatMap.toJSON(_).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(te.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(_).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(te.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(_).uuid,te.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(te.dispersion=this.dispersion),this.iridescence!==void 0&&(te.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(te.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(te.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(te.iridescenceMap=this.iridescenceMap.toJSON(_).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(te.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(_).uuid),this.anisotropy!==void 0&&(te.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(te.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(te.anisotropyMap=this.anisotropyMap.toJSON(_).uuid),this.map&&this.map.isTexture&&(te.map=this.map.toJSON(_).uuid),this.matcap&&this.matcap.isTexture&&(te.matcap=this.matcap.toJSON(_).uuid),this.alphaMap&&this.alphaMap.isTexture&&(te.alphaMap=this.alphaMap.toJSON(_).uuid),this.lightMap&&this.lightMap.isTexture&&(te.lightMap=this.lightMap.toJSON(_).uuid,te.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(te.aoMap=this.aoMap.toJSON(_).uuid,te.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(te.bumpMap=this.bumpMap.toJSON(_).uuid,te.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(te.normalMap=this.normalMap.toJSON(_).uuid,te.normalMapType=this.normalMapType,te.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(te.displacementMap=this.displacementMap.toJSON(_).uuid,te.displacementScale=this.displacementScale,te.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(te.roughnessMap=this.roughnessMap.toJSON(_).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(te.metalnessMap=this.metalnessMap.toJSON(_).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(te.emissiveMap=this.emissiveMap.toJSON(_).uuid),this.specularMap&&this.specularMap.isTexture&&(te.specularMap=this.specularMap.toJSON(_).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(te.specularIntensityMap=this.specularIntensityMap.toJSON(_).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(te.specularColorMap=this.specularColorMap.toJSON(_).uuid),this.envMap&&this.envMap.isTexture&&(te.envMap=this.envMap.toJSON(_).uuid,this.combine!==void 0&&(te.combine=this.combine)),this.envMapRotation!==void 0&&(te.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(te.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(te.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(te.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(te.gradientMap=this.gradientMap.toJSON(_).uuid),this.transmission!==void 0&&(te.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(te.transmissionMap=this.transmissionMap.toJSON(_).uuid),this.thickness!==void 0&&(te.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(te.thicknessMap=this.thicknessMap.toJSON(_).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(te.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(te.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(te.size=this.size),this.shadowSide!==null&&(te.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(te.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(te.blending=this.blending),this.side!==FrontSide&&(te.side=this.side),this.vertexColors===!0&&(te.vertexColors=!0),this.opacity<1&&(te.opacity=this.opacity),this.transparent===!0&&(te.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(te.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(te.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(te.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(te.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(te.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(te.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(te.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(te.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(te.depthFunc=this.depthFunc),this.depthTest===!1&&(te.depthTest=this.depthTest),this.depthWrite===!1&&(te.depthWrite=this.depthWrite),this.colorWrite===!1&&(te.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(te.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(te.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(te.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(te.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(te.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(te.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(te.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(te.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(te.rotation=this.rotation),this.polygonOffset===!0&&(te.polygonOffset=!0),this.polygonOffsetFactor!==0&&(te.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(te.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(te.linewidth=this.linewidth),this.dashSize!==void 0&&(te.dashSize=this.dashSize),this.gapSize!==void 0&&(te.gapSize=this.gapSize),this.scale!==void 0&&(te.scale=this.scale),this.dithering===!0&&(te.dithering=!0),this.alphaTest>0&&(te.alphaTest=this.alphaTest),this.alphaHash===!0&&(te.alphaHash=!0),this.alphaToCoverage===!0&&(te.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(te.premultipliedAlpha=!0),this.forceSinglePass===!0&&(te.forceSinglePass=!0),this.wireframe===!0&&(te.wireframe=!0),this.wireframeLinewidth>1&&(te.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(te.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(te.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(te.flatShading=!0),this.visible===!1&&(te.visible=!1),this.toneMapped===!1&&(te.toneMapped=!1),this.fog===!1&&(te.fog=!1),Object.keys(this.userData).length>0&&(te.userData=this.userData);function ne(ie){const oe=[];for(const se in ie){const le=ie[se];delete le.metadata,oe.push(le)}return oe}if(K){const ie=ne(_.textures),oe=ne(_.images);ie.length>0&&(te.textures=ie),oe.length>0&&(te.images=oe)}return te}clone(){return new this.constructor().copy(this)}copy(_){this.name=_.name,this.blending=_.blending,this.side=_.side,this.vertexColors=_.vertexColors,this.opacity=_.opacity,this.transparent=_.transparent,this.blendSrc=_.blendSrc,this.blendDst=_.blendDst,this.blendEquation=_.blendEquation,this.blendSrcAlpha=_.blendSrcAlpha,this.blendDstAlpha=_.blendDstAlpha,this.blendEquationAlpha=_.blendEquationAlpha,this.blendColor.copy(_.blendColor),this.blendAlpha=_.blendAlpha,this.depthFunc=_.depthFunc,this.depthTest=_.depthTest,this.depthWrite=_.depthWrite,this.stencilWriteMask=_.stencilWriteMask,this.stencilFunc=_.stencilFunc,this.stencilRef=_.stencilRef,this.stencilFuncMask=_.stencilFuncMask,this.stencilFail=_.stencilFail,this.stencilZFail=_.stencilZFail,this.stencilZPass=_.stencilZPass,this.stencilWrite=_.stencilWrite;const K=_.clippingPlanes;let te=null;if(K!==null){const ne=K.length;te=new Array(ne);for(let ie=0;ie!==ne;++ie)te[ie]=K[ie].clone()}return this.clippingPlanes=te,this.clipIntersection=_.clipIntersection,this.clipShadows=_.clipShadows,this.shadowSide=_.shadowSide,this.colorWrite=_.colorWrite,this.precision=_.precision,this.polygonOffset=_.polygonOffset,this.polygonOffsetFactor=_.polygonOffsetFactor,this.polygonOffsetUnits=_.polygonOffsetUnits,this.dithering=_.dithering,this.alphaTest=_.alphaTest,this.alphaHash=_.alphaHash,this.alphaToCoverage=_.alphaToCoverage,this.premultipliedAlpha=_.premultipliedAlpha,this.forceSinglePass=_.forceSinglePass,this.visible=_.visible,this.toneMapped=_.toneMapped,this.userData=JSON.parse(JSON.stringify(_.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(_){_===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class MeshBasicMaterial extends Material{constructor(_){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.fog=_.fog,this}}const _tables=_generateTables();function _generateTables(){const Z=new ArrayBuffer(4),_=new Float32Array(Z),K=new Uint32Array(Z),te=new Uint32Array(512),ne=new Uint32Array(512);for(let le=0;le<256;++le){const ce=le-127;ce<-27?(te[le]=0,te[le|256]=32768,ne[le]=24,ne[le|256]=24):ce<-14?(te[le]=1024>>-ce-14,te[le|256]=1024>>-ce-14|32768,ne[le]=-ce-1,ne[le|256]=-ce-1):ce<=15?(te[le]=ce+15<<10,te[le|256]=ce+15<<10|32768,ne[le]=13,ne[le|256]=13):ce<128?(te[le]=31744,te[le|256]=64512,ne[le]=24,ne[le|256]=24):(te[le]=31744,te[le|256]=64512,ne[le]=13,ne[le|256]=13)}const ie=new Uint32Array(2048),oe=new Uint32Array(64),se=new Uint32Array(64);for(let le=1;le<1024;++le){let ce=le<<13,fe=0;for(;!(ce&8388608);)ce<<=1,fe-=8388608;ce&=-8388609,fe+=947912704,ie[le]=ce|fe}for(let le=1024;le<2048;++le)ie[le]=939524096+(le-1024<<13);for(let le=1;le<31;++le)oe[le]=le<<23;oe[31]=1199570944,oe[32]=2147483648;for(let le=33;le<63;++le)oe[le]=2147483648+(le-32<<23);oe[63]=3347054592;for(let le=1;le<64;++le)le!==32&&(se[le]=1024);return{floatView:_,uint32View:K,baseTable:te,shiftTable:ne,mantissaTable:ie,exponentTable:oe,offsetTable:se}}function toHalfFloat(Z){Math.abs(Z)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),Z=clamp$3(Z,-65504,65504),_tables.floatView[0]=Z;const _=_tables.uint32View[0],K=_>>23&511;return _tables.baseTable[K]+((_&8388607)>>_tables.shiftTable[K])}function fromHalfFloat(Z){const _=Z>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[_]+(Z&1023)]+_tables.exponentTable[_],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(_,K,te=!1){if(Array.isArray(_))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=_,this.itemSize=K,this.count=_!==void 0?_.length/K:0,this.normalized=te,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(_){_===!0&&this.version++}setUsage(_){return this.usage=_,this}addUpdateRange(_,K){this.updateRanges.push({start:_,count:K})}clearUpdateRanges(){this.updateRanges.length=0}copy(_){return this.name=_.name,this.array=new _.array.constructor(_.array),this.itemSize=_.itemSize,this.count=_.count,this.normalized=_.normalized,this.usage=_.usage,this.gpuType=_.gpuType,this}copyAt(_,K,te){_*=this.itemSize,te*=K.itemSize;for(let ne=0,ie=this.itemSize;ne<ie;ne++)this.array[_+ne]=K.array[te+ne];return this}copyArray(_){return this.array.set(_),this}applyMatrix3(_){if(this.itemSize===2)for(let K=0,te=this.count;K<te;K++)_vector2$1.fromBufferAttribute(this,K),_vector2$1.applyMatrix3(_),this.setXY(K,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let K=0,te=this.count;K<te;K++)_vector$9.fromBufferAttribute(this,K),_vector$9.applyMatrix3(_),this.setXYZ(K,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(_){for(let K=0,te=this.count;K<te;K++)_vector$9.fromBufferAttribute(this,K),_vector$9.applyMatrix4(_),this.setXYZ(K,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(_){for(let K=0,te=this.count;K<te;K++)_vector$9.fromBufferAttribute(this,K),_vector$9.applyNormalMatrix(_),this.setXYZ(K,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(_){for(let K=0,te=this.count;K<te;K++)_vector$9.fromBufferAttribute(this,K),_vector$9.transformDirection(_),this.setXYZ(K,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(_,K=0){return this.array.set(_,K),this}getComponent(_,K){let te=this.array[_*this.itemSize+K];return this.normalized&&(te=denormalize(te,this.array)),te}setComponent(_,K,te){return this.normalized&&(te=normalize$5(te,this.array)),this.array[_*this.itemSize+K]=te,this}getX(_){let K=this.array[_*this.itemSize];return this.normalized&&(K=denormalize(K,this.array)),K}setX(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize]=K,this}getY(_){let K=this.array[_*this.itemSize+1];return this.normalized&&(K=denormalize(K,this.array)),K}setY(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+1]=K,this}getZ(_){let K=this.array[_*this.itemSize+2];return this.normalized&&(K=denormalize(K,this.array)),K}setZ(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+2]=K,this}getW(_){let K=this.array[_*this.itemSize+3];return this.normalized&&(K=denormalize(K,this.array)),K}setW(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+3]=K,this}setXY(_,K,te){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array)),this.array[_+0]=K,this.array[_+1]=te,this}setXYZ(_,K,te,ne){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array)),this.array[_+0]=K,this.array[_+1]=te,this.array[_+2]=ne,this}setXYZW(_,K,te,ne,ie){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array),ie=normalize$5(ie,this.array)),this.array[_+0]=K,this.array[_+1]=te,this.array[_+2]=ne,this.array[_+3]=ie,this}onUpload(_){return this.onUploadCallback=_,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const _={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(_.name=this.name),this.usage!==StaticDrawUsage&&(_.usage=this.usage),_}}class Int8BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Int8Array(_),K,te)}}class Uint8BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint8Array(_),K,te)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint8ClampedArray(_),K,te)}}class Int16BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Int16Array(_),K,te)}}class Uint16BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint16Array(_),K,te)}}class Int32BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Int32Array(_),K,te)}}class Uint32BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint32Array(_),K,te)}}class Float16BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Uint16Array(_),K,te),this.isFloat16BufferAttribute=!0}getX(_){let K=fromHalfFloat(this.array[_*this.itemSize]);return this.normalized&&(K=denormalize(K,this.array)),K}setX(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize]=toHalfFloat(K),this}getY(_){let K=fromHalfFloat(this.array[_*this.itemSize+1]);return this.normalized&&(K=denormalize(K,this.array)),K}setY(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+1]=toHalfFloat(K),this}getZ(_){let K=fromHalfFloat(this.array[_*this.itemSize+2]);return this.normalized&&(K=denormalize(K,this.array)),K}setZ(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+2]=toHalfFloat(K),this}getW(_){let K=fromHalfFloat(this.array[_*this.itemSize+3]);return this.normalized&&(K=denormalize(K,this.array)),K}setW(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.array[_*this.itemSize+3]=toHalfFloat(K),this}setXY(_,K,te){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array)),this.array[_+0]=toHalfFloat(K),this.array[_+1]=toHalfFloat(te),this}setXYZ(_,K,te,ne){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array)),this.array[_+0]=toHalfFloat(K),this.array[_+1]=toHalfFloat(te),this.array[_+2]=toHalfFloat(ne),this}setXYZW(_,K,te,ne,ie){return _*=this.itemSize,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array),ie=normalize$5(ie,this.array)),this.array[_+0]=toHalfFloat(K),this.array[_+1]=toHalfFloat(te),this.array[_+2]=toHalfFloat(ne),this.array[_+3]=toHalfFloat(ie),this}}class Float32BufferAttribute extends BufferAttribute{constructor(_,K,te){super(new Float32Array(_),K,te)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(_){return Array.isArray(_)?this.index=new(arrayNeedsUint32(_)?Uint32BufferAttribute:Uint16BufferAttribute)(_,1):this.index=_,this}setIndirect(_){return this.indirect=_,this}getIndirect(){return this.indirect}getAttribute(_){return this.attributes[_]}setAttribute(_,K){return this.attributes[_]=K,this}deleteAttribute(_){return delete this.attributes[_],this}hasAttribute(_){return this.attributes[_]!==void 0}addGroup(_,K,te=0){this.groups.push({start:_,count:K,materialIndex:te})}clearGroups(){this.groups=[]}setDrawRange(_,K){this.drawRange.start=_,this.drawRange.count=K}applyMatrix4(_){const K=this.attributes.position;K!==void 0&&(K.applyMatrix4(_),K.needsUpdate=!0);const te=this.attributes.normal;if(te!==void 0){const ie=new Matrix3().getNormalMatrix(_);te.applyNormalMatrix(ie),te.needsUpdate=!0}const ne=this.attributes.tangent;return ne!==void 0&&(ne.transformDirection(_),ne.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(_){return _m1$3.makeRotationFromQuaternion(_),this.applyMatrix4(_m1$3),this}rotateX(_){return _m1$3.makeRotationX(_),this.applyMatrix4(_m1$3),this}rotateY(_){return _m1$3.makeRotationY(_),this.applyMatrix4(_m1$3),this}rotateZ(_){return _m1$3.makeRotationZ(_),this.applyMatrix4(_m1$3),this}translate(_,K,te){return _m1$3.makeTranslation(_,K,te),this.applyMatrix4(_m1$3),this}scale(_,K,te){return _m1$3.makeScale(_,K,te),this.applyMatrix4(_m1$3),this}lookAt(_){return _obj.lookAt(_),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(_){const K=this.getAttribute("position");if(K===void 0){const te=[];for(let ne=0,ie=_.length;ne<ie;ne++){const oe=_[ne];te.push(oe.x,oe.y,oe.z||0)}this.setAttribute("position",new Float32BufferAttribute(te,3))}else{const te=Math.min(_.length,K.count);for(let ne=0;ne<te;ne++){const ie=_[ne];K.setXYZ(ne,ie.x,ie.y,ie.z||0)}_.length>K.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),K.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _=this.attributes.position,K=this.morphAttributes.position;if(_&&_.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(_!==void 0){if(this.boundingBox.setFromBufferAttribute(_),K)for(let te=0,ne=K.length;te<ne;te++){const ie=K[te];_box$2.setFromBufferAttribute(ie),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _=this.attributes.position,K=this.morphAttributes.position;if(_&&_.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(_){const te=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(_),K)for(let ie=0,oe=K.length;ie<oe;ie++){const se=K[ie];_boxMorphTargets.setFromBufferAttribute(se),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(te);let ne=0;for(let ie=0,oe=_.count;ie<oe;ie++)_vector$8.fromBufferAttribute(_,ie),ne=Math.max(ne,te.distanceToSquared(_vector$8));if(K)for(let ie=0,oe=K.length;ie<oe;ie++){const se=K[ie],le=this.morphTargetsRelative;for(let ce=0,fe=se.count;ce<fe;ce++)_vector$8.fromBufferAttribute(se,ce),le&&(_offset.fromBufferAttribute(_,ce),_vector$8.add(_offset)),ne=Math.max(ne,te.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(ne),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const _=this.index,K=this.attributes;if(_===null||K.position===void 0||K.normal===void 0||K.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const te=K.position,ne=K.normal,ie=K.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*te.count),4));const oe=this.getAttribute("tangent"),se=[],le=[];for(let ze=0;ze<te.count;ze++)se[ze]=new Vector3,le[ze]=new Vector3;const ce=new Vector3,fe=new Vector3,me=new Vector3,pe=new Vector2,ge=new Vector2,ye=new Vector2,Ee=new Vector3,_e=new Vector3;function Se(ze,Ue,Oe){ce.fromBufferAttribute(te,ze),fe.fromBufferAttribute(te,Ue),me.fromBufferAttribute(te,Oe),pe.fromBufferAttribute(ie,ze),ge.fromBufferAttribute(ie,Ue),ye.fromBufferAttribute(ie,Oe),fe.sub(ce),me.sub(ce),ge.sub(pe),ye.sub(pe);const Ve=1/(ge.x*ye.y-ye.x*ge.y);isFinite(Ve)&&(Ee.copy(fe).multiplyScalar(ye.y).addScaledVector(me,-ge.y).multiplyScalar(Ve),_e.copy(me).multiplyScalar(ge.x).addScaledVector(fe,-ye.x).multiplyScalar(Ve),se[ze].add(Ee),se[Ue].add(Ee),se[Oe].add(Ee),le[ze].add(_e),le[Ue].add(_e),le[Oe].add(_e))}let Re=this.groups;Re.length===0&&(Re=[{start:0,count:_.count}]);for(let ze=0,Ue=Re.length;ze<Ue;++ze){const Oe=Re[ze],Ve=Oe.start,Ye=Oe.count;for(let Ke=Ve,ot=Ve+Ye;Ke<ot;Ke+=3)Se(_.getX(Ke+0),_.getX(Ke+1),_.getX(Ke+2))}const Te=new Vector3,Ae=new Vector3,Fe=new Vector3,$e=new Vector3;function ke(ze){Fe.fromBufferAttribute(ne,ze),$e.copy(Fe);const Ue=se[ze];Te.copy(Ue),Te.sub(Fe.multiplyScalar(Fe.dot(Ue))).normalize(),Ae.crossVectors($e,Ue);const Ve=Ae.dot(le[ze])<0?-1:1;oe.setXYZW(ze,Te.x,Te.y,Te.z,Ve)}for(let ze=0,Ue=Re.length;ze<Ue;++ze){const Oe=Re[ze],Ve=Oe.start,Ye=Oe.count;for(let Ke=Ve,ot=Ve+Ye;Ke<ot;Ke+=3)ke(_.getX(Ke+0)),ke(_.getX(Ke+1)),ke(_.getX(Ke+2))}}computeVertexNormals(){const _=this.index,K=this.getAttribute("position");if(K!==void 0){let te=this.getAttribute("normal");if(te===void 0)te=new BufferAttribute(new Float32Array(K.count*3),3),this.setAttribute("normal",te);else for(let pe=0,ge=te.count;pe<ge;pe++)te.setXYZ(pe,0,0,0);const ne=new Vector3,ie=new Vector3,oe=new Vector3,se=new Vector3,le=new Vector3,ce=new Vector3,fe=new Vector3,me=new Vector3;if(_)for(let pe=0,ge=_.count;pe<ge;pe+=3){const ye=_.getX(pe+0),Ee=_.getX(pe+1),_e=_.getX(pe+2);ne.fromBufferAttribute(K,ye),ie.fromBufferAttribute(K,Ee),oe.fromBufferAttribute(K,_e),fe.subVectors(oe,ie),me.subVectors(ne,ie),fe.cross(me),se.fromBufferAttribute(te,ye),le.fromBufferAttribute(te,Ee),ce.fromBufferAttribute(te,_e),se.add(fe),le.add(fe),ce.add(fe),te.setXYZ(ye,se.x,se.y,se.z),te.setXYZ(Ee,le.x,le.y,le.z),te.setXYZ(_e,ce.x,ce.y,ce.z)}else for(let pe=0,ge=K.count;pe<ge;pe+=3)ne.fromBufferAttribute(K,pe+0),ie.fromBufferAttribute(K,pe+1),oe.fromBufferAttribute(K,pe+2),fe.subVectors(oe,ie),me.subVectors(ne,ie),fe.cross(me),te.setXYZ(pe+0,fe.x,fe.y,fe.z),te.setXYZ(pe+1,fe.x,fe.y,fe.z),te.setXYZ(pe+2,fe.x,fe.y,fe.z);this.normalizeNormals(),te.needsUpdate=!0}}normalizeNormals(){const _=this.attributes.normal;for(let K=0,te=_.count;K<te;K++)_vector$8.fromBufferAttribute(_,K),_vector$8.normalize(),_.setXYZ(K,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function _(se,le){const ce=se.array,fe=se.itemSize,me=se.normalized,pe=new ce.constructor(le.length*fe);let ge=0,ye=0;for(let Ee=0,_e=le.length;Ee<_e;Ee++){se.isInterleavedBufferAttribute?ge=le[Ee]*se.data.stride+se.offset:ge=le[Ee]*fe;for(let Se=0;Se<fe;Se++)pe[ye++]=ce[ge++]}return new BufferAttribute(pe,fe,me)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const K=new BufferGeometry,te=this.index.array,ne=this.attributes;for(const se in ne){const le=ne[se],ce=_(le,te);K.setAttribute(se,ce)}const ie=this.morphAttributes;for(const se in ie){const le=[],ce=ie[se];for(let fe=0,me=ce.length;fe<me;fe++){const pe=ce[fe],ge=_(pe,te);le.push(ge)}K.morphAttributes[se]=le}K.morphTargetsRelative=this.morphTargetsRelative;const oe=this.groups;for(let se=0,le=oe.length;se<le;se++){const ce=oe[se];K.addGroup(ce.start,ce.count,ce.materialIndex)}return K}toJSON(){const _={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(_.uuid=this.uuid,_.type=this.type,this.name!==""&&(_.name=this.name),Object.keys(this.userData).length>0&&(_.userData=this.userData),this.parameters!==void 0){const le=this.parameters;for(const ce in le)le[ce]!==void 0&&(_[ce]=le[ce]);return _}_.data={attributes:{}};const K=this.index;K!==null&&(_.data.index={type:K.array.constructor.name,array:Array.prototype.slice.call(K.array)});const te=this.attributes;for(const le in te){const ce=te[le];_.data.attributes[le]=ce.toJSON(_.data)}const ne={};let ie=!1;for(const le in this.morphAttributes){const ce=this.morphAttributes[le],fe=[];for(let me=0,pe=ce.length;me<pe;me++){const ge=ce[me];fe.push(ge.toJSON(_.data))}fe.length>0&&(ne[le]=fe,ie=!0)}ie&&(_.data.morphAttributes=ne,_.data.morphTargetsRelative=this.morphTargetsRelative);const oe=this.groups;oe.length>0&&(_.data.groups=JSON.parse(JSON.stringify(oe)));const se=this.boundingSphere;return se!==null&&(_.data.boundingSphere={center:se.center.toArray(),radius:se.radius}),_}clone(){return new this.constructor().copy(this)}copy(_){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const K={};this.name=_.name;const te=_.index;te!==null&&this.setIndex(te.clone(K));const ne=_.attributes;for(const ce in ne){const fe=ne[ce];this.setAttribute(ce,fe.clone(K))}const ie=_.morphAttributes;for(const ce in ie){const fe=[],me=ie[ce];for(let pe=0,ge=me.length;pe<ge;pe++)fe.push(me[pe].clone(K));this.morphAttributes[ce]=fe}this.morphTargetsRelative=_.morphTargetsRelative;const oe=_.groups;for(let ce=0,fe=oe.length;ce<fe;ce++){const me=oe[ce];this.addGroup(me.start,me.count,me.materialIndex)}const se=_.boundingBox;se!==null&&(this.boundingBox=se.clone());const le=_.boundingSphere;return le!==null&&(this.boundingSphere=le.clone()),this.drawRange.start=_.drawRange.start,this.drawRange.count=_.drawRange.count,this.userData=_.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(_=new BufferGeometry,K=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=_,this.material=K,this.updateMorphTargets()}copy(_,K){return super.copy(_,K),_.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=_.morphTargetInfluences.slice()),_.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},_.morphTargetDictionary)),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}updateMorphTargets(){const K=this.geometry.morphAttributes,te=Object.keys(K);if(te.length>0){const ne=K[te[0]];if(ne!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ie=0,oe=ne.length;ie<oe;ie++){const se=ne[ie].name||String(ie);this.morphTargetInfluences.push(0),this.morphTargetDictionary[se]=ie}}}}getVertexPosition(_,K){const te=this.geometry,ne=te.attributes.position,ie=te.morphAttributes.position,oe=te.morphTargetsRelative;K.fromBufferAttribute(ne,_);const se=this.morphTargetInfluences;if(ie&&se){_morphA.set(0,0,0);for(let le=0,ce=ie.length;le<ce;le++){const fe=se[le],me=ie[le];fe!==0&&(_tempA.fromBufferAttribute(me,_),oe?_morphA.addScaledVector(_tempA,fe):_morphA.addScaledVector(_tempA.sub(K),fe))}K.add(_morphA)}return K}raycast(_,K){const te=this.geometry,ne=this.material,ie=this.matrixWorld;ne!==void 0&&(te.boundingSphere===null&&te.computeBoundingSphere(),_sphere$6.copy(te.boundingSphere),_sphere$6.applyMatrix4(ie),_ray$3.copy(_.ray).recast(_.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(_.far-_.near)**2))&&(_inverseMatrix$3.copy(ie).invert(),_ray$3.copy(_.ray).applyMatrix4(_inverseMatrix$3),!(te.boundingBox!==null&&_ray$3.intersectsBox(te.boundingBox)===!1)&&this._computeIntersections(_,K,_ray$3)))}_computeIntersections(_,K,te){let ne;const ie=this.geometry,oe=this.material,se=ie.index,le=ie.attributes.position,ce=ie.attributes.uv,fe=ie.attributes.uv1,me=ie.attributes.normal,pe=ie.groups,ge=ie.drawRange;if(se!==null)if(Array.isArray(oe))for(let ye=0,Ee=pe.length;ye<Ee;ye++){const _e=pe[ye],Se=oe[_e.materialIndex],Re=Math.max(_e.start,ge.start),Te=Math.min(se.count,Math.min(_e.start+_e.count,ge.start+ge.count));for(let Ae=Re,Fe=Te;Ae<Fe;Ae+=3){const $e=se.getX(Ae),ke=se.getX(Ae+1),ze=se.getX(Ae+2);ne=checkGeometryIntersection(this,Se,_,te,ce,fe,me,$e,ke,ze),ne&&(ne.faceIndex=Math.floor(Ae/3),ne.face.materialIndex=_e.materialIndex,K.push(ne))}}else{const ye=Math.max(0,ge.start),Ee=Math.min(se.count,ge.start+ge.count);for(let _e=ye,Se=Ee;_e<Se;_e+=3){const Re=se.getX(_e),Te=se.getX(_e+1),Ae=se.getX(_e+2);ne=checkGeometryIntersection(this,oe,_,te,ce,fe,me,Re,Te,Ae),ne&&(ne.faceIndex=Math.floor(_e/3),K.push(ne))}}else if(le!==void 0)if(Array.isArray(oe))for(let ye=0,Ee=pe.length;ye<Ee;ye++){const _e=pe[ye],Se=oe[_e.materialIndex],Re=Math.max(_e.start,ge.start),Te=Math.min(le.count,Math.min(_e.start+_e.count,ge.start+ge.count));for(let Ae=Re,Fe=Te;Ae<Fe;Ae+=3){const $e=Ae,ke=Ae+1,ze=Ae+2;ne=checkGeometryIntersection(this,Se,_,te,ce,fe,me,$e,ke,ze),ne&&(ne.faceIndex=Math.floor(Ae/3),ne.face.materialIndex=_e.materialIndex,K.push(ne))}}else{const ye=Math.max(0,ge.start),Ee=Math.min(le.count,ge.start+ge.count);for(let _e=ye,Se=Ee;_e<Se;_e+=3){const Re=_e,Te=_e+1,Ae=_e+2;ne=checkGeometryIntersection(this,oe,_,te,ce,fe,me,Re,Te,Ae),ne&&(ne.faceIndex=Math.floor(_e/3),K.push(ne))}}}}function checkIntersection$1(Z,_,K,te,ne,ie,oe,se){let le;if(_.side===BackSide?le=te.intersectTriangle(oe,ie,ne,!0,se):le=te.intersectTriangle(ne,ie,oe,_.side===FrontSide,se),le===null)return null;_intersectionPointWorld.copy(se),_intersectionPointWorld.applyMatrix4(Z.matrixWorld);const ce=K.ray.origin.distanceTo(_intersectionPointWorld);return ce<K.near||ce>K.far?null:{distance:ce,point:_intersectionPointWorld.clone(),object:Z}}function checkGeometryIntersection(Z,_,K,te,ne,ie,oe,se,le,ce){Z.getVertexPosition(se,_vA$1),Z.getVertexPosition(le,_vB$1),Z.getVertexPosition(ce,_vC$1);const fe=checkIntersection$1(Z,_,K,te,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(fe){const me=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,me),ne&&(fe.uv=Triangle.getInterpolatedAttribute(ne,se,le,ce,me,new Vector2)),ie&&(fe.uv1=Triangle.getInterpolatedAttribute(ie,se,le,ce,me,new Vector2)),oe&&(fe.normal=Triangle.getInterpolatedAttribute(oe,se,le,ce,me,new Vector3),fe.normal.dot(te.direction)>0&&fe.normal.multiplyScalar(-1));const pe={a:se,b:le,c:ce,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,pe.normal),fe.face=pe,fe.barycoord=me}return fe}class BoxGeometry extends BufferGeometry{constructor(_=1,K=1,te=1,ne=1,ie=1,oe=1){super(),this.type="BoxGeometry",this.parameters={width:_,height:K,depth:te,widthSegments:ne,heightSegments:ie,depthSegments:oe};const se=this;ne=Math.floor(ne),ie=Math.floor(ie),oe=Math.floor(oe);const le=[],ce=[],fe=[],me=[];let pe=0,ge=0;ye("z","y","x",-1,-1,te,K,_,oe,ie,0),ye("z","y","x",1,-1,te,K,-_,oe,ie,1),ye("x","z","y",1,1,_,te,K,ne,oe,2),ye("x","z","y",1,-1,_,te,-K,ne,oe,3),ye("x","y","z",1,-1,_,K,te,ne,ie,4),ye("x","y","z",-1,-1,_,K,-te,ne,ie,5),this.setIndex(le),this.setAttribute("position",new Float32BufferAttribute(ce,3)),this.setAttribute("normal",new Float32BufferAttribute(fe,3)),this.setAttribute("uv",new Float32BufferAttribute(me,2));function ye(Ee,_e,Se,Re,Te,Ae,Fe,$e,ke,ze,Ue){const Oe=Ae/ke,Ve=Fe/ze,Ye=Ae/2,Ke=Fe/2,ot=$e/2,ut=ke+1,ct=ze+1;let gt=0,je=0;const rt=new Vector3;for(let Qe=0;Qe<ct;Qe++){const qe=Qe*Ve-Ke;for(let lt=0;lt<ut;lt++){const Et=lt*Oe-Ye;rt[Ee]=Et*Re,rt[_e]=qe*Te,rt[Se]=ot,ce.push(rt.x,rt.y,rt.z),rt[Ee]=0,rt[_e]=0,rt[Se]=$e>0?1:-1,fe.push(rt.x,rt.y,rt.z),me.push(lt/ke),me.push(1-Qe/ze),gt+=1}}for(let Qe=0;Qe<ze;Qe++)for(let qe=0;qe<ke;qe++){const lt=pe+qe+ut*Qe,Et=pe+qe+ut*(Qe+1),ht=pe+(qe+1)+ut*(Qe+1),dt=pe+(qe+1)+ut*Qe;le.push(lt,Et,dt),le.push(Et,ht,dt),je+=6}se.addGroup(ge,je,Ue),ge+=je,pe+=gt}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new BoxGeometry(_.width,_.height,_.depth,_.widthSegments,_.heightSegments,_.depthSegments)}}function cloneUniforms(Z){const _={};for(const K in Z){_[K]={};for(const te in Z[K]){const ne=Z[K][te];ne&&(ne.isColor||ne.isMatrix3||ne.isMatrix4||ne.isVector2||ne.isVector3||ne.isVector4||ne.isTexture||ne.isQuaternion)?ne.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),_[K][te]=null):_[K][te]=ne.clone():Array.isArray(ne)?_[K][te]=ne.slice():_[K][te]=ne}}return _}function mergeUniforms(Z){const _={};for(let K=0;K<Z.length;K++){const te=cloneUniforms(Z[K]);for(const ne in te)_[ne]=te[ne]}return _}function cloneUniformsGroups(Z){const _=[];for(let K=0;K<Z.length;K++)_.push(Z[K].clone());return _}function getUnlitUniformColorSpace(Z){const _=Z.getRenderTarget();return _===null?Z.outputColorSpace:_.isXRRenderTarget===!0?_.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(_){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,_!==void 0&&this.setValues(_)}copy(_){return super.copy(_),this.fragmentShader=_.fragmentShader,this.vertexShader=_.vertexShader,this.uniforms=cloneUniforms(_.uniforms),this.uniformsGroups=cloneUniformsGroups(_.uniformsGroups),this.defines=Object.assign({},_.defines),this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.fog=_.fog,this.lights=_.lights,this.clipping=_.clipping,this.extensions=Object.assign({},_.extensions),this.glslVersion=_.glslVersion,this}toJSON(_){const K=super.toJSON(_);K.glslVersion=this.glslVersion,K.uniforms={};for(const ne in this.uniforms){const oe=this.uniforms[ne].value;oe&&oe.isTexture?K.uniforms[ne]={type:"t",value:oe.toJSON(_).uuid}:oe&&oe.isColor?K.uniforms[ne]={type:"c",value:oe.getHex()}:oe&&oe.isVector2?K.uniforms[ne]={type:"v2",value:oe.toArray()}:oe&&oe.isVector3?K.uniforms[ne]={type:"v3",value:oe.toArray()}:oe&&oe.isVector4?K.uniforms[ne]={type:"v4",value:oe.toArray()}:oe&&oe.isMatrix3?K.uniforms[ne]={type:"m3",value:oe.toArray()}:oe&&oe.isMatrix4?K.uniforms[ne]={type:"m4",value:oe.toArray()}:K.uniforms[ne]={value:oe}}Object.keys(this.defines).length>0&&(K.defines=this.defines),K.vertexShader=this.vertexShader,K.fragmentShader=this.fragmentShader,K.lights=this.lights,K.clipping=this.clipping;const te={};for(const ne in this.extensions)this.extensions[ne]===!0&&(te[ne]=!0);return Object.keys(te).length>0&&(K.extensions=te),K}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(_,K){return super.copy(_,K),this.matrixWorldInverse.copy(_.matrixWorldInverse),this.projectionMatrix.copy(_.projectionMatrix),this.projectionMatrixInverse.copy(_.projectionMatrixInverse),this.coordinateSystem=_.coordinateSystem,this}getWorldDirection(_){return super.getWorldDirection(_).negate()}updateMatrixWorld(_){super.updateMatrixWorld(_),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(_,K){super.updateWorldMatrix(_,K),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;let PerspectiveCamera$1=class extends Camera{constructor(_=50,K=1,te=.1,ne=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=_,this.zoom=1,this.near=te,this.far=ne,this.focus=10,this.aspect=K,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(_,K){return super.copy(_,K),this.fov=_.fov,this.zoom=_.zoom,this.near=_.near,this.far=_.far,this.focus=_.focus,this.aspect=_.aspect,this.view=_.view===null?null:Object.assign({},_.view),this.filmGauge=_.filmGauge,this.filmOffset=_.filmOffset,this}setFocalLength(_){const K=.5*this.getFilmHeight()/_;this.fov=RAD2DEG*2*Math.atan(K),this.updateProjectionMatrix()}getFocalLength(){const _=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/_}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(_,K,te){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),K.set(_v3$1.x,_v3$1.y).multiplyScalar(-_/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),te.set(_v3$1.x,_v3$1.y).multiplyScalar(-_/_v3$1.z)}getViewSize(_,K){return this.getViewBounds(_,_minTarget,_maxTarget),K.subVectors(_maxTarget,_minTarget)}setViewOffset(_,K,te,ne,ie,oe){this.aspect=_/K,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=K,this.view.offsetX=te,this.view.offsetY=ne,this.view.width=ie,this.view.height=oe,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _=this.near;let K=_*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,te=2*K,ne=this.aspect*te,ie=-.5*ne;const oe=this.view;if(this.view!==null&&this.view.enabled){const le=oe.fullWidth,ce=oe.fullHeight;ie+=oe.offsetX*ne/le,K-=oe.offsetY*te/ce,ne*=oe.width/le,te*=oe.height/ce}const se=this.filmOffset;se!==0&&(ie+=_*se/this.getFilmWidth()),this.projectionMatrix.makePerspective(ie,ie+ne,K,K-te,_,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_){const K=super.toJSON(_);return K.object.fov=this.fov,K.object.zoom=this.zoom,K.object.near=this.near,K.object.far=this.far,K.object.focus=this.focus,K.object.aspect=this.aspect,this.view!==null&&(K.object.view=Object.assign({},this.view)),K.object.filmGauge=this.filmGauge,K.object.filmOffset=this.filmOffset,K}};const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(_,K,te){super(),this.type="CubeCamera",this.renderTarget=te,this.coordinateSystem=null,this.activeMipmapLevel=0;const ne=new PerspectiveCamera$1(fov,aspect,_,K);ne.layers=this.layers,this.add(ne);const ie=new PerspectiveCamera$1(fov,aspect,_,K);ie.layers=this.layers,this.add(ie);const oe=new PerspectiveCamera$1(fov,aspect,_,K);oe.layers=this.layers,this.add(oe);const se=new PerspectiveCamera$1(fov,aspect,_,K);se.layers=this.layers,this.add(se);const le=new PerspectiveCamera$1(fov,aspect,_,K);le.layers=this.layers,this.add(le);const ce=new PerspectiveCamera$1(fov,aspect,_,K);ce.layers=this.layers,this.add(ce)}updateCoordinateSystem(){const _=this.coordinateSystem,K=this.children.concat(),[te,ne,ie,oe,se,le]=K;for(const ce of K)this.remove(ce);if(_===WebGLCoordinateSystem)te.up.set(0,1,0),te.lookAt(1,0,0),ne.up.set(0,1,0),ne.lookAt(-1,0,0),ie.up.set(0,0,-1),ie.lookAt(0,1,0),oe.up.set(0,0,1),oe.lookAt(0,-1,0),se.up.set(0,1,0),se.lookAt(0,0,1),le.up.set(0,1,0),le.lookAt(0,0,-1);else if(_===WebGPUCoordinateSystem)te.up.set(0,-1,0),te.lookAt(-1,0,0),ne.up.set(0,-1,0),ne.lookAt(1,0,0),ie.up.set(0,0,1),ie.lookAt(0,1,0),oe.up.set(0,0,-1),oe.lookAt(0,-1,0),se.up.set(0,-1,0),se.lookAt(0,0,1),le.up.set(0,-1,0),le.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+_);for(const ce of K)this.add(ce),ce.updateMatrixWorld()}update(_,K){this.parent===null&&this.updateMatrixWorld();const{renderTarget:te,activeMipmapLevel:ne}=this;this.coordinateSystem!==_.coordinateSystem&&(this.coordinateSystem=_.coordinateSystem,this.updateCoordinateSystem());const[ie,oe,se,le,ce,fe]=this.children,me=_.getRenderTarget(),pe=_.getActiveCubeFace(),ge=_.getActiveMipmapLevel(),ye=_.xr.enabled;_.xr.enabled=!1;const Ee=te.texture.generateMipmaps;te.texture.generateMipmaps=!1,_.setRenderTarget(te,0,ne),_.render(K,ie),_.setRenderTarget(te,1,ne),_.render(K,oe),_.setRenderTarget(te,2,ne),_.render(K,se),_.setRenderTarget(te,3,ne),_.render(K,le),_.setRenderTarget(te,4,ne),_.render(K,ce),te.texture.generateMipmaps=Ee,_.setRenderTarget(te,5,ne),_.render(K,fe),_.setRenderTarget(me,pe,ge),_.xr.enabled=ye,te.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce,fe){_=_!==void 0?_:[],K=K!==void 0?K:CubeReflectionMapping,super(_,K,te,ne,ie,oe,se,le,ce,fe),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(_){this.image=_}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(_=1,K={}){super(_,_,K),this.isWebGLCubeRenderTarget=!0;const te={width:_,height:_,depth:1},ne=[te,te,te,te,te,te];this.texture=new CubeTexture(ne,K.mapping,K.wrapS,K.wrapT,K.magFilter,K.minFilter,K.format,K.type,K.anisotropy,K.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=K.generateMipmaps!==void 0?K.generateMipmaps:!1,this.texture.minFilter=K.minFilter!==void 0?K.minFilter:LinearFilter}fromEquirectangularTexture(_,K){this.texture.type=K.type,this.texture.colorSpace=K.colorSpace,this.texture.generateMipmaps=K.generateMipmaps,this.texture.minFilter=K.minFilter,this.texture.magFilter=K.magFilter;const te={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},ne=new BoxGeometry(5,5,5),ie=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(te.uniforms),vertexShader:te.vertexShader,fragmentShader:te.fragmentShader,side:BackSide,blending:NoBlending});ie.uniforms.tEquirect.value=K;const oe=new Mesh(ne,ie),se=K.minFilter;return K.minFilter===LinearMipmapLinearFilter&&(K.minFilter=LinearFilter),new CubeCamera(1,10,this).update(_,oe),K.minFilter=se,oe.geometry.dispose(),oe.material.dispose(),this}clear(_,K,te,ne){const ie=_.getRenderTarget();for(let oe=0;oe<6;oe++)_.setRenderTarget(this,oe),_.clear(K,te,ne);_.setRenderTarget(ie)}}class FogExp2{constructor(_,K=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$1(_),this.density=K}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(_,K=1,te=1e3){this.isFog=!0,this.name="",this.color=new Color$1(_),this.near=K,this.far=te}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(_,K){return super.copy(_,K),_.background!==null&&(this.background=_.background.clone()),_.environment!==null&&(this.environment=_.environment.clone()),_.fog!==null&&(this.fog=_.fog.clone()),this.backgroundBlurriness=_.backgroundBlurriness,this.backgroundIntensity=_.backgroundIntensity,this.backgroundRotation.copy(_.backgroundRotation),this.environmentIntensity=_.environmentIntensity,this.environmentRotation.copy(_.environmentRotation),_.overrideMaterial!==null&&(this.overrideMaterial=_.overrideMaterial.clone()),this.matrixAutoUpdate=_.matrixAutoUpdate,this}toJSON(_){const K=super.toJSON(_);return this.fog!==null&&(K.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(K.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(K.object.backgroundIntensity=this.backgroundIntensity),K.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(K.object.environmentIntensity=this.environmentIntensity),K.object.environmentRotation=this.environmentRotation.toArray(),K}}class InterleavedBuffer{constructor(_,K){this.isInterleavedBuffer=!0,this.array=_,this.stride=K,this.count=_!==void 0?_.length/K:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(_){_===!0&&this.version++}setUsage(_){return this.usage=_,this}addUpdateRange(_,K){this.updateRanges.push({start:_,count:K})}clearUpdateRanges(){this.updateRanges.length=0}copy(_){return this.array=new _.array.constructor(_.array),this.count=_.count,this.stride=_.stride,this.usage=_.usage,this}copyAt(_,K,te){_*=this.stride,te*=K.stride;for(let ne=0,ie=this.stride;ne<ie;ne++)this.array[_+ne]=K.array[te+ne];return this}set(_,K=0){return this.array.set(_,K),this}clone(_){_.arrayBuffers===void 0&&(_.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),_.arrayBuffers[this.array.buffer._uuid]===void 0&&(_.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const K=new this.array.constructor(_.arrayBuffers[this.array.buffer._uuid]),te=new this.constructor(K,this.stride);return te.setUsage(this.usage),te}onUpload(_){return this.onUploadCallback=_,this}toJSON(_){return _.arrayBuffers===void 0&&(_.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),_.arrayBuffers[this.array.buffer._uuid]===void 0&&(_.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(_,K,te,ne=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=_,this.itemSize=K,this.offset=te,this.normalized=ne}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(_){this.data.needsUpdate=_}applyMatrix4(_){for(let K=0,te=this.data.count;K<te;K++)_vector$7.fromBufferAttribute(this,K),_vector$7.applyMatrix4(_),this.setXYZ(K,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(_){for(let K=0,te=this.count;K<te;K++)_vector$7.fromBufferAttribute(this,K),_vector$7.applyNormalMatrix(_),this.setXYZ(K,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(_){for(let K=0,te=this.count;K<te;K++)_vector$7.fromBufferAttribute(this,K),_vector$7.transformDirection(_),this.setXYZ(K,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(_,K){let te=this.array[_*this.data.stride+this.offset+K];return this.normalized&&(te=denormalize(te,this.array)),te}setComponent(_,K,te){return this.normalized&&(te=normalize$5(te,this.array)),this.data.array[_*this.data.stride+this.offset+K]=te,this}setX(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.data.array[_*this.data.stride+this.offset]=K,this}setY(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.data.array[_*this.data.stride+this.offset+1]=K,this}setZ(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.data.array[_*this.data.stride+this.offset+2]=K,this}setW(_,K){return this.normalized&&(K=normalize$5(K,this.array)),this.data.array[_*this.data.stride+this.offset+3]=K,this}getX(_){let K=this.data.array[_*this.data.stride+this.offset];return this.normalized&&(K=denormalize(K,this.array)),K}getY(_){let K=this.data.array[_*this.data.stride+this.offset+1];return this.normalized&&(K=denormalize(K,this.array)),K}getZ(_){let K=this.data.array[_*this.data.stride+this.offset+2];return this.normalized&&(K=denormalize(K,this.array)),K}getW(_){let K=this.data.array[_*this.data.stride+this.offset+3];return this.normalized&&(K=denormalize(K,this.array)),K}setXY(_,K,te){return _=_*this.data.stride+this.offset,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array)),this.data.array[_+0]=K,this.data.array[_+1]=te,this}setXYZ(_,K,te,ne){return _=_*this.data.stride+this.offset,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array)),this.data.array[_+0]=K,this.data.array[_+1]=te,this.data.array[_+2]=ne,this}setXYZW(_,K,te,ne,ie){return _=_*this.data.stride+this.offset,this.normalized&&(K=normalize$5(K,this.array),te=normalize$5(te,this.array),ne=normalize$5(ne,this.array),ie=normalize$5(ie,this.array)),this.data.array[_+0]=K,this.data.array[_+1]=te,this.data.array[_+2]=ne,this.data.array[_+3]=ie,this}clone(_){if(_===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const K=[];for(let te=0;te<this.count;te++){const ne=te*this.data.stride+this.offset;for(let ie=0;ie<this.itemSize;ie++)K.push(this.data.array[ne+ie])}return new BufferAttribute(new this.array.constructor(K),this.itemSize,this.normalized)}else return _.interleavedBuffers===void 0&&(_.interleavedBuffers={}),_.interleavedBuffers[this.data.uuid]===void 0&&(_.interleavedBuffers[this.data.uuid]=this.data.clone(_)),new InterleavedBufferAttribute(_.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(_){if(_===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const K=[];for(let te=0;te<this.count;te++){const ne=te*this.data.stride+this.offset;for(let ie=0;ie<this.itemSize;ie++)K.push(this.data.array[ne+ie])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:K,normalized:this.normalized}}else return _.interleavedBuffers===void 0&&(_.interleavedBuffers={}),_.interleavedBuffers[this.data.uuid]===void 0&&(_.interleavedBuffers[this.data.uuid]=this.data.toJSON(_)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(_){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.alphaMap=_.alphaMap,this.rotation=_.rotation,this.sizeAttenuation=_.sizeAttenuation,this.fog=_.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(_=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const K=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),te=new InterleavedBuffer(K,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(te,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(te,2,3,!1))}this.geometry=_geometry,this.material=_,this.center=new Vector2(.5,.5)}raycast(_,K){_.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(_.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(_.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),_.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const te=this.material.rotation;let ne,ie;te!==0&&(ie=Math.cos(te),ne=Math.sin(te));const oe=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,oe,_worldScale,ne,ie),transformVertex(_vB.set(.5,-.5,0),_mvPosition,oe,_worldScale,ne,ie),transformVertex(_vC.set(.5,.5,0),_mvPosition,oe,_worldScale,ne,ie),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let se=_.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(se===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,oe,_worldScale,ne,ie),_uvB.set(0,1),se=_.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),se===null))return;const le=_.ray.origin.distanceTo(_intersectPoint);le<_.near||le>_.far||K.push({distance:le,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(_,K){return super.copy(_,K),_.center!==void 0&&this.center.copy(_.center),this.material=_.material,this}}function transformVertex(Z,_,K,te,ne,ie){_alignedPosition.subVectors(Z,K).addScalar(.5).multiply(te),ne!==void 0?(_rotatedPosition.x=ie*_alignedPosition.x-ne*_alignedPosition.y,_rotatedPosition.y=ne*_alignedPosition.x+ie*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),Z.copy(_),Z.x+=_rotatedPosition.x,Z.y+=_rotatedPosition.y,Z.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(_){super.copy(_,!1);const K=_.levels;for(let te=0,ne=K.length;te<ne;te++){const ie=K[te];this.addLevel(ie.object.clone(),ie.distance,ie.hysteresis)}return this.autoUpdate=_.autoUpdate,this}addLevel(_,K=0,te=0){K=Math.abs(K);const ne=this.levels;let ie;for(ie=0;ie<ne.length&&!(K<ne[ie].distance);ie++);return ne.splice(ie,0,{distance:K,hysteresis:te,object:_}),this.add(_),this}removeLevel(_){const K=this.levels;for(let te=0;te<K.length;te++)if(K[te].distance===_){const ne=K.splice(te,1);return this.remove(ne[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(_){const K=this.levels;if(K.length>0){let te,ne;for(te=1,ne=K.length;te<ne;te++){let ie=K[te].distance;if(K[te].object.visible&&(ie-=ie*K[te].hysteresis),_<ie)break}return K[te-1].object}return null}raycast(_,K){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const ne=_.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(ne).raycast(_,K)}}update(_){const K=this.levels;if(K.length>1){_v1$2.setFromMatrixPosition(_.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const te=_v1$2.distanceTo(_v2$1)/_.zoom;K[0].object.visible=!0;let ne,ie;for(ne=1,ie=K.length;ne<ie;ne++){let oe=K[ne].distance;if(K[ne].object.visible&&(oe-=oe*K[ne].hysteresis),te>=oe)K[ne-1].object.visible=!1,K[ne].object.visible=!0;else break}for(this._currentLevel=ne-1;ne<ie;ne++)K[ne].object.visible=!1}}toJSON(_){const K=super.toJSON(_);this.autoUpdate===!1&&(K.object.autoUpdate=!1),K.object.levels=[];const te=this.levels;for(let ne=0,ie=te.length;ne<ie;ne++){const oe=te[ne];K.object.levels.push({object:oe.object.uuid,distance:oe.distance,hysteresis:oe.hysteresis})}return K}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$5=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(_,K){super(_,K),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const _=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const K=_.getAttribute("position");for(let te=0;te<K.count;te++)this.getVertexPosition(te,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const _=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const K=_.getAttribute("position");for(let te=0;te<K.count;te++)this.getVertexPosition(te,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(_,K){return super.copy(_,K),this.bindMode=_.bindMode,this.bindMatrix.copy(_.bindMatrix),this.bindMatrixInverse.copy(_.bindMatrixInverse),this.skeleton=_.skeleton,_.boundingBox!==null&&(this.boundingBox=_.boundingBox.clone()),_.boundingSphere!==null&&(this.boundingSphere=_.boundingSphere.clone()),this}raycast(_,K){const te=this.material,ne=this.matrixWorld;te!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$5.copy(this.boundingSphere),_sphere$5.applyMatrix4(ne),_.ray.intersectsSphere(_sphere$5)!==!1&&(_inverseMatrix$2.copy(ne).invert(),_ray$2.copy(_.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(_,K,_ray$2)))}getVertexPosition(_,K){return super.getVertexPosition(_,K),this.applyBoneTransform(_,K),K}bind(_,K){this.skeleton=_,K===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),K=this.matrixWorld),this.bindMatrix.copy(K),this.bindMatrixInverse.copy(K).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const _=new Vector4,K=this.geometry.attributes.skinWeight;for(let te=0,ne=K.count;te<ne;te++){_.fromBufferAttribute(K,te);const ie=1/_.manhattanLength();ie!==1/0?_.multiplyScalar(ie):_.set(1,0,0,0),K.setXYZW(te,_.x,_.y,_.z,_.w)}}updateMatrixWorld(_){super.updateMatrixWorld(_),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(_,K){const te=this.skeleton,ne=this.geometry;_skinIndex.fromBufferAttribute(ne.attributes.skinIndex,_),_skinWeight.fromBufferAttribute(ne.attributes.skinWeight,_),_basePosition.copy(K).applyMatrix4(this.bindMatrix),K.set(0,0,0);for(let ie=0;ie<4;ie++){const oe=_skinWeight.getComponent(ie);if(oe!==0){const se=_skinIndex.getComponent(ie);_matrix4.multiplyMatrices(te.bones[se].matrixWorld,te.boneInverses[se]),K.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),oe)}}return K.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(_=null,K=1,te=1,ne,ie,oe,se,le,ce=NearestFilter,fe=NearestFilter,me,pe){super(null,oe,se,le,ce,fe,ne,ie,me,pe),this.isDataTexture=!0,this.image={data:_,width:K,height:te},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(_=[],K=[]){this.uuid=generateUUID(),this.bones=_.slice(0),this.boneInverses=K,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const _=this.bones,K=this.boneInverses;if(this.boneMatrices=new Float32Array(_.length*16),K.length===0)this.calculateInverses();else if(_.length!==K.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let te=0,ne=this.bones.length;te<ne;te++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let _=0,K=this.bones.length;_<K;_++){const te=new Matrix4;this.bones[_]&&te.copy(this.bones[_].matrixWorld).invert(),this.boneInverses.push(te)}}pose(){for(let _=0,K=this.bones.length;_<K;_++){const te=this.bones[_];te&&te.matrixWorld.copy(this.boneInverses[_]).invert()}for(let _=0,K=this.bones.length;_<K;_++){const te=this.bones[_];te&&(te.parent&&te.parent.isBone?(te.matrix.copy(te.parent.matrixWorld).invert(),te.matrix.multiply(te.matrixWorld)):te.matrix.copy(te.matrixWorld),te.matrix.decompose(te.position,te.quaternion,te.scale))}}update(){const _=this.bones,K=this.boneInverses,te=this.boneMatrices,ne=this.boneTexture;for(let ie=0,oe=_.length;ie<oe;ie++){const se=_[ie]?_[ie].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(se,K[ie]),_offsetMatrix.toArray(te,ie*16)}ne!==null&&(ne.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let _=Math.sqrt(this.bones.length*4);_=Math.ceil(_/4)*4,_=Math.max(_,4);const K=new Float32Array(_*_*4);K.set(this.boneMatrices);const te=new DataTexture(K,_,_,RGBAFormat,FloatType);return te.needsUpdate=!0,this.boneMatrices=K,this.boneTexture=te,this}getBoneByName(_){for(let K=0,te=this.bones.length;K<te;K++){const ne=this.bones[K];if(ne.name===_)return ne}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(_,K){this.uuid=_.uuid;for(let te=0,ne=_.bones.length;te<ne;te++){const ie=_.bones[te];let oe=K[ie];oe===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",ie),oe=new Bone),this.bones.push(oe),this.boneInverses.push(new Matrix4().fromArray(_.boneInverses[te]))}return this.init(),this}toJSON(){const _={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};_.uuid=this.uuid;const K=this.bones,te=this.boneInverses;for(let ne=0,ie=K.length;ne<ie;ne++){const oe=K[ne];_.bones.push(oe.uuid);const se=te[ne];_.boneInverses.push(se.toArray())}return _}}class InstancedBufferAttribute extends BufferAttribute{constructor(_,K,te,ne=1){super(_,K,te),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=ne}copy(_){return super.copy(_),this.meshPerAttribute=_.meshPerAttribute,this}toJSON(){const _=super.toJSON();return _.meshPerAttribute=this.meshPerAttribute,_.isInstancedBufferAttribute=!0,_}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$4=new Sphere;class InstancedMesh extends Mesh{constructor(_,K,te){super(_,K),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(te*16),16),this.instanceColor=null,this.morphTexture=null,this.count=te,this.boundingBox=null,this.boundingSphere=null;for(let ne=0;ne<te;ne++)this.setMatrixAt(ne,_identity)}computeBoundingBox(){const _=this.geometry,K=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),_.boundingBox===null&&_.computeBoundingBox(),this.boundingBox.makeEmpty();for(let te=0;te<K;te++)this.getMatrixAt(te,_instanceLocalMatrix),_box3.copy(_.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const _=this.geometry,K=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),_.boundingSphere===null&&_.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let te=0;te<K;te++)this.getMatrixAt(te,_instanceLocalMatrix),_sphere$4.copy(_.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$4)}copy(_,K){return super.copy(_,K),this.instanceMatrix.copy(_.instanceMatrix),_.morphTexture!==null&&(this.morphTexture=_.morphTexture.clone()),_.instanceColor!==null&&(this.instanceColor=_.instanceColor.clone()),this.count=_.count,_.boundingBox!==null&&(this.boundingBox=_.boundingBox.clone()),_.boundingSphere!==null&&(this.boundingSphere=_.boundingSphere.clone()),this}getColorAt(_,K){K.fromArray(this.instanceColor.array,_*3)}getMatrixAt(_,K){K.fromArray(this.instanceMatrix.array,_*16)}getMorphAt(_,K){const te=K.morphTargetInfluences,ne=this.morphTexture.source.data.data,ie=te.length+1,oe=_*ie+1;for(let se=0;se<te.length;se++)te[se]=ne[oe+se]}raycast(_,K){const te=this.matrixWorld,ne=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(te),_.ray.intersectsSphere(_sphere$4)!==!1))for(let ie=0;ie<ne;ie++){this.getMatrixAt(ie,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(te,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(_,_instanceIntersects);for(let oe=0,se=_instanceIntersects.length;oe<se;oe++){const le=_instanceIntersects[oe];le.instanceId=ie,le.object=this,K.push(le)}_instanceIntersects.length=0}}setColorAt(_,K){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),K.toArray(this.instanceColor.array,_*3)}setMatrixAt(_,K){K.toArray(this.instanceMatrix.array,_*16)}setMorphAt(_,K){const te=K.morphTargetInfluences,ne=te.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(ne*this.count),ne,this.count,RedFormat,FloatType));const ie=this.morphTexture.source.data.data;let oe=0;for(let ce=0;ce<te.length;ce++)oe+=te[ce];const se=this.geometry.morphTargetsRelative?1:1-oe,le=ne*_;ie[le]=se,ie.set(te,le+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(_=new Vector3(1,0,0),K=0){this.isPlane=!0,this.normal=_,this.constant=K}set(_,K){return this.normal.copy(_),this.constant=K,this}setComponents(_,K,te,ne){return this.normal.set(_,K,te),this.constant=ne,this}setFromNormalAndCoplanarPoint(_,K){return this.normal.copy(_),this.constant=-K.dot(this.normal),this}setFromCoplanarPoints(_,K,te){const ne=_vector1.subVectors(te,K).cross(_vector2.subVectors(_,K)).normalize();return this.setFromNormalAndCoplanarPoint(ne,_),this}copy(_){return this.normal.copy(_.normal),this.constant=_.constant,this}normalize(){const _=1/this.normal.length();return this.normal.multiplyScalar(_),this.constant*=_,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(_){return this.normal.dot(_)+this.constant}distanceToSphere(_){return this.distanceToPoint(_.center)-_.radius}projectPoint(_,K){return K.copy(_).addScaledVector(this.normal,-this.distanceToPoint(_))}intersectLine(_,K){const te=_.delta(_vector1),ne=this.normal.dot(te);if(ne===0)return this.distanceToPoint(_.start)===0?K.copy(_.start):null;const ie=-(_.start.dot(this.normal)+this.constant)/ne;return ie<0||ie>1?null:K.copy(_.start).addScaledVector(te,ie)}intersectsLine(_){const K=this.distanceToPoint(_.start),te=this.distanceToPoint(_.end);return K<0&&te>0||te<0&&K>0}intersectsBox(_){return _.intersectsPlane(this)}intersectsSphere(_){return _.intersectsPlane(this)}coplanarPoint(_){return _.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(_,K){const te=K||_normalMatrix.getNormalMatrix(_),ne=this.coplanarPoint(_vector1).applyMatrix4(_),ie=this.normal.applyMatrix3(te).normalize();return this.constant=-ne.dot(ie),this}translate(_){return this.constant-=_.dot(this.normal),this}equals(_){return _.normal.equals(this.normal)&&_.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(_=new Plane,K=new Plane,te=new Plane,ne=new Plane,ie=new Plane,oe=new Plane){this.planes=[_,K,te,ne,ie,oe]}set(_,K,te,ne,ie,oe){const se=this.planes;return se[0].copy(_),se[1].copy(K),se[2].copy(te),se[3].copy(ne),se[4].copy(ie),se[5].copy(oe),this}copy(_){const K=this.planes;for(let te=0;te<6;te++)K[te].copy(_.planes[te]);return this}setFromProjectionMatrix(_,K=WebGLCoordinateSystem){const te=this.planes,ne=_.elements,ie=ne[0],oe=ne[1],se=ne[2],le=ne[3],ce=ne[4],fe=ne[5],me=ne[6],pe=ne[7],ge=ne[8],ye=ne[9],Ee=ne[10],_e=ne[11],Se=ne[12],Re=ne[13],Te=ne[14],Ae=ne[15];if(te[0].setComponents(le-ie,pe-ce,_e-ge,Ae-Se).normalize(),te[1].setComponents(le+ie,pe+ce,_e+ge,Ae+Se).normalize(),te[2].setComponents(le+oe,pe+fe,_e+ye,Ae+Re).normalize(),te[3].setComponents(le-oe,pe-fe,_e-ye,Ae-Re).normalize(),te[4].setComponents(le-se,pe-me,_e-Ee,Ae-Te).normalize(),K===WebGLCoordinateSystem)te[5].setComponents(le+se,pe+me,_e+Ee,Ae+Te).normalize();else if(K===WebGPUCoordinateSystem)te[5].setComponents(se,me,Ee,Te).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+K);return this}intersectsObject(_){if(_.boundingSphere!==void 0)_.boundingSphere===null&&_.computeBoundingSphere(),_sphere$3.copy(_.boundingSphere).applyMatrix4(_.matrixWorld);else{const K=_.geometry;K.boundingSphere===null&&K.computeBoundingSphere(),_sphere$3.copy(K.boundingSphere).applyMatrix4(_.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(_){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(_.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(_){const K=this.planes,te=_.center,ne=-_.radius;for(let ie=0;ie<6;ie++)if(K[ie].distanceToPoint(te)<ne)return!1;return!0}intersectsBox(_){const K=this.planes;for(let te=0;te<6;te++){const ne=K[te];if(_vector$6.x=ne.normal.x>0?_.max.x:_.min.x,_vector$6.y=ne.normal.y>0?_.max.y:_.min.y,_vector$6.z=ne.normal.z>0?_.max.z:_.min.z,ne.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(_){const K=this.planes;for(let te=0;te<6;te++)if(K[te].distanceToPoint(_)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ascIdSort(Z,_){return Z-_}function sortOpaque(Z,_){return Z.z-_.z}function sortTransparent(Z,_){return _.z-Z.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(_,K,te,ne){const ie=this.pool,oe=this.list;this.index>=ie.length&&ie.push({start:-1,count:-1,z:-1,index:-1});const se=ie[this.index];oe.push(se),this.index++,se.start=_,se.count=K,se.z=te,se.index=ne}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color$1(1,1,1),_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(Z,_,K=0){const te=_.itemSize;if(Z.isInterleavedBufferAttribute||Z.array.constructor!==_.array.constructor){const ne=Z.count;for(let ie=0;ie<ne;ie++)for(let oe=0;oe<te;oe++)_.setComponent(ie+K,oe,Z.getComponent(ie,oe))}else _.array.set(Z.array,K*te);_.needsUpdate=!0}function copyArrayContents(Z,_){if(Z.constructor!==_.constructor){const K=Math.min(Z.length,_.length);for(let te=0;te<K;te++)_[te]=Z[te]}else{const K=Math.min(Z.length,_.length);_.set(new Z.constructor(Z.buffer,0,K))}}class BatchedMesh extends Mesh{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(_,K,te=K*2,ne){super(new BufferGeometry,ne),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=_,this._maxVertexCount=K,this._maxIndexCount=te,this._multiDrawCounts=new Int32Array(_),this._multiDrawStarts=new Int32Array(_),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let _=Math.sqrt(this._maxInstanceCount*4);_=Math.ceil(_/4)*4,_=Math.max(_,4);const K=new Float32Array(_*_*4),te=new DataTexture(K,_,_,RGBAFormat,FloatType);this._matricesTexture=te}_initIndirectTexture(){let _=Math.sqrt(this._maxInstanceCount);_=Math.ceil(_);const K=new Uint32Array(_*_),te=new DataTexture(K,_,_,RedIntegerFormat,UnsignedIntType);this._indirectTexture=te}_initColorsTexture(){let _=Math.sqrt(this._maxInstanceCount);_=Math.ceil(_);const K=new Float32Array(_*_*4).fill(1),te=new DataTexture(K,_,_,RGBAFormat,FloatType);te.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=te}_initializeGeometry(_){const K=this.geometry,te=this._maxVertexCount,ne=this._maxIndexCount;if(this._geometryInitialized===!1){for(const ie in _.attributes){const oe=_.getAttribute(ie),{array:se,itemSize:le,normalized:ce}=oe,fe=new se.constructor(te*le),me=new BufferAttribute(fe,le,ce);K.setAttribute(ie,me)}if(_.getIndex()!==null){const ie=te>65535?new Uint32Array(ne):new Uint16Array(ne);K.setIndex(new BufferAttribute(ie,1))}this._geometryInitialized=!0}}_validateGeometry(_){const K=this.geometry;if(!!_.getIndex()!=!!K.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const te in K.attributes){if(!_.hasAttribute(te))throw new Error(`THREE.BatchedMesh: Added geometry missing "${te}". All geometries must have consistent attributes.`);const ne=_.getAttribute(te),ie=K.getAttribute(te);if(ne.itemSize!==ie.itemSize||ne.normalized!==ie.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(_){const K=this._instanceInfo;if(_<0||_>=K.length||K[_].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${_}. Instance is either out of range or has been deleted.`)}validateGeometryId(_){const K=this._geometryInfo;if(_<0||_>=K.length||K[_].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${_}. Geometry is either out of range or has been deleted.`)}setCustomSort(_){return this.customSort=_,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _=this.boundingBox,K=this._instanceInfo;_.makeEmpty();for(let te=0,ne=K.length;te<ne;te++){if(K[te].active===!1)continue;const ie=K[te].geometryIndex;this.getMatrixAt(te,_matrix$1),this.getBoundingBoxAt(ie,_box$1).applyMatrix4(_matrix$1),_.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _=this.boundingSphere,K=this._instanceInfo;_.makeEmpty();for(let te=0,ne=K.length;te<ne;te++){if(K[te].active===!1)continue;const ie=K[te].geometryIndex;this.getMatrixAt(te,_matrix$1),this.getBoundingSphereAt(ie,_sphere$2).applyMatrix4(_matrix$1),_.union(_sphere$2)}}addInstance(_){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const te={visible:!0,active:!0,geometryIndex:_};let ne=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),ne=this._availableInstanceIds.shift(),this._instanceInfo[ne]=te):(ne=this._instanceInfo.length,this._instanceInfo.push(te));const ie=this._matricesTexture;_matrix$1.identity().toArray(ie.image.data,ne*16),ie.needsUpdate=!0;const oe=this._colorsTexture;return oe&&(_whiteColor.toArray(oe.image.data,ne*4),oe.needsUpdate=!0),this._visibilityChanged=!0,ne}addGeometry(_,K=-1,te=-1){this._initializeGeometry(_),this._validateGeometry(_);const ne={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},ie=this._geometryInfo;ne.vertexStart=this._nextVertexStart,ne.reservedVertexCount=K===-1?_.getAttribute("position").count:K;const oe=_.getIndex();if(oe!==null&&(ne.indexStart=this._nextIndexStart,ne.reservedIndexCount=te===-1?oe.count:te),ne.indexStart!==-1&&ne.indexStart+ne.reservedIndexCount>this._maxIndexCount||ne.vertexStart+ne.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let le;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),le=this._availableGeometryIds.shift(),ie[le]=ne):(le=this._geometryCount,this._geometryCount++,ie.push(ne)),this.setGeometryAt(le,_),this._nextIndexStart=ne.indexStart+ne.reservedIndexCount,this._nextVertexStart=ne.vertexStart+ne.reservedVertexCount,le}setGeometryAt(_,K){if(_>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(K);const te=this.geometry,ne=te.getIndex()!==null,ie=te.getIndex(),oe=K.getIndex(),se=this._geometryInfo[_];if(ne&&oe.count>se.reservedIndexCount||K.attributes.position.count>se.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const le=se.vertexStart,ce=se.reservedVertexCount;se.vertexCount=K.getAttribute("position").count;for(const fe in te.attributes){const me=K.getAttribute(fe),pe=te.getAttribute(fe);copyAttributeData(me,pe,le);const ge=me.itemSize;for(let ye=me.count,Ee=ce;ye<Ee;ye++){const _e=le+ye;for(let Se=0;Se<ge;Se++)pe.setComponent(_e,Se,0)}pe.needsUpdate=!0,pe.addUpdateRange(le*ge,ce*ge)}if(ne){const fe=se.indexStart,me=se.reservedIndexCount;se.indexCount=K.getIndex().count;for(let pe=0;pe<oe.count;pe++)ie.setX(fe+pe,le+oe.getX(pe));for(let pe=oe.count,ge=me;pe<ge;pe++)ie.setX(fe+pe,le);ie.needsUpdate=!0,ie.addUpdateRange(fe,se.reservedIndexCount)}return se.start=ne?se.indexStart:se.vertexStart,se.count=ne?se.indexCount:se.vertexCount,se.boundingBox=null,K.boundingBox!==null&&(se.boundingBox=K.boundingBox.clone()),se.boundingSphere=null,K.boundingSphere!==null&&(se.boundingSphere=K.boundingSphere.clone()),this._visibilityChanged=!0,_}deleteGeometry(_){const K=this._geometryInfo;if(_>=K.length||K[_].active===!1)return this;const te=this._instanceInfo;for(let ne=0,ie=te.length;ne<ie;ne++)te[ne].geometryIndex===_&&this.deleteInstance(ne);return K[_].active=!1,this._availableGeometryIds.push(_),this._visibilityChanged=!0,this}deleteInstance(_){return this.validateInstanceId(_),this._instanceInfo[_].active=!1,this._availableInstanceIds.push(_),this._visibilityChanged=!0,this}optimize(){let _=0,K=0;const te=this._geometryInfo,ne=te.map((oe,se)=>se).sort((oe,se)=>te[oe].vertexStart-te[se].vertexStart),ie=this.geometry;for(let oe=0,se=te.length;oe<se;oe++){const le=ne[oe],ce=te[le];if(ce.active!==!1){if(ie.index!==null){if(ce.indexStart!==K){const{indexStart:fe,vertexStart:me,reservedIndexCount:pe}=ce,ge=ie.index,ye=ge.array,Ee=_-me;for(let _e=fe;_e<fe+pe;_e++)ye[_e]=ye[_e]+Ee;ge.array.copyWithin(K,fe,fe+pe),ge.addUpdateRange(K,pe),ce.indexStart=K}K+=ce.reservedIndexCount}if(ce.vertexStart!==_){const{vertexStart:fe,reservedVertexCount:me}=ce,pe=ie.attributes;for(const ge in pe){const ye=pe[ge],{array:Ee,itemSize:_e}=ye;Ee.copyWithin(_*_e,fe*_e,(fe+me)*_e),ye.addUpdateRange(_*_e,me*_e)}ce.vertexStart=_}_+=ce.reservedVertexCount,ce.start=ie.index?ce.indexStart:ce.vertexStart,this._nextIndexStart=ie.index?ce.indexStart+ce.reservedIndexCount:0,this._nextVertexStart=ce.vertexStart+ce.reservedVertexCount}}return this}getBoundingBoxAt(_,K){if(_>=this._geometryCount)return null;const te=this.geometry,ne=this._geometryInfo[_];if(ne.boundingBox===null){const ie=new Box3,oe=te.index,se=te.attributes.position;for(let le=ne.start,ce=ne.start+ne.count;le<ce;le++){let fe=le;oe&&(fe=oe.getX(fe)),ie.expandByPoint(_vector$5.fromBufferAttribute(se,fe))}ne.boundingBox=ie}return K.copy(ne.boundingBox),K}getBoundingSphereAt(_,K){if(_>=this._geometryCount)return null;const te=this.geometry,ne=this._geometryInfo[_];if(ne.boundingSphere===null){const ie=new Sphere;this.getBoundingBoxAt(_,_box$1),_box$1.getCenter(ie.center);const oe=te.index,se=te.attributes.position;let le=0;for(let ce=ne.start,fe=ne.start+ne.count;ce<fe;ce++){let me=ce;oe&&(me=oe.getX(me)),_vector$5.fromBufferAttribute(se,me),le=Math.max(le,ie.center.distanceToSquared(_vector$5))}ie.radius=Math.sqrt(le),ne.boundingSphere=ie}return K.copy(ne.boundingSphere),K}setMatrixAt(_,K){this.validateInstanceId(_);const te=this._matricesTexture,ne=this._matricesTexture.image.data;return K.toArray(ne,_*16),te.needsUpdate=!0,this}getMatrixAt(_,K){return this.validateInstanceId(_),K.fromArray(this._matricesTexture.image.data,_*16)}setColorAt(_,K){return this.validateInstanceId(_),this._colorsTexture===null&&this._initColorsTexture(),K.toArray(this._colorsTexture.image.data,_*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(_,K){return this.validateInstanceId(_),K.fromArray(this._colorsTexture.image.data,_*4)}setVisibleAt(_,K){return this.validateInstanceId(_),this._instanceInfo[_].visible===K?this:(this._instanceInfo[_].visible=K,this._visibilityChanged=!0,this)}getVisibleAt(_){return this.validateInstanceId(_),this._instanceInfo[_].visible}setGeometryIdAt(_,K){return this.validateInstanceId(_),this.validateGeometryId(K),this._instanceInfo[_].geometryIndex=K,this}getGeometryIdAt(_){return this.validateInstanceId(_),this._instanceInfo[_].geometryIndex}getGeometryRangeAt(_,K={}){this.validateGeometryId(_);const te=this._geometryInfo[_];return K.vertexStart=te.vertexStart,K.vertexCount=te.vertexCount,K.reservedVertexCount=te.reservedVertexCount,K.indexStart=te.indexStart,K.indexCount=te.indexCount,K.reservedIndexCount=te.reservedIndexCount,K.start=te.start,K.count=te.count,K}setInstanceCount(_){const K=this._availableInstanceIds,te=this._instanceInfo;for(K.sort(ascIdSort);K[K.length-1]===te.length;)te.pop(),K.pop();if(_<te.length)throw new Error(`BatchedMesh: Instance ids outside the range ${_} are being used. Cannot shrink instance count.`);const ne=new Int32Array(_),ie=new Int32Array(_);copyArrayContents(this._multiDrawCounts,ne),copyArrayContents(this._multiDrawStarts,ie),this._multiDrawCounts=ne,this._multiDrawStarts=ie,this._maxInstanceCount=_;const oe=this._indirectTexture,se=this._matricesTexture,le=this._colorsTexture;oe.dispose(),this._initIndirectTexture(),copyArrayContents(oe.image.data,this._indirectTexture.image.data),se.dispose(),this._initMatricesTexture(),copyArrayContents(se.image.data,this._matricesTexture.image.data),le&&(le.dispose(),this._initColorsTexture(),copyArrayContents(le.image.data,this._colorsTexture.image.data))}setGeometrySize(_,K){const te=[...this._geometryInfo].filter(se=>se.active);if(Math.max(...te.map(se=>se.vertexStart+se.reservedVertexCount))>_)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${K}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...te.map(le=>le.indexStart+le.reservedIndexCount))>K)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${K}. Cannot shrink further.`);const ie=this.geometry;ie.dispose(),this._maxVertexCount=_,this._maxIndexCount=K,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(ie));const oe=this.geometry;ie.index&&copyArrayContents(ie.index.array,oe.index.array);for(const se in ie.attributes)copyArrayContents(ie.attributes[se].array,oe.attributes[se].array)}raycast(_,K){const te=this._instanceInfo,ne=this._geometryInfo,ie=this.matrixWorld,oe=this.geometry;_mesh.material=this.material,_mesh.geometry.index=oe.index,_mesh.geometry.attributes=oe.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let se=0,le=te.length;se<le;se++){if(!te[se].visible||!te[se].active)continue;const ce=te[se].geometryIndex,fe=ne[ce];_mesh.geometry.setDrawRange(fe.start,fe.count),this.getMatrixAt(se,_mesh.matrixWorld).premultiply(ie),this.getBoundingBoxAt(ce,_mesh.geometry.boundingBox),this.getBoundingSphereAt(ce,_mesh.geometry.boundingSphere),_mesh.raycast(_,_batchIntersects);for(let me=0,pe=_batchIntersects.length;me<pe;me++){const ge=_batchIntersects[me];ge.object=this,ge.batchId=se,K.push(ge)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(_){return super.copy(_),this.geometry=_.geometry.clone(),this.perObjectFrustumCulled=_.perObjectFrustumCulled,this.sortObjects=_.sortObjects,this.boundingBox=_.boundingBox!==null?_.boundingBox.clone():null,this.boundingSphere=_.boundingSphere!==null?_.boundingSphere.clone():null,this._geometryInfo=_._geometryInfo.map(K=>({...K,boundingBox:K.boundingBox!==null?K.boundingBox.clone():null,boundingSphere:K.boundingSphere!==null?K.boundingSphere.clone():null})),this._instanceInfo=_._instanceInfo.map(K=>({...K})),this._maxInstanceCount=_._maxInstanceCount,this._maxVertexCount=_._maxVertexCount,this._maxIndexCount=_._maxIndexCount,this._geometryInitialized=_._geometryInitialized,this._geometryCount=_._geometryCount,this._multiDrawCounts=_._multiDrawCounts.slice(),this._multiDrawStarts=_._multiDrawStarts.slice(),this._matricesTexture=_._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=_._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(_,K,te,ne,ie){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const oe=ne.getIndex(),se=oe===null?1:oe.array.BYTES_PER_ELEMENT,le=this._instanceInfo,ce=this._multiDrawStarts,fe=this._multiDrawCounts,me=this._geometryInfo,pe=this.perObjectFrustumCulled,ge=this._indirectTexture,ye=ge.image.data;pe&&(_matrix$1.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,_.coordinateSystem));let Ee=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(te.matrixWorld).applyMatrix4(_matrix$1),_forward.set(0,0,-1).transformDirection(te.matrixWorld).transformDirection(_matrix$1);for(let Re=0,Te=le.length;Re<Te;Re++)if(le[Re].visible&&le[Re].active){const Ae=le[Re].geometryIndex;this.getMatrixAt(Re,_matrix$1),this.getBoundingSphereAt(Ae,_sphere$2).applyMatrix4(_matrix$1);let Fe=!1;if(pe&&(Fe=!_frustum.intersectsSphere(_sphere$2)),!Fe){const $e=me[Ae],ke=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push($e.start,$e.count,ke,Re)}}const _e=_renderList.list,Se=this.customSort;Se===null?_e.sort(ie.transparent?sortTransparent:sortOpaque):Se.call(this,_e,te);for(let Re=0,Te=_e.length;Re<Te;Re++){const Ae=_e[Re];ce[Ee]=Ae.start*se,fe[Ee]=Ae.count,ye[Ee]=Ae.index,Ee++}_renderList.reset()}else for(let _e=0,Se=le.length;_e<Se;_e++)if(le[_e].visible&&le[_e].active){const Re=le[_e].geometryIndex;let Te=!1;if(pe&&(this.getMatrixAt(_e,_matrix$1),this.getBoundingSphereAt(Re,_sphere$2).applyMatrix4(_matrix$1),Te=!_frustum.intersectsSphere(_sphere$2)),!Te){const Ae=me[Re];ce[Ee]=Ae.start*se,fe[Ee]=Ae.count,ye[Ee]=_e,Ee++}}ge.needsUpdate=!0,this._multiDrawCount=Ee,this._visibilityChanged=!1}onBeforeShadow(_,K,te,ne,ie,oe){this.onBeforeRender(_,null,ne,ie,oe)}}class LineBasicMaterial extends Material{constructor(_){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.linewidth=_.linewidth,this.linecap=_.linecap,this.linejoin=_.linejoin,this.fog=_.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(_=new BufferGeometry,K=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=_,this.material=K,this.updateMorphTargets()}copy(_,K){return super.copy(_,K),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}computeLineDistances(){const _=this.geometry;if(_.index===null){const K=_.attributes.position,te=[0];for(let ne=1,ie=K.count;ne<ie;ne++)_vStart.fromBufferAttribute(K,ne-1),_vEnd.fromBufferAttribute(K,ne),te[ne]=te[ne-1],te[ne]+=_vStart.distanceTo(_vEnd);_.setAttribute("lineDistance",new Float32BufferAttribute(te,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(_,K){const te=this.geometry,ne=this.matrixWorld,ie=_.params.Line.threshold,oe=te.drawRange;if(te.boundingSphere===null&&te.computeBoundingSphere(),_sphere$1.copy(te.boundingSphere),_sphere$1.applyMatrix4(ne),_sphere$1.radius+=ie,_.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(ne).invert(),_ray$1.copy(_.ray).applyMatrix4(_inverseMatrix$1);const se=ie/((this.scale.x+this.scale.y+this.scale.z)/3),le=se*se,ce=this.isLineSegments?2:1,fe=te.index,pe=te.attributes.position;if(fe!==null){const ge=Math.max(0,oe.start),ye=Math.min(fe.count,oe.start+oe.count);for(let Ee=ge,_e=ye-1;Ee<_e;Ee+=ce){const Se=fe.getX(Ee),Re=fe.getX(Ee+1),Te=checkIntersection(this,_,_ray$1,le,Se,Re);Te&&K.push(Te)}if(this.isLineLoop){const Ee=fe.getX(ye-1),_e=fe.getX(ge),Se=checkIntersection(this,_,_ray$1,le,Ee,_e);Se&&K.push(Se)}}else{const ge=Math.max(0,oe.start),ye=Math.min(pe.count,oe.start+oe.count);for(let Ee=ge,_e=ye-1;Ee<_e;Ee+=ce){const Se=checkIntersection(this,_,_ray$1,le,Ee,Ee+1);Se&&K.push(Se)}if(this.isLineLoop){const Ee=checkIntersection(this,_,_ray$1,le,ye-1,ge);Ee&&K.push(Ee)}}}updateMorphTargets(){const K=this.geometry.morphAttributes,te=Object.keys(K);if(te.length>0){const ne=K[te[0]];if(ne!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ie=0,oe=ne.length;ie<oe;ie++){const se=ne[ie].name||String(ie);this.morphTargetInfluences.push(0),this.morphTargetDictionary[se]=ie}}}}}function checkIntersection(Z,_,K,te,ne,ie){const oe=Z.geometry.attributes.position;if(_vStart.fromBufferAttribute(oe,ne),_vEnd.fromBufferAttribute(oe,ie),K.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>te)return;_intersectPointOnRay.applyMatrix4(Z.matrixWorld);const le=_.ray.origin.distanceTo(_intersectPointOnRay);if(!(le<_.near||le>_.far))return{distance:le,point:_intersectPointOnSegment.clone().applyMatrix4(Z.matrixWorld),index:ne,face:null,faceIndex:null,barycoord:null,object:Z}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(_,K){super(_,K),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const _=this.geometry;if(_.index===null){const K=_.attributes.position,te=[];for(let ne=0,ie=K.count;ne<ie;ne+=2)_start.fromBufferAttribute(K,ne),_end.fromBufferAttribute(K,ne+1),te[ne]=ne===0?0:te[ne-1],te[ne+1]=te[ne]+_start.distanceTo(_end);_.setAttribute("lineDistance",new Float32BufferAttribute(te,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(_,K){super(_,K),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(_){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.alphaMap=_.alphaMap,this.size=_.size,this.sizeAttenuation=_.sizeAttenuation,this.fog=_.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(_=new BufferGeometry,K=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=_,this.material=K,this.updateMorphTargets()}copy(_,K){return super.copy(_,K),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}raycast(_,K){const te=this.geometry,ne=this.matrixWorld,ie=_.params.Points.threshold,oe=te.drawRange;if(te.boundingSphere===null&&te.computeBoundingSphere(),_sphere.copy(te.boundingSphere),_sphere.applyMatrix4(ne),_sphere.radius+=ie,_.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(ne).invert(),_ray$4.copy(_.ray).applyMatrix4(_inverseMatrix);const se=ie/((this.scale.x+this.scale.y+this.scale.z)/3),le=se*se,ce=te.index,me=te.attributes.position;if(ce!==null){const pe=Math.max(0,oe.start),ge=Math.min(ce.count,oe.start+oe.count);for(let ye=pe,Ee=ge;ye<Ee;ye++){const _e=ce.getX(ye);_position$2.fromBufferAttribute(me,_e),testPoint(_position$2,_e,le,ne,_,K,this)}}else{const pe=Math.max(0,oe.start),ge=Math.min(me.count,oe.start+oe.count);for(let ye=pe,Ee=ge;ye<Ee;ye++)_position$2.fromBufferAttribute(me,ye),testPoint(_position$2,ye,le,ne,_,K,this)}}updateMorphTargets(){const K=this.geometry.morphAttributes,te=Object.keys(K);if(te.length>0){const ne=K[te[0]];if(ne!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ie=0,oe=ne.length;ie<oe;ie++){const se=ne[ie].name||String(ie);this.morphTargetInfluences.push(0),this.morphTargetDictionary[se]=ie}}}}}function testPoint(Z,_,K,te,ne,ie,oe){const se=_ray$4.distanceSqToPoint(Z);if(se<K){const le=new Vector3;_ray$4.closestPointToPoint(Z,le),le.applyMatrix4(te);const ce=ne.ray.origin.distanceTo(le);if(ce<ne.near||ce>ne.far)return;ie.push({distance:ce,distanceToRay:Math.sqrt(se),point:le,index:_,face:null,faceIndex:null,barycoord:null,object:oe})}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}class VideoTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce){super(_,K,te,ne,ie,oe,se,le,ce),this.isVideoTexture=!0,this.minFilter=oe!==void 0?oe:LinearFilter,this.magFilter=ie!==void 0?ie:LinearFilter,this.generateMipmaps=!1;const fe=this;function me(){fe.needsUpdate=!0,_.requestVideoFrameCallback(me)}"requestVideoFrameCallback"in _&&_.requestVideoFrameCallback(me)}clone(){return new this.constructor(this.image).copy(this)}update(){const _=this.image;"requestVideoFrameCallback"in _===!1&&_.readyState>=_.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(_,K){super({width:_,height:K}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce,fe,me,pe){super(null,oe,se,le,ce,fe,ne,ie,me,pe),this.isCompressedTexture=!0,this.image={width:K,height:te},this.mipmaps=_,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(_,K,te,ne,ie,oe){super(_,K,te,ie,oe),this.isCompressedArrayTexture=!0,this.image.depth=ne,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(_){this.layerUpdates.add(_)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(_,K,te){super(void 0,_[0].width,_[0].height,K,te,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=_}}class CanvasTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce){super(_,K,te,ne,ie,oe,se,le,ce),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor(_,K,te,ne,ie,oe,se,le,ce,fe=DepthFormat){if(fe!==DepthFormat&&fe!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");te===void 0&&fe===DepthFormat&&(te=UnsignedIntType),te===void 0&&fe===DepthStencilFormat&&(te=UnsignedInt248Type),super(null,ne,ie,oe,se,le,fe,te,ce),this.isDepthTexture=!0,this.image={width:_,height:K},this.magFilter=se!==void 0?se:NearestFilter,this.minFilter=le!==void 0?le:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(_){return super.copy(_),this.compareFunction=_.compareFunction,this}toJSON(_){const K=super.toJSON(_);return this.compareFunction!==null&&(K.compareFunction=this.compareFunction),K}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(_,K){const te=this.getUtoTmapping(_);return this.getPoint(te,K)}getPoints(_=5){const K=[];for(let te=0;te<=_;te++)K.push(this.getPoint(te/_));return K}getSpacedPoints(_=5){const K=[];for(let te=0;te<=_;te++)K.push(this.getPointAt(te/_));return K}getLength(){const _=this.getLengths();return _[_.length-1]}getLengths(_=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===_+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const K=[];let te,ne=this.getPoint(0),ie=0;K.push(0);for(let oe=1;oe<=_;oe++)te=this.getPoint(oe/_),ie+=te.distanceTo(ne),K.push(ie),ne=te;return this.cacheArcLengths=K,K}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(_,K){const te=this.getLengths();let ne=0;const ie=te.length;let oe;K?oe=K:oe=_*te[ie-1];let se=0,le=ie-1,ce;for(;se<=le;)if(ne=Math.floor(se+(le-se)/2),ce=te[ne]-oe,ce<0)se=ne+1;else if(ce>0)le=ne-1;else{le=ne;break}if(ne=le,te[ne]===oe)return ne/(ie-1);const fe=te[ne],pe=te[ne+1]-fe,ge=(oe-fe)/pe;return(ne+ge)/(ie-1)}getTangent(_,K){let ne=_-1e-4,ie=_+1e-4;ne<0&&(ne=0),ie>1&&(ie=1);const oe=this.getPoint(ne),se=this.getPoint(ie),le=K||(oe.isVector2?new Vector2:new Vector3);return le.copy(se).sub(oe).normalize(),le}getTangentAt(_,K){const te=this.getUtoTmapping(_);return this.getTangent(te,K)}computeFrenetFrames(_,K){const te=new Vector3,ne=[],ie=[],oe=[],se=new Vector3,le=new Matrix4;for(let ge=0;ge<=_;ge++){const ye=ge/_;ne[ge]=this.getTangentAt(ye,new Vector3)}ie[0]=new Vector3,oe[0]=new Vector3;let ce=Number.MAX_VALUE;const fe=Math.abs(ne[0].x),me=Math.abs(ne[0].y),pe=Math.abs(ne[0].z);fe<=ce&&(ce=fe,te.set(1,0,0)),me<=ce&&(ce=me,te.set(0,1,0)),pe<=ce&&te.set(0,0,1),se.crossVectors(ne[0],te).normalize(),ie[0].crossVectors(ne[0],se),oe[0].crossVectors(ne[0],ie[0]);for(let ge=1;ge<=_;ge++){if(ie[ge]=ie[ge-1].clone(),oe[ge]=oe[ge-1].clone(),se.crossVectors(ne[ge-1],ne[ge]),se.length()>Number.EPSILON){se.normalize();const ye=Math.acos(clamp$3(ne[ge-1].dot(ne[ge]),-1,1));ie[ge].applyMatrix4(le.makeRotationAxis(se,ye))}oe[ge].crossVectors(ne[ge],ie[ge])}if(K===!0){let ge=Math.acos(clamp$3(ie[0].dot(ie[_]),-1,1));ge/=_,ne[0].dot(se.crossVectors(ie[0],ie[_]))>0&&(ge=-ge);for(let ye=1;ye<=_;ye++)ie[ye].applyMatrix4(le.makeRotationAxis(ne[ye],ge*ye)),oe[ye].crossVectors(ne[ye],ie[ye])}return{tangents:ne,normals:ie,binormals:oe}}clone(){return new this.constructor().copy(this)}copy(_){return this.arcLengthDivisions=_.arcLengthDivisions,this}toJSON(){const _={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return _.arcLengthDivisions=this.arcLengthDivisions,_.type=this.type,_}fromJSON(_){return this.arcLengthDivisions=_.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(_=0,K=0,te=1,ne=1,ie=0,oe=Math.PI*2,se=!1,le=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=_,this.aY=K,this.xRadius=te,this.yRadius=ne,this.aStartAngle=ie,this.aEndAngle=oe,this.aClockwise=se,this.aRotation=le}getPoint(_,K=new Vector2){const te=K,ne=Math.PI*2;let ie=this.aEndAngle-this.aStartAngle;const oe=Math.abs(ie)<Number.EPSILON;for(;ie<0;)ie+=ne;for(;ie>ne;)ie-=ne;ie<Number.EPSILON&&(oe?ie=0:ie=ne),this.aClockwise===!0&&!oe&&(ie===ne?ie=-ne:ie=ie-ne);const se=this.aStartAngle+_*ie;let le=this.aX+this.xRadius*Math.cos(se),ce=this.aY+this.yRadius*Math.sin(se);if(this.aRotation!==0){const fe=Math.cos(this.aRotation),me=Math.sin(this.aRotation),pe=le-this.aX,ge=ce-this.aY;le=pe*fe-ge*me+this.aX,ce=pe*me+ge*fe+this.aY}return te.set(le,ce)}copy(_){return super.copy(_),this.aX=_.aX,this.aY=_.aY,this.xRadius=_.xRadius,this.yRadius=_.yRadius,this.aStartAngle=_.aStartAngle,this.aEndAngle=_.aEndAngle,this.aClockwise=_.aClockwise,this.aRotation=_.aRotation,this}toJSON(){const _=super.toJSON();return _.aX=this.aX,_.aY=this.aY,_.xRadius=this.xRadius,_.yRadius=this.yRadius,_.aStartAngle=this.aStartAngle,_.aEndAngle=this.aEndAngle,_.aClockwise=this.aClockwise,_.aRotation=this.aRotation,_}fromJSON(_){return super.fromJSON(_),this.aX=_.aX,this.aY=_.aY,this.xRadius=_.xRadius,this.yRadius=_.yRadius,this.aStartAngle=_.aStartAngle,this.aEndAngle=_.aEndAngle,this.aClockwise=_.aClockwise,this.aRotation=_.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(_,K,te,ne,ie,oe){super(_,K,te,te,ne,ie,oe),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let Z=0,_=0,K=0,te=0;function ne(ie,oe,se,le){Z=ie,_=se,K=-3*ie+3*oe-2*se-le,te=2*ie-2*oe+se+le}return{initCatmullRom:function(ie,oe,se,le,ce){ne(oe,se,ce*(se-ie),ce*(le-oe))},initNonuniformCatmullRom:function(ie,oe,se,le,ce,fe,me){let pe=(oe-ie)/ce-(se-ie)/(ce+fe)+(se-oe)/fe,ge=(se-oe)/fe-(le-oe)/(fe+me)+(le-se)/me;pe*=fe,ge*=fe,ne(oe,se,pe,ge)},calc:function(ie){const oe=ie*ie,se=oe*ie;return Z+_*ie+K*oe+te*se}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(_=[],K=!1,te="centripetal",ne=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=_,this.closed=K,this.curveType=te,this.tension=ne}getPoint(_,K=new Vector3){const te=K,ne=this.points,ie=ne.length,oe=(ie-(this.closed?0:1))*_;let se=Math.floor(oe),le=oe-se;this.closed?se+=se>0?0:(Math.floor(Math.abs(se)/ie)+1)*ie:le===0&&se===ie-1&&(se=ie-2,le=1);let ce,fe;this.closed||se>0?ce=ne[(se-1)%ie]:(tmp.subVectors(ne[0],ne[1]).add(ne[0]),ce=tmp);const me=ne[se%ie],pe=ne[(se+1)%ie];if(this.closed||se+2<ie?fe=ne[(se+2)%ie]:(tmp.subVectors(ne[ie-1],ne[ie-2]).add(ne[ie-1]),fe=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ge=this.curveType==="chordal"?.5:.25;let ye=Math.pow(ce.distanceToSquared(me),ge),Ee=Math.pow(me.distanceToSquared(pe),ge),_e=Math.pow(pe.distanceToSquared(fe),ge);Ee<1e-4&&(Ee=1),ye<1e-4&&(ye=Ee),_e<1e-4&&(_e=Ee),px.initNonuniformCatmullRom(ce.x,me.x,pe.x,fe.x,ye,Ee,_e),py.initNonuniformCatmullRom(ce.y,me.y,pe.y,fe.y,ye,Ee,_e),pz.initNonuniformCatmullRom(ce.z,me.z,pe.z,fe.z,ye,Ee,_e)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ce.x,me.x,pe.x,fe.x,this.tension),py.initCatmullRom(ce.y,me.y,pe.y,fe.y,this.tension),pz.initCatmullRom(ce.z,me.z,pe.z,fe.z,this.tension));return te.set(px.calc(le),py.calc(le),pz.calc(le)),te}copy(_){super.copy(_),this.points=[];for(let K=0,te=_.points.length;K<te;K++){const ne=_.points[K];this.points.push(ne.clone())}return this.closed=_.closed,this.curveType=_.curveType,this.tension=_.tension,this}toJSON(){const _=super.toJSON();_.points=[];for(let K=0,te=this.points.length;K<te;K++){const ne=this.points[K];_.points.push(ne.toArray())}return _.closed=this.closed,_.curveType=this.curveType,_.tension=this.tension,_}fromJSON(_){super.fromJSON(_),this.points=[];for(let K=0,te=_.points.length;K<te;K++){const ne=_.points[K];this.points.push(new Vector3().fromArray(ne))}return this.closed=_.closed,this.curveType=_.curveType,this.tension=_.tension,this}}function CatmullRom(Z,_,K,te,ne){const ie=(te-_)*.5,oe=(ne-K)*.5,se=Z*Z,le=Z*se;return(2*K-2*te+ie+oe)*le+(-3*K+3*te-2*ie-oe)*se+ie*Z+K}function QuadraticBezierP0(Z,_){const K=1-Z;return K*K*_}function QuadraticBezierP1(Z,_){return 2*(1-Z)*Z*_}function QuadraticBezierP2(Z,_){return Z*Z*_}function QuadraticBezier(Z,_,K,te){return QuadraticBezierP0(Z,_)+QuadraticBezierP1(Z,K)+QuadraticBezierP2(Z,te)}function CubicBezierP0(Z,_){const K=1-Z;return K*K*K*_}function CubicBezierP1(Z,_){const K=1-Z;return 3*K*K*Z*_}function CubicBezierP2(Z,_){return 3*(1-Z)*Z*Z*_}function CubicBezierP3(Z,_){return Z*Z*Z*_}function CubicBezier(Z,_,K,te,ne){return CubicBezierP0(Z,_)+CubicBezierP1(Z,K)+CubicBezierP2(Z,te)+CubicBezierP3(Z,ne)}class CubicBezierCurve extends Curve{constructor(_=new Vector2,K=new Vector2,te=new Vector2,ne=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=_,this.v1=K,this.v2=te,this.v3=ne}getPoint(_,K=new Vector2){const te=K,ne=this.v0,ie=this.v1,oe=this.v2,se=this.v3;return te.set(CubicBezier(_,ne.x,ie.x,oe.x,se.x),CubicBezier(_,ne.y,ie.y,oe.y,se.y)),te}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this.v3.copy(_.v3),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_.v3=this.v3.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this.v3.fromArray(_.v3),this}}class CubicBezierCurve3 extends Curve{constructor(_=new Vector3,K=new Vector3,te=new Vector3,ne=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=_,this.v1=K,this.v2=te,this.v3=ne}getPoint(_,K=new Vector3){const te=K,ne=this.v0,ie=this.v1,oe=this.v2,se=this.v3;return te.set(CubicBezier(_,ne.x,ie.x,oe.x,se.x),CubicBezier(_,ne.y,ie.y,oe.y,se.y),CubicBezier(_,ne.z,ie.z,oe.z,se.z)),te}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this.v3.copy(_.v3),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_.v3=this.v3.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this.v3.fromArray(_.v3),this}}class LineCurve extends Curve{constructor(_=new Vector2,K=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=_,this.v2=K}getPoint(_,K=new Vector2){const te=K;return _===1?te.copy(this.v2):(te.copy(this.v2).sub(this.v1),te.multiplyScalar(_).add(this.v1)),te}getPointAt(_,K){return this.getPoint(_,K)}getTangent(_,K=new Vector2){return K.subVectors(this.v2,this.v1).normalize()}getTangentAt(_,K){return this.getTangent(_,K)}copy(_){return super.copy(_),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class LineCurve3 extends Curve{constructor(_=new Vector3,K=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=_,this.v2=K}getPoint(_,K=new Vector3){const te=K;return _===1?te.copy(this.v2):(te.copy(this.v2).sub(this.v1),te.multiplyScalar(_).add(this.v1)),te}getPointAt(_,K){return this.getPoint(_,K)}getTangent(_,K=new Vector3){return K.subVectors(this.v2,this.v1).normalize()}getTangentAt(_,K){return this.getTangent(_,K)}copy(_){return super.copy(_),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class QuadraticBezierCurve extends Curve{constructor(_=new Vector2,K=new Vector2,te=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=_,this.v1=K,this.v2=te}getPoint(_,K=new Vector2){const te=K,ne=this.v0,ie=this.v1,oe=this.v2;return te.set(QuadraticBezier(_,ne.x,ie.x,oe.x),QuadraticBezier(_,ne.y,ie.y,oe.y)),te}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(_=new Vector3,K=new Vector3,te=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=_,this.v1=K,this.v2=te}getPoint(_,K=new Vector3){const te=K,ne=this.v0,ie=this.v1,oe=this.v2;return te.set(QuadraticBezier(_,ne.x,ie.x,oe.x),QuadraticBezier(_,ne.y,ie.y,oe.y),QuadraticBezier(_,ne.z,ie.z,oe.z)),te}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class SplineCurve extends Curve{constructor(_=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=_}getPoint(_,K=new Vector2){const te=K,ne=this.points,ie=(ne.length-1)*_,oe=Math.floor(ie),se=ie-oe,le=ne[oe===0?oe:oe-1],ce=ne[oe],fe=ne[oe>ne.length-2?ne.length-1:oe+1],me=ne[oe>ne.length-3?ne.length-1:oe+2];return te.set(CatmullRom(se,le.x,ce.x,fe.x,me.x),CatmullRom(se,le.y,ce.y,fe.y,me.y)),te}copy(_){super.copy(_),this.points=[];for(let K=0,te=_.points.length;K<te;K++){const ne=_.points[K];this.points.push(ne.clone())}return this}toJSON(){const _=super.toJSON();_.points=[];for(let K=0,te=this.points.length;K<te;K++){const ne=this.points[K];_.points.push(ne.toArray())}return _}fromJSON(_){super.fromJSON(_),this.points=[];for(let K=0,te=_.points.length;K<te;K++){const ne=_.points[K];this.points.push(new Vector2().fromArray(ne))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(_){this.curves.push(_)}closePath(){const _=this.curves[0].getPoint(0),K=this.curves[this.curves.length-1].getPoint(1);if(!_.equals(K)){const te=_.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[te](K,_))}return this}getPoint(_,K){const te=_*this.getLength(),ne=this.getCurveLengths();let ie=0;for(;ie<ne.length;){if(ne[ie]>=te){const oe=ne[ie]-te,se=this.curves[ie],le=se.getLength(),ce=le===0?0:1-oe/le;return se.getPointAt(ce,K)}ie++}return null}getLength(){const _=this.getCurveLengths();return _[_.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const _=[];let K=0;for(let te=0,ne=this.curves.length;te<ne;te++)K+=this.curves[te].getLength(),_.push(K);return this.cacheLengths=_,_}getSpacedPoints(_=40){const K=[];for(let te=0;te<=_;te++)K.push(this.getPoint(te/_));return this.autoClose&&K.push(K[0]),K}getPoints(_=12){const K=[];let te;for(let ne=0,ie=this.curves;ne<ie.length;ne++){const oe=ie[ne],se=oe.isEllipseCurve?_*2:oe.isLineCurve||oe.isLineCurve3?1:oe.isSplineCurve?_*oe.points.length:_,le=oe.getPoints(se);for(let ce=0;ce<le.length;ce++){const fe=le[ce];te&&te.equals(fe)||(K.push(fe),te=fe)}}return this.autoClose&&K.length>1&&!K[K.length-1].equals(K[0])&&K.push(K[0]),K}copy(_){super.copy(_),this.curves=[];for(let K=0,te=_.curves.length;K<te;K++){const ne=_.curves[K];this.curves.push(ne.clone())}return this.autoClose=_.autoClose,this}toJSON(){const _=super.toJSON();_.autoClose=this.autoClose,_.curves=[];for(let K=0,te=this.curves.length;K<te;K++){const ne=this.curves[K];_.curves.push(ne.toJSON())}return _}fromJSON(_){super.fromJSON(_),this.autoClose=_.autoClose,this.curves=[];for(let K=0,te=_.curves.length;K<te;K++){const ne=_.curves[K];this.curves.push(new Curves[ne.type]().fromJSON(ne))}return this}}class Path extends CurvePath{constructor(_){super(),this.type="Path",this.currentPoint=new Vector2,_&&this.setFromPoints(_)}setFromPoints(_){this.moveTo(_[0].x,_[0].y);for(let K=1,te=_.length;K<te;K++)this.lineTo(_[K].x,_[K].y);return this}moveTo(_,K){return this.currentPoint.set(_,K),this}lineTo(_,K){const te=new LineCurve(this.currentPoint.clone(),new Vector2(_,K));return this.curves.push(te),this.currentPoint.set(_,K),this}quadraticCurveTo(_,K,te,ne){const ie=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(_,K),new Vector2(te,ne));return this.curves.push(ie),this.currentPoint.set(te,ne),this}bezierCurveTo(_,K,te,ne,ie,oe){const se=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(_,K),new Vector2(te,ne),new Vector2(ie,oe));return this.curves.push(se),this.currentPoint.set(ie,oe),this}splineThru(_){const K=[this.currentPoint.clone()].concat(_),te=new SplineCurve(K);return this.curves.push(te),this.currentPoint.copy(_[_.length-1]),this}arc(_,K,te,ne,ie,oe){const se=this.currentPoint.x,le=this.currentPoint.y;return this.absarc(_+se,K+le,te,ne,ie,oe),this}absarc(_,K,te,ne,ie,oe){return this.absellipse(_,K,te,te,ne,ie,oe),this}ellipse(_,K,te,ne,ie,oe,se,le){const ce=this.currentPoint.x,fe=this.currentPoint.y;return this.absellipse(_+ce,K+fe,te,ne,ie,oe,se,le),this}absellipse(_,K,te,ne,ie,oe,se,le){const ce=new EllipseCurve(_,K,te,ne,ie,oe,se,le);if(this.curves.length>0){const me=ce.getPoint(0);me.equals(this.currentPoint)||this.lineTo(me.x,me.y)}this.curves.push(ce);const fe=ce.getPoint(1);return this.currentPoint.copy(fe),this}copy(_){return super.copy(_),this.currentPoint.copy(_.currentPoint),this}toJSON(){const _=super.toJSON();return _.currentPoint=this.currentPoint.toArray(),_}fromJSON(_){return super.fromJSON(_),this.currentPoint.fromArray(_.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(_=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],K=12,te=0,ne=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:_,segments:K,phiStart:te,phiLength:ne},K=Math.floor(K),ne=clamp$3(ne,0,Math.PI*2);const ie=[],oe=[],se=[],le=[],ce=[],fe=1/K,me=new Vector3,pe=new Vector2,ge=new Vector3,ye=new Vector3,Ee=new Vector3;let _e=0,Se=0;for(let Re=0;Re<=_.length-1;Re++)switch(Re){case 0:_e=_[Re+1].x-_[Re].x,Se=_[Re+1].y-_[Re].y,ge.x=Se*1,ge.y=-_e,ge.z=Se*0,Ee.copy(ge),ge.normalize(),le.push(ge.x,ge.y,ge.z);break;case _.length-1:le.push(Ee.x,Ee.y,Ee.z);break;default:_e=_[Re+1].x-_[Re].x,Se=_[Re+1].y-_[Re].y,ge.x=Se*1,ge.y=-_e,ge.z=Se*0,ye.copy(ge),ge.x+=Ee.x,ge.y+=Ee.y,ge.z+=Ee.z,ge.normalize(),le.push(ge.x,ge.y,ge.z),Ee.copy(ye)}for(let Re=0;Re<=K;Re++){const Te=te+Re*fe*ne,Ae=Math.sin(Te),Fe=Math.cos(Te);for(let $e=0;$e<=_.length-1;$e++){me.x=_[$e].x*Ae,me.y=_[$e].y,me.z=_[$e].x*Fe,oe.push(me.x,me.y,me.z),pe.x=Re/K,pe.y=$e/(_.length-1),se.push(pe.x,pe.y);const ke=le[3*$e+0]*Ae,ze=le[3*$e+1],Ue=le[3*$e+0]*Fe;ce.push(ke,ze,Ue)}}for(let Re=0;Re<K;Re++)for(let Te=0;Te<_.length-1;Te++){const Ae=Te+Re*_.length,Fe=Ae,$e=Ae+_.length,ke=Ae+_.length+1,ze=Ae+1;ie.push(Fe,$e,ze),ie.push(ke,ze,$e)}this.setIndex(ie),this.setAttribute("position",new Float32BufferAttribute(oe,3)),this.setAttribute("uv",new Float32BufferAttribute(se,2)),this.setAttribute("normal",new Float32BufferAttribute(ce,3))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new LatheGeometry(_.points,_.segments,_.phiStart,_.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(_=1,K=1,te=4,ne=8){const ie=new Path;ie.absarc(0,-K/2,_,Math.PI*1.5,0),ie.absarc(0,K/2,_,0,Math.PI*.5),super(ie.getPoints(te),ne),this.type="CapsuleGeometry",this.parameters={radius:_,length:K,capSegments:te,radialSegments:ne}}static fromJSON(_){return new CapsuleGeometry(_.radius,_.length,_.capSegments,_.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(_=1,K=32,te=0,ne=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:_,segments:K,thetaStart:te,thetaLength:ne},K=Math.max(3,K);const ie=[],oe=[],se=[],le=[],ce=new Vector3,fe=new Vector2;oe.push(0,0,0),se.push(0,0,1),le.push(.5,.5);for(let me=0,pe=3;me<=K;me++,pe+=3){const ge=te+me/K*ne;ce.x=_*Math.cos(ge),ce.y=_*Math.sin(ge),oe.push(ce.x,ce.y,ce.z),se.push(0,0,1),fe.x=(oe[pe]/_+1)/2,fe.y=(oe[pe+1]/_+1)/2,le.push(fe.x,fe.y)}for(let me=1;me<=K;me++)ie.push(me,me+1,0);this.setIndex(ie),this.setAttribute("position",new Float32BufferAttribute(oe,3)),this.setAttribute("normal",new Float32BufferAttribute(se,3)),this.setAttribute("uv",new Float32BufferAttribute(le,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new CircleGeometry(_.radius,_.segments,_.thetaStart,_.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(_=1,K=1,te=1,ne=32,ie=1,oe=!1,se=0,le=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:_,radiusBottom:K,height:te,radialSegments:ne,heightSegments:ie,openEnded:oe,thetaStart:se,thetaLength:le};const ce=this;ne=Math.floor(ne),ie=Math.floor(ie);const fe=[],me=[],pe=[],ge=[];let ye=0;const Ee=[],_e=te/2;let Se=0;Re(),oe===!1&&(_>0&&Te(!0),K>0&&Te(!1)),this.setIndex(fe),this.setAttribute("position",new Float32BufferAttribute(me,3)),this.setAttribute("normal",new Float32BufferAttribute(pe,3)),this.setAttribute("uv",new Float32BufferAttribute(ge,2));function Re(){const Ae=new Vector3,Fe=new Vector3;let $e=0;const ke=(K-_)/te;for(let ze=0;ze<=ie;ze++){const Ue=[],Oe=ze/ie,Ve=Oe*(K-_)+_;for(let Ye=0;Ye<=ne;Ye++){const Ke=Ye/ne,ot=Ke*le+se,ut=Math.sin(ot),ct=Math.cos(ot);Fe.x=Ve*ut,Fe.y=-Oe*te+_e,Fe.z=Ve*ct,me.push(Fe.x,Fe.y,Fe.z),Ae.set(ut,ke,ct).normalize(),pe.push(Ae.x,Ae.y,Ae.z),ge.push(Ke,1-Oe),Ue.push(ye++)}Ee.push(Ue)}for(let ze=0;ze<ne;ze++)for(let Ue=0;Ue<ie;Ue++){const Oe=Ee[Ue][ze],Ve=Ee[Ue+1][ze],Ye=Ee[Ue+1][ze+1],Ke=Ee[Ue][ze+1];(_>0||Ue!==0)&&(fe.push(Oe,Ve,Ke),$e+=3),(K>0||Ue!==ie-1)&&(fe.push(Ve,Ye,Ke),$e+=3)}ce.addGroup(Se,$e,0),Se+=$e}function Te(Ae){const Fe=ye,$e=new Vector2,ke=new Vector3;let ze=0;const Ue=Ae===!0?_:K,Oe=Ae===!0?1:-1;for(let Ye=1;Ye<=ne;Ye++)me.push(0,_e*Oe,0),pe.push(0,Oe,0),ge.push(.5,.5),ye++;const Ve=ye;for(let Ye=0;Ye<=ne;Ye++){const ot=Ye/ne*le+se,ut=Math.cos(ot),ct=Math.sin(ot);ke.x=Ue*ct,ke.y=_e*Oe,ke.z=Ue*ut,me.push(ke.x,ke.y,ke.z),pe.push(0,Oe,0),$e.x=ut*.5+.5,$e.y=ct*.5*Oe+.5,ge.push($e.x,$e.y),ye++}for(let Ye=0;Ye<ne;Ye++){const Ke=Fe+Ye,ot=Ve+Ye;Ae===!0?fe.push(ot,ot+1,Ke):fe.push(ot+1,ot,Ke),ze+=3}ce.addGroup(Se,ze,Ae===!0?1:2),Se+=ze}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new CylinderGeometry(_.radiusTop,_.radiusBottom,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(_=1,K=1,te=32,ne=1,ie=!1,oe=0,se=Math.PI*2){super(0,_,K,te,ne,ie,oe,se),this.type="ConeGeometry",this.parameters={radius:_,height:K,radialSegments:te,heightSegments:ne,openEnded:ie,thetaStart:oe,thetaLength:se}}static fromJSON(_){return new ConeGeometry(_.radius,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(_=[],K=[],te=1,ne=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:_,indices:K,radius:te,detail:ne};const ie=[],oe=[];se(ne),ce(te),fe(),this.setAttribute("position",new Float32BufferAttribute(ie,3)),this.setAttribute("normal",new Float32BufferAttribute(ie.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2)),ne===0?this.computeVertexNormals():this.normalizeNormals();function se(Re){const Te=new Vector3,Ae=new Vector3,Fe=new Vector3;for(let $e=0;$e<K.length;$e+=3)ge(K[$e+0],Te),ge(K[$e+1],Ae),ge(K[$e+2],Fe),le(Te,Ae,Fe,Re)}function le(Re,Te,Ae,Fe){const $e=Fe+1,ke=[];for(let ze=0;ze<=$e;ze++){ke[ze]=[];const Ue=Re.clone().lerp(Ae,ze/$e),Oe=Te.clone().lerp(Ae,ze/$e),Ve=$e-ze;for(let Ye=0;Ye<=Ve;Ye++)Ye===0&&ze===$e?ke[ze][Ye]=Ue:ke[ze][Ye]=Ue.clone().lerp(Oe,Ye/Ve)}for(let ze=0;ze<$e;ze++)for(let Ue=0;Ue<2*($e-ze)-1;Ue++){const Oe=Math.floor(Ue/2);Ue%2===0?(pe(ke[ze][Oe+1]),pe(ke[ze+1][Oe]),pe(ke[ze][Oe])):(pe(ke[ze][Oe+1]),pe(ke[ze+1][Oe+1]),pe(ke[ze+1][Oe]))}}function ce(Re){const Te=new Vector3;for(let Ae=0;Ae<ie.length;Ae+=3)Te.x=ie[Ae+0],Te.y=ie[Ae+1],Te.z=ie[Ae+2],Te.normalize().multiplyScalar(Re),ie[Ae+0]=Te.x,ie[Ae+1]=Te.y,ie[Ae+2]=Te.z}function fe(){const Re=new Vector3;for(let Te=0;Te<ie.length;Te+=3){Re.x=ie[Te+0],Re.y=ie[Te+1],Re.z=ie[Te+2];const Ae=_e(Re)/2/Math.PI+.5,Fe=Se(Re)/Math.PI+.5;oe.push(Ae,1-Fe)}ye(),me()}function me(){for(let Re=0;Re<oe.length;Re+=6){const Te=oe[Re+0],Ae=oe[Re+2],Fe=oe[Re+4],$e=Math.max(Te,Ae,Fe),ke=Math.min(Te,Ae,Fe);$e>.9&&ke<.1&&(Te<.2&&(oe[Re+0]+=1),Ae<.2&&(oe[Re+2]+=1),Fe<.2&&(oe[Re+4]+=1))}}function pe(Re){ie.push(Re.x,Re.y,Re.z)}function ge(Re,Te){const Ae=Re*3;Te.x=_[Ae+0],Te.y=_[Ae+1],Te.z=_[Ae+2]}function ye(){const Re=new Vector3,Te=new Vector3,Ae=new Vector3,Fe=new Vector3,$e=new Vector2,ke=new Vector2,ze=new Vector2;for(let Ue=0,Oe=0;Ue<ie.length;Ue+=9,Oe+=6){Re.set(ie[Ue+0],ie[Ue+1],ie[Ue+2]),Te.set(ie[Ue+3],ie[Ue+4],ie[Ue+5]),Ae.set(ie[Ue+6],ie[Ue+7],ie[Ue+8]),$e.set(oe[Oe+0],oe[Oe+1]),ke.set(oe[Oe+2],oe[Oe+3]),ze.set(oe[Oe+4],oe[Oe+5]),Fe.copy(Re).add(Te).add(Ae).divideScalar(3);const Ve=_e(Fe);Ee($e,Oe+0,Re,Ve),Ee(ke,Oe+2,Te,Ve),Ee(ze,Oe+4,Ae,Ve)}}function Ee(Re,Te,Ae,Fe){Fe<0&&Re.x===1&&(oe[Te]=Re.x-1),Ae.x===0&&Ae.z===0&&(oe[Te]=Fe/2/Math.PI+.5)}function _e(Re){return Math.atan2(Re.z,-Re.x)}function Se(Re){return Math.atan2(-Re.y,Math.sqrt(Re.x*Re.x+Re.z*Re.z))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new PolyhedronGeometry(_.vertices,_.indices,_.radius,_.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(_=1,K=0){const te=(1+Math.sqrt(5))/2,ne=1/te,ie=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-ne,-te,0,-ne,te,0,ne,-te,0,ne,te,-ne,-te,0,-ne,te,0,ne,-te,0,ne,te,0,-te,0,-ne,te,0,-ne,-te,0,ne,te,0,ne],oe=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(ie,oe,_,K),this.type="DodecahedronGeometry",this.parameters={radius:_,detail:K}}static fromJSON(_){return new DodecahedronGeometry(_.radius,_.detail)}}const _v0$3=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(_=null,K=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:_,thresholdAngle:K},_!==null){const ne=Math.pow(10,4),ie=Math.cos(DEG2RAD*K),oe=_.getIndex(),se=_.getAttribute("position"),le=oe?oe.count:se.count,ce=[0,0,0],fe=["a","b","c"],me=new Array(3),pe={},ge=[];for(let ye=0;ye<le;ye+=3){oe?(ce[0]=oe.getX(ye),ce[1]=oe.getX(ye+1),ce[2]=oe.getX(ye+2)):(ce[0]=ye,ce[1]=ye+1,ce[2]=ye+2);const{a:Ee,b:_e,c:Se}=_triangle;if(Ee.fromBufferAttribute(se,ce[0]),_e.fromBufferAttribute(se,ce[1]),Se.fromBufferAttribute(se,ce[2]),_triangle.getNormal(_normal),me[0]=`${Math.round(Ee.x*ne)},${Math.round(Ee.y*ne)},${Math.round(Ee.z*ne)}`,me[1]=`${Math.round(_e.x*ne)},${Math.round(_e.y*ne)},${Math.round(_e.z*ne)}`,me[2]=`${Math.round(Se.x*ne)},${Math.round(Se.y*ne)},${Math.round(Se.z*ne)}`,!(me[0]===me[1]||me[1]===me[2]||me[2]===me[0]))for(let Re=0;Re<3;Re++){const Te=(Re+1)%3,Ae=me[Re],Fe=me[Te],$e=_triangle[fe[Re]],ke=_triangle[fe[Te]],ze=`${Ae}_${Fe}`,Ue=`${Fe}_${Ae}`;Ue in pe&&pe[Ue]?(_normal.dot(pe[Ue].normal)<=ie&&(ge.push($e.x,$e.y,$e.z),ge.push(ke.x,ke.y,ke.z)),pe[Ue]=null):ze in pe||(pe[ze]={index0:ce[Re],index1:ce[Te],normal:_normal.clone()})}}for(const ye in pe)if(pe[ye]){const{index0:Ee,index1:_e}=pe[ye];_v0$3.fromBufferAttribute(se,Ee),_v1$1.fromBufferAttribute(se,_e),ge.push(_v0$3.x,_v0$3.y,_v0$3.z),ge.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(ge,3))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}}class Shape extends Path{constructor(_){super(_),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(_){const K=[];for(let te=0,ne=this.holes.length;te<ne;te++)K[te]=this.holes[te].getPoints(_);return K}extractPoints(_){return{shape:this.getPoints(_),holes:this.getPointsHoles(_)}}copy(_){super.copy(_),this.holes=[];for(let K=0,te=_.holes.length;K<te;K++){const ne=_.holes[K];this.holes.push(ne.clone())}return this}toJSON(){const _=super.toJSON();_.uuid=this.uuid,_.holes=[];for(let K=0,te=this.holes.length;K<te;K++){const ne=this.holes[K];_.holes.push(ne.toJSON())}return _}fromJSON(_){super.fromJSON(_),this.uuid=_.uuid,this.holes=[];for(let K=0,te=_.holes.length;K<te;K++){const ne=_.holes[K];this.holes.push(new Path().fromJSON(ne))}return this}}const Earcut={triangulate:function(Z,_,K=2){const te=_&&_.length,ne=te?_[0]*K:Z.length;let ie=linkedList(Z,0,ne,K,!0);const oe=[];if(!ie||ie.next===ie.prev)return oe;let se,le,ce,fe,me,pe,ge;if(te&&(ie=eliminateHoles(Z,_,ie,K)),Z.length>80*K){se=ce=Z[0],le=fe=Z[1];for(let ye=K;ye<ne;ye+=K)me=Z[ye],pe=Z[ye+1],me<se&&(se=me),pe<le&&(le=pe),me>ce&&(ce=me),pe>fe&&(fe=pe);ge=Math.max(ce-se,fe-le),ge=ge!==0?32767/ge:0}return earcutLinked(ie,oe,K,se,le,ge,0),oe}};function linkedList(Z,_,K,te,ne){let ie,oe;if(ne===signedArea(Z,_,K,te)>0)for(ie=_;ie<K;ie+=te)oe=insertNode(ie,Z[ie],Z[ie+1],oe);else for(ie=K-te;ie>=_;ie-=te)oe=insertNode(ie,Z[ie],Z[ie+1],oe);return oe&&equals(oe,oe.next)&&(removeNode(oe),oe=oe.next),oe}function filterPoints(Z,_){if(!Z)return Z;_||(_=Z);let K=Z,te;do if(te=!1,!K.steiner&&(equals(K,K.next)||area(K.prev,K,K.next)===0)){if(removeNode(K),K=_=K.prev,K===K.next)break;te=!0}else K=K.next;while(te||K!==_);return _}function earcutLinked(Z,_,K,te,ne,ie,oe){if(!Z)return;!oe&&ie&&indexCurve(Z,te,ne,ie);let se=Z,le,ce;for(;Z.prev!==Z.next;){if(le=Z.prev,ce=Z.next,ie?isEarHashed(Z,te,ne,ie):isEar(Z)){_.push(le.i/K|0),_.push(Z.i/K|0),_.push(ce.i/K|0),removeNode(Z),Z=ce.next,se=ce.next;continue}if(Z=ce,Z===se){oe?oe===1?(Z=cureLocalIntersections(filterPoints(Z),_,K),earcutLinked(Z,_,K,te,ne,ie,2)):oe===2&&splitEarcut(Z,_,K,te,ne,ie):earcutLinked(filterPoints(Z),_,K,te,ne,ie,1);break}}}function isEar(Z){const _=Z.prev,K=Z,te=Z.next;if(area(_,K,te)>=0)return!1;const ne=_.x,ie=K.x,oe=te.x,se=_.y,le=K.y,ce=te.y,fe=ne<ie?ne<oe?ne:oe:ie<oe?ie:oe,me=se<le?se<ce?se:ce:le<ce?le:ce,pe=ne>ie?ne>oe?ne:oe:ie>oe?ie:oe,ge=se>le?se>ce?se:ce:le>ce?le:ce;let ye=te.next;for(;ye!==_;){if(ye.x>=fe&&ye.x<=pe&&ye.y>=me&&ye.y<=ge&&pointInTriangle(ne,se,ie,le,oe,ce,ye.x,ye.y)&&area(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function isEarHashed(Z,_,K,te){const ne=Z.prev,ie=Z,oe=Z.next;if(area(ne,ie,oe)>=0)return!1;const se=ne.x,le=ie.x,ce=oe.x,fe=ne.y,me=ie.y,pe=oe.y,ge=se<le?se<ce?se:ce:le<ce?le:ce,ye=fe<me?fe<pe?fe:pe:me<pe?me:pe,Ee=se>le?se>ce?se:ce:le>ce?le:ce,_e=fe>me?fe>pe?fe:pe:me>pe?me:pe,Se=zOrder(ge,ye,_,K,te),Re=zOrder(Ee,_e,_,K,te);let Te=Z.prevZ,Ae=Z.nextZ;for(;Te&&Te.z>=Se&&Ae&&Ae.z<=Re;){if(Te.x>=ge&&Te.x<=Ee&&Te.y>=ye&&Te.y<=_e&&Te!==ne&&Te!==oe&&pointInTriangle(se,fe,le,me,ce,pe,Te.x,Te.y)&&area(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,Ae.x>=ge&&Ae.x<=Ee&&Ae.y>=ye&&Ae.y<=_e&&Ae!==ne&&Ae!==oe&&pointInTriangle(se,fe,le,me,ce,pe,Ae.x,Ae.y)&&area(Ae.prev,Ae,Ae.next)>=0))return!1;Ae=Ae.nextZ}for(;Te&&Te.z>=Se;){if(Te.x>=ge&&Te.x<=Ee&&Te.y>=ye&&Te.y<=_e&&Te!==ne&&Te!==oe&&pointInTriangle(se,fe,le,me,ce,pe,Te.x,Te.y)&&area(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;Ae&&Ae.z<=Re;){if(Ae.x>=ge&&Ae.x<=Ee&&Ae.y>=ye&&Ae.y<=_e&&Ae!==ne&&Ae!==oe&&pointInTriangle(se,fe,le,me,ce,pe,Ae.x,Ae.y)&&area(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.nextZ}return!0}function cureLocalIntersections(Z,_,K){let te=Z;do{const ne=te.prev,ie=te.next.next;!equals(ne,ie)&&intersects(ne,te,te.next,ie)&&locallyInside(ne,ie)&&locallyInside(ie,ne)&&(_.push(ne.i/K|0),_.push(te.i/K|0),_.push(ie.i/K|0),removeNode(te),removeNode(te.next),te=Z=ie),te=te.next}while(te!==Z);return filterPoints(te)}function splitEarcut(Z,_,K,te,ne,ie){let oe=Z;do{let se=oe.next.next;for(;se!==oe.prev;){if(oe.i!==se.i&&isValidDiagonal(oe,se)){let le=splitPolygon(oe,se);oe=filterPoints(oe,oe.next),le=filterPoints(le,le.next),earcutLinked(oe,_,K,te,ne,ie,0),earcutLinked(le,_,K,te,ne,ie,0);return}se=se.next}oe=oe.next}while(oe!==Z)}function eliminateHoles(Z,_,K,te){const ne=[];let ie,oe,se,le,ce;for(ie=0,oe=_.length;ie<oe;ie++)se=_[ie]*te,le=ie<oe-1?_[ie+1]*te:Z.length,ce=linkedList(Z,se,le,te,!1),ce===ce.next&&(ce.steiner=!0),ne.push(getLeftmost(ce));for(ne.sort(compareX),ie=0;ie<ne.length;ie++)K=eliminateHole(ne[ie],K);return K}function compareX(Z,_){return Z.x-_.x}function eliminateHole(Z,_){const K=findHoleBridge(Z,_);if(!K)return _;const te=splitPolygon(K,Z);return filterPoints(te,te.next),filterPoints(K,K.next)}function findHoleBridge(Z,_){let K=_,te=-1/0,ne;const ie=Z.x,oe=Z.y;do{if(oe<=K.y&&oe>=K.next.y&&K.next.y!==K.y){const pe=K.x+(oe-K.y)*(K.next.x-K.x)/(K.next.y-K.y);if(pe<=ie&&pe>te&&(te=pe,ne=K.x<K.next.x?K:K.next,pe===ie))return ne}K=K.next}while(K!==_);if(!ne)return null;const se=ne,le=ne.x,ce=ne.y;let fe=1/0,me;K=ne;do ie>=K.x&&K.x>=le&&ie!==K.x&&pointInTriangle(oe<ce?ie:te,oe,le,ce,oe<ce?te:ie,oe,K.x,K.y)&&(me=Math.abs(oe-K.y)/(ie-K.x),locallyInside(K,Z)&&(me<fe||me===fe&&(K.x>ne.x||K.x===ne.x&&sectorContainsSector(ne,K)))&&(ne=K,fe=me)),K=K.next;while(K!==se);return ne}function sectorContainsSector(Z,_){return area(Z.prev,Z,_.prev)<0&&area(_.next,Z,Z.next)<0}function indexCurve(Z,_,K,te){let ne=Z;do ne.z===0&&(ne.z=zOrder(ne.x,ne.y,_,K,te)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next;while(ne!==Z);ne.prevZ.nextZ=null,ne.prevZ=null,sortLinked(ne)}function sortLinked(Z){let _,K,te,ne,ie,oe,se,le,ce=1;do{for(K=Z,Z=null,ie=null,oe=0;K;){for(oe++,te=K,se=0,_=0;_<ce&&(se++,te=te.nextZ,!!te);_++);for(le=ce;se>0||le>0&&te;)se!==0&&(le===0||!te||K.z<=te.z)?(ne=K,K=K.nextZ,se--):(ne=te,te=te.nextZ,le--),ie?ie.nextZ=ne:Z=ne,ne.prevZ=ie,ie=ne;K=te}ie.nextZ=null,ce*=2}while(oe>1);return Z}function zOrder(Z,_,K,te,ne){return Z=(Z-K)*ne|0,_=(_-te)*ne|0,Z=(Z|Z<<8)&16711935,Z=(Z|Z<<4)&252645135,Z=(Z|Z<<2)&858993459,Z=(Z|Z<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,Z|_<<1}function getLeftmost(Z){let _=Z,K=Z;do(_.x<K.x||_.x===K.x&&_.y<K.y)&&(K=_),_=_.next;while(_!==Z);return K}function pointInTriangle(Z,_,K,te,ne,ie,oe,se){return(ne-oe)*(_-se)>=(Z-oe)*(ie-se)&&(Z-oe)*(te-se)>=(K-oe)*(_-se)&&(K-oe)*(ie-se)>=(ne-oe)*(te-se)}function isValidDiagonal(Z,_){return Z.next.i!==_.i&&Z.prev.i!==_.i&&!intersectsPolygon(Z,_)&&(locallyInside(Z,_)&&locallyInside(_,Z)&&middleInside(Z,_)&&(area(Z.prev,Z,_.prev)||area(Z,_.prev,_))||equals(Z,_)&&area(Z.prev,Z,Z.next)>0&&area(_.prev,_,_.next)>0)}function area(Z,_,K){return(_.y-Z.y)*(K.x-_.x)-(_.x-Z.x)*(K.y-_.y)}function equals(Z,_){return Z.x===_.x&&Z.y===_.y}function intersects(Z,_,K,te){const ne=sign(area(Z,_,K)),ie=sign(area(Z,_,te)),oe=sign(area(K,te,Z)),se=sign(area(K,te,_));return!!(ne!==ie&&oe!==se||ne===0&&onSegment(Z,K,_)||ie===0&&onSegment(Z,te,_)||oe===0&&onSegment(K,Z,te)||se===0&&onSegment(K,_,te))}function onSegment(Z,_,K){return _.x<=Math.max(Z.x,K.x)&&_.x>=Math.min(Z.x,K.x)&&_.y<=Math.max(Z.y,K.y)&&_.y>=Math.min(Z.y,K.y)}function sign(Z){return Z>0?1:Z<0?-1:0}function intersectsPolygon(Z,_){let K=Z;do{if(K.i!==Z.i&&K.next.i!==Z.i&&K.i!==_.i&&K.next.i!==_.i&&intersects(K,K.next,Z,_))return!0;K=K.next}while(K!==Z);return!1}function locallyInside(Z,_){return area(Z.prev,Z,Z.next)<0?area(Z,_,Z.next)>=0&&area(Z,Z.prev,_)>=0:area(Z,_,Z.prev)<0||area(Z,Z.next,_)<0}function middleInside(Z,_){let K=Z,te=!1;const ne=(Z.x+_.x)/2,ie=(Z.y+_.y)/2;do K.y>ie!=K.next.y>ie&&K.next.y!==K.y&&ne<(K.next.x-K.x)*(ie-K.y)/(K.next.y-K.y)+K.x&&(te=!te),K=K.next;while(K!==Z);return te}function splitPolygon(Z,_){const K=new Node$1(Z.i,Z.x,Z.y),te=new Node$1(_.i,_.x,_.y),ne=Z.next,ie=_.prev;return Z.next=_,_.prev=Z,K.next=ne,ne.prev=K,te.next=K,K.prev=te,ie.next=te,te.prev=ie,te}function insertNode(Z,_,K,te){const ne=new Node$1(Z,_,K);return te?(ne.next=te.next,ne.prev=te,te.next.prev=ne,te.next=ne):(ne.prev=ne,ne.next=ne),ne}function removeNode(Z){Z.next.prev=Z.prev,Z.prev.next=Z.next,Z.prevZ&&(Z.prevZ.nextZ=Z.nextZ),Z.nextZ&&(Z.nextZ.prevZ=Z.prevZ)}function Node$1(Z,_,K){this.i=Z,this.x=_,this.y=K,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(Z,_,K,te){let ne=0;for(let ie=_,oe=K-te;ie<K;ie+=te)ne+=(Z[oe]-Z[ie])*(Z[ie+1]+Z[oe+1]),oe=ie;return ne}class ShapeUtils{static area(_){const K=_.length;let te=0;for(let ne=K-1,ie=0;ie<K;ne=ie++)te+=_[ne].x*_[ie].y-_[ie].x*_[ne].y;return te*.5}static isClockWise(_){return ShapeUtils.area(_)<0}static triangulateShape(_,K){const te=[],ne=[],ie=[];removeDupEndPts(_),addContour(te,_);let oe=_.length;K.forEach(removeDupEndPts);for(let le=0;le<K.length;le++)ne.push(oe),oe+=K[le].length,addContour(te,K[le]);const se=Earcut.triangulate(te,ne);for(let le=0;le<se.length;le+=3)ie.push(se.slice(le,le+3));return ie}}function removeDupEndPts(Z){const _=Z.length;_>2&&Z[_-1].equals(Z[0])&&Z.pop()}function addContour(Z,_){for(let K=0;K<_.length;K++)Z.push(_[K].x),Z.push(_[K].y)}class ExtrudeGeometry extends BufferGeometry{constructor(_=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),K={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:_,options:K},_=Array.isArray(_)?_:[_];const te=this,ne=[],ie=[];for(let se=0,le=_.length;se<le;se++){const ce=_[se];oe(ce)}this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("uv",new Float32BufferAttribute(ie,2)),this.computeVertexNormals();function oe(se){const le=[],ce=K.curveSegments!==void 0?K.curveSegments:12,fe=K.steps!==void 0?K.steps:1,me=K.depth!==void 0?K.depth:1;let pe=K.bevelEnabled!==void 0?K.bevelEnabled:!0,ge=K.bevelThickness!==void 0?K.bevelThickness:.2,ye=K.bevelSize!==void 0?K.bevelSize:ge-.1,Ee=K.bevelOffset!==void 0?K.bevelOffset:0,_e=K.bevelSegments!==void 0?K.bevelSegments:3;const Se=K.extrudePath,Re=K.UVGenerator!==void 0?K.UVGenerator:WorldUVGenerator;let Te,Ae=!1,Fe,$e,ke,ze;Se&&(Te=Se.getSpacedPoints(fe),Ae=!0,pe=!1,Fe=Se.computeFrenetFrames(fe,!1),$e=new Vector3,ke=new Vector3,ze=new Vector3),pe||(_e=0,ge=0,ye=0,Ee=0);const Ue=se.extractPoints(ce);let Oe=Ue.shape;const Ve=Ue.holes;if(!ShapeUtils.isClockWise(Oe)){Oe=Oe.reverse();for(let Dt=0,Vt=Ve.length;Dt<Vt;Dt++){const Ze=Ve[Dt];ShapeUtils.isClockWise(Ze)&&(Ve[Dt]=Ze.reverse())}}const Ke=ShapeUtils.triangulateShape(Oe,Ve),ot=Oe;for(let Dt=0,Vt=Ve.length;Dt<Vt;Dt++){const Ze=Ve[Dt];Oe=Oe.concat(Ze)}function ut(Dt,Vt,Ze){return Vt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Dt.clone().addScaledVector(Vt,Ze)}const ct=Oe.length,gt=Ke.length;function je(Dt,Vt,Ze){let on,Xt,an;const Yt=Dt.x-Vt.x,mn=Dt.y-Vt.y,Jt=Ze.x-Dt.x,Xe=Ze.y-Dt.y,He=Yt*Yt+mn*mn,tt=Yt*Xe-mn*Jt;if(Math.abs(tt)>Number.EPSILON){const mt=Math.sqrt(He),Nt=Math.sqrt(Jt*Jt+Xe*Xe),_t=Vt.x-mn/mt,jt=Vt.y+Yt/mt,Ot=Ze.x-Xe/Nt,qt=Ze.y+Jt/Nt,Sn=((Ot-_t)*Xe-(qt-jt)*Jt)/(Yt*Xe-mn*Jt);on=_t+Yt*Sn-Dt.x,Xt=jt+mn*Sn-Dt.y;const Ht=on*on+Xt*Xt;if(Ht<=2)return new Vector2(on,Xt);an=Math.sqrt(Ht/2)}else{let mt=!1;Yt>Number.EPSILON?Jt>Number.EPSILON&&(mt=!0):Yt<-Number.EPSILON?Jt<-Number.EPSILON&&(mt=!0):Math.sign(mn)===Math.sign(Xe)&&(mt=!0),mt?(on=-mn,Xt=Yt,an=Math.sqrt(He)):(on=Yt,Xt=mn,an=Math.sqrt(He/2))}return new Vector2(on/an,Xt/an)}const rt=[];for(let Dt=0,Vt=ot.length,Ze=Vt-1,on=Dt+1;Dt<Vt;Dt++,Ze++,on++)Ze===Vt&&(Ze=0),on===Vt&&(on=0),rt[Dt]=je(ot[Dt],ot[Ze],ot[on]);const Qe=[];let qe,lt=rt.concat();for(let Dt=0,Vt=Ve.length;Dt<Vt;Dt++){const Ze=Ve[Dt];qe=[];for(let on=0,Xt=Ze.length,an=Xt-1,Yt=on+1;on<Xt;on++,an++,Yt++)an===Xt&&(an=0),Yt===Xt&&(Yt=0),qe[on]=je(Ze[on],Ze[an],Ze[Yt]);Qe.push(qe),lt=lt.concat(qe)}for(let Dt=0;Dt<_e;Dt++){const Vt=Dt/_e,Ze=ge*Math.cos(Vt*Math.PI/2),on=ye*Math.sin(Vt*Math.PI/2)+Ee;for(let Xt=0,an=ot.length;Xt<an;Xt++){const Yt=ut(ot[Xt],rt[Xt],on);Pt(Yt.x,Yt.y,-Ze)}for(let Xt=0,an=Ve.length;Xt<an;Xt++){const Yt=Ve[Xt];qe=Qe[Xt];for(let mn=0,Jt=Yt.length;mn<Jt;mn++){const Xe=ut(Yt[mn],qe[mn],on);Pt(Xe.x,Xe.y,-Ze)}}}const Et=ye+Ee;for(let Dt=0;Dt<ct;Dt++){const Vt=pe?ut(Oe[Dt],lt[Dt],Et):Oe[Dt];Ae?(ke.copy(Fe.normals[0]).multiplyScalar(Vt.x),$e.copy(Fe.binormals[0]).multiplyScalar(Vt.y),ze.copy(Te[0]).add(ke).add($e),Pt(ze.x,ze.y,ze.z)):Pt(Vt.x,Vt.y,0)}for(let Dt=1;Dt<=fe;Dt++)for(let Vt=0;Vt<ct;Vt++){const Ze=pe?ut(Oe[Vt],lt[Vt],Et):Oe[Vt];Ae?(ke.copy(Fe.normals[Dt]).multiplyScalar(Ze.x),$e.copy(Fe.binormals[Dt]).multiplyScalar(Ze.y),ze.copy(Te[Dt]).add(ke).add($e),Pt(ze.x,ze.y,ze.z)):Pt(Ze.x,Ze.y,me/fe*Dt)}for(let Dt=_e-1;Dt>=0;Dt--){const Vt=Dt/_e,Ze=ge*Math.cos(Vt*Math.PI/2),on=ye*Math.sin(Vt*Math.PI/2)+Ee;for(let Xt=0,an=ot.length;Xt<an;Xt++){const Yt=ut(ot[Xt],rt[Xt],on);Pt(Yt.x,Yt.y,me+Ze)}for(let Xt=0,an=Ve.length;Xt<an;Xt++){const Yt=Ve[Xt];qe=Qe[Xt];for(let mn=0,Jt=Yt.length;mn<Jt;mn++){const Xe=ut(Yt[mn],qe[mn],on);Ae?Pt(Xe.x,Xe.y+Te[fe-1].y,Te[fe-1].x+Ze):Pt(Xe.x,Xe.y,me+Ze)}}}ht(),dt();function ht(){const Dt=ne.length/3;if(pe){let Vt=0,Ze=ct*Vt;for(let on=0;on<gt;on++){const Xt=Ke[on];Wt(Xt[2]+Ze,Xt[1]+Ze,Xt[0]+Ze)}Vt=fe+_e*2,Ze=ct*Vt;for(let on=0;on<gt;on++){const Xt=Ke[on];Wt(Xt[0]+Ze,Xt[1]+Ze,Xt[2]+Ze)}}else{for(let Vt=0;Vt<gt;Vt++){const Ze=Ke[Vt];Wt(Ze[2],Ze[1],Ze[0])}for(let Vt=0;Vt<gt;Vt++){const Ze=Ke[Vt];Wt(Ze[0]+ct*fe,Ze[1]+ct*fe,Ze[2]+ct*fe)}}te.addGroup(Dt,ne.length/3-Dt,0)}function dt(){const Dt=ne.length/3;let Vt=0;Mt(ot,Vt),Vt+=ot.length;for(let Ze=0,on=Ve.length;Ze<on;Ze++){const Xt=Ve[Ze];Mt(Xt,Vt),Vt+=Xt.length}te.addGroup(Dt,ne.length/3-Dt,1)}function Mt(Dt,Vt){let Ze=Dt.length;for(;--Ze>=0;){const on=Ze;let Xt=Ze-1;Xt<0&&(Xt=Dt.length-1);for(let an=0,Yt=fe+_e*2;an<Yt;an++){const mn=ct*an,Jt=ct*(an+1),Xe=Vt+on+mn,He=Vt+Xt+mn,tt=Vt+Xt+Jt,mt=Vt+on+Jt;Qt(Xe,He,tt,mt)}}}function Pt(Dt,Vt,Ze){le.push(Dt),le.push(Vt),le.push(Ze)}function Wt(Dt,Vt,Ze){sn(Dt),sn(Vt),sn(Ze);const on=ne.length/3,Xt=Re.generateTopUV(te,ne,on-3,on-2,on-1);hn(Xt[0]),hn(Xt[1]),hn(Xt[2])}function Qt(Dt,Vt,Ze,on){sn(Dt),sn(Vt),sn(on),sn(Vt),sn(Ze),sn(on);const Xt=ne.length/3,an=Re.generateSideWallUV(te,ne,Xt-6,Xt-3,Xt-2,Xt-1);hn(an[0]),hn(an[1]),hn(an[3]),hn(an[1]),hn(an[2]),hn(an[3])}function sn(Dt){ne.push(le[Dt*3+0]),ne.push(le[Dt*3+1]),ne.push(le[Dt*3+2])}function hn(Dt){ie.push(Dt.x),ie.push(Dt.y)}}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON(),K=this.parameters.shapes,te=this.parameters.options;return toJSON$1(K,te,_)}static fromJSON(_,K){const te=[];for(let ie=0,oe=_.shapes.length;ie<oe;ie++){const se=K[_.shapes[ie]];te.push(se)}const ne=_.options.extrudePath;return ne!==void 0&&(_.options.extrudePath=new Curves[ne.type]().fromJSON(ne)),new ExtrudeGeometry(te,_.options)}}const WorldUVGenerator={generateTopUV:function(Z,_,K,te,ne){const ie=_[K*3],oe=_[K*3+1],se=_[te*3],le=_[te*3+1],ce=_[ne*3],fe=_[ne*3+1];return[new Vector2(ie,oe),new Vector2(se,le),new Vector2(ce,fe)]},generateSideWallUV:function(Z,_,K,te,ne,ie){const oe=_[K*3],se=_[K*3+1],le=_[K*3+2],ce=_[te*3],fe=_[te*3+1],me=_[te*3+2],pe=_[ne*3],ge=_[ne*3+1],ye=_[ne*3+2],Ee=_[ie*3],_e=_[ie*3+1],Se=_[ie*3+2];return Math.abs(se-fe)<Math.abs(oe-ce)?[new Vector2(oe,1-le),new Vector2(ce,1-me),new Vector2(pe,1-ye),new Vector2(Ee,1-Se)]:[new Vector2(se,1-le),new Vector2(fe,1-me),new Vector2(ge,1-ye),new Vector2(_e,1-Se)]}};function toJSON$1(Z,_,K){if(K.shapes=[],Array.isArray(Z))for(let te=0,ne=Z.length;te<ne;te++){const ie=Z[te];K.shapes.push(ie.uuid)}else K.shapes.push(Z.uuid);return K.options=Object.assign({},_),_.extrudePath!==void 0&&(K.options.extrudePath=_.extrudePath.toJSON()),K}class IcosahedronGeometry extends PolyhedronGeometry{constructor(_=1,K=0){const te=(1+Math.sqrt(5))/2,ne=[-1,te,0,1,te,0,-1,-te,0,1,-te,0,0,-1,te,0,1,te,0,-1,-te,0,1,-te,te,0,-1,te,0,1,-te,0,-1,-te,0,1],ie=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(ne,ie,_,K),this.type="IcosahedronGeometry",this.parameters={radius:_,detail:K}}static fromJSON(_){return new IcosahedronGeometry(_.radius,_.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(_=1,K=0){const te=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],ne=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(te,ne,_,K),this.type="OctahedronGeometry",this.parameters={radius:_,detail:K}}static fromJSON(_){return new OctahedronGeometry(_.radius,_.detail)}}class PlaneGeometry extends BufferGeometry{constructor(_=1,K=1,te=1,ne=1){super(),this.type="PlaneGeometry",this.parameters={width:_,height:K,widthSegments:te,heightSegments:ne};const ie=_/2,oe=K/2,se=Math.floor(te),le=Math.floor(ne),ce=se+1,fe=le+1,me=_/se,pe=K/le,ge=[],ye=[],Ee=[],_e=[];for(let Se=0;Se<fe;Se++){const Re=Se*pe-oe;for(let Te=0;Te<ce;Te++){const Ae=Te*me-ie;ye.push(Ae,-Re,0),Ee.push(0,0,1),_e.push(Te/se),_e.push(1-Se/le)}}for(let Se=0;Se<le;Se++)for(let Re=0;Re<se;Re++){const Te=Re+ce*Se,Ae=Re+ce*(Se+1),Fe=Re+1+ce*(Se+1),$e=Re+1+ce*Se;ge.push(Te,Ae,$e),ge.push(Ae,Fe,$e)}this.setIndex(ge),this.setAttribute("position",new Float32BufferAttribute(ye,3)),this.setAttribute("normal",new Float32BufferAttribute(Ee,3)),this.setAttribute("uv",new Float32BufferAttribute(_e,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new PlaneGeometry(_.width,_.height,_.widthSegments,_.heightSegments)}}class RingGeometry extends BufferGeometry{constructor(_=.5,K=1,te=32,ne=1,ie=0,oe=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:_,outerRadius:K,thetaSegments:te,phiSegments:ne,thetaStart:ie,thetaLength:oe},te=Math.max(3,te),ne=Math.max(1,ne);const se=[],le=[],ce=[],fe=[];let me=_;const pe=(K-_)/ne,ge=new Vector3,ye=new Vector2;for(let Ee=0;Ee<=ne;Ee++){for(let _e=0;_e<=te;_e++){const Se=ie+_e/te*oe;ge.x=me*Math.cos(Se),ge.y=me*Math.sin(Se),le.push(ge.x,ge.y,ge.z),ce.push(0,0,1),ye.x=(ge.x/K+1)/2,ye.y=(ge.y/K+1)/2,fe.push(ye.x,ye.y)}me+=pe}for(let Ee=0;Ee<ne;Ee++){const _e=Ee*(te+1);for(let Se=0;Se<te;Se++){const Re=Se+_e,Te=Re,Ae=Re+te+1,Fe=Re+te+2,$e=Re+1;se.push(Te,Ae,$e),se.push(Ae,Fe,$e)}}this.setIndex(se),this.setAttribute("position",new Float32BufferAttribute(le,3)),this.setAttribute("normal",new Float32BufferAttribute(ce,3)),this.setAttribute("uv",new Float32BufferAttribute(fe,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new RingGeometry(_.innerRadius,_.outerRadius,_.thetaSegments,_.phiSegments,_.thetaStart,_.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(_=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),K=12){super(),this.type="ShapeGeometry",this.parameters={shapes:_,curveSegments:K};const te=[],ne=[],ie=[],oe=[];let se=0,le=0;if(Array.isArray(_)===!1)ce(_);else for(let fe=0;fe<_.length;fe++)ce(_[fe]),this.addGroup(se,le,fe),se+=le,le=0;this.setIndex(te),this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("normal",new Float32BufferAttribute(ie,3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2));function ce(fe){const me=ne.length/3,pe=fe.extractPoints(K);let ge=pe.shape;const ye=pe.holes;ShapeUtils.isClockWise(ge)===!1&&(ge=ge.reverse());for(let _e=0,Se=ye.length;_e<Se;_e++){const Re=ye[_e];ShapeUtils.isClockWise(Re)===!0&&(ye[_e]=Re.reverse())}const Ee=ShapeUtils.triangulateShape(ge,ye);for(let _e=0,Se=ye.length;_e<Se;_e++){const Re=ye[_e];ge=ge.concat(Re)}for(let _e=0,Se=ge.length;_e<Se;_e++){const Re=ge[_e];ne.push(Re.x,Re.y,0),ie.push(0,0,1),oe.push(Re.x,Re.y)}for(let _e=0,Se=Ee.length;_e<Se;_e++){const Re=Ee[_e],Te=Re[0]+me,Ae=Re[1]+me,Fe=Re[2]+me;te.push(Te,Ae,Fe),le+=3}}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON(),K=this.parameters.shapes;return toJSON(K,_)}static fromJSON(_,K){const te=[];for(let ne=0,ie=_.shapes.length;ne<ie;ne++){const oe=K[_.shapes[ne]];te.push(oe)}return new ShapeGeometry(te,_.curveSegments)}}function toJSON(Z,_){if(_.shapes=[],Array.isArray(Z))for(let K=0,te=Z.length;K<te;K++){const ne=Z[K];_.shapes.push(ne.uuid)}else _.shapes.push(Z.uuid);return _}class SphereGeometry extends BufferGeometry{constructor(_=1,K=32,te=16,ne=0,ie=Math.PI*2,oe=0,se=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:_,widthSegments:K,heightSegments:te,phiStart:ne,phiLength:ie,thetaStart:oe,thetaLength:se},K=Math.max(3,Math.floor(K)),te=Math.max(2,Math.floor(te));const le=Math.min(oe+se,Math.PI);let ce=0;const fe=[],me=new Vector3,pe=new Vector3,ge=[],ye=[],Ee=[],_e=[];for(let Se=0;Se<=te;Se++){const Re=[],Te=Se/te;let Ae=0;Se===0&&oe===0?Ae=.5/K:Se===te&&le===Math.PI&&(Ae=-.5/K);for(let Fe=0;Fe<=K;Fe++){const $e=Fe/K;me.x=-_*Math.cos(ne+$e*ie)*Math.sin(oe+Te*se),me.y=_*Math.cos(oe+Te*se),me.z=_*Math.sin(ne+$e*ie)*Math.sin(oe+Te*se),ye.push(me.x,me.y,me.z),pe.copy(me).normalize(),Ee.push(pe.x,pe.y,pe.z),_e.push($e+Ae,1-Te),Re.push(ce++)}fe.push(Re)}for(let Se=0;Se<te;Se++)for(let Re=0;Re<K;Re++){const Te=fe[Se][Re+1],Ae=fe[Se][Re],Fe=fe[Se+1][Re],$e=fe[Se+1][Re+1];(Se!==0||oe>0)&&ge.push(Te,Ae,$e),(Se!==te-1||le<Math.PI)&&ge.push(Ae,Fe,$e)}this.setIndex(ge),this.setAttribute("position",new Float32BufferAttribute(ye,3)),this.setAttribute("normal",new Float32BufferAttribute(Ee,3)),this.setAttribute("uv",new Float32BufferAttribute(_e,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new SphereGeometry(_.radius,_.widthSegments,_.heightSegments,_.phiStart,_.phiLength,_.thetaStart,_.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(_=1,K=0){const te=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],ne=[2,1,0,0,3,2,1,3,0,2,3,1];super(te,ne,_,K),this.type="TetrahedronGeometry",this.parameters={radius:_,detail:K}}static fromJSON(_){return new TetrahedronGeometry(_.radius,_.detail)}}class TorusGeometry extends BufferGeometry{constructor(_=1,K=.4,te=12,ne=48,ie=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:_,tube:K,radialSegments:te,tubularSegments:ne,arc:ie},te=Math.floor(te),ne=Math.floor(ne);const oe=[],se=[],le=[],ce=[],fe=new Vector3,me=new Vector3,pe=new Vector3;for(let ge=0;ge<=te;ge++)for(let ye=0;ye<=ne;ye++){const Ee=ye/ne*ie,_e=ge/te*Math.PI*2;me.x=(_+K*Math.cos(_e))*Math.cos(Ee),me.y=(_+K*Math.cos(_e))*Math.sin(Ee),me.z=K*Math.sin(_e),se.push(me.x,me.y,me.z),fe.x=_*Math.cos(Ee),fe.y=_*Math.sin(Ee),pe.subVectors(me,fe).normalize(),le.push(pe.x,pe.y,pe.z),ce.push(ye/ne),ce.push(ge/te)}for(let ge=1;ge<=te;ge++)for(let ye=1;ye<=ne;ye++){const Ee=(ne+1)*ge+ye-1,_e=(ne+1)*(ge-1)+ye-1,Se=(ne+1)*(ge-1)+ye,Re=(ne+1)*ge+ye;oe.push(Ee,_e,Re),oe.push(_e,Se,Re)}this.setIndex(oe),this.setAttribute("position",new Float32BufferAttribute(se,3)),this.setAttribute("normal",new Float32BufferAttribute(le,3)),this.setAttribute("uv",new Float32BufferAttribute(ce,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new TorusGeometry(_.radius,_.tube,_.radialSegments,_.tubularSegments,_.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(_=1,K=.4,te=64,ne=8,ie=2,oe=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:_,tube:K,tubularSegments:te,radialSegments:ne,p:ie,q:oe},te=Math.floor(te),ne=Math.floor(ne);const se=[],le=[],ce=[],fe=[],me=new Vector3,pe=new Vector3,ge=new Vector3,ye=new Vector3,Ee=new Vector3,_e=new Vector3,Se=new Vector3;for(let Te=0;Te<=te;++Te){const Ae=Te/te*ie*Math.PI*2;Re(Ae,ie,oe,_,ge),Re(Ae+.01,ie,oe,_,ye),_e.subVectors(ye,ge),Se.addVectors(ye,ge),Ee.crossVectors(_e,Se),Se.crossVectors(Ee,_e),Ee.normalize(),Se.normalize();for(let Fe=0;Fe<=ne;++Fe){const $e=Fe/ne*Math.PI*2,ke=-K*Math.cos($e),ze=K*Math.sin($e);me.x=ge.x+(ke*Se.x+ze*Ee.x),me.y=ge.y+(ke*Se.y+ze*Ee.y),me.z=ge.z+(ke*Se.z+ze*Ee.z),le.push(me.x,me.y,me.z),pe.subVectors(me,ge).normalize(),ce.push(pe.x,pe.y,pe.z),fe.push(Te/te),fe.push(Fe/ne)}}for(let Te=1;Te<=te;Te++)for(let Ae=1;Ae<=ne;Ae++){const Fe=(ne+1)*(Te-1)+(Ae-1),$e=(ne+1)*Te+(Ae-1),ke=(ne+1)*Te+Ae,ze=(ne+1)*(Te-1)+Ae;se.push(Fe,$e,ze),se.push($e,ke,ze)}this.setIndex(se),this.setAttribute("position",new Float32BufferAttribute(le,3)),this.setAttribute("normal",new Float32BufferAttribute(ce,3)),this.setAttribute("uv",new Float32BufferAttribute(fe,2));function Re(Te,Ae,Fe,$e,ke){const ze=Math.cos(Te),Ue=Math.sin(Te),Oe=Fe/Ae*Te,Ve=Math.cos(Oe);ke.x=$e*(2+Ve)*.5*ze,ke.y=$e*(2+Ve)*Ue*.5,ke.z=$e*Math.sin(Oe)*.5}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new TorusKnotGeometry(_.radius,_.tube,_.tubularSegments,_.radialSegments,_.p,_.q)}}class TubeGeometry extends BufferGeometry{constructor(_=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),K=64,te=1,ne=8,ie=!1){super(),this.type="TubeGeometry",this.parameters={path:_,tubularSegments:K,radius:te,radialSegments:ne,closed:ie};const oe=_.computeFrenetFrames(K,ie);this.tangents=oe.tangents,this.normals=oe.normals,this.binormals=oe.binormals;const se=new Vector3,le=new Vector3,ce=new Vector2;let fe=new Vector3;const me=[],pe=[],ge=[],ye=[];Ee(),this.setIndex(ye),this.setAttribute("position",new Float32BufferAttribute(me,3)),this.setAttribute("normal",new Float32BufferAttribute(pe,3)),this.setAttribute("uv",new Float32BufferAttribute(ge,2));function Ee(){for(let Te=0;Te<K;Te++)_e(Te);_e(ie===!1?K:0),Re(),Se()}function _e(Te){fe=_.getPointAt(Te/K,fe);const Ae=oe.normals[Te],Fe=oe.binormals[Te];for(let $e=0;$e<=ne;$e++){const ke=$e/ne*Math.PI*2,ze=Math.sin(ke),Ue=-Math.cos(ke);le.x=Ue*Ae.x+ze*Fe.x,le.y=Ue*Ae.y+ze*Fe.y,le.z=Ue*Ae.z+ze*Fe.z,le.normalize(),pe.push(le.x,le.y,le.z),se.x=fe.x+te*le.x,se.y=fe.y+te*le.y,se.z=fe.z+te*le.z,me.push(se.x,se.y,se.z)}}function Se(){for(let Te=1;Te<=K;Te++)for(let Ae=1;Ae<=ne;Ae++){const Fe=(ne+1)*(Te-1)+(Ae-1),$e=(ne+1)*Te+(Ae-1),ke=(ne+1)*Te+Ae,ze=(ne+1)*(Te-1)+Ae;ye.push(Fe,$e,ze),ye.push($e,ke,ze)}}function Re(){for(let Te=0;Te<=K;Te++)for(let Ae=0;Ae<=ne;Ae++)ce.x=Te/K,ce.y=Ae/ne,ge.push(ce.x,ce.y)}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON();return _.path=this.parameters.path.toJSON(),_}static fromJSON(_){return new TubeGeometry(new Curves[_.path.type]().fromJSON(_.path),_.tubularSegments,_.radius,_.radialSegments,_.closed)}}class WireframeGeometry extends BufferGeometry{constructor(_=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:_},_!==null){const K=[],te=new Set,ne=new Vector3,ie=new Vector3;if(_.index!==null){const oe=_.attributes.position,se=_.index;let le=_.groups;le.length===0&&(le=[{start:0,count:se.count,materialIndex:0}]);for(let ce=0,fe=le.length;ce<fe;++ce){const me=le[ce],pe=me.start,ge=me.count;for(let ye=pe,Ee=pe+ge;ye<Ee;ye+=3)for(let _e=0;_e<3;_e++){const Se=se.getX(ye+_e),Re=se.getX(ye+(_e+1)%3);ne.fromBufferAttribute(oe,Se),ie.fromBufferAttribute(oe,Re),isUniqueEdge(ne,ie,te)===!0&&(K.push(ne.x,ne.y,ne.z),K.push(ie.x,ie.y,ie.z))}}}else{const oe=_.attributes.position;for(let se=0,le=oe.count/3;se<le;se++)for(let ce=0;ce<3;ce++){const fe=3*se+ce,me=3*se+(ce+1)%3;ne.fromBufferAttribute(oe,fe),ie.fromBufferAttribute(oe,me),isUniqueEdge(ne,ie,te)===!0&&(K.push(ne.x,ne.y,ne.z),K.push(ie.x,ie.y,ie.z))}}this.setAttribute("position",new Float32BufferAttribute(K,3))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}}function isUniqueEdge(Z,_,K){const te=`${Z.x},${Z.y},${Z.z}-${_.x},${_.y},${_.z}`,ne=`${_.x},${_.y},${_.z}-${Z.x},${Z.y},${Z.z}`;return K.has(te)===!0||K.has(ne)===!0?!1:(K.add(te),K.add(ne),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(_){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.fog=_.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(_){super(_),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(_){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Color$1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.defines={STANDARD:""},this.color.copy(_.color),this.roughness=_.roughness,this.metalness=_.metalness,this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.roughnessMap=_.roughnessMap,this.metalnessMap=_.metalnessMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.envMapIntensity=_.envMapIntensity,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(_){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$3(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(K){this.ior=(1+.4*K)/(1-.4*K)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(_)}get anisotropy(){return this._anisotropy}set anisotropy(_){this._anisotropy>0!=_>0&&this.version++,this._anisotropy=_}get clearcoat(){return this._clearcoat}set clearcoat(_){this._clearcoat>0!=_>0&&this.version++,this._clearcoat=_}get iridescence(){return this._iridescence}set iridescence(_){this._iridescence>0!=_>0&&this.version++,this._iridescence=_}get dispersion(){return this._dispersion}set dispersion(_){this._dispersion>0!=_>0&&this.version++,this._dispersion=_}get sheen(){return this._sheen}set sheen(_){this._sheen>0!=_>0&&this.version++,this._sheen=_}get transmission(){return this._transmission}set transmission(_){this._transmission>0!=_>0&&this.version++,this._transmission=_}copy(_){return super.copy(_),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=_.anisotropy,this.anisotropyRotation=_.anisotropyRotation,this.anisotropyMap=_.anisotropyMap,this.clearcoat=_.clearcoat,this.clearcoatMap=_.clearcoatMap,this.clearcoatRoughness=_.clearcoatRoughness,this.clearcoatRoughnessMap=_.clearcoatRoughnessMap,this.clearcoatNormalMap=_.clearcoatNormalMap,this.clearcoatNormalScale.copy(_.clearcoatNormalScale),this.dispersion=_.dispersion,this.ior=_.ior,this.iridescence=_.iridescence,this.iridescenceMap=_.iridescenceMap,this.iridescenceIOR=_.iridescenceIOR,this.iridescenceThicknessRange=[..._.iridescenceThicknessRange],this.iridescenceThicknessMap=_.iridescenceThicknessMap,this.sheen=_.sheen,this.sheenColor.copy(_.sheenColor),this.sheenColorMap=_.sheenColorMap,this.sheenRoughness=_.sheenRoughness,this.sheenRoughnessMap=_.sheenRoughnessMap,this.transmission=_.transmission,this.transmissionMap=_.transmissionMap,this.thickness=_.thickness,this.thicknessMap=_.thicknessMap,this.attenuationDistance=_.attenuationDistance,this.attenuationColor.copy(_.attenuationColor),this.specularIntensity=_.specularIntensity,this.specularIntensityMap=_.specularIntensityMap,this.specularColor.copy(_.specularColor),this.specularColorMap=_.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(_){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.specular.copy(_.specular),this.shininess=_.shininess,this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshToonMaterial extends Material{constructor(_){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$1(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.gradientMap=_.gradientMap,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.alphaMap=_.alphaMap,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.fog=_.fog,this}}class MeshNormalMaterial extends Material{constructor(_){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(_)}copy(_){return super.copy(_),this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.flatShading=_.flatShading,this}}class MeshLambertMaterial extends Material{constructor(_){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapRotation.copy(_.envMapRotation),this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshDepthMaterial extends Material{constructor(_){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(_)}copy(_){return super.copy(_),this.depthPacking=_.depthPacking,this.map=_.map,this.alphaMap=_.alphaMap,this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(_){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(_)}copy(_){return super.copy(_),this.map=_.map,this.alphaMap=_.alphaMap,this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this}}class MeshMatcapMaterial extends Material{constructor(_){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.defines={MATCAP:""},this.color.copy(_.color),this.matcap=_.matcap,this.map=_.map,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.alphaMap=_.alphaMap,this.flatShading=_.flatShading,this.fog=_.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(_){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(_)}copy(_){return super.copy(_),this.scale=_.scale,this.dashSize=_.dashSize,this.gapSize=_.gapSize,this}}function convertArray(Z,_,K){return!Z||!K&&Z.constructor===_?Z:typeof _.BYTES_PER_ELEMENT=="number"?new _(Z):Array.prototype.slice.call(Z)}function isTypedArray(Z){return ArrayBuffer.isView(Z)&&!(Z instanceof DataView)}function getKeyframeOrder(Z){function _(ne,ie){return Z[ne]-Z[ie]}const K=Z.length,te=new Array(K);for(let ne=0;ne!==K;++ne)te[ne]=ne;return te.sort(_),te}function sortedArray(Z,_,K){const te=Z.length,ne=new Z.constructor(te);for(let ie=0,oe=0;oe!==te;++ie){const se=K[ie]*_;for(let le=0;le!==_;++le)ne[oe++]=Z[se+le]}return ne}function flattenJSON(Z,_,K,te){let ne=1,ie=Z[0];for(;ie!==void 0&&ie[te]===void 0;)ie=Z[ne++];if(ie===void 0)return;let oe=ie[te];if(oe!==void 0)if(Array.isArray(oe))do oe=ie[te],oe!==void 0&&(_.push(ie.time),K.push.apply(K,oe)),ie=Z[ne++];while(ie!==void 0);else if(oe.toArray!==void 0)do oe=ie[te],oe!==void 0&&(_.push(ie.time),oe.toArray(K,K.length)),ie=Z[ne++];while(ie!==void 0);else do oe=ie[te],oe!==void 0&&(_.push(ie.time),K.push(oe)),ie=Z[ne++];while(ie!==void 0)}function subclip(Z,_,K,te,ne=30){const ie=Z.clone();ie.name=_;const oe=[];for(let le=0;le<ie.tracks.length;++le){const ce=ie.tracks[le],fe=ce.getValueSize(),me=[],pe=[];for(let ge=0;ge<ce.times.length;++ge){const ye=ce.times[ge]*ne;if(!(ye<K||ye>=te)){me.push(ce.times[ge]);for(let Ee=0;Ee<fe;++Ee)pe.push(ce.values[ge*fe+Ee])}}me.length!==0&&(ce.times=convertArray(me,ce.times.constructor),ce.values=convertArray(pe,ce.values.constructor),oe.push(ce))}ie.tracks=oe;let se=1/0;for(let le=0;le<ie.tracks.length;++le)se>ie.tracks[le].times[0]&&(se=ie.tracks[le].times[0]);for(let le=0;le<ie.tracks.length;++le)ie.tracks[le].shift(-1*se);return ie.resetDuration(),ie}function makeClipAdditive(Z,_=0,K=Z,te=30){te<=0&&(te=30);const ne=K.tracks.length,ie=_/te;for(let oe=0;oe<ne;++oe){const se=K.tracks[oe],le=se.ValueTypeName;if(le==="bool"||le==="string")continue;const ce=Z.tracks.find(function(Se){return Se.name===se.name&&Se.ValueTypeName===le});if(ce===void 0)continue;let fe=0;const me=se.getValueSize();se.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(fe=me/3);let pe=0;const ge=ce.getValueSize();ce.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(pe=ge/3);const ye=se.times.length-1;let Ee;if(ie<=se.times[0]){const Se=fe,Re=me-fe;Ee=se.values.slice(Se,Re)}else if(ie>=se.times[ye]){const Se=ye*me+fe,Re=Se+me-fe;Ee=se.values.slice(Se,Re)}else{const Se=se.createInterpolant(),Re=fe,Te=me-fe;Se.evaluate(ie),Ee=Se.resultBuffer.slice(Re,Te)}le==="quaternion"&&new Quaternion().fromArray(Ee).normalize().conjugate().toArray(Ee);const _e=ce.times.length;for(let Se=0;Se<_e;++Se){const Re=Se*ge+pe;if(le==="quaternion")Quaternion.multiplyQuaternionsFlat(ce.values,Re,Ee,0,ce.values,Re);else{const Te=ge-pe*2;for(let Ae=0;Ae<Te;++Ae)ce.values[Re+Ae]-=Ee[Ae]}}}return Z.blendMode=AdditiveAnimationBlendMode,Z}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(_,K,te,ne){this.parameterPositions=_,this._cachedIndex=0,this.resultBuffer=ne!==void 0?ne:new K.constructor(te),this.sampleValues=K,this.valueSize=te,this.settings=null,this.DefaultSettings_={}}evaluate(_){const K=this.parameterPositions;let te=this._cachedIndex,ne=K[te],ie=K[te-1];e:{t:{let oe;n:{r:if(!(_<ne)){for(let se=te+2;;){if(ne===void 0){if(_<ie)break r;return te=K.length,this._cachedIndex=te,this.copySampleValue_(te-1)}if(te===se)break;if(ie=ne,ne=K[++te],_<ne)break t}oe=K.length;break n}if(!(_>=ie)){const se=K[1];_<se&&(te=2,ie=se);for(let le=te-2;;){if(ie===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(te===le)break;if(ne=ie,ie=K[--te-1],_>=ie)break t}oe=te,te=0;break n}break e}for(;te<oe;){const se=te+oe>>>1;_<K[se]?oe=se:te=se+1}if(ne=K[te],ie=K[te-1],ie===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(ne===void 0)return te=K.length,this._cachedIndex=te,this.copySampleValue_(te-1)}this._cachedIndex=te,this.intervalChanged_(te,ie,ne)}return this.interpolate_(te,ie,_,ne)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(_){const K=this.resultBuffer,te=this.sampleValues,ne=this.valueSize,ie=_*ne;for(let oe=0;oe!==ne;++oe)K[oe]=te[ie+oe];return K}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(_,K,te,ne){super(_,K,te,ne),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(_,K,te){const ne=this.parameterPositions;let ie=_-2,oe=_+1,se=ne[ie],le=ne[oe];if(se===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:ie=_,se=2*K-te;break;case WrapAroundEnding:ie=ne.length-2,se=K+ne[ie]-ne[ie+1];break;default:ie=_,se=te}if(le===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:oe=_,le=2*te-K;break;case WrapAroundEnding:oe=1,le=te+ne[1]-ne[0];break;default:oe=_-1,le=K}const ce=(te-K)*.5,fe=this.valueSize;this._weightPrev=ce/(K-se),this._weightNext=ce/(le-te),this._offsetPrev=ie*fe,this._offsetNext=oe*fe}interpolate_(_,K,te,ne){const ie=this.resultBuffer,oe=this.sampleValues,se=this.valueSize,le=_*se,ce=le-se,fe=this._offsetPrev,me=this._offsetNext,pe=this._weightPrev,ge=this._weightNext,ye=(te-K)/(ne-K),Ee=ye*ye,_e=Ee*ye,Se=-pe*_e+2*pe*Ee-pe*ye,Re=(1+pe)*_e+(-1.5-2*pe)*Ee+(-.5+pe)*ye+1,Te=(-1-ge)*_e+(1.5+ge)*Ee+.5*ye,Ae=ge*_e-ge*Ee;for(let Fe=0;Fe!==se;++Fe)ie[Fe]=Se*oe[fe+Fe]+Re*oe[ce+Fe]+Te*oe[le+Fe]+Ae*oe[me+Fe];return ie}}class LinearInterpolant extends Interpolant{constructor(_,K,te,ne){super(_,K,te,ne)}interpolate_(_,K,te,ne){const ie=this.resultBuffer,oe=this.sampleValues,se=this.valueSize,le=_*se,ce=le-se,fe=(te-K)/(ne-K),me=1-fe;for(let pe=0;pe!==se;++pe)ie[pe]=oe[ce+pe]*me+oe[le+pe]*fe;return ie}}class DiscreteInterpolant extends Interpolant{constructor(_,K,te,ne){super(_,K,te,ne)}interpolate_(_){return this.copySampleValue_(_-1)}}class KeyframeTrack{constructor(_,K,te,ne){if(_===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(K===void 0||K.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+_);this.name=_,this.times=convertArray(K,this.TimeBufferType),this.values=convertArray(te,this.ValueBufferType),this.setInterpolation(ne||this.DefaultInterpolation)}static toJSON(_){const K=_.constructor;let te;if(K.toJSON!==this.toJSON)te=K.toJSON(_);else{te={name:_.name,times:convertArray(_.times,Array),values:convertArray(_.values,Array)};const ne=_.getInterpolation();ne!==_.DefaultInterpolation&&(te.interpolation=ne)}return te.type=_.ValueTypeName,te}InterpolantFactoryMethodDiscrete(_){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),_)}InterpolantFactoryMethodLinear(_){return new LinearInterpolant(this.times,this.values,this.getValueSize(),_)}InterpolantFactoryMethodSmooth(_){return new CubicInterpolant(this.times,this.values,this.getValueSize(),_)}setInterpolation(_){let K;switch(_){case InterpolateDiscrete:K=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:K=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:K=this.InterpolantFactoryMethodSmooth;break}if(K===void 0){const te="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(_!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(te);return console.warn("THREE.KeyframeTrack:",te),this}return this.createInterpolant=K,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(_){if(_!==0){const K=this.times;for(let te=0,ne=K.length;te!==ne;++te)K[te]+=_}return this}scale(_){if(_!==1){const K=this.times;for(let te=0,ne=K.length;te!==ne;++te)K[te]*=_}return this}trim(_,K){const te=this.times,ne=te.length;let ie=0,oe=ne-1;for(;ie!==ne&&te[ie]<_;)++ie;for(;oe!==-1&&te[oe]>K;)--oe;if(++oe,ie!==0||oe!==ne){ie>=oe&&(oe=Math.max(oe,1),ie=oe-1);const se=this.getValueSize();this.times=te.slice(ie,oe),this.values=this.values.slice(ie*se,oe*se)}return this}validate(){let _=!0;const K=this.getValueSize();K-Math.floor(K)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),_=!1);const te=this.times,ne=this.values,ie=te.length;ie===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),_=!1);let oe=null;for(let se=0;se!==ie;se++){const le=te[se];if(typeof le=="number"&&isNaN(le)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,se,le),_=!1;break}if(oe!==null&&oe>le){console.error("THREE.KeyframeTrack: Out of order keys.",this,se,le,oe),_=!1;break}oe=le}if(ne!==void 0&&isTypedArray(ne))for(let se=0,le=ne.length;se!==le;++se){const ce=ne[se];if(isNaN(ce)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,se,ce),_=!1;break}}return _}optimize(){const _=this.times.slice(),K=this.values.slice(),te=this.getValueSize(),ne=this.getInterpolation()===InterpolateSmooth,ie=_.length-1;let oe=1;for(let se=1;se<ie;++se){let le=!1;const ce=_[se],fe=_[se+1];if(ce!==fe&&(se!==1||ce!==_[0]))if(ne)le=!0;else{const me=se*te,pe=me-te,ge=me+te;for(let ye=0;ye!==te;++ye){const Ee=K[me+ye];if(Ee!==K[pe+ye]||Ee!==K[ge+ye]){le=!0;break}}}if(le){if(se!==oe){_[oe]=_[se];const me=se*te,pe=oe*te;for(let ge=0;ge!==te;++ge)K[pe+ge]=K[me+ge]}++oe}}if(ie>0){_[oe]=_[ie];for(let se=ie*te,le=oe*te,ce=0;ce!==te;++ce)K[le+ce]=K[se+ce];++oe}return oe!==_.length?(this.times=_.slice(0,oe),this.values=K.slice(0,oe*te)):(this.times=_,this.values=K),this}clone(){const _=this.times.slice(),K=this.values.slice(),te=this.constructor,ne=new te(this.name,_,K);return ne.createInterpolant=this.createInterpolant,ne}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(_,K,te){super(_,K,te)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(_,K,te,ne){super(_,K,te,ne)}interpolate_(_,K,te,ne){const ie=this.resultBuffer,oe=this.sampleValues,se=this.valueSize,le=(te-K)/(ne-K);let ce=_*se;for(let fe=ce+se;ce!==fe;ce+=4)Quaternion.slerpFlat(ie,0,oe,ce-se,oe,ce,le);return ie}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(_){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),_)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(_,K,te){super(_,K,te)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(_="",K=-1,te=[],ne=NormalAnimationBlendMode){this.name=_,this.tracks=te,this.duration=K,this.blendMode=ne,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(_){const K=[],te=_.tracks,ne=1/(_.fps||1);for(let oe=0,se=te.length;oe!==se;++oe)K.push(parseKeyframeTrack(te[oe]).scale(ne));const ie=new this(_.name,_.duration,K,_.blendMode);return ie.uuid=_.uuid,ie}static toJSON(_){const K=[],te=_.tracks,ne={name:_.name,duration:_.duration,tracks:K,uuid:_.uuid,blendMode:_.blendMode};for(let ie=0,oe=te.length;ie!==oe;++ie)K.push(KeyframeTrack.toJSON(te[ie]));return ne}static CreateFromMorphTargetSequence(_,K,te,ne){const ie=K.length,oe=[];for(let se=0;se<ie;se++){let le=[],ce=[];le.push((se+ie-1)%ie,se,(se+1)%ie),ce.push(0,1,0);const fe=getKeyframeOrder(le);le=sortedArray(le,1,fe),ce=sortedArray(ce,1,fe),!ne&&le[0]===0&&(le.push(ie),ce.push(ce[0])),oe.push(new NumberKeyframeTrack(".morphTargetInfluences["+K[se].name+"]",le,ce).scale(1/te))}return new this(_,-1,oe)}static findByName(_,K){let te=_;if(!Array.isArray(_)){const ne=_;te=ne.geometry&&ne.geometry.animations||ne.animations}for(let ne=0;ne<te.length;ne++)if(te[ne].name===K)return te[ne];return null}static CreateClipsFromMorphTargetSequences(_,K,te){const ne={},ie=/^([\w-]*?)([\d]+)$/;for(let se=0,le=_.length;se<le;se++){const ce=_[se],fe=ce.name.match(ie);if(fe&&fe.length>1){const me=fe[1];let pe=ne[me];pe||(ne[me]=pe=[]),pe.push(ce)}}const oe=[];for(const se in ne)oe.push(this.CreateFromMorphTargetSequence(se,ne[se],K,te));return oe}static parseAnimation(_,K){if(!_)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const te=function(me,pe,ge,ye,Ee){if(ge.length!==0){const _e=[],Se=[];flattenJSON(ge,_e,Se,ye),_e.length!==0&&Ee.push(new me(pe,_e,Se))}},ne=[],ie=_.name||"default",oe=_.fps||30,se=_.blendMode;let le=_.length||-1;const ce=_.hierarchy||[];for(let me=0;me<ce.length;me++){const pe=ce[me].keys;if(!(!pe||pe.length===0))if(pe[0].morphTargets){const ge={};let ye;for(ye=0;ye<pe.length;ye++)if(pe[ye].morphTargets)for(let Ee=0;Ee<pe[ye].morphTargets.length;Ee++)ge[pe[ye].morphTargets[Ee]]=-1;for(const Ee in ge){const _e=[],Se=[];for(let Re=0;Re!==pe[ye].morphTargets.length;++Re){const Te=pe[ye];_e.push(Te.time),Se.push(Te.morphTarget===Ee?1:0)}ne.push(new NumberKeyframeTrack(".morphTargetInfluence["+Ee+"]",_e,Se))}le=ge.length*oe}else{const ge=".bones["+K[me].name+"]";te(VectorKeyframeTrack,ge+".position",pe,"pos",ne),te(QuaternionKeyframeTrack,ge+".quaternion",pe,"rot",ne),te(VectorKeyframeTrack,ge+".scale",pe,"scl",ne)}}return ne.length===0?null:new this(ie,le,ne,se)}resetDuration(){const _=this.tracks;let K=0;for(let te=0,ne=_.length;te!==ne;++te){const ie=this.tracks[te];K=Math.max(K,ie.times[ie.times.length-1])}return this.duration=K,this}trim(){for(let _=0;_<this.tracks.length;_++)this.tracks[_].trim(0,this.duration);return this}validate(){let _=!0;for(let K=0;K<this.tracks.length;K++)_=_&&this.tracks[K].validate();return _}optimize(){for(let _=0;_<this.tracks.length;_++)this.tracks[_].optimize();return this}clone(){const _=[];for(let K=0;K<this.tracks.length;K++)_.push(this.tracks[K].clone());return new this.constructor(this.name,this.duration,_,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(Z){switch(Z.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+Z)}function parseKeyframeTrack(Z){if(Z.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const _=getTrackTypeForValueTypeName(Z.type);if(Z.times===void 0){const K=[],te=[];flattenJSON(Z.keys,K,te,"value"),Z.times=K,Z.values=te}return _.parse!==void 0?_.parse(Z):new _(Z.name,Z.times,Z.values,Z.interpolation)}const Cache={enabled:!1,files:{},add:function(Z,_){this.enabled!==!1&&(this.files[Z]=_)},get:function(Z){if(this.enabled!==!1)return this.files[Z]},remove:function(Z){delete this.files[Z]},clear:function(){this.files={}}};class LoadingManager{constructor(_,K,te){const ne=this;let ie=!1,oe=0,se=0,le;const ce=[];this.onStart=void 0,this.onLoad=_,this.onProgress=K,this.onError=te,this.itemStart=function(fe){se++,ie===!1&&ne.onStart!==void 0&&ne.onStart(fe,oe,se),ie=!0},this.itemEnd=function(fe){oe++,ne.onProgress!==void 0&&ne.onProgress(fe,oe,se),oe===se&&(ie=!1,ne.onLoad!==void 0&&ne.onLoad())},this.itemError=function(fe){ne.onError!==void 0&&ne.onError(fe)},this.resolveURL=function(fe){return le?le(fe):fe},this.setURLModifier=function(fe){return le=fe,this},this.addHandler=function(fe,me){return ce.push(fe,me),this},this.removeHandler=function(fe){const me=ce.indexOf(fe);return me!==-1&&ce.splice(me,2),this},this.getHandler=function(fe){for(let me=0,pe=ce.length;me<pe;me+=2){const ge=ce[me],ye=ce[me+1];if(ge.global&&(ge.lastIndex=0),ge.test(fe))return ye}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(_){this.manager=_!==void 0?_:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(_,K){const te=this;return new Promise(function(ne,ie){te.load(_,ne,K,ie)})}parse(){}setCrossOrigin(_){return this.crossOrigin=_,this}setWithCredentials(_){return this.withCredentials=_,this}setPath(_){return this.path=_,this}setResourcePath(_){return this.resourcePath=_,this}setRequestHeader(_){return this.requestHeader=_,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(_,K){super(_),this.response=K}}class FileLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){_===void 0&&(_=""),this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const ie=Cache.get(_);if(ie!==void 0)return this.manager.itemStart(_),setTimeout(()=>{K&&K(ie),this.manager.itemEnd(_)},0),ie;if(loading[_]!==void 0){loading[_].push({onLoad:K,onProgress:te,onError:ne});return}loading[_]=[],loading[_].push({onLoad:K,onProgress:te,onError:ne});const oe=new Request(_,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),se=this.mimeType,le=this.responseType;fetch(oe).then(ce=>{if(ce.status===200||ce.status===0){if(ce.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||ce.body===void 0||ce.body.getReader===void 0)return ce;const fe=loading[_],me=ce.body.getReader(),pe=ce.headers.get("X-File-Size")||ce.headers.get("Content-Length"),ge=pe?parseInt(pe):0,ye=ge!==0;let Ee=0;const _e=new ReadableStream({start(Se){Re();function Re(){me.read().then(({done:Te,value:Ae})=>{if(Te)Se.close();else{Ee+=Ae.byteLength;const Fe=new ProgressEvent("progress",{lengthComputable:ye,loaded:Ee,total:ge});for(let $e=0,ke=fe.length;$e<ke;$e++){const ze=fe[$e];ze.onProgress&&ze.onProgress(Fe)}Se.enqueue(Ae),Re()}},Te=>{Se.error(Te)})}}});return new Response(_e)}else throw new HttpError(`fetch for "${ce.url}" responded with ${ce.status}: ${ce.statusText}`,ce)}).then(ce=>{switch(le){case"arraybuffer":return ce.arrayBuffer();case"blob":return ce.blob();case"document":return ce.text().then(fe=>new DOMParser().parseFromString(fe,se));case"json":return ce.json();default:if(se===void 0)return ce.text();{const me=/charset="?([^;"\s]*)"?/i.exec(se),pe=me&&me[1]?me[1].toLowerCase():void 0,ge=new TextDecoder(pe);return ce.arrayBuffer().then(ye=>ge.decode(ye))}}}).then(ce=>{Cache.add(_,ce);const fe=loading[_];delete loading[_];for(let me=0,pe=fe.length;me<pe;me++){const ge=fe[me];ge.onLoad&&ge.onLoad(ce)}}).catch(ce=>{const fe=loading[_];if(fe===void 0)throw this.manager.itemError(_),ce;delete loading[_];for(let me=0,pe=fe.length;me<pe;me++){const ge=fe[me];ge.onError&&ge.onError(ce)}this.manager.itemError(_)}).finally(()=>{this.manager.itemEnd(_)}),this.manager.itemStart(_)}setResponseType(_){return this.responseType=_,this}setMimeType(_){return this.mimeType=_,this}}class AnimationLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=new FileLoader(this.manager);oe.setPath(this.path),oe.setRequestHeader(this.requestHeader),oe.setWithCredentials(this.withCredentials),oe.load(_,function(se){try{K(ie.parse(JSON.parse(se)))}catch(le){ne?ne(le):console.error(le),ie.manager.itemError(_)}},te,ne)}parse(_){const K=[];for(let te=0;te<_.length;te++){const ne=AnimationClip.parse(_[te]);K.push(ne)}return K}}class CompressedTextureLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=[],se=new CompressedTexture,le=new FileLoader(this.manager);le.setPath(this.path),le.setResponseType("arraybuffer"),le.setRequestHeader(this.requestHeader),le.setWithCredentials(ie.withCredentials);let ce=0;function fe(me){le.load(_[me],function(pe){const ge=ie.parse(pe,!0);oe[me]={width:ge.width,height:ge.height,format:ge.format,mipmaps:ge.mipmaps},ce+=1,ce===6&&(ge.mipmapCount===1&&(se.minFilter=LinearFilter),se.image=oe,se.format=ge.format,se.needsUpdate=!0,K&&K(se))},te,ne)}if(Array.isArray(_))for(let me=0,pe=_.length;me<pe;++me)fe(me);else le.load(_,function(me){const pe=ie.parse(me,!0);if(pe.isCubemap){const ge=pe.mipmaps.length/pe.mipmapCount;for(let ye=0;ye<ge;ye++){oe[ye]={mipmaps:[]};for(let Ee=0;Ee<pe.mipmapCount;Ee++)oe[ye].mipmaps.push(pe.mipmaps[ye*pe.mipmapCount+Ee]),oe[ye].format=pe.format,oe[ye].width=pe.width,oe[ye].height=pe.height}se.image=oe}else se.image.width=pe.width,se.image.height=pe.height,se.mipmaps=pe.mipmaps;pe.mipmapCount===1&&(se.minFilter=LinearFilter),se.format=pe.format,se.needsUpdate=!0,K&&K(se)},te,ne);return se}}class ImageLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const ie=this,oe=Cache.get(_);if(oe!==void 0)return ie.manager.itemStart(_),setTimeout(function(){K&&K(oe),ie.manager.itemEnd(_)},0),oe;const se=createElementNS("img");function le(){fe(),Cache.add(_,this),K&&K(this),ie.manager.itemEnd(_)}function ce(me){fe(),ne&&ne(me),ie.manager.itemError(_),ie.manager.itemEnd(_)}function fe(){se.removeEventListener("load",le,!1),se.removeEventListener("error",ce,!1)}return se.addEventListener("load",le,!1),se.addEventListener("error",ce,!1),_.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(se.crossOrigin=this.crossOrigin),ie.manager.itemStart(_),se.src=_,se}}class CubeTextureLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=new CubeTexture;ie.colorSpace=SRGBColorSpace;const oe=new ImageLoader(this.manager);oe.setCrossOrigin(this.crossOrigin),oe.setPath(this.path);let se=0;function le(ce){oe.load(_[ce],function(fe){ie.images[ce]=fe,se++,se===6&&(ie.needsUpdate=!0,K&&K(ie))},void 0,ne)}for(let ce=0;ce<_.length;++ce)le(ce);return ie}}class DataTextureLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=new DataTexture,se=new FileLoader(this.manager);return se.setResponseType("arraybuffer"),se.setRequestHeader(this.requestHeader),se.setPath(this.path),se.setWithCredentials(ie.withCredentials),se.load(_,function(le){let ce;try{ce=ie.parse(le)}catch(fe){if(ne!==void 0)ne(fe);else{console.error(fe);return}}ce.image!==void 0?oe.image=ce.image:ce.data!==void 0&&(oe.image.width=ce.width,oe.image.height=ce.height,oe.image.data=ce.data),oe.wrapS=ce.wrapS!==void 0?ce.wrapS:ClampToEdgeWrapping,oe.wrapT=ce.wrapT!==void 0?ce.wrapT:ClampToEdgeWrapping,oe.magFilter=ce.magFilter!==void 0?ce.magFilter:LinearFilter,oe.minFilter=ce.minFilter!==void 0?ce.minFilter:LinearFilter,oe.anisotropy=ce.anisotropy!==void 0?ce.anisotropy:1,ce.colorSpace!==void 0&&(oe.colorSpace=ce.colorSpace),ce.flipY!==void 0&&(oe.flipY=ce.flipY),ce.format!==void 0&&(oe.format=ce.format),ce.type!==void 0&&(oe.type=ce.type),ce.mipmaps!==void 0&&(oe.mipmaps=ce.mipmaps,oe.minFilter=LinearMipmapLinearFilter),ce.mipmapCount===1&&(oe.minFilter=LinearFilter),ce.generateMipmaps!==void 0&&(oe.generateMipmaps=ce.generateMipmaps),oe.needsUpdate=!0,K&&K(oe,ce)},te,ne),oe}}class TextureLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=new Texture,oe=new ImageLoader(this.manager);return oe.setCrossOrigin(this.crossOrigin),oe.setPath(this.path),oe.load(_,function(se){ie.image=se,ie.needsUpdate=!0,K!==void 0&&K(ie)},te,ne),ie}}class Light extends Object3D{constructor(_,K=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$1(_),this.intensity=K}dispose(){}copy(_,K){return super.copy(_,K),this.color.copy(_.color),this.intensity=_.intensity,this}toJSON(_){const K=super.toJSON(_);return K.object.color=this.color.getHex(),K.object.intensity=this.intensity,this.groundColor!==void 0&&(K.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(K.object.distance=this.distance),this.angle!==void 0&&(K.object.angle=this.angle),this.decay!==void 0&&(K.object.decay=this.decay),this.penumbra!==void 0&&(K.object.penumbra=this.penumbra),this.shadow!==void 0&&(K.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(K.object.target=this.target.uuid),K}}class HemisphereLight extends Light{constructor(_,K,te){super(_,te),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color$1(K)}copy(_,K){return super.copy(_,K),this.groundColor.copy(_.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(_){this.camera=_,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(_){const K=this.camera,te=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(_.matrixWorld),K.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(_.target.matrixWorld),K.lookAt(_lookTarget$1),K.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),te.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),te.multiply(_projScreenMatrix$1)}getViewport(_){return this._viewports[_]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(_){return this.camera=_.camera.clone(),this.intensity=_.intensity,this.bias=_.bias,this.radius=_.radius,this.mapSize.copy(_.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const _={};return this.intensity!==1&&(_.intensity=this.intensity),this.bias!==0&&(_.bias=this.bias),this.normalBias!==0&&(_.normalBias=this.normalBias),this.radius!==1&&(_.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(_.mapSize=this.mapSize.toArray()),_.camera=this.camera.toJSON(!1).object,delete _.camera.matrix,_}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(_){const K=this.camera,te=RAD2DEG*2*_.angle*this.focus,ne=this.mapSize.width/this.mapSize.height,ie=_.distance||K.far;(te!==K.fov||ne!==K.aspect||ie!==K.far)&&(K.fov=te,K.aspect=ne,K.far=ie,K.updateProjectionMatrix()),super.updateMatrices(_)}copy(_){return super.copy(_),this.focus=_.focus,this}}class SpotLight extends Light{constructor(_,K,te=0,ne=Math.PI/3,ie=0,oe=2){super(_,K),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=te,this.angle=ne,this.penumbra=ie,this.decay=oe,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(_){this.intensity=_/Math.PI}dispose(){this.shadow.dispose()}copy(_,K){return super.copy(_,K),this.distance=_.distance,this.angle=_.angle,this.penumbra=_.penumbra,this.decay=_.decay,this.target=_.target.clone(),this.shadow=_.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(_,K=0){const te=this.camera,ne=this.matrix,ie=_.distance||te.far;ie!==te.far&&(te.far=ie,te.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(_.matrixWorld),te.position.copy(_lightPositionWorld),_lookTarget.copy(te.position),_lookTarget.add(this._cubeDirections[K]),te.up.copy(this._cubeUps[K]),te.lookAt(_lookTarget),te.updateMatrixWorld(),ne.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(_,K,te=0,ne=2){super(_,K),this.isPointLight=!0,this.type="PointLight",this.distance=te,this.decay=ne,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(_){this.intensity=_/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(_,K){return super.copy(_,K),this.distance=_.distance,this.decay=_.decay,this.shadow=_.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor(_=-1,K=1,te=1,ne=-1,ie=.1,oe=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=_,this.right=K,this.top=te,this.bottom=ne,this.near=ie,this.far=oe,this.updateProjectionMatrix()}copy(_,K){return super.copy(_,K),this.left=_.left,this.right=_.right,this.top=_.top,this.bottom=_.bottom,this.near=_.near,this.far=_.far,this.zoom=_.zoom,this.view=_.view===null?null:Object.assign({},_.view),this}setViewOffset(_,K,te,ne,ie,oe){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=K,this.view.offsetX=te,this.view.offsetY=ne,this.view.width=ie,this.view.height=oe,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _=(this.right-this.left)/(2*this.zoom),K=(this.top-this.bottom)/(2*this.zoom),te=(this.right+this.left)/2,ne=(this.top+this.bottom)/2;let ie=te-_,oe=te+_,se=ne+K,le=ne-K;if(this.view!==null&&this.view.enabled){const ce=(this.right-this.left)/this.view.fullWidth/this.zoom,fe=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ie+=ce*this.view.offsetX,oe=ie+ce*this.view.width,se-=fe*this.view.offsetY,le=se-fe*this.view.height}this.projectionMatrix.makeOrthographic(ie,oe,se,le,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_){const K=super.toJSON(_);return K.object.zoom=this.zoom,K.object.left=this.left,K.object.right=this.right,K.object.top=this.top,K.object.bottom=this.bottom,K.object.near=this.near,K.object.far=this.far,this.view!==null&&(K.object.view=Object.assign({},this.view)),K}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(_,K){super(_,K),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(_){return super.copy(_),this.target=_.target.clone(),this.shadow=_.shadow.clone(),this}}class AmbientLight extends Light{constructor(_,K){super(_,K),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(_,K,te=10,ne=10){super(_,K),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=te,this.height=ne}get power(){return this.intensity*this.width*this.height*Math.PI}set power(_){this.intensity=_/(this.width*this.height*Math.PI)}copy(_){return super.copy(_),this.width=_.width,this.height=_.height,this}toJSON(_){const K=super.toJSON(_);return K.object.width=this.width,K.object.height=this.height,K}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let _=0;_<9;_++)this.coefficients.push(new Vector3)}set(_){for(let K=0;K<9;K++)this.coefficients[K].copy(_[K]);return this}zero(){for(let _=0;_<9;_++)this.coefficients[_].set(0,0,0);return this}getAt(_,K){const te=_.x,ne=_.y,ie=_.z,oe=this.coefficients;return K.copy(oe[0]).multiplyScalar(.282095),K.addScaledVector(oe[1],.488603*ne),K.addScaledVector(oe[2],.488603*ie),K.addScaledVector(oe[3],.488603*te),K.addScaledVector(oe[4],1.092548*(te*ne)),K.addScaledVector(oe[5],1.092548*(ne*ie)),K.addScaledVector(oe[6],.315392*(3*ie*ie-1)),K.addScaledVector(oe[7],1.092548*(te*ie)),K.addScaledVector(oe[8],.546274*(te*te-ne*ne)),K}getIrradianceAt(_,K){const te=_.x,ne=_.y,ie=_.z,oe=this.coefficients;return K.copy(oe[0]).multiplyScalar(.886227),K.addScaledVector(oe[1],2*.511664*ne),K.addScaledVector(oe[2],2*.511664*ie),K.addScaledVector(oe[3],2*.511664*te),K.addScaledVector(oe[4],2*.429043*te*ne),K.addScaledVector(oe[5],2*.429043*ne*ie),K.addScaledVector(oe[6],.743125*ie*ie-.247708),K.addScaledVector(oe[7],2*.429043*te*ie),K.addScaledVector(oe[8],.429043*(te*te-ne*ne)),K}add(_){for(let K=0;K<9;K++)this.coefficients[K].add(_.coefficients[K]);return this}addScaledSH(_,K){for(let te=0;te<9;te++)this.coefficients[te].addScaledVector(_.coefficients[te],K);return this}scale(_){for(let K=0;K<9;K++)this.coefficients[K].multiplyScalar(_);return this}lerp(_,K){for(let te=0;te<9;te++)this.coefficients[te].lerp(_.coefficients[te],K);return this}equals(_){for(let K=0;K<9;K++)if(!this.coefficients[K].equals(_.coefficients[K]))return!1;return!0}copy(_){return this.set(_.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(_,K=0){const te=this.coefficients;for(let ne=0;ne<9;ne++)te[ne].fromArray(_,K+ne*3);return this}toArray(_=[],K=0){const te=this.coefficients;for(let ne=0;ne<9;ne++)te[ne].toArray(_,K+ne*3);return _}static getBasisAt(_,K){const te=_.x,ne=_.y,ie=_.z;K[0]=.282095,K[1]=.488603*ne,K[2]=.488603*ie,K[3]=.488603*te,K[4]=1.092548*te*ne,K[5]=1.092548*ne*ie,K[6]=.315392*(3*ie*ie-1),K[7]=1.092548*te*ie,K[8]=.546274*(te*te-ne*ne)}}class LightProbe extends Light{constructor(_=new SphericalHarmonics3,K=1){super(void 0,K),this.isLightProbe=!0,this.sh=_}copy(_){return super.copy(_),this.sh.copy(_.sh),this}fromJSON(_){return this.intensity=_.intensity,this.sh.fromArray(_.sh),this}toJSON(_){const K=super.toJSON(_);return K.object.sh=this.sh.toArray(),K}}class MaterialLoader extends Loader{constructor(_){super(_),this.textures={}}load(_,K,te,ne){const ie=this,oe=new FileLoader(ie.manager);oe.setPath(ie.path),oe.setRequestHeader(ie.requestHeader),oe.setWithCredentials(ie.withCredentials),oe.load(_,function(se){try{K(ie.parse(JSON.parse(se)))}catch(le){ne?ne(le):console.error(le),ie.manager.itemError(_)}},te,ne)}parse(_){const K=this.textures;function te(ie){return K[ie]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",ie),K[ie]}const ne=this.createMaterialFromType(_.type);if(_.uuid!==void 0&&(ne.uuid=_.uuid),_.name!==void 0&&(ne.name=_.name),_.color!==void 0&&ne.color!==void 0&&ne.color.setHex(_.color),_.roughness!==void 0&&(ne.roughness=_.roughness),_.metalness!==void 0&&(ne.metalness=_.metalness),_.sheen!==void 0&&(ne.sheen=_.sheen),_.sheenColor!==void 0&&(ne.sheenColor=new Color$1().setHex(_.sheenColor)),_.sheenRoughness!==void 0&&(ne.sheenRoughness=_.sheenRoughness),_.emissive!==void 0&&ne.emissive!==void 0&&ne.emissive.setHex(_.emissive),_.specular!==void 0&&ne.specular!==void 0&&ne.specular.setHex(_.specular),_.specularIntensity!==void 0&&(ne.specularIntensity=_.specularIntensity),_.specularColor!==void 0&&ne.specularColor!==void 0&&ne.specularColor.setHex(_.specularColor),_.shininess!==void 0&&(ne.shininess=_.shininess),_.clearcoat!==void 0&&(ne.clearcoat=_.clearcoat),_.clearcoatRoughness!==void 0&&(ne.clearcoatRoughness=_.clearcoatRoughness),_.dispersion!==void 0&&(ne.dispersion=_.dispersion),_.iridescence!==void 0&&(ne.iridescence=_.iridescence),_.iridescenceIOR!==void 0&&(ne.iridescenceIOR=_.iridescenceIOR),_.iridescenceThicknessRange!==void 0&&(ne.iridescenceThicknessRange=_.iridescenceThicknessRange),_.transmission!==void 0&&(ne.transmission=_.transmission),_.thickness!==void 0&&(ne.thickness=_.thickness),_.attenuationDistance!==void 0&&(ne.attenuationDistance=_.attenuationDistance),_.attenuationColor!==void 0&&ne.attenuationColor!==void 0&&ne.attenuationColor.setHex(_.attenuationColor),_.anisotropy!==void 0&&(ne.anisotropy=_.anisotropy),_.anisotropyRotation!==void 0&&(ne.anisotropyRotation=_.anisotropyRotation),_.fog!==void 0&&(ne.fog=_.fog),_.flatShading!==void 0&&(ne.flatShading=_.flatShading),_.blending!==void 0&&(ne.blending=_.blending),_.combine!==void 0&&(ne.combine=_.combine),_.side!==void 0&&(ne.side=_.side),_.shadowSide!==void 0&&(ne.shadowSide=_.shadowSide),_.opacity!==void 0&&(ne.opacity=_.opacity),_.transparent!==void 0&&(ne.transparent=_.transparent),_.alphaTest!==void 0&&(ne.alphaTest=_.alphaTest),_.alphaHash!==void 0&&(ne.alphaHash=_.alphaHash),_.depthFunc!==void 0&&(ne.depthFunc=_.depthFunc),_.depthTest!==void 0&&(ne.depthTest=_.depthTest),_.depthWrite!==void 0&&(ne.depthWrite=_.depthWrite),_.colorWrite!==void 0&&(ne.colorWrite=_.colorWrite),_.blendSrc!==void 0&&(ne.blendSrc=_.blendSrc),_.blendDst!==void 0&&(ne.blendDst=_.blendDst),_.blendEquation!==void 0&&(ne.blendEquation=_.blendEquation),_.blendSrcAlpha!==void 0&&(ne.blendSrcAlpha=_.blendSrcAlpha),_.blendDstAlpha!==void 0&&(ne.blendDstAlpha=_.blendDstAlpha),_.blendEquationAlpha!==void 0&&(ne.blendEquationAlpha=_.blendEquationAlpha),_.blendColor!==void 0&&ne.blendColor!==void 0&&ne.blendColor.setHex(_.blendColor),_.blendAlpha!==void 0&&(ne.blendAlpha=_.blendAlpha),_.stencilWriteMask!==void 0&&(ne.stencilWriteMask=_.stencilWriteMask),_.stencilFunc!==void 0&&(ne.stencilFunc=_.stencilFunc),_.stencilRef!==void 0&&(ne.stencilRef=_.stencilRef),_.stencilFuncMask!==void 0&&(ne.stencilFuncMask=_.stencilFuncMask),_.stencilFail!==void 0&&(ne.stencilFail=_.stencilFail),_.stencilZFail!==void 0&&(ne.stencilZFail=_.stencilZFail),_.stencilZPass!==void 0&&(ne.stencilZPass=_.stencilZPass),_.stencilWrite!==void 0&&(ne.stencilWrite=_.stencilWrite),_.wireframe!==void 0&&(ne.wireframe=_.wireframe),_.wireframeLinewidth!==void 0&&(ne.wireframeLinewidth=_.wireframeLinewidth),_.wireframeLinecap!==void 0&&(ne.wireframeLinecap=_.wireframeLinecap),_.wireframeLinejoin!==void 0&&(ne.wireframeLinejoin=_.wireframeLinejoin),_.rotation!==void 0&&(ne.rotation=_.rotation),_.linewidth!==void 0&&(ne.linewidth=_.linewidth),_.dashSize!==void 0&&(ne.dashSize=_.dashSize),_.gapSize!==void 0&&(ne.gapSize=_.gapSize),_.scale!==void 0&&(ne.scale=_.scale),_.polygonOffset!==void 0&&(ne.polygonOffset=_.polygonOffset),_.polygonOffsetFactor!==void 0&&(ne.polygonOffsetFactor=_.polygonOffsetFactor),_.polygonOffsetUnits!==void 0&&(ne.polygonOffsetUnits=_.polygonOffsetUnits),_.dithering!==void 0&&(ne.dithering=_.dithering),_.alphaToCoverage!==void 0&&(ne.alphaToCoverage=_.alphaToCoverage),_.premultipliedAlpha!==void 0&&(ne.premultipliedAlpha=_.premultipliedAlpha),_.forceSinglePass!==void 0&&(ne.forceSinglePass=_.forceSinglePass),_.visible!==void 0&&(ne.visible=_.visible),_.toneMapped!==void 0&&(ne.toneMapped=_.toneMapped),_.userData!==void 0&&(ne.userData=_.userData),_.vertexColors!==void 0&&(typeof _.vertexColors=="number"?ne.vertexColors=_.vertexColors>0:ne.vertexColors=_.vertexColors),_.uniforms!==void 0)for(const ie in _.uniforms){const oe=_.uniforms[ie];switch(ne.uniforms[ie]={},oe.type){case"t":ne.uniforms[ie].value=te(oe.value);break;case"c":ne.uniforms[ie].value=new Color$1().setHex(oe.value);break;case"v2":ne.uniforms[ie].value=new Vector2().fromArray(oe.value);break;case"v3":ne.uniforms[ie].value=new Vector3().fromArray(oe.value);break;case"v4":ne.uniforms[ie].value=new Vector4().fromArray(oe.value);break;case"m3":ne.uniforms[ie].value=new Matrix3().fromArray(oe.value);break;case"m4":ne.uniforms[ie].value=new Matrix4().fromArray(oe.value);break;default:ne.uniforms[ie].value=oe.value}}if(_.defines!==void 0&&(ne.defines=_.defines),_.vertexShader!==void 0&&(ne.vertexShader=_.vertexShader),_.fragmentShader!==void 0&&(ne.fragmentShader=_.fragmentShader),_.glslVersion!==void 0&&(ne.glslVersion=_.glslVersion),_.extensions!==void 0)for(const ie in _.extensions)ne.extensions[ie]=_.extensions[ie];if(_.lights!==void 0&&(ne.lights=_.lights),_.clipping!==void 0&&(ne.clipping=_.clipping),_.size!==void 0&&(ne.size=_.size),_.sizeAttenuation!==void 0&&(ne.sizeAttenuation=_.sizeAttenuation),_.map!==void 0&&(ne.map=te(_.map)),_.matcap!==void 0&&(ne.matcap=te(_.matcap)),_.alphaMap!==void 0&&(ne.alphaMap=te(_.alphaMap)),_.bumpMap!==void 0&&(ne.bumpMap=te(_.bumpMap)),_.bumpScale!==void 0&&(ne.bumpScale=_.bumpScale),_.normalMap!==void 0&&(ne.normalMap=te(_.normalMap)),_.normalMapType!==void 0&&(ne.normalMapType=_.normalMapType),_.normalScale!==void 0){let ie=_.normalScale;Array.isArray(ie)===!1&&(ie=[ie,ie]),ne.normalScale=new Vector2().fromArray(ie)}return _.displacementMap!==void 0&&(ne.displacementMap=te(_.displacementMap)),_.displacementScale!==void 0&&(ne.displacementScale=_.displacementScale),_.displacementBias!==void 0&&(ne.displacementBias=_.displacementBias),_.roughnessMap!==void 0&&(ne.roughnessMap=te(_.roughnessMap)),_.metalnessMap!==void 0&&(ne.metalnessMap=te(_.metalnessMap)),_.emissiveMap!==void 0&&(ne.emissiveMap=te(_.emissiveMap)),_.emissiveIntensity!==void 0&&(ne.emissiveIntensity=_.emissiveIntensity),_.specularMap!==void 0&&(ne.specularMap=te(_.specularMap)),_.specularIntensityMap!==void 0&&(ne.specularIntensityMap=te(_.specularIntensityMap)),_.specularColorMap!==void 0&&(ne.specularColorMap=te(_.specularColorMap)),_.envMap!==void 0&&(ne.envMap=te(_.envMap)),_.envMapRotation!==void 0&&ne.envMapRotation.fromArray(_.envMapRotation),_.envMapIntensity!==void 0&&(ne.envMapIntensity=_.envMapIntensity),_.reflectivity!==void 0&&(ne.reflectivity=_.reflectivity),_.refractionRatio!==void 0&&(ne.refractionRatio=_.refractionRatio),_.lightMap!==void 0&&(ne.lightMap=te(_.lightMap)),_.lightMapIntensity!==void 0&&(ne.lightMapIntensity=_.lightMapIntensity),_.aoMap!==void 0&&(ne.aoMap=te(_.aoMap)),_.aoMapIntensity!==void 0&&(ne.aoMapIntensity=_.aoMapIntensity),_.gradientMap!==void 0&&(ne.gradientMap=te(_.gradientMap)),_.clearcoatMap!==void 0&&(ne.clearcoatMap=te(_.clearcoatMap)),_.clearcoatRoughnessMap!==void 0&&(ne.clearcoatRoughnessMap=te(_.clearcoatRoughnessMap)),_.clearcoatNormalMap!==void 0&&(ne.clearcoatNormalMap=te(_.clearcoatNormalMap)),_.clearcoatNormalScale!==void 0&&(ne.clearcoatNormalScale=new Vector2().fromArray(_.clearcoatNormalScale)),_.iridescenceMap!==void 0&&(ne.iridescenceMap=te(_.iridescenceMap)),_.iridescenceThicknessMap!==void 0&&(ne.iridescenceThicknessMap=te(_.iridescenceThicknessMap)),_.transmissionMap!==void 0&&(ne.transmissionMap=te(_.transmissionMap)),_.thicknessMap!==void 0&&(ne.thicknessMap=te(_.thicknessMap)),_.anisotropyMap!==void 0&&(ne.anisotropyMap=te(_.anisotropyMap)),_.sheenColorMap!==void 0&&(ne.sheenColorMap=te(_.sheenColorMap)),_.sheenRoughnessMap!==void 0&&(ne.sheenRoughnessMap=te(_.sheenRoughnessMap)),ne}setTextures(_){return this.textures=_,this}createMaterialFromType(_){return MaterialLoader.createMaterialFromType(_)}static createMaterialFromType(_){const K={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new K[_]}}class LoaderUtils{static decodeText(_){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(_);let K="";for(let te=0,ne=_.length;te<ne;te++)K+=String.fromCharCode(_[te]);try{return decodeURIComponent(escape(K))}catch{return K}}static extractUrlBase(_){const K=_.lastIndexOf("/");return K===-1?"./":_.slice(0,K+1)}static resolveURL(_,K){return typeof _!="string"||_===""?"":(/^https?:\/\//i.test(K)&&/^\//.test(_)&&(K=K.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(_)||/^data:.*,.*$/i.test(_)||/^blob:.*$/i.test(_)?_:K+_)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(_){return super.copy(_),this.instanceCount=_.instanceCount,this}toJSON(){const _=super.toJSON();return _.instanceCount=this.instanceCount,_.isInstancedBufferGeometry=!0,_}}class BufferGeometryLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=new FileLoader(ie.manager);oe.setPath(ie.path),oe.setRequestHeader(ie.requestHeader),oe.setWithCredentials(ie.withCredentials),oe.load(_,function(se){try{K(ie.parse(JSON.parse(se)))}catch(le){ne?ne(le):console.error(le),ie.manager.itemError(_)}},te,ne)}parse(_){const K={},te={};function ne(ge,ye){if(K[ye]!==void 0)return K[ye];const _e=ge.interleavedBuffers[ye],Se=ie(ge,_e.buffer),Re=getTypedArray(_e.type,Se),Te=new InterleavedBuffer(Re,_e.stride);return Te.uuid=_e.uuid,K[ye]=Te,Te}function ie(ge,ye){if(te[ye]!==void 0)return te[ye];const _e=ge.arrayBuffers[ye],Se=new Uint32Array(_e).buffer;return te[ye]=Se,Se}const oe=_.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,se=_.data.index;if(se!==void 0){const ge=getTypedArray(se.type,se.array);oe.setIndex(new BufferAttribute(ge,1))}const le=_.data.attributes;for(const ge in le){const ye=le[ge];let Ee;if(ye.isInterleavedBufferAttribute){const _e=ne(_.data,ye.data);Ee=new InterleavedBufferAttribute(_e,ye.itemSize,ye.offset,ye.normalized)}else{const _e=getTypedArray(ye.type,ye.array),Se=ye.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;Ee=new Se(_e,ye.itemSize,ye.normalized)}ye.name!==void 0&&(Ee.name=ye.name),ye.usage!==void 0&&Ee.setUsage(ye.usage),oe.setAttribute(ge,Ee)}const ce=_.data.morphAttributes;if(ce)for(const ge in ce){const ye=ce[ge],Ee=[];for(let _e=0,Se=ye.length;_e<Se;_e++){const Re=ye[_e];let Te;if(Re.isInterleavedBufferAttribute){const Ae=ne(_.data,Re.data);Te=new InterleavedBufferAttribute(Ae,Re.itemSize,Re.offset,Re.normalized)}else{const Ae=getTypedArray(Re.type,Re.array);Te=new BufferAttribute(Ae,Re.itemSize,Re.normalized)}Re.name!==void 0&&(Te.name=Re.name),Ee.push(Te)}oe.morphAttributes[ge]=Ee}_.data.morphTargetsRelative&&(oe.morphTargetsRelative=!0);const me=_.data.groups||_.data.drawcalls||_.data.offsets;if(me!==void 0)for(let ge=0,ye=me.length;ge!==ye;++ge){const Ee=me[ge];oe.addGroup(Ee.start,Ee.count,Ee.materialIndex)}const pe=_.data.boundingSphere;if(pe!==void 0){const ge=new Vector3;pe.center!==void 0&&ge.fromArray(pe.center),oe.boundingSphere=new Sphere(ge,pe.radius)}return _.name&&(oe.name=_.name),_.userData&&(oe.userData=_.userData),oe}}class ObjectLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=this.path===""?LoaderUtils.extractUrlBase(_):this.path;this.resourcePath=this.resourcePath||oe;const se=new FileLoader(this.manager);se.setPath(this.path),se.setRequestHeader(this.requestHeader),se.setWithCredentials(this.withCredentials),se.load(_,function(le){let ce=null;try{ce=JSON.parse(le)}catch(me){ne!==void 0&&ne(me),console.error("THREE:ObjectLoader: Can't parse "+_+".",me.message);return}const fe=ce.metadata;if(fe===void 0||fe.type===void 0||fe.type.toLowerCase()==="geometry"){ne!==void 0&&ne(new Error("THREE.ObjectLoader: Can't load "+_)),console.error("THREE.ObjectLoader: Can't load "+_);return}ie.parse(ce,K)},te,ne)}async loadAsync(_,K){const te=this,ne=this.path===""?LoaderUtils.extractUrlBase(_):this.path;this.resourcePath=this.resourcePath||ne;const ie=new FileLoader(this.manager);ie.setPath(this.path),ie.setRequestHeader(this.requestHeader),ie.setWithCredentials(this.withCredentials);const oe=await ie.loadAsync(_,K),se=JSON.parse(oe),le=se.metadata;if(le===void 0||le.type===void 0||le.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+_);return await te.parseAsync(se)}parse(_,K){const te=this.parseAnimations(_.animations),ne=this.parseShapes(_.shapes),ie=this.parseGeometries(_.geometries,ne),oe=this.parseImages(_.images,function(){K!==void 0&&K(ce)}),se=this.parseTextures(_.textures,oe),le=this.parseMaterials(_.materials,se),ce=this.parseObject(_.object,ie,le,se,te),fe=this.parseSkeletons(_.skeletons,ce);if(this.bindSkeletons(ce,fe),this.bindLightTargets(ce),K!==void 0){let me=!1;for(const pe in oe)if(oe[pe].data instanceof HTMLImageElement){me=!0;break}me===!1&&K(ce)}return ce}async parseAsync(_){const K=this.parseAnimations(_.animations),te=this.parseShapes(_.shapes),ne=this.parseGeometries(_.geometries,te),ie=await this.parseImagesAsync(_.images),oe=this.parseTextures(_.textures,ie),se=this.parseMaterials(_.materials,oe),le=this.parseObject(_.object,ne,se,oe,K),ce=this.parseSkeletons(_.skeletons,le);return this.bindSkeletons(le,ce),this.bindLightTargets(le),le}parseShapes(_){const K={};if(_!==void 0)for(let te=0,ne=_.length;te<ne;te++){const ie=new Shape().fromJSON(_[te]);K[ie.uuid]=ie}return K}parseSkeletons(_,K){const te={},ne={};if(K.traverse(function(ie){ie.isBone&&(ne[ie.uuid]=ie)}),_!==void 0)for(let ie=0,oe=_.length;ie<oe;ie++){const se=new Skeleton().fromJSON(_[ie],ne);te[se.uuid]=se}return te}parseGeometries(_,K){const te={};if(_!==void 0){const ne=new BufferGeometryLoader;for(let ie=0,oe=_.length;ie<oe;ie++){let se;const le=_[ie];switch(le.type){case"BufferGeometry":case"InstancedBufferGeometry":se=ne.parse(le);break;default:le.type in Geometries?se=Geometries[le.type].fromJSON(le,K):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${le.type}"`)}se.uuid=le.uuid,le.name!==void 0&&(se.name=le.name),le.userData!==void 0&&(se.userData=le.userData),te[le.uuid]=se}}return te}parseMaterials(_,K){const te={},ne={};if(_!==void 0){const ie=new MaterialLoader;ie.setTextures(K);for(let oe=0,se=_.length;oe<se;oe++){const le=_[oe];te[le.uuid]===void 0&&(te[le.uuid]=ie.parse(le)),ne[le.uuid]=te[le.uuid]}}return ne}parseAnimations(_){const K={};if(_!==void 0)for(let te=0;te<_.length;te++){const ne=_[te],ie=AnimationClip.parse(ne);K[ie.uuid]=ie}return K}parseImages(_,K){const te=this,ne={};let ie;function oe(le){return te.manager.itemStart(le),ie.load(le,function(){te.manager.itemEnd(le)},void 0,function(){te.manager.itemError(le),te.manager.itemEnd(le)})}function se(le){if(typeof le=="string"){const ce=le,fe=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ce)?ce:te.resourcePath+ce;return oe(fe)}else return le.data?{data:getTypedArray(le.type,le.data),width:le.width,height:le.height}:null}if(_!==void 0&&_.length>0){const le=new LoadingManager(K);ie=new ImageLoader(le),ie.setCrossOrigin(this.crossOrigin);for(let ce=0,fe=_.length;ce<fe;ce++){const me=_[ce],pe=me.url;if(Array.isArray(pe)){const ge=[];for(let ye=0,Ee=pe.length;ye<Ee;ye++){const _e=pe[ye],Se=se(_e);Se!==null&&(Se instanceof HTMLImageElement?ge.push(Se):ge.push(new DataTexture(Se.data,Se.width,Se.height)))}ne[me.uuid]=new Source(ge)}else{const ge=se(me.url);ne[me.uuid]=new Source(ge)}}}return ne}async parseImagesAsync(_){const K=this,te={};let ne;async function ie(oe){if(typeof oe=="string"){const se=oe,le=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(se)?se:K.resourcePath+se;return await ne.loadAsync(le)}else return oe.data?{data:getTypedArray(oe.type,oe.data),width:oe.width,height:oe.height}:null}if(_!==void 0&&_.length>0){ne=new ImageLoader(this.manager),ne.setCrossOrigin(this.crossOrigin);for(let oe=0,se=_.length;oe<se;oe++){const le=_[oe],ce=le.url;if(Array.isArray(ce)){const fe=[];for(let me=0,pe=ce.length;me<pe;me++){const ge=ce[me],ye=await ie(ge);ye!==null&&(ye instanceof HTMLImageElement?fe.push(ye):fe.push(new DataTexture(ye.data,ye.width,ye.height)))}te[le.uuid]=new Source(fe)}else{const fe=await ie(le.url);te[le.uuid]=new Source(fe)}}}return te}parseTextures(_,K){function te(ie,oe){return typeof ie=="number"?ie:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",ie),oe[ie])}const ne={};if(_!==void 0)for(let ie=0,oe=_.length;ie<oe;ie++){const se=_[ie];se.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',se.uuid),K[se.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",se.image);const le=K[se.image],ce=le.data;let fe;Array.isArray(ce)?(fe=new CubeTexture,ce.length===6&&(fe.needsUpdate=!0)):(ce&&ce.data?fe=new DataTexture:fe=new Texture,ce&&(fe.needsUpdate=!0)),fe.source=le,fe.uuid=se.uuid,se.name!==void 0&&(fe.name=se.name),se.mapping!==void 0&&(fe.mapping=te(se.mapping,TEXTURE_MAPPING)),se.channel!==void 0&&(fe.channel=se.channel),se.offset!==void 0&&fe.offset.fromArray(se.offset),se.repeat!==void 0&&fe.repeat.fromArray(se.repeat),se.center!==void 0&&fe.center.fromArray(se.center),se.rotation!==void 0&&(fe.rotation=se.rotation),se.wrap!==void 0&&(fe.wrapS=te(se.wrap[0],TEXTURE_WRAPPING),fe.wrapT=te(se.wrap[1],TEXTURE_WRAPPING)),se.format!==void 0&&(fe.format=se.format),se.internalFormat!==void 0&&(fe.internalFormat=se.internalFormat),se.type!==void 0&&(fe.type=se.type),se.colorSpace!==void 0&&(fe.colorSpace=se.colorSpace),se.minFilter!==void 0&&(fe.minFilter=te(se.minFilter,TEXTURE_FILTER)),se.magFilter!==void 0&&(fe.magFilter=te(se.magFilter,TEXTURE_FILTER)),se.anisotropy!==void 0&&(fe.anisotropy=se.anisotropy),se.flipY!==void 0&&(fe.flipY=se.flipY),se.generateMipmaps!==void 0&&(fe.generateMipmaps=se.generateMipmaps),se.premultiplyAlpha!==void 0&&(fe.premultiplyAlpha=se.premultiplyAlpha),se.unpackAlignment!==void 0&&(fe.unpackAlignment=se.unpackAlignment),se.compareFunction!==void 0&&(fe.compareFunction=se.compareFunction),se.userData!==void 0&&(fe.userData=se.userData),ne[se.uuid]=fe}return ne}parseObject(_,K,te,ne,ie){let oe;function se(pe){return K[pe]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",pe),K[pe]}function le(pe){if(pe!==void 0){if(Array.isArray(pe)){const ge=[];for(let ye=0,Ee=pe.length;ye<Ee;ye++){const _e=pe[ye];te[_e]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_e),ge.push(te[_e])}return ge}return te[pe]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",pe),te[pe]}}function ce(pe){return ne[pe]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",pe),ne[pe]}let fe,me;switch(_.type){case"Scene":oe=new Scene,_.background!==void 0&&(Number.isInteger(_.background)?oe.background=new Color$1(_.background):oe.background=ce(_.background)),_.environment!==void 0&&(oe.environment=ce(_.environment)),_.fog!==void 0&&(_.fog.type==="Fog"?oe.fog=new Fog(_.fog.color,_.fog.near,_.fog.far):_.fog.type==="FogExp2"&&(oe.fog=new FogExp2(_.fog.color,_.fog.density)),_.fog.name!==""&&(oe.fog.name=_.fog.name)),_.backgroundBlurriness!==void 0&&(oe.backgroundBlurriness=_.backgroundBlurriness),_.backgroundIntensity!==void 0&&(oe.backgroundIntensity=_.backgroundIntensity),_.backgroundRotation!==void 0&&oe.backgroundRotation.fromArray(_.backgroundRotation),_.environmentIntensity!==void 0&&(oe.environmentIntensity=_.environmentIntensity),_.environmentRotation!==void 0&&oe.environmentRotation.fromArray(_.environmentRotation);break;case"PerspectiveCamera":oe=new PerspectiveCamera$1(_.fov,_.aspect,_.near,_.far),_.focus!==void 0&&(oe.focus=_.focus),_.zoom!==void 0&&(oe.zoom=_.zoom),_.filmGauge!==void 0&&(oe.filmGauge=_.filmGauge),_.filmOffset!==void 0&&(oe.filmOffset=_.filmOffset),_.view!==void 0&&(oe.view=Object.assign({},_.view));break;case"OrthographicCamera":oe=new OrthographicCamera(_.left,_.right,_.top,_.bottom,_.near,_.far),_.zoom!==void 0&&(oe.zoom=_.zoom),_.view!==void 0&&(oe.view=Object.assign({},_.view));break;case"AmbientLight":oe=new AmbientLight(_.color,_.intensity);break;case"DirectionalLight":oe=new DirectionalLight(_.color,_.intensity),oe.target=_.target||"";break;case"PointLight":oe=new PointLight(_.color,_.intensity,_.distance,_.decay);break;case"RectAreaLight":oe=new RectAreaLight(_.color,_.intensity,_.width,_.height);break;case"SpotLight":oe=new SpotLight(_.color,_.intensity,_.distance,_.angle,_.penumbra,_.decay),oe.target=_.target||"";break;case"HemisphereLight":oe=new HemisphereLight(_.color,_.groundColor,_.intensity);break;case"LightProbe":oe=new LightProbe().fromJSON(_);break;case"SkinnedMesh":fe=se(_.geometry),me=le(_.material),oe=new SkinnedMesh(fe,me),_.bindMode!==void 0&&(oe.bindMode=_.bindMode),_.bindMatrix!==void 0&&oe.bindMatrix.fromArray(_.bindMatrix),_.skeleton!==void 0&&(oe.skeleton=_.skeleton);break;case"Mesh":fe=se(_.geometry),me=le(_.material),oe=new Mesh(fe,me);break;case"InstancedMesh":fe=se(_.geometry),me=le(_.material);const pe=_.count,ge=_.instanceMatrix,ye=_.instanceColor;oe=new InstancedMesh(fe,me,pe),oe.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ge.array),16),ye!==void 0&&(oe.instanceColor=new InstancedBufferAttribute(new Float32Array(ye.array),ye.itemSize));break;case"BatchedMesh":fe=se(_.geometry),me=le(_.material),oe=new BatchedMesh(_.maxInstanceCount,_.maxVertexCount,_.maxIndexCount,me),oe.geometry=fe,oe.perObjectFrustumCulled=_.perObjectFrustumCulled,oe.sortObjects=_.sortObjects,oe._drawRanges=_.drawRanges,oe._reservedRanges=_.reservedRanges,oe._visibility=_.visibility,oe._active=_.active,oe._bounds=_.bounds.map(Ee=>{const _e=new Box3;_e.min.fromArray(Ee.boxMin),_e.max.fromArray(Ee.boxMax);const Se=new Sphere;return Se.radius=Ee.sphereRadius,Se.center.fromArray(Ee.sphereCenter),{boxInitialized:Ee.boxInitialized,box:_e,sphereInitialized:Ee.sphereInitialized,sphere:Se}}),oe._maxInstanceCount=_.maxInstanceCount,oe._maxVertexCount=_.maxVertexCount,oe._maxIndexCount=_.maxIndexCount,oe._geometryInitialized=_.geometryInitialized,oe._geometryCount=_.geometryCount,oe._matricesTexture=ce(_.matricesTexture.uuid),_.colorsTexture!==void 0&&(oe._colorsTexture=ce(_.colorsTexture.uuid));break;case"LOD":oe=new LOD;break;case"Line":oe=new Line(se(_.geometry),le(_.material));break;case"LineLoop":oe=new LineLoop(se(_.geometry),le(_.material));break;case"LineSegments":oe=new LineSegments(se(_.geometry),le(_.material));break;case"PointCloud":case"Points":oe=new Points(se(_.geometry),le(_.material));break;case"Sprite":oe=new Sprite(le(_.material));break;case"Group":oe=new Group;break;case"Bone":oe=new Bone;break;default:oe=new Object3D}if(oe.uuid=_.uuid,_.name!==void 0&&(oe.name=_.name),_.matrix!==void 0?(oe.matrix.fromArray(_.matrix),_.matrixAutoUpdate!==void 0&&(oe.matrixAutoUpdate=_.matrixAutoUpdate),oe.matrixAutoUpdate&&oe.matrix.decompose(oe.position,oe.quaternion,oe.scale)):(_.position!==void 0&&oe.position.fromArray(_.position),_.rotation!==void 0&&oe.rotation.fromArray(_.rotation),_.quaternion!==void 0&&oe.quaternion.fromArray(_.quaternion),_.scale!==void 0&&oe.scale.fromArray(_.scale)),_.up!==void 0&&oe.up.fromArray(_.up),_.castShadow!==void 0&&(oe.castShadow=_.castShadow),_.receiveShadow!==void 0&&(oe.receiveShadow=_.receiveShadow),_.shadow&&(_.shadow.intensity!==void 0&&(oe.shadow.intensity=_.shadow.intensity),_.shadow.bias!==void 0&&(oe.shadow.bias=_.shadow.bias),_.shadow.normalBias!==void 0&&(oe.shadow.normalBias=_.shadow.normalBias),_.shadow.radius!==void 0&&(oe.shadow.radius=_.shadow.radius),_.shadow.mapSize!==void 0&&oe.shadow.mapSize.fromArray(_.shadow.mapSize),_.shadow.camera!==void 0&&(oe.shadow.camera=this.parseObject(_.shadow.camera))),_.visible!==void 0&&(oe.visible=_.visible),_.frustumCulled!==void 0&&(oe.frustumCulled=_.frustumCulled),_.renderOrder!==void 0&&(oe.renderOrder=_.renderOrder),_.userData!==void 0&&(oe.userData=_.userData),_.layers!==void 0&&(oe.layers.mask=_.layers),_.children!==void 0){const pe=_.children;for(let ge=0;ge<pe.length;ge++)oe.add(this.parseObject(pe[ge],K,te,ne,ie))}if(_.animations!==void 0){const pe=_.animations;for(let ge=0;ge<pe.length;ge++){const ye=pe[ge];oe.animations.push(ie[ye])}}if(_.type==="LOD"){_.autoUpdate!==void 0&&(oe.autoUpdate=_.autoUpdate);const pe=_.levels;for(let ge=0;ge<pe.length;ge++){const ye=pe[ge],Ee=oe.getObjectByProperty("uuid",ye.object);Ee!==void 0&&oe.addLevel(Ee,ye.distance,ye.hysteresis)}}return oe}bindSkeletons(_,K){Object.keys(K).length!==0&&_.traverse(function(te){if(te.isSkinnedMesh===!0&&te.skeleton!==void 0){const ne=K[te.skeleton];ne===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",te.skeleton):te.bind(ne,te.bindMatrix)}})}bindLightTargets(_){_.traverse(function(K){if(K.isDirectionalLight||K.isSpotLight){const te=K.target,ne=_.getObjectByProperty("uuid",te);ne!==void 0?K.target=ne:K.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(_){super(_),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(_){return this.options=_,this}load(_,K,te,ne){_===void 0&&(_=""),this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const ie=this,oe=Cache.get(_);if(oe!==void 0){if(ie.manager.itemStart(_),oe.then){oe.then(ce=>{K&&K(ce),ie.manager.itemEnd(_)}).catch(ce=>{ne&&ne(ce)});return}return setTimeout(function(){K&&K(oe),ie.manager.itemEnd(_)},0),oe}const se={};se.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",se.headers=this.requestHeader;const le=fetch(_,se).then(function(ce){return ce.blob()}).then(function(ce){return createImageBitmap(ce,Object.assign(ie.options,{colorSpaceConversion:"none"}))}).then(function(ce){return Cache.add(_,ce),K&&K(ce),ie.manager.itemEnd(_),ce}).catch(function(ce){ne&&ne(ce),Cache.remove(_),ie.manager.itemError(_),ie.manager.itemEnd(_)});Cache.add(_,le),ie.manager.itemStart(_)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(_){_context=_}}class AudioLoader extends Loader{constructor(_){super(_)}load(_,K,te,ne){const ie=this,oe=new FileLoader(this.manager);oe.setResponseType("arraybuffer"),oe.setPath(this.path),oe.setRequestHeader(this.requestHeader),oe.setWithCredentials(this.withCredentials),oe.load(_,function(le){try{const ce=le.slice(0);AudioContext.getContext().decodeAudioData(ce,function(me){K(me)}).catch(se)}catch(ce){se(ce)}},te,ne);function se(le){ne?ne(le):console.error(le),ie.manager.itemError(_)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera$1,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera$1,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(_){const K=this._cache;if(K.focus!==_.focus||K.fov!==_.fov||K.aspect!==_.aspect*this.aspect||K.near!==_.near||K.far!==_.far||K.zoom!==_.zoom||K.eyeSep!==this.eyeSep){K.focus=_.focus,K.fov=_.fov,K.aspect=_.aspect*this.aspect,K.near=_.near,K.far=_.far,K.zoom=_.zoom,K.eyeSep=this.eyeSep,_projectionMatrix.copy(_.projectionMatrix);const ne=K.eyeSep/2,ie=ne*K.near/K.focus,oe=K.near*Math.tan(DEG2RAD*K.fov*.5)/K.zoom;let se,le;_eyeLeft.elements[12]=-ne,_eyeRight.elements[12]=ne,se=-oe*K.aspect+ie,le=oe*K.aspect+ie,_projectionMatrix.elements[0]=2*K.near/(le-se),_projectionMatrix.elements[8]=(le+se)/(le-se),this.cameraL.projectionMatrix.copy(_projectionMatrix),se=-oe*K.aspect-ie,le=oe*K.aspect-ie,_projectionMatrix.elements[0]=2*K.near/(le-se),_projectionMatrix.elements[8]=(le+se)/(le-se),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(_.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(_.matrixWorld).multiply(_eyeRight)}}class ArrayCamera extends PerspectiveCamera$1{constructor(_=[]){super(),this.isArrayCamera=!0,this.cameras=_}}class Clock{constructor(_=!0){this.autoStart=_,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let _=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const K=now();_=(K-this.oldTime)/1e3,this.oldTime=K,this.elapsedTime+=_}return _}}function now(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(_){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=_,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(_){return this.gain.gain.setTargetAtTime(_,this.context.currentTime,.01),this}updateMatrixWorld(_){super.updateMatrixWorld(_);const K=this.context.listener,te=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),K.positionX){const ne=this.context.currentTime+this.timeDelta;K.positionX.linearRampToValueAtTime(_position$1.x,ne),K.positionY.linearRampToValueAtTime(_position$1.y,ne),K.positionZ.linearRampToValueAtTime(_position$1.z,ne),K.forwardX.linearRampToValueAtTime(_orientation$1.x,ne),K.forwardY.linearRampToValueAtTime(_orientation$1.y,ne),K.forwardZ.linearRampToValueAtTime(_orientation$1.z,ne),K.upX.linearRampToValueAtTime(te.x,ne),K.upY.linearRampToValueAtTime(te.y,ne),K.upZ.linearRampToValueAtTime(te.z,ne)}else K.setPosition(_position$1.x,_position$1.y,_position$1.z),K.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,te.x,te.y,te.z)}}class Audio extends Object3D{constructor(_){super(),this.type="Audio",this.listener=_,this.context=_.context,this.gain=this.context.createGain(),this.gain.connect(_.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(_){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=_,this.connect(),this}setMediaElementSource(_){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(_),this.connect(),this}setMediaStreamSource(_){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(_),this.connect(),this}setBuffer(_){return this.buffer=_,this.sourceType="buffer",this.autoplay&&this.play(),this}play(_=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+_;const K=this.context.createBufferSource();return K.buffer=this.buffer,K.loop=this.loop,K.loopStart=this.loopStart,K.loopEnd=this.loopEnd,K.onended=this.onEnded.bind(this),K.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=K,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(_=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+_),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let _=1,K=this.filters.length;_<K;_++)this.filters[_-1].connect(this.filters[_]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let _=1,K=this.filters.length;_<K;_++)this.filters[_-1].disconnect(this.filters[_]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(_){return _||(_=[]),this._connected===!0?(this.disconnect(),this.filters=_.slice(),this.connect()):this.filters=_.slice(),this}setDetune(_){return this.detune=_,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(_){return this.setFilters(_?[_]:[])}setPlaybackRate(_){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=_,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(_){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=_,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(_){return this.loopStart=_,this}setLoopEnd(_){return this.loopEnd=_,this}getVolume(){return this.gain.gain.value}setVolume(_){return this.gain.gain.setTargetAtTime(_,this.context.currentTime,.01),this}copy(_,K){return super.copy(_,K),_.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=_.autoplay,this.buffer=_.buffer,this.detune=_.detune,this.loop=_.loop,this.loopStart=_.loopStart,this.loopEnd=_.loopEnd,this.offset=_.offset,this.duration=_.duration,this.playbackRate=_.playbackRate,this.hasPlaybackControl=_.hasPlaybackControl,this.sourceType=_.sourceType,this.filters=_.filters.slice(),this)}clone(_){return new this.constructor(this.listener).copy(this,_)}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(_){super(_),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(_){return this.panner.refDistance=_,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(_){return this.panner.rolloffFactor=_,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(_){return this.panner.distanceModel=_,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(_){return this.panner.maxDistance=_,this}setDirectionalCone(_,K,te){return this.panner.coneInnerAngle=_,this.panner.coneOuterAngle=K,this.panner.coneOuterGain=te,this}updateMatrixWorld(_){if(super.updateMatrixWorld(_),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const K=this.panner;if(K.positionX){const te=this.context.currentTime+this.listener.timeDelta;K.positionX.linearRampToValueAtTime(_position.x,te),K.positionY.linearRampToValueAtTime(_position.y,te),K.positionZ.linearRampToValueAtTime(_position.z,te),K.orientationX.linearRampToValueAtTime(_orientation.x,te),K.orientationY.linearRampToValueAtTime(_orientation.y,te),K.orientationZ.linearRampToValueAtTime(_orientation.z,te)}else K.setPosition(_position.x,_position.y,_position.z),K.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(_,K=2048){this.analyser=_.context.createAnalyser(),this.analyser.fftSize=K,this.data=new Uint8Array(this.analyser.frequencyBinCount),_.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let _=0;const K=this.getFrequencyData();for(let te=0;te<K.length;te++)_+=K[te];return _/K.length}}class PropertyMixer{constructor(_,K,te){this.binding=_,this.valueSize=te;let ne,ie,oe;switch(K){case"quaternion":ne=this._slerp,ie=this._slerpAdditive,oe=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(te*6),this._workIndex=5;break;case"string":case"bool":ne=this._select,ie=this._select,oe=this._setAdditiveIdentityOther,this.buffer=new Array(te*5);break;default:ne=this._lerp,ie=this._lerpAdditive,oe=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(te*5)}this._mixBufferRegion=ne,this._mixBufferRegionAdditive=ie,this._setIdentity=oe,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(_,K){const te=this.buffer,ne=this.valueSize,ie=_*ne+ne;let oe=this.cumulativeWeight;if(oe===0){for(let se=0;se!==ne;++se)te[ie+se]=te[se];oe=K}else{oe+=K;const se=K/oe;this._mixBufferRegion(te,ie,0,se,ne)}this.cumulativeWeight=oe}accumulateAdditive(_){const K=this.buffer,te=this.valueSize,ne=te*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(K,ne,0,_,te),this.cumulativeWeightAdditive+=_}apply(_){const K=this.valueSize,te=this.buffer,ne=_*K+K,ie=this.cumulativeWeight,oe=this.cumulativeWeightAdditive,se=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,ie<1){const le=K*this._origIndex;this._mixBufferRegion(te,ne,le,1-ie,K)}oe>0&&this._mixBufferRegionAdditive(te,ne,this._addIndex*K,1,K);for(let le=K,ce=K+K;le!==ce;++le)if(te[le]!==te[le+K]){se.setValue(te,ne);break}}saveOriginalState(){const _=this.binding,K=this.buffer,te=this.valueSize,ne=te*this._origIndex;_.getValue(K,ne);for(let ie=te,oe=ne;ie!==oe;++ie)K[ie]=K[ne+ie%te];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const _=this.valueSize*3;this.binding.setValue(this.buffer,_)}_setAdditiveIdentityNumeric(){const _=this._addIndex*this.valueSize,K=_+this.valueSize;for(let te=_;te<K;te++)this.buffer[te]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const _=this._origIndex*this.valueSize,K=this._addIndex*this.valueSize;for(let te=0;te<this.valueSize;te++)this.buffer[K+te]=this.buffer[_+te]}_select(_,K,te,ne,ie){if(ne>=.5)for(let oe=0;oe!==ie;++oe)_[K+oe]=_[te+oe]}_slerp(_,K,te,ne){Quaternion.slerpFlat(_,K,_,K,_,te,ne)}_slerpAdditive(_,K,te,ne,ie){const oe=this._workIndex*ie;Quaternion.multiplyQuaternionsFlat(_,oe,_,K,_,te),Quaternion.slerpFlat(_,K,_,K,_,oe,ne)}_lerp(_,K,te,ne,ie){const oe=1-ne;for(let se=0;se!==ie;++se){const le=K+se;_[le]=_[le]*oe+_[te+se]*ne}}_lerpAdditive(_,K,te,ne,ie){for(let oe=0;oe!==ie;++oe){const se=K+oe;_[se]=_[se]+_[te+oe]*ne}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(_,K,te){const ne=te||PropertyBinding.parseTrackName(K);this._targetGroup=_,this._bindings=_.subscribe_(K,ne)}getValue(_,K){this.bind();const te=this._targetGroup.nCachedObjects_,ne=this._bindings[te];ne!==void 0&&ne.getValue(_,K)}setValue(_,K){const te=this._bindings;for(let ne=this._targetGroup.nCachedObjects_,ie=te.length;ne!==ie;++ne)te[ne].setValue(_,K)}bind(){const _=this._bindings;for(let K=this._targetGroup.nCachedObjects_,te=_.length;K!==te;++K)_[K].bind()}unbind(){const _=this._bindings;for(let K=this._targetGroup.nCachedObjects_,te=_.length;K!==te;++K)_[K].unbind()}}class PropertyBinding{constructor(_,K,te){this.path=K,this.parsedPath=te||PropertyBinding.parseTrackName(K),this.node=PropertyBinding.findNode(_,this.parsedPath.nodeName),this.rootNode=_,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(_,K,te){return _&&_.isAnimationObjectGroup?new PropertyBinding.Composite(_,K,te):new PropertyBinding(_,K,te)}static sanitizeNodeName(_){return _.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(_){const K=_trackRe.exec(_);if(K===null)throw new Error("PropertyBinding: Cannot parse trackName: "+_);const te={nodeName:K[2],objectName:K[3],objectIndex:K[4],propertyName:K[5],propertyIndex:K[6]},ne=te.nodeName&&te.nodeName.lastIndexOf(".");if(ne!==void 0&&ne!==-1){const ie=te.nodeName.substring(ne+1);_supportedObjectNames.indexOf(ie)!==-1&&(te.nodeName=te.nodeName.substring(0,ne),te.objectName=ie)}if(te.propertyName===null||te.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+_);return te}static findNode(_,K){if(K===void 0||K===""||K==="."||K===-1||K===_.name||K===_.uuid)return _;if(_.skeleton){const te=_.skeleton.getBoneByName(K);if(te!==void 0)return te}if(_.children){const te=function(ie){for(let oe=0;oe<ie.length;oe++){const se=ie[oe];if(se.name===K||se.uuid===K)return se;const le=te(se.children);if(le)return le}return null},ne=te(_.children);if(ne)return ne}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(_,K){_[K]=this.targetObject[this.propertyName]}_getValue_array(_,K){const te=this.resolvedProperty;for(let ne=0,ie=te.length;ne!==ie;++ne)_[K++]=te[ne]}_getValue_arrayElement(_,K){_[K]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(_,K){this.resolvedProperty.toArray(_,K)}_setValue_direct(_,K){this.targetObject[this.propertyName]=_[K]}_setValue_direct_setNeedsUpdate(_,K){this.targetObject[this.propertyName]=_[K],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(_,K){this.targetObject[this.propertyName]=_[K],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(_,K){const te=this.resolvedProperty;for(let ne=0,ie=te.length;ne!==ie;++ne)te[ne]=_[K++]}_setValue_array_setNeedsUpdate(_,K){const te=this.resolvedProperty;for(let ne=0,ie=te.length;ne!==ie;++ne)te[ne]=_[K++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(_,K){const te=this.resolvedProperty;for(let ne=0,ie=te.length;ne!==ie;++ne)te[ne]=_[K++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(_,K){this.resolvedProperty[this.propertyIndex]=_[K]}_setValue_arrayElement_setNeedsUpdate(_,K){this.resolvedProperty[this.propertyIndex]=_[K],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(_,K){this.resolvedProperty[this.propertyIndex]=_[K],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(_,K){this.resolvedProperty.fromArray(_,K)}_setValue_fromArray_setNeedsUpdate(_,K){this.resolvedProperty.fromArray(_,K),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(_,K){this.resolvedProperty.fromArray(_,K),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(_,K){this.bind(),this.getValue(_,K)}_setValue_unbound(_,K){this.bind(),this.setValue(_,K)}bind(){let _=this.node;const K=this.parsedPath,te=K.objectName,ne=K.propertyName;let ie=K.propertyIndex;if(_||(_=PropertyBinding.findNode(this.rootNode,K.nodeName),this.node=_),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!_){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(te){let ce=K.objectIndex;switch(te){case"materials":if(!_.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}_=_.material.materials;break;case"bones":if(!_.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}_=_.skeleton.bones;for(let fe=0;fe<_.length;fe++)if(_[fe].name===ce){ce=fe;break}break;case"map":if("map"in _){_=_.map;break}if(!_.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}_=_.material.map;break;default:if(_[te]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}_=_[te]}if(ce!==void 0){if(_[ce]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,_);return}_=_[ce]}}const oe=_[ne];if(oe===void 0){const ce=K.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ce+"."+ne+" but it wasn't found.",_);return}let se=this.Versioning.None;this.targetObject=_,_.needsUpdate!==void 0?se=this.Versioning.NeedsUpdate:_.matrixWorldNeedsUpdate!==void 0&&(se=this.Versioning.MatrixWorldNeedsUpdate);let le=this.BindingType.Direct;if(ie!==void 0){if(ne==="morphTargetInfluences"){if(!_.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!_.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}_.morphTargetDictionary[ie]!==void 0&&(ie=_.morphTargetDictionary[ie])}le=this.BindingType.ArrayElement,this.resolvedProperty=oe,this.propertyIndex=ie}else oe.fromArray!==void 0&&oe.toArray!==void 0?(le=this.BindingType.HasFromToArray,this.resolvedProperty=oe):Array.isArray(oe)?(le=this.BindingType.EntireArray,this.resolvedProperty=oe):this.propertyName=ne;this.getValue=this.GetterByBindingType[le],this.setValue=this.SetterByBindingTypeAndVersioning[le][se]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const _={};this._indicesByUUID=_;for(let te=0,ne=arguments.length;te!==ne;++te)_[arguments[te].uuid]=te;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const K=this;this.stats={objects:{get total(){return K._objects.length},get inUse(){return this.total-K.nCachedObjects_}},get bindingsPerObject(){return K._bindings.length}}}add(){const _=this._objects,K=this._indicesByUUID,te=this._paths,ne=this._parsedPaths,ie=this._bindings,oe=ie.length;let se,le=_.length,ce=this.nCachedObjects_;for(let fe=0,me=arguments.length;fe!==me;++fe){const pe=arguments[fe],ge=pe.uuid;let ye=K[ge];if(ye===void 0){ye=le++,K[ge]=ye,_.push(pe);for(let Ee=0,_e=oe;Ee!==_e;++Ee)ie[Ee].push(new PropertyBinding(pe,te[Ee],ne[Ee]))}else if(ye<ce){se=_[ye];const Ee=--ce,_e=_[Ee];K[_e.uuid]=ye,_[ye]=_e,K[ge]=Ee,_[Ee]=pe;for(let Se=0,Re=oe;Se!==Re;++Se){const Te=ie[Se],Ae=Te[Ee];let Fe=Te[ye];Te[ye]=Ae,Fe===void 0&&(Fe=new PropertyBinding(pe,te[Se],ne[Se])),Te[Ee]=Fe}}else _[ye]!==se&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=ce}remove(){const _=this._objects,K=this._indicesByUUID,te=this._bindings,ne=te.length;let ie=this.nCachedObjects_;for(let oe=0,se=arguments.length;oe!==se;++oe){const le=arguments[oe],ce=le.uuid,fe=K[ce];if(fe!==void 0&&fe>=ie){const me=ie++,pe=_[me];K[pe.uuid]=fe,_[fe]=pe,K[ce]=me,_[me]=le;for(let ge=0,ye=ne;ge!==ye;++ge){const Ee=te[ge],_e=Ee[me],Se=Ee[fe];Ee[fe]=_e,Ee[me]=Se}}}this.nCachedObjects_=ie}uncache(){const _=this._objects,K=this._indicesByUUID,te=this._bindings,ne=te.length;let ie=this.nCachedObjects_,oe=_.length;for(let se=0,le=arguments.length;se!==le;++se){const ce=arguments[se],fe=ce.uuid,me=K[fe];if(me!==void 0)if(delete K[fe],me<ie){const pe=--ie,ge=_[pe],ye=--oe,Ee=_[ye];K[ge.uuid]=me,_[me]=ge,K[Ee.uuid]=pe,_[pe]=Ee,_.pop();for(let _e=0,Se=ne;_e!==Se;++_e){const Re=te[_e],Te=Re[pe],Ae=Re[ye];Re[me]=Te,Re[pe]=Ae,Re.pop()}}else{const pe=--oe,ge=_[pe];pe>0&&(K[ge.uuid]=me),_[me]=ge,_.pop();for(let ye=0,Ee=ne;ye!==Ee;++ye){const _e=te[ye];_e[me]=_e[pe],_e.pop()}}}this.nCachedObjects_=ie}subscribe_(_,K){const te=this._bindingsIndicesByPath;let ne=te[_];const ie=this._bindings;if(ne!==void 0)return ie[ne];const oe=this._paths,se=this._parsedPaths,le=this._objects,ce=le.length,fe=this.nCachedObjects_,me=new Array(ce);ne=ie.length,te[_]=ne,oe.push(_),se.push(K),ie.push(me);for(let pe=fe,ge=le.length;pe!==ge;++pe){const ye=le[pe];me[pe]=new PropertyBinding(ye,_,K)}return me}unsubscribe_(_){const K=this._bindingsIndicesByPath,te=K[_];if(te!==void 0){const ne=this._paths,ie=this._parsedPaths,oe=this._bindings,se=oe.length-1,le=oe[se],ce=_[se];K[ce]=te,oe[te]=le,oe.pop(),ie[te]=ie[se],ie.pop(),ne[te]=ne[se],ne.pop()}}}class AnimationAction{constructor(_,K,te=null,ne=K.blendMode){this._mixer=_,this._clip=K,this._localRoot=te,this.blendMode=ne;const ie=K.tracks,oe=ie.length,se=new Array(oe),le={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ce=0;ce!==oe;++ce){const fe=ie[ce].createInterpolant(null);se[ce]=fe,fe.settings=le}this._interpolantSettings=le,this._interpolants=se,this._propertyBindings=new Array(oe),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(_){return this._startTime=_,this}setLoop(_,K){return this.loop=_,this.repetitions=K,this}setEffectiveWeight(_){return this.weight=_,this._effectiveWeight=this.enabled?_:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(_){return this._scheduleFading(_,0,1)}fadeOut(_){return this._scheduleFading(_,1,0)}crossFadeFrom(_,K,te){if(_.fadeOut(K),this.fadeIn(K),te){const ne=this._clip.duration,ie=_._clip.duration,oe=ie/ne,se=ne/ie;_.warp(1,oe,K),this.warp(se,1,K)}return this}crossFadeTo(_,K,te){return _.crossFadeFrom(this,K,te)}stopFading(){const _=this._weightInterpolant;return _!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(_)),this}setEffectiveTimeScale(_){return this.timeScale=_,this._effectiveTimeScale=this.paused?0:_,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(_){return this.timeScale=this._clip.duration/_,this.stopWarping()}syncWith(_){return this.time=_.time,this.timeScale=_.timeScale,this.stopWarping()}halt(_){return this.warp(this._effectiveTimeScale,0,_)}warp(_,K,te){const ne=this._mixer,ie=ne.time,oe=this.timeScale;let se=this._timeScaleInterpolant;se===null&&(se=ne._lendControlInterpolant(),this._timeScaleInterpolant=se);const le=se.parameterPositions,ce=se.sampleValues;return le[0]=ie,le[1]=ie+te,ce[0]=_/oe,ce[1]=K/oe,this}stopWarping(){const _=this._timeScaleInterpolant;return _!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(_)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(_,K,te,ne){if(!this.enabled){this._updateWeight(_);return}const ie=this._startTime;if(ie!==null){const le=(_-ie)*te;le<0||te===0?K=0:(this._startTime=null,K=te*le)}K*=this._updateTimeScale(_);const oe=this._updateTime(K),se=this._updateWeight(_);if(se>0){const le=this._interpolants,ce=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let fe=0,me=le.length;fe!==me;++fe)le[fe].evaluate(oe),ce[fe].accumulateAdditive(se);break;case NormalAnimationBlendMode:default:for(let fe=0,me=le.length;fe!==me;++fe)le[fe].evaluate(oe),ce[fe].accumulate(ne,se)}}}_updateWeight(_){let K=0;if(this.enabled){K=this.weight;const te=this._weightInterpolant;if(te!==null){const ne=te.evaluate(_)[0];K*=ne,_>te.parameterPositions[1]&&(this.stopFading(),ne===0&&(this.enabled=!1))}}return this._effectiveWeight=K,K}_updateTimeScale(_){let K=0;if(!this.paused){K=this.timeScale;const te=this._timeScaleInterpolant;if(te!==null){const ne=te.evaluate(_)[0];K*=ne,_>te.parameterPositions[1]&&(this.stopWarping(),K===0?this.paused=!0:this.timeScale=K)}}return this._effectiveTimeScale=K,K}_updateTime(_){const K=this._clip.duration,te=this.loop;let ne=this.time+_,ie=this._loopCount;const oe=te===LoopPingPong;if(_===0)return ie===-1?ne:oe&&(ie&1)===1?K-ne:ne;if(te===LoopOnce){ie===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(ne>=K)ne=K;else if(ne<0)ne=0;else{this.time=ne;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=ne,this._mixer.dispatchEvent({type:"finished",action:this,direction:_<0?-1:1})}}else{if(ie===-1&&(_>=0?(ie=0,this._setEndings(!0,this.repetitions===0,oe)):this._setEndings(this.repetitions===0,!0,oe)),ne>=K||ne<0){const se=Math.floor(ne/K);ne-=K*se,ie+=Math.abs(se);const le=this.repetitions-ie;if(le<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,ne=_>0?K:0,this.time=ne,this._mixer.dispatchEvent({type:"finished",action:this,direction:_>0?1:-1});else{if(le===1){const ce=_<0;this._setEndings(ce,!ce,oe)}else this._setEndings(!1,!1,oe);this._loopCount=ie,this.time=ne,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:se})}}else this.time=ne;if(oe&&(ie&1)===1)return K-ne}return ne}_setEndings(_,K,te){const ne=this._interpolantSettings;te?(ne.endingStart=ZeroSlopeEnding,ne.endingEnd=ZeroSlopeEnding):(_?ne.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:ne.endingStart=WrapAroundEnding,K?ne.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:ne.endingEnd=WrapAroundEnding)}_scheduleFading(_,K,te){const ne=this._mixer,ie=ne.time;let oe=this._weightInterpolant;oe===null&&(oe=ne._lendControlInterpolant(),this._weightInterpolant=oe);const se=oe.parameterPositions,le=oe.sampleValues;return se[0]=ie,le[0]=K,se[1]=ie+_,le[1]=te,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(_){super(),this._root=_,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(_,K){const te=_._localRoot||this._root,ne=_._clip.tracks,ie=ne.length,oe=_._propertyBindings,se=_._interpolants,le=te.uuid,ce=this._bindingsByRootAndName;let fe=ce[le];fe===void 0&&(fe={},ce[le]=fe);for(let me=0;me!==ie;++me){const pe=ne[me],ge=pe.name;let ye=fe[ge];if(ye!==void 0)++ye.referenceCount,oe[me]=ye;else{if(ye=oe[me],ye!==void 0){ye._cacheIndex===null&&(++ye.referenceCount,this._addInactiveBinding(ye,le,ge));continue}const Ee=K&&K._propertyBindings[me].binding.parsedPath;ye=new PropertyMixer(PropertyBinding.create(te,ge,Ee),pe.ValueTypeName,pe.getValueSize()),++ye.referenceCount,this._addInactiveBinding(ye,le,ge),oe[me]=ye}se[me].resultBuffer=ye.buffer}}_activateAction(_){if(!this._isActiveAction(_)){if(_._cacheIndex===null){const te=(_._localRoot||this._root).uuid,ne=_._clip.uuid,ie=this._actionsByClip[ne];this._bindAction(_,ie&&ie.knownActions[0]),this._addInactiveAction(_,ne,te)}const K=_._propertyBindings;for(let te=0,ne=K.length;te!==ne;++te){const ie=K[te];ie.useCount++===0&&(this._lendBinding(ie),ie.saveOriginalState())}this._lendAction(_)}}_deactivateAction(_){if(this._isActiveAction(_)){const K=_._propertyBindings;for(let te=0,ne=K.length;te!==ne;++te){const ie=K[te];--ie.useCount===0&&(ie.restoreOriginalState(),this._takeBackBinding(ie))}this._takeBackAction(_)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const _=this;this.stats={actions:{get total(){return _._actions.length},get inUse(){return _._nActiveActions}},bindings:{get total(){return _._bindings.length},get inUse(){return _._nActiveBindings}},controlInterpolants:{get total(){return _._controlInterpolants.length},get inUse(){return _._nActiveControlInterpolants}}}}_isActiveAction(_){const K=_._cacheIndex;return K!==null&&K<this._nActiveActions}_addInactiveAction(_,K,te){const ne=this._actions,ie=this._actionsByClip;let oe=ie[K];if(oe===void 0)oe={knownActions:[_],actionByRoot:{}},_._byClipCacheIndex=0,ie[K]=oe;else{const se=oe.knownActions;_._byClipCacheIndex=se.length,se.push(_)}_._cacheIndex=ne.length,ne.push(_),oe.actionByRoot[te]=_}_removeInactiveAction(_){const K=this._actions,te=K[K.length-1],ne=_._cacheIndex;te._cacheIndex=ne,K[ne]=te,K.pop(),_._cacheIndex=null;const ie=_._clip.uuid,oe=this._actionsByClip,se=oe[ie],le=se.knownActions,ce=le[le.length-1],fe=_._byClipCacheIndex;ce._byClipCacheIndex=fe,le[fe]=ce,le.pop(),_._byClipCacheIndex=null;const me=se.actionByRoot,pe=(_._localRoot||this._root).uuid;delete me[pe],le.length===0&&delete oe[ie],this._removeInactiveBindingsForAction(_)}_removeInactiveBindingsForAction(_){const K=_._propertyBindings;for(let te=0,ne=K.length;te!==ne;++te){const ie=K[te];--ie.referenceCount===0&&this._removeInactiveBinding(ie)}}_lendAction(_){const K=this._actions,te=_._cacheIndex,ne=this._nActiveActions++,ie=K[ne];_._cacheIndex=ne,K[ne]=_,ie._cacheIndex=te,K[te]=ie}_takeBackAction(_){const K=this._actions,te=_._cacheIndex,ne=--this._nActiveActions,ie=K[ne];_._cacheIndex=ne,K[ne]=_,ie._cacheIndex=te,K[te]=ie}_addInactiveBinding(_,K,te){const ne=this._bindingsByRootAndName,ie=this._bindings;let oe=ne[K];oe===void 0&&(oe={},ne[K]=oe),oe[te]=_,_._cacheIndex=ie.length,ie.push(_)}_removeInactiveBinding(_){const K=this._bindings,te=_.binding,ne=te.rootNode.uuid,ie=te.path,oe=this._bindingsByRootAndName,se=oe[ne],le=K[K.length-1],ce=_._cacheIndex;le._cacheIndex=ce,K[ce]=le,K.pop(),delete se[ie],Object.keys(se).length===0&&delete oe[ne]}_lendBinding(_){const K=this._bindings,te=_._cacheIndex,ne=this._nActiveBindings++,ie=K[ne];_._cacheIndex=ne,K[ne]=_,ie._cacheIndex=te,K[te]=ie}_takeBackBinding(_){const K=this._bindings,te=_._cacheIndex,ne=--this._nActiveBindings,ie=K[ne];_._cacheIndex=ne,K[ne]=_,ie._cacheIndex=te,K[te]=ie}_lendControlInterpolant(){const _=this._controlInterpolants,K=this._nActiveControlInterpolants++;let te=_[K];return te===void 0&&(te=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),te.__cacheIndex=K,_[K]=te),te}_takeBackControlInterpolant(_){const K=this._controlInterpolants,te=_.__cacheIndex,ne=--this._nActiveControlInterpolants,ie=K[ne];_.__cacheIndex=ne,K[ne]=_,ie.__cacheIndex=te,K[te]=ie}clipAction(_,K,te){const ne=K||this._root,ie=ne.uuid;let oe=typeof _=="string"?AnimationClip.findByName(ne,_):_;const se=oe!==null?oe.uuid:_,le=this._actionsByClip[se];let ce=null;if(te===void 0&&(oe!==null?te=oe.blendMode:te=NormalAnimationBlendMode),le!==void 0){const me=le.actionByRoot[ie];if(me!==void 0&&me.blendMode===te)return me;ce=le.knownActions[0],oe===null&&(oe=ce._clip)}if(oe===null)return null;const fe=new AnimationAction(this,oe,K,te);return this._bindAction(fe,ce),this._addInactiveAction(fe,se,ie),fe}existingAction(_,K){const te=K||this._root,ne=te.uuid,ie=typeof _=="string"?AnimationClip.findByName(te,_):_,oe=ie?ie.uuid:_,se=this._actionsByClip[oe];return se!==void 0&&se.actionByRoot[ne]||null}stopAllAction(){const _=this._actions,K=this._nActiveActions;for(let te=K-1;te>=0;--te)_[te].stop();return this}update(_){_*=this.timeScale;const K=this._actions,te=this._nActiveActions,ne=this.time+=_,ie=Math.sign(_),oe=this._accuIndex^=1;for(let ce=0;ce!==te;++ce)K[ce]._update(ne,_,ie,oe);const se=this._bindings,le=this._nActiveBindings;for(let ce=0;ce!==le;++ce)se[ce].apply(oe);return this}setTime(_){this.time=0;for(let K=0;K<this._actions.length;K++)this._actions[K].time=0;return this.update(_)}getRoot(){return this._root}uncacheClip(_){const K=this._actions,te=_.uuid,ne=this._actionsByClip,ie=ne[te];if(ie!==void 0){const oe=ie.knownActions;for(let se=0,le=oe.length;se!==le;++se){const ce=oe[se];this._deactivateAction(ce);const fe=ce._cacheIndex,me=K[K.length-1];ce._cacheIndex=null,ce._byClipCacheIndex=null,me._cacheIndex=fe,K[fe]=me,K.pop(),this._removeInactiveBindingsForAction(ce)}delete ne[te]}}uncacheRoot(_){const K=_.uuid,te=this._actionsByClip;for(const oe in te){const se=te[oe].actionByRoot,le=se[K];le!==void 0&&(this._deactivateAction(le),this._removeInactiveAction(le))}const ne=this._bindingsByRootAndName,ie=ne[K];if(ie!==void 0)for(const oe in ie){const se=ie[oe];se.restoreOriginalState(),this._removeInactiveBinding(se)}}uncacheAction(_,K){const te=this.existingAction(_,K);te!==null&&(this._deactivateAction(te),this._removeInactiveAction(te))}}class Uniform{constructor(_){this.value=_}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id$2=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(_){return this.uniforms.push(_),this}remove(_){const K=this.uniforms.indexOf(_);return K!==-1&&this.uniforms.splice(K,1),this}setName(_){return this.name=_,this}setUsage(_){return this.usage=_,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(_){this.name=_.name,this.usage=_.usage;const K=_.uniforms;this.uniforms.length=0;for(let te=0,ne=K.length;te<ne;te++){const ie=Array.isArray(K[te])?K[te]:[K[te]];for(let oe=0;oe<ie.length;oe++)this.uniforms.push(ie[oe].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(_,K,te=1){super(_,K),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=te}copy(_){return super.copy(_),this.meshPerAttribute=_.meshPerAttribute,this}clone(_){const K=super.clone(_);return K.meshPerAttribute=this.meshPerAttribute,K}toJSON(_){const K=super.toJSON(_);return K.isInstancedInterleavedBuffer=!0,K.meshPerAttribute=this.meshPerAttribute,K}}class GLBufferAttribute{constructor(_,K,te,ne,ie){this.isGLBufferAttribute=!0,this.name="",this.buffer=_,this.type=K,this.itemSize=te,this.elementSize=ne,this.count=ie,this.version=0}set needsUpdate(_){_===!0&&this.version++}setBuffer(_){return this.buffer=_,this}setType(_,K){return this.type=_,this.elementSize=K,this}setItemSize(_){return this.itemSize=_,this}setCount(_){return this.count=_,this}}const _matrix=new Matrix4;class Raycaster{constructor(_,K,te=0,ne=1/0){this.ray=new Ray(_,K),this.near=te,this.far=ne,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(_,K){this.ray.set(_,K)}setFromCamera(_,K){K.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(K.matrixWorld),this.ray.direction.set(_.x,_.y,.5).unproject(K).sub(this.ray.origin).normalize(),this.camera=K):K.isOrthographicCamera?(this.ray.origin.set(_.x,_.y,(K.near+K.far)/(K.near-K.far)).unproject(K),this.ray.direction.set(0,0,-1).transformDirection(K.matrixWorld),this.camera=K):console.error("THREE.Raycaster: Unsupported camera type: "+K.type)}setFromXRController(_){return _matrix.identity().extractRotation(_.matrixWorld),this.ray.origin.setFromMatrixPosition(_.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(_,K=!0,te=[]){return intersect(_,this,te,K),te.sort(ascSort),te}intersectObjects(_,K=!0,te=[]){for(let ne=0,ie=_.length;ne<ie;ne++)intersect(_[ne],this,te,K);return te.sort(ascSort),te}}function ascSort(Z,_){return Z.distance-_.distance}function intersect(Z,_,K,te){let ne=!0;if(Z.layers.test(_.layers)&&Z.raycast(_,K)===!1&&(ne=!1),ne===!0&&te===!0){const ie=Z.children;for(let oe=0,se=ie.length;oe<se;oe++)intersect(ie[oe],_,K,!0)}}class Spherical{constructor(_=1,K=0,te=0){return this.radius=_,this.phi=K,this.theta=te,this}set(_,K,te){return this.radius=_,this.phi=K,this.theta=te,this}copy(_){return this.radius=_.radius,this.phi=_.phi,this.theta=_.theta,this}makeSafe(){return this.phi=clamp$3(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(_){return this.setFromCartesianCoords(_.x,_.y,_.z)}setFromCartesianCoords(_,K,te){return this.radius=Math.sqrt(_*_+K*K+te*te),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(_,te),this.phi=Math.acos(clamp$3(K/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(_=1,K=0,te=0){return this.radius=_,this.theta=K,this.y=te,this}set(_,K,te){return this.radius=_,this.theta=K,this.y=te,this}copy(_){return this.radius=_.radius,this.theta=_.theta,this.y=_.y,this}setFromVector3(_){return this.setFromCartesianCoords(_.x,_.y,_.z)}setFromCartesianCoords(_,K,te){return this.radius=Math.sqrt(_*_+te*te),this.theta=Math.atan2(_,te),this.y=K,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(_,K,te,ne){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],_!==void 0&&this.set(_,K,te,ne)}identity(){return this.set(1,0,0,1),this}fromArray(_,K=0){for(let te=0;te<4;te++)this.elements[te]=_[te+K];return this}set(_,K,te,ne){const ie=this.elements;return ie[0]=_,ie[2]=K,ie[1]=te,ie[3]=ne,this}}const _vector$4=new Vector2;class Box2{constructor(_=new Vector2(1/0,1/0),K=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=_,this.max=K}set(_,K){return this.min.copy(_),this.max.copy(K),this}setFromPoints(_){this.makeEmpty();for(let K=0,te=_.length;K<te;K++)this.expandByPoint(_[K]);return this}setFromCenterAndSize(_,K){const te=_vector$4.copy(K).multiplyScalar(.5);return this.min.copy(_).sub(te),this.max.copy(_).add(te),this}clone(){return new this.constructor().copy(this)}copy(_){return this.min.copy(_.min),this.max.copy(_.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(_){return this.isEmpty()?_.set(0,0):_.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_){return this.isEmpty()?_.set(0,0):_.subVectors(this.max,this.min)}expandByPoint(_){return this.min.min(_),this.max.max(_),this}expandByVector(_){return this.min.sub(_),this.max.add(_),this}expandByScalar(_){return this.min.addScalar(-_),this.max.addScalar(_),this}containsPoint(_){return _.x>=this.min.x&&_.x<=this.max.x&&_.y>=this.min.y&&_.y<=this.max.y}containsBox(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y}getParameter(_,K){return K.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(_){return _.max.x>=this.min.x&&_.min.x<=this.max.x&&_.max.y>=this.min.y&&_.min.y<=this.max.y}clampPoint(_,K){return K.copy(_).clamp(this.min,this.max)}distanceToPoint(_){return this.clampPoint(_,_vector$4).distanceTo(_)}intersect(_){return this.min.max(_.min),this.max.min(_.max),this.isEmpty()&&this.makeEmpty(),this}union(_){return this.min.min(_.min),this.max.max(_.max),this}translate(_){return this.min.add(_),this.max.add(_),this}equals(_){return _.min.equals(this.min)&&_.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(_=new Vector3,K=new Vector3){this.start=_,this.end=K}set(_,K){return this.start.copy(_),this.end.copy(K),this}copy(_){return this.start.copy(_.start),this.end.copy(_.end),this}getCenter(_){return _.addVectors(this.start,this.end).multiplyScalar(.5)}delta(_){return _.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(_,K){return this.delta(K).multiplyScalar(_).add(this.start)}closestPointToPointParameter(_,K){_startP.subVectors(_,this.start),_startEnd.subVectors(this.end,this.start);const te=_startEnd.dot(_startEnd);let ie=_startEnd.dot(_startP)/te;return K&&(ie=clamp$3(ie,0,1)),ie}closestPointToPoint(_,K,te){const ne=this.closestPointToPointParameter(_,K);return this.delta(te).multiplyScalar(ne).add(this.start)}applyMatrix4(_){return this.start.applyMatrix4(_),this.end.applyMatrix4(_),this}equals(_){return _.start.equals(this.start)&&_.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(_,K){super(),this.light=_,this.matrixAutoUpdate=!1,this.color=K,this.type="SpotLightHelper";const te=new BufferGeometry,ne=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let oe=0,se=1,le=32;oe<le;oe++,se++){const ce=oe/le*Math.PI*2,fe=se/le*Math.PI*2;ne.push(Math.cos(ce),Math.sin(ce),1,Math.cos(fe),Math.sin(fe),1)}te.setAttribute("position",new Float32BufferAttribute(ne,3));const ie=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(te,ie),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const _=this.light.distance?this.light.distance:1e3,K=_*Math.tan(this.light.angle);this.cone.scale.set(K,K,_),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(_){const K=getBoneList(_),te=new BufferGeometry,ne=[],ie=[],oe=new Color$1(0,0,1),se=new Color$1(0,1,0);for(let ce=0;ce<K.length;ce++){const fe=K[ce];fe.parent&&fe.parent.isBone&&(ne.push(0,0,0),ne.push(0,0,0),ie.push(oe.r,oe.g,oe.b),ie.push(se.r,se.g,se.b))}te.setAttribute("position",new Float32BufferAttribute(ne,3)),te.setAttribute("color",new Float32BufferAttribute(ie,3));const le=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(te,le),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=_,this.bones=K,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(_){const K=this.bones,te=this.geometry,ne=te.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let ie=0,oe=0;ie<K.length;ie++){const se=K[ie];se.parent&&se.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,se.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ne.setXYZ(oe,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,se.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ne.setXYZ(oe+1,_vector$2.x,_vector$2.y,_vector$2.z),oe+=2)}te.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(_)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(Z){const _=[];Z.isBone===!0&&_.push(Z);for(let K=0;K<Z.children.length;K++)_.push.apply(_,getBoneList(Z.children[K]));return _}class PointLightHelper extends Mesh{constructor(_,K,te){const ne=new SphereGeometry(K,4,2),ie=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(ne,ie),this.light=_,this.color=te,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$1,_color2=new Color$1;class HemisphereLightHelper extends Object3D{constructor(_,K,te){super(),this.light=_,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.color=te,this.type="HemisphereLightHelper";const ne=new OctahedronGeometry(K);ne.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const ie=ne.getAttribute("position"),oe=new Float32Array(ie.count*3);ne.setAttribute("color",new BufferAttribute(oe,3)),this.add(new Mesh(ne,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const _=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const K=_.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let te=0,ne=K.count;te<ne;te++){const ie=te<ne/2?_color1:_color2;K.setXYZ(te,ie.r,ie.g,ie.b)}K.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),_.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(_=10,K=10,te=4473924,ne=8947848){te=new Color$1(te),ne=new Color$1(ne);const ie=K/2,oe=_/K,se=_/2,le=[],ce=[];for(let pe=0,ge=0,ye=-se;pe<=K;pe++,ye+=oe){le.push(-se,0,ye,se,0,ye),le.push(ye,0,-se,ye,0,se);const Ee=pe===ie?te:ne;Ee.toArray(ce,ge),ge+=3,Ee.toArray(ce,ge),ge+=3,Ee.toArray(ce,ge),ge+=3,Ee.toArray(ce,ge),ge+=3}const fe=new BufferGeometry;fe.setAttribute("position",new Float32BufferAttribute(le,3)),fe.setAttribute("color",new Float32BufferAttribute(ce,3));const me=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(fe,me),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(_=10,K=16,te=8,ne=64,ie=4473924,oe=8947848){ie=new Color$1(ie),oe=new Color$1(oe);const se=[],le=[];if(K>1)for(let me=0;me<K;me++){const pe=me/K*(Math.PI*2),ge=Math.sin(pe)*_,ye=Math.cos(pe)*_;se.push(0,0,0),se.push(ge,0,ye);const Ee=me&1?ie:oe;le.push(Ee.r,Ee.g,Ee.b),le.push(Ee.r,Ee.g,Ee.b)}for(let me=0;me<te;me++){const pe=me&1?ie:oe,ge=_-_/te*me;for(let ye=0;ye<ne;ye++){let Ee=ye/ne*(Math.PI*2),_e=Math.sin(Ee)*ge,Se=Math.cos(Ee)*ge;se.push(_e,0,Se),le.push(pe.r,pe.g,pe.b),Ee=(ye+1)/ne*(Math.PI*2),_e=Math.sin(Ee)*ge,Se=Math.cos(Ee)*ge,se.push(_e,0,Se),le.push(pe.r,pe.g,pe.b)}}const ce=new BufferGeometry;ce.setAttribute("position",new Float32BufferAttribute(se,3)),ce.setAttribute("color",new Float32BufferAttribute(le,3));const fe=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ce,fe),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(_,K,te){super(),this.light=_,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.color=te,this.type="DirectionalLightHelper",K===void 0&&(K=1);let ne=new BufferGeometry;ne.setAttribute("position",new Float32BufferAttribute([-K,K,0,K,K,0,K,-K,0,-K,-K,0,-K,K,0],3));const ie=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(ne,ie),this.add(this.lightPlane),ne=new BufferGeometry,ne.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(ne,ie),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(_){const K=new BufferGeometry,te=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),ne=[],ie=[],oe={};se("n1","n2"),se("n2","n4"),se("n4","n3"),se("n3","n1"),se("f1","f2"),se("f2","f4"),se("f4","f3"),se("f3","f1"),se("n1","f1"),se("n2","f2"),se("n3","f3"),se("n4","f4"),se("p","n1"),se("p","n2"),se("p","n3"),se("p","n4"),se("u1","u2"),se("u2","u3"),se("u3","u1"),se("c","t"),se("p","c"),se("cn1","cn2"),se("cn3","cn4"),se("cf1","cf2"),se("cf3","cf4");function se(ye,Ee){le(ye),le(Ee)}function le(ye){ne.push(0,0,0),ie.push(0,0,0),oe[ye]===void 0&&(oe[ye]=[]),oe[ye].push(ne.length/3-1)}K.setAttribute("position",new Float32BufferAttribute(ne,3)),K.setAttribute("color",new Float32BufferAttribute(ie,3)),super(K,te),this.type="CameraHelper",this.camera=_,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=oe,this.update();const ce=new Color$1(16755200),fe=new Color$1(16711680),me=new Color$1(43775),pe=new Color$1(16777215),ge=new Color$1(3355443);this.setColors(ce,fe,me,pe,ge)}setColors(_,K,te,ne,ie){const se=this.geometry.getAttribute("color");se.setXYZ(0,_.r,_.g,_.b),se.setXYZ(1,_.r,_.g,_.b),se.setXYZ(2,_.r,_.g,_.b),se.setXYZ(3,_.r,_.g,_.b),se.setXYZ(4,_.r,_.g,_.b),se.setXYZ(5,_.r,_.g,_.b),se.setXYZ(6,_.r,_.g,_.b),se.setXYZ(7,_.r,_.g,_.b),se.setXYZ(8,_.r,_.g,_.b),se.setXYZ(9,_.r,_.g,_.b),se.setXYZ(10,_.r,_.g,_.b),se.setXYZ(11,_.r,_.g,_.b),se.setXYZ(12,_.r,_.g,_.b),se.setXYZ(13,_.r,_.g,_.b),se.setXYZ(14,_.r,_.g,_.b),se.setXYZ(15,_.r,_.g,_.b),se.setXYZ(16,_.r,_.g,_.b),se.setXYZ(17,_.r,_.g,_.b),se.setXYZ(18,_.r,_.g,_.b),se.setXYZ(19,_.r,_.g,_.b),se.setXYZ(20,_.r,_.g,_.b),se.setXYZ(21,_.r,_.g,_.b),se.setXYZ(22,_.r,_.g,_.b),se.setXYZ(23,_.r,_.g,_.b),se.setXYZ(24,K.r,K.g,K.b),se.setXYZ(25,K.r,K.g,K.b),se.setXYZ(26,K.r,K.g,K.b),se.setXYZ(27,K.r,K.g,K.b),se.setXYZ(28,K.r,K.g,K.b),se.setXYZ(29,K.r,K.g,K.b),se.setXYZ(30,K.r,K.g,K.b),se.setXYZ(31,K.r,K.g,K.b),se.setXYZ(32,te.r,te.g,te.b),se.setXYZ(33,te.r,te.g,te.b),se.setXYZ(34,te.r,te.g,te.b),se.setXYZ(35,te.r,te.g,te.b),se.setXYZ(36,te.r,te.g,te.b),se.setXYZ(37,te.r,te.g,te.b),se.setXYZ(38,ne.r,ne.g,ne.b),se.setXYZ(39,ne.r,ne.g,ne.b),se.setXYZ(40,ie.r,ie.g,ie.b),se.setXYZ(41,ie.r,ie.g,ie.b),se.setXYZ(42,ie.r,ie.g,ie.b),se.setXYZ(43,ie.r,ie.g,ie.b),se.setXYZ(44,ie.r,ie.g,ie.b),se.setXYZ(45,ie.r,ie.g,ie.b),se.setXYZ(46,ie.r,ie.g,ie.b),se.setXYZ(47,ie.r,ie.g,ie.b),se.setXYZ(48,ie.r,ie.g,ie.b),se.setXYZ(49,ie.r,ie.g,ie.b),se.needsUpdate=!0}update(){const _=this.geometry,K=this.pointMap,te=1,ne=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",K,_,_camera,0,0,-1),setPoint("t",K,_,_camera,0,0,1),setPoint("n1",K,_,_camera,-1,-1,-1),setPoint("n2",K,_,_camera,te,-1,-1),setPoint("n3",K,_,_camera,-1,ne,-1),setPoint("n4",K,_,_camera,te,ne,-1),setPoint("f1",K,_,_camera,-1,-1,1),setPoint("f2",K,_,_camera,te,-1,1),setPoint("f3",K,_,_camera,-1,ne,1),setPoint("f4",K,_,_camera,te,ne,1),setPoint("u1",K,_,_camera,te*.7,ne*1.1,-1),setPoint("u2",K,_,_camera,-1*.7,ne*1.1,-1),setPoint("u3",K,_,_camera,0,ne*2,-1),setPoint("cf1",K,_,_camera,-1,0,1),setPoint("cf2",K,_,_camera,te,0,1),setPoint("cf3",K,_,_camera,0,-1,1),setPoint("cf4",K,_,_camera,0,ne,1),setPoint("cn1",K,_,_camera,-1,0,-1),setPoint("cn2",K,_,_camera,te,0,-1),setPoint("cn3",K,_,_camera,0,-1,-1),setPoint("cn4",K,_,_camera,0,ne,-1),_.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(Z,_,K,te,ne,ie,oe){_vector.set(ne,ie,oe).unproject(te);const se=_[Z];if(se!==void 0){const le=K.getAttribute("position");for(let ce=0,fe=se.length;ce<fe;ce++)le.setXYZ(se[ce],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(_,K=16776960){const te=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ne=new Float32Array(8*3),ie=new BufferGeometry;ie.setIndex(new BufferAttribute(te,1)),ie.setAttribute("position",new BufferAttribute(ne,3)),super(ie,new LineBasicMaterial({color:K,toneMapped:!1})),this.object=_,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(_){if(_!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const K=_box.min,te=_box.max,ne=this.geometry.attributes.position,ie=ne.array;ie[0]=te.x,ie[1]=te.y,ie[2]=te.z,ie[3]=K.x,ie[4]=te.y,ie[5]=te.z,ie[6]=K.x,ie[7]=K.y,ie[8]=te.z,ie[9]=te.x,ie[10]=K.y,ie[11]=te.z,ie[12]=te.x,ie[13]=te.y,ie[14]=K.z,ie[15]=K.x,ie[16]=te.y,ie[17]=K.z,ie[18]=K.x,ie[19]=K.y,ie[20]=K.z,ie[21]=te.x,ie[22]=K.y,ie[23]=K.z,ne.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(_){return this.object=_,this.update(),this}copy(_,K){return super.copy(_,K),this.object=_.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(_,K=16776960){const te=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ne=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],ie=new BufferGeometry;ie.setIndex(new BufferAttribute(te,1)),ie.setAttribute("position",new Float32BufferAttribute(ne,3)),super(ie,new LineBasicMaterial({color:K,toneMapped:!1})),this.box=_,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(_){const K=this.box;K.isEmpty()||(K.getCenter(this.position),K.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(_))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(_,K=1,te=16776960){const ne=te,ie=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],oe=new BufferGeometry;oe.setAttribute("position",new Float32BufferAttribute(ie,3)),oe.computeBoundingSphere(),super(oe,new LineBasicMaterial({color:ne,toneMapped:!1})),this.type="PlaneHelper",this.plane=_,this.size=K;const se=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],le=new BufferGeometry;le.setAttribute("position",new Float32BufferAttribute(se,3)),le.computeBoundingSphere(),this.add(new Mesh(le,new MeshBasicMaterial({color:ne,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(_){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(_)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(_=new Vector3(0,0,1),K=new Vector3(0,0,0),te=1,ne=16776960,ie=te*.2,oe=ie*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(K),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:ne,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:ne,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(_),this.setLength(te,ie,oe)}setDirection(_){if(_.y>.99999)this.quaternion.set(0,0,0,1);else if(_.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(_.z,0,-_.x).normalize();const K=Math.acos(_.y);this.quaternion.setFromAxisAngle(_axis,K)}}setLength(_,K=_*.2,te=K*.2){this.line.scale.set(1,Math.max(1e-4,_-K),1),this.line.updateMatrix(),this.cone.scale.set(te,K,te),this.cone.position.y=_,this.cone.updateMatrix()}setColor(_){this.line.material.color.set(_),this.cone.material.color.set(_)}copy(_){return super.copy(_,!1),this.line.copy(_.line),this.cone.copy(_.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(_=1){const K=[0,0,0,_,0,0,0,0,0,0,_,0,0,0,0,0,0,_],te=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],ne=new BufferGeometry;ne.setAttribute("position",new Float32BufferAttribute(K,3)),ne.setAttribute("color",new Float32BufferAttribute(te,3));const ie=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ne,ie),this.type="AxesHelper"}setColors(_,K,te){const ne=new Color$1,ie=this.geometry.attributes.color.array;return ne.set(_),ne.toArray(ie,0),ne.toArray(ie,3),ne.set(K),ne.toArray(ie,6),ne.toArray(ie,9),ne.set(te),ne.toArray(ie,12),ne.toArray(ie,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(_,K){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(_,K),this}lineTo(_,K){return this.currentPath.lineTo(_,K),this}quadraticCurveTo(_,K,te,ne){return this.currentPath.quadraticCurveTo(_,K,te,ne),this}bezierCurveTo(_,K,te,ne,ie,oe){return this.currentPath.bezierCurveTo(_,K,te,ne,ie,oe),this}splineThru(_){return this.currentPath.splineThru(_),this}toShapes(_){function K(Se){const Re=[];for(let Te=0,Ae=Se.length;Te<Ae;Te++){const Fe=Se[Te],$e=new Shape;$e.curves=Fe.curves,Re.push($e)}return Re}function te(Se,Re){const Te=Re.length;let Ae=!1;for(let Fe=Te-1,$e=0;$e<Te;Fe=$e++){let ke=Re[Fe],ze=Re[$e],Ue=ze.x-ke.x,Oe=ze.y-ke.y;if(Math.abs(Oe)>Number.EPSILON){if(Oe<0&&(ke=Re[$e],Ue=-Ue,ze=Re[Fe],Oe=-Oe),Se.y<ke.y||Se.y>ze.y)continue;if(Se.y===ke.y){if(Se.x===ke.x)return!0}else{const Ve=Oe*(Se.x-ke.x)-Ue*(Se.y-ke.y);if(Ve===0)return!0;if(Ve<0)continue;Ae=!Ae}}else{if(Se.y!==ke.y)continue;if(ze.x<=Se.x&&Se.x<=ke.x||ke.x<=Se.x&&Se.x<=ze.x)return!0}}return Ae}const ne=ShapeUtils.isClockWise,ie=this.subPaths;if(ie.length===0)return[];let oe,se,le;const ce=[];if(ie.length===1)return se=ie[0],le=new Shape,le.curves=se.curves,ce.push(le),ce;let fe=!ne(ie[0].getPoints());fe=_?!fe:fe;const me=[],pe=[];let ge=[],ye=0,Ee;pe[ye]=void 0,ge[ye]=[];for(let Se=0,Re=ie.length;Se<Re;Se++)se=ie[Se],Ee=se.getPoints(),oe=ne(Ee),oe=_?!oe:oe,oe?(!fe&&pe[ye]&&ye++,pe[ye]={s:new Shape,p:Ee},pe[ye].s.curves=se.curves,fe&&ye++,ge[ye]=[]):ge[ye].push({h:se,p:Ee[0]});if(!pe[0])return K(ie);if(pe.length>1){let Se=!1,Re=0;for(let Te=0,Ae=pe.length;Te<Ae;Te++)me[Te]=[];for(let Te=0,Ae=pe.length;Te<Ae;Te++){const Fe=ge[Te];for(let $e=0;$e<Fe.length;$e++){const ke=Fe[$e];let ze=!0;for(let Ue=0;Ue<pe.length;Ue++)te(ke.p,pe[Ue].p)&&(Te!==Ue&&Re++,ze?(ze=!1,me[Ue].push(ke)):Se=!0);ze&&me[Te].push(ke)}}Re>0&&Se===!1&&(ge=me)}let _e;for(let Se=0,Re=pe.length;Se<Re;Se++){le=pe[Se].s,ce.push(le),_e=ge[Se];for(let Te=0,Ae=_e.length;Te<Ae;Te++)le.holes.push(_e[Te].h)}return ce}}class Controls extends EventDispatcher$1{constructor(_,K=null){super(),this.object=_,this.domElement=K,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function contain(Z,_){const K=Z.image&&Z.image.width?Z.image.width/Z.image.height:1;return K>_?(Z.repeat.x=1,Z.repeat.y=K/_,Z.offset.x=0,Z.offset.y=(1-Z.repeat.y)/2):(Z.repeat.x=_/K,Z.repeat.y=1,Z.offset.x=(1-Z.repeat.x)/2,Z.offset.y=0),Z}function cover(Z,_){const K=Z.image&&Z.image.width?Z.image.width/Z.image.height:1;return K>_?(Z.repeat.x=_/K,Z.repeat.y=1,Z.offset.x=(1-Z.repeat.x)/2,Z.offset.y=0):(Z.repeat.x=1,Z.repeat.y=K/_,Z.offset.x=0,Z.offset.y=(1-Z.repeat.y)/2),Z}function fill(Z){return Z.repeat.x=1,Z.repeat.y=1,Z.offset.x=0,Z.offset.y=0,Z}function getByteLength(Z,_,K,te){const ne=getTextureTypeByteLength(te);switch(K){case AlphaFormat:return Z*_;case LuminanceFormat:return Z*_;case LuminanceAlphaFormat:return Z*_*2;case RedFormat:return Z*_/ne.components*ne.byteLength;case RedIntegerFormat:return Z*_/ne.components*ne.byteLength;case RGFormat:return Z*_*2/ne.components*ne.byteLength;case RGIntegerFormat:return Z*_*2/ne.components*ne.byteLength;case RGBFormat:return Z*_*3/ne.components*ne.byteLength;case RGBAFormat:return Z*_*4/ne.components*ne.byteLength;case RGBAIntegerFormat:return Z*_*4/ne.components*ne.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(Z,16)*Math.max(_,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(Z,8)*Math.max(_,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((Z+3)/4)*Math.floor((_+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((Z+4)/5)*Math.floor((_+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((Z+4)/5)*Math.floor((_+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((Z+5)/6)*Math.floor((_+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((Z+5)/6)*Math.floor((_+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((Z+7)/8)*Math.floor((_+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((Z+7)/8)*Math.floor((_+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((Z+7)/8)*Math.floor((_+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((Z+9)/10)*Math.floor((_+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((Z+9)/10)*Math.floor((_+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((Z+9)/10)*Math.floor((_+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((Z+9)/10)*Math.floor((_+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((Z+11)/12)*Math.floor((_+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((Z+11)/12)*Math.floor((_+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(Z/4)*Math.ceil(_/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(Z/4)*Math.ceil(_/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(Z/4)*Math.ceil(_/4)*16}throw new Error(`Unable to determine texture byte length for ${K} format.`)}function getTextureTypeByteLength(Z){switch(Z){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${Z}.`)}const TextureUtils={contain,cover,fill,getByteLength};class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(_=1,K=1,te=1,ne={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(_,K,{...ne,count:te}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let Z=null,_=!1,K=null,te=null;function ne(ie,oe){K(ie,oe),te=Z.requestAnimationFrame(ne)}return{start:function(){_!==!0&&K!==null&&(te=Z.requestAnimationFrame(ne),_=!0)},stop:function(){Z.cancelAnimationFrame(te),_=!1},setAnimationLoop:function(ie){K=ie},setContext:function(ie){Z=ie}}}function WebGLAttributes(Z){const _=new WeakMap;function K(se,le){const ce=se.array,fe=se.usage,me=ce.byteLength,pe=Z.createBuffer();Z.bindBuffer(le,pe),Z.bufferData(le,ce,fe),se.onUploadCallback();let ge;if(ce instanceof Float32Array)ge=Z.FLOAT;else if(ce instanceof Uint16Array)se.isFloat16BufferAttribute?ge=Z.HALF_FLOAT:ge=Z.UNSIGNED_SHORT;else if(ce instanceof Int16Array)ge=Z.SHORT;else if(ce instanceof Uint32Array)ge=Z.UNSIGNED_INT;else if(ce instanceof Int32Array)ge=Z.INT;else if(ce instanceof Int8Array)ge=Z.BYTE;else if(ce instanceof Uint8Array)ge=Z.UNSIGNED_BYTE;else if(ce instanceof Uint8ClampedArray)ge=Z.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ce);return{buffer:pe,type:ge,bytesPerElement:ce.BYTES_PER_ELEMENT,version:se.version,size:me}}function te(se,le,ce){const fe=le.array,me=le.updateRanges;if(Z.bindBuffer(ce,se),me.length===0)Z.bufferSubData(ce,0,fe);else{me.sort((ge,ye)=>ge.start-ye.start);let pe=0;for(let ge=1;ge<me.length;ge++){const ye=me[pe],Ee=me[ge];Ee.start<=ye.start+ye.count+1?ye.count=Math.max(ye.count,Ee.start+Ee.count-ye.start):(++pe,me[pe]=Ee)}me.length=pe+1;for(let ge=0,ye=me.length;ge<ye;ge++){const Ee=me[ge];Z.bufferSubData(ce,Ee.start*fe.BYTES_PER_ELEMENT,fe,Ee.start,Ee.count)}le.clearUpdateRanges()}le.onUploadCallback()}function ne(se){return se.isInterleavedBufferAttribute&&(se=se.data),_.get(se)}function ie(se){se.isInterleavedBufferAttribute&&(se=se.data);const le=_.get(se);le&&(Z.deleteBuffer(le.buffer),_.delete(se))}function oe(se,le){if(se.isInterleavedBufferAttribute&&(se=se.data),se.isGLBufferAttribute){const fe=_.get(se);(!fe||fe.version<se.version)&&_.set(se,{buffer:se.buffer,type:se.type,bytesPerElement:se.elementSize,version:se.version});return}const ce=_.get(se);if(ce===void 0)_.set(se,K(se,le));else if(ce.version<se.version){if(ce.size!==se.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");te(ce.buffer,se,le),ce.version=se.version}}return{get:ne,remove:ie,update:oe}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(Z,_,K,te,ne,ie,oe){const se=new Color$1(0);let le=ie===!0?0:1,ce,fe,me=null,pe=0,ge=null;function ye(Te){let Ae=Te.isScene===!0?Te.background:null;return Ae&&Ae.isTexture&&(Ae=(Te.backgroundBlurriness>0?K:_).get(Ae)),Ae}function Ee(Te){let Ae=!1;const Fe=ye(Te);Fe===null?Se(se,le):Fe&&Fe.isColor&&(Se(Fe,1),Ae=!0);const $e=Z.xr.getEnvironmentBlendMode();$e==="additive"?te.buffers.color.setClear(0,0,0,1,oe):$e==="alpha-blend"&&te.buffers.color.setClear(0,0,0,0,oe),(Z.autoClear||Ae)&&(te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),Z.clear(Z.autoClearColor,Z.autoClearDepth,Z.autoClearStencil))}function _e(Te,Ae){const Fe=ye(Ae);Fe&&(Fe.isCubeTexture||Fe.mapping===CubeUVReflectionMapping)?(fe===void 0&&(fe=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),fe.geometry.deleteAttribute("normal"),fe.geometry.deleteAttribute("uv"),fe.onBeforeRender=function($e,ke,ze){this.matrixWorld.copyPosition(ze.matrixWorld)},Object.defineProperty(fe.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),ne.update(fe)),_e1$1.copy(Ae.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,Fe.isCubeTexture&&Fe.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),fe.material.uniforms.envMap.value=Fe,fe.material.uniforms.flipEnvMap.value=Fe.isCubeTexture&&Fe.isRenderTargetTexture===!1?-1:1,fe.material.uniforms.backgroundBlurriness.value=Ae.backgroundBlurriness,fe.material.uniforms.backgroundIntensity.value=Ae.backgroundIntensity,fe.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),fe.material.toneMapped=ColorManagement.getTransfer(Fe.colorSpace)!==SRGBTransfer,(me!==Fe||pe!==Fe.version||ge!==Z.toneMapping)&&(fe.material.needsUpdate=!0,me=Fe,pe=Fe.version,ge=Z.toneMapping),fe.layers.enableAll(),Te.unshift(fe,fe.geometry,fe.material,0,0,null)):Fe&&Fe.isTexture&&(ce===void 0&&(ce=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),ce.geometry.deleteAttribute("normal"),Object.defineProperty(ce.material,"map",{get:function(){return this.uniforms.t2D.value}}),ne.update(ce)),ce.material.uniforms.t2D.value=Fe,ce.material.uniforms.backgroundIntensity.value=Ae.backgroundIntensity,ce.material.toneMapped=ColorManagement.getTransfer(Fe.colorSpace)!==SRGBTransfer,Fe.matrixAutoUpdate===!0&&Fe.updateMatrix(),ce.material.uniforms.uvTransform.value.copy(Fe.matrix),(me!==Fe||pe!==Fe.version||ge!==Z.toneMapping)&&(ce.material.needsUpdate=!0,me=Fe,pe=Fe.version,ge=Z.toneMapping),ce.layers.enableAll(),Te.unshift(ce,ce.geometry,ce.material,0,0,null))}function Se(Te,Ae){Te.getRGB(_rgb,getUnlitUniformColorSpace(Z)),te.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Ae,oe)}function Re(){fe!==void 0&&(fe.geometry.dispose(),fe.material.dispose()),ce!==void 0&&(ce.geometry.dispose(),ce.material.dispose())}return{getClearColor:function(){return se},setClearColor:function(Te,Ae=1){se.set(Te),le=Ae,Se(se,le)},getClearAlpha:function(){return le},setClearAlpha:function(Te){le=Te,Se(se,le)},render:Ee,addToRenderList:_e,dispose:Re}}function WebGLBindingStates(Z,_){const K=Z.getParameter(Z.MAX_VERTEX_ATTRIBS),te={},ne=pe(null);let ie=ne,oe=!1;function se(Oe,Ve,Ye,Ke,ot){let ut=!1;const ct=me(Ke,Ye,Ve);ie!==ct&&(ie=ct,ce(ie.object)),ut=ge(Oe,Ke,Ye,ot),ut&&ye(Oe,Ke,Ye,ot),ot!==null&&_.update(ot,Z.ELEMENT_ARRAY_BUFFER),(ut||oe)&&(oe=!1,Ae(Oe,Ve,Ye,Ke),ot!==null&&Z.bindBuffer(Z.ELEMENT_ARRAY_BUFFER,_.get(ot).buffer))}function le(){return Z.createVertexArray()}function ce(Oe){return Z.bindVertexArray(Oe)}function fe(Oe){return Z.deleteVertexArray(Oe)}function me(Oe,Ve,Ye){const Ke=Ye.wireframe===!0;let ot=te[Oe.id];ot===void 0&&(ot={},te[Oe.id]=ot);let ut=ot[Ve.id];ut===void 0&&(ut={},ot[Ve.id]=ut);let ct=ut[Ke];return ct===void 0&&(ct=pe(le()),ut[Ke]=ct),ct}function pe(Oe){const Ve=[],Ye=[],Ke=[];for(let ot=0;ot<K;ot++)Ve[ot]=0,Ye[ot]=0,Ke[ot]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ve,enabledAttributes:Ye,attributeDivisors:Ke,object:Oe,attributes:{},index:null}}function ge(Oe,Ve,Ye,Ke){const ot=ie.attributes,ut=Ve.attributes;let ct=0;const gt=Ye.getAttributes();for(const je in gt)if(gt[je].location>=0){const Qe=ot[je];let qe=ut[je];if(qe===void 0&&(je==="instanceMatrix"&&Oe.instanceMatrix&&(qe=Oe.instanceMatrix),je==="instanceColor"&&Oe.instanceColor&&(qe=Oe.instanceColor)),Qe===void 0||Qe.attribute!==qe||qe&&Qe.data!==qe.data)return!0;ct++}return ie.attributesNum!==ct||ie.index!==Ke}function ye(Oe,Ve,Ye,Ke){const ot={},ut=Ve.attributes;let ct=0;const gt=Ye.getAttributes();for(const je in gt)if(gt[je].location>=0){let Qe=ut[je];Qe===void 0&&(je==="instanceMatrix"&&Oe.instanceMatrix&&(Qe=Oe.instanceMatrix),je==="instanceColor"&&Oe.instanceColor&&(Qe=Oe.instanceColor));const qe={};qe.attribute=Qe,Qe&&Qe.data&&(qe.data=Qe.data),ot[je]=qe,ct++}ie.attributes=ot,ie.attributesNum=ct,ie.index=Ke}function Ee(){const Oe=ie.newAttributes;for(let Ve=0,Ye=Oe.length;Ve<Ye;Ve++)Oe[Ve]=0}function _e(Oe){Se(Oe,0)}function Se(Oe,Ve){const Ye=ie.newAttributes,Ke=ie.enabledAttributes,ot=ie.attributeDivisors;Ye[Oe]=1,Ke[Oe]===0&&(Z.enableVertexAttribArray(Oe),Ke[Oe]=1),ot[Oe]!==Ve&&(Z.vertexAttribDivisor(Oe,Ve),ot[Oe]=Ve)}function Re(){const Oe=ie.newAttributes,Ve=ie.enabledAttributes;for(let Ye=0,Ke=Ve.length;Ye<Ke;Ye++)Ve[Ye]!==Oe[Ye]&&(Z.disableVertexAttribArray(Ye),Ve[Ye]=0)}function Te(Oe,Ve,Ye,Ke,ot,ut,ct){ct===!0?Z.vertexAttribIPointer(Oe,Ve,Ye,ot,ut):Z.vertexAttribPointer(Oe,Ve,Ye,Ke,ot,ut)}function Ae(Oe,Ve,Ye,Ke){Ee();const ot=Ke.attributes,ut=Ye.getAttributes(),ct=Ve.defaultAttributeValues;for(const gt in ut){const je=ut[gt];if(je.location>=0){let rt=ot[gt];if(rt===void 0&&(gt==="instanceMatrix"&&Oe.instanceMatrix&&(rt=Oe.instanceMatrix),gt==="instanceColor"&&Oe.instanceColor&&(rt=Oe.instanceColor)),rt!==void 0){const Qe=rt.normalized,qe=rt.itemSize,lt=_.get(rt);if(lt===void 0)continue;const Et=lt.buffer,ht=lt.type,dt=lt.bytesPerElement,Mt=ht===Z.INT||ht===Z.UNSIGNED_INT||rt.gpuType===IntType;if(rt.isInterleavedBufferAttribute){const Pt=rt.data,Wt=Pt.stride,Qt=rt.offset;if(Pt.isInstancedInterleavedBuffer){for(let sn=0;sn<je.locationSize;sn++)Se(je.location+sn,Pt.meshPerAttribute);Oe.isInstancedMesh!==!0&&Ke._maxInstanceCount===void 0&&(Ke._maxInstanceCount=Pt.meshPerAttribute*Pt.count)}else for(let sn=0;sn<je.locationSize;sn++)_e(je.location+sn);Z.bindBuffer(Z.ARRAY_BUFFER,Et);for(let sn=0;sn<je.locationSize;sn++)Te(je.location+sn,qe/je.locationSize,ht,Qe,Wt*dt,(Qt+qe/je.locationSize*sn)*dt,Mt)}else{if(rt.isInstancedBufferAttribute){for(let Pt=0;Pt<je.locationSize;Pt++)Se(je.location+Pt,rt.meshPerAttribute);Oe.isInstancedMesh!==!0&&Ke._maxInstanceCount===void 0&&(Ke._maxInstanceCount=rt.meshPerAttribute*rt.count)}else for(let Pt=0;Pt<je.locationSize;Pt++)_e(je.location+Pt);Z.bindBuffer(Z.ARRAY_BUFFER,Et);for(let Pt=0;Pt<je.locationSize;Pt++)Te(je.location+Pt,qe/je.locationSize,ht,Qe,qe*dt,qe/je.locationSize*Pt*dt,Mt)}}else if(ct!==void 0){const Qe=ct[gt];if(Qe!==void 0)switch(Qe.length){case 2:Z.vertexAttrib2fv(je.location,Qe);break;case 3:Z.vertexAttrib3fv(je.location,Qe);break;case 4:Z.vertexAttrib4fv(je.location,Qe);break;default:Z.vertexAttrib1fv(je.location,Qe)}}}}Re()}function Fe(){ze();for(const Oe in te){const Ve=te[Oe];for(const Ye in Ve){const Ke=Ve[Ye];for(const ot in Ke)fe(Ke[ot].object),delete Ke[ot];delete Ve[Ye]}delete te[Oe]}}function $e(Oe){if(te[Oe.id]===void 0)return;const Ve=te[Oe.id];for(const Ye in Ve){const Ke=Ve[Ye];for(const ot in Ke)fe(Ke[ot].object),delete Ke[ot];delete Ve[Ye]}delete te[Oe.id]}function ke(Oe){for(const Ve in te){const Ye=te[Ve];if(Ye[Oe.id]===void 0)continue;const Ke=Ye[Oe.id];for(const ot in Ke)fe(Ke[ot].object),delete Ke[ot];delete Ye[Oe.id]}}function ze(){Ue(),oe=!0,ie!==ne&&(ie=ne,ce(ie.object))}function Ue(){ne.geometry=null,ne.program=null,ne.wireframe=!1}return{setup:se,reset:ze,resetDefaultState:Ue,dispose:Fe,releaseStatesOfGeometry:$e,releaseStatesOfProgram:ke,initAttributes:Ee,enableAttribute:_e,disableUnusedAttributes:Re}}function WebGLBufferRenderer(Z,_,K){let te;function ne(ce){te=ce}function ie(ce,fe){Z.drawArrays(te,ce,fe),K.update(fe,te,1)}function oe(ce,fe,me){me!==0&&(Z.drawArraysInstanced(te,ce,fe,me),K.update(fe,te,me))}function se(ce,fe,me){if(me===0)return;_.get("WEBGL_multi_draw").multiDrawArraysWEBGL(te,ce,0,fe,0,me);let ge=0;for(let ye=0;ye<me;ye++)ge+=fe[ye];K.update(ge,te,1)}function le(ce,fe,me,pe){if(me===0)return;const ge=_.get("WEBGL_multi_draw");if(ge===null)for(let ye=0;ye<ce.length;ye++)oe(ce[ye],fe[ye],pe[ye]);else{ge.multiDrawArraysInstancedWEBGL(te,ce,0,fe,0,pe,0,me);let ye=0;for(let Ee=0;Ee<me;Ee++)ye+=fe[Ee]*pe[Ee];K.update(ye,te,1)}}this.setMode=ne,this.render=ie,this.renderInstances=oe,this.renderMultiDraw=se,this.renderMultiDrawInstances=le}function WebGLCapabilities(Z,_,K,te){let ne;function ie(){if(ne!==void 0)return ne;if(_.has("EXT_texture_filter_anisotropic")===!0){const ke=_.get("EXT_texture_filter_anisotropic");ne=Z.getParameter(ke.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else ne=0;return ne}function oe(ke){return!(ke!==RGBAFormat&&te.convert(ke)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT))}function se(ke){const ze=ke===HalfFloatType&&(_.has("EXT_color_buffer_half_float")||_.has("EXT_color_buffer_float"));return!(ke!==UnsignedByteType&&te.convert(ke)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&ke!==FloatType&&!ze)}function le(ke){if(ke==="highp"){if(Z.getShaderPrecisionFormat(Z.VERTEX_SHADER,Z.HIGH_FLOAT).precision>0&&Z.getShaderPrecisionFormat(Z.FRAGMENT_SHADER,Z.HIGH_FLOAT).precision>0)return"highp";ke="mediump"}return ke==="mediump"&&Z.getShaderPrecisionFormat(Z.VERTEX_SHADER,Z.MEDIUM_FLOAT).precision>0&&Z.getShaderPrecisionFormat(Z.FRAGMENT_SHADER,Z.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let ce=K.precision!==void 0?K.precision:"highp";const fe=le(ce);fe!==ce&&(console.warn("THREE.WebGLRenderer:",ce,"not supported, using",fe,"instead."),ce=fe);const me=K.logarithmicDepthBuffer===!0,pe=K.reverseDepthBuffer===!0&&_.has("EXT_clip_control"),ge=Z.getParameter(Z.MAX_TEXTURE_IMAGE_UNITS),ye=Z.getParameter(Z.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Ee=Z.getParameter(Z.MAX_TEXTURE_SIZE),_e=Z.getParameter(Z.MAX_CUBE_MAP_TEXTURE_SIZE),Se=Z.getParameter(Z.MAX_VERTEX_ATTRIBS),Re=Z.getParameter(Z.MAX_VERTEX_UNIFORM_VECTORS),Te=Z.getParameter(Z.MAX_VARYING_VECTORS),Ae=Z.getParameter(Z.MAX_FRAGMENT_UNIFORM_VECTORS),Fe=ye>0,$e=Z.getParameter(Z.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:ie,getMaxPrecision:le,textureFormatReadable:oe,textureTypeReadable:se,precision:ce,logarithmicDepthBuffer:me,reverseDepthBuffer:pe,maxTextures:ge,maxVertexTextures:ye,maxTextureSize:Ee,maxCubemapSize:_e,maxAttributes:Se,maxVertexUniforms:Re,maxVaryings:Te,maxFragmentUniforms:Ae,vertexTextures:Fe,maxSamples:$e}}function WebGLClipping(Z){const _=this;let K=null,te=0,ne=!1,ie=!1;const oe=new Plane,se=new Matrix3,le={value:null,needsUpdate:!1};this.uniform=le,this.numPlanes=0,this.numIntersection=0,this.init=function(me,pe){const ge=me.length!==0||pe||te!==0||ne;return ne=pe,te=me.length,ge},this.beginShadows=function(){ie=!0,fe(null)},this.endShadows=function(){ie=!1},this.setGlobalState=function(me,pe){K=fe(me,pe,0)},this.setState=function(me,pe,ge){const ye=me.clippingPlanes,Ee=me.clipIntersection,_e=me.clipShadows,Se=Z.get(me);if(!ne||ye===null||ye.length===0||ie&&!_e)ie?fe(null):ce();else{const Re=ie?0:te,Te=Re*4;let Ae=Se.clippingState||null;le.value=Ae,Ae=fe(ye,pe,Te,ge);for(let Fe=0;Fe!==Te;++Fe)Ae[Fe]=K[Fe];Se.clippingState=Ae,this.numIntersection=Ee?this.numPlanes:0,this.numPlanes+=Re}};function ce(){le.value!==K&&(le.value=K,le.needsUpdate=te>0),_.numPlanes=te,_.numIntersection=0}function fe(me,pe,ge,ye){const Ee=me!==null?me.length:0;let _e=null;if(Ee!==0){if(_e=le.value,ye!==!0||_e===null){const Se=ge+Ee*4,Re=pe.matrixWorldInverse;se.getNormalMatrix(Re),(_e===null||_e.length<Se)&&(_e=new Float32Array(Se));for(let Te=0,Ae=ge;Te!==Ee;++Te,Ae+=4)oe.copy(me[Te]).applyMatrix4(Re,se),oe.normal.toArray(_e,Ae),_e[Ae+3]=oe.constant}le.value=_e,le.needsUpdate=!0}return _.numPlanes=Ee,_.numIntersection=0,_e}}function WebGLCubeMaps(Z){let _=new WeakMap;function K(oe,se){return se===EquirectangularReflectionMapping?oe.mapping=CubeReflectionMapping:se===EquirectangularRefractionMapping&&(oe.mapping=CubeRefractionMapping),oe}function te(oe){if(oe&&oe.isTexture){const se=oe.mapping;if(se===EquirectangularReflectionMapping||se===EquirectangularRefractionMapping)if(_.has(oe)){const le=_.get(oe).texture;return K(le,oe.mapping)}else{const le=oe.image;if(le&&le.height>0){const ce=new WebGLCubeRenderTarget(le.height);return ce.fromEquirectangularTexture(Z,oe),_.set(oe,ce),oe.addEventListener("dispose",ne),K(ce.texture,oe.mapping)}else return null}}return oe}function ne(oe){const se=oe.target;se.removeEventListener("dispose",ne);const le=_.get(se);le!==void 0&&(_.delete(se),le.dispose())}function ie(){_=new WeakMap}return{get:te,dispose:ie}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)];class PMREMGenerator{constructor(_){this._renderer=_,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(_,K=0,te=.1,ne=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const ie=this._allocateTargets();return ie.depthBuffer=!0,this._sceneToCubeUV(_,te,ne,ie),K>0&&this._blur(ie,0,0,K),this._applyPMREM(ie),this._cleanup(ie),ie}fromEquirectangular(_,K=null){return this._fromTexture(_,K)}fromCubemap(_,K=null){return this._fromTexture(_,K)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(_){this._lodMax=Math.floor(Math.log2(_)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let _=0;_<this._lodPlanes.length;_++)this._lodPlanes[_].dispose()}_cleanup(_){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,_.scissorTest=!1,_setViewport(_,0,0,_.width,_.height)}_fromTexture(_,K){_.mapping===CubeReflectionMapping||_.mapping===CubeRefractionMapping?this._setSize(_.image.length===0?16:_.image[0].width||_.image[0].image.width):this._setSize(_.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const te=K||this._allocateTargets();return this._textureToCubeUV(_,te),this._applyPMREM(te),this._cleanup(te),te}_allocateTargets(){const _=3*Math.max(this._cubeSize,112),K=4*this._cubeSize,te={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},ne=_createRenderTarget(_,K,te);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==_||this._pingPongRenderTarget.height!==K){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(_,K,te);const{_lodMax:ie}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(ie)),this._blurMaterial=_getBlurShader(ie,_,K)}return ne}_compileMaterial(_){const K=new Mesh(this._lodPlanes[0],_);this._renderer.compile(K,_flatCamera)}_sceneToCubeUV(_,K,te,ne){const se=new PerspectiveCamera$1(90,1,K,te),le=[1,-1,1,1,1,1],ce=[1,1,1,-1,-1,-1],fe=this._renderer,me=fe.autoClear,pe=fe.toneMapping;fe.getClearColor(_clearColor),fe.toneMapping=NoToneMapping,fe.autoClear=!1;const ge=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ye=new Mesh(new BoxGeometry,ge);let Ee=!1;const _e=_.background;_e?_e.isColor&&(ge.color.copy(_e),_.background=null,Ee=!0):(ge.color.copy(_clearColor),Ee=!0);for(let Se=0;Se<6;Se++){const Re=Se%3;Re===0?(se.up.set(0,le[Se],0),se.lookAt(ce[Se],0,0)):Re===1?(se.up.set(0,0,le[Se]),se.lookAt(0,ce[Se],0)):(se.up.set(0,le[Se],0),se.lookAt(0,0,ce[Se]));const Te=this._cubeSize;_setViewport(ne,Re*Te,Se>2?Te:0,Te,Te),fe.setRenderTarget(ne),Ee&&fe.render(ye,se),fe.render(_,se)}ye.geometry.dispose(),ye.material.dispose(),fe.toneMapping=pe,fe.autoClear=me,_.background=_e}_textureToCubeUV(_,K){const te=this._renderer,ne=_.mapping===CubeReflectionMapping||_.mapping===CubeRefractionMapping;ne?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=_.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const ie=ne?this._cubemapMaterial:this._equirectMaterial,oe=new Mesh(this._lodPlanes[0],ie),se=ie.uniforms;se.envMap.value=_;const le=this._cubeSize;_setViewport(K,0,0,3*le,2*le),te.setRenderTarget(K),te.render(oe,_flatCamera)}_applyPMREM(_){const K=this._renderer,te=K.autoClear;K.autoClear=!1;const ne=this._lodPlanes.length;for(let ie=1;ie<ne;ie++){const oe=Math.sqrt(this._sigmas[ie]*this._sigmas[ie]-this._sigmas[ie-1]*this._sigmas[ie-1]),se=_axisDirections[(ne-ie-1)%_axisDirections.length];this._blur(_,ie-1,ie,oe,se)}K.autoClear=te}_blur(_,K,te,ne,ie){const oe=this._pingPongRenderTarget;this._halfBlur(_,oe,K,te,ne,"latitudinal",ie),this._halfBlur(oe,_,te,te,ne,"longitudinal",ie)}_halfBlur(_,K,te,ne,ie,oe,se){const le=this._renderer,ce=this._blurMaterial;oe!=="latitudinal"&&oe!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const fe=3,me=new Mesh(this._lodPlanes[ne],ce),pe=ce.uniforms,ge=this._sizeLods[te]-1,ye=isFinite(ie)?Math.PI/(2*ge):2*Math.PI/(2*MAX_SAMPLES-1),Ee=ie/ye,_e=isFinite(ie)?1+Math.floor(fe*Ee):MAX_SAMPLES;_e>MAX_SAMPLES&&console.warn(`sigmaRadians, ${ie}, is too large and will clip, as it requested ${_e} samples when the maximum is set to ${MAX_SAMPLES}`);const Se=[];let Re=0;for(let ke=0;ke<MAX_SAMPLES;++ke){const ze=ke/Ee,Ue=Math.exp(-ze*ze/2);Se.push(Ue),ke===0?Re+=Ue:ke<_e&&(Re+=2*Ue)}for(let ke=0;ke<Se.length;ke++)Se[ke]=Se[ke]/Re;pe.envMap.value=_.texture,pe.samples.value=_e,pe.weights.value=Se,pe.latitudinal.value=oe==="latitudinal",se&&(pe.poleAxis.value=se);const{_lodMax:Te}=this;pe.dTheta.value=ye,pe.mipInt.value=Te-te;const Ae=this._sizeLods[ne],Fe=3*Ae*(ne>Te-LOD_MIN?ne-Te+LOD_MIN:0),$e=4*(this._cubeSize-Ae);_setViewport(K,Fe,$e,3*Ae,2*Ae),le.setRenderTarget(K),le.render(me,_flatCamera)}}function _createPlanes(Z){const _=[],K=[],te=[];let ne=Z;const ie=Z-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let oe=0;oe<ie;oe++){const se=Math.pow(2,ne);K.push(se);let le=1/se;oe>Z-LOD_MIN?le=EXTRA_LOD_SIGMA[oe-Z+LOD_MIN-1]:oe===0&&(le=0),te.push(le);const ce=1/(se-2),fe=-ce,me=1+ce,pe=[fe,fe,me,fe,me,me,fe,fe,me,me,fe,me],ge=6,ye=6,Ee=3,_e=2,Se=1,Re=new Float32Array(Ee*ye*ge),Te=new Float32Array(_e*ye*ge),Ae=new Float32Array(Se*ye*ge);for(let $e=0;$e<ge;$e++){const ke=$e%3*2/3-1,ze=$e>2?0:-1,Ue=[ke,ze,0,ke+2/3,ze,0,ke+2/3,ze+1,0,ke,ze,0,ke+2/3,ze+1,0,ke,ze+1,0];Re.set(Ue,Ee*ye*$e),Te.set(pe,_e*ye*$e);const Oe=[$e,$e,$e,$e,$e,$e];Ae.set(Oe,Se*ye*$e)}const Fe=new BufferGeometry;Fe.setAttribute("position",new BufferAttribute(Re,Ee)),Fe.setAttribute("uv",new BufferAttribute(Te,_e)),Fe.setAttribute("faceIndex",new BufferAttribute(Ae,Se)),_.push(Fe),ne>LOD_MIN&&ne--}return{lodPlanes:_,sizeLods:K,sigmas:te}}function _createRenderTarget(Z,_,K){const te=new WebGLRenderTarget(Z,_,K);return te.texture.mapping=CubeUVReflectionMapping,te.texture.name="PMREM.cubeUv",te.scissorTest=!0,te}function _setViewport(Z,_,K,te,ne){Z.viewport.set(_,K,te,ne),Z.scissor.set(_,K,te,ne)}function _getBlurShader(Z,_,K){const te=new Float32Array(MAX_SAMPLES),ne=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/_,CUBEUV_TEXEL_HEIGHT:1/K,CUBEUV_MAX_MIP:`${Z}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:te},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:ne}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(Z){let _=new WeakMap,K=null;function te(se){if(se&&se.isTexture){const le=se.mapping,ce=le===EquirectangularReflectionMapping||le===EquirectangularRefractionMapping,fe=le===CubeReflectionMapping||le===CubeRefractionMapping;if(ce||fe){let me=_.get(se);const pe=me!==void 0?me.texture.pmremVersion:0;if(se.isRenderTargetTexture&&se.pmremVersion!==pe)return K===null&&(K=new PMREMGenerator(Z)),me=ce?K.fromEquirectangular(se,me):K.fromCubemap(se,me),me.texture.pmremVersion=se.pmremVersion,_.set(se,me),me.texture;if(me!==void 0)return me.texture;{const ge=se.image;return ce&&ge&&ge.height>0||fe&&ge&&ne(ge)?(K===null&&(K=new PMREMGenerator(Z)),me=ce?K.fromEquirectangular(se):K.fromCubemap(se),me.texture.pmremVersion=se.pmremVersion,_.set(se,me),se.addEventListener("dispose",ie),me.texture):null}}}return se}function ne(se){let le=0;const ce=6;for(let fe=0;fe<ce;fe++)se[fe]!==void 0&&le++;return le===ce}function ie(se){const le=se.target;le.removeEventListener("dispose",ie);const ce=_.get(le);ce!==void 0&&(_.delete(le),ce.dispose())}function oe(){_=new WeakMap,K!==null&&(K.dispose(),K=null)}return{get:te,dispose:oe}}function WebGLExtensions(Z){const _={};function K(te){if(_[te]!==void 0)return _[te];let ne;switch(te){case"WEBGL_depth_texture":ne=Z.getExtension("WEBGL_depth_texture")||Z.getExtension("MOZ_WEBGL_depth_texture")||Z.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":ne=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":ne=Z.getExtension("WEBGL_compressed_texture_s3tc")||Z.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||Z.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":ne=Z.getExtension("WEBGL_compressed_texture_pvrtc")||Z.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:ne=Z.getExtension(te)}return _[te]=ne,ne}return{has:function(te){return K(te)!==null},init:function(){K("EXT_color_buffer_float"),K("WEBGL_clip_cull_distance"),K("OES_texture_float_linear"),K("EXT_color_buffer_half_float"),K("WEBGL_multisampled_render_to_texture"),K("WEBGL_render_shared_exponent")},get:function(te){const ne=K(te);return ne===null&&warnOnce("THREE.WebGLRenderer: "+te+" extension not supported."),ne}}}function WebGLGeometries(Z,_,K,te){const ne={},ie=new WeakMap;function oe(me){const pe=me.target;pe.index!==null&&_.remove(pe.index);for(const ye in pe.attributes)_.remove(pe.attributes[ye]);pe.removeEventListener("dispose",oe),delete ne[pe.id];const ge=ie.get(pe);ge&&(_.remove(ge),ie.delete(pe)),te.releaseStatesOfGeometry(pe),pe.isInstancedBufferGeometry===!0&&delete pe._maxInstanceCount,K.memory.geometries--}function se(me,pe){return ne[pe.id]===!0||(pe.addEventListener("dispose",oe),ne[pe.id]=!0,K.memory.geometries++),pe}function le(me){const pe=me.attributes;for(const ge in pe)_.update(pe[ge],Z.ARRAY_BUFFER)}function ce(me){const pe=[],ge=me.index,ye=me.attributes.position;let Ee=0;if(ge!==null){const Re=ge.array;Ee=ge.version;for(let Te=0,Ae=Re.length;Te<Ae;Te+=3){const Fe=Re[Te+0],$e=Re[Te+1],ke=Re[Te+2];pe.push(Fe,$e,$e,ke,ke,Fe)}}else if(ye!==void 0){const Re=ye.array;Ee=ye.version;for(let Te=0,Ae=Re.length/3-1;Te<Ae;Te+=3){const Fe=Te+0,$e=Te+1,ke=Te+2;pe.push(Fe,$e,$e,ke,ke,Fe)}}else return;const _e=new(arrayNeedsUint32(pe)?Uint32BufferAttribute:Uint16BufferAttribute)(pe,1);_e.version=Ee;const Se=ie.get(me);Se&&_.remove(Se),ie.set(me,_e)}function fe(me){const pe=ie.get(me);if(pe){const ge=me.index;ge!==null&&pe.version<ge.version&&ce(me)}else ce(me);return ie.get(me)}return{get:se,update:le,getWireframeAttribute:fe}}function WebGLIndexedBufferRenderer(Z,_,K){let te;function ne(pe){te=pe}let ie,oe;function se(pe){ie=pe.type,oe=pe.bytesPerElement}function le(pe,ge){Z.drawElements(te,ge,ie,pe*oe),K.update(ge,te,1)}function ce(pe,ge,ye){ye!==0&&(Z.drawElementsInstanced(te,ge,ie,pe*oe,ye),K.update(ge,te,ye))}function fe(pe,ge,ye){if(ye===0)return;_.get("WEBGL_multi_draw").multiDrawElementsWEBGL(te,ge,0,ie,pe,0,ye);let _e=0;for(let Se=0;Se<ye;Se++)_e+=ge[Se];K.update(_e,te,1)}function me(pe,ge,ye,Ee){if(ye===0)return;const _e=_.get("WEBGL_multi_draw");if(_e===null)for(let Se=0;Se<pe.length;Se++)ce(pe[Se]/oe,ge[Se],Ee[Se]);else{_e.multiDrawElementsInstancedWEBGL(te,ge,0,ie,pe,0,Ee,0,ye);let Se=0;for(let Re=0;Re<ye;Re++)Se+=ge[Re]*Ee[Re];K.update(Se,te,1)}}this.setMode=ne,this.setIndex=se,this.render=le,this.renderInstances=ce,this.renderMultiDraw=fe,this.renderMultiDrawInstances=me}function WebGLInfo(Z){const _={geometries:0,textures:0},K={frame:0,calls:0,triangles:0,points:0,lines:0};function te(ie,oe,se){switch(K.calls++,oe){case Z.TRIANGLES:K.triangles+=se*(ie/3);break;case Z.LINES:K.lines+=se*(ie/2);break;case Z.LINE_STRIP:K.lines+=se*(ie-1);break;case Z.LINE_LOOP:K.lines+=se*ie;break;case Z.POINTS:K.points+=se*ie;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",oe);break}}function ne(){K.calls=0,K.triangles=0,K.points=0,K.lines=0}return{memory:_,render:K,programs:null,autoReset:!0,reset:ne,update:te}}function WebGLMorphtargets(Z,_,K){const te=new WeakMap,ne=new Vector4;function ie(oe,se,le){const ce=oe.morphTargetInfluences,fe=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,me=fe!==void 0?fe.length:0;let pe=te.get(se);if(pe===void 0||pe.count!==me){let Ue=function(){ke.dispose(),te.delete(se),se.removeEventListener("dispose",Ue)};pe!==void 0&&pe.texture.dispose();const ge=se.morphAttributes.position!==void 0,ye=se.morphAttributes.normal!==void 0,Ee=se.morphAttributes.color!==void 0,_e=se.morphAttributes.position||[],Se=se.morphAttributes.normal||[],Re=se.morphAttributes.color||[];let Te=0;ge===!0&&(Te=1),ye===!0&&(Te=2),Ee===!0&&(Te=3);let Ae=se.attributes.position.count*Te,Fe=1;Ae>_.maxTextureSize&&(Fe=Math.ceil(Ae/_.maxTextureSize),Ae=_.maxTextureSize);const $e=new Float32Array(Ae*Fe*4*me),ke=new DataArrayTexture($e,Ae,Fe,me);ke.type=FloatType,ke.needsUpdate=!0;const ze=Te*4;for(let Oe=0;Oe<me;Oe++){const Ve=_e[Oe],Ye=Se[Oe],Ke=Re[Oe],ot=Ae*Fe*4*Oe;for(let ut=0;ut<Ve.count;ut++){const ct=ut*ze;ge===!0&&(ne.fromBufferAttribute(Ve,ut),$e[ot+ct+0]=ne.x,$e[ot+ct+1]=ne.y,$e[ot+ct+2]=ne.z,$e[ot+ct+3]=0),ye===!0&&(ne.fromBufferAttribute(Ye,ut),$e[ot+ct+4]=ne.x,$e[ot+ct+5]=ne.y,$e[ot+ct+6]=ne.z,$e[ot+ct+7]=0),Ee===!0&&(ne.fromBufferAttribute(Ke,ut),$e[ot+ct+8]=ne.x,$e[ot+ct+9]=ne.y,$e[ot+ct+10]=ne.z,$e[ot+ct+11]=Ke.itemSize===4?ne.w:1)}}pe={count:me,texture:ke,size:new Vector2(Ae,Fe)},te.set(se,pe),se.addEventListener("dispose",Ue)}if(oe.isInstancedMesh===!0&&oe.morphTexture!==null)le.getUniforms().setValue(Z,"morphTexture",oe.morphTexture,K);else{let ge=0;for(let Ee=0;Ee<ce.length;Ee++)ge+=ce[Ee];const ye=se.morphTargetsRelative?1:1-ge;le.getUniforms().setValue(Z,"morphTargetBaseInfluence",ye),le.getUniforms().setValue(Z,"morphTargetInfluences",ce)}le.getUniforms().setValue(Z,"morphTargetsTexture",pe.texture,K),le.getUniforms().setValue(Z,"morphTargetsTextureSize",pe.size)}return{update:ie}}function WebGLObjects(Z,_,K,te){let ne=new WeakMap;function ie(le){const ce=te.render.frame,fe=le.geometry,me=_.get(le,fe);if(ne.get(me)!==ce&&(_.update(me),ne.set(me,ce)),le.isInstancedMesh&&(le.hasEventListener("dispose",se)===!1&&le.addEventListener("dispose",se),ne.get(le)!==ce&&(K.update(le.instanceMatrix,Z.ARRAY_BUFFER),le.instanceColor!==null&&K.update(le.instanceColor,Z.ARRAY_BUFFER),ne.set(le,ce))),le.isSkinnedMesh){const pe=le.skeleton;ne.get(pe)!==ce&&(pe.update(),ne.set(pe,ce))}return me}function oe(){ne=new WeakMap}function se(le){const ce=le.target;ce.removeEventListener("dispose",se),K.remove(ce.instanceMatrix),ce.instanceColor!==null&&K.remove(ce.instanceColor)}return{update:ie,dispose:oe}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture$1,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten$1(Z,_,K){const te=Z[0];if(te<=0||te>0)return Z;const ne=_*K;let ie=arrayCacheF32[ne];if(ie===void 0&&(ie=new Float32Array(ne),arrayCacheF32[ne]=ie),_!==0){te.toArray(ie,0);for(let oe=1,se=0;oe!==_;++oe)se+=K,Z[oe].toArray(ie,se)}return ie}function arraysEqual(Z,_){if(Z.length!==_.length)return!1;for(let K=0,te=Z.length;K<te;K++)if(Z[K]!==_[K])return!1;return!0}function copyArray(Z,_){for(let K=0,te=_.length;K<te;K++)Z[K]=_[K]}function allocTexUnits(Z,_){let K=arrayCacheI32[_];K===void 0&&(K=new Int32Array(_),arrayCacheI32[_]=K);for(let te=0;te!==_;++te)K[te]=Z.allocateTextureUnit();return K}function setValueV1f(Z,_){const K=this.cache;K[0]!==_&&(Z.uniform1f(this.addr,_),K[0]=_)}function setValueV2f(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y)&&(Z.uniform2f(this.addr,_.x,_.y),K[0]=_.x,K[1]=_.y);else{if(arraysEqual(K,_))return;Z.uniform2fv(this.addr,_),copyArray(K,_)}}function setValueV3f(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z)&&(Z.uniform3f(this.addr,_.x,_.y,_.z),K[0]=_.x,K[1]=_.y,K[2]=_.z);else if(_.r!==void 0)(K[0]!==_.r||K[1]!==_.g||K[2]!==_.b)&&(Z.uniform3f(this.addr,_.r,_.g,_.b),K[0]=_.r,K[1]=_.g,K[2]=_.b);else{if(arraysEqual(K,_))return;Z.uniform3fv(this.addr,_),copyArray(K,_)}}function setValueV4f(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z||K[3]!==_.w)&&(Z.uniform4f(this.addr,_.x,_.y,_.z,_.w),K[0]=_.x,K[1]=_.y,K[2]=_.z,K[3]=_.w);else{if(arraysEqual(K,_))return;Z.uniform4fv(this.addr,_),copyArray(K,_)}}function setValueM2(Z,_){const K=this.cache,te=_.elements;if(te===void 0){if(arraysEqual(K,_))return;Z.uniformMatrix2fv(this.addr,!1,_),copyArray(K,_)}else{if(arraysEqual(K,te))return;mat2array.set(te),Z.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(K,te)}}function setValueM3(Z,_){const K=this.cache,te=_.elements;if(te===void 0){if(arraysEqual(K,_))return;Z.uniformMatrix3fv(this.addr,!1,_),copyArray(K,_)}else{if(arraysEqual(K,te))return;mat3array.set(te),Z.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(K,te)}}function setValueM4(Z,_){const K=this.cache,te=_.elements;if(te===void 0){if(arraysEqual(K,_))return;Z.uniformMatrix4fv(this.addr,!1,_),copyArray(K,_)}else{if(arraysEqual(K,te))return;mat4array.set(te),Z.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(K,te)}}function setValueV1i(Z,_){const K=this.cache;K[0]!==_&&(Z.uniform1i(this.addr,_),K[0]=_)}function setValueV2i(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y)&&(Z.uniform2i(this.addr,_.x,_.y),K[0]=_.x,K[1]=_.y);else{if(arraysEqual(K,_))return;Z.uniform2iv(this.addr,_),copyArray(K,_)}}function setValueV3i(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z)&&(Z.uniform3i(this.addr,_.x,_.y,_.z),K[0]=_.x,K[1]=_.y,K[2]=_.z);else{if(arraysEqual(K,_))return;Z.uniform3iv(this.addr,_),copyArray(K,_)}}function setValueV4i(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z||K[3]!==_.w)&&(Z.uniform4i(this.addr,_.x,_.y,_.z,_.w),K[0]=_.x,K[1]=_.y,K[2]=_.z,K[3]=_.w);else{if(arraysEqual(K,_))return;Z.uniform4iv(this.addr,_),copyArray(K,_)}}function setValueV1ui(Z,_){const K=this.cache;K[0]!==_&&(Z.uniform1ui(this.addr,_),K[0]=_)}function setValueV2ui(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y)&&(Z.uniform2ui(this.addr,_.x,_.y),K[0]=_.x,K[1]=_.y);else{if(arraysEqual(K,_))return;Z.uniform2uiv(this.addr,_),copyArray(K,_)}}function setValueV3ui(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z)&&(Z.uniform3ui(this.addr,_.x,_.y,_.z),K[0]=_.x,K[1]=_.y,K[2]=_.z);else{if(arraysEqual(K,_))return;Z.uniform3uiv(this.addr,_),copyArray(K,_)}}function setValueV4ui(Z,_){const K=this.cache;if(_.x!==void 0)(K[0]!==_.x||K[1]!==_.y||K[2]!==_.z||K[3]!==_.w)&&(Z.uniform4ui(this.addr,_.x,_.y,_.z,_.w),K[0]=_.x,K[1]=_.y,K[2]=_.z,K[3]=_.w);else{if(arraysEqual(K,_))return;Z.uniform4uiv(this.addr,_),copyArray(K,_)}}function setValueT1(Z,_,K){const te=this.cache,ne=K.allocateTextureUnit();te[0]!==ne&&(Z.uniform1i(this.addr,ne),te[0]=ne);let ie;this.type===Z.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,ie=emptyShadowTexture):ie=emptyTexture,K.setTexture2D(_||ie,ne)}function setValueT3D1(Z,_,K){const te=this.cache,ne=K.allocateTextureUnit();te[0]!==ne&&(Z.uniform1i(this.addr,ne),te[0]=ne),K.setTexture3D(_||empty3dTexture,ne)}function setValueT6(Z,_,K){const te=this.cache,ne=K.allocateTextureUnit();te[0]!==ne&&(Z.uniform1i(this.addr,ne),te[0]=ne),K.setTextureCube(_||emptyCubeTexture,ne)}function setValueT2DArray1(Z,_,K){const te=this.cache,ne=K.allocateTextureUnit();te[0]!==ne&&(Z.uniform1i(this.addr,ne),te[0]=ne),K.setTexture2DArray(_||emptyArrayTexture,ne)}function getSingularSetter(Z){switch(Z){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(Z,_){Z.uniform1fv(this.addr,_)}function setValueV2fArray(Z,_){const K=flatten$1(_,this.size,2);Z.uniform2fv(this.addr,K)}function setValueV3fArray(Z,_){const K=flatten$1(_,this.size,3);Z.uniform3fv(this.addr,K)}function setValueV4fArray(Z,_){const K=flatten$1(_,this.size,4);Z.uniform4fv(this.addr,K)}function setValueM2Array(Z,_){const K=flatten$1(_,this.size,4);Z.uniformMatrix2fv(this.addr,!1,K)}function setValueM3Array(Z,_){const K=flatten$1(_,this.size,9);Z.uniformMatrix3fv(this.addr,!1,K)}function setValueM4Array(Z,_){const K=flatten$1(_,this.size,16);Z.uniformMatrix4fv(this.addr,!1,K)}function setValueV1iArray(Z,_){Z.uniform1iv(this.addr,_)}function setValueV2iArray(Z,_){Z.uniform2iv(this.addr,_)}function setValueV3iArray(Z,_){Z.uniform3iv(this.addr,_)}function setValueV4iArray(Z,_){Z.uniform4iv(this.addr,_)}function setValueV1uiArray(Z,_){Z.uniform1uiv(this.addr,_)}function setValueV2uiArray(Z,_){Z.uniform2uiv(this.addr,_)}function setValueV3uiArray(Z,_){Z.uniform3uiv(this.addr,_)}function setValueV4uiArray(Z,_){Z.uniform4uiv(this.addr,_)}function setValueT1Array(Z,_,K){const te=this.cache,ne=_.length,ie=allocTexUnits(K,ne);arraysEqual(te,ie)||(Z.uniform1iv(this.addr,ie),copyArray(te,ie));for(let oe=0;oe!==ne;++oe)K.setTexture2D(_[oe]||emptyTexture,ie[oe])}function setValueT3DArray(Z,_,K){const te=this.cache,ne=_.length,ie=allocTexUnits(K,ne);arraysEqual(te,ie)||(Z.uniform1iv(this.addr,ie),copyArray(te,ie));for(let oe=0;oe!==ne;++oe)K.setTexture3D(_[oe]||empty3dTexture,ie[oe])}function setValueT6Array(Z,_,K){const te=this.cache,ne=_.length,ie=allocTexUnits(K,ne);arraysEqual(te,ie)||(Z.uniform1iv(this.addr,ie),copyArray(te,ie));for(let oe=0;oe!==ne;++oe)K.setTextureCube(_[oe]||emptyCubeTexture,ie[oe])}function setValueT2DArrayArray(Z,_,K){const te=this.cache,ne=_.length,ie=allocTexUnits(K,ne);arraysEqual(te,ie)||(Z.uniform1iv(this.addr,ie),copyArray(te,ie));for(let oe=0;oe!==ne;++oe)K.setTexture2DArray(_[oe]||emptyArrayTexture,ie[oe])}function getPureArraySetter(Z){switch(Z){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(_,K,te){this.id=_,this.addr=te,this.cache=[],this.type=K.type,this.setValue=getSingularSetter(K.type)}}class PureArrayUniform{constructor(_,K,te){this.id=_,this.addr=te,this.cache=[],this.type=K.type,this.size=K.size,this.setValue=getPureArraySetter(K.type)}}class StructuredUniform{constructor(_){this.id=_,this.seq=[],this.map={}}setValue(_,K,te){const ne=this.seq;for(let ie=0,oe=ne.length;ie!==oe;++ie){const se=ne[ie];se.setValue(_,K[se.id],te)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(Z,_){Z.seq.push(_),Z.map[_.id]=_}function parseUniform(Z,_,K){const te=Z.name,ne=te.length;for(RePathPart.lastIndex=0;;){const ie=RePathPart.exec(te),oe=RePathPart.lastIndex;let se=ie[1];const le=ie[2]==="]",ce=ie[3];if(le&&(se=se|0),ce===void 0||ce==="["&&oe+2===ne){addUniform(K,ce===void 0?new SingleUniform(se,Z,_):new PureArrayUniform(se,Z,_));break}else{let me=K.map[se];me===void 0&&(me=new StructuredUniform(se),addUniform(K,me)),K=me}}}class WebGLUniforms{constructor(_,K){this.seq=[],this.map={};const te=_.getProgramParameter(K,_.ACTIVE_UNIFORMS);for(let ne=0;ne<te;++ne){const ie=_.getActiveUniform(K,ne),oe=_.getUniformLocation(K,ie.name);parseUniform(ie,oe,this)}}setValue(_,K,te,ne){const ie=this.map[K];ie!==void 0&&ie.setValue(_,te,ne)}setOptional(_,K,te){const ne=K[te];ne!==void 0&&this.setValue(_,te,ne)}static upload(_,K,te,ne){for(let ie=0,oe=K.length;ie!==oe;++ie){const se=K[ie],le=te[se.id];le.needsUpdate!==!1&&se.setValue(_,le.value,ne)}}static seqWithValue(_,K){const te=[];for(let ne=0,ie=_.length;ne!==ie;++ne){const oe=_[ne];oe.id in K&&te.push(oe)}return te}}function WebGLShader(Z,_,K){const te=Z.createShader(_);return Z.shaderSource(te,K),Z.compileShader(te),te}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(Z,_){const K=Z.split(`
`),te=[],ne=Math.max(_-6,0),ie=Math.min(_+6,K.length);for(let oe=ne;oe<ie;oe++){const se=oe+1;te.push(`${se===_?">":" "} ${se}: ${K[oe]}`)}return te.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(Z){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,Z);const _=`mat3( ${_m0.elements.map(K=>K.toFixed(4))} )`;switch(ColorManagement.getTransfer(Z)){case LinearTransfer:return[_,"LinearTransferOETF"];case SRGBTransfer:return[_,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",Z),[_,"LinearTransferOETF"]}}function getShaderErrors(Z,_,K){const te=Z.getShaderParameter(_,Z.COMPILE_STATUS),ne=Z.getShaderInfoLog(_).trim();if(te&&ne==="")return"";const ie=/ERROR: 0:(\d+)/.exec(ne);if(ie){const oe=parseInt(ie[1]);return K.toUpperCase()+`

`+ne+`

`+handleSource(Z.getShaderSource(_),oe)}else return ne}function getTexelEncodingFunction(Z,_){const K=getEncodingComponents(_);return[`vec4 ${Z}( vec4 value ) {`,`	return ${K[1]}( vec4( value.rgb * ${K[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(Z,_){let K;switch(_){case LinearToneMapping:K="Linear";break;case ReinhardToneMapping:K="Reinhard";break;case CineonToneMapping:K="Cineon";break;case ACESFilmicToneMapping:K="ACESFilmic";break;case AgXToneMapping:K="AgX";break;case NeutralToneMapping:K="Neutral";break;case CustomToneMapping:K="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",_),K="Linear"}return"vec3 "+Z+"( vec3 color ) { return "+K+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const Z=_v0.x.toFixed(4),_=_v0.y.toFixed(4),K=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${Z}, ${_}, ${K} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(Z){return[Z.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",Z.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(Z){const _=[];for(const K in Z){const te=Z[K];te!==!1&&_.push("#define "+K+" "+te)}return _.join(`
`)}function fetchAttributeLocations(Z,_){const K={},te=Z.getProgramParameter(_,Z.ACTIVE_ATTRIBUTES);for(let ne=0;ne<te;ne++){const ie=Z.getActiveAttrib(_,ne),oe=ie.name;let se=1;ie.type===Z.FLOAT_MAT2&&(se=2),ie.type===Z.FLOAT_MAT3&&(se=3),ie.type===Z.FLOAT_MAT4&&(se=4),K[oe]={type:ie.type,location:Z.getAttribLocation(_,oe),locationSize:se}}return K}function filterEmptyLine(Z){return Z!==""}function replaceLightNums(Z,_){const K=_.numSpotLightShadows+_.numSpotLightMaps-_.numSpotLightShadowsWithMaps;return Z.replace(/NUM_DIR_LIGHTS/g,_.numDirLights).replace(/NUM_SPOT_LIGHTS/g,_.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,_.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,K).replace(/NUM_RECT_AREA_LIGHTS/g,_.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,_.numPointLights).replace(/NUM_HEMI_LIGHTS/g,_.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,_.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,_.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,_.numPointLightShadows)}function replaceClippingPlaneNums(Z,_){return Z.replace(/NUM_CLIPPING_PLANES/g,_.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,_.numClippingPlanes-_.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(Z){return Z.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(Z,_){let K=ShaderChunk[_];if(K===void 0){const te=shaderChunkMap.get(_);if(te!==void 0)K=ShaderChunk[te],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',_,te);else throw new Error("Can not resolve #include <"+_+">")}return resolveIncludes(K)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(Z){return Z.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(Z,_,K,te){let ne="";for(let ie=parseInt(_);ie<parseInt(K);ie++)ne+=te.replace(/\[\s*i\s*\]/g,"[ "+ie+" ]").replace(/UNROLLED_LOOP_INDEX/g,ie);return ne}function generatePrecision(Z){let _=`precision ${Z.precision} float;
	precision ${Z.precision} int;
	precision ${Z.precision} sampler2D;
	precision ${Z.precision} samplerCube;
	precision ${Z.precision} sampler3D;
	precision ${Z.precision} sampler2DArray;
	precision ${Z.precision} sampler2DShadow;
	precision ${Z.precision} samplerCubeShadow;
	precision ${Z.precision} sampler2DArrayShadow;
	precision ${Z.precision} isampler2D;
	precision ${Z.precision} isampler3D;
	precision ${Z.precision} isamplerCube;
	precision ${Z.precision} isampler2DArray;
	precision ${Z.precision} usampler2D;
	precision ${Z.precision} usampler3D;
	precision ${Z.precision} usamplerCube;
	precision ${Z.precision} usampler2DArray;
	`;return Z.precision==="highp"?_+=`
#define HIGH_PRECISION`:Z.precision==="mediump"?_+=`
#define MEDIUM_PRECISION`:Z.precision==="lowp"&&(_+=`
#define LOW_PRECISION`),_}function generateShadowMapTypeDefine(Z){let _="SHADOWMAP_TYPE_BASIC";return Z.shadowMapType===PCFShadowMap?_="SHADOWMAP_TYPE_PCF":Z.shadowMapType===PCFSoftShadowMap?_="SHADOWMAP_TYPE_PCF_SOFT":Z.shadowMapType===VSMShadowMap&&(_="SHADOWMAP_TYPE_VSM"),_}function generateEnvMapTypeDefine(Z){let _="ENVMAP_TYPE_CUBE";if(Z.envMap)switch(Z.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:_="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:_="ENVMAP_TYPE_CUBE_UV";break}return _}function generateEnvMapModeDefine(Z){let _="ENVMAP_MODE_REFLECTION";if(Z.envMap)switch(Z.envMapMode){case CubeRefractionMapping:_="ENVMAP_MODE_REFRACTION";break}return _}function generateEnvMapBlendingDefine(Z){let _="ENVMAP_BLENDING_NONE";if(Z.envMap)switch(Z.combine){case MultiplyOperation:_="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:_="ENVMAP_BLENDING_MIX";break;case AddOperation:_="ENVMAP_BLENDING_ADD";break}return _}function generateCubeUVSize(Z){const _=Z.envMapCubeUVHeight;if(_===null)return null;const K=Math.log2(_)-2,te=1/_;return{texelWidth:1/(3*Math.max(Math.pow(2,K),7*16)),texelHeight:te,maxMip:K}}function WebGLProgram(Z,_,K,te){const ne=Z.getContext(),ie=K.defines;let oe=K.vertexShader,se=K.fragmentShader;const le=generateShadowMapTypeDefine(K),ce=generateEnvMapTypeDefine(K),fe=generateEnvMapModeDefine(K),me=generateEnvMapBlendingDefine(K),pe=generateCubeUVSize(K),ge=generateVertexExtensions(K),ye=generateDefines(ie),Ee=ne.createProgram();let _e,Se,Re=K.glslVersion?"#version "+K.glslVersion+`
`:"";K.isRawShaderMaterial?(_e=["#define SHADER_TYPE "+K.shaderType,"#define SHADER_NAME "+K.shaderName,ye].filter(filterEmptyLine).join(`
`),_e.length>0&&(_e+=`
`),Se=["#define SHADER_TYPE "+K.shaderType,"#define SHADER_NAME "+K.shaderName,ye].filter(filterEmptyLine).join(`
`),Se.length>0&&(Se+=`
`)):(_e=[generatePrecision(K),"#define SHADER_TYPE "+K.shaderType,"#define SHADER_NAME "+K.shaderName,ye,K.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",K.batching?"#define USE_BATCHING":"",K.batchingColor?"#define USE_BATCHING_COLOR":"",K.instancing?"#define USE_INSTANCING":"",K.instancingColor?"#define USE_INSTANCING_COLOR":"",K.instancingMorph?"#define USE_INSTANCING_MORPH":"",K.useFog&&K.fog?"#define USE_FOG":"",K.useFog&&K.fogExp2?"#define FOG_EXP2":"",K.map?"#define USE_MAP":"",K.envMap?"#define USE_ENVMAP":"",K.envMap?"#define "+fe:"",K.lightMap?"#define USE_LIGHTMAP":"",K.aoMap?"#define USE_AOMAP":"",K.bumpMap?"#define USE_BUMPMAP":"",K.normalMap?"#define USE_NORMALMAP":"",K.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",K.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",K.displacementMap?"#define USE_DISPLACEMENTMAP":"",K.emissiveMap?"#define USE_EMISSIVEMAP":"",K.anisotropy?"#define USE_ANISOTROPY":"",K.anisotropyMap?"#define USE_ANISOTROPYMAP":"",K.clearcoatMap?"#define USE_CLEARCOATMAP":"",K.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",K.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",K.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",K.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",K.specularMap?"#define USE_SPECULARMAP":"",K.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",K.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",K.roughnessMap?"#define USE_ROUGHNESSMAP":"",K.metalnessMap?"#define USE_METALNESSMAP":"",K.alphaMap?"#define USE_ALPHAMAP":"",K.alphaHash?"#define USE_ALPHAHASH":"",K.transmission?"#define USE_TRANSMISSION":"",K.transmissionMap?"#define USE_TRANSMISSIONMAP":"",K.thicknessMap?"#define USE_THICKNESSMAP":"",K.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",K.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",K.mapUv?"#define MAP_UV "+K.mapUv:"",K.alphaMapUv?"#define ALPHAMAP_UV "+K.alphaMapUv:"",K.lightMapUv?"#define LIGHTMAP_UV "+K.lightMapUv:"",K.aoMapUv?"#define AOMAP_UV "+K.aoMapUv:"",K.emissiveMapUv?"#define EMISSIVEMAP_UV "+K.emissiveMapUv:"",K.bumpMapUv?"#define BUMPMAP_UV "+K.bumpMapUv:"",K.normalMapUv?"#define NORMALMAP_UV "+K.normalMapUv:"",K.displacementMapUv?"#define DISPLACEMENTMAP_UV "+K.displacementMapUv:"",K.metalnessMapUv?"#define METALNESSMAP_UV "+K.metalnessMapUv:"",K.roughnessMapUv?"#define ROUGHNESSMAP_UV "+K.roughnessMapUv:"",K.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+K.anisotropyMapUv:"",K.clearcoatMapUv?"#define CLEARCOATMAP_UV "+K.clearcoatMapUv:"",K.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+K.clearcoatNormalMapUv:"",K.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+K.clearcoatRoughnessMapUv:"",K.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+K.iridescenceMapUv:"",K.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+K.iridescenceThicknessMapUv:"",K.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+K.sheenColorMapUv:"",K.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+K.sheenRoughnessMapUv:"",K.specularMapUv?"#define SPECULARMAP_UV "+K.specularMapUv:"",K.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+K.specularColorMapUv:"",K.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+K.specularIntensityMapUv:"",K.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+K.transmissionMapUv:"",K.thicknessMapUv?"#define THICKNESSMAP_UV "+K.thicknessMapUv:"",K.vertexTangents&&K.flatShading===!1?"#define USE_TANGENT":"",K.vertexColors?"#define USE_COLOR":"",K.vertexAlphas?"#define USE_COLOR_ALPHA":"",K.vertexUv1s?"#define USE_UV1":"",K.vertexUv2s?"#define USE_UV2":"",K.vertexUv3s?"#define USE_UV3":"",K.pointsUvs?"#define USE_POINTS_UV":"",K.flatShading?"#define FLAT_SHADED":"",K.skinning?"#define USE_SKINNING":"",K.morphTargets?"#define USE_MORPHTARGETS":"",K.morphNormals&&K.flatShading===!1?"#define USE_MORPHNORMALS":"",K.morphColors?"#define USE_MORPHCOLORS":"",K.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+K.morphTextureStride:"",K.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+K.morphTargetsCount:"",K.doubleSided?"#define DOUBLE_SIDED":"",K.flipSided?"#define FLIP_SIDED":"",K.shadowMapEnabled?"#define USE_SHADOWMAP":"",K.shadowMapEnabled?"#define "+le:"",K.sizeAttenuation?"#define USE_SIZEATTENUATION":"",K.numLightProbes>0?"#define USE_LIGHT_PROBES":"",K.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",K.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Se=[generatePrecision(K),"#define SHADER_TYPE "+K.shaderType,"#define SHADER_NAME "+K.shaderName,ye,K.useFog&&K.fog?"#define USE_FOG":"",K.useFog&&K.fogExp2?"#define FOG_EXP2":"",K.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",K.map?"#define USE_MAP":"",K.matcap?"#define USE_MATCAP":"",K.envMap?"#define USE_ENVMAP":"",K.envMap?"#define "+ce:"",K.envMap?"#define "+fe:"",K.envMap?"#define "+me:"",pe?"#define CUBEUV_TEXEL_WIDTH "+pe.texelWidth:"",pe?"#define CUBEUV_TEXEL_HEIGHT "+pe.texelHeight:"",pe?"#define CUBEUV_MAX_MIP "+pe.maxMip+".0":"",K.lightMap?"#define USE_LIGHTMAP":"",K.aoMap?"#define USE_AOMAP":"",K.bumpMap?"#define USE_BUMPMAP":"",K.normalMap?"#define USE_NORMALMAP":"",K.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",K.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",K.emissiveMap?"#define USE_EMISSIVEMAP":"",K.anisotropy?"#define USE_ANISOTROPY":"",K.anisotropyMap?"#define USE_ANISOTROPYMAP":"",K.clearcoat?"#define USE_CLEARCOAT":"",K.clearcoatMap?"#define USE_CLEARCOATMAP":"",K.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",K.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",K.dispersion?"#define USE_DISPERSION":"",K.iridescence?"#define USE_IRIDESCENCE":"",K.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",K.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",K.specularMap?"#define USE_SPECULARMAP":"",K.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",K.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",K.roughnessMap?"#define USE_ROUGHNESSMAP":"",K.metalnessMap?"#define USE_METALNESSMAP":"",K.alphaMap?"#define USE_ALPHAMAP":"",K.alphaTest?"#define USE_ALPHATEST":"",K.alphaHash?"#define USE_ALPHAHASH":"",K.sheen?"#define USE_SHEEN":"",K.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",K.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",K.transmission?"#define USE_TRANSMISSION":"",K.transmissionMap?"#define USE_TRANSMISSIONMAP":"",K.thicknessMap?"#define USE_THICKNESSMAP":"",K.vertexTangents&&K.flatShading===!1?"#define USE_TANGENT":"",K.vertexColors||K.instancingColor||K.batchingColor?"#define USE_COLOR":"",K.vertexAlphas?"#define USE_COLOR_ALPHA":"",K.vertexUv1s?"#define USE_UV1":"",K.vertexUv2s?"#define USE_UV2":"",K.vertexUv3s?"#define USE_UV3":"",K.pointsUvs?"#define USE_POINTS_UV":"",K.gradientMap?"#define USE_GRADIENTMAP":"",K.flatShading?"#define FLAT_SHADED":"",K.doubleSided?"#define DOUBLE_SIDED":"",K.flipSided?"#define FLIP_SIDED":"",K.shadowMapEnabled?"#define USE_SHADOWMAP":"",K.shadowMapEnabled?"#define "+le:"",K.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",K.numLightProbes>0?"#define USE_LIGHT_PROBES":"",K.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",K.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",K.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",K.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",K.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",K.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",K.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",K.toneMapping):"",K.dithering?"#define DITHERING":"",K.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",K.outputColorSpace),getLuminanceFunction(),K.useDepthPacking?"#define DEPTH_PACKING "+K.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),oe=resolveIncludes(oe),oe=replaceLightNums(oe,K),oe=replaceClippingPlaneNums(oe,K),se=resolveIncludes(se),se=replaceLightNums(se,K),se=replaceClippingPlaneNums(se,K),oe=unrollLoops(oe),se=unrollLoops(se),K.isRawShaderMaterial!==!0&&(Re=`#version 300 es
`,_e=[ge,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_e,Se=["#define varying in",K.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",K.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Se);const Te=Re+_e+oe,Ae=Re+Se+se,Fe=WebGLShader(ne,ne.VERTEX_SHADER,Te),$e=WebGLShader(ne,ne.FRAGMENT_SHADER,Ae);ne.attachShader(Ee,Fe),ne.attachShader(Ee,$e),K.index0AttributeName!==void 0?ne.bindAttribLocation(Ee,0,K.index0AttributeName):K.morphTargets===!0&&ne.bindAttribLocation(Ee,0,"position"),ne.linkProgram(Ee);function ke(Ve){if(Z.debug.checkShaderErrors){const Ye=ne.getProgramInfoLog(Ee).trim(),Ke=ne.getShaderInfoLog(Fe).trim(),ot=ne.getShaderInfoLog($e).trim();let ut=!0,ct=!0;if(ne.getProgramParameter(Ee,ne.LINK_STATUS)===!1)if(ut=!1,typeof Z.debug.onShaderError=="function")Z.debug.onShaderError(ne,Ee,Fe,$e);else{const gt=getShaderErrors(ne,Fe,"vertex"),je=getShaderErrors(ne,$e,"fragment");console.error("THREE.WebGLProgram: Shader Error "+ne.getError()+" - VALIDATE_STATUS "+ne.getProgramParameter(Ee,ne.VALIDATE_STATUS)+`

Material Name: `+Ve.name+`
Material Type: `+Ve.type+`

Program Info Log: `+Ye+`
`+gt+`
`+je)}else Ye!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ye):(Ke===""||ot==="")&&(ct=!1);ct&&(Ve.diagnostics={runnable:ut,programLog:Ye,vertexShader:{log:Ke,prefix:_e},fragmentShader:{log:ot,prefix:Se}})}ne.deleteShader(Fe),ne.deleteShader($e),ze=new WebGLUniforms(ne,Ee),Ue=fetchAttributeLocations(ne,Ee)}let ze;this.getUniforms=function(){return ze===void 0&&ke(this),ze};let Ue;this.getAttributes=function(){return Ue===void 0&&ke(this),Ue};let Oe=K.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Oe===!1&&(Oe=ne.getProgramParameter(Ee,COMPLETION_STATUS_KHR)),Oe},this.destroy=function(){te.releaseStatesOfProgram(this),ne.deleteProgram(Ee),this.program=void 0},this.type=K.shaderType,this.name=K.shaderName,this.id=programIdCount++,this.cacheKey=_,this.usedTimes=1,this.program=Ee,this.vertexShader=Fe,this.fragmentShader=$e,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(_){const K=_.vertexShader,te=_.fragmentShader,ne=this._getShaderStage(K),ie=this._getShaderStage(te),oe=this._getShaderCacheForMaterial(_);return oe.has(ne)===!1&&(oe.add(ne),ne.usedTimes++),oe.has(ie)===!1&&(oe.add(ie),ie.usedTimes++),this}remove(_){const K=this.materialCache.get(_);for(const te of K)te.usedTimes--,te.usedTimes===0&&this.shaderCache.delete(te.code);return this.materialCache.delete(_),this}getVertexShaderID(_){return this._getShaderStage(_.vertexShader).id}getFragmentShaderID(_){return this._getShaderStage(_.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(_){const K=this.materialCache;let te=K.get(_);return te===void 0&&(te=new Set,K.set(_,te)),te}_getShaderStage(_){const K=this.shaderCache;let te=K.get(_);return te===void 0&&(te=new WebGLShaderStage(_),K.set(_,te)),te}}class WebGLShaderStage{constructor(_){this.id=_id++,this.code=_,this.usedTimes=0}}function WebGLPrograms(Z,_,K,te,ne,ie,oe){const se=new Layers,le=new WebGLShaderCache,ce=new Set,fe=[],me=ne.logarithmicDepthBuffer,pe=ne.vertexTextures;let ge=ne.precision;const ye={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Ee(Ue){return ce.add(Ue),Ue===0?"uv":`uv${Ue}`}function _e(Ue,Oe,Ve,Ye,Ke){const ot=Ye.fog,ut=Ke.geometry,ct=Ue.isMeshStandardMaterial?Ye.environment:null,gt=(Ue.isMeshStandardMaterial?K:_).get(Ue.envMap||ct),je=gt&&gt.mapping===CubeUVReflectionMapping?gt.image.height:null,rt=ye[Ue.type];Ue.precision!==null&&(ge=ne.getMaxPrecision(Ue.precision),ge!==Ue.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ue.precision,"not supported, using",ge,"instead."));const Qe=ut.morphAttributes.position||ut.morphAttributes.normal||ut.morphAttributes.color,qe=Qe!==void 0?Qe.length:0;let lt=0;ut.morphAttributes.position!==void 0&&(lt=1),ut.morphAttributes.normal!==void 0&&(lt=2),ut.morphAttributes.color!==void 0&&(lt=3);let Et,ht,dt,Mt;if(rt){const qn=ShaderLib[rt];Et=qn.vertexShader,ht=qn.fragmentShader}else Et=Ue.vertexShader,ht=Ue.fragmentShader,le.update(Ue),dt=le.getVertexShaderID(Ue),Mt=le.getFragmentShaderID(Ue);const Pt=Z.getRenderTarget(),Wt=Z.state.buffers.depth.getReversed(),Qt=Ke.isInstancedMesh===!0,sn=Ke.isBatchedMesh===!0,hn=!!Ue.map,Dt=!!Ue.matcap,Vt=!!gt,Ze=!!Ue.aoMap,on=!!Ue.lightMap,Xt=!!Ue.bumpMap,an=!!Ue.normalMap,Yt=!!Ue.displacementMap,mn=!!Ue.emissiveMap,Jt=!!Ue.metalnessMap,Xe=!!Ue.roughnessMap,He=Ue.anisotropy>0,tt=Ue.clearcoat>0,mt=Ue.dispersion>0,Nt=Ue.iridescence>0,_t=Ue.sheen>0,jt=Ue.transmission>0,Ot=He&&!!Ue.anisotropyMap,qt=tt&&!!Ue.clearcoatMap,Sn=tt&&!!Ue.clearcoatNormalMap,Ht=tt&&!!Ue.clearcoatRoughnessMap,Tt=Nt&&!!Ue.iridescenceMap,Ft=Nt&&!!Ue.iridescenceThicknessMap,pn=_t&&!!Ue.sheenColorMap,cn=_t&&!!Ue.sheenRoughnessMap,at=!!Ue.specularMap,Ut=!!Ue.specularColorMap,un=!!Ue.specularIntensityMap,st=jt&&!!Ue.transmissionMap,Kt=jt&&!!Ue.thicknessMap,At=!!Ue.gradientMap,zt=!!Ue.alphaMap,yn=Ue.alphaTest>0,gn=!!Ue.alphaHash,Dn=!!Ue.extensions;let tr=NoToneMapping;Ue.toneMapped&&(Pt===null||Pt.isXRRenderTarget===!0)&&(tr=Z.toneMapping);const cr={shaderID:rt,shaderType:Ue.type,shaderName:Ue.name,vertexShader:Et,fragmentShader:ht,defines:Ue.defines,customVertexShaderID:dt,customFragmentShaderID:Mt,isRawShaderMaterial:Ue.isRawShaderMaterial===!0,glslVersion:Ue.glslVersion,precision:ge,batching:sn,batchingColor:sn&&Ke._colorsTexture!==null,instancing:Qt,instancingColor:Qt&&Ke.instanceColor!==null,instancingMorph:Qt&&Ke.morphTexture!==null,supportsVertexTextures:pe,outputColorSpace:Pt===null?Z.outputColorSpace:Pt.isXRRenderTarget===!0?Pt.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!Ue.alphaToCoverage,map:hn,matcap:Dt,envMap:Vt,envMapMode:Vt&&gt.mapping,envMapCubeUVHeight:je,aoMap:Ze,lightMap:on,bumpMap:Xt,normalMap:an,displacementMap:pe&&Yt,emissiveMap:mn,normalMapObjectSpace:an&&Ue.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:an&&Ue.normalMapType===TangentSpaceNormalMap,metalnessMap:Jt,roughnessMap:Xe,anisotropy:He,anisotropyMap:Ot,clearcoat:tt,clearcoatMap:qt,clearcoatNormalMap:Sn,clearcoatRoughnessMap:Ht,dispersion:mt,iridescence:Nt,iridescenceMap:Tt,iridescenceThicknessMap:Ft,sheen:_t,sheenColorMap:pn,sheenRoughnessMap:cn,specularMap:at,specularColorMap:Ut,specularIntensityMap:un,transmission:jt,transmissionMap:st,thicknessMap:Kt,gradientMap:At,opaque:Ue.transparent===!1&&Ue.blending===NormalBlending&&Ue.alphaToCoverage===!1,alphaMap:zt,alphaTest:yn,alphaHash:gn,combine:Ue.combine,mapUv:hn&&Ee(Ue.map.channel),aoMapUv:Ze&&Ee(Ue.aoMap.channel),lightMapUv:on&&Ee(Ue.lightMap.channel),bumpMapUv:Xt&&Ee(Ue.bumpMap.channel),normalMapUv:an&&Ee(Ue.normalMap.channel),displacementMapUv:Yt&&Ee(Ue.displacementMap.channel),emissiveMapUv:mn&&Ee(Ue.emissiveMap.channel),metalnessMapUv:Jt&&Ee(Ue.metalnessMap.channel),roughnessMapUv:Xe&&Ee(Ue.roughnessMap.channel),anisotropyMapUv:Ot&&Ee(Ue.anisotropyMap.channel),clearcoatMapUv:qt&&Ee(Ue.clearcoatMap.channel),clearcoatNormalMapUv:Sn&&Ee(Ue.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ht&&Ee(Ue.clearcoatRoughnessMap.channel),iridescenceMapUv:Tt&&Ee(Ue.iridescenceMap.channel),iridescenceThicknessMapUv:Ft&&Ee(Ue.iridescenceThicknessMap.channel),sheenColorMapUv:pn&&Ee(Ue.sheenColorMap.channel),sheenRoughnessMapUv:cn&&Ee(Ue.sheenRoughnessMap.channel),specularMapUv:at&&Ee(Ue.specularMap.channel),specularColorMapUv:Ut&&Ee(Ue.specularColorMap.channel),specularIntensityMapUv:un&&Ee(Ue.specularIntensityMap.channel),transmissionMapUv:st&&Ee(Ue.transmissionMap.channel),thicknessMapUv:Kt&&Ee(Ue.thicknessMap.channel),alphaMapUv:zt&&Ee(Ue.alphaMap.channel),vertexTangents:!!ut.attributes.tangent&&(an||He),vertexColors:Ue.vertexColors,vertexAlphas:Ue.vertexColors===!0&&!!ut.attributes.color&&ut.attributes.color.itemSize===4,pointsUvs:Ke.isPoints===!0&&!!ut.attributes.uv&&(hn||zt),fog:!!ot,useFog:Ue.fog===!0,fogExp2:!!ot&&ot.isFogExp2,flatShading:Ue.flatShading===!0,sizeAttenuation:Ue.sizeAttenuation===!0,logarithmicDepthBuffer:me,reverseDepthBuffer:Wt,skinning:Ke.isSkinnedMesh===!0,morphTargets:ut.morphAttributes.position!==void 0,morphNormals:ut.morphAttributes.normal!==void 0,morphColors:ut.morphAttributes.color!==void 0,morphTargetsCount:qe,morphTextureStride:lt,numDirLights:Oe.directional.length,numPointLights:Oe.point.length,numSpotLights:Oe.spot.length,numSpotLightMaps:Oe.spotLightMap.length,numRectAreaLights:Oe.rectArea.length,numHemiLights:Oe.hemi.length,numDirLightShadows:Oe.directionalShadowMap.length,numPointLightShadows:Oe.pointShadowMap.length,numSpotLightShadows:Oe.spotShadowMap.length,numSpotLightShadowsWithMaps:Oe.numSpotLightShadowsWithMaps,numLightProbes:Oe.numLightProbes,numClippingPlanes:oe.numPlanes,numClipIntersection:oe.numIntersection,dithering:Ue.dithering,shadowMapEnabled:Z.shadowMap.enabled&&Ve.length>0,shadowMapType:Z.shadowMap.type,toneMapping:tr,decodeVideoTexture:hn&&Ue.map.isVideoTexture===!0&&ColorManagement.getTransfer(Ue.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:mn&&Ue.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(Ue.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:Ue.premultipliedAlpha,doubleSided:Ue.side===DoubleSide,flipSided:Ue.side===BackSide,useDepthPacking:Ue.depthPacking>=0,depthPacking:Ue.depthPacking||0,index0AttributeName:Ue.index0AttributeName,extensionClipCullDistance:Dn&&Ue.extensions.clipCullDistance===!0&&te.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Dn&&Ue.extensions.multiDraw===!0||sn)&&te.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:te.has("KHR_parallel_shader_compile"),customProgramCacheKey:Ue.customProgramCacheKey()};return cr.vertexUv1s=ce.has(1),cr.vertexUv2s=ce.has(2),cr.vertexUv3s=ce.has(3),ce.clear(),cr}function Se(Ue){const Oe=[];if(Ue.shaderID?Oe.push(Ue.shaderID):(Oe.push(Ue.customVertexShaderID),Oe.push(Ue.customFragmentShaderID)),Ue.defines!==void 0)for(const Ve in Ue.defines)Oe.push(Ve),Oe.push(Ue.defines[Ve]);return Ue.isRawShaderMaterial===!1&&(Re(Oe,Ue),Te(Oe,Ue),Oe.push(Z.outputColorSpace)),Oe.push(Ue.customProgramCacheKey),Oe.join()}function Re(Ue,Oe){Ue.push(Oe.precision),Ue.push(Oe.outputColorSpace),Ue.push(Oe.envMapMode),Ue.push(Oe.envMapCubeUVHeight),Ue.push(Oe.mapUv),Ue.push(Oe.alphaMapUv),Ue.push(Oe.lightMapUv),Ue.push(Oe.aoMapUv),Ue.push(Oe.bumpMapUv),Ue.push(Oe.normalMapUv),Ue.push(Oe.displacementMapUv),Ue.push(Oe.emissiveMapUv),Ue.push(Oe.metalnessMapUv),Ue.push(Oe.roughnessMapUv),Ue.push(Oe.anisotropyMapUv),Ue.push(Oe.clearcoatMapUv),Ue.push(Oe.clearcoatNormalMapUv),Ue.push(Oe.clearcoatRoughnessMapUv),Ue.push(Oe.iridescenceMapUv),Ue.push(Oe.iridescenceThicknessMapUv),Ue.push(Oe.sheenColorMapUv),Ue.push(Oe.sheenRoughnessMapUv),Ue.push(Oe.specularMapUv),Ue.push(Oe.specularColorMapUv),Ue.push(Oe.specularIntensityMapUv),Ue.push(Oe.transmissionMapUv),Ue.push(Oe.thicknessMapUv),Ue.push(Oe.combine),Ue.push(Oe.fogExp2),Ue.push(Oe.sizeAttenuation),Ue.push(Oe.morphTargetsCount),Ue.push(Oe.morphAttributeCount),Ue.push(Oe.numDirLights),Ue.push(Oe.numPointLights),Ue.push(Oe.numSpotLights),Ue.push(Oe.numSpotLightMaps),Ue.push(Oe.numHemiLights),Ue.push(Oe.numRectAreaLights),Ue.push(Oe.numDirLightShadows),Ue.push(Oe.numPointLightShadows),Ue.push(Oe.numSpotLightShadows),Ue.push(Oe.numSpotLightShadowsWithMaps),Ue.push(Oe.numLightProbes),Ue.push(Oe.shadowMapType),Ue.push(Oe.toneMapping),Ue.push(Oe.numClippingPlanes),Ue.push(Oe.numClipIntersection),Ue.push(Oe.depthPacking)}function Te(Ue,Oe){se.disableAll(),Oe.supportsVertexTextures&&se.enable(0),Oe.instancing&&se.enable(1),Oe.instancingColor&&se.enable(2),Oe.instancingMorph&&se.enable(3),Oe.matcap&&se.enable(4),Oe.envMap&&se.enable(5),Oe.normalMapObjectSpace&&se.enable(6),Oe.normalMapTangentSpace&&se.enable(7),Oe.clearcoat&&se.enable(8),Oe.iridescence&&se.enable(9),Oe.alphaTest&&se.enable(10),Oe.vertexColors&&se.enable(11),Oe.vertexAlphas&&se.enable(12),Oe.vertexUv1s&&se.enable(13),Oe.vertexUv2s&&se.enable(14),Oe.vertexUv3s&&se.enable(15),Oe.vertexTangents&&se.enable(16),Oe.anisotropy&&se.enable(17),Oe.alphaHash&&se.enable(18),Oe.batching&&se.enable(19),Oe.dispersion&&se.enable(20),Oe.batchingColor&&se.enable(21),Ue.push(se.mask),se.disableAll(),Oe.fog&&se.enable(0),Oe.useFog&&se.enable(1),Oe.flatShading&&se.enable(2),Oe.logarithmicDepthBuffer&&se.enable(3),Oe.reverseDepthBuffer&&se.enable(4),Oe.skinning&&se.enable(5),Oe.morphTargets&&se.enable(6),Oe.morphNormals&&se.enable(7),Oe.morphColors&&se.enable(8),Oe.premultipliedAlpha&&se.enable(9),Oe.shadowMapEnabled&&se.enable(10),Oe.doubleSided&&se.enable(11),Oe.flipSided&&se.enable(12),Oe.useDepthPacking&&se.enable(13),Oe.dithering&&se.enable(14),Oe.transmission&&se.enable(15),Oe.sheen&&se.enable(16),Oe.opaque&&se.enable(17),Oe.pointsUvs&&se.enable(18),Oe.decodeVideoTexture&&se.enable(19),Oe.decodeVideoTextureEmissive&&se.enable(20),Oe.alphaToCoverage&&se.enable(21),Ue.push(se.mask)}function Ae(Ue){const Oe=ye[Ue.type];let Ve;if(Oe){const Ye=ShaderLib[Oe];Ve=UniformsUtils.clone(Ye.uniforms)}else Ve=Ue.uniforms;return Ve}function Fe(Ue,Oe){let Ve;for(let Ye=0,Ke=fe.length;Ye<Ke;Ye++){const ot=fe[Ye];if(ot.cacheKey===Oe){Ve=ot,++Ve.usedTimes;break}}return Ve===void 0&&(Ve=new WebGLProgram(Z,Oe,Ue,ie),fe.push(Ve)),Ve}function $e(Ue){if(--Ue.usedTimes===0){const Oe=fe.indexOf(Ue);fe[Oe]=fe[fe.length-1],fe.pop(),Ue.destroy()}}function ke(Ue){le.remove(Ue)}function ze(){le.dispose()}return{getParameters:_e,getProgramCacheKey:Se,getUniforms:Ae,acquireProgram:Fe,releaseProgram:$e,releaseShaderCache:ke,programs:fe,dispose:ze}}function WebGLProperties(){let Z=new WeakMap;function _(oe){return Z.has(oe)}function K(oe){let se=Z.get(oe);return se===void 0&&(se={},Z.set(oe,se)),se}function te(oe){Z.delete(oe)}function ne(oe,se,le){Z.get(oe)[se]=le}function ie(){Z=new WeakMap}return{has:_,get:K,remove:te,update:ne,dispose:ie}}function painterSortStable(Z,_){return Z.groupOrder!==_.groupOrder?Z.groupOrder-_.groupOrder:Z.renderOrder!==_.renderOrder?Z.renderOrder-_.renderOrder:Z.material.id!==_.material.id?Z.material.id-_.material.id:Z.z!==_.z?Z.z-_.z:Z.id-_.id}function reversePainterSortStable(Z,_){return Z.groupOrder!==_.groupOrder?Z.groupOrder-_.groupOrder:Z.renderOrder!==_.renderOrder?Z.renderOrder-_.renderOrder:Z.z!==_.z?_.z-Z.z:Z.id-_.id}function WebGLRenderList(){const Z=[];let _=0;const K=[],te=[],ne=[];function ie(){_=0,K.length=0,te.length=0,ne.length=0}function oe(me,pe,ge,ye,Ee,_e){let Se=Z[_];return Se===void 0?(Se={id:me.id,object:me,geometry:pe,material:ge,groupOrder:ye,renderOrder:me.renderOrder,z:Ee,group:_e},Z[_]=Se):(Se.id=me.id,Se.object=me,Se.geometry=pe,Se.material=ge,Se.groupOrder=ye,Se.renderOrder=me.renderOrder,Se.z=Ee,Se.group=_e),_++,Se}function se(me,pe,ge,ye,Ee,_e){const Se=oe(me,pe,ge,ye,Ee,_e);ge.transmission>0?te.push(Se):ge.transparent===!0?ne.push(Se):K.push(Se)}function le(me,pe,ge,ye,Ee,_e){const Se=oe(me,pe,ge,ye,Ee,_e);ge.transmission>0?te.unshift(Se):ge.transparent===!0?ne.unshift(Se):K.unshift(Se)}function ce(me,pe){K.length>1&&K.sort(me||painterSortStable),te.length>1&&te.sort(pe||reversePainterSortStable),ne.length>1&&ne.sort(pe||reversePainterSortStable)}function fe(){for(let me=_,pe=Z.length;me<pe;me++){const ge=Z[me];if(ge.id===null)break;ge.id=null,ge.object=null,ge.geometry=null,ge.material=null,ge.group=null}}return{opaque:K,transmissive:te,transparent:ne,init:ie,push:se,unshift:le,finish:fe,sort:ce}}function WebGLRenderLists(){let Z=new WeakMap;function _(te,ne){const ie=Z.get(te);let oe;return ie===void 0?(oe=new WebGLRenderList,Z.set(te,[oe])):ne>=ie.length?(oe=new WebGLRenderList,ie.push(oe)):oe=ie[ne],oe}function K(){Z=new WeakMap}return{get:_,dispose:K}}function UniformsCache(){const Z={};return{get:function(_){if(Z[_.id]!==void 0)return Z[_.id];let K;switch(_.type){case"DirectionalLight":K={direction:new Vector3,color:new Color$1};break;case"SpotLight":K={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":K={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":K={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":K={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return Z[_.id]=K,K}}}function ShadowUniformsCache(){const Z={};return{get:function(_){if(Z[_.id]!==void 0)return Z[_.id];let K;switch(_.type){case"DirectionalLight":K={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":K={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":K={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return Z[_.id]=K,K}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(Z,_){return(_.castShadow?2:0)-(Z.castShadow?2:0)+(_.map?1:0)-(Z.map?1:0)}function WebGLLights(Z){const _=new UniformsCache,K=ShadowUniformsCache(),te={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let ce=0;ce<9;ce++)te.probe.push(new Vector3);const ne=new Vector3,ie=new Matrix4,oe=new Matrix4;function se(ce){let fe=0,me=0,pe=0;for(let Ue=0;Ue<9;Ue++)te.probe[Ue].set(0,0,0);let ge=0,ye=0,Ee=0,_e=0,Se=0,Re=0,Te=0,Ae=0,Fe=0,$e=0,ke=0;ce.sort(shadowCastingAndTexturingLightsFirst);for(let Ue=0,Oe=ce.length;Ue<Oe;Ue++){const Ve=ce[Ue],Ye=Ve.color,Ke=Ve.intensity,ot=Ve.distance,ut=Ve.shadow&&Ve.shadow.map?Ve.shadow.map.texture:null;if(Ve.isAmbientLight)fe+=Ye.r*Ke,me+=Ye.g*Ke,pe+=Ye.b*Ke;else if(Ve.isLightProbe){for(let ct=0;ct<9;ct++)te.probe[ct].addScaledVector(Ve.sh.coefficients[ct],Ke);ke++}else if(Ve.isDirectionalLight){const ct=_.get(Ve);if(ct.color.copy(Ve.color).multiplyScalar(Ve.intensity),Ve.castShadow){const gt=Ve.shadow,je=K.get(Ve);je.shadowIntensity=gt.intensity,je.shadowBias=gt.bias,je.shadowNormalBias=gt.normalBias,je.shadowRadius=gt.radius,je.shadowMapSize=gt.mapSize,te.directionalShadow[ge]=je,te.directionalShadowMap[ge]=ut,te.directionalShadowMatrix[ge]=Ve.shadow.matrix,Re++}te.directional[ge]=ct,ge++}else if(Ve.isSpotLight){const ct=_.get(Ve);ct.position.setFromMatrixPosition(Ve.matrixWorld),ct.color.copy(Ye).multiplyScalar(Ke),ct.distance=ot,ct.coneCos=Math.cos(Ve.angle),ct.penumbraCos=Math.cos(Ve.angle*(1-Ve.penumbra)),ct.decay=Ve.decay,te.spot[Ee]=ct;const gt=Ve.shadow;if(Ve.map&&(te.spotLightMap[Fe]=Ve.map,Fe++,gt.updateMatrices(Ve),Ve.castShadow&&$e++),te.spotLightMatrix[Ee]=gt.matrix,Ve.castShadow){const je=K.get(Ve);je.shadowIntensity=gt.intensity,je.shadowBias=gt.bias,je.shadowNormalBias=gt.normalBias,je.shadowRadius=gt.radius,je.shadowMapSize=gt.mapSize,te.spotShadow[Ee]=je,te.spotShadowMap[Ee]=ut,Ae++}Ee++}else if(Ve.isRectAreaLight){const ct=_.get(Ve);ct.color.copy(Ye).multiplyScalar(Ke),ct.halfWidth.set(Ve.width*.5,0,0),ct.halfHeight.set(0,Ve.height*.5,0),te.rectArea[_e]=ct,_e++}else if(Ve.isPointLight){const ct=_.get(Ve);if(ct.color.copy(Ve.color).multiplyScalar(Ve.intensity),ct.distance=Ve.distance,ct.decay=Ve.decay,Ve.castShadow){const gt=Ve.shadow,je=K.get(Ve);je.shadowIntensity=gt.intensity,je.shadowBias=gt.bias,je.shadowNormalBias=gt.normalBias,je.shadowRadius=gt.radius,je.shadowMapSize=gt.mapSize,je.shadowCameraNear=gt.camera.near,je.shadowCameraFar=gt.camera.far,te.pointShadow[ye]=je,te.pointShadowMap[ye]=ut,te.pointShadowMatrix[ye]=Ve.shadow.matrix,Te++}te.point[ye]=ct,ye++}else if(Ve.isHemisphereLight){const ct=_.get(Ve);ct.skyColor.copy(Ve.color).multiplyScalar(Ke),ct.groundColor.copy(Ve.groundColor).multiplyScalar(Ke),te.hemi[Se]=ct,Se++}}_e>0&&(Z.has("OES_texture_float_linear")===!0?(te.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,te.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(te.rectAreaLTC1=UniformsLib.LTC_HALF_1,te.rectAreaLTC2=UniformsLib.LTC_HALF_2)),te.ambient[0]=fe,te.ambient[1]=me,te.ambient[2]=pe;const ze=te.hash;(ze.directionalLength!==ge||ze.pointLength!==ye||ze.spotLength!==Ee||ze.rectAreaLength!==_e||ze.hemiLength!==Se||ze.numDirectionalShadows!==Re||ze.numPointShadows!==Te||ze.numSpotShadows!==Ae||ze.numSpotMaps!==Fe||ze.numLightProbes!==ke)&&(te.directional.length=ge,te.spot.length=Ee,te.rectArea.length=_e,te.point.length=ye,te.hemi.length=Se,te.directionalShadow.length=Re,te.directionalShadowMap.length=Re,te.pointShadow.length=Te,te.pointShadowMap.length=Te,te.spotShadow.length=Ae,te.spotShadowMap.length=Ae,te.directionalShadowMatrix.length=Re,te.pointShadowMatrix.length=Te,te.spotLightMatrix.length=Ae+Fe-$e,te.spotLightMap.length=Fe,te.numSpotLightShadowsWithMaps=$e,te.numLightProbes=ke,ze.directionalLength=ge,ze.pointLength=ye,ze.spotLength=Ee,ze.rectAreaLength=_e,ze.hemiLength=Se,ze.numDirectionalShadows=Re,ze.numPointShadows=Te,ze.numSpotShadows=Ae,ze.numSpotMaps=Fe,ze.numLightProbes=ke,te.version=nextVersion++)}function le(ce,fe){let me=0,pe=0,ge=0,ye=0,Ee=0;const _e=fe.matrixWorldInverse;for(let Se=0,Re=ce.length;Se<Re;Se++){const Te=ce[Se];if(Te.isDirectionalLight){const Ae=te.directional[me];Ae.direction.setFromMatrixPosition(Te.matrixWorld),ne.setFromMatrixPosition(Te.target.matrixWorld),Ae.direction.sub(ne),Ae.direction.transformDirection(_e),me++}else if(Te.isSpotLight){const Ae=te.spot[ge];Ae.position.setFromMatrixPosition(Te.matrixWorld),Ae.position.applyMatrix4(_e),Ae.direction.setFromMatrixPosition(Te.matrixWorld),ne.setFromMatrixPosition(Te.target.matrixWorld),Ae.direction.sub(ne),Ae.direction.transformDirection(_e),ge++}else if(Te.isRectAreaLight){const Ae=te.rectArea[ye];Ae.position.setFromMatrixPosition(Te.matrixWorld),Ae.position.applyMatrix4(_e),oe.identity(),ie.copy(Te.matrixWorld),ie.premultiply(_e),oe.extractRotation(ie),Ae.halfWidth.set(Te.width*.5,0,0),Ae.halfHeight.set(0,Te.height*.5,0),Ae.halfWidth.applyMatrix4(oe),Ae.halfHeight.applyMatrix4(oe),ye++}else if(Te.isPointLight){const Ae=te.point[pe];Ae.position.setFromMatrixPosition(Te.matrixWorld),Ae.position.applyMatrix4(_e),pe++}else if(Te.isHemisphereLight){const Ae=te.hemi[Ee];Ae.direction.setFromMatrixPosition(Te.matrixWorld),Ae.direction.transformDirection(_e),Ee++}}}return{setup:se,setupView:le,state:te}}function WebGLRenderState(Z){const _=new WebGLLights(Z),K=[],te=[];function ne(fe){ce.camera=fe,K.length=0,te.length=0}function ie(fe){K.push(fe)}function oe(fe){te.push(fe)}function se(){_.setup(K)}function le(fe){_.setupView(K,fe)}const ce={lightsArray:K,shadowsArray:te,camera:null,lights:_,transmissionRenderTarget:{}};return{init:ne,state:ce,setupLights:se,setupLightsView:le,pushLight:ie,pushShadow:oe}}function WebGLRenderStates(Z){let _=new WeakMap;function K(ne,ie=0){const oe=_.get(ne);let se;return oe===void 0?(se=new WebGLRenderState(Z),_.set(ne,[se])):ie>=oe.length?(se=new WebGLRenderState(Z),oe.push(se)):se=oe[ie],se}function te(){_=new WeakMap}return{get:K,dispose:te}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(Z,_,K){let te=new Frustum;const ne=new Vector2,ie=new Vector2,oe=new Vector4,se=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),le=new MeshDistanceMaterial,ce={},fe=K.maxTextureSize,me={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},pe=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ge=pe.clone();ge.defines.HORIZONTAL_PASS=1;const ye=new BufferGeometry;ye.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Ee=new Mesh(ye,pe),_e=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let Se=this.type;this.render=function($e,ke,ze){if(_e.enabled===!1||_e.autoUpdate===!1&&_e.needsUpdate===!1||$e.length===0)return;const Ue=Z.getRenderTarget(),Oe=Z.getActiveCubeFace(),Ve=Z.getActiveMipmapLevel(),Ye=Z.state;Ye.setBlending(NoBlending),Ye.buffers.color.setClear(1,1,1,1),Ye.buffers.depth.setTest(!0),Ye.setScissorTest(!1);const Ke=Se!==VSMShadowMap&&this.type===VSMShadowMap,ot=Se===VSMShadowMap&&this.type!==VSMShadowMap;for(let ut=0,ct=$e.length;ut<ct;ut++){const gt=$e[ut],je=gt.shadow;if(je===void 0){console.warn("THREE.WebGLShadowMap:",gt,"has no shadow.");continue}if(je.autoUpdate===!1&&je.needsUpdate===!1)continue;ne.copy(je.mapSize);const rt=je.getFrameExtents();if(ne.multiply(rt),ie.copy(je.mapSize),(ne.x>fe||ne.y>fe)&&(ne.x>fe&&(ie.x=Math.floor(fe/rt.x),ne.x=ie.x*rt.x,je.mapSize.x=ie.x),ne.y>fe&&(ie.y=Math.floor(fe/rt.y),ne.y=ie.y*rt.y,je.mapSize.y=ie.y)),je.map===null||Ke===!0||ot===!0){const qe=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};je.map!==null&&je.map.dispose(),je.map=new WebGLRenderTarget(ne.x,ne.y,qe),je.map.texture.name=gt.name+".shadowMap",je.camera.updateProjectionMatrix()}Z.setRenderTarget(je.map),Z.clear();const Qe=je.getViewportCount();for(let qe=0;qe<Qe;qe++){const lt=je.getViewport(qe);oe.set(ie.x*lt.x,ie.y*lt.y,ie.x*lt.z,ie.y*lt.w),Ye.viewport(oe),je.updateMatrices(gt,qe),te=je.getFrustum(),Ae(ke,ze,je.camera,gt,this.type)}je.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Re(je,ze),je.needsUpdate=!1}Se=this.type,_e.needsUpdate=!1,Z.setRenderTarget(Ue,Oe,Ve)};function Re($e,ke){const ze=_.update(Ee);pe.defines.VSM_SAMPLES!==$e.blurSamples&&(pe.defines.VSM_SAMPLES=$e.blurSamples,ge.defines.VSM_SAMPLES=$e.blurSamples,pe.needsUpdate=!0,ge.needsUpdate=!0),$e.mapPass===null&&($e.mapPass=new WebGLRenderTarget(ne.x,ne.y)),pe.uniforms.shadow_pass.value=$e.map.texture,pe.uniforms.resolution.value=$e.mapSize,pe.uniforms.radius.value=$e.radius,Z.setRenderTarget($e.mapPass),Z.clear(),Z.renderBufferDirect(ke,null,ze,pe,Ee,null),ge.uniforms.shadow_pass.value=$e.mapPass.texture,ge.uniforms.resolution.value=$e.mapSize,ge.uniforms.radius.value=$e.radius,Z.setRenderTarget($e.map),Z.clear(),Z.renderBufferDirect(ke,null,ze,ge,Ee,null)}function Te($e,ke,ze,Ue){let Oe=null;const Ve=ze.isPointLight===!0?$e.customDistanceMaterial:$e.customDepthMaterial;if(Ve!==void 0)Oe=Ve;else if(Oe=ze.isPointLight===!0?le:se,Z.localClippingEnabled&&ke.clipShadows===!0&&Array.isArray(ke.clippingPlanes)&&ke.clippingPlanes.length!==0||ke.displacementMap&&ke.displacementScale!==0||ke.alphaMap&&ke.alphaTest>0||ke.map&&ke.alphaTest>0){const Ye=Oe.uuid,Ke=ke.uuid;let ot=ce[Ye];ot===void 0&&(ot={},ce[Ye]=ot);let ut=ot[Ke];ut===void 0&&(ut=Oe.clone(),ot[Ke]=ut,ke.addEventListener("dispose",Fe)),Oe=ut}if(Oe.visible=ke.visible,Oe.wireframe=ke.wireframe,Ue===VSMShadowMap?Oe.side=ke.shadowSide!==null?ke.shadowSide:ke.side:Oe.side=ke.shadowSide!==null?ke.shadowSide:me[ke.side],Oe.alphaMap=ke.alphaMap,Oe.alphaTest=ke.alphaTest,Oe.map=ke.map,Oe.clipShadows=ke.clipShadows,Oe.clippingPlanes=ke.clippingPlanes,Oe.clipIntersection=ke.clipIntersection,Oe.displacementMap=ke.displacementMap,Oe.displacementScale=ke.displacementScale,Oe.displacementBias=ke.displacementBias,Oe.wireframeLinewidth=ke.wireframeLinewidth,Oe.linewidth=ke.linewidth,ze.isPointLight===!0&&Oe.isMeshDistanceMaterial===!0){const Ye=Z.properties.get(Oe);Ye.light=ze}return Oe}function Ae($e,ke,ze,Ue,Oe){if($e.visible===!1)return;if($e.layers.test(ke.layers)&&($e.isMesh||$e.isLine||$e.isPoints)&&($e.castShadow||$e.receiveShadow&&Oe===VSMShadowMap)&&(!$e.frustumCulled||te.intersectsObject($e))){$e.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,$e.matrixWorld);const Ke=_.update($e),ot=$e.material;if(Array.isArray(ot)){const ut=Ke.groups;for(let ct=0,gt=ut.length;ct<gt;ct++){const je=ut[ct],rt=ot[je.materialIndex];if(rt&&rt.visible){const Qe=Te($e,rt,Ue,Oe);$e.onBeforeShadow(Z,$e,ke,ze,Ke,Qe,je),Z.renderBufferDirect(ze,null,Ke,Qe,$e,je),$e.onAfterShadow(Z,$e,ke,ze,Ke,Qe,je)}}}else if(ot.visible){const ut=Te($e,ot,Ue,Oe);$e.onBeforeShadow(Z,$e,ke,ze,Ke,ut,null),Z.renderBufferDirect(ze,null,Ke,ut,$e,null),$e.onAfterShadow(Z,$e,ke,ze,Ke,ut,null)}}const Ye=$e.children;for(let Ke=0,ot=Ye.length;Ke<ot;Ke++)Ae(Ye[Ke],ke,ze,Ue,Oe)}function Fe($e){$e.target.removeEventListener("dispose",Fe);for(const ze in ce){const Ue=ce[ze],Oe=$e.target.uuid;Oe in Ue&&(Ue[Oe].dispose(),delete Ue[Oe])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(Z,_){function K(){let st=!1;const Kt=new Vector4;let At=null;const zt=new Vector4(0,0,0,0);return{setMask:function(yn){At!==yn&&!st&&(Z.colorMask(yn,yn,yn,yn),At=yn)},setLocked:function(yn){st=yn},setClear:function(yn,gn,Dn,tr,cr){cr===!0&&(yn*=tr,gn*=tr,Dn*=tr),Kt.set(yn,gn,Dn,tr),zt.equals(Kt)===!1&&(Z.clearColor(yn,gn,Dn,tr),zt.copy(Kt))},reset:function(){st=!1,At=null,zt.set(-1,0,0,0)}}}function te(){let st=!1,Kt=!1,At=null,zt=null,yn=null;return{setReversed:function(gn){if(Kt!==gn){const Dn=_.get("EXT_clip_control");Kt?Dn.clipControlEXT(Dn.LOWER_LEFT_EXT,Dn.ZERO_TO_ONE_EXT):Dn.clipControlEXT(Dn.LOWER_LEFT_EXT,Dn.NEGATIVE_ONE_TO_ONE_EXT);const tr=yn;yn=null,this.setClear(tr)}Kt=gn},getReversed:function(){return Kt},setTest:function(gn){gn?Pt(Z.DEPTH_TEST):Wt(Z.DEPTH_TEST)},setMask:function(gn){At!==gn&&!st&&(Z.depthMask(gn),At=gn)},setFunc:function(gn){if(Kt&&(gn=reversedFuncs[gn]),zt!==gn){switch(gn){case NeverDepth:Z.depthFunc(Z.NEVER);break;case AlwaysDepth:Z.depthFunc(Z.ALWAYS);break;case LessDepth:Z.depthFunc(Z.LESS);break;case LessEqualDepth:Z.depthFunc(Z.LEQUAL);break;case EqualDepth:Z.depthFunc(Z.EQUAL);break;case GreaterEqualDepth:Z.depthFunc(Z.GEQUAL);break;case GreaterDepth:Z.depthFunc(Z.GREATER);break;case NotEqualDepth:Z.depthFunc(Z.NOTEQUAL);break;default:Z.depthFunc(Z.LEQUAL)}zt=gn}},setLocked:function(gn){st=gn},setClear:function(gn){yn!==gn&&(Kt&&(gn=1-gn),Z.clearDepth(gn),yn=gn)},reset:function(){st=!1,At=null,zt=null,yn=null,Kt=!1}}}function ne(){let st=!1,Kt=null,At=null,zt=null,yn=null,gn=null,Dn=null,tr=null,cr=null;return{setTest:function(qn){st||(qn?Pt(Z.STENCIL_TEST):Wt(Z.STENCIL_TEST))},setMask:function(qn){Kt!==qn&&!st&&(Z.stencilMask(qn),Kt=qn)},setFunc:function(qn,Sr,hr){(At!==qn||zt!==Sr||yn!==hr)&&(Z.stencilFunc(qn,Sr,hr),At=qn,zt=Sr,yn=hr)},setOp:function(qn,Sr,hr){(gn!==qn||Dn!==Sr||tr!==hr)&&(Z.stencilOp(qn,Sr,hr),gn=qn,Dn=Sr,tr=hr)},setLocked:function(qn){st=qn},setClear:function(qn){cr!==qn&&(Z.clearStencil(qn),cr=qn)},reset:function(){st=!1,Kt=null,At=null,zt=null,yn=null,gn=null,Dn=null,tr=null,cr=null}}}const ie=new K,oe=new te,se=new ne,le=new WeakMap,ce=new WeakMap;let fe={},me={},pe=new WeakMap,ge=[],ye=null,Ee=!1,_e=null,Se=null,Re=null,Te=null,Ae=null,Fe=null,$e=null,ke=new Color$1(0,0,0),ze=0,Ue=!1,Oe=null,Ve=null,Ye=null,Ke=null,ot=null;const ut=Z.getParameter(Z.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ct=!1,gt=0;const je=Z.getParameter(Z.VERSION);je.indexOf("WebGL")!==-1?(gt=parseFloat(/^WebGL (\d)/.exec(je)[1]),ct=gt>=1):je.indexOf("OpenGL ES")!==-1&&(gt=parseFloat(/^OpenGL ES (\d)/.exec(je)[1]),ct=gt>=2);let rt=null,Qe={};const qe=Z.getParameter(Z.SCISSOR_BOX),lt=Z.getParameter(Z.VIEWPORT),Et=new Vector4().fromArray(qe),ht=new Vector4().fromArray(lt);function dt(st,Kt,At,zt){const yn=new Uint8Array(4),gn=Z.createTexture();Z.bindTexture(st,gn),Z.texParameteri(st,Z.TEXTURE_MIN_FILTER,Z.NEAREST),Z.texParameteri(st,Z.TEXTURE_MAG_FILTER,Z.NEAREST);for(let Dn=0;Dn<At;Dn++)st===Z.TEXTURE_3D||st===Z.TEXTURE_2D_ARRAY?Z.texImage3D(Kt,0,Z.RGBA,1,1,zt,0,Z.RGBA,Z.UNSIGNED_BYTE,yn):Z.texImage2D(Kt+Dn,0,Z.RGBA,1,1,0,Z.RGBA,Z.UNSIGNED_BYTE,yn);return gn}const Mt={};Mt[Z.TEXTURE_2D]=dt(Z.TEXTURE_2D,Z.TEXTURE_2D,1),Mt[Z.TEXTURE_CUBE_MAP]=dt(Z.TEXTURE_CUBE_MAP,Z.TEXTURE_CUBE_MAP_POSITIVE_X,6),Mt[Z.TEXTURE_2D_ARRAY]=dt(Z.TEXTURE_2D_ARRAY,Z.TEXTURE_2D_ARRAY,1,1),Mt[Z.TEXTURE_3D]=dt(Z.TEXTURE_3D,Z.TEXTURE_3D,1,1),ie.setClear(0,0,0,1),oe.setClear(1),se.setClear(0),Pt(Z.DEPTH_TEST),oe.setFunc(LessEqualDepth),Xt(!1),an(CullFaceBack),Pt(Z.CULL_FACE),Ze(NoBlending);function Pt(st){fe[st]!==!0&&(Z.enable(st),fe[st]=!0)}function Wt(st){fe[st]!==!1&&(Z.disable(st),fe[st]=!1)}function Qt(st,Kt){return me[st]!==Kt?(Z.bindFramebuffer(st,Kt),me[st]=Kt,st===Z.DRAW_FRAMEBUFFER&&(me[Z.FRAMEBUFFER]=Kt),st===Z.FRAMEBUFFER&&(me[Z.DRAW_FRAMEBUFFER]=Kt),!0):!1}function sn(st,Kt){let At=ge,zt=!1;if(st){At=pe.get(Kt),At===void 0&&(At=[],pe.set(Kt,At));const yn=st.textures;if(At.length!==yn.length||At[0]!==Z.COLOR_ATTACHMENT0){for(let gn=0,Dn=yn.length;gn<Dn;gn++)At[gn]=Z.COLOR_ATTACHMENT0+gn;At.length=yn.length,zt=!0}}else At[0]!==Z.BACK&&(At[0]=Z.BACK,zt=!0);zt&&Z.drawBuffers(At)}function hn(st){return ye!==st?(Z.useProgram(st),ye=st,!0):!1}const Dt={[AddEquation]:Z.FUNC_ADD,[SubtractEquation]:Z.FUNC_SUBTRACT,[ReverseSubtractEquation]:Z.FUNC_REVERSE_SUBTRACT};Dt[MinEquation]=Z.MIN,Dt[MaxEquation]=Z.MAX;const Vt={[ZeroFactor]:Z.ZERO,[OneFactor]:Z.ONE,[SrcColorFactor]:Z.SRC_COLOR,[SrcAlphaFactor]:Z.SRC_ALPHA,[SrcAlphaSaturateFactor]:Z.SRC_ALPHA_SATURATE,[DstColorFactor]:Z.DST_COLOR,[DstAlphaFactor]:Z.DST_ALPHA,[OneMinusSrcColorFactor]:Z.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:Z.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:Z.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:Z.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:Z.CONSTANT_COLOR,[OneMinusConstantColorFactor]:Z.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:Z.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:Z.ONE_MINUS_CONSTANT_ALPHA};function Ze(st,Kt,At,zt,yn,gn,Dn,tr,cr,qn){if(st===NoBlending){Ee===!0&&(Wt(Z.BLEND),Ee=!1);return}if(Ee===!1&&(Pt(Z.BLEND),Ee=!0),st!==CustomBlending){if(st!==_e||qn!==Ue){if((Se!==AddEquation||Ae!==AddEquation)&&(Z.blendEquation(Z.FUNC_ADD),Se=AddEquation,Ae=AddEquation),qn)switch(st){case NormalBlending:Z.blendFuncSeparate(Z.ONE,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:Z.blendFunc(Z.ONE,Z.ONE);break;case SubtractiveBlending:Z.blendFuncSeparate(Z.ZERO,Z.ONE_MINUS_SRC_COLOR,Z.ZERO,Z.ONE);break;case MultiplyBlending:Z.blendFuncSeparate(Z.ZERO,Z.SRC_COLOR,Z.ZERO,Z.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",st);break}else switch(st){case NormalBlending:Z.blendFuncSeparate(Z.SRC_ALPHA,Z.ONE_MINUS_SRC_ALPHA,Z.ONE,Z.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:Z.blendFunc(Z.SRC_ALPHA,Z.ONE);break;case SubtractiveBlending:Z.blendFuncSeparate(Z.ZERO,Z.ONE_MINUS_SRC_COLOR,Z.ZERO,Z.ONE);break;case MultiplyBlending:Z.blendFunc(Z.ZERO,Z.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",st);break}Re=null,Te=null,Fe=null,$e=null,ke.set(0,0,0),ze=0,_e=st,Ue=qn}return}yn=yn||Kt,gn=gn||At,Dn=Dn||zt,(Kt!==Se||yn!==Ae)&&(Z.blendEquationSeparate(Dt[Kt],Dt[yn]),Se=Kt,Ae=yn),(At!==Re||zt!==Te||gn!==Fe||Dn!==$e)&&(Z.blendFuncSeparate(Vt[At],Vt[zt],Vt[gn],Vt[Dn]),Re=At,Te=zt,Fe=gn,$e=Dn),(tr.equals(ke)===!1||cr!==ze)&&(Z.blendColor(tr.r,tr.g,tr.b,cr),ke.copy(tr),ze=cr),_e=st,Ue=!1}function on(st,Kt){st.side===DoubleSide?Wt(Z.CULL_FACE):Pt(Z.CULL_FACE);let At=st.side===BackSide;Kt&&(At=!At),Xt(At),st.blending===NormalBlending&&st.transparent===!1?Ze(NoBlending):Ze(st.blending,st.blendEquation,st.blendSrc,st.blendDst,st.blendEquationAlpha,st.blendSrcAlpha,st.blendDstAlpha,st.blendColor,st.blendAlpha,st.premultipliedAlpha),oe.setFunc(st.depthFunc),oe.setTest(st.depthTest),oe.setMask(st.depthWrite),ie.setMask(st.colorWrite);const zt=st.stencilWrite;se.setTest(zt),zt&&(se.setMask(st.stencilWriteMask),se.setFunc(st.stencilFunc,st.stencilRef,st.stencilFuncMask),se.setOp(st.stencilFail,st.stencilZFail,st.stencilZPass)),mn(st.polygonOffset,st.polygonOffsetFactor,st.polygonOffsetUnits),st.alphaToCoverage===!0?Pt(Z.SAMPLE_ALPHA_TO_COVERAGE):Wt(Z.SAMPLE_ALPHA_TO_COVERAGE)}function Xt(st){Oe!==st&&(st?Z.frontFace(Z.CW):Z.frontFace(Z.CCW),Oe=st)}function an(st){st!==CullFaceNone?(Pt(Z.CULL_FACE),st!==Ve&&(st===CullFaceBack?Z.cullFace(Z.BACK):st===CullFaceFront?Z.cullFace(Z.FRONT):Z.cullFace(Z.FRONT_AND_BACK))):Wt(Z.CULL_FACE),Ve=st}function Yt(st){st!==Ye&&(ct&&Z.lineWidth(st),Ye=st)}function mn(st,Kt,At){st?(Pt(Z.POLYGON_OFFSET_FILL),(Ke!==Kt||ot!==At)&&(Z.polygonOffset(Kt,At),Ke=Kt,ot=At)):Wt(Z.POLYGON_OFFSET_FILL)}function Jt(st){st?Pt(Z.SCISSOR_TEST):Wt(Z.SCISSOR_TEST)}function Xe(st){st===void 0&&(st=Z.TEXTURE0+ut-1),rt!==st&&(Z.activeTexture(st),rt=st)}function He(st,Kt,At){At===void 0&&(rt===null?At=Z.TEXTURE0+ut-1:At=rt);let zt=Qe[At];zt===void 0&&(zt={type:void 0,texture:void 0},Qe[At]=zt),(zt.type!==st||zt.texture!==Kt)&&(rt!==At&&(Z.activeTexture(At),rt=At),Z.bindTexture(st,Kt||Mt[st]),zt.type=st,zt.texture=Kt)}function tt(){const st=Qe[rt];st!==void 0&&st.type!==void 0&&(Z.bindTexture(st.type,null),st.type=void 0,st.texture=void 0)}function mt(){try{Z.compressedTexImage2D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function Nt(){try{Z.compressedTexImage3D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function _t(){try{Z.texSubImage2D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function jt(){try{Z.texSubImage3D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function Ot(){try{Z.compressedTexSubImage2D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function qt(){try{Z.compressedTexSubImage3D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function Sn(){try{Z.texStorage2D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function Ht(){try{Z.texStorage3D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function Tt(){try{Z.texImage2D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function Ft(){try{Z.texImage3D.apply(Z,arguments)}catch(st){console.error("THREE.WebGLState:",st)}}function pn(st){Et.equals(st)===!1&&(Z.scissor(st.x,st.y,st.z,st.w),Et.copy(st))}function cn(st){ht.equals(st)===!1&&(Z.viewport(st.x,st.y,st.z,st.w),ht.copy(st))}function at(st,Kt){let At=ce.get(Kt);At===void 0&&(At=new WeakMap,ce.set(Kt,At));let zt=At.get(st);zt===void 0&&(zt=Z.getUniformBlockIndex(Kt,st.name),At.set(st,zt))}function Ut(st,Kt){const zt=ce.get(Kt).get(st);le.get(Kt)!==zt&&(Z.uniformBlockBinding(Kt,zt,st.__bindingPointIndex),le.set(Kt,zt))}function un(){Z.disable(Z.BLEND),Z.disable(Z.CULL_FACE),Z.disable(Z.DEPTH_TEST),Z.disable(Z.POLYGON_OFFSET_FILL),Z.disable(Z.SCISSOR_TEST),Z.disable(Z.STENCIL_TEST),Z.disable(Z.SAMPLE_ALPHA_TO_COVERAGE),Z.blendEquation(Z.FUNC_ADD),Z.blendFunc(Z.ONE,Z.ZERO),Z.blendFuncSeparate(Z.ONE,Z.ZERO,Z.ONE,Z.ZERO),Z.blendColor(0,0,0,0),Z.colorMask(!0,!0,!0,!0),Z.clearColor(0,0,0,0),Z.depthMask(!0),Z.depthFunc(Z.LESS),oe.setReversed(!1),Z.clearDepth(1),Z.stencilMask(4294967295),Z.stencilFunc(Z.ALWAYS,0,4294967295),Z.stencilOp(Z.KEEP,Z.KEEP,Z.KEEP),Z.clearStencil(0),Z.cullFace(Z.BACK),Z.frontFace(Z.CCW),Z.polygonOffset(0,0),Z.activeTexture(Z.TEXTURE0),Z.bindFramebuffer(Z.FRAMEBUFFER,null),Z.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null),Z.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Z.useProgram(null),Z.lineWidth(1),Z.scissor(0,0,Z.canvas.width,Z.canvas.height),Z.viewport(0,0,Z.canvas.width,Z.canvas.height),fe={},rt=null,Qe={},me={},pe=new WeakMap,ge=[],ye=null,Ee=!1,_e=null,Se=null,Re=null,Te=null,Ae=null,Fe=null,$e=null,ke=new Color$1(0,0,0),ze=0,Ue=!1,Oe=null,Ve=null,Ye=null,Ke=null,ot=null,Et.set(0,0,Z.canvas.width,Z.canvas.height),ht.set(0,0,Z.canvas.width,Z.canvas.height),ie.reset(),oe.reset(),se.reset()}return{buffers:{color:ie,depth:oe,stencil:se},enable:Pt,disable:Wt,bindFramebuffer:Qt,drawBuffers:sn,useProgram:hn,setBlending:Ze,setMaterial:on,setFlipSided:Xt,setCullFace:an,setLineWidth:Yt,setPolygonOffset:mn,setScissorTest:Jt,activeTexture:Xe,bindTexture:He,unbindTexture:tt,compressedTexImage2D:mt,compressedTexImage3D:Nt,texImage2D:Tt,texImage3D:Ft,updateUBOMapping:at,uniformBlockBinding:Ut,texStorage2D:Sn,texStorage3D:Ht,texSubImage2D:_t,texSubImage3D:jt,compressedTexSubImage2D:Ot,compressedTexSubImage3D:qt,scissor:pn,viewport:cn,reset:un}}function WebGLTextures(Z,_,K,te,ne,ie,oe){const se=_.has("WEBGL_multisampled_render_to_texture")?_.get("WEBGL_multisampled_render_to_texture"):null,le=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),ce=new Vector2,fe=new WeakMap;let me;const pe=new WeakMap;let ge=!1;try{ge=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ye(Xe,He){return ge?new OffscreenCanvas(Xe,He):createElementNS("canvas")}function Ee(Xe,He,tt){let mt=1;const Nt=Jt(Xe);if((Nt.width>tt||Nt.height>tt)&&(mt=tt/Math.max(Nt.width,Nt.height)),mt<1)if(typeof HTMLImageElement<"u"&&Xe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Xe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Xe instanceof ImageBitmap||typeof VideoFrame<"u"&&Xe instanceof VideoFrame){const _t=Math.floor(mt*Nt.width),jt=Math.floor(mt*Nt.height);me===void 0&&(me=ye(_t,jt));const Ot=He?ye(_t,jt):me;return Ot.width=_t,Ot.height=jt,Ot.getContext("2d").drawImage(Xe,0,0,_t,jt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Nt.width+"x"+Nt.height+") to ("+_t+"x"+jt+")."),Ot}else return"data"in Xe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Nt.width+"x"+Nt.height+")."),Xe;return Xe}function _e(Xe){return Xe.generateMipmaps}function Se(Xe){Z.generateMipmap(Xe)}function Re(Xe){return Xe.isWebGLCubeRenderTarget?Z.TEXTURE_CUBE_MAP:Xe.isWebGL3DRenderTarget?Z.TEXTURE_3D:Xe.isWebGLArrayRenderTarget||Xe.isCompressedArrayTexture?Z.TEXTURE_2D_ARRAY:Z.TEXTURE_2D}function Te(Xe,He,tt,mt,Nt=!1){if(Xe!==null){if(Z[Xe]!==void 0)return Z[Xe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Xe+"'")}let _t=He;if(He===Z.RED&&(tt===Z.FLOAT&&(_t=Z.R32F),tt===Z.HALF_FLOAT&&(_t=Z.R16F),tt===Z.UNSIGNED_BYTE&&(_t=Z.R8)),He===Z.RED_INTEGER&&(tt===Z.UNSIGNED_BYTE&&(_t=Z.R8UI),tt===Z.UNSIGNED_SHORT&&(_t=Z.R16UI),tt===Z.UNSIGNED_INT&&(_t=Z.R32UI),tt===Z.BYTE&&(_t=Z.R8I),tt===Z.SHORT&&(_t=Z.R16I),tt===Z.INT&&(_t=Z.R32I)),He===Z.RG&&(tt===Z.FLOAT&&(_t=Z.RG32F),tt===Z.HALF_FLOAT&&(_t=Z.RG16F),tt===Z.UNSIGNED_BYTE&&(_t=Z.RG8)),He===Z.RG_INTEGER&&(tt===Z.UNSIGNED_BYTE&&(_t=Z.RG8UI),tt===Z.UNSIGNED_SHORT&&(_t=Z.RG16UI),tt===Z.UNSIGNED_INT&&(_t=Z.RG32UI),tt===Z.BYTE&&(_t=Z.RG8I),tt===Z.SHORT&&(_t=Z.RG16I),tt===Z.INT&&(_t=Z.RG32I)),He===Z.RGB_INTEGER&&(tt===Z.UNSIGNED_BYTE&&(_t=Z.RGB8UI),tt===Z.UNSIGNED_SHORT&&(_t=Z.RGB16UI),tt===Z.UNSIGNED_INT&&(_t=Z.RGB32UI),tt===Z.BYTE&&(_t=Z.RGB8I),tt===Z.SHORT&&(_t=Z.RGB16I),tt===Z.INT&&(_t=Z.RGB32I)),He===Z.RGBA_INTEGER&&(tt===Z.UNSIGNED_BYTE&&(_t=Z.RGBA8UI),tt===Z.UNSIGNED_SHORT&&(_t=Z.RGBA16UI),tt===Z.UNSIGNED_INT&&(_t=Z.RGBA32UI),tt===Z.BYTE&&(_t=Z.RGBA8I),tt===Z.SHORT&&(_t=Z.RGBA16I),tt===Z.INT&&(_t=Z.RGBA32I)),He===Z.RGB&&tt===Z.UNSIGNED_INT_5_9_9_9_REV&&(_t=Z.RGB9_E5),He===Z.RGBA){const jt=Nt?LinearTransfer:ColorManagement.getTransfer(mt);tt===Z.FLOAT&&(_t=Z.RGBA32F),tt===Z.HALF_FLOAT&&(_t=Z.RGBA16F),tt===Z.UNSIGNED_BYTE&&(_t=jt===SRGBTransfer?Z.SRGB8_ALPHA8:Z.RGBA8),tt===Z.UNSIGNED_SHORT_4_4_4_4&&(_t=Z.RGBA4),tt===Z.UNSIGNED_SHORT_5_5_5_1&&(_t=Z.RGB5_A1)}return(_t===Z.R16F||_t===Z.R32F||_t===Z.RG16F||_t===Z.RG32F||_t===Z.RGBA16F||_t===Z.RGBA32F)&&_.get("EXT_color_buffer_float"),_t}function Ae(Xe,He){let tt;return Xe?He===null||He===UnsignedIntType||He===UnsignedInt248Type?tt=Z.DEPTH24_STENCIL8:He===FloatType?tt=Z.DEPTH32F_STENCIL8:He===UnsignedShortType&&(tt=Z.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):He===null||He===UnsignedIntType||He===UnsignedInt248Type?tt=Z.DEPTH_COMPONENT24:He===FloatType?tt=Z.DEPTH_COMPONENT32F:He===UnsignedShortType&&(tt=Z.DEPTH_COMPONENT16),tt}function Fe(Xe,He){return _e(Xe)===!0||Xe.isFramebufferTexture&&Xe.minFilter!==NearestFilter&&Xe.minFilter!==LinearFilter?Math.log2(Math.max(He.width,He.height))+1:Xe.mipmaps!==void 0&&Xe.mipmaps.length>0?Xe.mipmaps.length:Xe.isCompressedTexture&&Array.isArray(Xe.image)?He.mipmaps.length:1}function $e(Xe){const He=Xe.target;He.removeEventListener("dispose",$e),ze(He),He.isVideoTexture&&fe.delete(He)}function ke(Xe){const He=Xe.target;He.removeEventListener("dispose",ke),Oe(He)}function ze(Xe){const He=te.get(Xe);if(He.__webglInit===void 0)return;const tt=Xe.source,mt=pe.get(tt);if(mt){const Nt=mt[He.__cacheKey];Nt.usedTimes--,Nt.usedTimes===0&&Ue(Xe),Object.keys(mt).length===0&&pe.delete(tt)}te.remove(Xe)}function Ue(Xe){const He=te.get(Xe);Z.deleteTexture(He.__webglTexture);const tt=Xe.source,mt=pe.get(tt);delete mt[He.__cacheKey],oe.memory.textures--}function Oe(Xe){const He=te.get(Xe);if(Xe.depthTexture&&(Xe.depthTexture.dispose(),te.remove(Xe.depthTexture)),Xe.isWebGLCubeRenderTarget)for(let mt=0;mt<6;mt++){if(Array.isArray(He.__webglFramebuffer[mt]))for(let Nt=0;Nt<He.__webglFramebuffer[mt].length;Nt++)Z.deleteFramebuffer(He.__webglFramebuffer[mt][Nt]);else Z.deleteFramebuffer(He.__webglFramebuffer[mt]);He.__webglDepthbuffer&&Z.deleteRenderbuffer(He.__webglDepthbuffer[mt])}else{if(Array.isArray(He.__webglFramebuffer))for(let mt=0;mt<He.__webglFramebuffer.length;mt++)Z.deleteFramebuffer(He.__webglFramebuffer[mt]);else Z.deleteFramebuffer(He.__webglFramebuffer);if(He.__webglDepthbuffer&&Z.deleteRenderbuffer(He.__webglDepthbuffer),He.__webglMultisampledFramebuffer&&Z.deleteFramebuffer(He.__webglMultisampledFramebuffer),He.__webglColorRenderbuffer)for(let mt=0;mt<He.__webglColorRenderbuffer.length;mt++)He.__webglColorRenderbuffer[mt]&&Z.deleteRenderbuffer(He.__webglColorRenderbuffer[mt]);He.__webglDepthRenderbuffer&&Z.deleteRenderbuffer(He.__webglDepthRenderbuffer)}const tt=Xe.textures;for(let mt=0,Nt=tt.length;mt<Nt;mt++){const _t=te.get(tt[mt]);_t.__webglTexture&&(Z.deleteTexture(_t.__webglTexture),oe.memory.textures--),te.remove(tt[mt])}te.remove(Xe)}let Ve=0;function Ye(){Ve=0}function Ke(){const Xe=Ve;return Xe>=ne.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Xe+" texture units while this GPU supports only "+ne.maxTextures),Ve+=1,Xe}function ot(Xe){const He=[];return He.push(Xe.wrapS),He.push(Xe.wrapT),He.push(Xe.wrapR||0),He.push(Xe.magFilter),He.push(Xe.minFilter),He.push(Xe.anisotropy),He.push(Xe.internalFormat),He.push(Xe.format),He.push(Xe.type),He.push(Xe.generateMipmaps),He.push(Xe.premultiplyAlpha),He.push(Xe.flipY),He.push(Xe.unpackAlignment),He.push(Xe.colorSpace),He.join()}function ut(Xe,He){const tt=te.get(Xe);if(Xe.isVideoTexture&&Yt(Xe),Xe.isRenderTargetTexture===!1&&Xe.version>0&&tt.__version!==Xe.version){const mt=Xe.image;if(mt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(mt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ht(tt,Xe,He);return}}K.bindTexture(Z.TEXTURE_2D,tt.__webglTexture,Z.TEXTURE0+He)}function ct(Xe,He){const tt=te.get(Xe);if(Xe.version>0&&tt.__version!==Xe.version){ht(tt,Xe,He);return}K.bindTexture(Z.TEXTURE_2D_ARRAY,tt.__webglTexture,Z.TEXTURE0+He)}function gt(Xe,He){const tt=te.get(Xe);if(Xe.version>0&&tt.__version!==Xe.version){ht(tt,Xe,He);return}K.bindTexture(Z.TEXTURE_3D,tt.__webglTexture,Z.TEXTURE0+He)}function je(Xe,He){const tt=te.get(Xe);if(Xe.version>0&&tt.__version!==Xe.version){dt(tt,Xe,He);return}K.bindTexture(Z.TEXTURE_CUBE_MAP,tt.__webglTexture,Z.TEXTURE0+He)}const rt={[RepeatWrapping]:Z.REPEAT,[ClampToEdgeWrapping]:Z.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:Z.MIRRORED_REPEAT},Qe={[NearestFilter]:Z.NEAREST,[NearestMipmapNearestFilter]:Z.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:Z.NEAREST_MIPMAP_LINEAR,[LinearFilter]:Z.LINEAR,[LinearMipmapNearestFilter]:Z.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:Z.LINEAR_MIPMAP_LINEAR},qe={[NeverCompare]:Z.NEVER,[AlwaysCompare]:Z.ALWAYS,[LessCompare]:Z.LESS,[LessEqualCompare]:Z.LEQUAL,[EqualCompare]:Z.EQUAL,[GreaterEqualCompare]:Z.GEQUAL,[GreaterCompare]:Z.GREATER,[NotEqualCompare]:Z.NOTEQUAL};function lt(Xe,He){if(He.type===FloatType&&_.has("OES_texture_float_linear")===!1&&(He.magFilter===LinearFilter||He.magFilter===LinearMipmapNearestFilter||He.magFilter===NearestMipmapLinearFilter||He.magFilter===LinearMipmapLinearFilter||He.minFilter===LinearFilter||He.minFilter===LinearMipmapNearestFilter||He.minFilter===NearestMipmapLinearFilter||He.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),Z.texParameteri(Xe,Z.TEXTURE_WRAP_S,rt[He.wrapS]),Z.texParameteri(Xe,Z.TEXTURE_WRAP_T,rt[He.wrapT]),(Xe===Z.TEXTURE_3D||Xe===Z.TEXTURE_2D_ARRAY)&&Z.texParameteri(Xe,Z.TEXTURE_WRAP_R,rt[He.wrapR]),Z.texParameteri(Xe,Z.TEXTURE_MAG_FILTER,Qe[He.magFilter]),Z.texParameteri(Xe,Z.TEXTURE_MIN_FILTER,Qe[He.minFilter]),He.compareFunction&&(Z.texParameteri(Xe,Z.TEXTURE_COMPARE_MODE,Z.COMPARE_REF_TO_TEXTURE),Z.texParameteri(Xe,Z.TEXTURE_COMPARE_FUNC,qe[He.compareFunction])),_.has("EXT_texture_filter_anisotropic")===!0){if(He.magFilter===NearestFilter||He.minFilter!==NearestMipmapLinearFilter&&He.minFilter!==LinearMipmapLinearFilter||He.type===FloatType&&_.has("OES_texture_float_linear")===!1)return;if(He.anisotropy>1||te.get(He).__currentAnisotropy){const tt=_.get("EXT_texture_filter_anisotropic");Z.texParameterf(Xe,tt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(He.anisotropy,ne.getMaxAnisotropy())),te.get(He).__currentAnisotropy=He.anisotropy}}}function Et(Xe,He){let tt=!1;Xe.__webglInit===void 0&&(Xe.__webglInit=!0,He.addEventListener("dispose",$e));const mt=He.source;let Nt=pe.get(mt);Nt===void 0&&(Nt={},pe.set(mt,Nt));const _t=ot(He);if(_t!==Xe.__cacheKey){Nt[_t]===void 0&&(Nt[_t]={texture:Z.createTexture(),usedTimes:0},oe.memory.textures++,tt=!0),Nt[_t].usedTimes++;const jt=Nt[Xe.__cacheKey];jt!==void 0&&(Nt[Xe.__cacheKey].usedTimes--,jt.usedTimes===0&&Ue(He)),Xe.__cacheKey=_t,Xe.__webglTexture=Nt[_t].texture}return tt}function ht(Xe,He,tt){let mt=Z.TEXTURE_2D;(He.isDataArrayTexture||He.isCompressedArrayTexture)&&(mt=Z.TEXTURE_2D_ARRAY),He.isData3DTexture&&(mt=Z.TEXTURE_3D);const Nt=Et(Xe,He),_t=He.source;K.bindTexture(mt,Xe.__webglTexture,Z.TEXTURE0+tt);const jt=te.get(_t);if(_t.version!==jt.__version||Nt===!0){K.activeTexture(Z.TEXTURE0+tt);const Ot=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),qt=He.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(He.colorSpace),Sn=He.colorSpace===NoColorSpace||Ot===qt?Z.NONE:Z.BROWSER_DEFAULT_WEBGL;Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,He.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,He.unpackAlignment),Z.pixelStorei(Z.UNPACK_COLORSPACE_CONVERSION_WEBGL,Sn);let Ht=Ee(He.image,!1,ne.maxTextureSize);Ht=mn(He,Ht);const Tt=ie.convert(He.format,He.colorSpace),Ft=ie.convert(He.type);let pn=Te(He.internalFormat,Tt,Ft,He.colorSpace,He.isVideoTexture);lt(mt,He);let cn;const at=He.mipmaps,Ut=He.isVideoTexture!==!0,un=jt.__version===void 0||Nt===!0,st=_t.dataReady,Kt=Fe(He,Ht);if(He.isDepthTexture)pn=Ae(He.format===DepthStencilFormat,He.type),un&&(Ut?K.texStorage2D(Z.TEXTURE_2D,1,pn,Ht.width,Ht.height):K.texImage2D(Z.TEXTURE_2D,0,pn,Ht.width,Ht.height,0,Tt,Ft,null));else if(He.isDataTexture)if(at.length>0){Ut&&un&&K.texStorage2D(Z.TEXTURE_2D,Kt,pn,at[0].width,at[0].height);for(let At=0,zt=at.length;At<zt;At++)cn=at[At],Ut?st&&K.texSubImage2D(Z.TEXTURE_2D,At,0,0,cn.width,cn.height,Tt,Ft,cn.data):K.texImage2D(Z.TEXTURE_2D,At,pn,cn.width,cn.height,0,Tt,Ft,cn.data);He.generateMipmaps=!1}else Ut?(un&&K.texStorage2D(Z.TEXTURE_2D,Kt,pn,Ht.width,Ht.height),st&&K.texSubImage2D(Z.TEXTURE_2D,0,0,0,Ht.width,Ht.height,Tt,Ft,Ht.data)):K.texImage2D(Z.TEXTURE_2D,0,pn,Ht.width,Ht.height,0,Tt,Ft,Ht.data);else if(He.isCompressedTexture)if(He.isCompressedArrayTexture){Ut&&un&&K.texStorage3D(Z.TEXTURE_2D_ARRAY,Kt,pn,at[0].width,at[0].height,Ht.depth);for(let At=0,zt=at.length;At<zt;At++)if(cn=at[At],He.format!==RGBAFormat)if(Tt!==null)if(Ut){if(st)if(He.layerUpdates.size>0){const yn=getByteLength(cn.width,cn.height,He.format,He.type);for(const gn of He.layerUpdates){const Dn=cn.data.subarray(gn*yn/cn.data.BYTES_PER_ELEMENT,(gn+1)*yn/cn.data.BYTES_PER_ELEMENT);K.compressedTexSubImage3D(Z.TEXTURE_2D_ARRAY,At,0,0,gn,cn.width,cn.height,1,Tt,Dn)}He.clearLayerUpdates()}else K.compressedTexSubImage3D(Z.TEXTURE_2D_ARRAY,At,0,0,0,cn.width,cn.height,Ht.depth,Tt,cn.data)}else K.compressedTexImage3D(Z.TEXTURE_2D_ARRAY,At,pn,cn.width,cn.height,Ht.depth,0,cn.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ut?st&&K.texSubImage3D(Z.TEXTURE_2D_ARRAY,At,0,0,0,cn.width,cn.height,Ht.depth,Tt,Ft,cn.data):K.texImage3D(Z.TEXTURE_2D_ARRAY,At,pn,cn.width,cn.height,Ht.depth,0,Tt,Ft,cn.data)}else{Ut&&un&&K.texStorage2D(Z.TEXTURE_2D,Kt,pn,at[0].width,at[0].height);for(let At=0,zt=at.length;At<zt;At++)cn=at[At],He.format!==RGBAFormat?Tt!==null?Ut?st&&K.compressedTexSubImage2D(Z.TEXTURE_2D,At,0,0,cn.width,cn.height,Tt,cn.data):K.compressedTexImage2D(Z.TEXTURE_2D,At,pn,cn.width,cn.height,0,cn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ut?st&&K.texSubImage2D(Z.TEXTURE_2D,At,0,0,cn.width,cn.height,Tt,Ft,cn.data):K.texImage2D(Z.TEXTURE_2D,At,pn,cn.width,cn.height,0,Tt,Ft,cn.data)}else if(He.isDataArrayTexture)if(Ut){if(un&&K.texStorage3D(Z.TEXTURE_2D_ARRAY,Kt,pn,Ht.width,Ht.height,Ht.depth),st)if(He.layerUpdates.size>0){const At=getByteLength(Ht.width,Ht.height,He.format,He.type);for(const zt of He.layerUpdates){const yn=Ht.data.subarray(zt*At/Ht.data.BYTES_PER_ELEMENT,(zt+1)*At/Ht.data.BYTES_PER_ELEMENT);K.texSubImage3D(Z.TEXTURE_2D_ARRAY,0,0,0,zt,Ht.width,Ht.height,1,Tt,Ft,yn)}He.clearLayerUpdates()}else K.texSubImage3D(Z.TEXTURE_2D_ARRAY,0,0,0,0,Ht.width,Ht.height,Ht.depth,Tt,Ft,Ht.data)}else K.texImage3D(Z.TEXTURE_2D_ARRAY,0,pn,Ht.width,Ht.height,Ht.depth,0,Tt,Ft,Ht.data);else if(He.isData3DTexture)Ut?(un&&K.texStorage3D(Z.TEXTURE_3D,Kt,pn,Ht.width,Ht.height,Ht.depth),st&&K.texSubImage3D(Z.TEXTURE_3D,0,0,0,0,Ht.width,Ht.height,Ht.depth,Tt,Ft,Ht.data)):K.texImage3D(Z.TEXTURE_3D,0,pn,Ht.width,Ht.height,Ht.depth,0,Tt,Ft,Ht.data);else if(He.isFramebufferTexture){if(un)if(Ut)K.texStorage2D(Z.TEXTURE_2D,Kt,pn,Ht.width,Ht.height);else{let At=Ht.width,zt=Ht.height;for(let yn=0;yn<Kt;yn++)K.texImage2D(Z.TEXTURE_2D,yn,pn,At,zt,0,Tt,Ft,null),At>>=1,zt>>=1}}else if(at.length>0){if(Ut&&un){const At=Jt(at[0]);K.texStorage2D(Z.TEXTURE_2D,Kt,pn,At.width,At.height)}for(let At=0,zt=at.length;At<zt;At++)cn=at[At],Ut?st&&K.texSubImage2D(Z.TEXTURE_2D,At,0,0,Tt,Ft,cn):K.texImage2D(Z.TEXTURE_2D,At,pn,Tt,Ft,cn);He.generateMipmaps=!1}else if(Ut){if(un){const At=Jt(Ht);K.texStorage2D(Z.TEXTURE_2D,Kt,pn,At.width,At.height)}st&&K.texSubImage2D(Z.TEXTURE_2D,0,0,0,Tt,Ft,Ht)}else K.texImage2D(Z.TEXTURE_2D,0,pn,Tt,Ft,Ht);_e(He)&&Se(mt),jt.__version=_t.version,He.onUpdate&&He.onUpdate(He)}Xe.__version=He.version}function dt(Xe,He,tt){if(He.image.length!==6)return;const mt=Et(Xe,He),Nt=He.source;K.bindTexture(Z.TEXTURE_CUBE_MAP,Xe.__webglTexture,Z.TEXTURE0+tt);const _t=te.get(Nt);if(Nt.version!==_t.__version||mt===!0){K.activeTexture(Z.TEXTURE0+tt);const jt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Ot=He.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(He.colorSpace),qt=He.colorSpace===NoColorSpace||jt===Ot?Z.NONE:Z.BROWSER_DEFAULT_WEBGL;Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,He.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,He.unpackAlignment),Z.pixelStorei(Z.UNPACK_COLORSPACE_CONVERSION_WEBGL,qt);const Sn=He.isCompressedTexture||He.image[0].isCompressedTexture,Ht=He.image[0]&&He.image[0].isDataTexture,Tt=[];for(let zt=0;zt<6;zt++)!Sn&&!Ht?Tt[zt]=Ee(He.image[zt],!0,ne.maxCubemapSize):Tt[zt]=Ht?He.image[zt].image:He.image[zt],Tt[zt]=mn(He,Tt[zt]);const Ft=Tt[0],pn=ie.convert(He.format,He.colorSpace),cn=ie.convert(He.type),at=Te(He.internalFormat,pn,cn,He.colorSpace),Ut=He.isVideoTexture!==!0,un=_t.__version===void 0||mt===!0,st=Nt.dataReady;let Kt=Fe(He,Ft);lt(Z.TEXTURE_CUBE_MAP,He);let At;if(Sn){Ut&&un&&K.texStorage2D(Z.TEXTURE_CUBE_MAP,Kt,at,Ft.width,Ft.height);for(let zt=0;zt<6;zt++){At=Tt[zt].mipmaps;for(let yn=0;yn<At.length;yn++){const gn=At[yn];He.format!==RGBAFormat?pn!==null?Ut?st&&K.compressedTexSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,yn,0,0,gn.width,gn.height,pn,gn.data):K.compressedTexImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,yn,at,gn.width,gn.height,0,gn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ut?st&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,yn,0,0,gn.width,gn.height,pn,cn,gn.data):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,yn,at,gn.width,gn.height,0,pn,cn,gn.data)}}}else{if(At=He.mipmaps,Ut&&un){At.length>0&&Kt++;const zt=Jt(Tt[0]);K.texStorage2D(Z.TEXTURE_CUBE_MAP,Kt,at,zt.width,zt.height)}for(let zt=0;zt<6;zt++)if(Ht){Ut?st&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0,0,0,Tt[zt].width,Tt[zt].height,pn,cn,Tt[zt].data):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0,at,Tt[zt].width,Tt[zt].height,0,pn,cn,Tt[zt].data);for(let yn=0;yn<At.length;yn++){const Dn=At[yn].image[zt].image;Ut?st&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,yn+1,0,0,Dn.width,Dn.height,pn,cn,Dn.data):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,yn+1,at,Dn.width,Dn.height,0,pn,cn,Dn.data)}}else{Ut?st&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0,0,0,pn,cn,Tt[zt]):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0,at,pn,cn,Tt[zt]);for(let yn=0;yn<At.length;yn++){const gn=At[yn];Ut?st&&K.texSubImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,yn+1,0,0,pn,cn,gn.image[zt]):K.texImage2D(Z.TEXTURE_CUBE_MAP_POSITIVE_X+zt,yn+1,at,pn,cn,gn.image[zt])}}}_e(He)&&Se(Z.TEXTURE_CUBE_MAP),_t.__version=Nt.version,He.onUpdate&&He.onUpdate(He)}Xe.__version=He.version}function Mt(Xe,He,tt,mt,Nt,_t){const jt=ie.convert(tt.format,tt.colorSpace),Ot=ie.convert(tt.type),qt=Te(tt.internalFormat,jt,Ot,tt.colorSpace),Sn=te.get(He),Ht=te.get(tt);if(Ht.__renderTarget=He,!Sn.__hasExternalTextures){const Tt=Math.max(1,He.width>>_t),Ft=Math.max(1,He.height>>_t);Nt===Z.TEXTURE_3D||Nt===Z.TEXTURE_2D_ARRAY?K.texImage3D(Nt,_t,qt,Tt,Ft,He.depth,0,jt,Ot,null):K.texImage2D(Nt,_t,qt,Tt,Ft,0,jt,Ot,null)}K.bindFramebuffer(Z.FRAMEBUFFER,Xe),an(He)?se.framebufferTexture2DMultisampleEXT(Z.FRAMEBUFFER,mt,Nt,Ht.__webglTexture,0,Xt(He)):(Nt===Z.TEXTURE_2D||Nt>=Z.TEXTURE_CUBE_MAP_POSITIVE_X&&Nt<=Z.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&Z.framebufferTexture2D(Z.FRAMEBUFFER,mt,Nt,Ht.__webglTexture,_t),K.bindFramebuffer(Z.FRAMEBUFFER,null)}function Pt(Xe,He,tt){if(Z.bindRenderbuffer(Z.RENDERBUFFER,Xe),He.depthBuffer){const mt=He.depthTexture,Nt=mt&&mt.isDepthTexture?mt.type:null,_t=Ae(He.stencilBuffer,Nt),jt=He.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT,Ot=Xt(He);an(He)?se.renderbufferStorageMultisampleEXT(Z.RENDERBUFFER,Ot,_t,He.width,He.height):tt?Z.renderbufferStorageMultisample(Z.RENDERBUFFER,Ot,_t,He.width,He.height):Z.renderbufferStorage(Z.RENDERBUFFER,_t,He.width,He.height),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,jt,Z.RENDERBUFFER,Xe)}else{const mt=He.textures;for(let Nt=0;Nt<mt.length;Nt++){const _t=mt[Nt],jt=ie.convert(_t.format,_t.colorSpace),Ot=ie.convert(_t.type),qt=Te(_t.internalFormat,jt,Ot,_t.colorSpace),Sn=Xt(He);tt&&an(He)===!1?Z.renderbufferStorageMultisample(Z.RENDERBUFFER,Sn,qt,He.width,He.height):an(He)?se.renderbufferStorageMultisampleEXT(Z.RENDERBUFFER,Sn,qt,He.width,He.height):Z.renderbufferStorage(Z.RENDERBUFFER,qt,He.width,He.height)}}Z.bindRenderbuffer(Z.RENDERBUFFER,null)}function Wt(Xe,He){if(He&&He.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(K.bindFramebuffer(Z.FRAMEBUFFER,Xe),!(He.depthTexture&&He.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const mt=te.get(He.depthTexture);mt.__renderTarget=He,(!mt.__webglTexture||He.depthTexture.image.width!==He.width||He.depthTexture.image.height!==He.height)&&(He.depthTexture.image.width=He.width,He.depthTexture.image.height=He.height,He.depthTexture.needsUpdate=!0),ut(He.depthTexture,0);const Nt=mt.__webglTexture,_t=Xt(He);if(He.depthTexture.format===DepthFormat)an(He)?se.framebufferTexture2DMultisampleEXT(Z.FRAMEBUFFER,Z.DEPTH_ATTACHMENT,Z.TEXTURE_2D,Nt,0,_t):Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.DEPTH_ATTACHMENT,Z.TEXTURE_2D,Nt,0);else if(He.depthTexture.format===DepthStencilFormat)an(He)?se.framebufferTexture2DMultisampleEXT(Z.FRAMEBUFFER,Z.DEPTH_STENCIL_ATTACHMENT,Z.TEXTURE_2D,Nt,0,_t):Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.DEPTH_STENCIL_ATTACHMENT,Z.TEXTURE_2D,Nt,0);else throw new Error("Unknown depthTexture format")}function Qt(Xe){const He=te.get(Xe),tt=Xe.isWebGLCubeRenderTarget===!0;if(He.__boundDepthTexture!==Xe.depthTexture){const mt=Xe.depthTexture;if(He.__depthDisposeCallback&&He.__depthDisposeCallback(),mt){const Nt=()=>{delete He.__boundDepthTexture,delete He.__depthDisposeCallback,mt.removeEventListener("dispose",Nt)};mt.addEventListener("dispose",Nt),He.__depthDisposeCallback=Nt}He.__boundDepthTexture=mt}if(Xe.depthTexture&&!He.__autoAllocateDepthBuffer){if(tt)throw new Error("target.depthTexture not supported in Cube render targets");Wt(He.__webglFramebuffer,Xe)}else if(tt){He.__webglDepthbuffer=[];for(let mt=0;mt<6;mt++)if(K.bindFramebuffer(Z.FRAMEBUFFER,He.__webglFramebuffer[mt]),He.__webglDepthbuffer[mt]===void 0)He.__webglDepthbuffer[mt]=Z.createRenderbuffer(),Pt(He.__webglDepthbuffer[mt],Xe,!1);else{const Nt=Xe.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT,_t=He.__webglDepthbuffer[mt];Z.bindRenderbuffer(Z.RENDERBUFFER,_t),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,Nt,Z.RENDERBUFFER,_t)}}else if(K.bindFramebuffer(Z.FRAMEBUFFER,He.__webglFramebuffer),He.__webglDepthbuffer===void 0)He.__webglDepthbuffer=Z.createRenderbuffer(),Pt(He.__webglDepthbuffer,Xe,!1);else{const mt=Xe.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT,Nt=He.__webglDepthbuffer;Z.bindRenderbuffer(Z.RENDERBUFFER,Nt),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,mt,Z.RENDERBUFFER,Nt)}K.bindFramebuffer(Z.FRAMEBUFFER,null)}function sn(Xe,He,tt){const mt=te.get(Xe);He!==void 0&&Mt(mt.__webglFramebuffer,Xe,Xe.texture,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,0),tt!==void 0&&Qt(Xe)}function hn(Xe){const He=Xe.texture,tt=te.get(Xe),mt=te.get(He);Xe.addEventListener("dispose",ke);const Nt=Xe.textures,_t=Xe.isWebGLCubeRenderTarget===!0,jt=Nt.length>1;if(jt||(mt.__webglTexture===void 0&&(mt.__webglTexture=Z.createTexture()),mt.__version=He.version,oe.memory.textures++),_t){tt.__webglFramebuffer=[];for(let Ot=0;Ot<6;Ot++)if(He.mipmaps&&He.mipmaps.length>0){tt.__webglFramebuffer[Ot]=[];for(let qt=0;qt<He.mipmaps.length;qt++)tt.__webglFramebuffer[Ot][qt]=Z.createFramebuffer()}else tt.__webglFramebuffer[Ot]=Z.createFramebuffer()}else{if(He.mipmaps&&He.mipmaps.length>0){tt.__webglFramebuffer=[];for(let Ot=0;Ot<He.mipmaps.length;Ot++)tt.__webglFramebuffer[Ot]=Z.createFramebuffer()}else tt.__webglFramebuffer=Z.createFramebuffer();if(jt)for(let Ot=0,qt=Nt.length;Ot<qt;Ot++){const Sn=te.get(Nt[Ot]);Sn.__webglTexture===void 0&&(Sn.__webglTexture=Z.createTexture(),oe.memory.textures++)}if(Xe.samples>0&&an(Xe)===!1){tt.__webglMultisampledFramebuffer=Z.createFramebuffer(),tt.__webglColorRenderbuffer=[],K.bindFramebuffer(Z.FRAMEBUFFER,tt.__webglMultisampledFramebuffer);for(let Ot=0;Ot<Nt.length;Ot++){const qt=Nt[Ot];tt.__webglColorRenderbuffer[Ot]=Z.createRenderbuffer(),Z.bindRenderbuffer(Z.RENDERBUFFER,tt.__webglColorRenderbuffer[Ot]);const Sn=ie.convert(qt.format,qt.colorSpace),Ht=ie.convert(qt.type),Tt=Te(qt.internalFormat,Sn,Ht,qt.colorSpace,Xe.isXRRenderTarget===!0),Ft=Xt(Xe);Z.renderbufferStorageMultisample(Z.RENDERBUFFER,Ft,Tt,Xe.width,Xe.height),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+Ot,Z.RENDERBUFFER,tt.__webglColorRenderbuffer[Ot])}Z.bindRenderbuffer(Z.RENDERBUFFER,null),Xe.depthBuffer&&(tt.__webglDepthRenderbuffer=Z.createRenderbuffer(),Pt(tt.__webglDepthRenderbuffer,Xe,!0)),K.bindFramebuffer(Z.FRAMEBUFFER,null)}}if(_t){K.bindTexture(Z.TEXTURE_CUBE_MAP,mt.__webglTexture),lt(Z.TEXTURE_CUBE_MAP,He);for(let Ot=0;Ot<6;Ot++)if(He.mipmaps&&He.mipmaps.length>0)for(let qt=0;qt<He.mipmaps.length;qt++)Mt(tt.__webglFramebuffer[Ot][qt],Xe,He,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,qt);else Mt(tt.__webglFramebuffer[Ot],Xe,He,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,0);_e(He)&&Se(Z.TEXTURE_CUBE_MAP),K.unbindTexture()}else if(jt){for(let Ot=0,qt=Nt.length;Ot<qt;Ot++){const Sn=Nt[Ot],Ht=te.get(Sn);K.bindTexture(Z.TEXTURE_2D,Ht.__webglTexture),lt(Z.TEXTURE_2D,Sn),Mt(tt.__webglFramebuffer,Xe,Sn,Z.COLOR_ATTACHMENT0+Ot,Z.TEXTURE_2D,0),_e(Sn)&&Se(Z.TEXTURE_2D)}K.unbindTexture()}else{let Ot=Z.TEXTURE_2D;if((Xe.isWebGL3DRenderTarget||Xe.isWebGLArrayRenderTarget)&&(Ot=Xe.isWebGL3DRenderTarget?Z.TEXTURE_3D:Z.TEXTURE_2D_ARRAY),K.bindTexture(Ot,mt.__webglTexture),lt(Ot,He),He.mipmaps&&He.mipmaps.length>0)for(let qt=0;qt<He.mipmaps.length;qt++)Mt(tt.__webglFramebuffer[qt],Xe,He,Z.COLOR_ATTACHMENT0,Ot,qt);else Mt(tt.__webglFramebuffer,Xe,He,Z.COLOR_ATTACHMENT0,Ot,0);_e(He)&&Se(Ot),K.unbindTexture()}Xe.depthBuffer&&Qt(Xe)}function Dt(Xe){const He=Xe.textures;for(let tt=0,mt=He.length;tt<mt;tt++){const Nt=He[tt];if(_e(Nt)){const _t=Re(Xe),jt=te.get(Nt).__webglTexture;K.bindTexture(_t,jt),Se(_t),K.unbindTexture()}}}const Vt=[],Ze=[];function on(Xe){if(Xe.samples>0){if(an(Xe)===!1){const He=Xe.textures,tt=Xe.width,mt=Xe.height;let Nt=Z.COLOR_BUFFER_BIT;const _t=Xe.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT,jt=te.get(Xe),Ot=He.length>1;if(Ot)for(let qt=0;qt<He.length;qt++)K.bindFramebuffer(Z.FRAMEBUFFER,jt.__webglMultisampledFramebuffer),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+qt,Z.RENDERBUFFER,null),K.bindFramebuffer(Z.FRAMEBUFFER,jt.__webglFramebuffer),Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0+qt,Z.TEXTURE_2D,null,0);K.bindFramebuffer(Z.READ_FRAMEBUFFER,jt.__webglMultisampledFramebuffer),K.bindFramebuffer(Z.DRAW_FRAMEBUFFER,jt.__webglFramebuffer);for(let qt=0;qt<He.length;qt++){if(Xe.resolveDepthBuffer&&(Xe.depthBuffer&&(Nt|=Z.DEPTH_BUFFER_BIT),Xe.stencilBuffer&&Xe.resolveStencilBuffer&&(Nt|=Z.STENCIL_BUFFER_BIT)),Ot){Z.framebufferRenderbuffer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.RENDERBUFFER,jt.__webglColorRenderbuffer[qt]);const Sn=te.get(He[qt]).__webglTexture;Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Sn,0)}Z.blitFramebuffer(0,0,tt,mt,0,0,tt,mt,Nt,Z.NEAREST),le===!0&&(Vt.length=0,Ze.length=0,Vt.push(Z.COLOR_ATTACHMENT0+qt),Xe.depthBuffer&&Xe.resolveDepthBuffer===!1&&(Vt.push(_t),Ze.push(_t),Z.invalidateFramebuffer(Z.DRAW_FRAMEBUFFER,Ze)),Z.invalidateFramebuffer(Z.READ_FRAMEBUFFER,Vt))}if(K.bindFramebuffer(Z.READ_FRAMEBUFFER,null),K.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null),Ot)for(let qt=0;qt<He.length;qt++){K.bindFramebuffer(Z.FRAMEBUFFER,jt.__webglMultisampledFramebuffer),Z.framebufferRenderbuffer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+qt,Z.RENDERBUFFER,jt.__webglColorRenderbuffer[qt]);const Sn=te.get(He[qt]).__webglTexture;K.bindFramebuffer(Z.FRAMEBUFFER,jt.__webglFramebuffer),Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0+qt,Z.TEXTURE_2D,Sn,0)}K.bindFramebuffer(Z.DRAW_FRAMEBUFFER,jt.__webglMultisampledFramebuffer)}else if(Xe.depthBuffer&&Xe.resolveDepthBuffer===!1&&le){const He=Xe.stencilBuffer?Z.DEPTH_STENCIL_ATTACHMENT:Z.DEPTH_ATTACHMENT;Z.invalidateFramebuffer(Z.DRAW_FRAMEBUFFER,[He])}}}function Xt(Xe){return Math.min(ne.maxSamples,Xe.samples)}function an(Xe){const He=te.get(Xe);return Xe.samples>0&&_.has("WEBGL_multisampled_render_to_texture")===!0&&He.__useRenderToTexture!==!1}function Yt(Xe){const He=oe.render.frame;fe.get(Xe)!==He&&(fe.set(Xe,He),Xe.update())}function mn(Xe,He){const tt=Xe.colorSpace,mt=Xe.format,Nt=Xe.type;return Xe.isCompressedTexture===!0||Xe.isVideoTexture===!0||tt!==LinearSRGBColorSpace&&tt!==NoColorSpace&&(ColorManagement.getTransfer(tt)===SRGBTransfer?(mt!==RGBAFormat||Nt!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",tt)),He}function Jt(Xe){return typeof HTMLImageElement<"u"&&Xe instanceof HTMLImageElement?(ce.width=Xe.naturalWidth||Xe.width,ce.height=Xe.naturalHeight||Xe.height):typeof VideoFrame<"u"&&Xe instanceof VideoFrame?(ce.width=Xe.displayWidth,ce.height=Xe.displayHeight):(ce.width=Xe.width,ce.height=Xe.height),ce}this.allocateTextureUnit=Ke,this.resetTextureUnits=Ye,this.setTexture2D=ut,this.setTexture2DArray=ct,this.setTexture3D=gt,this.setTextureCube=je,this.rebindTextures=sn,this.setupRenderTarget=hn,this.updateRenderTargetMipmap=Dt,this.updateMultisampleRenderTarget=on,this.setupDepthRenderbuffer=Qt,this.setupFrameBufferTexture=Mt,this.useMultisampledRTT=an}function WebGLUtils(Z,_){function K(te,ne=NoColorSpace){let ie;const oe=ColorManagement.getTransfer(ne);if(te===UnsignedByteType)return Z.UNSIGNED_BYTE;if(te===UnsignedShort4444Type)return Z.UNSIGNED_SHORT_4_4_4_4;if(te===UnsignedShort5551Type)return Z.UNSIGNED_SHORT_5_5_5_1;if(te===UnsignedInt5999Type)return Z.UNSIGNED_INT_5_9_9_9_REV;if(te===ByteType)return Z.BYTE;if(te===ShortType)return Z.SHORT;if(te===UnsignedShortType)return Z.UNSIGNED_SHORT;if(te===IntType)return Z.INT;if(te===UnsignedIntType)return Z.UNSIGNED_INT;if(te===FloatType)return Z.FLOAT;if(te===HalfFloatType)return Z.HALF_FLOAT;if(te===AlphaFormat)return Z.ALPHA;if(te===RGBFormat)return Z.RGB;if(te===RGBAFormat)return Z.RGBA;if(te===LuminanceFormat)return Z.LUMINANCE;if(te===LuminanceAlphaFormat)return Z.LUMINANCE_ALPHA;if(te===DepthFormat)return Z.DEPTH_COMPONENT;if(te===DepthStencilFormat)return Z.DEPTH_STENCIL;if(te===RedFormat)return Z.RED;if(te===RedIntegerFormat)return Z.RED_INTEGER;if(te===RGFormat)return Z.RG;if(te===RGIntegerFormat)return Z.RG_INTEGER;if(te===RGBAIntegerFormat)return Z.RGBA_INTEGER;if(te===RGB_S3TC_DXT1_Format||te===RGBA_S3TC_DXT1_Format||te===RGBA_S3TC_DXT3_Format||te===RGBA_S3TC_DXT5_Format)if(oe===SRGBTransfer)if(ie=_.get("WEBGL_compressed_texture_s3tc_srgb"),ie!==null){if(te===RGB_S3TC_DXT1_Format)return ie.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(te===RGBA_S3TC_DXT1_Format)return ie.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(te===RGBA_S3TC_DXT3_Format)return ie.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(te===RGBA_S3TC_DXT5_Format)return ie.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(ie=_.get("WEBGL_compressed_texture_s3tc"),ie!==null){if(te===RGB_S3TC_DXT1_Format)return ie.COMPRESSED_RGB_S3TC_DXT1_EXT;if(te===RGBA_S3TC_DXT1_Format)return ie.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(te===RGBA_S3TC_DXT3_Format)return ie.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(te===RGBA_S3TC_DXT5_Format)return ie.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(te===RGB_PVRTC_4BPPV1_Format||te===RGB_PVRTC_2BPPV1_Format||te===RGBA_PVRTC_4BPPV1_Format||te===RGBA_PVRTC_2BPPV1_Format)if(ie=_.get("WEBGL_compressed_texture_pvrtc"),ie!==null){if(te===RGB_PVRTC_4BPPV1_Format)return ie.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(te===RGB_PVRTC_2BPPV1_Format)return ie.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(te===RGBA_PVRTC_4BPPV1_Format)return ie.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(te===RGBA_PVRTC_2BPPV1_Format)return ie.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(te===RGB_ETC1_Format||te===RGB_ETC2_Format||te===RGBA_ETC2_EAC_Format)if(ie=_.get("WEBGL_compressed_texture_etc"),ie!==null){if(te===RGB_ETC1_Format||te===RGB_ETC2_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ETC2:ie.COMPRESSED_RGB8_ETC2;if(te===RGBA_ETC2_EAC_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:ie.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(te===RGBA_ASTC_4x4_Format||te===RGBA_ASTC_5x4_Format||te===RGBA_ASTC_5x5_Format||te===RGBA_ASTC_6x5_Format||te===RGBA_ASTC_6x6_Format||te===RGBA_ASTC_8x5_Format||te===RGBA_ASTC_8x6_Format||te===RGBA_ASTC_8x8_Format||te===RGBA_ASTC_10x5_Format||te===RGBA_ASTC_10x6_Format||te===RGBA_ASTC_10x8_Format||te===RGBA_ASTC_10x10_Format||te===RGBA_ASTC_12x10_Format||te===RGBA_ASTC_12x12_Format)if(ie=_.get("WEBGL_compressed_texture_astc"),ie!==null){if(te===RGBA_ASTC_4x4_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:ie.COMPRESSED_RGBA_ASTC_4x4_KHR;if(te===RGBA_ASTC_5x4_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:ie.COMPRESSED_RGBA_ASTC_5x4_KHR;if(te===RGBA_ASTC_5x5_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:ie.COMPRESSED_RGBA_ASTC_5x5_KHR;if(te===RGBA_ASTC_6x5_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:ie.COMPRESSED_RGBA_ASTC_6x5_KHR;if(te===RGBA_ASTC_6x6_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:ie.COMPRESSED_RGBA_ASTC_6x6_KHR;if(te===RGBA_ASTC_8x5_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:ie.COMPRESSED_RGBA_ASTC_8x5_KHR;if(te===RGBA_ASTC_8x6_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:ie.COMPRESSED_RGBA_ASTC_8x6_KHR;if(te===RGBA_ASTC_8x8_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:ie.COMPRESSED_RGBA_ASTC_8x8_KHR;if(te===RGBA_ASTC_10x5_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:ie.COMPRESSED_RGBA_ASTC_10x5_KHR;if(te===RGBA_ASTC_10x6_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:ie.COMPRESSED_RGBA_ASTC_10x6_KHR;if(te===RGBA_ASTC_10x8_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:ie.COMPRESSED_RGBA_ASTC_10x8_KHR;if(te===RGBA_ASTC_10x10_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:ie.COMPRESSED_RGBA_ASTC_10x10_KHR;if(te===RGBA_ASTC_12x10_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:ie.COMPRESSED_RGBA_ASTC_12x10_KHR;if(te===RGBA_ASTC_12x12_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:ie.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(te===RGBA_BPTC_Format||te===RGB_BPTC_SIGNED_Format||te===RGB_BPTC_UNSIGNED_Format)if(ie=_.get("EXT_texture_compression_bptc"),ie!==null){if(te===RGBA_BPTC_Format)return oe===SRGBTransfer?ie.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:ie.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(te===RGB_BPTC_SIGNED_Format)return ie.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(te===RGB_BPTC_UNSIGNED_Format)return ie.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(te===RED_RGTC1_Format||te===SIGNED_RED_RGTC1_Format||te===RED_GREEN_RGTC2_Format||te===SIGNED_RED_GREEN_RGTC2_Format)if(ie=_.get("EXT_texture_compression_rgtc"),ie!==null){if(te===RGBA_BPTC_Format)return ie.COMPRESSED_RED_RGTC1_EXT;if(te===SIGNED_RED_RGTC1_Format)return ie.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(te===RED_GREEN_RGTC2_Format)return ie.COMPRESSED_RED_GREEN_RGTC2_EXT;if(te===SIGNED_RED_GREEN_RGTC2_Format)return ie.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return te===UnsignedInt248Type?Z.UNSIGNED_INT_24_8:Z[te]!==void 0?Z[te]:null}return{convert:K}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(_){return this._targetRay!==null&&this._targetRay.dispatchEvent(_),this._grip!==null&&this._grip.dispatchEvent(_),this._hand!==null&&this._hand.dispatchEvent(_),this}connect(_){if(_&&_.hand){const K=this._hand;if(K)for(const te of _.hand.values())this._getHandJoint(K,te)}return this.dispatchEvent({type:"connected",data:_}),this}disconnect(_){return this.dispatchEvent({type:"disconnected",data:_}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(_,K,te){let ne=null,ie=null,oe=null;const se=this._targetRay,le=this._grip,ce=this._hand;if(_&&K.session.visibilityState!=="visible-blurred"){if(ce&&_.hand){oe=!0;for(const Ee of _.hand.values()){const _e=K.getJointPose(Ee,te),Se=this._getHandJoint(ce,Ee);_e!==null&&(Se.matrix.fromArray(_e.transform.matrix),Se.matrix.decompose(Se.position,Se.rotation,Se.scale),Se.matrixWorldNeedsUpdate=!0,Se.jointRadius=_e.radius),Se.visible=_e!==null}const fe=ce.joints["index-finger-tip"],me=ce.joints["thumb-tip"],pe=fe.position.distanceTo(me.position),ge=.02,ye=.005;ce.inputState.pinching&&pe>ge+ye?(ce.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:_.handedness,target:this})):!ce.inputState.pinching&&pe<=ge-ye&&(ce.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:_.handedness,target:this}))}else le!==null&&_.gripSpace&&(ie=K.getPose(_.gripSpace,te),ie!==null&&(le.matrix.fromArray(ie.transform.matrix),le.matrix.decompose(le.position,le.rotation,le.scale),le.matrixWorldNeedsUpdate=!0,ie.linearVelocity?(le.hasLinearVelocity=!0,le.linearVelocity.copy(ie.linearVelocity)):le.hasLinearVelocity=!1,ie.angularVelocity?(le.hasAngularVelocity=!0,le.angularVelocity.copy(ie.angularVelocity)):le.hasAngularVelocity=!1));se!==null&&(ne=K.getPose(_.targetRaySpace,te),ne===null&&ie!==null&&(ne=ie),ne!==null&&(se.matrix.fromArray(ne.transform.matrix),se.matrix.decompose(se.position,se.rotation,se.scale),se.matrixWorldNeedsUpdate=!0,ne.linearVelocity?(se.hasLinearVelocity=!0,se.linearVelocity.copy(ne.linearVelocity)):se.hasLinearVelocity=!1,ne.angularVelocity?(se.hasAngularVelocity=!0,se.angularVelocity.copy(ne.angularVelocity)):se.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return se!==null&&(se.visible=ne!==null),le!==null&&(le.visible=ie!==null),ce!==null&&(ce.visible=oe!==null),this}_getHandJoint(_,K){if(_.joints[K.jointName]===void 0){const te=new Group;te.matrixAutoUpdate=!1,te.visible=!1,_.joints[K.jointName]=te,_.add(te)}return _.joints[K.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(_,K,te){if(this.texture===null){const ne=new Texture,ie=_.properties.get(ne);ie.__webglTexture=K.texture,(K.depthNear!=te.depthNear||K.depthFar!=te.depthFar)&&(this.depthNear=K.depthNear,this.depthFar=K.depthFar),this.texture=ne}}getMesh(_){if(this.texture!==null&&this.mesh===null){const K=_.cameras[0].viewport,te=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:K.z},depthHeight:{value:K.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),te)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher$1{constructor(_,K){super();const te=this;let ne=null,ie=1,oe=null,se="local-floor",le=1,ce=null,fe=null,me=null,pe=null,ge=null,ye=null;const Ee=new WebXRDepthSensing,_e=K.getContextAttributes();let Se=null,Re=null;const Te=[],Ae=[],Fe=new Vector2;let $e=null;const ke=new PerspectiveCamera$1;ke.viewport=new Vector4;const ze=new PerspectiveCamera$1;ze.viewport=new Vector4;const Ue=[ke,ze],Oe=new ArrayCamera;let Ve=null,Ye=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ht){let dt=Te[ht];return dt===void 0&&(dt=new WebXRController,Te[ht]=dt),dt.getTargetRaySpace()},this.getControllerGrip=function(ht){let dt=Te[ht];return dt===void 0&&(dt=new WebXRController,Te[ht]=dt),dt.getGripSpace()},this.getHand=function(ht){let dt=Te[ht];return dt===void 0&&(dt=new WebXRController,Te[ht]=dt),dt.getHandSpace()};function Ke(ht){const dt=Ae.indexOf(ht.inputSource);if(dt===-1)return;const Mt=Te[dt];Mt!==void 0&&(Mt.update(ht.inputSource,ht.frame,ce||oe),Mt.dispatchEvent({type:ht.type,data:ht.inputSource}))}function ot(){ne.removeEventListener("select",Ke),ne.removeEventListener("selectstart",Ke),ne.removeEventListener("selectend",Ke),ne.removeEventListener("squeeze",Ke),ne.removeEventListener("squeezestart",Ke),ne.removeEventListener("squeezeend",Ke),ne.removeEventListener("end",ot),ne.removeEventListener("inputsourceschange",ut);for(let ht=0;ht<Te.length;ht++){const dt=Ae[ht];dt!==null&&(Ae[ht]=null,Te[ht].disconnect(dt))}Ve=null,Ye=null,Ee.reset(),_.setRenderTarget(Se),ge=null,pe=null,me=null,ne=null,Re=null,Et.stop(),te.isPresenting=!1,_.setPixelRatio($e),_.setSize(Fe.width,Fe.height,!1),te.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ht){ie=ht,te.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ht){se=ht,te.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return ce||oe},this.setReferenceSpace=function(ht){ce=ht},this.getBaseLayer=function(){return pe!==null?pe:ge},this.getBinding=function(){return me},this.getFrame=function(){return ye},this.getSession=function(){return ne},this.setSession=async function(ht){if(ne=ht,ne!==null){if(Se=_.getRenderTarget(),ne.addEventListener("select",Ke),ne.addEventListener("selectstart",Ke),ne.addEventListener("selectend",Ke),ne.addEventListener("squeeze",Ke),ne.addEventListener("squeezestart",Ke),ne.addEventListener("squeezeend",Ke),ne.addEventListener("end",ot),ne.addEventListener("inputsourceschange",ut),_e.xrCompatible!==!0&&await K.makeXRCompatible(),$e=_.getPixelRatio(),_.getSize(Fe),ne.renderState.layers===void 0){const dt={antialias:_e.antialias,alpha:!0,depth:_e.depth,stencil:_e.stencil,framebufferScaleFactor:ie};ge=new XRWebGLLayer(ne,K,dt),ne.updateRenderState({baseLayer:ge}),_.setPixelRatio(1),_.setSize(ge.framebufferWidth,ge.framebufferHeight,!1),Re=new WebGLRenderTarget(ge.framebufferWidth,ge.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:_.outputColorSpace,stencilBuffer:_e.stencil})}else{let dt=null,Mt=null,Pt=null;_e.depth&&(Pt=_e.stencil?K.DEPTH24_STENCIL8:K.DEPTH_COMPONENT24,dt=_e.stencil?DepthStencilFormat:DepthFormat,Mt=_e.stencil?UnsignedInt248Type:UnsignedIntType);const Wt={colorFormat:K.RGBA8,depthFormat:Pt,scaleFactor:ie};me=new XRWebGLBinding(ne,K),pe=me.createProjectionLayer(Wt),ne.updateRenderState({layers:[pe]}),_.setPixelRatio(1),_.setSize(pe.textureWidth,pe.textureHeight,!1),Re=new WebGLRenderTarget(pe.textureWidth,pe.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(pe.textureWidth,pe.textureHeight,Mt,void 0,void 0,void 0,void 0,void 0,void 0,dt),stencilBuffer:_e.stencil,colorSpace:_.outputColorSpace,samples:_e.antialias?4:0,resolveDepthBuffer:pe.ignoreDepthValues===!1})}Re.isXRRenderTarget=!0,this.setFoveation(le),ce=null,oe=await ne.requestReferenceSpace(se),Et.setContext(ne),Et.start(),te.isPresenting=!0,te.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(ne!==null)return ne.environmentBlendMode},this.getDepthTexture=function(){return Ee.getDepthTexture()};function ut(ht){for(let dt=0;dt<ht.removed.length;dt++){const Mt=ht.removed[dt],Pt=Ae.indexOf(Mt);Pt>=0&&(Ae[Pt]=null,Te[Pt].disconnect(Mt))}for(let dt=0;dt<ht.added.length;dt++){const Mt=ht.added[dt];let Pt=Ae.indexOf(Mt);if(Pt===-1){for(let Qt=0;Qt<Te.length;Qt++)if(Qt>=Ae.length){Ae.push(Mt),Pt=Qt;break}else if(Ae[Qt]===null){Ae[Qt]=Mt,Pt=Qt;break}if(Pt===-1)break}const Wt=Te[Pt];Wt&&Wt.connect(Mt)}}const ct=new Vector3,gt=new Vector3;function je(ht,dt,Mt){ct.setFromMatrixPosition(dt.matrixWorld),gt.setFromMatrixPosition(Mt.matrixWorld);const Pt=ct.distanceTo(gt),Wt=dt.projectionMatrix.elements,Qt=Mt.projectionMatrix.elements,sn=Wt[14]/(Wt[10]-1),hn=Wt[14]/(Wt[10]+1),Dt=(Wt[9]+1)/Wt[5],Vt=(Wt[9]-1)/Wt[5],Ze=(Wt[8]-1)/Wt[0],on=(Qt[8]+1)/Qt[0],Xt=sn*Ze,an=sn*on,Yt=Pt/(-Ze+on),mn=Yt*-Ze;if(dt.matrixWorld.decompose(ht.position,ht.quaternion,ht.scale),ht.translateX(mn),ht.translateZ(Yt),ht.matrixWorld.compose(ht.position,ht.quaternion,ht.scale),ht.matrixWorldInverse.copy(ht.matrixWorld).invert(),Wt[10]===-1)ht.projectionMatrix.copy(dt.projectionMatrix),ht.projectionMatrixInverse.copy(dt.projectionMatrixInverse);else{const Jt=sn+Yt,Xe=hn+Yt,He=Xt-mn,tt=an+(Pt-mn),mt=Dt*hn/Xe*Jt,Nt=Vt*hn/Xe*Jt;ht.projectionMatrix.makePerspective(He,tt,mt,Nt,Jt,Xe),ht.projectionMatrixInverse.copy(ht.projectionMatrix).invert()}}function rt(ht,dt){dt===null?ht.matrixWorld.copy(ht.matrix):ht.matrixWorld.multiplyMatrices(dt.matrixWorld,ht.matrix),ht.matrixWorldInverse.copy(ht.matrixWorld).invert()}this.updateCamera=function(ht){if(ne===null)return;let dt=ht.near,Mt=ht.far;Ee.texture!==null&&(Ee.depthNear>0&&(dt=Ee.depthNear),Ee.depthFar>0&&(Mt=Ee.depthFar)),Oe.near=ze.near=ke.near=dt,Oe.far=ze.far=ke.far=Mt,(Ve!==Oe.near||Ye!==Oe.far)&&(ne.updateRenderState({depthNear:Oe.near,depthFar:Oe.far}),Ve=Oe.near,Ye=Oe.far),ke.layers.mask=ht.layers.mask|2,ze.layers.mask=ht.layers.mask|4,Oe.layers.mask=ke.layers.mask|ze.layers.mask;const Pt=ht.parent,Wt=Oe.cameras;rt(Oe,Pt);for(let Qt=0;Qt<Wt.length;Qt++)rt(Wt[Qt],Pt);Wt.length===2?je(Oe,ke,ze):Oe.projectionMatrix.copy(ke.projectionMatrix),Qe(ht,Oe,Pt)};function Qe(ht,dt,Mt){Mt===null?ht.matrix.copy(dt.matrixWorld):(ht.matrix.copy(Mt.matrixWorld),ht.matrix.invert(),ht.matrix.multiply(dt.matrixWorld)),ht.matrix.decompose(ht.position,ht.quaternion,ht.scale),ht.updateMatrixWorld(!0),ht.projectionMatrix.copy(dt.projectionMatrix),ht.projectionMatrixInverse.copy(dt.projectionMatrixInverse),ht.isPerspectiveCamera&&(ht.fov=RAD2DEG*2*Math.atan(1/ht.projectionMatrix.elements[5]),ht.zoom=1)}this.getCamera=function(){return Oe},this.getFoveation=function(){if(!(pe===null&&ge===null))return le},this.setFoveation=function(ht){le=ht,pe!==null&&(pe.fixedFoveation=ht),ge!==null&&ge.fixedFoveation!==void 0&&(ge.fixedFoveation=ht)},this.hasDepthSensing=function(){return Ee.texture!==null},this.getDepthSensingMesh=function(){return Ee.getMesh(Oe)};let qe=null;function lt(ht,dt){if(fe=dt.getViewerPose(ce||oe),ye=dt,fe!==null){const Mt=fe.views;ge!==null&&(_.setRenderTargetFramebuffer(Re,ge.framebuffer),_.setRenderTarget(Re));let Pt=!1;Mt.length!==Oe.cameras.length&&(Oe.cameras.length=0,Pt=!0);for(let Qt=0;Qt<Mt.length;Qt++){const sn=Mt[Qt];let hn=null;if(ge!==null)hn=ge.getViewport(sn);else{const Vt=me.getViewSubImage(pe,sn);hn=Vt.viewport,Qt===0&&(_.setRenderTargetTextures(Re,Vt.colorTexture,pe.ignoreDepthValues?void 0:Vt.depthStencilTexture),_.setRenderTarget(Re))}let Dt=Ue[Qt];Dt===void 0&&(Dt=new PerspectiveCamera$1,Dt.layers.enable(Qt),Dt.viewport=new Vector4,Ue[Qt]=Dt),Dt.matrix.fromArray(sn.transform.matrix),Dt.matrix.decompose(Dt.position,Dt.quaternion,Dt.scale),Dt.projectionMatrix.fromArray(sn.projectionMatrix),Dt.projectionMatrixInverse.copy(Dt.projectionMatrix).invert(),Dt.viewport.set(hn.x,hn.y,hn.width,hn.height),Qt===0&&(Oe.matrix.copy(Dt.matrix),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale)),Pt===!0&&Oe.cameras.push(Dt)}const Wt=ne.enabledFeatures;if(Wt&&Wt.includes("depth-sensing")){const Qt=me.getDepthInformation(Mt[0]);Qt&&Qt.isValid&&Qt.texture&&Ee.init(_,Qt,ne.renderState)}}for(let Mt=0;Mt<Te.length;Mt++){const Pt=Ae[Mt],Wt=Te[Mt];Pt!==null&&Wt!==void 0&&Wt.update(Pt,dt,ce||oe)}qe&&qe(ht,dt),dt.detectedPlanes&&te.dispatchEvent({type:"planesdetected",data:dt}),ye=null}const Et=new WebGLAnimation;Et.setAnimationLoop(lt),this.setAnimationLoop=function(ht){qe=ht},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(Z,_){function K(_e,Se){_e.matrixAutoUpdate===!0&&_e.updateMatrix(),Se.value.copy(_e.matrix)}function te(_e,Se){Se.color.getRGB(_e.fogColor.value,getUnlitUniformColorSpace(Z)),Se.isFog?(_e.fogNear.value=Se.near,_e.fogFar.value=Se.far):Se.isFogExp2&&(_e.fogDensity.value=Se.density)}function ne(_e,Se,Re,Te,Ae){Se.isMeshBasicMaterial||Se.isMeshLambertMaterial?ie(_e,Se):Se.isMeshToonMaterial?(ie(_e,Se),me(_e,Se)):Se.isMeshPhongMaterial?(ie(_e,Se),fe(_e,Se)):Se.isMeshStandardMaterial?(ie(_e,Se),pe(_e,Se),Se.isMeshPhysicalMaterial&&ge(_e,Se,Ae)):Se.isMeshMatcapMaterial?(ie(_e,Se),ye(_e,Se)):Se.isMeshDepthMaterial?ie(_e,Se):Se.isMeshDistanceMaterial?(ie(_e,Se),Ee(_e,Se)):Se.isMeshNormalMaterial?ie(_e,Se):Se.isLineBasicMaterial?(oe(_e,Se),Se.isLineDashedMaterial&&se(_e,Se)):Se.isPointsMaterial?le(_e,Se,Re,Te):Se.isSpriteMaterial?ce(_e,Se):Se.isShadowMaterial?(_e.color.value.copy(Se.color),_e.opacity.value=Se.opacity):Se.isShaderMaterial&&(Se.uniformsNeedUpdate=!1)}function ie(_e,Se){_e.opacity.value=Se.opacity,Se.color&&_e.diffuse.value.copy(Se.color),Se.emissive&&_e.emissive.value.copy(Se.emissive).multiplyScalar(Se.emissiveIntensity),Se.map&&(_e.map.value=Se.map,K(Se.map,_e.mapTransform)),Se.alphaMap&&(_e.alphaMap.value=Se.alphaMap,K(Se.alphaMap,_e.alphaMapTransform)),Se.bumpMap&&(_e.bumpMap.value=Se.bumpMap,K(Se.bumpMap,_e.bumpMapTransform),_e.bumpScale.value=Se.bumpScale,Se.side===BackSide&&(_e.bumpScale.value*=-1)),Se.normalMap&&(_e.normalMap.value=Se.normalMap,K(Se.normalMap,_e.normalMapTransform),_e.normalScale.value.copy(Se.normalScale),Se.side===BackSide&&_e.normalScale.value.negate()),Se.displacementMap&&(_e.displacementMap.value=Se.displacementMap,K(Se.displacementMap,_e.displacementMapTransform),_e.displacementScale.value=Se.displacementScale,_e.displacementBias.value=Se.displacementBias),Se.emissiveMap&&(_e.emissiveMap.value=Se.emissiveMap,K(Se.emissiveMap,_e.emissiveMapTransform)),Se.specularMap&&(_e.specularMap.value=Se.specularMap,K(Se.specularMap,_e.specularMapTransform)),Se.alphaTest>0&&(_e.alphaTest.value=Se.alphaTest);const Re=_.get(Se),Te=Re.envMap,Ae=Re.envMapRotation;Te&&(_e.envMap.value=Te,_e1.copy(Ae),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,Te.isCubeTexture&&Te.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),_e.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),_e.flipEnvMap.value=Te.isCubeTexture&&Te.isRenderTargetTexture===!1?-1:1,_e.reflectivity.value=Se.reflectivity,_e.ior.value=Se.ior,_e.refractionRatio.value=Se.refractionRatio),Se.lightMap&&(_e.lightMap.value=Se.lightMap,_e.lightMapIntensity.value=Se.lightMapIntensity,K(Se.lightMap,_e.lightMapTransform)),Se.aoMap&&(_e.aoMap.value=Se.aoMap,_e.aoMapIntensity.value=Se.aoMapIntensity,K(Se.aoMap,_e.aoMapTransform))}function oe(_e,Se){_e.diffuse.value.copy(Se.color),_e.opacity.value=Se.opacity,Se.map&&(_e.map.value=Se.map,K(Se.map,_e.mapTransform))}function se(_e,Se){_e.dashSize.value=Se.dashSize,_e.totalSize.value=Se.dashSize+Se.gapSize,_e.scale.value=Se.scale}function le(_e,Se,Re,Te){_e.diffuse.value.copy(Se.color),_e.opacity.value=Se.opacity,_e.size.value=Se.size*Re,_e.scale.value=Te*.5,Se.map&&(_e.map.value=Se.map,K(Se.map,_e.uvTransform)),Se.alphaMap&&(_e.alphaMap.value=Se.alphaMap,K(Se.alphaMap,_e.alphaMapTransform)),Se.alphaTest>0&&(_e.alphaTest.value=Se.alphaTest)}function ce(_e,Se){_e.diffuse.value.copy(Se.color),_e.opacity.value=Se.opacity,_e.rotation.value=Se.rotation,Se.map&&(_e.map.value=Se.map,K(Se.map,_e.mapTransform)),Se.alphaMap&&(_e.alphaMap.value=Se.alphaMap,K(Se.alphaMap,_e.alphaMapTransform)),Se.alphaTest>0&&(_e.alphaTest.value=Se.alphaTest)}function fe(_e,Se){_e.specular.value.copy(Se.specular),_e.shininess.value=Math.max(Se.shininess,1e-4)}function me(_e,Se){Se.gradientMap&&(_e.gradientMap.value=Se.gradientMap)}function pe(_e,Se){_e.metalness.value=Se.metalness,Se.metalnessMap&&(_e.metalnessMap.value=Se.metalnessMap,K(Se.metalnessMap,_e.metalnessMapTransform)),_e.roughness.value=Se.roughness,Se.roughnessMap&&(_e.roughnessMap.value=Se.roughnessMap,K(Se.roughnessMap,_e.roughnessMapTransform)),Se.envMap&&(_e.envMapIntensity.value=Se.envMapIntensity)}function ge(_e,Se,Re){_e.ior.value=Se.ior,Se.sheen>0&&(_e.sheenColor.value.copy(Se.sheenColor).multiplyScalar(Se.sheen),_e.sheenRoughness.value=Se.sheenRoughness,Se.sheenColorMap&&(_e.sheenColorMap.value=Se.sheenColorMap,K(Se.sheenColorMap,_e.sheenColorMapTransform)),Se.sheenRoughnessMap&&(_e.sheenRoughnessMap.value=Se.sheenRoughnessMap,K(Se.sheenRoughnessMap,_e.sheenRoughnessMapTransform))),Se.clearcoat>0&&(_e.clearcoat.value=Se.clearcoat,_e.clearcoatRoughness.value=Se.clearcoatRoughness,Se.clearcoatMap&&(_e.clearcoatMap.value=Se.clearcoatMap,K(Se.clearcoatMap,_e.clearcoatMapTransform)),Se.clearcoatRoughnessMap&&(_e.clearcoatRoughnessMap.value=Se.clearcoatRoughnessMap,K(Se.clearcoatRoughnessMap,_e.clearcoatRoughnessMapTransform)),Se.clearcoatNormalMap&&(_e.clearcoatNormalMap.value=Se.clearcoatNormalMap,K(Se.clearcoatNormalMap,_e.clearcoatNormalMapTransform),_e.clearcoatNormalScale.value.copy(Se.clearcoatNormalScale),Se.side===BackSide&&_e.clearcoatNormalScale.value.negate())),Se.dispersion>0&&(_e.dispersion.value=Se.dispersion),Se.iridescence>0&&(_e.iridescence.value=Se.iridescence,_e.iridescenceIOR.value=Se.iridescenceIOR,_e.iridescenceThicknessMinimum.value=Se.iridescenceThicknessRange[0],_e.iridescenceThicknessMaximum.value=Se.iridescenceThicknessRange[1],Se.iridescenceMap&&(_e.iridescenceMap.value=Se.iridescenceMap,K(Se.iridescenceMap,_e.iridescenceMapTransform)),Se.iridescenceThicknessMap&&(_e.iridescenceThicknessMap.value=Se.iridescenceThicknessMap,K(Se.iridescenceThicknessMap,_e.iridescenceThicknessMapTransform))),Se.transmission>0&&(_e.transmission.value=Se.transmission,_e.transmissionSamplerMap.value=Re.texture,_e.transmissionSamplerSize.value.set(Re.width,Re.height),Se.transmissionMap&&(_e.transmissionMap.value=Se.transmissionMap,K(Se.transmissionMap,_e.transmissionMapTransform)),_e.thickness.value=Se.thickness,Se.thicknessMap&&(_e.thicknessMap.value=Se.thicknessMap,K(Se.thicknessMap,_e.thicknessMapTransform)),_e.attenuationDistance.value=Se.attenuationDistance,_e.attenuationColor.value.copy(Se.attenuationColor)),Se.anisotropy>0&&(_e.anisotropyVector.value.set(Se.anisotropy*Math.cos(Se.anisotropyRotation),Se.anisotropy*Math.sin(Se.anisotropyRotation)),Se.anisotropyMap&&(_e.anisotropyMap.value=Se.anisotropyMap,K(Se.anisotropyMap,_e.anisotropyMapTransform))),_e.specularIntensity.value=Se.specularIntensity,_e.specularColor.value.copy(Se.specularColor),Se.specularColorMap&&(_e.specularColorMap.value=Se.specularColorMap,K(Se.specularColorMap,_e.specularColorMapTransform)),Se.specularIntensityMap&&(_e.specularIntensityMap.value=Se.specularIntensityMap,K(Se.specularIntensityMap,_e.specularIntensityMapTransform))}function ye(_e,Se){Se.matcap&&(_e.matcap.value=Se.matcap)}function Ee(_e,Se){const Re=_.get(Se).light;_e.referencePosition.value.setFromMatrixPosition(Re.matrixWorld),_e.nearDistance.value=Re.shadow.camera.near,_e.farDistance.value=Re.shadow.camera.far}return{refreshFogUniforms:te,refreshMaterialUniforms:ne}}function WebGLUniformsGroups(Z,_,K,te){let ne={},ie={},oe=[];const se=Z.getParameter(Z.MAX_UNIFORM_BUFFER_BINDINGS);function le(Re,Te){const Ae=Te.program;te.uniformBlockBinding(Re,Ae)}function ce(Re,Te){let Ae=ne[Re.id];Ae===void 0&&(ye(Re),Ae=fe(Re),ne[Re.id]=Ae,Re.addEventListener("dispose",_e));const Fe=Te.program;te.updateUBOMapping(Re,Fe);const $e=_.render.frame;ie[Re.id]!==$e&&(pe(Re),ie[Re.id]=$e)}function fe(Re){const Te=me();Re.__bindingPointIndex=Te;const Ae=Z.createBuffer(),Fe=Re.__size,$e=Re.usage;return Z.bindBuffer(Z.UNIFORM_BUFFER,Ae),Z.bufferData(Z.UNIFORM_BUFFER,Fe,$e),Z.bindBuffer(Z.UNIFORM_BUFFER,null),Z.bindBufferBase(Z.UNIFORM_BUFFER,Te,Ae),Ae}function me(){for(let Re=0;Re<se;Re++)if(oe.indexOf(Re)===-1)return oe.push(Re),Re;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function pe(Re){const Te=ne[Re.id],Ae=Re.uniforms,Fe=Re.__cache;Z.bindBuffer(Z.UNIFORM_BUFFER,Te);for(let $e=0,ke=Ae.length;$e<ke;$e++){const ze=Array.isArray(Ae[$e])?Ae[$e]:[Ae[$e]];for(let Ue=0,Oe=ze.length;Ue<Oe;Ue++){const Ve=ze[Ue];if(ge(Ve,$e,Ue,Fe)===!0){const Ye=Ve.__offset,Ke=Array.isArray(Ve.value)?Ve.value:[Ve.value];let ot=0;for(let ut=0;ut<Ke.length;ut++){const ct=Ke[ut],gt=Ee(ct);typeof ct=="number"||typeof ct=="boolean"?(Ve.__data[0]=ct,Z.bufferSubData(Z.UNIFORM_BUFFER,Ye+ot,Ve.__data)):ct.isMatrix3?(Ve.__data[0]=ct.elements[0],Ve.__data[1]=ct.elements[1],Ve.__data[2]=ct.elements[2],Ve.__data[3]=0,Ve.__data[4]=ct.elements[3],Ve.__data[5]=ct.elements[4],Ve.__data[6]=ct.elements[5],Ve.__data[7]=0,Ve.__data[8]=ct.elements[6],Ve.__data[9]=ct.elements[7],Ve.__data[10]=ct.elements[8],Ve.__data[11]=0):(ct.toArray(Ve.__data,ot),ot+=gt.storage/Float32Array.BYTES_PER_ELEMENT)}Z.bufferSubData(Z.UNIFORM_BUFFER,Ye,Ve.__data)}}}Z.bindBuffer(Z.UNIFORM_BUFFER,null)}function ge(Re,Te,Ae,Fe){const $e=Re.value,ke=Te+"_"+Ae;if(Fe[ke]===void 0)return typeof $e=="number"||typeof $e=="boolean"?Fe[ke]=$e:Fe[ke]=$e.clone(),!0;{const ze=Fe[ke];if(typeof $e=="number"||typeof $e=="boolean"){if(ze!==$e)return Fe[ke]=$e,!0}else if(ze.equals($e)===!1)return ze.copy($e),!0}return!1}function ye(Re){const Te=Re.uniforms;let Ae=0;const Fe=16;for(let ke=0,ze=Te.length;ke<ze;ke++){const Ue=Array.isArray(Te[ke])?Te[ke]:[Te[ke]];for(let Oe=0,Ve=Ue.length;Oe<Ve;Oe++){const Ye=Ue[Oe],Ke=Array.isArray(Ye.value)?Ye.value:[Ye.value];for(let ot=0,ut=Ke.length;ot<ut;ot++){const ct=Ke[ot],gt=Ee(ct),je=Ae%Fe,rt=je%gt.boundary,Qe=je+rt;Ae+=rt,Qe!==0&&Fe-Qe<gt.storage&&(Ae+=Fe-Qe),Ye.__data=new Float32Array(gt.storage/Float32Array.BYTES_PER_ELEMENT),Ye.__offset=Ae,Ae+=gt.storage}}}const $e=Ae%Fe;return $e>0&&(Ae+=Fe-$e),Re.__size=Ae,Re.__cache={},this}function Ee(Re){const Te={boundary:0,storage:0};return typeof Re=="number"||typeof Re=="boolean"?(Te.boundary=4,Te.storage=4):Re.isVector2?(Te.boundary=8,Te.storage=8):Re.isVector3||Re.isColor?(Te.boundary=16,Te.storage=12):Re.isVector4?(Te.boundary=16,Te.storage=16):Re.isMatrix3?(Te.boundary=48,Te.storage=48):Re.isMatrix4?(Te.boundary=64,Te.storage=64):Re.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Re),Te}function _e(Re){const Te=Re.target;Te.removeEventListener("dispose",_e);const Ae=oe.indexOf(Te.__bindingPointIndex);oe.splice(Ae,1),Z.deleteBuffer(ne[Te.id]),delete ne[Te.id],delete ie[Te.id]}function Se(){for(const Re in ne)Z.deleteBuffer(ne[Re]);oe=[],ne={},ie={}}return{bind:le,update:ce,dispose:Se}}class WebGLRenderer{constructor(_={}){const{canvas:K=createCanvasElement(),context:te=null,depth:ne=!0,stencil:ie=!1,alpha:oe=!1,antialias:se=!1,premultipliedAlpha:le=!0,preserveDrawingBuffer:ce=!1,powerPreference:fe="default",failIfMajorPerformanceCaveat:me=!1,reverseDepthBuffer:pe=!1}=_;this.isWebGLRenderer=!0;let ge;if(te!==null){if(typeof WebGLRenderingContext<"u"&&te instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");ge=te.getContextAttributes().alpha}else ge=oe;const ye=new Uint32Array(4),Ee=new Int32Array(4);let _e=null,Se=null;const Re=[],Te=[];this.domElement=K,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const Ae=this;let Fe=!1,$e=0,ke=0,ze=null,Ue=-1,Oe=null;const Ve=new Vector4,Ye=new Vector4;let Ke=null;const ot=new Color$1(0);let ut=0,ct=K.width,gt=K.height,je=1,rt=null,Qe=null;const qe=new Vector4(0,0,ct,gt),lt=new Vector4(0,0,ct,gt);let Et=!1;const ht=new Frustum;let dt=!1,Mt=!1;const Pt=new Matrix4,Wt=new Matrix4,Qt=new Vector3,sn=new Vector4,hn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Dt=!1;function Vt(){return ze===null?je:1}let Ze=te;function on(We,xt){return K.getContext(We,xt)}try{const We={alpha:!0,depth:ne,stencil:ie,antialias:se,premultipliedAlpha:le,preserveDrawingBuffer:ce,powerPreference:fe,failIfMajorPerformanceCaveat:me};if("setAttribute"in K&&K.setAttribute("data-engine",`three.js r${REVISION}`),K.addEventListener("webglcontextlost",zt,!1),K.addEventListener("webglcontextrestored",yn,!1),K.addEventListener("webglcontextcreationerror",gn,!1),Ze===null){const xt="webgl2";if(Ze=on(xt,We),Ze===null)throw on(xt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(We){throw console.error("THREE.WebGLRenderer: "+We.message),We}let Xt,an,Yt,mn,Jt,Xe,He,tt,mt,Nt,_t,jt,Ot,qt,Sn,Ht,Tt,Ft,pn,cn,at,Ut,un,st;function Kt(){Xt=new WebGLExtensions(Ze),Xt.init(),Ut=new WebGLUtils(Ze,Xt),an=new WebGLCapabilities(Ze,Xt,_,Ut),Yt=new WebGLState(Ze,Xt),an.reverseDepthBuffer&&pe&&Yt.buffers.depth.setReversed(!0),mn=new WebGLInfo(Ze),Jt=new WebGLProperties,Xe=new WebGLTextures(Ze,Xt,Yt,Jt,an,Ut,mn),He=new WebGLCubeMaps(Ae),tt=new WebGLCubeUVMaps(Ae),mt=new WebGLAttributes(Ze),un=new WebGLBindingStates(Ze,mt),Nt=new WebGLGeometries(Ze,mt,mn,un),_t=new WebGLObjects(Ze,Nt,mt,mn),pn=new WebGLMorphtargets(Ze,an,Xe),Ht=new WebGLClipping(Jt),jt=new WebGLPrograms(Ae,He,tt,Xt,an,un,Ht),Ot=new WebGLMaterials(Ae,Jt),qt=new WebGLRenderLists,Sn=new WebGLRenderStates(Xt),Ft=new WebGLBackground(Ae,He,tt,Yt,_t,ge,le),Tt=new WebGLShadowMap(Ae,_t,an),st=new WebGLUniformsGroups(Ze,mn,an,Yt),cn=new WebGLBufferRenderer(Ze,Xt,mn),at=new WebGLIndexedBufferRenderer(Ze,Xt,mn),mn.programs=jt.programs,Ae.capabilities=an,Ae.extensions=Xt,Ae.properties=Jt,Ae.renderLists=qt,Ae.shadowMap=Tt,Ae.state=Yt,Ae.info=mn}Kt();const At=new WebXRManager(Ae,Ze);this.xr=At,this.getContext=function(){return Ze},this.getContextAttributes=function(){return Ze.getContextAttributes()},this.forceContextLoss=function(){const We=Xt.get("WEBGL_lose_context");We&&We.loseContext()},this.forceContextRestore=function(){const We=Xt.get("WEBGL_lose_context");We&&We.restoreContext()},this.getPixelRatio=function(){return je},this.setPixelRatio=function(We){We!==void 0&&(je=We,this.setSize(ct,gt,!1))},this.getSize=function(We){return We.set(ct,gt)},this.setSize=function(We,xt,It=!0){if(At.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ct=We,gt=xt,K.width=Math.floor(We*je),K.height=Math.floor(xt*je),It===!0&&(K.style.width=We+"px",K.style.height=xt+"px"),this.setViewport(0,0,We,xt)},this.getDrawingBufferSize=function(We){return We.set(ct*je,gt*je).floor()},this.setDrawingBufferSize=function(We,xt,It){ct=We,gt=xt,je=It,K.width=Math.floor(We*It),K.height=Math.floor(xt*It),this.setViewport(0,0,We,xt)},this.getCurrentViewport=function(We){return We.copy(Ve)},this.getViewport=function(We){return We.copy(qe)},this.setViewport=function(We,xt,It,Lt){We.isVector4?qe.set(We.x,We.y,We.z,We.w):qe.set(We,xt,It,Lt),Yt.viewport(Ve.copy(qe).multiplyScalar(je).round())},this.getScissor=function(We){return We.copy(lt)},this.setScissor=function(We,xt,It,Lt){We.isVector4?lt.set(We.x,We.y,We.z,We.w):lt.set(We,xt,It,Lt),Yt.scissor(Ye.copy(lt).multiplyScalar(je).round())},this.getScissorTest=function(){return Et},this.setScissorTest=function(We){Yt.setScissorTest(Et=We)},this.setOpaqueSort=function(We){rt=We},this.setTransparentSort=function(We){Qe=We},this.getClearColor=function(We){return We.copy(Ft.getClearColor())},this.setClearColor=function(){Ft.setClearColor.apply(Ft,arguments)},this.getClearAlpha=function(){return Ft.getClearAlpha()},this.setClearAlpha=function(){Ft.setClearAlpha.apply(Ft,arguments)},this.clear=function(We=!0,xt=!0,It=!0){let Lt=0;if(We){let pt=!1;if(ze!==null){const tn=ze.texture.format;pt=tn===RGBAIntegerFormat||tn===RGIntegerFormat||tn===RedIntegerFormat}if(pt){const tn=ze.texture.type,vn=tn===UnsignedByteType||tn===UnsignedIntType||tn===UnsignedShortType||tn===UnsignedInt248Type||tn===UnsignedShort4444Type||tn===UnsignedShort5551Type,_n=Ft.getClearColor(),wn=Ft.getClearAlpha(),Un=_n.r,Nn=_n.g,Tn=_n.b;vn?(ye[0]=Un,ye[1]=Nn,ye[2]=Tn,ye[3]=wn,Ze.clearBufferuiv(Ze.COLOR,0,ye)):(Ee[0]=Un,Ee[1]=Nn,Ee[2]=Tn,Ee[3]=wn,Ze.clearBufferiv(Ze.COLOR,0,Ee))}else Lt|=Ze.COLOR_BUFFER_BIT}xt&&(Lt|=Ze.DEPTH_BUFFER_BIT),It&&(Lt|=Ze.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ze.clear(Lt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){K.removeEventListener("webglcontextlost",zt,!1),K.removeEventListener("webglcontextrestored",yn,!1),K.removeEventListener("webglcontextcreationerror",gn,!1),Ft.dispose(),qt.dispose(),Sn.dispose(),Jt.dispose(),He.dispose(),tt.dispose(),_t.dispose(),un.dispose(),st.dispose(),jt.dispose(),At.dispose(),At.removeEventListener("sessionstart",_o),At.removeEventListener("sessionend",Fr),Ai.stop()};function zt(We){We.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Fe=!0}function yn(){console.log("THREE.WebGLRenderer: Context Restored."),Fe=!1;const We=mn.autoReset,xt=Tt.enabled,It=Tt.autoUpdate,Lt=Tt.needsUpdate,pt=Tt.type;Kt(),mn.autoReset=We,Tt.enabled=xt,Tt.autoUpdate=It,Tt.needsUpdate=Lt,Tt.type=pt}function gn(We){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",We.statusMessage)}function Dn(We){const xt=We.target;xt.removeEventListener("dispose",Dn),tr(xt)}function tr(We){cr(We),Jt.remove(We)}function cr(We){const xt=Jt.get(We).programs;xt!==void 0&&(xt.forEach(function(It){jt.releaseProgram(It)}),We.isShaderMaterial&&jt.releaseShaderCache(We))}this.renderBufferDirect=function(We,xt,It,Lt,pt,tn){xt===null&&(xt=hn);const vn=pt.isMesh&&pt.matrixWorld.determinant()<0,_n=js(We,xt,It,Lt,pt);Yt.setMaterial(Lt,vn);let wn=It.index,Un=1;if(Lt.wireframe===!0){if(wn=Nt.getWireframeAttribute(It),wn===void 0)return;Un=2}const Nn=It.drawRange,Tn=It.attributes.position;let bn=Nn.start*Un,Ln=(Nn.start+Nn.count)*Un;tn!==null&&(bn=Math.max(bn,tn.start*Un),Ln=Math.min(Ln,(tn.start+tn.count)*Un)),wn!==null?(bn=Math.max(bn,0),Ln=Math.min(Ln,wn.count)):Tn!=null&&(bn=Math.max(bn,0),Ln=Math.min(Ln,Tn.count));const Kn=Ln-bn;if(Kn<0||Kn===1/0)return;un.setup(pt,Lt,_n,It,wn);let Zn,Gn=cn;if(wn!==null&&(Zn=mt.get(wn),Gn=at,Gn.setIndex(Zn)),pt.isMesh)Lt.wireframe===!0?(Yt.setLineWidth(Lt.wireframeLinewidth*Vt()),Gn.setMode(Ze.LINES)):Gn.setMode(Ze.TRIANGLES);else if(pt.isLine){let Pn=Lt.linewidth;Pn===void 0&&(Pn=1),Yt.setLineWidth(Pn*Vt()),pt.isLineSegments?Gn.setMode(Ze.LINES):pt.isLineLoop?Gn.setMode(Ze.LINE_LOOP):Gn.setMode(Ze.LINE_STRIP)}else pt.isPoints?Gn.setMode(Ze.POINTS):pt.isSprite&&Gn.setMode(Ze.TRIANGLES);if(pt.isBatchedMesh)if(pt._multiDrawInstances!==null)Gn.renderMultiDrawInstances(pt._multiDrawStarts,pt._multiDrawCounts,pt._multiDrawCount,pt._multiDrawInstances);else if(Xt.get("WEBGL_multi_draw"))Gn.renderMultiDraw(pt._multiDrawStarts,pt._multiDrawCounts,pt._multiDrawCount);else{const Pn=pt._multiDrawStarts,ur=pt._multiDrawCounts,Bn=pt._multiDrawCount,Rr=wn?mt.get(wn).bytesPerElement:1,xi=Jt.get(Lt).currentProgram.getUniforms();for(let zr=0;zr<Bn;zr++)xi.setValue(Ze,"_gl_DrawID",zr),Gn.render(Pn[zr]/Rr,ur[zr])}else if(pt.isInstancedMesh)Gn.renderInstances(bn,Kn,pt.count);else if(It.isInstancedBufferGeometry){const Pn=It._maxInstanceCount!==void 0?It._maxInstanceCount:1/0,ur=Math.min(It.instanceCount,Pn);Gn.renderInstances(bn,Kn,ur)}else Gn.render(bn,Kn)};function qn(We,xt,It){We.transparent===!0&&We.side===DoubleSide&&We.forceSinglePass===!1?(We.side=BackSide,We.needsUpdate=!0,So(We,xt,It),We.side=FrontSide,We.needsUpdate=!0,So(We,xt,It),We.side=DoubleSide):So(We,xt,It)}this.compile=function(We,xt,It=null){It===null&&(It=We),Se=Sn.get(It),Se.init(xt),Te.push(Se),It.traverseVisible(function(pt){pt.isLight&&pt.layers.test(xt.layers)&&(Se.pushLight(pt),pt.castShadow&&Se.pushShadow(pt))}),We!==It&&We.traverseVisible(function(pt){pt.isLight&&pt.layers.test(xt.layers)&&(Se.pushLight(pt),pt.castShadow&&Se.pushShadow(pt))}),Se.setupLights();const Lt=new Set;return We.traverse(function(pt){if(!(pt.isMesh||pt.isPoints||pt.isLine||pt.isSprite))return;const tn=pt.material;if(tn)if(Array.isArray(tn))for(let vn=0;vn<tn.length;vn++){const _n=tn[vn];qn(_n,It,pt),Lt.add(_n)}else qn(tn,It,pt),Lt.add(tn)}),Te.pop(),Se=null,Lt},this.compileAsync=function(We,xt,It=null){const Lt=this.compile(We,xt,It);return new Promise(pt=>{function tn(){if(Lt.forEach(function(vn){Jt.get(vn).currentProgram.isReady()&&Lt.delete(vn)}),Lt.size===0){pt(We);return}setTimeout(tn,10)}Xt.get("KHR_parallel_shader_compile")!==null?tn():setTimeout(tn,10)})};let Sr=null;function hr(We){Sr&&Sr(We)}function _o(){Ai.stop()}function Fr(){Ai.start()}const Ai=new WebGLAnimation;Ai.setAnimationLoop(hr),typeof self<"u"&&Ai.setContext(self),this.setAnimationLoop=function(We){Sr=We,At.setAnimationLoop(We),We===null?Ai.stop():Ai.start()},At.addEventListener("sessionstart",_o),At.addEventListener("sessionend",Fr),this.render=function(We,xt){if(xt!==void 0&&xt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Fe===!0)return;if(We.matrixWorldAutoUpdate===!0&&We.updateMatrixWorld(),xt.parent===null&&xt.matrixWorldAutoUpdate===!0&&xt.updateMatrixWorld(),At.enabled===!0&&At.isPresenting===!0&&(At.cameraAutoUpdate===!0&&At.updateCamera(xt),xt=At.getCamera()),We.isScene===!0&&We.onBeforeRender(Ae,We,xt,ze),Se=Sn.get(We,Te.length),Se.init(xt),Te.push(Se),Wt.multiplyMatrices(xt.projectionMatrix,xt.matrixWorldInverse),ht.setFromProjectionMatrix(Wt),Mt=this.localClippingEnabled,dt=Ht.init(this.clippingPlanes,Mt),_e=qt.get(We,Re.length),_e.init(),Re.push(_e),At.enabled===!0&&At.isPresenting===!0){const tn=Ae.xr.getDepthSensingMesh();tn!==null&&vi(tn,xt,-1/0,Ae.sortObjects)}vi(We,xt,0,Ae.sortObjects),_e.finish(),Ae.sortObjects===!0&&_e.sort(rt,Qe),Dt=At.enabled===!1||At.isPresenting===!1||At.hasDepthSensing()===!1,Dt&&Ft.addToRenderList(_e,We),this.info.render.frame++,dt===!0&&Ht.beginShadows();const It=Se.state.shadowsArray;Tt.render(It,We,xt),dt===!0&&Ht.endShadows(),this.info.autoReset===!0&&this.info.reset();const Lt=_e.opaque,pt=_e.transmissive;if(Se.setupLights(),xt.isArrayCamera){const tn=xt.cameras;if(pt.length>0)for(let vn=0,_n=tn.length;vn<_n;vn++){const wn=tn[vn];yi(Lt,pt,We,wn)}Dt&&Ft.render(We);for(let vn=0,_n=tn.length;vn<_n;vn++){const wn=tn[vn];co(_e,We,wn,wn.viewport)}}else pt.length>0&&yi(Lt,pt,We,xt),Dt&&Ft.render(We),co(_e,We,xt);ze!==null&&(Xe.updateMultisampleRenderTarget(ze),Xe.updateRenderTargetMipmap(ze)),We.isScene===!0&&We.onAfterRender(Ae,We,xt),un.resetDefaultState(),Ue=-1,Oe=null,Te.pop(),Te.length>0?(Se=Te[Te.length-1],dt===!0&&Ht.setGlobalState(Ae.clippingPlanes,Se.state.camera)):Se=null,Re.pop(),Re.length>0?_e=Re[Re.length-1]:_e=null};function vi(We,xt,It,Lt){if(We.visible===!1)return;if(We.layers.test(xt.layers)){if(We.isGroup)It=We.renderOrder;else if(We.isLOD)We.autoUpdate===!0&&We.update(xt);else if(We.isLight)Se.pushLight(We),We.castShadow&&Se.pushShadow(We);else if(We.isSprite){if(!We.frustumCulled||ht.intersectsSprite(We)){Lt&&sn.setFromMatrixPosition(We.matrixWorld).applyMatrix4(Wt);const vn=_t.update(We),_n=We.material;_n.visible&&_e.push(We,vn,_n,It,sn.z,null)}}else if((We.isMesh||We.isLine||We.isPoints)&&(!We.frustumCulled||ht.intersectsObject(We))){const vn=_t.update(We),_n=We.material;if(Lt&&(We.boundingSphere!==void 0?(We.boundingSphere===null&&We.computeBoundingSphere(),sn.copy(We.boundingSphere.center)):(vn.boundingSphere===null&&vn.computeBoundingSphere(),sn.copy(vn.boundingSphere.center)),sn.applyMatrix4(We.matrixWorld).applyMatrix4(Wt)),Array.isArray(_n)){const wn=vn.groups;for(let Un=0,Nn=wn.length;Un<Nn;Un++){const Tn=wn[Un],bn=_n[Tn.materialIndex];bn&&bn.visible&&_e.push(We,vn,bn,It,sn.z,Tn)}}else _n.visible&&_e.push(We,vn,_n,It,sn.z,null)}}const tn=We.children;for(let vn=0,_n=tn.length;vn<_n;vn++)vi(tn[vn],xt,It,Lt)}function co(We,xt,It,Lt){const pt=We.opaque,tn=We.transmissive,vn=We.transparent;Se.setupLightsView(It),dt===!0&&Ht.setGlobalState(Ae.clippingPlanes,It),Lt&&Yt.viewport(Ve.copy(Lt)),pt.length>0&&Qi(pt,xt,It),tn.length>0&&Qi(tn,xt,It),vn.length>0&&Qi(vn,xt,It),Yt.buffers.depth.setTest(!0),Yt.buffers.depth.setMask(!0),Yt.buffers.color.setMask(!0),Yt.setPolygonOffset(!1)}function yi(We,xt,It,Lt){if((It.isScene===!0?It.overrideMaterial:null)!==null)return;Se.state.transmissionRenderTarget[Lt.id]===void 0&&(Se.state.transmissionRenderTarget[Lt.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Xt.has("EXT_color_buffer_half_float")||Xt.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:ie,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const tn=Se.state.transmissionRenderTarget[Lt.id],vn=Lt.viewport||Ve;tn.setSize(vn.z,vn.w);const _n=Ae.getRenderTarget();Ae.setRenderTarget(tn),Ae.getClearColor(ot),ut=Ae.getClearAlpha(),ut<1&&Ae.setClearColor(16777215,.5),Ae.clear(),Dt&&Ft.render(It);const wn=Ae.toneMapping;Ae.toneMapping=NoToneMapping;const Un=Lt.viewport;if(Lt.viewport!==void 0&&(Lt.viewport=void 0),Se.setupLightsView(Lt),dt===!0&&Ht.setGlobalState(Ae.clippingPlanes,Lt),Qi(We,It,Lt),Xe.updateMultisampleRenderTarget(tn),Xe.updateRenderTargetMipmap(tn),Xt.has("WEBGL_multisampled_render_to_texture")===!1){let Nn=!1;for(let Tn=0,bn=xt.length;Tn<bn;Tn++){const Ln=xt[Tn],Kn=Ln.object,Zn=Ln.geometry,Gn=Ln.material,Pn=Ln.group;if(Gn.side===DoubleSide&&Kn.layers.test(Lt.layers)){const ur=Gn.side;Gn.side=BackSide,Gn.needsUpdate=!0,fs(Kn,It,Lt,Zn,Gn,Pn),Gn.side=ur,Gn.needsUpdate=!0,Nn=!0}}Nn===!0&&(Xe.updateMultisampleRenderTarget(tn),Xe.updateRenderTargetMipmap(tn))}Ae.setRenderTarget(_n),Ae.setClearColor(ot,ut),Un!==void 0&&(Lt.viewport=Un),Ae.toneMapping=wn}function Qi(We,xt,It){const Lt=xt.isScene===!0?xt.overrideMaterial:null;for(let pt=0,tn=We.length;pt<tn;pt++){const vn=We[pt],_n=vn.object,wn=vn.geometry,Un=Lt===null?vn.material:Lt,Nn=vn.group;_n.layers.test(It.layers)&&fs(_n,xt,It,wn,Un,Nn)}}function fs(We,xt,It,Lt,pt,tn){We.onBeforeRender(Ae,xt,It,Lt,pt,tn),We.modelViewMatrix.multiplyMatrices(It.matrixWorldInverse,We.matrixWorld),We.normalMatrix.getNormalMatrix(We.modelViewMatrix),pt.onBeforeRender(Ae,xt,It,Lt,We,tn),pt.transparent===!0&&pt.side===DoubleSide&&pt.forceSinglePass===!1?(pt.side=BackSide,pt.needsUpdate=!0,Ae.renderBufferDirect(It,xt,Lt,pt,We,tn),pt.side=FrontSide,pt.needsUpdate=!0,Ae.renderBufferDirect(It,xt,Lt,pt,We,tn),pt.side=DoubleSide):Ae.renderBufferDirect(It,xt,Lt,pt,We,tn),We.onAfterRender(Ae,xt,It,Lt,pt,tn)}function So(We,xt,It){xt.isScene!==!0&&(xt=hn);const Lt=Jt.get(We),pt=Se.state.lights,tn=Se.state.shadowsArray,vn=pt.state.version,_n=jt.getParameters(We,pt.state,tn,xt,It),wn=jt.getProgramCacheKey(_n);let Un=Lt.programs;Lt.environment=We.isMeshStandardMaterial?xt.environment:null,Lt.fog=xt.fog,Lt.envMap=(We.isMeshStandardMaterial?tt:He).get(We.envMap||Lt.environment),Lt.envMapRotation=Lt.environment!==null&&We.envMap===null?xt.environmentRotation:We.envMapRotation,Un===void 0&&(We.addEventListener("dispose",Dn),Un=new Map,Lt.programs=Un);let Nn=Un.get(wn);if(Nn!==void 0){if(Lt.currentProgram===Nn&&Lt.lightsStateVersion===vn)return Ui(We,_n),Nn}else _n.uniforms=jt.getUniforms(We),We.onBeforeCompile(_n,Ae),Nn=jt.acquireProgram(_n,wn),Un.set(wn,Nn),Lt.uniforms=_n.uniforms;const Tn=Lt.uniforms;return(!We.isShaderMaterial&&!We.isRawShaderMaterial||We.clipping===!0)&&(Tn.clippingPlanes=Ht.uniform),Ui(We,_n),Lt.needsLights=ds(We),Lt.lightsStateVersion=vn,Lt.needsLights&&(Tn.ambientLightColor.value=pt.state.ambient,Tn.lightProbe.value=pt.state.probe,Tn.directionalLights.value=pt.state.directional,Tn.directionalLightShadows.value=pt.state.directionalShadow,Tn.spotLights.value=pt.state.spot,Tn.spotLightShadows.value=pt.state.spotShadow,Tn.rectAreaLights.value=pt.state.rectArea,Tn.ltc_1.value=pt.state.rectAreaLTC1,Tn.ltc_2.value=pt.state.rectAreaLTC2,Tn.pointLights.value=pt.state.point,Tn.pointLightShadows.value=pt.state.pointShadow,Tn.hemisphereLights.value=pt.state.hemi,Tn.directionalShadowMap.value=pt.state.directionalShadowMap,Tn.directionalShadowMatrix.value=pt.state.directionalShadowMatrix,Tn.spotShadowMap.value=pt.state.spotShadowMap,Tn.spotLightMatrix.value=pt.state.spotLightMatrix,Tn.spotLightMap.value=pt.state.spotLightMap,Tn.pointShadowMap.value=pt.state.pointShadowMap,Tn.pointShadowMatrix.value=pt.state.pointShadowMatrix),Lt.currentProgram=Nn,Lt.uniformsList=null,Nn}function Ws(We){if(We.uniformsList===null){const xt=We.currentProgram.getUniforms();We.uniformsList=WebGLUniforms.seqWithValue(xt.seq,We.uniforms)}return We.uniformsList}function Ui(We,xt){const It=Jt.get(We);It.outputColorSpace=xt.outputColorSpace,It.batching=xt.batching,It.batchingColor=xt.batchingColor,It.instancing=xt.instancing,It.instancingColor=xt.instancingColor,It.instancingMorph=xt.instancingMorph,It.skinning=xt.skinning,It.morphTargets=xt.morphTargets,It.morphNormals=xt.morphNormals,It.morphColors=xt.morphColors,It.morphTargetsCount=xt.morphTargetsCount,It.numClippingPlanes=xt.numClippingPlanes,It.numIntersection=xt.numClipIntersection,It.vertexAlphas=xt.vertexAlphas,It.vertexTangents=xt.vertexTangents,It.toneMapping=xt.toneMapping}function js(We,xt,It,Lt,pt){xt.isScene!==!0&&(xt=hn),Xe.resetTextureUnits();const tn=xt.fog,vn=Lt.isMeshStandardMaterial?xt.environment:null,_n=ze===null?Ae.outputColorSpace:ze.isXRRenderTarget===!0?ze.texture.colorSpace:LinearSRGBColorSpace,wn=(Lt.isMeshStandardMaterial?tt:He).get(Lt.envMap||vn),Un=Lt.vertexColors===!0&&!!It.attributes.color&&It.attributes.color.itemSize===4,Nn=!!It.attributes.tangent&&(!!Lt.normalMap||Lt.anisotropy>0),Tn=!!It.morphAttributes.position,bn=!!It.morphAttributes.normal,Ln=!!It.morphAttributes.color;let Kn=NoToneMapping;Lt.toneMapped&&(ze===null||ze.isXRRenderTarget===!0)&&(Kn=Ae.toneMapping);const Zn=It.morphAttributes.position||It.morphAttributes.normal||It.morphAttributes.color,Gn=Zn!==void 0?Zn.length:0,Pn=Jt.get(Lt),ur=Se.state.lights;if(dt===!0&&(Mt===!0||We!==Oe)){const wr=We===Oe&&Lt.id===Ue;Ht.setState(Lt,We,wr)}let Bn=!1;Lt.version===Pn.__version?(Pn.needsLights&&Pn.lightsStateVersion!==ur.state.version||Pn.outputColorSpace!==_n||pt.isBatchedMesh&&Pn.batching===!1||!pt.isBatchedMesh&&Pn.batching===!0||pt.isBatchedMesh&&Pn.batchingColor===!0&&pt.colorTexture===null||pt.isBatchedMesh&&Pn.batchingColor===!1&&pt.colorTexture!==null||pt.isInstancedMesh&&Pn.instancing===!1||!pt.isInstancedMesh&&Pn.instancing===!0||pt.isSkinnedMesh&&Pn.skinning===!1||!pt.isSkinnedMesh&&Pn.skinning===!0||pt.isInstancedMesh&&Pn.instancingColor===!0&&pt.instanceColor===null||pt.isInstancedMesh&&Pn.instancingColor===!1&&pt.instanceColor!==null||pt.isInstancedMesh&&Pn.instancingMorph===!0&&pt.morphTexture===null||pt.isInstancedMesh&&Pn.instancingMorph===!1&&pt.morphTexture!==null||Pn.envMap!==wn||Lt.fog===!0&&Pn.fog!==tn||Pn.numClippingPlanes!==void 0&&(Pn.numClippingPlanes!==Ht.numPlanes||Pn.numIntersection!==Ht.numIntersection)||Pn.vertexAlphas!==Un||Pn.vertexTangents!==Nn||Pn.morphTargets!==Tn||Pn.morphNormals!==bn||Pn.morphColors!==Ln||Pn.toneMapping!==Kn||Pn.morphTargetsCount!==Gn)&&(Bn=!0):(Bn=!0,Pn.__version=Lt.version);let Rr=Pn.currentProgram;Bn===!0&&(Rr=So(Lt,xt,pt));let xi=!1,zr=!1,Bi=!1;const sr=Rr.getUniforms(),pr=Pn.uniforms;if(Yt.useProgram(Rr.program)&&(xi=!0,zr=!0,Bi=!0),Lt.id!==Ue&&(Ue=Lt.id,zr=!0),xi||Oe!==We){Yt.buffers.depth.getReversed()?(Pt.copy(We.projectionMatrix),toNormalizedProjectionMatrix(Pt),toReversedProjectionMatrix(Pt),sr.setValue(Ze,"projectionMatrix",Pt)):sr.setValue(Ze,"projectionMatrix",We.projectionMatrix),sr.setValue(Ze,"viewMatrix",We.matrixWorldInverse);const Gr=sr.map.cameraPosition;Gr!==void 0&&Gr.setValue(Ze,Qt.setFromMatrixPosition(We.matrixWorld)),an.logarithmicDepthBuffer&&sr.setValue(Ze,"logDepthBufFC",2/(Math.log(We.far+1)/Math.LN2)),(Lt.isMeshPhongMaterial||Lt.isMeshToonMaterial||Lt.isMeshLambertMaterial||Lt.isMeshBasicMaterial||Lt.isMeshStandardMaterial||Lt.isShaderMaterial)&&sr.setValue(Ze,"isOrthographic",We.isOrthographicCamera===!0),Oe!==We&&(Oe=We,zr=!0,Bi=!0)}if(pt.isSkinnedMesh){sr.setOptional(Ze,pt,"bindMatrix"),sr.setOptional(Ze,pt,"bindMatrixInverse");const wr=pt.skeleton;wr&&(wr.boneTexture===null&&wr.computeBoneTexture(),sr.setValue(Ze,"boneTexture",wr.boneTexture,Xe))}pt.isBatchedMesh&&(sr.setOptional(Ze,pt,"batchingTexture"),sr.setValue(Ze,"batchingTexture",pt._matricesTexture,Xe),sr.setOptional(Ze,pt,"batchingIdTexture"),sr.setValue(Ze,"batchingIdTexture",pt._indirectTexture,Xe),sr.setOptional(Ze,pt,"batchingColorTexture"),pt._colorsTexture!==null&&sr.setValue(Ze,"batchingColorTexture",pt._colorsTexture,Xe));const Vr=It.morphAttributes;if((Vr.position!==void 0||Vr.normal!==void 0||Vr.color!==void 0)&&pn.update(pt,It,Rr),(zr||Pn.receiveShadow!==pt.receiveShadow)&&(Pn.receiveShadow=pt.receiveShadow,sr.setValue(Ze,"receiveShadow",pt.receiveShadow)),Lt.isMeshGouraudMaterial&&Lt.envMap!==null&&(pr.envMap.value=wn,pr.flipEnvMap.value=wn.isCubeTexture&&wn.isRenderTargetTexture===!1?-1:1),Lt.isMeshStandardMaterial&&Lt.envMap===null&&xt.environment!==null&&(pr.envMapIntensity.value=xt.environmentIntensity),zr&&(sr.setValue(Ze,"toneMappingExposure",Ae.toneMappingExposure),Pn.needsLights&&Eo(pr,Bi),tn&&Lt.fog===!0&&Ot.refreshFogUniforms(pr,tn),Ot.refreshMaterialUniforms(pr,Lt,je,gt,Se.state.transmissionRenderTarget[We.id]),WebGLUniforms.upload(Ze,Ws(Pn),pr,Xe)),Lt.isShaderMaterial&&Lt.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Ze,Ws(Pn),pr,Xe),Lt.uniformsNeedUpdate=!1),Lt.isSpriteMaterial&&sr.setValue(Ze,"center",pt.center),sr.setValue(Ze,"modelViewMatrix",pt.modelViewMatrix),sr.setValue(Ze,"normalMatrix",pt.normalMatrix),sr.setValue(Ze,"modelMatrix",pt.matrixWorld),Lt.isShaderMaterial||Lt.isRawShaderMaterial){const wr=Lt.uniformsGroups;for(let Gr=0,zi=wr.length;Gr<zi;Gr++){const Xn=wr[Gr];st.update(Xn,Rr),st.bind(Xn,Rr)}}return Rr}function Eo(We,xt){We.ambientLightColor.needsUpdate=xt,We.lightProbe.needsUpdate=xt,We.directionalLights.needsUpdate=xt,We.directionalLightShadows.needsUpdate=xt,We.pointLights.needsUpdate=xt,We.pointLightShadows.needsUpdate=xt,We.spotLights.needsUpdate=xt,We.spotLightShadows.needsUpdate=xt,We.rectAreaLights.needsUpdate=xt,We.hemisphereLights.needsUpdate=xt}function ds(We){return We.isMeshLambertMaterial||We.isMeshToonMaterial||We.isMeshPhongMaterial||We.isMeshStandardMaterial||We.isShadowMaterial||We.isShaderMaterial&&We.lights===!0}this.getActiveCubeFace=function(){return $e},this.getActiveMipmapLevel=function(){return ke},this.getRenderTarget=function(){return ze},this.setRenderTargetTextures=function(We,xt,It){Jt.get(We.texture).__webglTexture=xt,Jt.get(We.depthTexture).__webglTexture=It;const Lt=Jt.get(We);Lt.__hasExternalTextures=!0,Lt.__autoAllocateDepthBuffer=It===void 0,Lt.__autoAllocateDepthBuffer||Xt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Lt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(We,xt){const It=Jt.get(We);It.__webglFramebuffer=xt,It.__useDefaultFramebuffer=xt===void 0},this.setRenderTarget=function(We,xt=0,It=0){ze=We,$e=xt,ke=It;let Lt=!0,pt=null,tn=!1,vn=!1;if(We){const wn=Jt.get(We);if(wn.__useDefaultFramebuffer!==void 0)Yt.bindFramebuffer(Ze.FRAMEBUFFER,null),Lt=!1;else if(wn.__webglFramebuffer===void 0)Xe.setupRenderTarget(We);else if(wn.__hasExternalTextures)Xe.rebindTextures(We,Jt.get(We.texture).__webglTexture,Jt.get(We.depthTexture).__webglTexture);else if(We.depthBuffer){const Tn=We.depthTexture;if(wn.__boundDepthTexture!==Tn){if(Tn!==null&&Jt.has(Tn)&&(We.width!==Tn.image.width||We.height!==Tn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Xe.setupDepthRenderbuffer(We)}}const Un=We.texture;(Un.isData3DTexture||Un.isDataArrayTexture||Un.isCompressedArrayTexture)&&(vn=!0);const Nn=Jt.get(We).__webglFramebuffer;We.isWebGLCubeRenderTarget?(Array.isArray(Nn[xt])?pt=Nn[xt][It]:pt=Nn[xt],tn=!0):We.samples>0&&Xe.useMultisampledRTT(We)===!1?pt=Jt.get(We).__webglMultisampledFramebuffer:Array.isArray(Nn)?pt=Nn[It]:pt=Nn,Ve.copy(We.viewport),Ye.copy(We.scissor),Ke=We.scissorTest}else Ve.copy(qe).multiplyScalar(je).floor(),Ye.copy(lt).multiplyScalar(je).floor(),Ke=Et;if(Yt.bindFramebuffer(Ze.FRAMEBUFFER,pt)&&Lt&&Yt.drawBuffers(We,pt),Yt.viewport(Ve),Yt.scissor(Ye),Yt.setScissorTest(Ke),tn){const wn=Jt.get(We.texture);Ze.framebufferTexture2D(Ze.FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Ze.TEXTURE_CUBE_MAP_POSITIVE_X+xt,wn.__webglTexture,It)}else if(vn){const wn=Jt.get(We.texture),Un=xt||0;Ze.framebufferTextureLayer(Ze.FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,wn.__webglTexture,It||0,Un)}Ue=-1},this.readRenderTargetPixels=function(We,xt,It,Lt,pt,tn,vn){if(!(We&&We.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _n=Jt.get(We).__webglFramebuffer;if(We.isWebGLCubeRenderTarget&&vn!==void 0&&(_n=_n[vn]),_n){Yt.bindFramebuffer(Ze.FRAMEBUFFER,_n);try{const wn=We.texture,Un=wn.format,Nn=wn.type;if(!an.textureFormatReadable(Un)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!an.textureTypeReadable(Nn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}xt>=0&&xt<=We.width-Lt&&It>=0&&It<=We.height-pt&&Ze.readPixels(xt,It,Lt,pt,Ut.convert(Un),Ut.convert(Nn),tn)}finally{const wn=ze!==null?Jt.get(ze).__webglFramebuffer:null;Yt.bindFramebuffer(Ze.FRAMEBUFFER,wn)}}},this.readRenderTargetPixelsAsync=async function(We,xt,It,Lt,pt,tn,vn){if(!(We&&We.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let _n=Jt.get(We).__webglFramebuffer;if(We.isWebGLCubeRenderTarget&&vn!==void 0&&(_n=_n[vn]),_n){const wn=We.texture,Un=wn.format,Nn=wn.type;if(!an.textureFormatReadable(Un))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!an.textureTypeReadable(Nn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(xt>=0&&xt<=We.width-Lt&&It>=0&&It<=We.height-pt){Yt.bindFramebuffer(Ze.FRAMEBUFFER,_n);const Tn=Ze.createBuffer();Ze.bindBuffer(Ze.PIXEL_PACK_BUFFER,Tn),Ze.bufferData(Ze.PIXEL_PACK_BUFFER,tn.byteLength,Ze.STREAM_READ),Ze.readPixels(xt,It,Lt,pt,Ut.convert(Un),Ut.convert(Nn),0);const bn=ze!==null?Jt.get(ze).__webglFramebuffer:null;Yt.bindFramebuffer(Ze.FRAMEBUFFER,bn);const Ln=Ze.fenceSync(Ze.SYNC_GPU_COMMANDS_COMPLETE,0);return Ze.flush(),await probeAsync(Ze,Ln,4),Ze.bindBuffer(Ze.PIXEL_PACK_BUFFER,Tn),Ze.getBufferSubData(Ze.PIXEL_PACK_BUFFER,0,tn),Ze.deleteBuffer(Tn),Ze.deleteSync(Ln),tn}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(We,xt=null,It=0){We.isTexture!==!0&&(warnOnce("WebGLRenderer: copyFramebufferToTexture function signature has changed."),xt=arguments[0]||null,We=arguments[1]);const Lt=Math.pow(2,-It),pt=Math.floor(We.image.width*Lt),tn=Math.floor(We.image.height*Lt),vn=xt!==null?xt.x:0,_n=xt!==null?xt.y:0;Xe.setTexture2D(We,0),Ze.copyTexSubImage2D(Ze.TEXTURE_2D,It,0,0,vn,_n,pt,tn),Yt.unbindTexture()};const hs=Ze.createFramebuffer(),ps=Ze.createFramebuffer();this.copyTextureToTexture=function(We,xt,It=null,Lt=null,pt=0,tn=null){We.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed."),Lt=arguments[0]||null,We=arguments[1],xt=arguments[2],tn=arguments[3]||0,It=null),tn===null&&(pt!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),tn=pt,pt=0):tn=0);let vn,_n,wn,Un,Nn,Tn,bn,Ln,Kn;const Zn=We.isCompressedTexture?We.mipmaps[tn]:We.image;if(It!==null)vn=It.max.x-It.min.x,_n=It.max.y-It.min.y,wn=It.isBox3?It.max.z-It.min.z:1,Un=It.min.x,Nn=It.min.y,Tn=It.isBox3?It.min.z:0;else{const Vr=Math.pow(2,-pt);vn=Math.floor(Zn.width*Vr),_n=Math.floor(Zn.height*Vr),We.isDataArrayTexture?wn=Zn.depth:We.isData3DTexture?wn=Math.floor(Zn.depth*Vr):wn=1,Un=0,Nn=0,Tn=0}Lt!==null?(bn=Lt.x,Ln=Lt.y,Kn=Lt.z):(bn=0,Ln=0,Kn=0);const Gn=Ut.convert(xt.format),Pn=Ut.convert(xt.type);let ur;xt.isData3DTexture?(Xe.setTexture3D(xt,0),ur=Ze.TEXTURE_3D):xt.isDataArrayTexture||xt.isCompressedArrayTexture?(Xe.setTexture2DArray(xt,0),ur=Ze.TEXTURE_2D_ARRAY):(Xe.setTexture2D(xt,0),ur=Ze.TEXTURE_2D),Ze.pixelStorei(Ze.UNPACK_FLIP_Y_WEBGL,xt.flipY),Ze.pixelStorei(Ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xt.premultiplyAlpha),Ze.pixelStorei(Ze.UNPACK_ALIGNMENT,xt.unpackAlignment);const Bn=Ze.getParameter(Ze.UNPACK_ROW_LENGTH),Rr=Ze.getParameter(Ze.UNPACK_IMAGE_HEIGHT),xi=Ze.getParameter(Ze.UNPACK_SKIP_PIXELS),zr=Ze.getParameter(Ze.UNPACK_SKIP_ROWS),Bi=Ze.getParameter(Ze.UNPACK_SKIP_IMAGES);Ze.pixelStorei(Ze.UNPACK_ROW_LENGTH,Zn.width),Ze.pixelStorei(Ze.UNPACK_IMAGE_HEIGHT,Zn.height),Ze.pixelStorei(Ze.UNPACK_SKIP_PIXELS,Un),Ze.pixelStorei(Ze.UNPACK_SKIP_ROWS,Nn),Ze.pixelStorei(Ze.UNPACK_SKIP_IMAGES,Tn);const sr=We.isDataArrayTexture||We.isData3DTexture,pr=xt.isDataArrayTexture||xt.isData3DTexture;if(We.isDepthTexture){const Vr=Jt.get(We),wr=Jt.get(xt),Gr=Jt.get(Vr.__renderTarget),zi=Jt.get(wr.__renderTarget);Yt.bindFramebuffer(Ze.READ_FRAMEBUFFER,Gr.__webglFramebuffer),Yt.bindFramebuffer(Ze.DRAW_FRAMEBUFFER,zi.__webglFramebuffer);for(let Xn=0;Xn<wn;Xn++)sr&&(Ze.framebufferTextureLayer(Ze.READ_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Jt.get(We).__webglTexture,pt,Tn+Xn),Ze.framebufferTextureLayer(Ze.DRAW_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Jt.get(xt).__webglTexture,tn,Kn+Xn)),Ze.blitFramebuffer(Un,Nn,vn,_n,bn,Ln,vn,_n,Ze.DEPTH_BUFFER_BIT,Ze.NEAREST);Yt.bindFramebuffer(Ze.READ_FRAMEBUFFER,null),Yt.bindFramebuffer(Ze.DRAW_FRAMEBUFFER,null)}else if(pt!==0||We.isRenderTargetTexture||Jt.has(We)){const Vr=Jt.get(We),wr=Jt.get(xt);Yt.bindFramebuffer(Ze.READ_FRAMEBUFFER,hs),Yt.bindFramebuffer(Ze.DRAW_FRAMEBUFFER,ps);for(let Gr=0;Gr<wn;Gr++)sr?Ze.framebufferTextureLayer(Ze.READ_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Vr.__webglTexture,pt,Tn+Gr):Ze.framebufferTexture2D(Ze.READ_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Ze.TEXTURE_2D,Vr.__webglTexture,pt),pr?Ze.framebufferTextureLayer(Ze.DRAW_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,wr.__webglTexture,tn,Kn+Gr):Ze.framebufferTexture2D(Ze.DRAW_FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Ze.TEXTURE_2D,wr.__webglTexture,tn),pt!==0?Ze.blitFramebuffer(Un,Nn,vn,_n,bn,Ln,vn,_n,Ze.COLOR_BUFFER_BIT,Ze.NEAREST):pr?Ze.copyTexSubImage3D(ur,tn,bn,Ln,Kn+Gr,Un,Nn,vn,_n):Ze.copyTexSubImage2D(ur,tn,bn,Ln,Un,Nn,vn,_n);Yt.bindFramebuffer(Ze.READ_FRAMEBUFFER,null),Yt.bindFramebuffer(Ze.DRAW_FRAMEBUFFER,null)}else pr?We.isDataTexture||We.isData3DTexture?Ze.texSubImage3D(ur,tn,bn,Ln,Kn,vn,_n,wn,Gn,Pn,Zn.data):xt.isCompressedArrayTexture?Ze.compressedTexSubImage3D(ur,tn,bn,Ln,Kn,vn,_n,wn,Gn,Zn.data):Ze.texSubImage3D(ur,tn,bn,Ln,Kn,vn,_n,wn,Gn,Pn,Zn):We.isDataTexture?Ze.texSubImage2D(Ze.TEXTURE_2D,tn,bn,Ln,vn,_n,Gn,Pn,Zn.data):We.isCompressedTexture?Ze.compressedTexSubImage2D(Ze.TEXTURE_2D,tn,bn,Ln,Zn.width,Zn.height,Gn,Zn.data):Ze.texSubImage2D(Ze.TEXTURE_2D,tn,bn,Ln,vn,_n,Gn,Pn,Zn);Ze.pixelStorei(Ze.UNPACK_ROW_LENGTH,Bn),Ze.pixelStorei(Ze.UNPACK_IMAGE_HEIGHT,Rr),Ze.pixelStorei(Ze.UNPACK_SKIP_PIXELS,xi),Ze.pixelStorei(Ze.UNPACK_SKIP_ROWS,zr),Ze.pixelStorei(Ze.UNPACK_SKIP_IMAGES,Bi),tn===0&&xt.generateMipmaps&&Ze.generateMipmap(ur),Yt.unbindTexture()},this.copyTextureToTexture3D=function(We,xt,It=null,Lt=null,pt=0){return We.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture3D function signature has changed."),It=arguments[0]||null,Lt=arguments[1]||null,We=arguments[2],xt=arguments[3],pt=arguments[4]||0),warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(We,xt,It,Lt,pt)},this.initRenderTarget=function(We){Jt.get(We).__webglFramebuffer===void 0&&Xe.setupRenderTarget(We)},this.initTexture=function(We){We.isCubeTexture?Xe.setTextureCube(We,0):We.isData3DTexture?Xe.setTexture3D(We,0):We.isDataArrayTexture||We.isCompressedArrayTexture?Xe.setTexture2DArray(We,0):Xe.setTexture2D(We,0),Yt.unbindTexture()},this.resetState=function(){$e=0,ke=0,ze=null,Yt.reset(),un.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(_){this._outputColorSpace=_;const K=this.getContext();K.drawingBufferColorspace=ColorManagement._getDrawingBufferColorSpace(_),K.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$1,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture:Data3DTexture$1,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera:PerspectiveCamera$1,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconcilerConstants_production_min;function requireReactReconcilerConstants_production_min(){return hasRequiredReactReconcilerConstants_production_min||(hasRequiredReactReconcilerConstants_production_min=1,reactReconcilerConstants_production_min.ConcurrentRoot=1,reactReconcilerConstants_production_min.ContinuousEventPriority=4,reactReconcilerConstants_production_min.DefaultEventPriority=16,reactReconcilerConstants_production_min.DiscreteEventPriority=1,reactReconcilerConstants_production_min.IdleEventPriority=536870912,reactReconcilerConstants_production_min.LegacyRoot=0),reactReconcilerConstants_production_min}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants.exports=requireReactReconcilerConstants_production_min()),constants.exports}var constantsExports=requireConstants();function createStore$2(Z){let _;const K=new Set,te=(ce,fe)=>{const me=typeof ce=="function"?ce(_):ce;if(me!==_){const pe=_;_=fe?me:Object.assign({},_,me),K.forEach(ge=>ge(_,pe))}},ne=()=>_,ie=(ce,fe=ne,me=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let pe=fe(_);function ge(){const ye=fe(_);if(!me(pe,ye)){const Ee=pe;ce(pe=ye,Ee)}}return K.add(ge),()=>K.delete(ge)},le={setState:te,getState:ne,subscribe:(ce,fe,me)=>fe||me?ie(ce,fe,me):(K.add(ce),()=>K.delete(ce)),destroy:()=>K.clear()};return _=Z(te,ne,le),le}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$3=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(Z){const _=typeof Z=="function"?createStore$2(Z):Z,K=(te=_.getState,ne=Object.is)=>{const[,ie]=reactExports.useReducer(_e=>_e+1,0),oe=_.getState(),se=reactExports.useRef(oe),le=reactExports.useRef(te),ce=reactExports.useRef(ne),fe=reactExports.useRef(!1),me=reactExports.useRef();me.current===void 0&&(me.current=te(oe));let pe,ge=!1;(se.current!==oe||le.current!==te||ce.current!==ne||fe.current)&&(pe=te(oe),ge=!ne(me.current,pe)),useIsomorphicLayoutEffect$3(()=>{ge&&(me.current=pe),se.current=oe,le.current=te,ce.current=ne,fe.current=!1});const ye=reactExports.useRef(oe);useIsomorphicLayoutEffect$3(()=>{const _e=()=>{try{const Re=_.getState(),Te=le.current(Re);ce.current(me.current,Te)||(se.current=Re,me.current=Te,ie())}catch{fe.current=!0,ie()}},Se=_.subscribe(_e);return _.getState()!==ye.current&&_e(),Se},[]);const Ee=ge?pe:me.current;return reactExports.useDebugValue(Ee),Ee};return Object.assign(K,_),K[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const te=[K,_];return{next(){const ne=te.length<=0;return{value:te.shift(),done:ne}}}},K}const isPromise=Z=>typeof Z=="object"&&typeof Z.then=="function",globalCache=[];function shallowEqualArrays(Z,_,K=(te,ne)=>te===ne){if(Z===_)return!0;if(!Z||!_)return!1;const te=Z.length;if(_.length!==te)return!1;for(let ne=0;ne<te;ne++)if(!K(Z[ne],_[ne]))return!1;return!0}function query(Z,_=null,K=!1,te={}){_===null&&(_=[Z]);for(const ie of globalCache)if(shallowEqualArrays(_,ie.keys,ie.equal)){if(K)return;if(Object.prototype.hasOwnProperty.call(ie,"error"))throw ie.error;if(Object.prototype.hasOwnProperty.call(ie,"response"))return te.lifespan&&te.lifespan>0&&(ie.timeout&&clearTimeout(ie.timeout),ie.timeout=setTimeout(ie.remove,te.lifespan)),ie.response;if(!K)throw ie.promise}const ne={keys:_,equal:te.equal,remove:()=>{const ie=globalCache.indexOf(ne);ie!==-1&&globalCache.splice(ie,1)},promise:(isPromise(Z)?Z:Z(..._)).then(ie=>{ne.response=ie,te.lifespan&&te.lifespan>0&&(ne.timeout=setTimeout(ne.remove,te.lifespan))}).catch(ie=>ne.error=ie)};if(globalCache.push(ne),!K)throw ne.promise}const suspend=(Z,_,K)=>query(Z,_,!1,K),preload=(Z,_,K)=>void query(Z,_,!0,K),clear=Z=>{if(Z===void 0||Z.length===0)globalCache.splice(0,globalCache.length);else{const _=globalCache.find(K=>shallowEqualArrays(Z,K.keys,K.equal));_&&_.remove()}};var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(Z){function _(je,rt){var Qe=je.length;je.push(rt);e:for(;0<Qe;){var qe=Qe-1>>>1,lt=je[qe];if(0<ne(lt,rt))je[qe]=rt,je[Qe]=lt,Qe=qe;else break e}}function K(je){return je.length===0?null:je[0]}function te(je){if(je.length===0)return null;var rt=je[0],Qe=je.pop();if(Qe!==rt){je[0]=Qe;e:for(var qe=0,lt=je.length,Et=lt>>>1;qe<Et;){var ht=2*(qe+1)-1,dt=je[ht],Mt=ht+1,Pt=je[Mt];if(0>ne(dt,Qe))Mt<lt&&0>ne(Pt,dt)?(je[qe]=Pt,je[Mt]=Qe,qe=Mt):(je[qe]=dt,je[ht]=Qe,qe=ht);else if(Mt<lt&&0>ne(Pt,Qe))je[qe]=Pt,je[Mt]=Qe,qe=Mt;else break e}}return rt}function ne(je,rt){var Qe=je.sortIndex-rt.sortIndex;return Qe!==0?Qe:je.id-rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ie=performance;Z.unstable_now=function(){return ie.now()}}else{var oe=Date,se=oe.now();Z.unstable_now=function(){return oe.now()-se}}var le=[],ce=[],fe=1,me=null,pe=3,ge=!1,ye=!1,Ee=!1,_e=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Te(je){for(var rt=K(ce);rt!==null;){if(rt.callback===null)te(ce);else if(rt.startTime<=je)te(ce),rt.sortIndex=rt.expirationTime,_(le,rt);else break;rt=K(ce)}}function Ae(je){if(Ee=!1,Te(je),!ye)if(K(le)!==null)ye=!0,ct(Fe);else{var rt=K(ce);rt!==null&&gt(Ae,rt.startTime-je)}}function Fe(je,rt){ye=!1,Ee&&(Ee=!1,Se(ze),ze=-1),ge=!0;var Qe=pe;try{for(Te(rt),me=K(le);me!==null&&(!(me.expirationTime>rt)||je&&!Ve());){var qe=me.callback;if(typeof qe=="function"){me.callback=null,pe=me.priorityLevel;var lt=qe(me.expirationTime<=rt);rt=Z.unstable_now(),typeof lt=="function"?me.callback=lt:me===K(le)&&te(le),Te(rt)}else te(le);me=K(le)}if(me!==null)var Et=!0;else{var ht=K(ce);ht!==null&&gt(Ae,ht.startTime-rt),Et=!1}return Et}finally{me=null,pe=Qe,ge=!1}}var $e=!1,ke=null,ze=-1,Ue=5,Oe=-1;function Ve(){return!(Z.unstable_now()-Oe<Ue)}function Ye(){if(ke!==null){var je=Z.unstable_now();Oe=je;var rt=!0;try{rt=ke(!0,je)}finally{rt?Ke():($e=!1,ke=null)}}else $e=!1}var Ke;if(typeof Re=="function")Ke=function(){Re(Ye)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,ut=ot.port2;ot.port1.onmessage=Ye,Ke=function(){ut.postMessage(null)}}else Ke=function(){_e(Ye,0)};function ct(je){ke=je,$e||($e=!0,Ke())}function gt(je,rt){ze=_e(function(){je(Z.unstable_now())},rt)}Z.unstable_IdlePriority=5,Z.unstable_ImmediatePriority=1,Z.unstable_LowPriority=4,Z.unstable_NormalPriority=3,Z.unstable_Profiling=null,Z.unstable_UserBlockingPriority=2,Z.unstable_cancelCallback=function(je){je.callback=null},Z.unstable_continueExecution=function(){ye||ge||(ye=!0,ct(Fe))},Z.unstable_forceFrameRate=function(je){0>je||125<je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<je?Math.floor(1e3/je):5},Z.unstable_getCurrentPriorityLevel=function(){return pe},Z.unstable_getFirstCallbackNode=function(){return K(le)},Z.unstable_next=function(je){switch(pe){case 1:case 2:case 3:var rt=3;break;default:rt=pe}var Qe=pe;pe=rt;try{return je()}finally{pe=Qe}},Z.unstable_pauseExecution=function(){},Z.unstable_requestPaint=function(){},Z.unstable_runWithPriority=function(je,rt){switch(je){case 1:case 2:case 3:case 4:case 5:break;default:je=3}var Qe=pe;pe=je;try{return rt()}finally{pe=Qe}},Z.unstable_scheduleCallback=function(je,rt,Qe){var qe=Z.unstable_now();switch(typeof Qe=="object"&&Qe!==null?(Qe=Qe.delay,Qe=typeof Qe=="number"&&0<Qe?qe+Qe:qe):Qe=qe,je){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=Qe+lt,je={id:fe++,callback:rt,priorityLevel:je,startTime:Qe,expirationTime:lt,sortIndex:-1},Qe>qe?(je.sortIndex=Qe,_(ce,je),K(le)===null&&je===K(ce)&&(Ee?(Se(ze),ze=-1):Ee=!0,gt(Ae,Qe-qe))):(je.sortIndex=lt,_(le,je),ye||ge||(ye=!0,ct(Fe))),je},Z.unstable_shouldYield=Ve,Z.unstable_wrapCallback=function(je){var rt=pe;return function(){var Qe=pe;pe=rt;try{return je.apply(this,arguments)}finally{pe=Qe}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min,hasRequiredReactReconciler_production_min;function requireReactReconciler_production_min(){return hasRequiredReactReconciler_production_min||(hasRequiredReactReconciler_production_min=1,reactReconciler_production_min=function(_){var K={},te=requireReact(),ne=requireScheduler(),ie=Object.assign;function oe(de){for(var he="https://reactjs.org/docs/error-decoder.html?invariant="+de,be=1;be<arguments.length;be++)he+="&args[]="+encodeURIComponent(arguments[be]);return"Minified React error #"+de+"; visit "+he+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var se=te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ce=Symbol.for("react.portal"),fe=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),ye=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),Fe=Symbol.iterator;function $e(de){return de===null||typeof de!="object"?null:(de=Fe&&de[Fe]||de["@@iterator"],typeof de=="function"?de:null)}function ke(de){if(de==null)return null;if(typeof de=="function")return de.displayName||de.name||null;if(typeof de=="string")return de;switch(de){case fe:return"Fragment";case ce:return"Portal";case pe:return"Profiler";case me:return"StrictMode";case _e:return"Suspense";case Se:return"SuspenseList"}if(typeof de=="object")switch(de.$$typeof){case ye:return(de.displayName||"Context")+".Consumer";case ge:return(de._context.displayName||"Context")+".Provider";case Ee:var he=de.render;return de=de.displayName,de||(de=he.displayName||he.name||"",de=de!==""?"ForwardRef("+de+")":"ForwardRef"),de;case Re:return he=de.displayName||null,he!==null?he:ke(de.type)||"Memo";case Te:he=de._payload,de=de._init;try{return ke(de(he))}catch{}}return null}function ze(de){var he=de.type;switch(de.tag){case 24:return"Cache";case 9:return(he.displayName||"Context")+".Consumer";case 10:return(he._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return de=he.render,de=de.displayName||de.name||"",he.displayName||(de!==""?"ForwardRef("+de+")":"ForwardRef");case 7:return"Fragment";case 5:return he;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(he);case 8:return he===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof he=="function")return he.displayName||he.name||null;if(typeof he=="string")return he}return null}function Ue(de){var he=de,be=de;if(de.alternate)for(;he.return;)he=he.return;else{de=he;do he=de,he.flags&4098&&(be=he.return),de=he.return;while(de)}return he.tag===3?be:null}function Oe(de){if(Ue(de)!==de)throw Error(oe(188))}function Ve(de){var he=de.alternate;if(!he){if(he=Ue(de),he===null)throw Error(oe(188));return he!==de?null:de}for(var be=de,Pe=he;;){var Le=be.return;if(Le===null)break;var Be=Le.alternate;if(Be===null){if(Pe=Le.return,Pe!==null){be=Pe;continue}break}if(Le.child===Be.child){for(Be=Le.child;Be;){if(Be===be)return Oe(Le),de;if(Be===Pe)return Oe(Le),he;Be=Be.sibling}throw Error(oe(188))}if(be.return!==Pe.return)be=Le,Pe=Be;else{for(var Je=!1,yt=Le.child;yt;){if(yt===be){Je=!0,be=Le,Pe=Be;break}if(yt===Pe){Je=!0,Pe=Le,be=Be;break}yt=yt.sibling}if(!Je){for(yt=Be.child;yt;){if(yt===be){Je=!0,be=Be,Pe=Le;break}if(yt===Pe){Je=!0,Pe=Be,be=Le;break}yt=yt.sibling}if(!Je)throw Error(oe(189))}}if(be.alternate!==Pe)throw Error(oe(190))}if(be.tag!==3)throw Error(oe(188));return be.stateNode.current===be?de:he}function Ye(de){return de=Ve(de),de!==null?Ke(de):null}function Ke(de){if(de.tag===5||de.tag===6)return de;for(de=de.child;de!==null;){var he=Ke(de);if(he!==null)return he;de=de.sibling}return null}function ot(de){if(de.tag===5||de.tag===6)return de;for(de=de.child;de!==null;){if(de.tag!==4){var he=ot(de);if(he!==null)return he}de=de.sibling}return null}var ut=Array.isArray,ct=_.getPublicInstance,gt=_.getRootHostContext,je=_.getChildHostContext,rt=_.prepareForCommit,Qe=_.resetAfterCommit,qe=_.createInstance,lt=_.appendInitialChild,Et=_.finalizeInitialChildren,ht=_.prepareUpdate,dt=_.shouldSetTextContent,Mt=_.createTextInstance,Pt=_.scheduleTimeout,Wt=_.cancelTimeout,Qt=_.noTimeout,sn=_.isPrimaryRenderer,hn=_.supportsMutation,Dt=_.supportsPersistence,Vt=_.supportsHydration,Ze=_.getInstanceFromNode,on=_.preparePortalMount,Xt=_.getCurrentEventPriority,an=_.detachDeletedInstance,Yt=_.supportsMicrotasks,mn=_.scheduleMicrotask,Jt=_.supportsTestSelectors,Xe=_.findFiberRoot,He=_.getBoundingRect,tt=_.getTextContent,mt=_.isHiddenSubtree,Nt=_.matchAccessibilityRole,_t=_.setFocusIfFocusable,jt=_.setupIntersectionObserver,Ot=_.appendChild,qt=_.appendChildToContainer,Sn=_.commitTextUpdate,Ht=_.commitMount,Tt=_.commitUpdate,Ft=_.insertBefore,pn=_.insertInContainerBefore,cn=_.removeChild,at=_.removeChildFromContainer,Ut=_.resetTextContent,un=_.hideInstance,st=_.hideTextInstance,Kt=_.unhideInstance,At=_.unhideTextInstance,zt=_.clearContainer,yn=_.cloneInstance,gn=_.createContainerChildSet,Dn=_.appendChildToContainerChildSet,tr=_.finalizeContainerChildren,cr=_.replaceContainerChildren,qn=_.cloneHiddenInstance,Sr=_.cloneHiddenTextInstance,hr=_.canHydrateInstance,_o=_.canHydrateTextInstance,Fr=_.canHydrateSuspenseInstance,Ai=_.isSuspenseInstancePending,vi=_.isSuspenseInstanceFallback,co=_.registerSuspenseInstanceRetry,yi=_.getNextHydratableSibling,Qi=_.getFirstHydratableChild,fs=_.getFirstHydratableChildWithinContainer,So=_.getFirstHydratableChildWithinSuspenseInstance,Ws=_.hydrateInstance,Ui=_.hydrateTextInstance,js=_.hydrateSuspenseInstance,Eo=_.getNextHydratableInstanceAfterSuspenseInstance,ds=_.commitHydratedContainer,hs=_.commitHydratedSuspenseInstance,ps=_.clearSuspenseBoundary,We=_.clearSuspenseBoundaryFromContainer,xt=_.shouldDeleteUnhydratedTailInstances,It=_.didNotMatchHydratedContainerTextInstance,Lt=_.didNotMatchHydratedTextInstance,pt;function tn(de){if(pt===void 0)try{throw Error()}catch(be){var he=be.stack.trim().match(/\n( *(at )?)/);pt=he&&he[1]||""}return`
`+pt+de}var vn=!1;function _n(de,he){if(!de||vn)return"";vn=!0;var be=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(he)if(he=function(){throw Error()},Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ln){var Pe=ln}Reflect.construct(de,[],he)}else{try{he.call()}catch(ln){Pe=ln}de.call(he.prototype)}else{try{throw Error()}catch(ln){Pe=ln}de()}}catch(ln){if(ln&&Pe&&typeof ln.stack=="string"){for(var Le=ln.stack.split(`
`),Be=Pe.stack.split(`
`),Je=Le.length-1,yt=Be.length-1;1<=Je&&0<=yt&&Le[Je]!==Be[yt];)yt--;for(;1<=Je&&0<=yt;Je--,yt--)if(Le[Je]!==Be[yt]){if(Je!==1||yt!==1)do if(Je--,yt--,0>yt||Le[Je]!==Be[yt]){var Gt=`
`+Le[Je].replace(" at new "," at ");return de.displayName&&Gt.includes("<anonymous>")&&(Gt=Gt.replace("<anonymous>",de.displayName)),Gt}while(1<=Je&&0<=yt);break}}}finally{vn=!1,Error.prepareStackTrace=be}return(de=de?de.displayName||de.name:"")?tn(de):""}var wn=Object.prototype.hasOwnProperty,Un=[],Nn=-1;function Tn(de){return{current:de}}function bn(de){0>Nn||(de.current=Un[Nn],Un[Nn]=null,Nn--)}function Ln(de,he){Nn++,Un[Nn]=de.current,de.current=he}var Kn={},Zn=Tn(Kn),Gn=Tn(!1),Pn=Kn;function ur(de,he){var be=de.type.contextTypes;if(!be)return Kn;var Pe=de.stateNode;if(Pe&&Pe.__reactInternalMemoizedUnmaskedChildContext===he)return Pe.__reactInternalMemoizedMaskedChildContext;var Le={},Be;for(Be in be)Le[Be]=he[Be];return Pe&&(de=de.stateNode,de.__reactInternalMemoizedUnmaskedChildContext=he,de.__reactInternalMemoizedMaskedChildContext=Le),Le}function Bn(de){return de=de.childContextTypes,de!=null}function Rr(){bn(Gn),bn(Zn)}function xi(de,he,be){if(Zn.current!==Kn)throw Error(oe(168));Ln(Zn,he),Ln(Gn,be)}function zr(de,he,be){var Pe=de.stateNode;if(he=he.childContextTypes,typeof Pe.getChildContext!="function")return be;Pe=Pe.getChildContext();for(var Le in Pe)if(!(Le in he))throw Error(oe(108,ze(de)||"Unknown",Le));return ie({},be,Pe)}function Bi(de){return de=(de=de.stateNode)&&de.__reactInternalMemoizedMergedChildContext||Kn,Pn=Zn.current,Ln(Zn,de),Ln(Gn,Gn.current),!0}function sr(de,he,be){var Pe=de.stateNode;if(!Pe)throw Error(oe(169));be?(de=zr(de,he,Pn),Pe.__reactInternalMemoizedMergedChildContext=de,bn(Gn),bn(Zn),Ln(Zn,de)):bn(Gn),Ln(Gn,be)}var pr=Math.clz32?Math.clz32:Gr,Vr=Math.log,wr=Math.LN2;function Gr(de){return de>>>=0,de===0?32:31-(Vr(de)/wr|0)|0}var zi=64,Xn=4194304;function Xo(de){switch(de&-de){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return de&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return de&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return de}}function ms(de,he){var be=de.pendingLanes;if(be===0)return 0;var Pe=0,Le=de.suspendedLanes,Be=de.pingedLanes,Je=be&268435455;if(Je!==0){var yt=Je&~Le;yt!==0?Pe=Xo(yt):(Be&=Je,Be!==0&&(Pe=Xo(Be)))}else Je=be&~Le,Je!==0?Pe=Xo(Je):Be!==0&&(Pe=Xo(Be));if(Pe===0)return 0;if(he!==0&&he!==Pe&&!(he&Le)&&(Le=Pe&-Pe,Be=he&-he,Le>=Be||Le===16&&(Be&4194240)!==0))return he;if(Pe&4&&(Pe|=be&16),he=de.entangledLanes,he!==0)for(de=de.entanglements,he&=Pe;0<he;)be=31-pr(he),Le=1<<be,Pe|=de[be],he&=~Le;return Pe}function Pa(de,he){switch(de){case 1:case 2:case 4:return he+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return he+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(de,he){for(var be=de.suspendedLanes,Pe=de.pingedLanes,Le=de.expirationTimes,Be=de.pendingLanes;0<Be;){var Je=31-pr(Be),yt=1<<Je,Gt=Le[Je];Gt===-1?(!(yt&be)||yt&Pe)&&(Le[Je]=Pa(yt,he)):Gt<=he&&(de.expiredLanes|=yt),Be&=~yt}}function qs(de){return de=de.pendingLanes&-1073741825,de!==0?de:de&1073741824?1073741824:0}function Xs(de){for(var he=[],be=0;31>be;be++)he.push(de);return he}function bo(de,he,be){de.pendingLanes|=he,he!==536870912&&(de.suspendedLanes=0,de.pingedLanes=0),de=de.eventTimes,he=31-pr(he),de[he]=be}function Ys(de,he){var be=de.pendingLanes&~he;de.pendingLanes=he,de.suspendedLanes=0,de.pingedLanes=0,de.expiredLanes&=he,de.mutableReadLanes&=he,de.entangledLanes&=he,he=de.entanglements;var Pe=de.eventTimes;for(de=de.expirationTimes;0<be;){var Le=31-pr(be),Be=1<<Le;he[Le]=0,Pe[Le]=-1,de[Le]=-1,be&=~Be}}function Vi(de,he){var be=de.entangledLanes|=he;for(de=de.entanglements;be;){var Pe=31-pr(be),Le=1<<Pe;Le&he|de[Pe]&he&&(de[Pe]|=he),be&=~Le}}var Qn=0;function Ji(de){return de&=-de,1<de?4<de?de&268435455?16:536870912:4:1}var wo=ne.unstable_scheduleCallback,Yo=ne.unstable_cancelCallback,uo=ne.unstable_shouldYield,ic=ne.unstable_requestPaint,Ir=ne.unstable_now,Mo=ne.unstable_ImmediatePriority,pl=ne.unstable_UserBlockingPriority,Ks=ne.unstable_NormalPriority,bt=ne.unstable_IdlePriority,et=null,it=null;function Bt(de){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(et,de,void 0,(de.current.flags&128)===128)}catch{}}function Zt(de,he){return de===he&&(de!==0||1/de===1/he)||de!==de&&he!==he}var Fn=typeof Object.is=="function"?Object.is:Zt,rr=null,kr=!1,Ko=!1;function Zs(de){rr===null?rr=[de]:rr.push(de)}function Qs(de){kr=!0,Zs(de)}function li(){if(!Ko&&rr!==null){Ko=!0;var de=0,he=Qn;try{var be=rr;for(Qn=1;de<be.length;de++){var Pe=be[de];do Pe=Pe(!0);while(Pe!==null)}rr=null,kr=!1}catch(Le){throw rr!==null&&(rr=rr.slice(de+1)),wo(Mo,li),Le}finally{Qn=he,Ko=!1}}return null}var Ia=se.ReactCurrentBatchConfig;function _i(de,he){if(Fn(de,he))return!0;if(typeof de!="object"||de===null||typeof he!="object"||he===null)return!1;var be=Object.keys(de),Pe=Object.keys(he);if(be.length!==Pe.length)return!1;for(Pe=0;Pe<be.length;Pe++){var Le=be[Pe];if(!wn.call(he,Le)||!Fn(de[Le],he[Le]))return!1}return!0}function Js(de){switch(de.tag){case 5:return tn(de.type);case 16:return tn("Lazy");case 13:return tn("Suspense");case 19:return tn("SuspenseList");case 0:case 2:case 15:return de=_n(de.type,!1),de;case 11:return de=_n(de.type.render,!1),de;case 1:return de=_n(de.type,!0),de;default:return""}}function Si(de,he){if(de&&de.defaultProps){he=ie({},he),de=de.defaultProps;for(var be in de)he[be]===void 0&&(he[be]=de[be]);return he}return he}var La=Tn(null),gs=null,To=null,ml=null;function ci(){ml=To=gs=null}function vs(de,he,be){sn?(Ln(La,he._currentValue),he._currentValue=be):(Ln(La,he._currentValue2),he._currentValue2=be)}function $a(de){var he=La.current;bn(La),sn?de._currentValue=he:de._currentValue2=he}function ys(de,he,be){for(;de!==null;){var Pe=de.alternate;if((de.childLanes&he)!==he?(de.childLanes|=he,Pe!==null&&(Pe.childLanes|=he)):Pe!==null&&(Pe.childLanes&he)!==he&&(Pe.childLanes|=he),de===be)break;de=de.return}}function ea(de,he){gs=de,ml=To=null,de=de.dependencies,de!==null&&de.firstContext!==null&&(de.lanes&he&&(qr=!0),de.firstContext=null)}function Ei(de){var he=sn?de._currentValue:de._currentValue2;if(ml!==de)if(de={context:de,memoizedValue:he,next:null},To===null){if(gs===null)throw Error(oe(308));To=de,gs.dependencies={lanes:0,firstContext:de}}else To=To.next=de;return he}var Gi=null,Hi=!1;function ta(de){de.updateQueue={baseState:de.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oc(de,he){de=de.updateQueue,he.updateQueue===de&&(he.updateQueue={baseState:de.baseState,firstBaseUpdate:de.firstBaseUpdate,lastBaseUpdate:de.lastBaseUpdate,shared:de.shared,effects:de.effects})}function Ro(de,he){return{eventTime:de,lane:he,tag:0,payload:null,callback:null,next:null}}function Zo(de,he){var be=de.updateQueue;be!==null&&(be=be.shared,$r!==null&&de.mode&1&&!(Jn&2)?(de=be.interleaved,de===null?(he.next=he,Gi===null?Gi=[be]:Gi.push(be)):(he.next=de.next,de.next=he),be.interleaved=he):(de=be.pending,de===null?he.next=he:(he.next=de.next,de.next=he),be.pending=he))}function gl(de,he,be){if(he=he.updateQueue,he!==null&&(he=he.shared,(be&4194240)!==0)){var Pe=he.lanes;Pe&=de.pendingLanes,be|=Pe,he.lanes=be,Vi(de,be)}}function vl(de,he){var be=de.updateQueue,Pe=de.alternate;if(Pe!==null&&(Pe=Pe.updateQueue,be===Pe)){var Le=null,Be=null;if(be=be.firstBaseUpdate,be!==null){do{var Je={eventTime:be.eventTime,lane:be.lane,tag:be.tag,payload:be.payload,callback:be.callback,next:null};Be===null?Le=Be=Je:Be=Be.next=Je,be=be.next}while(be!==null);Be===null?Le=Be=he:Be=Be.next=he}else Le=Be=he;be={baseState:Pe.baseState,firstBaseUpdate:Le,lastBaseUpdate:Be,shared:Pe.shared,effects:Pe.effects},de.updateQueue=be;return}de=be.lastBaseUpdate,de===null?be.firstBaseUpdate=he:de.next=he,be.lastBaseUpdate=he}function yl(de,he,be,Pe){var Le=de.updateQueue;Hi=!1;var Be=Le.firstBaseUpdate,Je=Le.lastBaseUpdate,yt=Le.shared.pending;if(yt!==null){Le.shared.pending=null;var Gt=yt,ln=Gt.next;Gt.next=null,Je===null?Be=ln:Je.next=ln,Je=Gt;var Rn=de.alternate;Rn!==null&&(Rn=Rn.updateQueue,yt=Rn.lastBaseUpdate,yt!==Je&&(yt===null?Rn.firstBaseUpdate=ln:yt.next=ln,Rn.lastBaseUpdate=Gt))}if(Be!==null){var Wn=Le.baseState;Je=0,Rn=ln=Gt=null,yt=Be;do{var kn=yt.lane,er=yt.eventTime;if((Pe&kn)===kn){Rn!==null&&(Rn=Rn.next={eventTime:er,lane:0,tag:yt.tag,payload:yt.payload,callback:yt.callback,next:null});e:{var En=de,ti=yt;switch(kn=he,er=be,ti.tag){case 1:if(En=ti.payload,typeof En=="function"){Wn=En.call(er,Wn,kn);break e}Wn=En;break e;case 3:En.flags=En.flags&-65537|128;case 0:if(En=ti.payload,kn=typeof En=="function"?En.call(er,Wn,kn):En,kn==null)break e;Wn=ie({},Wn,kn);break e;case 2:Hi=!0}}yt.callback!==null&&yt.lane!==0&&(de.flags|=64,kn=Le.effects,kn===null?Le.effects=[yt]:kn.push(yt))}else er={eventTime:er,lane:kn,tag:yt.tag,payload:yt.payload,callback:yt.callback,next:null},Rn===null?(ln=Rn=er,Gt=Wn):Rn=Rn.next=er,Je|=kn;if(yt=yt.next,yt===null){if(yt=Le.shared.pending,yt===null)break;kn=yt,yt=kn.next,kn.next=null,Le.lastBaseUpdate=kn,Le.shared.pending=null}}while(!0);if(Rn===null&&(Gt=Wn),Le.baseState=Gt,Le.firstBaseUpdate=ln,Le.lastBaseUpdate=Rn,he=Le.shared.interleaved,he!==null){Le=he;do Je|=Le.lane,Le=Le.next;while(Le!==he)}else Be===null&&(Le.shared.lanes=0);mo|=Je,de.lanes=Je,de.memoizedState=Wn}}function Kc(de,he,be){if(de=he.effects,he.effects=null,de!==null)for(he=0;he<de.length;he++){var Pe=de[he],Le=Pe.callback;if(Le!==null){if(Pe.callback=null,Pe=be,typeof Le!="function")throw Error(oe(191,Le));Le.call(Pe)}}}var Zc=new te.Component().refs;function sc(de,he,be,Pe){he=de.memoizedState,be=be(Pe,he),be=be==null?he:ie({},he,be),de.memoizedState=be,de.lanes===0&&(de.updateQueue.baseState=be)}var xl={isMounted:function(de){return(de=de._reactInternals)?Ue(de)===de:!1},enqueueSetState:function(de,he,be){de=de._reactInternals;var Pe=or(),Le=so(de),Be=Ro(Pe,Le);Be.payload=he,be!=null&&(Be.callback=be),Zo(de,Be),he=oi(de,Le,Pe),he!==null&&gl(he,de,Le)},enqueueReplaceState:function(de,he,be){de=de._reactInternals;var Pe=or(),Le=so(de),Be=Ro(Pe,Le);Be.tag=1,Be.payload=he,be!=null&&(Be.callback=be),Zo(de,Be),he=oi(de,Le,Pe),he!==null&&gl(he,de,Le)},enqueueForceUpdate:function(de,he){de=de._reactInternals;var be=or(),Pe=so(de),Le=Ro(be,Pe);Le.tag=2,he!=null&&(Le.callback=he),Zo(de,Le),he=oi(de,Pe,be),he!==null&&gl(he,de,Pe)}};function ac(de,he,be,Pe,Le,Be,Je){return de=de.stateNode,typeof de.shouldComponentUpdate=="function"?de.shouldComponentUpdate(Pe,Be,Je):he.prototype&&he.prototype.isPureReactComponent?!_i(be,Pe)||!_i(Le,Be):!0}function Qc(de,he,be){var Pe=!1,Le=Kn,Be=he.contextType;return typeof Be=="object"&&Be!==null?Be=Ei(Be):(Le=Bn(he)?Pn:Zn.current,Pe=he.contextTypes,Be=(Pe=Pe!=null)?ur(de,Le):Kn),he=new he(be,Be),de.memoizedState=he.state!==null&&he.state!==void 0?he.state:null,he.updater=xl,de.stateNode=he,he._reactInternals=de,Pe&&(de=de.stateNode,de.__reactInternalMemoizedUnmaskedChildContext=Le,de.__reactInternalMemoizedMaskedChildContext=Be),he}function Jc(de,he,be,Pe){de=he.state,typeof he.componentWillReceiveProps=="function"&&he.componentWillReceiveProps(be,Pe),typeof he.UNSAFE_componentWillReceiveProps=="function"&&he.UNSAFE_componentWillReceiveProps(be,Pe),he.state!==de&&xl.enqueueReplaceState(he,he.state,null)}function lc(de,he,be,Pe){var Le=de.stateNode;Le.props=be,Le.state=de.memoizedState,Le.refs=Zc,ta(de);var Be=he.contextType;typeof Be=="object"&&Be!==null?Le.context=Ei(Be):(Be=Bn(he)?Pn:Zn.current,Le.context=ur(de,Be)),Le.state=de.memoizedState,Be=he.getDerivedStateFromProps,typeof Be=="function"&&(sc(de,he,Be,be),Le.state=de.memoizedState),typeof he.getDerivedStateFromProps=="function"||typeof Le.getSnapshotBeforeUpdate=="function"||typeof Le.UNSAFE_componentWillMount!="function"&&typeof Le.componentWillMount!="function"||(he=Le.state,typeof Le.componentWillMount=="function"&&Le.componentWillMount(),typeof Le.UNSAFE_componentWillMount=="function"&&Le.UNSAFE_componentWillMount(),he!==Le.state&&xl.enqueueReplaceState(Le,Le.state,null),yl(de,be,Le,Pe),Le.state=de.memoizedState),typeof Le.componentDidMount=="function"&&(de.flags|=4194308)}var na=[],Qo=0,_l=null,Sl=0,Wi=[],Ci=0,xs=null,Ao=1,Co="";function _s(de,he){na[Qo++]=Sl,na[Qo++]=_l,_l=de,Sl=he}function eu(de,he,be){Wi[Ci++]=Ao,Wi[Ci++]=Co,Wi[Ci++]=xs,xs=de;var Pe=Ao;de=Co;var Le=32-pr(Pe)-1;Pe&=~(1<<Le),be+=1;var Be=32-pr(he)+Le;if(30<Be){var Je=Le-Le%5;Be=(Pe&(1<<Je)-1).toString(32),Pe>>=Je,Le-=Je,Ao=1<<32-pr(he)+Le|be<<Le|Pe,Co=Be+de}else Ao=1<<Be|be<<Le|Pe,Co=de}function cc(de){de.return!==null&&(_s(de,1),eu(de,1,0))}function uc(de){for(;de===_l;)_l=na[--Qo],na[Qo]=null,Sl=na[--Qo],na[Qo]=null;for(;de===xs;)xs=Wi[--Ci],Wi[Ci]=null,Co=Wi[--Ci],Wi[Ci]=null,Ao=Wi[--Ci],Wi[Ci]=null}var ui=null,Kr=null,Er=!1,ra=!1,ji=null;function fc(de,he){var be=Ni(5,null,null,0);be.elementType="DELETED",be.stateNode=he,be.return=de,he=de.deletions,he===null?(de.deletions=[be],de.flags|=16):he.push(be)}function dc(de,he){switch(de.tag){case 5:return he=hr(he,de.type,de.pendingProps),he!==null?(de.stateNode=he,ui=de,Kr=Qi(he),!0):!1;case 6:return he=_o(he,de.pendingProps),he!==null?(de.stateNode=he,ui=de,Kr=null,!0):!1;case 13:if(he=Fr(he),he!==null){var be=xs!==null?{id:Ao,overflow:Co}:null;return de.memoizedState={dehydrated:he,treeContext:be,retryLane:1073741824},be=Ni(18,null,null,0),be.stateNode=he,be.return=de,de.child=be,ui=de,Kr=null,!0}return!1;default:return!1}}function El(de){return(de.mode&1)!==0&&(de.flags&128)===0}function Jo(de){if(Er){var he=Kr;if(he){var be=he;if(!dc(de,he)){if(El(de))throw Error(oe(418));he=yi(be);var Pe=ui;he&&dc(de,he)?fc(Pe,be):(de.flags=de.flags&-4097|2,Er=!1,ui=de)}}else{if(El(de))throw Error(oe(418));de.flags=de.flags&-4097|2,Er=!1,ui=de}}}function tu(de){for(de=de.return;de!==null&&de.tag!==5&&de.tag!==3&&de.tag!==13;)de=de.return;ui=de}function Da(de){if(!Vt||de!==ui)return!1;if(!Er)return tu(de),Er=!0,!1;if(de.tag!==3&&(de.tag!==5||xt(de.type)&&!dt(de.type,de.memoizedProps))){var he=Kr;if(he){if(El(de)){for(de=Kr;de;)de=yi(de);throw Error(oe(418))}for(;he;)fc(de,he),he=yi(he)}}if(tu(de),de.tag===13){if(!Vt)throw Error(oe(316));if(de=de.memoizedState,de=de!==null?de.dehydrated:null,!de)throw Error(oe(317));Kr=Eo(de)}else Kr=ui?yi(de.stateNode):null;return!0}function ia(){Vt&&(Kr=ui=null,ra=Er=!1)}function bl(de){ji===null?ji=[de]:ji.push(de)}function oa(de,he,be){if(de=be.ref,de!==null&&typeof de!="function"&&typeof de!="object"){if(be._owner){if(be=be._owner,be){if(be.tag!==1)throw Error(oe(309));var Pe=be.stateNode}if(!Pe)throw Error(oe(147,de));var Le=Pe,Be=""+de;return he!==null&&he.ref!==null&&typeof he.ref=="function"&&he.ref._stringRef===Be?he.ref:(he=function(Je){var yt=Le.refs;yt===Zc&&(yt=Le.refs={}),Je===null?delete yt[Be]:yt[Be]=Je},he._stringRef=Be,he)}if(typeof de!="string")throw Error(oe(284));if(!be._owner)throw Error(oe(290,de))}return de}function ts(de,he){throw de=Object.prototype.toString.call(he),Error(oe(31,de==="[object Object]"?"object with keys {"+Object.keys(he).join(", ")+"}":de))}function sa(de){var he=de._init;return he(de._payload)}function nu(de){function he(Ct,St){if(de){var kt=Ct.deletions;kt===null?(Ct.deletions=[St],Ct.flags|=16):kt.push(St)}}function be(Ct,St){if(!de)return null;for(;St!==null;)he(Ct,St),St=St.sibling;return null}function Pe(Ct,St){for(Ct=new Map;St!==null;)St.key!==null?Ct.set(St.key,St):Ct.set(St.index,St),St=St.sibling;return Ct}function Le(Ct,St){return Ct=Go(Ct,St),Ct.index=0,Ct.sibling=null,Ct}function Be(Ct,St,kt){return Ct.index=kt,de?(kt=Ct.alternate,kt!==null?(kt=kt.index,kt<St?(Ct.flags|=2,St):kt):(Ct.flags|=2,St)):(Ct.flags|=1048576,St)}function Je(Ct){return de&&Ct.alternate===null&&(Ct.flags|=2),Ct}function yt(Ct,St,kt,xn){return St===null||St.tag!==6?(St=Kl(kt,Ct.mode,xn),St.return=Ct,St):(St=Le(St,kt),St.return=Ct,St)}function Gt(Ct,St,kt,xn){var $n=kt.type;return $n===fe?Rn(Ct,St,kt.props.children,xn,kt.key):St!==null&&(St.elementType===$n||typeof $n=="object"&&$n!==null&&$n.$$typeof===Te&&sa($n)===St.type)?(xn=Le(St,kt.props),xn.ref=oa(Ct,St,kt),xn.return=Ct,xn):(xn=Yl(kt.type,kt.key,kt.props,null,Ct.mode,xn),xn.ref=oa(Ct,St,kt),xn.return=Ct,xn)}function ln(Ct,St,kt,xn){return St===null||St.tag!==4||St.stateNode.containerInfo!==kt.containerInfo||St.stateNode.implementation!==kt.implementation?(St=Zl(kt,Ct.mode,xn),St.return=Ct,St):(St=Le(St,kt.children||[]),St.return=Ct,St)}function Rn(Ct,St,kt,xn,$n){return St===null||St.tag!==7?(St=Vs(kt,Ct.mode,xn,$n),St.return=Ct,St):(St=Le(St,kt),St.return=Ct,St)}function Wn(Ct,St,kt){if(typeof St=="string"&&St!==""||typeof St=="number")return St=Kl(""+St,Ct.mode,kt),St.return=Ct,St;if(typeof St=="object"&&St!==null){switch(St.$$typeof){case le:return kt=Yl(St.type,St.key,St.props,null,Ct.mode,kt),kt.ref=oa(Ct,null,St),kt.return=Ct,kt;case ce:return St=Zl(St,Ct.mode,kt),St.return=Ct,St;case Te:var xn=St._init;return Wn(Ct,xn(St._payload),kt)}if(ut(St)||$e(St))return St=Vs(St,Ct.mode,kt,null),St.return=Ct,St;ts(Ct,St)}return null}function kn(Ct,St,kt,xn){var $n=St!==null?St.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number")return $n!==null?null:yt(Ct,St,""+kt,xn);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case le:return kt.key===$n?Gt(Ct,St,kt,xn):null;case ce:return kt.key===$n?ln(Ct,St,kt,xn):null;case Te:return $n=kt._init,kn(Ct,St,$n(kt._payload),xn)}if(ut(kt)||$e(kt))return $n!==null?null:Rn(Ct,St,kt,xn,null);ts(Ct,kt)}return null}function er(Ct,St,kt,xn,$n){if(typeof xn=="string"&&xn!==""||typeof xn=="number")return Ct=Ct.get(kt)||null,yt(St,Ct,""+xn,$n);if(typeof xn=="object"&&xn!==null){switch(xn.$$typeof){case le:return Ct=Ct.get(xn.key===null?kt:xn.key)||null,Gt(St,Ct,xn,$n);case ce:return Ct=Ct.get(xn.key===null?kt:xn.key)||null,ln(St,Ct,xn,$n);case Te:var Yn=xn._init;return er(Ct,St,kt,Yn(xn._payload),$n)}if(ut(xn)||$e(xn))return Ct=Ct.get(kt)||null,Rn(St,Ct,xn,$n,null);ts(St,xn)}return null}function En(Ct,St,kt,xn){for(var $n=null,Yn=null,jn=St,ir=St=0,Or=null;jn!==null&&ir<kt.length;ir++){jn.index>ir?(Or=jn,jn=null):Or=jn.sibling;var nr=kn(Ct,jn,kt[ir],xn);if(nr===null){jn===null&&(jn=Or);break}de&&jn&&nr.alternate===null&&he(Ct,jn),St=Be(nr,St,ir),Yn===null?$n=nr:Yn.sibling=nr,Yn=nr,jn=Or}if(ir===kt.length)return be(Ct,jn),Er&&_s(Ct,ir),$n;if(jn===null){for(;ir<kt.length;ir++)jn=Wn(Ct,kt[ir],xn),jn!==null&&(St=Be(jn,St,ir),Yn===null?$n=jn:Yn.sibling=jn,Yn=jn);return Er&&_s(Ct,ir),$n}for(jn=Pe(Ct,jn);ir<kt.length;ir++)Or=er(jn,Ct,ir,kt[ir],xn),Or!==null&&(de&&Or.alternate!==null&&jn.delete(Or.key===null?ir:Or.key),St=Be(Or,St,ir),Yn===null?$n=Or:Yn.sibling=Or,Yn=Or);return de&&jn.forEach(function(Ho){return he(Ct,Ho)}),Er&&_s(Ct,ir),$n}function ti(Ct,St,kt,xn){var $n=$e(kt);if(typeof $n!="function")throw Error(oe(150));if(kt=$n.call(kt),kt==null)throw Error(oe(151));for(var Yn=$n=null,jn=St,ir=St=0,Or=null,nr=kt.next();jn!==null&&!nr.done;ir++,nr=kt.next()){jn.index>ir?(Or=jn,jn=null):Or=jn.sibling;var Ho=kn(Ct,jn,nr.value,xn);if(Ho===null){jn===null&&(jn=Or);break}de&&jn&&Ho.alternate===null&&he(Ct,jn),St=Be(Ho,St,ir),Yn===null?$n=Ho:Yn.sibling=Ho,Yn=Ho,jn=Or}if(nr.done)return be(Ct,jn),Er&&_s(Ct,ir),$n;if(jn===null){for(;!nr.done;ir++,nr=kt.next())nr=Wn(Ct,nr.value,xn),nr!==null&&(St=Be(nr,St,ir),Yn===null?$n=nr:Yn.sibling=nr,Yn=nr);return Er&&_s(Ct,ir),$n}for(jn=Pe(Ct,jn);!nr.done;ir++,nr=kt.next())nr=er(jn,Ct,ir,nr.value,xn),nr!==null&&(de&&nr.alternate!==null&&jn.delete(nr.key===null?ir:nr.key),St=Be(nr,St,ir),Yn===null?$n=nr:Yn.sibling=nr,Yn=nr);return de&&jn.forEach(function(Gc){return he(Ct,Gc)}),Er&&_s(Ct,ir),$n}function Fi(Ct,St,kt,xn){if(typeof kt=="object"&&kt!==null&&kt.type===fe&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case le:e:{for(var $n=kt.key,Yn=St;Yn!==null;){if(Yn.key===$n){if($n=kt.type,$n===fe){if(Yn.tag===7){be(Ct,Yn.sibling),St=Le(Yn,kt.props.children),St.return=Ct,Ct=St;break e}}else if(Yn.elementType===$n||typeof $n=="object"&&$n!==null&&$n.$$typeof===Te&&sa($n)===Yn.type){be(Ct,Yn.sibling),St=Le(Yn,kt.props),St.ref=oa(Ct,Yn,kt),St.return=Ct,Ct=St;break e}be(Ct,Yn);break}else he(Ct,Yn);Yn=Yn.sibling}kt.type===fe?(St=Vs(kt.props.children,Ct.mode,xn,kt.key),St.return=Ct,Ct=St):(xn=Yl(kt.type,kt.key,kt.props,null,Ct.mode,xn),xn.ref=oa(Ct,St,kt),xn.return=Ct,Ct=xn)}return Je(Ct);case ce:e:{for(Yn=kt.key;St!==null;){if(St.key===Yn)if(St.tag===4&&St.stateNode.containerInfo===kt.containerInfo&&St.stateNode.implementation===kt.implementation){be(Ct,St.sibling),St=Le(St,kt.children||[]),St.return=Ct,Ct=St;break e}else{be(Ct,St);break}else he(Ct,St);St=St.sibling}St=Zl(kt,Ct.mode,xn),St.return=Ct,Ct=St}return Je(Ct);case Te:return Yn=kt._init,Fi(Ct,St,Yn(kt._payload),xn)}if(ut(kt))return En(Ct,St,kt,xn);if($e(kt))return ti(Ct,St,kt,xn);ts(Ct,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"?(kt=""+kt,St!==null&&St.tag===6?(be(Ct,St.sibling),St=Le(St,kt),St.return=Ct,Ct=St):(be(Ct,St),St=Kl(kt,Ct.mode,xn),St.return=Ct,Ct=St),Je(Ct)):be(Ct,St)}return Fi}var Po=nu(!0),ru=nu(!1),aa={},bi=Tn(aa),Ss=Tn(aa),Es=Tn(aa);function eo(de){if(de===aa)throw Error(oe(174));return de}function wl(de,he){Ln(Es,he),Ln(Ss,de),Ln(bi,aa),de=gt(he),bn(bi),Ln(bi,de)}function la(){bn(bi),bn(Ss),bn(Es)}function iu(de){var he=eo(Es.current),be=eo(bi.current);he=je(be,de.type,he),be!==he&&(Ln(Ss,de),Ln(bi,he))}function hc(de){Ss.current===de&&(bn(bi),bn(Ss))}var Mr=Tn(0);function Ml(de){for(var he=de;he!==null;){if(he.tag===13){var be=he.memoizedState;if(be!==null&&(be=be.dehydrated,be===null||Ai(be)||vi(be)))return he}else if(he.tag===19&&he.memoizedProps.revealOrder!==void 0){if(he.flags&128)return he}else if(he.child!==null){he.child.return=he,he=he.child;continue}if(he===de)break;for(;he.sibling===null;){if(he.return===null||he.return===de)return null;he=he.return}he.sibling.return=he.return,he=he.sibling}return null}var Pi=[];function bs(){for(var de=0;de<Pi.length;de++){var he=Pi[de];sn?he._workInProgressVersionPrimary=null:he._workInProgressVersionSecondary=null}Pi.length=0}var Oa=se.ReactCurrentDispatcher,Ii=se.ReactCurrentBatchConfig,ws=0,Tr=null,Hr=null,Wr=null,Tl=!1,fo=!1,Ms=0,Na=0;function jr(){throw Error(oe(321))}function Rl(de,he){if(he===null)return!1;for(var be=0;be<he.length&&be<de.length;be++)if(!Fn(de[be],he[be]))return!1;return!0}function ca(de,he,be,Pe,Le,Be){if(ws=Be,Tr=he,he.memoizedState=null,he.updateQueue=null,he.lanes=0,Oa.current=de===null||de.memoizedState===null?xc:_c,de=be(Pe,Le),fo){Be=0;do{if(fo=!1,Ms=0,25<=Be)throw Error(oe(301));Be+=1,Wr=Hr=null,he.updateQueue=null,Oa.current=Sc,de=be(Pe,Le)}while(fo)}if(Oa.current=ha,he=Hr!==null&&Hr.next!==null,ws=0,Wr=Hr=Tr=null,Tl=!1,he)throw Error(oe(300));return de}function ns(){var de=Ms!==0;return Ms=0,de}function to(){var de={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?Tr.memoizedState=Wr=de:Wr=Wr.next=de,Wr}function no(){if(Hr===null){var de=Tr.alternate;de=de!==null?de.memoizedState:null}else de=Hr.next;var he=Wr===null?Tr.memoizedState:Wr.next;if(he!==null)Wr=he,Hr=de;else{if(de===null)throw Error(oe(310));Hr=de,de={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},Wr===null?Tr.memoizedState=Wr=de:Wr=Wr.next=de}return Wr}function ho(de,he){return typeof he=="function"?he(de):he}function Fa(de){var he=no(),be=he.queue;if(be===null)throw Error(oe(311));be.lastRenderedReducer=de;var Pe=Hr,Le=Pe.baseQueue,Be=be.pending;if(Be!==null){if(Le!==null){var Je=Le.next;Le.next=Be.next,Be.next=Je}Pe.baseQueue=Le=Be,be.pending=null}if(Le!==null){Be=Le.next,Pe=Pe.baseState;var yt=Je=null,Gt=null,ln=Be;do{var Rn=ln.lane;if((ws&Rn)===Rn)Gt!==null&&(Gt=Gt.next={lane:0,action:ln.action,hasEagerState:ln.hasEagerState,eagerState:ln.eagerState,next:null}),Pe=ln.hasEagerState?ln.eagerState:de(Pe,ln.action);else{var Wn={lane:Rn,action:ln.action,hasEagerState:ln.hasEagerState,eagerState:ln.eagerState,next:null};Gt===null?(yt=Gt=Wn,Je=Pe):Gt=Gt.next=Wn,Tr.lanes|=Rn,mo|=Rn}ln=ln.next}while(ln!==null&&ln!==Be);Gt===null?Je=Pe:Gt.next=yt,Fn(Pe,he.memoizedState)||(qr=!0),he.memoizedState=Pe,he.baseState=Je,he.baseQueue=Gt,be.lastRenderedState=Pe}if(de=be.interleaved,de!==null){Le=de;do Be=Le.lane,Tr.lanes|=Be,mo|=Be,Le=Le.next;while(Le!==de)}else Le===null&&(be.lanes=0);return[he.memoizedState,be.dispatch]}function ka(de){var he=no(),be=he.queue;if(be===null)throw Error(oe(311));be.lastRenderedReducer=de;var Pe=be.dispatch,Le=be.pending,Be=he.memoizedState;if(Le!==null){be.pending=null;var Je=Le=Le.next;do Be=de(Be,Je.action),Je=Je.next;while(Je!==Le);Fn(Be,he.memoizedState)||(qr=!0),he.memoizedState=Be,he.baseQueue===null&&(he.baseState=Be),be.lastRenderedState=Be}return[Be,Pe]}function pc(){}function mc(de,he){var be=Tr,Pe=no(),Le=he(),Be=!Fn(Pe.memoizedState,Le);if(Be&&(Pe.memoizedState=Le,qr=!0),Pe=Pe.queue,ua(Io.bind(null,be,Pe,de),[de]),Pe.getSnapshot!==he||Be||Wr!==null&&Wr.memoizedState.tag&1){if(be.flags|=2048,Ba(9,vc.bind(null,be,Pe,Le,he),void 0,null),$r===null)throw Error(oe(349));ws&30||gc(be,he,Le)}return Le}function gc(de,he,be){de.flags|=16384,de={getSnapshot:he,value:be},he=Tr.updateQueue,he===null?(he={lastEffect:null,stores:null},Tr.updateQueue=he,he.stores=[de]):(be=he.stores,be===null?he.stores=[de]:be.push(de))}function vc(de,he,be,Pe){he.value=be,he.getSnapshot=Pe,Al(he)&&oi(de,1,-1)}function Io(de,he,be){return be(function(){Al(he)&&oi(de,1,-1)})}function Al(de){var he=de.getSnapshot;de=de.value;try{var be=he();return!Fn(de,be)}catch{return!0}}function Ua(de){var he=to();return typeof de=="function"&&(de=de()),he.memoizedState=he.baseState=de,de={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:de},he.queue=de,de=de.dispatch=Bu.bind(null,Tr,de),[he.memoizedState,de]}function Ba(de,he,be,Pe){return de={tag:de,create:he,destroy:be,deps:Pe,next:null},he=Tr.updateQueue,he===null?(he={lastEffect:null,stores:null},Tr.updateQueue=he,he.lastEffect=de.next=de):(be=he.lastEffect,be===null?he.lastEffect=de.next=de:(Pe=be.next,be.next=de,de.next=Pe,he.lastEffect=de)),de}function ou(){return no().memoizedState}function rs(de,he,be,Pe){var Le=to();Tr.flags|=de,Le.memoizedState=Ba(1|he,be,void 0,Pe===void 0?null:Pe)}function Cl(de,he,be,Pe){var Le=no();Pe=Pe===void 0?null:Pe;var Be=void 0;if(Hr!==null){var Je=Hr.memoizedState;if(Be=Je.destroy,Pe!==null&&Rl(Pe,Je.deps)){Le.memoizedState=Ba(he,be,Be,Pe);return}}Tr.flags|=de,Le.memoizedState=Ba(1|he,be,Be,Pe)}function Pl(de,he){return rs(8390656,8,de,he)}function ua(de,he){return Cl(2048,8,de,he)}function gr(de,he){return Cl(4,2,de,he)}function Il(de,he){return Cl(4,4,de,he)}function za(de,he){if(typeof he=="function")return de=de(),he(de),function(){he(null)};if(he!=null)return de=de(),he.current=de,function(){he.current=null}}function fa(de,he,be){return be=be!=null?be.concat([de]):null,Cl(4,4,za.bind(null,he,de),be)}function Ll(){}function $l(de,he){var be=no();he=he===void 0?null:he;var Pe=be.memoizedState;return Pe!==null&&he!==null&&Rl(he,Pe[1])?Pe[0]:(be.memoizedState=[de,he],de)}function da(de,he){var be=no();he=he===void 0?null:he;var Pe=be.memoizedState;return Pe!==null&&he!==null&&Rl(he,Pe[1])?Pe[0]:(de=de(),be.memoizedState=[de,he],de)}function Dl(de,he){var be=Qn;Qn=be!==0&&4>be?be:4,de(!0);var Pe=Ii.transition;Ii.transition={};try{de(!1),he()}finally{Qn=be,Ii.transition=Pe}}function Ts(){return no().memoizedState}function su(de,he,be){var Pe=so(de);be={lane:Pe,action:be,hasEagerState:!1,eagerState:null,next:null},au(de)?yc(he,be):(Va(de,he,be),be=or(),de=oi(de,Pe,be),de!==null&&Ga(de,he,Pe))}function Bu(de,he,be){var Pe=so(de),Le={lane:Pe,action:be,hasEagerState:!1,eagerState:null,next:null};if(au(de))yc(he,Le);else{Va(de,he,Le);var Be=de.alternate;if(de.lanes===0&&(Be===null||Be.lanes===0)&&(Be=he.lastRenderedReducer,Be!==null))try{var Je=he.lastRenderedState,yt=Be(Je,be);if(Le.hasEagerState=!0,Le.eagerState=yt,Fn(yt,Je))return}catch{}finally{}be=or(),de=oi(de,Pe,be),de!==null&&Ga(de,he,Pe)}}function au(de){var he=de.alternate;return de===Tr||he!==null&&he===Tr}function yc(de,he){fo=Tl=!0;var be=de.pending;be===null?he.next=he:(he.next=be.next,be.next=he),de.pending=he}function Va(de,he,be){$r!==null&&de.mode&1&&!(Jn&2)?(de=he.interleaved,de===null?(be.next=be,Gi===null?Gi=[he]:Gi.push(he)):(be.next=de.next,de.next=be),he.interleaved=be):(de=he.pending,de===null?be.next=be:(be.next=de.next,de.next=be),he.pending=be)}function Ga(de,he,be){if(be&4194240){var Pe=he.lanes;Pe&=de.pendingLanes,be|=Pe,he.lanes=be,Vi(de,be)}}var ha={readContext:Ei,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},xc={readContext:Ei,useCallback:function(de,he){return to().memoizedState=[de,he===void 0?null:he],de},useContext:Ei,useEffect:Pl,useImperativeHandle:function(de,he,be){return be=be!=null?be.concat([de]):null,rs(4194308,4,za.bind(null,he,de),be)},useLayoutEffect:function(de,he){return rs(4194308,4,de,he)},useInsertionEffect:function(de,he){return rs(4,2,de,he)},useMemo:function(de,he){var be=to();return he=he===void 0?null:he,de=de(),be.memoizedState=[de,he],de},useReducer:function(de,he,be){var Pe=to();return he=be!==void 0?be(he):he,Pe.memoizedState=Pe.baseState=he,de={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:he},Pe.queue=de,de=de.dispatch=su.bind(null,Tr,de),[Pe.memoizedState,de]},useRef:function(de){var he=to();return de={current:de},he.memoizedState=de},useState:Ua,useDebugValue:Ll,useDeferredValue:function(de){var he=Ua(de),be=he[0],Pe=he[1];return Pl(function(){var Le=Ii.transition;Ii.transition={};try{Pe(de)}finally{Ii.transition=Le}},[de]),be},useTransition:function(){var de=Ua(!1),he=de[0];return de=Dl.bind(null,de[1]),to().memoizedState=de,[he,de]},useMutableSource:function(){},useSyncExternalStore:function(de,he,be){var Pe=Tr,Le=to();if(Er){if(be===void 0)throw Error(oe(407));be=be()}else{if(be=he(),$r===null)throw Error(oe(349));ws&30||gc(Pe,he,be)}Le.memoizedState=be;var Be={value:be,getSnapshot:he};return Le.queue=Be,Pl(Io.bind(null,Pe,Be,de),[de]),Pe.flags|=2048,Ba(9,vc.bind(null,Pe,Be,be,he),void 0,null),be},useId:function(){var de=to(),he=$r.identifierPrefix;if(Er){var be=Co,Pe=Ao;be=(Pe&~(1<<32-pr(Pe)-1)).toString(32)+be,he=":"+he+"R"+be,be=Ms++,0<be&&(he+="H"+be.toString(32)),he+=":"}else be=Na++,he=":"+he+"r"+be.toString(32)+":";return de.memoizedState=he},unstable_isNewReconciler:!1},_c={readContext:Ei,useCallback:$l,useContext:Ei,useEffect:ua,useImperativeHandle:fa,useInsertionEffect:gr,useLayoutEffect:Il,useMemo:da,useReducer:Fa,useRef:ou,useState:function(){return Fa(ho)},useDebugValue:Ll,useDeferredValue:function(de){var he=Fa(ho),be=he[0],Pe=he[1];return ua(function(){var Le=Ii.transition;Ii.transition={};try{Pe(de)}finally{Ii.transition=Le}},[de]),be},useTransition:function(){var de=Fa(ho)[0],he=no().memoizedState;return[de,he]},useMutableSource:pc,useSyncExternalStore:mc,useId:Ts,unstable_isNewReconciler:!1},Sc={readContext:Ei,useCallback:$l,useContext:Ei,useEffect:ua,useImperativeHandle:fa,useInsertionEffect:gr,useLayoutEffect:Il,useMemo:da,useReducer:ka,useRef:ou,useState:function(){return ka(ho)},useDebugValue:Ll,useDeferredValue:function(de){var he=ka(ho),be=he[0],Pe=he[1];return ua(function(){var Le=Ii.transition;Ii.transition={};try{Pe(de)}finally{Ii.transition=Le}},[de]),be},useTransition:function(){var de=ka(ho)[0],he=no().memoizedState;return[de,he]},useMutableSource:pc,useSyncExternalStore:mc,useId:Ts,unstable_isNewReconciler:!1};function Ec(de,he){try{var be="",Pe=he;do be+=Js(Pe),Pe=Pe.return;while(Pe);var Le=be}catch(Be){Le=`
Error generating stack: `+Be.message+`
`+Be.stack}return{value:de,source:he,stack:Le}}function Ol(de,he){try{console.error(he.value)}catch(be){setTimeout(function(){throw be})}}var zu=typeof WeakMap=="function"?WeakMap:Map;function lu(de,he,be){be=Ro(-1,be),be.tag=3,be.payload={element:null};var Pe=he.value;return be.callback=function(){xa||(xa=!0,_r=Pe),Ol(de,he)},be}function Nl(de,he,be){be=Ro(-1,be),be.tag=3;var Pe=de.type.getDerivedStateFromError;if(typeof Pe=="function"){var Le=he.value;be.payload=function(){return Pe(Le)},be.callback=function(){Ol(de,he)}}var Be=de.stateNode;return Be!==null&&typeof Be.componentDidCatch=="function"&&(be.callback=function(){Ol(de,he),typeof Pe!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var Je=he.stack;this.componentDidCatch(he.value,{componentStack:Je!==null?Je:""})}),be}function Lo(de,he,be){var Pe=de.pingCache;if(Pe===null){Pe=de.pingCache=new zu;var Le=new Set;Pe.set(he,Le)}else Le=Pe.get(he),Le===void 0&&(Le=new Set,Pe.set(he,Le));Le.has(be)||(Le.add(be),de=Bc.bind(null,de,he,be),he.then(de,de))}function bc(de){do{var he;if((he=de.tag===13)&&(he=de.memoizedState,he=he!==null?he.dehydrated!==null:!0),he)return de;de=de.return}while(de!==null);return null}function Rs(de,he,be,Pe,Le){return de.mode&1?(de.flags|=65536,de.lanes=Le,de):(de===he?de.flags|=65536:(de.flags|=128,be.flags|=131072,be.flags&=-52805,be.tag===1&&(be.alternate===null?be.tag=17:(he=Ro(-1,1),he.tag=2,Zo(be,he))),be.lanes|=1),de)}function Ur(de){de.flags|=4}function pa(de,he){if(de!==null&&de.child===he.child)return!0;if(he.flags&16)return!1;for(de=he.child;de!==null;){if(de.flags&12854||de.subtreeFlags&12854)return!1;de=de.sibling}return!0}var Li,As,Fl,kl;if(hn)Li=function(de,he){for(var be=he.child;be!==null;){if(be.tag===5||be.tag===6)lt(de,be.stateNode);else if(be.tag!==4&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===he)break;for(;be.sibling===null;){if(be.return===null||be.return===he)return;be=be.return}be.sibling.return=be.return,be=be.sibling}},As=function(){},Fl=function(de,he,be,Pe,Le){if(de=de.memoizedProps,de!==Pe){var Be=he.stateNode,Je=eo(bi.current);be=ht(Be,be,de,Pe,Le,Je),(he.updateQueue=be)&&Ur(he)}},kl=function(de,he,be,Pe){be!==Pe&&Ur(he)};else if(Dt){Li=function(de,he,be,Pe){for(var Le=he.child;Le!==null;){if(Le.tag===5){var Be=Le.stateNode;be&&Pe&&(Be=qn(Be,Le.type,Le.memoizedProps,Le)),lt(de,Be)}else if(Le.tag===6)Be=Le.stateNode,be&&Pe&&(Be=Sr(Be,Le.memoizedProps,Le)),lt(de,Be);else if(Le.tag!==4){if(Le.tag===22&&Le.memoizedState!==null)Be=Le.child,Be!==null&&(Be.return=Le),Li(de,Le,!0,!0);else if(Le.child!==null){Le.child.return=Le,Le=Le.child;continue}}if(Le===he)break;for(;Le.sibling===null;){if(Le.return===null||Le.return===he)return;Le=Le.return}Le.sibling.return=Le.return,Le=Le.sibling}};var os=function(de,he,be,Pe){for(var Le=he.child;Le!==null;){if(Le.tag===5){var Be=Le.stateNode;be&&Pe&&(Be=qn(Be,Le.type,Le.memoizedProps,Le)),Dn(de,Be)}else if(Le.tag===6)Be=Le.stateNode,be&&Pe&&(Be=Sr(Be,Le.memoizedProps,Le)),Dn(de,Be);else if(Le.tag!==4){if(Le.tag===22&&Le.memoizedState!==null)Be=Le.child,Be!==null&&(Be.return=Le),os(de,Le,!0,!0);else if(Le.child!==null){Le.child.return=Le,Le=Le.child;continue}}if(Le===he)break;for(;Le.sibling===null;){if(Le.return===null||Le.return===he)return;Le=Le.return}Le.sibling.return=Le.return,Le=Le.sibling}};As=function(de,he){var be=he.stateNode;if(!pa(de,he)){de=be.containerInfo;var Pe=gn(de);os(Pe,he,!1,!1),be.pendingChildren=Pe,Ur(he),tr(de,Pe)}},Fl=function(de,he,be,Pe,Le){var Be=de.stateNode,Je=de.memoizedProps;if((de=pa(de,he))&&Je===Pe)he.stateNode=Be;else{var yt=he.stateNode,Gt=eo(bi.current),ln=null;Je!==Pe&&(ln=ht(yt,be,Je,Pe,Le,Gt)),de&&ln===null?he.stateNode=Be:(Be=yn(Be,ln,be,Je,Pe,he,de,yt),Et(Be,be,Pe,Le,Gt)&&Ur(he),he.stateNode=Be,de?Ur(he):Li(Be,he,!1,!1))}},kl=function(de,he,be,Pe){be!==Pe?(de=eo(Es.current),be=eo(bi.current),he.stateNode=Mt(Pe,de,be,he),Ur(he)):he.stateNode=de.stateNode}}else As=function(){},Fl=function(){},kl=function(){};function $o(de,he){if(!Er)switch(de.tailMode){case"hidden":he=de.tail;for(var be=null;he!==null;)he.alternate!==null&&(be=he),he=he.sibling;be===null?de.tail=null:be.sibling=null;break;case"collapsed":be=de.tail;for(var Pe=null;be!==null;)be.alternate!==null&&(Pe=be),be=be.sibling;Pe===null?he||de.tail===null?de.tail=null:de.tail.sibling=null:Pe.sibling=null}}function Lr(de){var he=de.alternate!==null&&de.alternate.child===de.child,be=0,Pe=0;if(he)for(var Le=de.child;Le!==null;)be|=Le.lanes|Le.childLanes,Pe|=Le.subtreeFlags&14680064,Pe|=Le.flags&14680064,Le.return=de,Le=Le.sibling;else for(Le=de.child;Le!==null;)be|=Le.lanes|Le.childLanes,Pe|=Le.subtreeFlags,Pe|=Le.flags,Le.return=de,Le=Le.sibling;return de.subtreeFlags|=Pe,de.childLanes=be,he}function Ul(de,he,be){var Pe=he.pendingProps;switch(uc(he),he.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(he),null;case 1:return Bn(he.type)&&Rr(),Lr(he),null;case 3:return Pe=he.stateNode,la(),bn(Gn),bn(Zn),bs(),Pe.pendingContext&&(Pe.context=Pe.pendingContext,Pe.pendingContext=null),(de===null||de.child===null)&&(Da(he)?Ur(he):de===null||de.memoizedState.isDehydrated&&!(he.flags&256)||(he.flags|=1024,ji!==null&&(nl(ji),ji=null))),As(de,he),Lr(he),null;case 5:hc(he),be=eo(Es.current);var Le=he.type;if(de!==null&&he.stateNode!=null)Fl(de,he,Le,Pe,be),de.ref!==he.ref&&(he.flags|=512,he.flags|=2097152);else{if(!Pe){if(he.stateNode===null)throw Error(oe(166));return Lr(he),null}if(de=eo(bi.current),Da(he)){if(!Vt)throw Error(oe(175));de=Ws(he.stateNode,he.type,he.memoizedProps,be,de,he,!ra),he.updateQueue=de,de!==null&&Ur(he)}else{var Be=qe(Le,Pe,be,de,he);Li(Be,he,!1,!1),he.stateNode=Be,Et(Be,Le,Pe,be,de)&&Ur(he)}he.ref!==null&&(he.flags|=512,he.flags|=2097152)}return Lr(he),null;case 6:if(de&&he.stateNode!=null)kl(de,he,de.memoizedProps,Pe);else{if(typeof Pe!="string"&&he.stateNode===null)throw Error(oe(166));if(de=eo(Es.current),be=eo(bi.current),Da(he)){if(!Vt)throw Error(oe(176));if(de=he.stateNode,Pe=he.memoizedProps,(be=Ui(de,Pe,he,!ra))&&(Le=ui,Le!==null))switch(Be=(Le.mode&1)!==0,Le.tag){case 3:It(Le.stateNode.containerInfo,de,Pe,Be);break;case 5:Lt(Le.type,Le.memoizedProps,Le.stateNode,de,Pe,Be)}be&&Ur(he)}else he.stateNode=Mt(Pe,de,be,he)}return Lr(he),null;case 13:if(bn(Mr),Pe=he.memoizedState,Er&&Kr!==null&&he.mode&1&&!(he.flags&128)){for(de=Kr;de;)de=yi(de);return ia(),he.flags|=98560,he}if(Pe!==null&&Pe.dehydrated!==null){if(Pe=Da(he),de===null){if(!Pe)throw Error(oe(318));if(!Vt)throw Error(oe(344));if(de=he.memoizedState,de=de!==null?de.dehydrated:null,!de)throw Error(oe(317));js(de,he)}else ia(),!(he.flags&128)&&(he.memoizedState=null),he.flags|=4;return Lr(he),null}return ji!==null&&(nl(ji),ji=null),he.flags&128?(he.lanes=be,he):(Pe=Pe!==null,be=!1,de===null?Da(he):be=de.memoizedState!==null,Pe&&!be&&(he.child.flags|=8192,he.mode&1&&(de===null||Mr.current&1?Cr===0&&(Cr=3):jl())),he.updateQueue!==null&&(he.flags|=4),Lr(he),null);case 4:return la(),As(de,he),de===null&&on(he.stateNode.containerInfo),Lr(he),null;case 10:return $a(he.type._context),Lr(he),null;case 17:return Bn(he.type)&&Rr(),Lr(he),null;case 19:if(bn(Mr),Le=he.memoizedState,Le===null)return Lr(he),null;if(Pe=(he.flags&128)!==0,Be=Le.rendering,Be===null)if(Pe)$o(Le,!1);else{if(Cr!==0||de!==null&&de.flags&128)for(de=he.child;de!==null;){if(Be=Ml(de),Be!==null){for(he.flags|=128,$o(Le,!1),de=Be.updateQueue,de!==null&&(he.updateQueue=de,he.flags|=4),he.subtreeFlags=0,de=be,Pe=he.child;Pe!==null;)be=Pe,Le=de,be.flags&=14680066,Be=be.alternate,Be===null?(be.childLanes=0,be.lanes=Le,be.child=null,be.subtreeFlags=0,be.memoizedProps=null,be.memoizedState=null,be.updateQueue=null,be.dependencies=null,be.stateNode=null):(be.childLanes=Be.childLanes,be.lanes=Be.lanes,be.child=Be.child,be.subtreeFlags=0,be.deletions=null,be.memoizedProps=Be.memoizedProps,be.memoizedState=Be.memoizedState,be.updateQueue=Be.updateQueue,be.type=Be.type,Le=Be.dependencies,be.dependencies=Le===null?null:{lanes:Le.lanes,firstContext:Le.firstContext}),Pe=Pe.sibling;return Ln(Mr,Mr.current&1|2),he.child}de=de.sibling}Le.tail!==null&&Ir()>ls&&(he.flags|=128,Pe=!0,$o(Le,!1),he.lanes=4194304)}else{if(!Pe)if(de=Ml(Be),de!==null){if(he.flags|=128,Pe=!0,de=de.updateQueue,de!==null&&(he.updateQueue=de,he.flags|=4),$o(Le,!0),Le.tail===null&&Le.tailMode==="hidden"&&!Be.alternate&&!Er)return Lr(he),null}else 2*Ir()-Le.renderingStartTime>ls&&be!==1073741824&&(he.flags|=128,Pe=!0,$o(Le,!1),he.lanes=4194304);Le.isBackwards?(Be.sibling=he.child,he.child=Be):(de=Le.last,de!==null?de.sibling=Be:he.child=Be,Le.last=Be)}return Le.tail!==null?(he=Le.tail,Le.rendering=he,Le.tail=he.sibling,Le.renderingStartTime=Ir(),he.sibling=null,de=Mr.current,Ln(Mr,Pe?de&1|2:de&1),he):(Lr(he),null);case 22:case 23:return rl(),Pe=he.memoizedState!==null,de!==null&&de.memoizedState!==null!==Pe&&(he.flags|=8192),Pe&&he.mode&1?ii&1073741824&&(Lr(he),hn&&he.subtreeFlags&6&&(he.flags|=8192)):Lr(he),null;case 24:return null;case 25:return null}throw Error(oe(156,he.tag))}var wc=se.ReactCurrentOwner,qr=!1;function Ar(de,he,be,Pe){he.child=de===null?ru(he,null,be,Pe):Po(he,de.child,be,Pe)}function vr(de,he,be,Pe,Le){be=be.render;var Be=he.ref;return ea(he,Le),Pe=ca(de,he,be,Pe,Be,Le),be=ns(),de!==null&&!qr?(he.updateQueue=de.updateQueue,he.flags&=-2053,de.lanes&=~Le,wi(de,he,Le)):(Er&&be&&cc(he),he.flags|=1,Ar(de,he,Pe,Le),he.child)}function mr(de,he,be,Pe,Le){if(de===null){var Be=be.type;return typeof Be=="function"&&!Xl(Be)&&Be.defaultProps===void 0&&be.compare===null&&be.defaultProps===void 0?(he.tag=15,he.type=Be,Do(de,he,Be,Pe,Le)):(de=Yl(be.type,null,Pe,he,he.mode,Le),de.ref=he.ref,de.return=he,he.child=de)}if(Be=de.child,!(de.lanes&Le)){var Je=Be.memoizedProps;if(be=be.compare,be=be!==null?be:_i,be(Je,Pe)&&de.ref===he.ref)return wi(de,he,Le)}return he.flags|=1,de=Go(Be,Pe),de.ref=he.ref,de.return=he,he.child=de}function Do(de,he,be,Pe,Le){if(de!==null&&_i(de.memoizedProps,Pe)&&de.ref===he.ref)if(qr=!1,(de.lanes&Le)!==0)de.flags&131072&&(qr=!0);else return he.lanes=de.lanes,wi(de,he,Le);return Oo(de,he,be,Pe,Le)}function Zr(de,he,be){var Pe=he.pendingProps,Le=Pe.children,Be=de!==null?de.memoizedState:null;if(Pe.mode==="hidden")if(!(he.mode&1))he.memoizedState={baseLanes:0,cachePool:null},Ln(Fs,ii),ii|=be;else if(be&1073741824)he.memoizedState={baseLanes:0,cachePool:null},Pe=Be!==null?Be.baseLanes:be,Ln(Fs,ii),ii|=Pe;else return de=Be!==null?Be.baseLanes|be:be,he.lanes=he.childLanes=1073741824,he.memoizedState={baseLanes:de,cachePool:null},he.updateQueue=null,Ln(Fs,ii),ii|=de,null;else Be!==null?(Pe=Be.baseLanes|be,he.memoizedState=null):Pe=be,Ln(Fs,ii),ii|=Pe;return Ar(de,he,Le,be),he.child}function fi(de,he){var be=he.ref;(de===null&&be!==null||de!==null&&de.ref!==be)&&(he.flags|=512,he.flags|=2097152)}function Oo(de,he,be,Pe,Le){var Be=Bn(be)?Pn:Zn.current;return Be=ur(he,Be),ea(he,Le),be=ca(de,he,be,Pe,Be,Le),Pe=ns(),de!==null&&!qr?(he.updateQueue=de.updateQueue,he.flags&=-2053,de.lanes&=~Le,wi(de,he,Le)):(Er&&Pe&&cc(he),he.flags|=1,Ar(de,he,be,Le),he.child)}function Cs(de,he,be,Pe,Le){if(Bn(be)){var Be=!0;Bi(he)}else Be=!1;if(ea(he,Le),he.stateNode===null)de!==null&&(de.alternate=null,he.alternate=null,he.flags|=2),Qc(he,be,Pe),lc(he,be,Pe,Le),Pe=!0;else if(de===null){var Je=he.stateNode,yt=he.memoizedProps;Je.props=yt;var Gt=Je.context,ln=be.contextType;typeof ln=="object"&&ln!==null?ln=Ei(ln):(ln=Bn(be)?Pn:Zn.current,ln=ur(he,ln));var Rn=be.getDerivedStateFromProps,Wn=typeof Rn=="function"||typeof Je.getSnapshotBeforeUpdate=="function";Wn||typeof Je.UNSAFE_componentWillReceiveProps!="function"&&typeof Je.componentWillReceiveProps!="function"||(yt!==Pe||Gt!==ln)&&Jc(he,Je,Pe,ln),Hi=!1;var kn=he.memoizedState;Je.state=kn,yl(he,Pe,Je,Le),Gt=he.memoizedState,yt!==Pe||kn!==Gt||Gn.current||Hi?(typeof Rn=="function"&&(sc(he,be,Rn,Pe),Gt=he.memoizedState),(yt=Hi||ac(he,be,yt,Pe,kn,Gt,ln))?(Wn||typeof Je.UNSAFE_componentWillMount!="function"&&typeof Je.componentWillMount!="function"||(typeof Je.componentWillMount=="function"&&Je.componentWillMount(),typeof Je.UNSAFE_componentWillMount=="function"&&Je.UNSAFE_componentWillMount()),typeof Je.componentDidMount=="function"&&(he.flags|=4194308)):(typeof Je.componentDidMount=="function"&&(he.flags|=4194308),he.memoizedProps=Pe,he.memoizedState=Gt),Je.props=Pe,Je.state=Gt,Je.context=ln,Pe=yt):(typeof Je.componentDidMount=="function"&&(he.flags|=4194308),Pe=!1)}else{Je=he.stateNode,oc(de,he),yt=he.memoizedProps,ln=he.type===he.elementType?yt:Si(he.type,yt),Je.props=ln,Wn=he.pendingProps,kn=Je.context,Gt=be.contextType,typeof Gt=="object"&&Gt!==null?Gt=Ei(Gt):(Gt=Bn(be)?Pn:Zn.current,Gt=ur(he,Gt));var er=be.getDerivedStateFromProps;(Rn=typeof er=="function"||typeof Je.getSnapshotBeforeUpdate=="function")||typeof Je.UNSAFE_componentWillReceiveProps!="function"&&typeof Je.componentWillReceiveProps!="function"||(yt!==Wn||kn!==Gt)&&Jc(he,Je,Pe,Gt),Hi=!1,kn=he.memoizedState,Je.state=kn,yl(he,Pe,Je,Le);var En=he.memoizedState;yt!==Wn||kn!==En||Gn.current||Hi?(typeof er=="function"&&(sc(he,be,er,Pe),En=he.memoizedState),(ln=Hi||ac(he,be,ln,Pe,kn,En,Gt)||!1)?(Rn||typeof Je.UNSAFE_componentWillUpdate!="function"&&typeof Je.componentWillUpdate!="function"||(typeof Je.componentWillUpdate=="function"&&Je.componentWillUpdate(Pe,En,Gt),typeof Je.UNSAFE_componentWillUpdate=="function"&&Je.UNSAFE_componentWillUpdate(Pe,En,Gt)),typeof Je.componentDidUpdate=="function"&&(he.flags|=4),typeof Je.getSnapshotBeforeUpdate=="function"&&(he.flags|=1024)):(typeof Je.componentDidUpdate!="function"||yt===de.memoizedProps&&kn===de.memoizedState||(he.flags|=4),typeof Je.getSnapshotBeforeUpdate!="function"||yt===de.memoizedProps&&kn===de.memoizedState||(he.flags|=1024),he.memoizedProps=Pe,he.memoizedState=En),Je.props=Pe,Je.state=En,Je.context=Gt,Pe=ln):(typeof Je.componentDidUpdate!="function"||yt===de.memoizedProps&&kn===de.memoizedState||(he.flags|=4),typeof Je.getSnapshotBeforeUpdate!="function"||yt===de.memoizedProps&&kn===de.memoizedState||(he.flags|=1024),Pe=!1)}return ri(de,he,be,Pe,Be,Le)}function ri(de,he,be,Pe,Le,Be){fi(de,he);var Je=(he.flags&128)!==0;if(!Pe&&!Je)return Le&&sr(he,be,!1),wi(de,he,Be);Pe=he.stateNode,wc.current=he;var yt=Je&&typeof be.getDerivedStateFromError!="function"?null:Pe.render();return he.flags|=1,de!==null&&Je?(he.child=Po(he,de.child,null,Be),he.child=Po(he,null,yt,Be)):Ar(de,he,yt,Be),he.memoizedState=Pe.state,Le&&sr(he,be,!0),he.child}function Ha(de){var he=de.stateNode;he.pendingContext?xi(de,he.pendingContext,he.pendingContext!==he.context):he.context&&xi(de,he.context,!1),wl(de,he.containerInfo)}function Mc(de,he,be,Pe,Le){return ia(),bl(Le),he.flags|=256,Ar(de,he,be,Pe),he.child}var Wa={dehydrated:null,treeContext:null,retryLane:0};function Ps(de){return{baseLanes:de,cachePool:null}}function Tc(de,he,be){var Pe=he.pendingProps,Le=Mr.current,Be=!1,Je=(he.flags&128)!==0,yt;if((yt=Je)||(yt=de!==null&&de.memoizedState===null?!1:(Le&2)!==0),yt?(Be=!0,he.flags&=-129):(de===null||de.memoizedState!==null)&&(Le|=1),Ln(Mr,Le&1),de===null)return Jo(he),de=he.memoizedState,de!==null&&(de=de.dehydrated,de!==null)?(he.mode&1?vi(de)?he.lanes=8:he.lanes=1073741824:he.lanes=1,null):(Le=Pe.children,de=Pe.fallback,Be?(Pe=he.mode,Be=he.child,Le={mode:"hidden",children:Le},!(Pe&1)&&Be!==null?(Be.childLanes=0,Be.pendingProps=Le):Be=sl(Le,Pe,0,null),de=Vs(de,Pe,be,null),Be.return=he,de.return=he,Be.sibling=de,he.child=Be,he.child.memoizedState=Ps(be),he.memoizedState=Wa,de):ro(he,Le));if(Le=de.memoizedState,Le!==null){if(yt=Le.dehydrated,yt!==null){if(Je)return he.flags&256?(he.flags&=-257,qa(de,he,be,Error(oe(422)))):he.memoizedState!==null?(he.child=de.child,he.flags|=128,null):(Be=Pe.fallback,Le=he.mode,Pe=sl({mode:"visible",children:Pe.children},Le,0,null),Be=Vs(Be,Le,be,null),Be.flags|=2,Pe.return=he,Be.return=he,Pe.sibling=Be,he.child=Pe,he.mode&1&&Po(he,de.child,null,be),he.child.memoizedState=Ps(be),he.memoizedState=Wa,Be);if(!(he.mode&1))he=qa(de,he,be,null);else if(vi(yt))he=qa(de,he,be,Error(oe(419)));else if(Pe=(be&de.childLanes)!==0,qr||Pe){if(Pe=$r,Pe!==null){switch(be&-be){case 4:Be=2;break;case 16:Be=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Be=32;break;case 536870912:Be=268435456;break;default:Be=0}Pe=Be&(Pe.suspendedLanes|be)?0:Be,Pe!==0&&Pe!==Le.retryLane&&(Le.retryLane=Pe,oi(de,Pe,-1))}jl(),he=qa(de,he,be,Error(oe(421)))}else Ai(yt)?(he.flags|=128,he.child=de.child,he=hu.bind(null,de),co(yt,he),he=null):(be=Le.treeContext,Vt&&(Kr=So(yt),ui=he,Er=!0,ji=null,ra=!1,be!==null&&(Wi[Ci++]=Ao,Wi[Ci++]=Co,Wi[Ci++]=xs,Ao=be.id,Co=be.overflow,xs=he)),he=ro(he,he.pendingProps.children),he.flags|=4096);return he}return Be?(Pe=Bl(de,he,Pe.children,Pe.fallback,be),Be=he.child,Le=de.child.memoizedState,Be.memoizedState=Le===null?Ps(be):{baseLanes:Le.baseLanes|be,cachePool:null},Be.childLanes=de.childLanes&~be,he.memoizedState=Wa,Pe):(be=ja(de,he,Pe.children,be),he.memoizedState=null,be)}return Be?(Pe=Bl(de,he,Pe.children,Pe.fallback,be),Be=he.child,Le=de.child.memoizedState,Be.memoizedState=Le===null?Ps(be):{baseLanes:Le.baseLanes|be,cachePool:null},Be.childLanes=de.childLanes&~be,he.memoizedState=Wa,Pe):(be=ja(de,he,Pe.children,be),he.memoizedState=null,be)}function ro(de,he){return he=sl({mode:"visible",children:he},de.mode,0,null),he.return=de,de.child=he}function ja(de,he,be,Pe){var Le=de.child;return de=Le.sibling,be=Go(Le,{mode:"visible",children:be}),!(he.mode&1)&&(be.lanes=Pe),be.return=he,be.sibling=null,de!==null&&(Pe=he.deletions,Pe===null?(he.deletions=[de],he.flags|=16):Pe.push(de)),he.child=be}function Bl(de,he,be,Pe,Le){var Be=he.mode;de=de.child;var Je=de.sibling,yt={mode:"hidden",children:be};return!(Be&1)&&he.child!==de?(be=he.child,be.childLanes=0,be.pendingProps=yt,he.deletions=null):(be=Go(de,yt),be.subtreeFlags=de.subtreeFlags&14680064),Je!==null?Pe=Go(Je,Pe):(Pe=Vs(Pe,Be,Le,null),Pe.flags|=2),Pe.return=he,be.return=he,be.sibling=Pe,he.child=be,Pe}function qa(de,he,be,Pe){return Pe!==null&&bl(Pe),Po(he,de.child,null,be),de=ro(he,he.pendingProps.children),de.flags|=2,he.memoizedState=null,de}function cu(de,he,be){de.lanes|=he;var Pe=de.alternate;Pe!==null&&(Pe.lanes|=he),ys(de.return,he,be)}function po(de,he,be,Pe,Le){var Be=de.memoizedState;Be===null?de.memoizedState={isBackwards:he,rendering:null,renderingStartTime:0,last:Pe,tail:be,tailMode:Le}:(Be.isBackwards=he,Be.rendering=null,Be.renderingStartTime=0,Be.last=Pe,Be.tail=be,Be.tailMode=Le)}function Is(de,he,be){var Pe=he.pendingProps,Le=Pe.revealOrder,Be=Pe.tail;if(Ar(de,he,Pe.children,be),Pe=Mr.current,Pe&2)Pe=Pe&1|2,he.flags|=128;else{if(de!==null&&de.flags&128)e:for(de=he.child;de!==null;){if(de.tag===13)de.memoizedState!==null&&cu(de,be,he);else if(de.tag===19)cu(de,be,he);else if(de.child!==null){de.child.return=de,de=de.child;continue}if(de===he)break e;for(;de.sibling===null;){if(de.return===null||de.return===he)break e;de=de.return}de.sibling.return=de.return,de=de.sibling}Pe&=1}if(Ln(Mr,Pe),!(he.mode&1))he.memoizedState=null;else switch(Le){case"forwards":for(be=he.child,Le=null;be!==null;)de=be.alternate,de!==null&&Ml(de)===null&&(Le=be),be=be.sibling;be=Le,be===null?(Le=he.child,he.child=null):(Le=be.sibling,be.sibling=null),po(he,!1,Le,be,Be);break;case"backwards":for(be=null,Le=he.child,he.child=null;Le!==null;){if(de=Le.alternate,de!==null&&Ml(de)===null){he.child=Le;break}de=Le.sibling,Le.sibling=be,be=Le,Le=de}po(he,!0,be,null,Be);break;case"together":po(he,!1,null,null,void 0);break;default:he.memoizedState=null}return he.child}function wi(de,he,be){if(de!==null&&(he.dependencies=de.dependencies),mo|=he.lanes,!(be&he.childLanes))return null;if(de!==null&&he.child!==de.child)throw Error(oe(153));if(he.child!==null){for(de=he.child,be=Go(de,de.pendingProps),he.child=be,be.return=he;de.sibling!==null;)de=de.sibling,be=be.sibling=Go(de,de.pendingProps),be.return=he;be.sibling=null}return he.child}function zl(de,he,be){switch(he.tag){case 3:Ha(he),ia();break;case 5:iu(he);break;case 1:Bn(he.type)&&Bi(he);break;case 4:wl(he,he.stateNode.containerInfo);break;case 10:vs(he,he.type._context,he.memoizedProps.value);break;case 13:var Pe=he.memoizedState;if(Pe!==null)return Pe.dehydrated!==null?(Ln(Mr,Mr.current&1),he.flags|=128,null):be&he.child.childLanes?Tc(de,he,be):(Ln(Mr,Mr.current&1),de=wi(de,he,be),de!==null?de.sibling:null);Ln(Mr,Mr.current&1);break;case 19:if(Pe=(be&he.childLanes)!==0,de.flags&128){if(Pe)return Is(de,he,be);he.flags|=128}var Le=he.memoizedState;if(Le!==null&&(Le.rendering=null,Le.tail=null,Le.lastEffect=null),Ln(Mr,Mr.current),Pe)break;return null;case 22:case 23:return he.lanes=0,Zr(de,he,be)}return wi(de,he,be)}function Vl(de,he){switch(uc(he),he.tag){case 1:return Bn(he.type)&&Rr(),de=he.flags,de&65536?(he.flags=de&-65537|128,he):null;case 3:return la(),bn(Gn),bn(Zn),bs(),de=he.flags,de&65536&&!(de&128)?(he.flags=de&-65537|128,he):null;case 5:return hc(he),null;case 13:if(bn(Mr),de=he.memoizedState,de!==null&&de.dehydrated!==null){if(he.alternate===null)throw Error(oe(340));ia()}return de=he.flags,de&65536?(he.flags=de&-65537|128,he):null;case 19:return bn(Mr),null;case 4:return la(),null;case 10:return $a(he.type._context),null;case 22:case 23:return rl(),null;case 24:return null;default:return null}}var di=!1,Xr=!1,Ls=typeof WeakSet=="function"?WeakSet:Set,dn=null;function qi(de,he){var be=de.ref;if(be!==null)if(typeof be=="function")try{be(null)}catch(Pe){pi(de,he,Pe)}else be.current=null}function No(de,he,be){try{be()}catch(Pe){pi(de,he,Pe)}}var Rc=!1;function Ac(de,he){for(rt(de.containerInfo),dn=he;dn!==null;)if(de=dn,he=de.child,(de.subtreeFlags&1028)!==0&&he!==null)he.return=de,dn=he;else for(;dn!==null;){de=dn;try{var be=de.alternate;if(de.flags&1024)switch(de.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Pe=be.memoizedProps,Le=be.memoizedState,Be=de.stateNode,Je=Be.getSnapshotBeforeUpdate(de.elementType===de.type?Pe:Si(de.type,Pe),Le);Be.__reactInternalSnapshotBeforeUpdate=Je}break;case 3:hn&&zt(de.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(yt){pi(de,de.return,yt)}if(he=de.sibling,he!==null){he.return=de.return,dn=he;break}dn=de.return}return be=Rc,Rc=!1,be}function Fo(de,he,be){var Pe=he.updateQueue;if(Pe=Pe!==null?Pe.lastEffect:null,Pe!==null){var Le=Pe=Pe.next;do{if((Le.tag&de)===de){var Be=Le.destroy;Le.destroy=void 0,Be!==void 0&&No(he,be,Be)}Le=Le.next}while(Le!==Pe)}}function Qr(de,he){if(he=he.updateQueue,he=he!==null?he.lastEffect:null,he!==null){var be=he=he.next;do{if((be.tag&de)===de){var Pe=be.create;be.destroy=Pe()}be=be.next}while(be!==he)}}function hi(de){var he=de.ref;if(he!==null){var be=de.stateNode;switch(de.tag){case 5:de=ct(be);break;default:de=be}typeof he=="function"?he(de):he.current=de}}function xr(de,he,be){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(et,he)}catch{}switch(he.tag){case 0:case 11:case 14:case 15:if(de=he.updateQueue,de!==null&&(de=de.lastEffect,de!==null)){var Pe=de=de.next;do{var Le=Pe,Be=Le.destroy;Le=Le.tag,Be!==void 0&&(Le&2||Le&4)&&No(he,be,Be),Pe=Pe.next}while(Pe!==de)}break;case 1:if(qi(he,be),de=he.stateNode,typeof de.componentWillUnmount=="function")try{de.props=he.memoizedProps,de.state=he.memoizedState,de.componentWillUnmount()}catch(Je){pi(he,be,Je)}break;case 5:qi(he,be);break;case 4:hn?Ic(de,he,be):Dt&&Dt&&(he=he.stateNode.containerInfo,be=gn(he),cr(he,be))}}function Xi(de,he,be){for(var Pe=he;;)if(xr(de,Pe,be),Pe.child===null||hn&&Pe.tag===4){if(Pe===he)break;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===he)return;Pe=Pe.return}Pe.sibling.return=Pe.return,Pe=Pe.sibling}else Pe.child.return=Pe,Pe=Pe.child}function Cc(de){var he=de.alternate;he!==null&&(de.alternate=null,Cc(he)),de.child=null,de.deletions=null,de.sibling=null,de.tag===5&&(he=de.stateNode,he!==null&&an(he)),de.stateNode=null,de.return=null,de.dependencies=null,de.memoizedProps=null,de.memoizedState=null,de.pendingProps=null,de.stateNode=null,de.updateQueue=null}function Pc(de){return de.tag===5||de.tag===3||de.tag===4}function Gl(de){e:for(;;){for(;de.sibling===null;){if(de.return===null||Pc(de.return))return null;de=de.return}for(de.sibling.return=de.return,de=de.sibling;de.tag!==5&&de.tag!==6&&de.tag!==18;){if(de.flags&2||de.child===null||de.tag===4)continue e;de.child.return=de,de=de.child}if(!(de.flags&2))return de.stateNode}}function Hl(de){if(hn){e:{for(var he=de.return;he!==null;){if(Pc(he))break e;he=he.return}throw Error(oe(160))}var be=he;switch(be.tag){case 5:he=be.stateNode,be.flags&32&&(Ut(he),be.flags&=-33),be=Gl(de),ma(de,be,he);break;case 3:case 4:he=be.stateNode.containerInfo,be=Gl(de),Wl(de,be,he);break;default:throw Error(oe(161))}}}function Wl(de,he,be){var Pe=de.tag;if(Pe===5||Pe===6)de=de.stateNode,he?pn(be,de,he):qt(be,de);else if(Pe!==4&&(de=de.child,de!==null))for(Wl(de,he,be),de=de.sibling;de!==null;)Wl(de,he,be),de=de.sibling}function ma(de,he,be){var Pe=de.tag;if(Pe===5||Pe===6)de=de.stateNode,he?Ft(be,de,he):Ot(be,de);else if(Pe!==4&&(de=de.child,de!==null))for(ma(de,he,be),de=de.sibling;de!==null;)ma(de,he,be),de=de.sibling}function Ic(de,he,be){for(var Pe=he,Le=!1,Be,Je;;){if(!Le){Le=Pe.return;e:for(;;){if(Le===null)throw Error(oe(160));switch(Be=Le.stateNode,Le.tag){case 5:Je=!1;break e;case 3:Be=Be.containerInfo,Je=!0;break e;case 4:Be=Be.containerInfo,Je=!0;break e}Le=Le.return}Le=!0}if(Pe.tag===5||Pe.tag===6)Xi(de,Pe,be),Je?at(Be,Pe.stateNode):cn(Be,Pe.stateNode);else if(Pe.tag===18)Je?We(Be,Pe.stateNode):ps(Be,Pe.stateNode);else if(Pe.tag===4){if(Pe.child!==null){Be=Pe.stateNode.containerInfo,Je=!0,Pe.child.return=Pe,Pe=Pe.child;continue}}else if(xr(de,Pe,be),Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===he)break;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===he)return;Pe=Pe.return,Pe.tag===4&&(Le=!1)}Pe.sibling.return=Pe.return,Pe=Pe.sibling}}function ss(de,he){if(hn){switch(he.tag){case 0:case 11:case 14:case 15:Fo(3,he,he.return),Qr(3,he),Fo(5,he,he.return);return;case 1:return;case 5:var be=he.stateNode;if(be!=null){var Pe=he.memoizedProps;de=de!==null?de.memoizedProps:Pe;var Le=he.type,Be=he.updateQueue;he.updateQueue=null,Be!==null&&Tt(be,Be,Le,de,Pe,he)}return;case 6:if(he.stateNode===null)throw Error(oe(162));be=he.memoizedProps,Sn(he.stateNode,de!==null?de.memoizedProps:be,be);return;case 3:Vt&&de!==null&&de.memoizedState.isDehydrated&&ds(he.stateNode.containerInfo);return;case 12:return;case 13:ga(he);return;case 19:ga(he);return;case 17:return}throw Error(oe(163))}switch(he.tag){case 0:case 11:case 14:case 15:Fo(3,he,he.return),Qr(3,he),Fo(5,he,he.return);return;case 12:return;case 13:ga(he);return;case 19:ga(he);return;case 3:Vt&&de!==null&&de.memoizedState.isDehydrated&&ds(he.stateNode.containerInfo);break;case 22:case 23:return}e:if(Dt){switch(he.tag){case 1:case 5:case 6:break e;case 3:case 4:he=he.stateNode,cr(he.containerInfo,he.pendingChildren);break e}throw Error(oe(163))}}function ga(de){var he=de.updateQueue;if(he!==null){de.updateQueue=null;var be=de.stateNode;be===null&&(be=de.stateNode=new Ls),he.forEach(function(Pe){var Le=pu.bind(null,de,Pe);be.has(Pe)||(be.add(Pe),Pe.then(Le,Le))})}}function Vu(de,he){for(dn=he;dn!==null;){he=dn;var be=he.deletions;if(be!==null)for(var Pe=0;Pe<be.length;Pe++){var Le=be[Pe];try{var Be=de;hn?Ic(Be,Le,he):Xi(Be,Le,he);var Je=Le.alternate;Je!==null&&(Je.return=null),Le.return=null}catch($n){pi(Le,he,$n)}}if(be=he.child,he.subtreeFlags&12854&&be!==null)be.return=he,dn=be;else for(;dn!==null;){he=dn;try{var yt=he.flags;if(yt&32&&hn&&Ut(he.stateNode),yt&512){var Gt=he.alternate;if(Gt!==null){var ln=Gt.ref;ln!==null&&(typeof ln=="function"?ln(null):ln.current=null)}}if(yt&8192)switch(he.tag){case 13:if(he.memoizedState!==null){var Rn=he.alternate;(Rn===null||Rn.memoizedState===null)&&(el=Ir())}break;case 22:var Wn=he.memoizedState!==null,kn=he.alternate,er=kn!==null&&kn.memoizedState!==null;if(be=he,hn){e:if(Pe=be,Le=Wn,Be=null,hn)for(var En=Pe;;){if(En.tag===5){if(Be===null){Be=En;var ti=En.stateNode;Le?un(ti):Kt(En.stateNode,En.memoizedProps)}}else if(En.tag===6){if(Be===null){var Fi=En.stateNode;Le?st(Fi):At(Fi,En.memoizedProps)}}else if((En.tag!==22&&En.tag!==23||En.memoizedState===null||En===Pe)&&En.child!==null){En.child.return=En,En=En.child;continue}if(En===Pe)break;for(;En.sibling===null;){if(En.return===null||En.return===Pe)break e;Be===En&&(Be=null),En=En.return}Be===En&&(Be=null),En.sibling.return=En.return,En=En.sibling}}if(Wn&&!er&&be.mode&1){dn=be;for(var Ct=be.child;Ct!==null;){for(be=dn=Ct;dn!==null;){Pe=dn;var St=Pe.child;switch(Pe.tag){case 0:case 11:case 14:case 15:Fo(4,Pe,Pe.return);break;case 1:qi(Pe,Pe.return);var kt=Pe.stateNode;if(typeof kt.componentWillUnmount=="function"){var xn=Pe.return;try{kt.props=Pe.memoizedProps,kt.state=Pe.memoizedState,kt.componentWillUnmount()}catch($n){pi(Pe,xn,$n)}}break;case 5:qi(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){$c(be);continue}}St!==null?(St.return=Pe,dn=St):$c(be)}Ct=Ct.sibling}}}switch(yt&4102){case 2:Hl(he),he.flags&=-3;break;case 6:Hl(he),he.flags&=-3,ss(he.alternate,he);break;case 4096:he.flags&=-4097;break;case 4100:he.flags&=-4097,ss(he.alternate,he);break;case 4:ss(he.alternate,he)}}catch($n){pi(he,he.return,$n)}if(be=he.sibling,be!==null){be.return=he.return,dn=be;break}dn=he.return}}}function Xa(de,he,be){dn=de,Ya(de)}function Ya(de,he,be){for(var Pe=(de.mode&1)!==0;dn!==null;){var Le=dn,Be=Le.child;if(Le.tag===22&&Pe){var Je=Le.memoizedState!==null||di;if(!Je){var yt=Le.alternate,Gt=yt!==null&&yt.memoizedState!==null||Xr;yt=di;var ln=Xr;if(di=Je,(Xr=Gt)&&!ln)for(dn=Le;dn!==null;)Je=dn,Gt=Je.child,Je.tag===22&&Je.memoizedState!==null?$s(Le):Gt!==null?(Gt.return=Je,dn=Gt):$s(Le);for(;Be!==null;)dn=Be,Ya(Be),Be=Be.sibling;dn=Le,di=yt,Xr=ln}Lc(de)}else Le.subtreeFlags&8772&&Be!==null?(Be.return=Le,dn=Be):Lc(de)}}function Lc(de){for(;dn!==null;){var he=dn;if(he.flags&8772){var be=he.alternate;try{if(he.flags&8772)switch(he.tag){case 0:case 11:case 15:Xr||Qr(5,he);break;case 1:var Pe=he.stateNode;if(he.flags&4&&!Xr)if(be===null)Pe.componentDidMount();else{var Le=he.elementType===he.type?be.memoizedProps:Si(he.type,be.memoizedProps);Pe.componentDidUpdate(Le,be.memoizedState,Pe.__reactInternalSnapshotBeforeUpdate)}var Be=he.updateQueue;Be!==null&&Kc(he,Be,Pe);break;case 3:var Je=he.updateQueue;if(Je!==null){if(be=null,he.child!==null)switch(he.child.tag){case 5:be=ct(he.child.stateNode);break;case 1:be=he.child.stateNode}Kc(he,Je,be)}break;case 5:var yt=he.stateNode;be===null&&he.flags&4&&Ht(yt,he.type,he.memoizedProps,he);break;case 6:break;case 4:break;case 12:break;case 13:if(Vt&&he.memoizedState===null){var Gt=he.alternate;if(Gt!==null){var ln=Gt.memoizedState;if(ln!==null){var Rn=ln.dehydrated;Rn!==null&&hs(Rn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(oe(163))}Xr||he.flags&512&&hi(he)}catch(Wn){pi(he,he.return,Wn)}}if(he===de){dn=null;break}if(be=he.sibling,be!==null){be.return=he.return,dn=be;break}dn=he.return}}function $c(de){for(;dn!==null;){var he=dn;if(he===de){dn=null;break}var be=he.sibling;if(be!==null){be.return=he.return,dn=be;break}dn=he.return}}function $s(de){for(;dn!==null;){var he=dn;try{switch(he.tag){case 0:case 11:case 15:var be=he.return;try{Qr(4,he)}catch(Gt){pi(he,be,Gt)}break;case 1:var Pe=he.stateNode;if(typeof Pe.componentDidMount=="function"){var Le=he.return;try{Pe.componentDidMount()}catch(Gt){pi(he,Le,Gt)}}var Be=he.return;try{hi(he)}catch(Gt){pi(he,Be,Gt)}break;case 5:var Je=he.return;try{hi(he)}catch(Gt){pi(he,Je,Gt)}}}catch(Gt){pi(he,he.return,Gt)}if(he===de){dn=null;break}var yt=he.sibling;if(yt!==null){yt.return=he.return,dn=yt;break}dn=he.return}}var Ka=0,Ds=1,Os=2,ko=3,va=4;if(typeof Symbol=="function"&&Symbol.for){var Ns=Symbol.for;Ka=Ns("selector.component"),Ds=Ns("selector.has_pseudo_class"),Os=Ns("selector.role"),ko=Ns("selector.test_id"),va=Ns("selector.text")}function Za(de){var he=Ze(de);if(he!=null){if(typeof he.memoizedProps["data-testname"]!="string")throw Error(oe(364));return he}if(de=Xe(de),de===null)throw Error(oe(362));return de.stateNode.current}function Qa(de,he){switch(he.$$typeof){case Ka:if(de.type===he.value)return!0;break;case Ds:e:{he=he.value,de=[de,0];for(var be=0;be<de.length;){var Pe=de[be++],Le=de[be++],Be=he[Le];if(Pe.tag!==5||!mt(Pe)){for(;Be!=null&&Qa(Pe,Be);)Le++,Be=he[Le];if(Le===he.length){he=!0;break e}else for(Pe=Pe.child;Pe!==null;)de.push(Pe,Le),Pe=Pe.sibling}}he=!1}return he;case Os:if(de.tag===5&&Nt(de.stateNode,he.value))return!0;break;case va:if((de.tag===5||de.tag===6)&&(de=tt(de),de!==null&&0<=de.indexOf(he.value)))return!0;break;case ko:if(de.tag===5&&(de=de.memoizedProps["data-testname"],typeof de=="string"&&de.toLowerCase()===he.value.toLowerCase()))return!0;break;default:throw Error(oe(365))}return!1}function as(de){switch(de.$$typeof){case Ka:return"<"+(ke(de.value)||"Unknown")+">";case Ds:return":has("+(as(de)||"")+")";case Os:return'[role="'+de.value+'"]';case va:return'"'+de.value+'"';case ko:return'[data-testname="'+de.value+'"]';default:throw Error(oe(365))}}function $i(de,he){var be=[];de=[de,0];for(var Pe=0;Pe<de.length;){var Le=de[Pe++],Be=de[Pe++],Je=he[Be];if(Le.tag!==5||!mt(Le)){for(;Je!=null&&Qa(Le,Je);)Be++,Je=he[Be];if(Be===he.length)be.push(Le);else for(Le=Le.child;Le!==null;)de.push(Le,Be),Le=Le.sibling}}return be}function Uo(de,he){if(!Jt)throw Error(oe(363));de=Za(de),de=$i(de,he),he=[],de=Array.from(de);for(var be=0;be<de.length;){var Pe=de[be++];if(Pe.tag===5)mt(Pe)||he.push(Pe.stateNode);else for(Pe=Pe.child;Pe!==null;)de.push(Pe),Pe=Pe.sibling}return he}var Dc=Math.ceil,Ja=se.ReactCurrentDispatcher,io=se.ReactCurrentOwner,fr=se.ReactCurrentBatchConfig,Jn=0,$r=null,dr=null,br=0,ii=0,Fs=Tn(0),Cr=0,ya=null,mo=0,Di=0,ks=0,Bo=null,Dr=null,el=0,ls=1/0;function Us(){ls=Ir()+500}var xa=!1,_r=null,oo=null,Sa=!1,go=null,Bs=0,zs=0,zo=null,yr=-1,Pr=0;function or(){return Jn&6?Ir():yr!==-1?yr:yr=Ir()}function so(de){return de.mode&1?Jn&2&&br!==0?br&-br:Ia.transition!==null?(Pr===0&&(de=zi,zi<<=1,!(zi&4194240)&&(zi=64),Pr=de),Pr):(de=Qn,de!==0?de:Xt()):1}function oi(de,he,be){if(50<zs)throw zs=0,zo=null,Error(oe(185));var Pe=cs(de,he);return Pe===null?null:(bo(Pe,he,be),(!(Jn&2)||Pe!==$r)&&(Pe===$r&&(!(Jn&2)&&(Di|=he),Cr===4&&ei(Pe,br)),Mi(Pe,be),he===1&&Jn===0&&!(de.mode&1)&&(Us(),kr&&li())),Pe)}function cs(de,he){de.lanes|=he;var be=de.alternate;for(be!==null&&(be.lanes|=he),be=de,de=de.return;de!==null;)de.childLanes|=he,be=de.alternate,be!==null&&(be.childLanes|=he),be=de,de=de.return;return be.tag===3?be.stateNode:null}function Mi(de,he){var be=de.callbackNode;hl(de,he);var Pe=ms(de,de===$r?br:0);if(Pe===0)be!==null&&Yo(be),de.callbackNode=null,de.callbackPriority=0;else if(he=Pe&-Pe,de.callbackPriority!==he){if(be!=null&&Yo(be),he===1)de.tag===0?Qs(Oi.bind(null,de)):Zs(Oi.bind(null,de)),Yt?mn(function(){Jn===0&&li()}):wo(Mo,li),be=null;else{switch(Ji(Pe)){case 1:be=Mo;break;case 4:be=pl;break;case 16:be=Ks;break;case 536870912:be=bt;break;default:be=Ks}be=ql(be,Jr.bind(null,de))}de.callbackPriority=he,de.callbackNode=be}}function Jr(de,he){if(yr=-1,Pr=0,Jn&6)throw Error(oe(327));var be=de.callbackNode;if(vo()&&de.callbackNode!==be)return null;var Pe=ms(de,de===$r?br:0);if(Pe===0)return null;if(Pe&30||Pe&de.expiredLanes||he)he=il(de,Pe);else{he=Pe;var Le=Jn;Jn|=2;var Be=Fc();($r!==de||br!==he)&&(Us(),Vo(de,he));do try{fu();break}catch(yt){Nc(de,yt)}while(!0);ci(),Ja.current=Be,Jn=Le,dr!==null?he=0:($r=null,br=0,he=Cr)}if(he!==0){if(he===2&&(Le=qs(de),Le!==0&&(Pe=Le,he=tl(de,Le))),he===1)throw be=ya,Vo(de,0),ei(de,Pe),Mi(de,Ir()),be;if(he===6)ei(de,Pe);else{if(Le=de.current.alternate,!(Pe&30)&&!Oc(Le)&&(he=il(de,Pe),he===2&&(Be=qs(de),Be!==0&&(Pe=Be,he=tl(de,Be))),he===1))throw be=ya,Vo(de,0),ei(de,Pe),Mi(de,Ir()),be;switch(de.finishedWork=Le,de.finishedLanes=Pe,he){case 0:case 1:throw Error(oe(345));case 2:ao(de,Dr);break;case 3:if(ei(de,Pe),(Pe&130023424)===Pe&&(he=el+500-Ir(),10<he)){if(ms(de,0)!==0)break;if(Le=de.suspendedLanes,(Le&Pe)!==Pe){or(),de.pingedLanes|=de.suspendedLanes&Le;break}de.timeoutHandle=Pt(ao.bind(null,de,Dr),he);break}ao(de,Dr);break;case 4:if(ei(de,Pe),(Pe&4194240)===Pe)break;for(he=de.eventTimes,Le=-1;0<Pe;){var Je=31-pr(Pe);Be=1<<Je,Je=he[Je],Je>Le&&(Le=Je),Pe&=~Be}if(Pe=Le,Pe=Ir()-Pe,Pe=(120>Pe?120:480>Pe?480:1080>Pe?1080:1920>Pe?1920:3e3>Pe?3e3:4320>Pe?4320:1960*Dc(Pe/1960))-Pe,10<Pe){de.timeoutHandle=Pt(ao.bind(null,de,Dr),Pe);break}ao(de,Dr);break;case 5:ao(de,Dr);break;default:throw Error(oe(329))}}}return Mi(de,Ir()),de.callbackNode===be?Jr.bind(null,de):null}function tl(de,he){var be=Bo;return de.current.memoizedState.isDehydrated&&(Vo(de,he).flags|=256),de=il(de,he),de!==2&&(he=Dr,Dr=be,he!==null&&nl(he)),de}function nl(de){Dr===null?Dr=de:Dr.push.apply(Dr,de)}function Oc(de){for(var he=de;;){if(he.flags&16384){var be=he.updateQueue;if(be!==null&&(be=be.stores,be!==null))for(var Pe=0;Pe<be.length;Pe++){var Le=be[Pe],Be=Le.getSnapshot;Le=Le.value;try{if(!Fn(Be(),Le))return!1}catch{return!1}}}if(be=he.child,he.subtreeFlags&16384&&be!==null)be.return=he,he=be;else{if(he===de)break;for(;he.sibling===null;){if(he.return===null||he.return===de)return!0;he=he.return}he.sibling.return=he.return,he=he.sibling}}return!0}function ei(de,he){for(he&=~ks,he&=~Di,de.suspendedLanes|=he,de.pingedLanes&=~he,de=de.expirationTimes;0<he;){var be=31-pr(he),Pe=1<<be;de[be]=-1,he&=~Pe}}function Oi(de){if(Jn&6)throw Error(oe(327));vo();var he=ms(de,0);if(!(he&1))return Mi(de,Ir()),null;var be=il(de,he);if(de.tag!==0&&be===2){var Pe=qs(de);Pe!==0&&(he=Pe,be=tl(de,Pe))}if(be===1)throw be=ya,Vo(de,0),ei(de,he),Mi(de,Ir()),be;if(be===6)throw Error(oe(345));return de.finishedWork=de.current.alternate,de.finishedLanes=he,ao(de,Dr),Mi(de,Ir()),null}function Ea(de){go!==null&&go.tag===0&&!(Jn&6)&&vo();var he=Jn;Jn|=1;var be=fr.transition,Pe=Qn;try{if(fr.transition=null,Qn=1,de)return de()}finally{Qn=Pe,fr.transition=be,Jn=he,!(Jn&6)&&li()}}function rl(){ii=Fs.current,bn(Fs)}function Vo(de,he){de.finishedWork=null,de.finishedLanes=0;var be=de.timeoutHandle;if(be!==Qt&&(de.timeoutHandle=Qt,Wt(be)),dr!==null)for(be=dr.return;be!==null;){var Pe=be;switch(uc(Pe),Pe.tag){case 1:Pe=Pe.type.childContextTypes,Pe!=null&&Rr();break;case 3:la(),bn(Gn),bn(Zn),bs();break;case 5:hc(Pe);break;case 4:la();break;case 13:bn(Mr);break;case 19:bn(Mr);break;case 10:$a(Pe.type._context);break;case 22:case 23:rl()}be=be.return}if($r=de,dr=de=Go(de.current,null),br=ii=he,Cr=0,ya=null,ks=Di=mo=0,Dr=Bo=null,Gi!==null){for(he=0;he<Gi.length;he++)if(be=Gi[he],Pe=be.interleaved,Pe!==null){be.interleaved=null;var Le=Pe.next,Be=be.pending;if(Be!==null){var Je=Be.next;Be.next=Le,Pe.next=Je}be.pending=Pe}Gi=null}return de}function Nc(de,he){do{var be=dr;try{if(ci(),Oa.current=ha,Tl){for(var Pe=Tr.memoizedState;Pe!==null;){var Le=Pe.queue;Le!==null&&(Le.pending=null),Pe=Pe.next}Tl=!1}if(ws=0,Wr=Hr=Tr=null,fo=!1,Ms=0,io.current=null,be===null||be.return===null){Cr=1,ya=he,dr=null;break}e:{var Be=de,Je=be.return,yt=be,Gt=he;if(he=br,yt.flags|=32768,Gt!==null&&typeof Gt=="object"&&typeof Gt.then=="function"){var ln=Gt,Rn=yt,Wn=Rn.tag;if(!(Rn.mode&1)&&(Wn===0||Wn===11||Wn===15)){var kn=Rn.alternate;kn?(Rn.updateQueue=kn.updateQueue,Rn.memoizedState=kn.memoizedState,Rn.lanes=kn.lanes):(Rn.updateQueue=null,Rn.memoizedState=null)}var er=bc(Je);if(er!==null){er.flags&=-257,Rs(er,Je,yt,Be,he),er.mode&1&&Lo(Be,ln,he),he=er,Gt=ln;var En=he.updateQueue;if(En===null){var ti=new Set;ti.add(Gt),he.updateQueue=ti}else En.add(Gt);break e}else{if(!(he&1)){Lo(Be,ln,he),jl();break e}Gt=Error(oe(426))}}else if(Er&&yt.mode&1){var Fi=bc(Je);if(Fi!==null){!(Fi.flags&65536)&&(Fi.flags|=256),Rs(Fi,Je,yt,Be,he),bl(Gt);break e}}Be=Gt,Cr!==4&&(Cr=2),Bo===null?Bo=[Be]:Bo.push(Be),Gt=Ec(Gt,yt),yt=Je;do{switch(yt.tag){case 3:yt.flags|=65536,he&=-he,yt.lanes|=he;var Ct=lu(yt,Gt,he);vl(yt,Ct);break e;case 1:Be=Gt;var St=yt.type,kt=yt.stateNode;if(!(yt.flags&128)&&(typeof St.getDerivedStateFromError=="function"||kt!==null&&typeof kt.componentDidCatch=="function"&&(oo===null||!oo.has(kt)))){yt.flags|=65536,he&=-he,yt.lanes|=he;var xn=Nl(yt,Be,he);vl(yt,xn);break e}}yt=yt.return}while(yt!==null)}Uc(be)}catch($n){he=$n,dr===be&&be!==null&&(dr=be=be.return);continue}break}while(!0)}function Fc(){var de=Ja.current;return Ja.current=ha,de===null?ha:de}function jl(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),$r===null||!(mo&268435455)&&!(Di&268435455)||ei($r,br)}function il(de,he){var be=Jn;Jn|=2;var Pe=Fc();$r===de&&br===he||Vo(de,he);do try{uu();break}catch(Le){Nc(de,Le)}while(!0);if(ci(),Jn=be,Ja.current=Pe,dr!==null)throw Error(oe(261));return $r=null,br=0,Cr}function uu(){for(;dr!==null;)kc(dr)}function fu(){for(;dr!==null&&!uo();)kc(dr)}function kc(de){var he=Vc(de.alternate,de,ii);de.memoizedProps=de.pendingProps,he===null?Uc(de):dr=he,io.current=null}function Uc(de){var he=de;do{var be=he.alternate;if(de=he.return,he.flags&32768){if(be=Vl(be,he),be!==null){be.flags&=32767,dr=be;return}if(de!==null)de.flags|=32768,de.subtreeFlags=0,de.deletions=null;else{Cr=6,dr=null;return}}else if(be=Ul(be,he,ii),be!==null){dr=be;return}if(he=he.sibling,he!==null){dr=he;return}dr=he=de}while(he!==null);Cr===0&&(Cr=5)}function ao(de,he){var be=Qn,Pe=fr.transition;try{fr.transition=null,Qn=1,du(de,he,be)}finally{fr.transition=Pe,Qn=be}return null}function du(de,he,be){do vo();while(go!==null);if(Jn&6)throw Error(oe(327));var Pe=de.finishedWork,Le=de.finishedLanes;if(Pe===null)return null;if(de.finishedWork=null,de.finishedLanes=0,Pe===de.current)throw Error(oe(177));de.callbackNode=null,de.callbackPriority=0;var Be=Pe.lanes|Pe.childLanes;if(Ys(de,Be),de===$r&&(dr=$r=null,br=0),!(Pe.subtreeFlags&2064)&&!(Pe.flags&2064)||Sa||(Sa=!0,ql(Ks,function(){return vo(),null})),Be=(Pe.flags&15990)!==0,Pe.subtreeFlags&15990||Be){Be=fr.transition,fr.transition=null;var Je=Qn;Qn=1;var yt=Jn;Jn|=4,io.current=null,Ac(de,Pe),Vu(de,Pe),Qe(de.containerInfo),de.current=Pe,Xa(Pe),ic(),Jn=yt,Qn=Je,fr.transition=Be}else de.current=Pe;if(Sa&&(Sa=!1,go=de,Bs=Le),Be=de.pendingLanes,Be===0&&(oo=null),Bt(Pe.stateNode),Mi(de,Ir()),he!==null)for(be=de.onRecoverableError,Pe=0;Pe<he.length;Pe++)be(he[Pe]);if(xa)throw xa=!1,de=_r,_r=null,de;return Bs&1&&de.tag!==0&&vo(),Be=de.pendingLanes,Be&1?de===zo?zs++:(zs=0,zo=de):zs=0,li(),null}function vo(){if(go!==null){var de=Ji(Bs),he=fr.transition,be=Qn;try{if(fr.transition=null,Qn=16>de?16:de,go===null)var Pe=!1;else{if(de=go,go=null,Bs=0,Jn&6)throw Error(oe(331));var Le=Jn;for(Jn|=4,dn=de.current;dn!==null;){var Be=dn,Je=Be.child;if(dn.flags&16){var yt=Be.deletions;if(yt!==null){for(var Gt=0;Gt<yt.length;Gt++){var ln=yt[Gt];for(dn=ln;dn!==null;){var Rn=dn;switch(Rn.tag){case 0:case 11:case 15:Fo(8,Rn,Be)}var Wn=Rn.child;if(Wn!==null)Wn.return=Rn,dn=Wn;else for(;dn!==null;){Rn=dn;var kn=Rn.sibling,er=Rn.return;if(Cc(Rn),Rn===ln){dn=null;break}if(kn!==null){kn.return=er,dn=kn;break}dn=er}}}var En=Be.alternate;if(En!==null){var ti=En.child;if(ti!==null){En.child=null;do{var Fi=ti.sibling;ti.sibling=null,ti=Fi}while(ti!==null)}}dn=Be}}if(Be.subtreeFlags&2064&&Je!==null)Je.return=Be,dn=Je;else e:for(;dn!==null;){if(Be=dn,Be.flags&2048)switch(Be.tag){case 0:case 11:case 15:Fo(9,Be,Be.return)}var Ct=Be.sibling;if(Ct!==null){Ct.return=Be.return,dn=Ct;break e}dn=Be.return}}var St=de.current;for(dn=St;dn!==null;){Je=dn;var kt=Je.child;if(Je.subtreeFlags&2064&&kt!==null)kt.return=Je,dn=kt;else e:for(Je=St;dn!==null;){if(yt=dn,yt.flags&2048)try{switch(yt.tag){case 0:case 11:case 15:Qr(9,yt)}}catch($n){pi(yt,yt.return,$n)}if(yt===Je){dn=null;break e}var xn=yt.sibling;if(xn!==null){xn.return=yt.return,dn=xn;break e}dn=yt.return}}if(Jn=Le,li(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(et,de)}catch{}Pe=!0}return Pe}finally{Qn=be,fr.transition=he}}return!1}function ol(de,he,be){he=Ec(be,he),he=lu(de,he,1),Zo(de,he),he=or(),de=cs(de,1),de!==null&&(bo(de,1,he),Mi(de,he))}function pi(de,he,be){if(de.tag===3)ol(de,de,be);else for(;he!==null;){if(he.tag===3){ol(he,de,be);break}else if(he.tag===1){var Pe=he.stateNode;if(typeof he.type.getDerivedStateFromError=="function"||typeof Pe.componentDidCatch=="function"&&(oo===null||!oo.has(Pe))){de=Ec(be,de),de=Nl(he,de,1),Zo(he,de),de=or(),he=cs(he,1),he!==null&&(bo(he,1,de),Mi(he,de));break}}he=he.return}}function Bc(de,he,be){var Pe=de.pingCache;Pe!==null&&Pe.delete(he),he=or(),de.pingedLanes|=de.suspendedLanes&be,$r===de&&(br&be)===be&&(Cr===4||Cr===3&&(br&130023424)===br&&500>Ir()-el?Vo(de,0):ks|=be),Mi(de,he)}function zc(de,he){he===0&&(de.mode&1?(he=Xn,Xn<<=1,!(Xn&130023424)&&(Xn=4194304)):he=1);var be=or();de=cs(de,he),de!==null&&(bo(de,he,be),Mi(de,be))}function hu(de){var he=de.memoizedState,be=0;he!==null&&(be=he.retryLane),zc(de,be)}function pu(de,he){var be=0;switch(de.tag){case 13:var Pe=de.stateNode,Le=de.memoizedState;Le!==null&&(be=Le.retryLane);break;case 19:Pe=de.stateNode;break;default:throw Error(oe(314))}Pe!==null&&Pe.delete(he),zc(de,be)}var Vc;Vc=function(de,he,be){if(de!==null)if(de.memoizedProps!==he.pendingProps||Gn.current)qr=!0;else{if(!(de.lanes&be)&&!(he.flags&128))return qr=!1,zl(de,he,be);qr=!!(de.flags&131072)}else qr=!1,Er&&he.flags&1048576&&eu(he,Sl,he.index);switch(he.lanes=0,he.tag){case 2:var Pe=he.type;de!==null&&(de.alternate=null,he.alternate=null,he.flags|=2),de=he.pendingProps;var Le=ur(he,Zn.current);ea(he,be),Le=ca(null,he,Pe,de,Le,be);var Be=ns();return he.flags|=1,typeof Le=="object"&&Le!==null&&typeof Le.render=="function"&&Le.$$typeof===void 0?(he.tag=1,he.memoizedState=null,he.updateQueue=null,Bn(Pe)?(Be=!0,Bi(he)):Be=!1,he.memoizedState=Le.state!==null&&Le.state!==void 0?Le.state:null,ta(he),Le.updater=xl,he.stateNode=Le,Le._reactInternals=he,lc(he,Pe,de,be),he=ri(null,he,Pe,!0,Be,be)):(he.tag=0,Er&&Be&&cc(he),Ar(null,he,Le,be),he=he.child),he;case 16:Pe=he.elementType;e:{switch(de!==null&&(de.alternate=null,he.alternate=null,he.flags|=2),de=he.pendingProps,Le=Pe._init,Pe=Le(Pe._payload),he.type=Pe,Le=he.tag=Gu(Pe),de=Si(Pe,de),Le){case 0:he=Oo(null,he,Pe,de,be);break e;case 1:he=Cs(null,he,Pe,de,be);break e;case 11:he=vr(null,he,Pe,de,be);break e;case 14:he=mr(null,he,Pe,Si(Pe.type,de),be);break e}throw Error(oe(306,Pe,""))}return he;case 0:return Pe=he.type,Le=he.pendingProps,Le=he.elementType===Pe?Le:Si(Pe,Le),Oo(de,he,Pe,Le,be);case 1:return Pe=he.type,Le=he.pendingProps,Le=he.elementType===Pe?Le:Si(Pe,Le),Cs(de,he,Pe,Le,be);case 3:e:{if(Ha(he),de===null)throw Error(oe(387));Pe=he.pendingProps,Be=he.memoizedState,Le=Be.element,oc(de,he),yl(he,Pe,null,be);var Je=he.memoizedState;if(Pe=Je.element,Vt&&Be.isDehydrated)if(Be={element:Pe,isDehydrated:!1,cache:Je.cache,transitions:Je.transitions},he.updateQueue.baseState=Be,he.memoizedState=Be,he.flags&256){Le=Error(oe(423)),he=Mc(de,he,Pe,be,Le);break e}else if(Pe!==Le){Le=Error(oe(424)),he=Mc(de,he,Pe,be,Le);break e}else for(Vt&&(Kr=fs(he.stateNode.containerInfo),ui=he,Er=!0,ji=null,ra=!1),be=ru(he,null,Pe,be),he.child=be;be;)be.flags=be.flags&-3|4096,be=be.sibling;else{if(ia(),Pe===Le){he=wi(de,he,be);break e}Ar(de,he,Pe,be)}he=he.child}return he;case 5:return iu(he),de===null&&Jo(he),Pe=he.type,Le=he.pendingProps,Be=de!==null?de.memoizedProps:null,Je=Le.children,dt(Pe,Le)?Je=null:Be!==null&&dt(Pe,Be)&&(he.flags|=32),fi(de,he),Ar(de,he,Je,be),he.child;case 6:return de===null&&Jo(he),null;case 13:return Tc(de,he,be);case 4:return wl(he,he.stateNode.containerInfo),Pe=he.pendingProps,de===null?he.child=Po(he,null,Pe,be):Ar(de,he,Pe,be),he.child;case 11:return Pe=he.type,Le=he.pendingProps,Le=he.elementType===Pe?Le:Si(Pe,Le),vr(de,he,Pe,Le,be);case 7:return Ar(de,he,he.pendingProps,be),he.child;case 8:return Ar(de,he,he.pendingProps.children,be),he.child;case 12:return Ar(de,he,he.pendingProps.children,be),he.child;case 10:e:{if(Pe=he.type._context,Le=he.pendingProps,Be=he.memoizedProps,Je=Le.value,vs(he,Pe,Je),Be!==null)if(Fn(Be.value,Je)){if(Be.children===Le.children&&!Gn.current){he=wi(de,he,be);break e}}else for(Be=he.child,Be!==null&&(Be.return=he);Be!==null;){var yt=Be.dependencies;if(yt!==null){Je=Be.child;for(var Gt=yt.firstContext;Gt!==null;){if(Gt.context===Pe){if(Be.tag===1){Gt=Ro(-1,be&-be),Gt.tag=2;var ln=Be.updateQueue;if(ln!==null){ln=ln.shared;var Rn=ln.pending;Rn===null?Gt.next=Gt:(Gt.next=Rn.next,Rn.next=Gt),ln.pending=Gt}}Be.lanes|=be,Gt=Be.alternate,Gt!==null&&(Gt.lanes|=be),ys(Be.return,be,he),yt.lanes|=be;break}Gt=Gt.next}}else if(Be.tag===10)Je=Be.type===he.type?null:Be.child;else if(Be.tag===18){if(Je=Be.return,Je===null)throw Error(oe(341));Je.lanes|=be,yt=Je.alternate,yt!==null&&(yt.lanes|=be),ys(Je,be,he),Je=Be.sibling}else Je=Be.child;if(Je!==null)Je.return=Be;else for(Je=Be;Je!==null;){if(Je===he){Je=null;break}if(Be=Je.sibling,Be!==null){Be.return=Je.return,Je=Be;break}Je=Je.return}Be=Je}Ar(de,he,Le.children,be),he=he.child}return he;case 9:return Le=he.type,Pe=he.pendingProps.children,ea(he,be),Le=Ei(Le),Pe=Pe(Le),he.flags|=1,Ar(de,he,Pe,be),he.child;case 14:return Pe=he.type,Le=Si(Pe,he.pendingProps),Le=Si(Pe.type,Le),mr(de,he,Pe,Le,be);case 15:return Do(de,he,he.type,he.pendingProps,be);case 17:return Pe=he.type,Le=he.pendingProps,Le=he.elementType===Pe?Le:Si(Pe,Le),de!==null&&(de.alternate=null,he.alternate=null,he.flags|=2),he.tag=1,Bn(Pe)?(de=!0,Bi(he)):de=!1,ea(he,be),Qc(he,Pe,Le),lc(he,Pe,Le,be),ri(null,he,Pe,!0,de,be);case 19:return Is(de,he,be);case 22:return Zr(de,he,be)}throw Error(oe(156,he.tag))};function ql(de,he){return wo(de,he)}function mu(de,he,be,Pe){this.tag=de,this.key=be,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=he,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Pe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(de,he,be,Pe){return new mu(de,he,be,Pe)}function Xl(de){return de=de.prototype,!(!de||!de.isReactComponent)}function Gu(de){if(typeof de=="function")return Xl(de)?1:0;if(de!=null){if(de=de.$$typeof,de===Ee)return 11;if(de===Re)return 14}return 2}function Go(de,he){var be=de.alternate;return be===null?(be=Ni(de.tag,he,de.key,de.mode),be.elementType=de.elementType,be.type=de.type,be.stateNode=de.stateNode,be.alternate=de,de.alternate=be):(be.pendingProps=he,be.type=de.type,be.flags=0,be.subtreeFlags=0,be.deletions=null),be.flags=de.flags&14680064,be.childLanes=de.childLanes,be.lanes=de.lanes,be.child=de.child,be.memoizedProps=de.memoizedProps,be.memoizedState=de.memoizedState,be.updateQueue=de.updateQueue,he=de.dependencies,be.dependencies=he===null?null:{lanes:he.lanes,firstContext:he.firstContext},be.sibling=de.sibling,be.index=de.index,be.ref=de.ref,be}function Yl(de,he,be,Pe,Le,Be){var Je=2;if(Pe=de,typeof de=="function")Xl(de)&&(Je=1);else if(typeof de=="string")Je=5;else e:switch(de){case fe:return Vs(be.children,Le,Be,he);case me:Je=8,Le|=8;break;case pe:return de=Ni(12,be,he,Le|2),de.elementType=pe,de.lanes=Be,de;case _e:return de=Ni(13,be,he,Le),de.elementType=_e,de.lanes=Be,de;case Se:return de=Ni(19,be,he,Le),de.elementType=Se,de.lanes=Be,de;case Ae:return sl(be,Le,Be,he);default:if(typeof de=="object"&&de!==null)switch(de.$$typeof){case ge:Je=10;break e;case ye:Je=9;break e;case Ee:Je=11;break e;case Re:Je=14;break e;case Te:Je=16,Pe=null;break e}throw Error(oe(130,de==null?de:typeof de,""))}return he=Ni(Je,be,he,Le),he.elementType=de,he.type=Pe,he.lanes=Be,he}function Vs(de,he,be,Pe){return de=Ni(7,de,Pe,he),de.lanes=be,de}function sl(de,he,be,Pe){return de=Ni(22,de,Pe,he),de.elementType=Ae,de.lanes=be,de.stateNode={},de}function Kl(de,he,be){return de=Ni(6,de,null,he),de.lanes=be,de}function Zl(de,he,be){return he=Ni(4,de.children!==null?de.children:[],de.key,he),he.lanes=be,he.stateNode={containerInfo:de.containerInfo,pendingChildren:null,implementation:de.implementation},he}function Ql(de,he,be,Pe,Le){this.tag=he,this.containerInfo=de,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Qt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xs(0),this.expirationTimes=Xs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.identifierPrefix=Pe,this.onRecoverableError=Le,Vt&&(this.mutableSourceEagerHydrationData=null)}function gu(de,he,be,Pe,Le,Be,Je,yt,Gt){return de=new Ql(de,he,be,yt,Gt),he===1?(he=1,Be===!0&&(he|=8)):he=0,Be=Ni(3,null,null,he),de.current=Be,Be.stateNode=de,Be.memoizedState={element:Pe,isDehydrated:be,cache:null,transitions:null},ta(Be),de}function vu(de){if(!de)return Kn;de=de._reactInternals;e:{if(Ue(de)!==de||de.tag!==1)throw Error(oe(170));var he=de;do{switch(he.tag){case 3:he=he.stateNode.context;break e;case 1:if(Bn(he.type)){he=he.stateNode.__reactInternalMemoizedMergedChildContext;break e}}he=he.return}while(he!==null);throw Error(oe(171))}if(de.tag===1){var be=de.type;if(Bn(be))return zr(de,be,he)}return he}function yu(de){var he=de._reactInternals;if(he===void 0)throw typeof de.render=="function"?Error(oe(188)):(de=Object.keys(de).join(","),Error(oe(268,de)));return de=Ye(he),de===null?null:de.stateNode}function Yi(de,he){if(de=de.memoizedState,de!==null&&de.dehydrated!==null){var be=de.retryLane;de.retryLane=be!==0&&be<he?be:he}}function al(de,he){Yi(de,he),(de=de.alternate)&&Yi(de,he)}function Jl(de){return de=Ye(de),de===null?null:de.stateNode}function xu(){return null}return K.attemptContinuousHydration=function(de){if(de.tag===13){var he=or();oi(de,134217728,he),al(de,134217728)}},K.attemptHydrationAtCurrentPriority=function(de){if(de.tag===13){var he=or(),be=so(de);oi(de,be,he),al(de,be)}},K.attemptSynchronousHydration=function(de){switch(de.tag){case 3:var he=de.stateNode;if(he.current.memoizedState.isDehydrated){var be=Xo(he.pendingLanes);be!==0&&(Vi(he,be|1),Mi(he,Ir()),!(Jn&6)&&(Us(),li()))}break;case 13:var Pe=or();Ea(function(){return oi(de,1,Pe)}),al(de,1)}},K.batchedUpdates=function(de,he){var be=Jn;Jn|=1;try{return de(he)}finally{Jn=be,Jn===0&&(Us(),kr&&li())}},K.createComponentSelector=function(de){return{$$typeof:Ka,value:de}},K.createContainer=function(de,he,be,Pe,Le,Be,Je){return gu(de,he,!1,null,be,Pe,Le,Be,Je)},K.createHasPseudoClassSelector=function(de){return{$$typeof:Ds,value:de}},K.createHydrationContainer=function(de,he,be,Pe,Le,Be,Je,yt,Gt){return de=gu(be,Pe,!0,de,Le,Be,Je,yt,Gt),de.context=vu(null),be=de.current,Pe=or(),Le=so(be),Be=Ro(Pe,Le),Be.callback=he??null,Zo(be,Be),de.current.lanes=Le,bo(de,Le,Pe),Mi(de,Pe),de},K.createPortal=function(de,he,be){var Pe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:Pe==null?null:""+Pe,children:de,containerInfo:he,implementation:be}},K.createRoleSelector=function(de){return{$$typeof:Os,value:de}},K.createTestNameSelector=function(de){return{$$typeof:ko,value:de}},K.createTextSelector=function(de){return{$$typeof:va,value:de}},K.deferredUpdates=function(de){var he=Qn,be=fr.transition;try{return fr.transition=null,Qn=16,de()}finally{Qn=he,fr.transition=be}},K.discreteUpdates=function(de,he,be,Pe,Le){var Be=Qn,Je=fr.transition;try{return fr.transition=null,Qn=1,de(he,be,Pe,Le)}finally{Qn=Be,fr.transition=Je,Jn===0&&Us()}},K.findAllNodes=Uo,K.findBoundingRects=function(de,he){if(!Jt)throw Error(oe(363));he=Uo(de,he),de=[];for(var be=0;be<he.length;be++)de.push(He(he[be]));for(he=de.length-1;0<he;he--){be=de[he];for(var Pe=be.x,Le=Pe+be.width,Be=be.y,Je=Be+be.height,yt=he-1;0<=yt;yt--)if(he!==yt){var Gt=de[yt],ln=Gt.x,Rn=ln+Gt.width,Wn=Gt.y,kn=Wn+Gt.height;if(Pe>=ln&&Be>=Wn&&Le<=Rn&&Je<=kn){de.splice(he,1);break}else if(Pe!==ln||be.width!==Gt.width||kn<Be||Wn>Je){if(!(Be!==Wn||be.height!==Gt.height||Rn<Pe||ln>Le)){ln>Pe&&(Gt.width+=ln-Pe,Gt.x=Pe),Rn<Le&&(Gt.width=Le-ln),de.splice(he,1);break}}else{Wn>Be&&(Gt.height+=Wn-Be,Gt.y=Be),kn<Je&&(Gt.height=Je-Wn),de.splice(he,1);break}}}return de},K.findHostInstance=yu,K.findHostInstanceWithNoPortals=function(de){return de=Ve(de),de=de!==null?ot(de):null,de===null?null:de.stateNode},K.findHostInstanceWithWarning=function(de){return yu(de)},K.flushControlled=function(de){var he=Jn;Jn|=1;var be=fr.transition,Pe=Qn;try{fr.transition=null,Qn=1,de()}finally{Qn=Pe,fr.transition=be,Jn=he,Jn===0&&(Us(),li())}},K.flushPassiveEffects=vo,K.flushSync=Ea,K.focusWithin=function(de,he){if(!Jt)throw Error(oe(363));for(de=Za(de),he=$i(de,he),he=Array.from(he),de=0;de<he.length;){var be=he[de++];if(!mt(be)){if(be.tag===5&&_t(be.stateNode))return!0;for(be=be.child;be!==null;)he.push(be),be=be.sibling}}return!1},K.getCurrentUpdatePriority=function(){return Qn},K.getFindAllNodesFailureDescription=function(de,he){if(!Jt)throw Error(oe(363));var be=0,Pe=[];de=[Za(de),0];for(var Le=0;Le<de.length;){var Be=de[Le++],Je=de[Le++],yt=he[Je];if((Be.tag!==5||!mt(Be))&&(Qa(Be,yt)&&(Pe.push(as(yt)),Je++,Je>be&&(be=Je)),Je<he.length))for(Be=Be.child;Be!==null;)de.push(Be,Je),Be=Be.sibling}if(be<he.length){for(de=[];be<he.length;be++)de.push(as(he[be]));return`findAllNodes was able to match part of the selector:
  `+(Pe.join(" > ")+`

No matching component was found for:
  `)+de.join(" > ")}return null},K.getPublicRootInstance=function(de){if(de=de.current,!de.child)return null;switch(de.child.tag){case 5:return ct(de.child.stateNode);default:return de.child.stateNode}},K.injectIntoDevTools=function(de){if(de={bundleType:de.bundleType,version:de.version,rendererPackageName:de.rendererPackageName,rendererConfig:de.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:Jl,findFiberByHostInstance:de.findFiberByHostInstance||xu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")de=!1;else{var he=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(he.isDisabled||!he.supportsFiber)de=!0;else{try{et=he.inject(de),it=he}catch{}de=!!he.checkDCE}}return de},K.isAlreadyRendering=function(){return!1},K.observeVisibleRects=function(de,he,be,Pe){if(!Jt)throw Error(oe(363));de=Uo(de,he);var Le=jt(de,be,Pe).disconnect;return{disconnect:function(){Le()}}},K.registerMutableSourceForHydration=function(de,he){var be=he._getVersion;be=be(he._source),de.mutableSourceEagerHydrationData==null?de.mutableSourceEagerHydrationData=[he,be]:de.mutableSourceEagerHydrationData.push(he,be)},K.runWithPriority=function(de,he){var be=Qn;try{return Qn=de,he()}finally{Qn=be}},K.shouldError=function(){return null},K.shouldSuspend=function(){return!1},K.updateContainer=function(de,he,be,Pe){var Le=he.current,Be=or(),Je=so(Le);return be=vu(be),he.context===null?he.context=be:he.pendingContext=be,he=Ro(Be,Je),he.payload={element:de},Pe=Pe===void 0?null:Pe,Pe!==null&&(he.callback=Pe),Zo(Le,he),de=oi(Le,Je,Be),de!==null&&gl(de,Le,Je),Je},K}),reactReconciler_production_min}var hasRequiredReactReconciler;function requireReactReconciler(){return hasRequiredReactReconciler||(hasRequiredReactReconciler=1,reactReconciler.exports=requireReactReconciler_production_min()),reactReconciler.exports}var reactReconcilerExports=requireReactReconciler();const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var schedulerExports=requireScheduler();const catalogue={},extend=Z=>void Object.assign(catalogue,Z);function createRenderer(Z,_){function K(fe,{args:me=[],attach:pe,...ge},ye){let Ee=`${fe[0].toUpperCase()}${fe.slice(1)}`,_e;if(fe==="primitive"){if(ge.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Se=ge.object;_e=prepare(Se,{type:fe,root:ye,attach:pe,primitive:!0})}else{const Se=catalogue[Ee];if(!Se)throw new Error(`R3F: ${Ee} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(me))throw new Error("R3F: The args prop must be an array!");_e=prepare(new Se(...me),{type:fe,root:ye,attach:pe,memoizedProps:{args:me}})}return _e.__r3f.attach===void 0&&(_e.isBufferGeometry?_e.__r3f.attach="geometry":_e.isMaterial&&(_e.__r3f.attach="material")),Ee!=="inject"&&applyProps$1(_e,ge),_e}function te(fe,me){let pe=!1;if(me){var ge,ye;(ge=me.__r3f)!=null&&ge.attach?attach(fe,me,me.__r3f.attach):me.isObject3D&&fe.isObject3D&&(fe.add(me),pe=!0),pe||(ye=fe.__r3f)==null||ye.objects.push(me),me.__r3f||prepare(me,{}),me.__r3f.parent=fe,updateInstance(me),invalidateInstance(me)}}function ne(fe,me,pe){let ge=!1;if(me){var ye,Ee;if((ye=me.__r3f)!=null&&ye.attach)attach(fe,me,me.__r3f.attach);else if(me.isObject3D&&fe.isObject3D){me.parent=fe,me.dispatchEvent({type:"added"}),fe.dispatchEvent({type:"childadded",child:me});const _e=fe.children.filter(Re=>Re!==me),Se=_e.indexOf(pe);fe.children=[..._e.slice(0,Se),me,..._e.slice(Se)],ge=!0}ge||(Ee=fe.__r3f)==null||Ee.objects.push(me),me.__r3f||prepare(me,{}),me.__r3f.parent=fe,updateInstance(me),invalidateInstance(me)}}function ie(fe,me,pe=!1){fe&&[...fe].forEach(ge=>oe(me,ge,pe))}function oe(fe,me,pe){if(me){var ge,ye,Ee;if(me.__r3f&&(me.__r3f.parent=null),(ge=fe.__r3f)!=null&&ge.objects&&(fe.__r3f.objects=fe.__r3f.objects.filter(Ae=>Ae!==me)),(ye=me.__r3f)!=null&&ye.attach)detach(fe,me,me.__r3f.attach);else if(me.isObject3D&&fe.isObject3D){var _e;fe.remove(me),(_e=me.__r3f)!=null&&_e.root&&removeInteractivity(findInitialRoot(me),me)}const Re=(Ee=me.__r3f)==null?void 0:Ee.primitive,Te=!Re&&(pe===void 0?me.dispose!==null:pe);if(!Re){var Se;ie((Se=me.__r3f)==null?void 0:Se.objects,me,Te),ie(me.children,me,Te)}if(delete me.__r3f,Te&&me.dispose&&me.type!=="Scene"){const Ae=()=>{try{me.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,Ae):Ae()}invalidateInstance(fe)}}function se(fe,me,pe,ge){var ye;const Ee=(ye=fe.__r3f)==null?void 0:ye.parent;if(!Ee)return;const _e=K(me,pe,fe.__r3f.root);if(fe.children){for(const Se of fe.children)Se.__r3f&&te(_e,Se);fe.children=fe.children.filter(Se=>!Se.__r3f)}fe.__r3f.objects.forEach(Se=>te(_e,Se)),fe.__r3f.objects=[],fe.__r3f.autoRemovedBeforeAppend||oe(Ee,fe),_e.parent&&(_e.__r3f.autoRemovedBeforeAppend=!0),te(Ee,_e),_e.raycast&&_e.__r3f.eventCount&&findInitialRoot(_e).getState().internal.interaction.push(_e),[ge,ge.alternate].forEach(Se=>{Se!==null&&(Se.stateNode=_e,Se.ref&&(typeof Se.ref=="function"?Se.ref(_e):Se.ref.current=_e))})}const le=()=>{};return{reconciler:Reconciler({createInstance:K,removeChild:oe,appendChild:te,appendInitialChild:te,insertBefore:ne,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(fe,me)=>{if(!me)return;const pe=fe.getState().scene;pe.__r3f&&(pe.__r3f.root=fe,te(pe,me))},removeChildFromContainer:(fe,me)=>{me&&oe(fe.getState().scene,me)},insertInContainerBefore:(fe,me,pe)=>{if(!me||!pe)return;const ge=fe.getState().scene;ge.__r3f&&ne(ge,me,pe)},getRootHostContext:()=>null,getChildHostContext:fe=>fe,finalizeInitialChildren(fe){var me;return!!((me=fe==null?void 0:fe.__r3f)!=null?me:{}).handlers},prepareUpdate(fe,me,pe,ge){var ye;if(((ye=fe==null?void 0:fe.__r3f)!=null?ye:{}).primitive&&ge.object&&ge.object!==fe)return[!0];{const{args:_e=[],children:Se,...Re}=ge,{args:Te=[],children:Ae,...Fe}=pe;if(!Array.isArray(_e))throw new Error("R3F: the args prop must be an array!");if(_e.some((ke,ze)=>ke!==Te[ze]))return[!0];const $e=diffProps(fe,Re,Fe,!0);return $e.changes.length?[!1,$e]:null}},commitUpdate(fe,[me,pe],ge,ye,Ee,_e){me?se(fe,ge,Ee,_e):applyProps$1(fe,pe)},commitMount(fe,me,pe,ge){var ye;const Ee=(ye=fe.__r3f)!=null?ye:{};fe.raycast&&Ee.handlers&&Ee.eventCount&&findInitialRoot(fe).getState().internal.interaction.push(fe)},getPublicInstance:fe=>fe,prepareForCommit:()=>null,preparePortalMount:fe=>prepare(fe.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(fe){var me;const{attach:pe,parent:ge}=(me=fe.__r3f)!=null?me:{};pe&&ge&&detach(ge,fe,pe),fe.isObject3D&&(fe.visible=!1),invalidateInstance(fe)},unhideInstance(fe,me){var pe;const{attach:ge,parent:ye}=(pe=fe.__r3f)!=null?pe:{};ge&&ye&&attach(ye,fe,ge),(fe.isObject3D&&me.visible==null||me.visible)&&(fe.visible=!0),invalidateInstance(fe)},createTextInstance:le,hideTextInstance:le,unhideTextInstance:le,getCurrentEventPriority:()=>_?_():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=Z=>"colorSpace"in Z||"outputColorSpace"in Z,getColorManagement=()=>{var Z;return(Z=catalogue.ColorManagement)!=null?Z:null},isOrthographicCamera=Z=>Z&&Z.isOrthographicCamera,isRef=Z=>Z&&Z.hasOwnProperty("current"),useIsomorphicLayoutEffect$2=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(Z){const _=reactExports.useRef(Z);return useIsomorphicLayoutEffect$2(()=>void(_.current=Z),[Z]),_}function Block({set:Z}){return useIsomorphicLayoutEffect$2(()=>(Z(new Promise(()=>null)),()=>Z(!1)),[Z]),null}class ErrorBoundary extends reactExports.Component{constructor(..._){super(..._),this.state={error:!1}}componentDidCatch(_){this.props.set(_)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=Z=>Z&&!!Z.memoized&&!!Z.changes;function calculateDpr(Z){var _;const K=typeof window<"u"?(_=window.devicePixelRatio)!=null?_:2:1;return Array.isArray(Z)?Math.min(Math.max(Z[0],K),Z[1]):Z}const getRootState=Z=>{var _;return(_=Z.__r3f)==null?void 0:_.root.getState()};function findInitialRoot(Z){let _=Z.__r3f.root;for(;_.getState().previousRoot;)_=_.getState().previousRoot;return _}const is={obj:Z=>Z===Object(Z)&&!is.arr(Z)&&typeof Z!="function",fun:Z=>typeof Z=="function",str:Z=>typeof Z=="string",num:Z=>typeof Z=="number",boo:Z=>typeof Z=="boolean",und:Z=>Z===void 0,arr:Z=>Array.isArray(Z),equ(Z,_,{arrays:K="shallow",objects:te="reference",strict:ne=!0}={}){if(typeof Z!=typeof _||!!Z!=!!_)return!1;if(is.str(Z)||is.num(Z)||is.boo(Z))return Z===_;const ie=is.obj(Z);if(ie&&te==="reference")return Z===_;const oe=is.arr(Z);if(oe&&K==="reference")return Z===_;if((oe||ie)&&Z===_)return!0;let se;for(se in Z)if(!(se in _))return!1;if(ie&&K==="shallow"&&te==="shallow"){for(se in ne?_:Z)if(!is.equ(Z[se],_[se],{strict:ne,objects:"reference"}))return!1}else for(se in ne?_:Z)if(Z[se]!==_[se])return!1;if(is.und(se)){if(oe&&Z.length===0&&_.length===0||ie&&Object.keys(Z).length===0&&Object.keys(_).length===0)return!0;if(Z!==_)return!1}return!0}};function buildGraph(Z){const _={nodes:{},materials:{}};return Z&&Z.traverse(K=>{K.name&&(_.nodes[K.name]=K),K.material&&!_.materials[K.material.name]&&(_.materials[K.material.name]=K.material)}),_}function dispose(Z){Z.dispose&&Z.type!=="Scene"&&Z.dispose();for(const _ in Z)_.dispose==null||_.dispose(),delete Z[_]}function prepare(Z,_){const K=Z;return K.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,..._},Z}function resolve(Z,_){let K=Z;if(_.includes("-")){const te=_.split("-"),ne=te.pop();return K=te.reduce((ie,oe)=>ie[oe],Z),{target:K,key:ne}}else return{target:K,key:_}}const INDEX_REGEX=/-\d+$/;function attach(Z,_,K){if(is.str(K)){if(INDEX_REGEX.test(K)){const ie=K.replace(INDEX_REGEX,""),{target:oe,key:se}=resolve(Z,ie);Array.isArray(oe[se])||(oe[se]=[])}const{target:te,key:ne}=resolve(Z,K);_.__r3f.previousAttach=te[ne],te[ne]=_}else _.__r3f.previousAttach=K(Z,_)}function detach(Z,_,K){var te,ne;if(is.str(K)){const{target:ie,key:oe}=resolve(Z,K),se=_.__r3f.previousAttach;se===void 0?delete ie[oe]:ie[oe]=se}else(te=_.__r3f)==null||te.previousAttach==null||te.previousAttach(Z,_);(ne=_.__r3f)==null||delete ne.previousAttach}function diffProps(Z,{children:_,key:K,ref:te,...ne},{children:ie,key:oe,ref:se,...le}={},ce=!1){const fe=Z.__r3f,me=Object.entries(ne),pe=[];if(ce){const ye=Object.keys(le);for(let Ee=0;Ee<ye.length;Ee++)ne.hasOwnProperty(ye[Ee])||me.unshift([ye[Ee],DEFAULT+"remove"])}me.forEach(([ye,Ee])=>{var _e;if((_e=Z.__r3f)!=null&&_e.primitive&&ye==="object"||is.equ(Ee,le[ye]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ye))return pe.push([ye,Ee,!0,[]]);let Se=[];ye.includes("-")&&(Se=ye.split("-")),pe.push([ye,Ee,!1,Se]);for(const Re in ne){const Te=ne[Re];Re.startsWith(`${ye}-`)&&pe.push([Re,Te,!1,Re.split("-")])}});const ge={...ne};return fe!=null&&fe.memoizedProps&&fe!=null&&fe.memoizedProps.args&&(ge.args=fe.memoizedProps.args),fe!=null&&fe.memoizedProps&&fe!=null&&fe.memoizedProps.attach&&(ge.attach=fe.memoizedProps.attach),{memoized:ge,changes:pe}}function applyProps$1(Z,_){var K;const te=Z.__r3f,ne=te==null?void 0:te.root,ie=ne==null||ne.getState==null?void 0:ne.getState(),{memoized:oe,changes:se}=isDiffSet(_)?_:diffProps(Z,_),le=te==null?void 0:te.eventCount;Z.__r3f&&(Z.__r3f.memoizedProps=oe);for(let pe=0;pe<se.length;pe++){let[ge,ye,Ee,_e]=se[pe];if(hasColorSpace(Z)){const Ae="srgb",Fe="srgb-linear";ge==="encoding"?(ge="colorSpace",ye=ye===3001?Ae:Fe):ge==="outputEncoding"&&(ge="outputColorSpace",ye=ye===3001?Ae:Fe)}let Se=Z,Re=Se[ge];if(_e.length&&(Re=_e.reduce((Te,Ae)=>Te[Ae],Z),!(Re&&Re.set))){const[Te,...Ae]=_e.reverse();Se=Ae.reverse().reduce((Fe,$e)=>Fe[$e],Z),ge=Te}if(ye===DEFAULT+"remove")if(Se.constructor){let Te=DEFAULTS.get(Se.constructor);Te||(Te=new Se.constructor,DEFAULTS.set(Se.constructor,Te)),ye=Te[ge]}else ye=0;if(Ee&&te)ye?te.handlers[ge]=ye:delete te.handlers[ge],te.eventCount=Object.keys(te.handlers).length;else if(Re&&Re.set&&(Re.copy||Re instanceof Layers)){if(Array.isArray(ye))Re.fromArray?Re.fromArray(ye):Re.set(...ye);else if(Re.copy&&ye&&ye.constructor&&Re.constructor===ye.constructor)Re.copy(ye);else if(ye!==void 0){var ce;const Te=(ce=Re)==null?void 0:ce.isColor;!Te&&Re.setScalar?Re.setScalar(ye):Re instanceof Layers&&ye instanceof Layers?Re.mask=ye.mask:Re.set(ye),!getColorManagement()&&ie&&!ie.linear&&Te&&Re.convertSRGBToLinear()}}else{var fe;if(Se[ge]=ye,(fe=Se[ge])!=null&&fe.isTexture&&Se[ge].format===RGBAFormat&&Se[ge].type===UnsignedByteType&&ie){const Te=Se[ge];hasColorSpace(Te)&&hasColorSpace(ie.gl)?Te.colorSpace=ie.gl.outputColorSpace:Te.encoding=ie.gl.outputEncoding}}invalidateInstance(Z)}if(te&&te.parent&&Z.raycast&&le!==te.eventCount){const pe=findInitialRoot(Z).getState().internal,ge=pe.interaction.indexOf(Z);ge>-1&&pe.interaction.splice(ge,1),te.eventCount&&pe.interaction.push(Z)}return!(se.length===1&&se[0][0]==="onUpdate")&&se.length&&(K=Z.__r3f)!=null&&K.parent&&updateInstance(Z),Z}function invalidateInstance(Z){var _,K;const te=(_=Z.__r3f)==null||(K=_.root)==null||K.getState==null?void 0:K.getState();te&&te.internal.frames===0&&te.invalidate()}function updateInstance(Z){Z.onUpdate==null||Z.onUpdate(Z)}function updateCamera(Z,_){Z.manual||(isOrthographicCamera(Z)?(Z.left=_.width/-2,Z.right=_.width/2,Z.top=_.height/2,Z.bottom=_.height/-2):Z.aspect=_.width/_.height,Z.updateProjectionMatrix(),Z.updateMatrixWorld())}function makeId(Z){return(Z.eventObject||Z.object).uuid+"/"+Z.index+Z.instanceId}function getEventPriority(){var Z;const _=typeof self<"u"&&self||typeof window<"u"&&window;if(!_)return constantsExports.DefaultEventPriority;switch((Z=_.event)==null?void 0:Z.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(Z,_,K,te){const ne=K.get(_);ne&&(K.delete(_),K.size===0&&(Z.delete(te),ne.target.releasePointerCapture(te)))}function removeInteractivity(Z,_){const{internal:K}=Z.getState();K.interaction=K.interaction.filter(te=>te!==_),K.initialHits=K.initialHits.filter(te=>te!==_),K.hovered.forEach((te,ne)=>{(te.eventObject===_||te.object===_)&&K.hovered.delete(ne)}),K.capturedMap.forEach((te,ne)=>{releaseInternalPointerCapture(K.capturedMap,_,te,ne)})}function createEvents(Z){function _(le){const{internal:ce}=Z.getState(),fe=le.offsetX-ce.initialClick[0],me=le.offsetY-ce.initialClick[1];return Math.round(Math.sqrt(fe*fe+me*me))}function K(le){return le.filter(ce=>["Move","Over","Enter","Out","Leave"].some(fe=>{var me;return(me=ce.__r3f)==null?void 0:me.handlers["onPointer"+fe]}))}function te(le,ce){const fe=Z.getState(),me=new Set,pe=[],ge=ce?ce(fe.internal.interaction):fe.internal.interaction;for(let Se=0;Se<ge.length;Se++){const Re=getRootState(ge[Se]);Re&&(Re.raycaster.camera=void 0)}fe.previousRoot||fe.events.compute==null||fe.events.compute(le,fe);function ye(Se){const Re=getRootState(Se);if(!Re||!Re.events.enabled||Re.raycaster.camera===null)return[];if(Re.raycaster.camera===void 0){var Te;Re.events.compute==null||Re.events.compute(le,Re,(Te=Re.previousRoot)==null?void 0:Te.getState()),Re.raycaster.camera===void 0&&(Re.raycaster.camera=null)}return Re.raycaster.camera?Re.raycaster.intersectObject(Se,!0):[]}let Ee=ge.flatMap(ye).sort((Se,Re)=>{const Te=getRootState(Se.object),Ae=getRootState(Re.object);return!Te||!Ae?Se.distance-Re.distance:Ae.events.priority-Te.events.priority||Se.distance-Re.distance}).filter(Se=>{const Re=makeId(Se);return me.has(Re)?!1:(me.add(Re),!0)});fe.events.filter&&(Ee=fe.events.filter(Ee,fe));for(const Se of Ee){let Re=Se.object;for(;Re;){var _e;(_e=Re.__r3f)!=null&&_e.eventCount&&pe.push({...Se,eventObject:Re}),Re=Re.parent}}if("pointerId"in le&&fe.internal.capturedMap.has(le.pointerId))for(let Se of fe.internal.capturedMap.get(le.pointerId).values())me.has(makeId(Se.intersection))||pe.push(Se.intersection);return pe}function ne(le,ce,fe,me){const pe=Z.getState();if(le.length){const ge={stopped:!1};for(const ye of le){const Ee=getRootState(ye.object)||pe,{raycaster:_e,pointer:Se,camera:Re,internal:Te}=Ee,Ae=new Vector3(Se.x,Se.y,0).unproject(Re),Fe=Oe=>{var Ve,Ye;return(Ve=(Ye=Te.capturedMap.get(Oe))==null?void 0:Ye.has(ye.eventObject))!=null?Ve:!1},$e=Oe=>{const Ve={intersection:ye,target:ce.target};Te.capturedMap.has(Oe)?Te.capturedMap.get(Oe).set(ye.eventObject,Ve):Te.capturedMap.set(Oe,new Map([[ye.eventObject,Ve]])),ce.target.setPointerCapture(Oe)},ke=Oe=>{const Ve=Te.capturedMap.get(Oe);Ve&&releaseInternalPointerCapture(Te.capturedMap,ye.eventObject,Ve,Oe)};let ze={};for(let Oe in ce){let Ve=ce[Oe];typeof Ve!="function"&&(ze[Oe]=Ve)}let Ue={...ye,...ze,pointer:Se,intersections:le,stopped:ge.stopped,delta:fe,unprojectedPoint:Ae,ray:_e.ray,camera:Re,stopPropagation(){const Oe="pointerId"in ce&&Te.capturedMap.get(ce.pointerId);if((!Oe||Oe.has(ye.eventObject))&&(Ue.stopped=ge.stopped=!0,Te.hovered.size&&Array.from(Te.hovered.values()).find(Ve=>Ve.eventObject===ye.eventObject))){const Ve=le.slice(0,le.indexOf(ye));ie([...Ve,ye])}},target:{hasPointerCapture:Fe,setPointerCapture:$e,releasePointerCapture:ke},currentTarget:{hasPointerCapture:Fe,setPointerCapture:$e,releasePointerCapture:ke},nativeEvent:ce};if(me(Ue),ge.stopped===!0)break}}return le}function ie(le){const{internal:ce}=Z.getState();for(const fe of ce.hovered.values())if(!le.length||!le.find(me=>me.object===fe.object&&me.index===fe.index&&me.instanceId===fe.instanceId)){const pe=fe.eventObject.__r3f,ge=pe==null?void 0:pe.handlers;if(ce.hovered.delete(makeId(fe)),pe!=null&&pe.eventCount){const ye={...fe,intersections:le};ge.onPointerOut==null||ge.onPointerOut(ye),ge.onPointerLeave==null||ge.onPointerLeave(ye)}}}function oe(le,ce){for(let fe=0;fe<ce.length;fe++){const me=ce[fe].__r3f;me==null||me.handlers.onPointerMissed==null||me.handlers.onPointerMissed(le)}}function se(le){switch(le){case"onPointerLeave":case"onPointerCancel":return()=>ie([]);case"onLostPointerCapture":return ce=>{const{internal:fe}=Z.getState();"pointerId"in ce&&fe.capturedMap.has(ce.pointerId)&&requestAnimationFrame(()=>{fe.capturedMap.has(ce.pointerId)&&(fe.capturedMap.delete(ce.pointerId),ie([]))})}}return function(fe){const{onPointerMissed:me,internal:pe}=Z.getState();pe.lastEvent.current=fe;const ge=le==="onPointerMove",ye=le==="onClick"||le==="onContextMenu"||le==="onDoubleClick",_e=te(fe,ge?K:void 0),Se=ye?_(fe):0;le==="onPointerDown"&&(pe.initialClick=[fe.offsetX,fe.offsetY],pe.initialHits=_e.map(Te=>Te.eventObject)),ye&&!_e.length&&Se<=2&&(oe(fe,pe.interaction),me&&me(fe)),ge&&ie(_e);function Re(Te){const Ae=Te.eventObject,Fe=Ae.__r3f,$e=Fe==null?void 0:Fe.handlers;if(Fe!=null&&Fe.eventCount)if(ge){if($e.onPointerOver||$e.onPointerEnter||$e.onPointerOut||$e.onPointerLeave){const ke=makeId(Te),ze=pe.hovered.get(ke);ze?ze.stopped&&Te.stopPropagation():(pe.hovered.set(ke,Te),$e.onPointerOver==null||$e.onPointerOver(Te),$e.onPointerEnter==null||$e.onPointerEnter(Te))}$e.onPointerMove==null||$e.onPointerMove(Te)}else{const ke=$e[le];ke?(!ye||pe.initialHits.includes(Ae))&&(oe(fe,pe.interaction.filter(ze=>!pe.initialHits.includes(ze))),ke(Te)):ye&&pe.initialHits.includes(Ae)&&oe(fe,pe.interaction.filter(ze=>!pe.initialHits.includes(ze)))}}ne(_e,fe,Se,Re)}}return{handlePointer:se}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=Z=>!!(Z!=null&&Z.render),context=reactExports.createContext(null),createStore$1=(Z,_)=>{const K=create$1((se,le)=>{const ce=new Vector3,fe=new Vector3,me=new Vector3;function pe(Se=le().camera,Re=fe,Te=le().size){const{width:Ae,height:Fe,top:$e,left:ke}=Te,ze=Ae/Fe;Re.isVector3?me.copy(Re):me.set(...Re);const Ue=Se.getWorldPosition(ce).distanceTo(me);if(isOrthographicCamera(Se))return{width:Ae/Se.zoom,height:Fe/Se.zoom,top:$e,left:ke,factor:1,distance:Ue,aspect:ze};{const Oe=Se.fov*Math.PI/180,Ve=2*Math.tan(Oe/2)*Ue,Ye=Ve*(Ae/Fe);return{width:Ye,height:Ve,top:$e,left:ke,factor:Ae/Ye,distance:Ue,aspect:ze}}}let ge;const ye=Se=>se(Re=>({performance:{...Re.performance,current:Se}})),Ee=new Vector2;return{set:se,get:le,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(Se=1)=>Z(le(),Se),advance:(Se,Re)=>_(Se,Re,le()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:Ee,mouse:Ee,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Se=le();ge&&clearTimeout(ge),Se.performance.current!==Se.performance.min&&ye(Se.performance.min),ge=setTimeout(()=>ye(le().performance.max),Se.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:pe},setEvents:Se=>se(Re=>({...Re,events:{...Re.events,...Se}})),setSize:(Se,Re,Te,Ae,Fe)=>{const $e=le().camera,ke={width:Se,height:Re,top:Ae||0,left:Fe||0,updateStyle:Te};se(ze=>({size:ke,viewport:{...ze.viewport,...pe($e,fe,ke)}}))},setDpr:Se=>se(Re=>{const Te=calculateDpr(Se);return{viewport:{...Re.viewport,dpr:Te,initialDpr:Re.viewport.initialDpr||Te}}}),setFrameloop:(Se="always")=>{const Re=le().clock;Re.stop(),Re.elapsedTime=0,Se!=="never"&&(Re.start(),Re.elapsedTime=0),se(()=>({frameloop:Se}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Se,Re,Te)=>{const Ae=le().internal;return Ae.priority=Ae.priority+(Re>0?1:0),Ae.subscribers.push({ref:Se,priority:Re,store:Te}),Ae.subscribers=Ae.subscribers.sort((Fe,$e)=>Fe.priority-$e.priority),()=>{const Fe=le().internal;Fe!=null&&Fe.subscribers&&(Fe.priority=Fe.priority-(Re>0?1:0),Fe.subscribers=Fe.subscribers.filter($e=>$e.ref!==Se))}}}}}),te=K.getState();let ne=te.size,ie=te.viewport.dpr,oe=te.camera;return K.subscribe(()=>{const{camera:se,size:le,viewport:ce,gl:fe,set:me}=K.getState();if(le.width!==ne.width||le.height!==ne.height||ce.dpr!==ie){var pe;ne=le,ie=ce.dpr,updateCamera(se,le),fe.setPixelRatio(ce.dpr);const ge=(pe=le.updateStyle)!=null?pe:typeof HTMLCanvasElement<"u"&&fe.domElement instanceof HTMLCanvasElement;fe.setSize(le.width,le.height,ge)}se!==oe&&(oe=se,me(ge=>({viewport:{...ge.viewport,...ge.viewport.getCurrentViewport(se)}})))}),K.subscribe(se=>Z(se)),K};function createSubs(Z,_){const K={callback:Z};return _.add(K),()=>void _.delete(K)}let i$5,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;const addEffect=Z=>createSubs(Z,globalEffects),addAfterEffect=Z=>createSubs(Z,globalAfterEffects);function run(Z,_){if(Z.size)for(const{callback:K}of Z.values())K(_)}function flushGlobalEffects(Z,_){switch(Z){case"before":return run(globalEffects,_);case"after":return run(globalAfterEffects,_);case"tail":return run(globalTailEffects,_)}}let subscribers,subscription;function render$1(Z,_,K){let te=_.clock.getDelta();for(_.frameloop==="never"&&typeof Z=="number"&&(te=Z-_.clock.elapsedTime,_.clock.oldTime=_.clock.elapsedTime,_.clock.elapsedTime=Z),subscribers=_.internal.subscribers,i$5=0;i$5<subscribers.length;i$5++)subscription=subscribers[i$5],subscription.ref.current(subscription.store.getState(),te,K);return!_.internal.priority&&_.gl.render&&_.gl.render(_.scene,_.camera),_.internal.frames=Math.max(0,_.internal.frames-1),_.frameloop==="always"?1:_.internal.frames}function createLoop(Z){let _=!1,K=!1,te,ne,ie;function oe(ce){ne=requestAnimationFrame(oe),_=!0,te=0,flushGlobalEffects("before",ce),K=!0;for(const me of Z.values()){var fe;ie=me.store.getState(),ie.internal.active&&(ie.frameloop==="always"||ie.internal.frames>0)&&!((fe=ie.gl.xr)!=null&&fe.isPresenting)&&(te+=render$1(ce,ie))}if(K=!1,flushGlobalEffects("after",ce),te===0)return flushGlobalEffects("tail",ce),_=!1,cancelAnimationFrame(ne)}function se(ce,fe=1){var me;if(!ce)return Z.forEach(pe=>se(pe.store.getState(),fe));(me=ce.gl.xr)!=null&&me.isPresenting||!ce.internal.active||ce.frameloop==="never"||(fe>1?ce.internal.frames=Math.min(60,ce.internal.frames+fe):K?ce.internal.frames=2:ce.internal.frames=1,_||(_=!0,requestAnimationFrame(oe)))}function le(ce,fe=!0,me,pe){if(fe&&flushGlobalEffects("before",ce),me)render$1(ce,me,pe);else for(const ge of Z.values())render$1(ce,ge.store.getState());fe&&flushGlobalEffects("after",ce)}return{loop:oe,invalidate:se,advance:le}}function useStore(){const Z=reactExports.useContext(context);if(!Z)throw new Error("R3F: Hooks can only be used within the Canvas component!");return Z}function useThree(Z=K=>K,_){return useStore()(Z,_)}function useFrame(Z,_=0){const K=useStore(),te=K.getState().internal.subscribe,ne=useMutableCallback(Z);return useIsomorphicLayoutEffect$2(()=>te(ne,_,K),[_,te,K]),null}const memoizedLoaders=new WeakMap;function loadingFn(Z,_){return function(K,...te){let ne=memoizedLoaders.get(K);return ne||(ne=new K,memoizedLoaders.set(K,ne)),Z&&Z(ne),Promise.all(te.map(ie=>new Promise((oe,se)=>ne.load(ie,le=>{le.scene&&Object.assign(le,buildGraph(le.scene)),oe(le)},_,le=>se(new Error(`Could not load ${ie}: ${le==null?void 0:le.message}`))))))}}function useLoader(Z,_,K,te){const ne=Array.isArray(_)?_:[_],ie=suspend(loadingFn(K,te),[Z,...ne],{equal:is.equ});return Array.isArray(_)?ie:ie[0]}useLoader.preload=function(Z,_,K){const te=Array.isArray(_)?_:[_];return preload(loadingFn(K),[Z,...te])};useLoader.clear=function(Z,_){const K=Array.isArray(_)?_:[_];return clear([Z,...K])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(Z,_)=>{const K=typeof Z=="function"?Z(_):Z;return isRenderer(K)?K:new WebGLRenderer({powerPreference:"high-performance",canvas:_,antialias:!0,alpha:!0,...Z})};function computeInitialSize(Z,_){const K=typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement;if(_){const{width:te,height:ne,top:ie,left:oe,updateStyle:se=K}=_;return{width:te,height:ne,top:ie,left:oe,updateStyle:se}}else if(typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement&&Z.parentElement){const{width:te,height:ne,top:ie,left:oe}=Z.parentElement.getBoundingClientRect();return{width:te,height:ne,top:ie,left:oe,updateStyle:K}}else if(typeof OffscreenCanvas<"u"&&Z instanceof OffscreenCanvas)return{width:Z.width,height:Z.height,top:0,left:0,updateStyle:K};return{width:0,height:0,top:0,left:0}}function createRoot(Z){const _=roots.get(Z),K=_==null?void 0:_.fiber,te=_==null?void 0:_.store;_&&console.warn("R3F.createRoot should only be called once!");const ne=typeof reportError=="function"?reportError:console.error,ie=te||createStore$1(invalidate,advance),oe=K||reconciler.createContainer(ie,constantsExports.ConcurrentRoot,null,!1,null,"",ne,null);_||roots.set(Z,{fiber:oe,store:ie});let se,le=!1,ce;return{configure(fe={}){let{gl:me,size:pe,scene:ge,events:ye,onCreated:Ee,shadows:_e=!1,linear:Se=!1,flat:Re=!1,legacy:Te=!1,orthographic:Ae=!1,frameloop:Fe="always",dpr:$e=[1,2],performance:ke,raycaster:ze,camera:Ue,onPointerMissed:Oe}=fe,Ve=ie.getState(),Ye=Ve.gl;Ve.gl||Ve.set({gl:Ye=createRendererInstance(me,Z)});let Ke=Ve.raycaster;Ke||Ve.set({raycaster:Ke=new Raycaster});const{params:ot,...ut}=ze||{};if(is.equ(ut,Ke,shallowLoose)||applyProps(Ke,{...ut}),is.equ(ot,Ke.params,shallowLoose)||applyProps(Ke,{params:{...Ke.params,...ot}}),!Ve.camera||Ve.camera===ce&&!is.equ(ce,Ue,shallowLoose)){ce=Ue;const Qe=Ue instanceof Camera,qe=Qe?Ue:Ae?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera$1(75,0,.1,1e3);Qe||(qe.position.z=5,Ue&&(applyProps(qe,Ue),("aspect"in Ue||"left"in Ue||"right"in Ue||"bottom"in Ue||"top"in Ue)&&(qe.manual=!0,qe.updateProjectionMatrix())),!Ve.camera&&!(Ue!=null&&Ue.rotation)&&qe.lookAt(0,0,0)),Ve.set({camera:qe}),Ke.camera=qe}if(!Ve.scene){let Qe;ge!=null&&ge.isScene?Qe=ge:(Qe=new Scene,ge&&applyProps(Qe,ge)),Ve.set({scene:prepare(Qe)})}if(!Ve.xr){var ct;const Qe=(Et,ht)=>{const dt=ie.getState();dt.frameloop!=="never"&&advance(Et,!0,dt,ht)},qe=()=>{const Et=ie.getState();Et.gl.xr.enabled=Et.gl.xr.isPresenting,Et.gl.xr.setAnimationLoop(Et.gl.xr.isPresenting?Qe:null),Et.gl.xr.isPresenting||invalidate(Et)},lt={connect(){const Et=ie.getState().gl;Et.xr.addEventListener("sessionstart",qe),Et.xr.addEventListener("sessionend",qe)},disconnect(){const Et=ie.getState().gl;Et.xr.removeEventListener("sessionstart",qe),Et.xr.removeEventListener("sessionend",qe)}};typeof((ct=Ye.xr)==null?void 0:ct.addEventListener)=="function"&&lt.connect(),Ve.set({xr:lt})}if(Ye.shadowMap){const Qe=Ye.shadowMap.enabled,qe=Ye.shadowMap.type;if(Ye.shadowMap.enabled=!!_e,is.boo(_e))Ye.shadowMap.type=PCFSoftShadowMap;else if(is.str(_e)){var gt;const lt={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};Ye.shadowMap.type=(gt=lt[_e])!=null?gt:PCFSoftShadowMap}else is.obj(_e)&&Object.assign(Ye.shadowMap,_e);(Qe!==Ye.shadowMap.enabled||qe!==Ye.shadowMap.type)&&(Ye.shadowMap.needsUpdate=!0)}const je=getColorManagement();je&&("enabled"in je?je.enabled=!Te:"legacyMode"in je&&(je.legacyMode=Te)),le||applyProps(Ye,{outputEncoding:Se?3e3:3001,toneMapping:Re?NoToneMapping:ACESFilmicToneMapping}),Ve.legacy!==Te&&Ve.set(()=>({legacy:Te})),Ve.linear!==Se&&Ve.set(()=>({linear:Se})),Ve.flat!==Re&&Ve.set(()=>({flat:Re})),me&&!is.fun(me)&&!isRenderer(me)&&!is.equ(me,Ye,shallowLoose)&&applyProps(Ye,me),ye&&!Ve.events.handlers&&Ve.set({events:ye(ie)});const rt=computeInitialSize(Z,pe);return is.equ(rt,Ve.size,shallowLoose)||Ve.setSize(rt.width,rt.height,rt.updateStyle,rt.top,rt.left),$e&&Ve.viewport.dpr!==calculateDpr($e)&&Ve.setDpr($e),Ve.frameloop!==Fe&&Ve.setFrameloop(Fe),Ve.onPointerMissed||Ve.set({onPointerMissed:Oe}),ke&&!is.equ(ke,Ve.performance,shallowLoose)&&Ve.set(Qe=>({performance:{...Qe.performance,...ke}})),se=Ee,le=!0,this},render(fe){return le||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider$1,{store:ie,children:fe,onCreated:se,rootElement:Z}),oe,null,()=>{}),ie},unmount(){unmountComponentAtNode(Z)}}}function Provider$1({store:Z,children:_,onCreated:K,rootElement:te}){return useIsomorphicLayoutEffect$2(()=>{const ne=Z.getState();ne.set(ie=>({internal:{...ie.internal,active:!0}})),K&&K(ne),Z.getState().events.connected||ne.events.connect==null||ne.events.connect(te)},[]),jsxRuntimeExports.jsx(context.Provider,{value:Z,children:_})}function unmountComponentAtNode(Z,_){const K=roots.get(Z),te=K==null?void 0:K.fiber;if(te){const ne=K==null?void 0:K.store.getState();ne&&(ne.internal.active=!1),reconciler.updateContainer(null,te,null,()=>{ne&&setTimeout(()=>{try{var ie,oe,se,le;ne.events.disconnect==null||ne.events.disconnect(),(ie=ne.gl)==null||(oe=ie.renderLists)==null||oe.dispose==null||oe.dispose(),(se=ne.gl)==null||se.forceContextLoss==null||se.forceContextLoss(),(le=ne.gl)!=null&&le.xr&&ne.xr.disconnect(),dispose(ne),roots.delete(Z)}catch{}},500)})}}function createPortal(Z,_,K){return jsxRuntimeExports.jsx(Portal$1,{children:Z,container:_,state:K},_.uuid)}function Portal$1({state:Z={},children:_,container:K}){const{events:te,size:ne,...ie}=Z,oe=useStore(),[se]=reactExports.useState(()=>new Raycaster),[le]=reactExports.useState(()=>new Vector2),ce=reactExports.useCallback((me,pe)=>{const ge={...me};Object.keys(me).forEach(Ee=>{(privateKeys.includes(Ee)||me[Ee]!==pe[Ee]&&pe[Ee])&&delete ge[Ee]});let ye;if(pe&&ne){const Ee=pe.camera;ye=me.viewport.getCurrentViewport(Ee,new Vector3,ne),Ee!==me.camera&&updateCamera(Ee,ne)}return{...ge,scene:K,raycaster:se,pointer:le,mouse:le,previousRoot:oe,events:{...me.events,...pe==null?void 0:pe.events,...te},size:{...me.size,...ne},viewport:{...me.viewport,...ye},...ie}},[Z]),[fe]=reactExports.useState(()=>{const me=oe.getState();return create$1((ge,ye)=>({...me,scene:K,raycaster:se,pointer:le,mouse:le,previousRoot:oe,events:{...me.events,...te},size:{...me.size,...ne},...ie,set:ge,get:ye,setEvents:Ee=>ge(_e=>({..._e,events:{..._e.events,...Ee}}))}))});return reactExports.useEffect(()=>{const me=oe.subscribe(pe=>fe.setState(ge=>ce(pe,ge)));return()=>{me()}},[ce]),reactExports.useEffect(()=>{fe.setState(me=>ce(oe.getState(),me))},[ce]),reactExports.useEffect(()=>()=>{fe.destroy()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reconciler.createPortal(jsxRuntimeExports.jsx(context.Provider,{value:fe,children:_}),fe,null)})}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(Z){const{handlePointer:_}=createEvents(Z);return{priority:1,enabled:!0,compute(K,te,ne){te.pointer.set(K.offsetX/te.size.width*2-1,-(K.offsetY/te.size.height)*2+1),te.raycaster.setFromCamera(te.pointer,te.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((K,te)=>({...K,[te]:_(te)}),{}),update:()=>{var K;const{events:te,internal:ne}=Z.getState();(K=ne.lastEvent)!=null&&K.current&&te.handlers&&te.handlers.onPointerMove(ne.lastEvent.current)},connect:K=>{var te;const{set:ne,events:ie}=Z.getState();ie.disconnect==null||ie.disconnect(),ne(oe=>({events:{...oe.events,connected:K}})),Object.entries((te=ie.handlers)!=null?te:[]).forEach(([oe,se])=>{const[le,ce]=DOM_EVENTS[oe];K.addEventListener(le,se,{passive:ce})})},disconnect:()=>{const{set:K,events:te}=Z.getState();if(te.connected){var ne;Object.entries((ne=te.handlers)!=null?ne:[]).forEach(([ie,oe])=>{if(te&&te.connected instanceof HTMLElement){const[se]=DOM_EVENTS[ie];te.connected.removeEventListener(se,oe)}}),K(ie=>({events:{...ie.events,connected:void 0}}))}}}}function g$5(Z,_){let K;return(...te)=>{window.clearTimeout(K),K=window.setTimeout(()=>Z(...te),_)}}function j$2({debounce:Z,scroll:_,polyfill:K,offsetSize:te}={debounce:0,scroll:!1,offsetSize:!1}){const ne=K||(typeof window>"u"?class{}:window.ResizeObserver);if(!ne)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[ie,oe]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),se=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:ie,orientationHandler:null}),le=Z?typeof Z=="number"?Z:Z.scroll:null,ce=Z?typeof Z=="number"?Z:Z.resize:null,fe=reactExports.useRef(!1);reactExports.useEffect(()=>(fe.current=!0,()=>void(fe.current=!1)));const[me,pe,ge]=reactExports.useMemo(()=>{const Se=()=>{if(!se.current.element)return;const{left:Re,top:Te,width:Ae,height:Fe,bottom:$e,right:ke,x:ze,y:Ue}=se.current.element.getBoundingClientRect(),Oe={left:Re,top:Te,width:Ae,height:Fe,bottom:$e,right:ke,x:ze,y:Ue};se.current.element instanceof HTMLElement&&te&&(Oe.height=se.current.element.offsetHeight,Oe.width=se.current.element.offsetWidth),Object.freeze(Oe),fe.current&&!D$3(se.current.lastBounds,Oe)&&oe(se.current.lastBounds=Oe)};return[Se,ce?g$5(Se,ce):Se,le?g$5(Se,le):Se]},[oe,te,le,ce]);function ye(){se.current.scrollContainers&&(se.current.scrollContainers.forEach(Se=>Se.removeEventListener("scroll",ge,!0)),se.current.scrollContainers=null),se.current.resizeObserver&&(se.current.resizeObserver.disconnect(),se.current.resizeObserver=null),se.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",se.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",se.current.orientationHandler))}function Ee(){se.current.element&&(se.current.resizeObserver=new ne(ge),se.current.resizeObserver.observe(se.current.element),_&&se.current.scrollContainers&&se.current.scrollContainers.forEach(Se=>Se.addEventListener("scroll",ge,{capture:!0,passive:!0})),se.current.orientationHandler=()=>{ge()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",se.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",se.current.orientationHandler))}const _e=Se=>{!Se||Se===se.current.element||(ye(),se.current.element=Se,se.current.scrollContainers=E$2(Se),Ee())};return X(ge,!!_),W$2(pe),reactExports.useEffect(()=>{ye(),Ee()},[_,ge,pe]),reactExports.useEffect(()=>ye,[]),[_e,ie,me]}function W$2(Z){reactExports.useEffect(()=>{const _=Z;return window.addEventListener("resize",_),()=>void window.removeEventListener("resize",_)},[Z])}function X(Z,_){reactExports.useEffect(()=>{if(_){const K=Z;return window.addEventListener("scroll",K,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",K,!0)}},[Z,_])}function E$2(Z){const _=[];if(!Z||Z===document.body)return _;const{overflow:K,overflowX:te,overflowY:ne}=window.getComputedStyle(Z);return[K,te,ne].some(ie=>ie==="auto"||ie==="scroll")&&_.push(Z),[..._,...E$2(Z.parentElement)]}const k$4=["x","y","top","bottom","left","right","width","height"],D$3=(Z,_)=>k$4.every(K=>Z[K]===_[K]);var __defProp$b=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$b=(Z,_,K)=>_ in Z?__defProp$b(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__spreadValues=(Z,_)=>{for(var K in _||(_={}))__hasOwnProp.call(_,K)&&__defNormalProp$b(Z,K,_[K]);if(__getOwnPropSymbols)for(var K of __getOwnPropSymbols(_))__propIsEnum.call(_,K)&&__defNormalProp$b(Z,K,_[K]);return Z},__spreadProps=(Z,_)=>__defProps(Z,__getOwnPropDescs(_)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(Z,_,K){if(!Z)return;if(K(Z)===!0)return Z;let te=Z.child;for(;te;){const ne=traverseFiber(te,_,K);if(ne)return ne;te=te.sibling}}function wrapContext(Z){try{return Object.defineProperties(Z,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return Z}}const error=console.error;console.error=function(){const Z=[...arguments].join("");if(Z!=null&&Z.startsWith("Warning:")&&Z.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const Z=reactExports.useContext(FiberContext);if(Z===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const _=reactExports.useId();return reactExports.useMemo(()=>{for(const te of[Z,Z==null?void 0:Z.alternate]){if(!te)continue;const ne=traverseFiber(te,!1,ie=>{let oe=ie.memoizedState;for(;oe;){if(oe.memoizedState===_)return!0;oe=oe.next}});if(ne)return ne}},[Z,_])}function useContextMap(){const Z=useFiber(),[_]=reactExports.useState(()=>new Map);_.clear();let K=Z;for(;K;){if(K.type&&typeof K.type=="object"){const ne=K.type._context===void 0&&K.type.Provider===K.type?K.type:K.type._context;ne&&ne!==FiberContext&&!_.has(ne)&&_.set(ne,reactExports.useContext(wrapContext(ne)))}K=K.return}return _}function useContextBridge(){const Z=useContextMap();return reactExports.useMemo(()=>Array.from(Z.keys()).reduce((_,K)=>te=>reactExports.createElement(_,null,reactExports.createElement(K.Provider,__spreadProps(__spreadValues({},te),{value:Z.get(K)}))),_=>reactExports.createElement(FiberProvider,__spreadValues({},_))),[Z])}const CanvasImpl=reactExports.forwardRef(function({children:_,fallback:K,resize:te,style:ne,gl:ie,events:oe=createPointerEvents,eventSource:se,eventPrefix:le,shadows:ce,linear:fe,flat:me,legacy:pe,orthographic:ge,frameloop:ye,dpr:Ee,performance:_e,raycaster:Se,camera:Re,scene:Te,onPointerMissed:Ae,onCreated:Fe,...$e},ke){reactExports.useMemo(()=>extend(THREE),[]);const ze=useContextBridge(),[Ue,Oe]=j$2({scroll:!0,debounce:{scroll:50,resize:0},...te}),Ve=reactExports.useRef(null),Ye=reactExports.useRef(null);reactExports.useImperativeHandle(ke,()=>Ve.current);const Ke=useMutableCallback(Ae),[ot,ut]=reactExports.useState(!1),[ct,gt]=reactExports.useState(!1);if(ot)throw ot;if(ct)throw ct;const je=reactExports.useRef(null);useIsomorphicLayoutEffect$2(()=>{const Qe=Ve.current;Oe.width>0&&Oe.height>0&&Qe&&(je.current||(je.current=createRoot(Qe)),je.current.configure({gl:ie,events:oe,shadows:ce,linear:fe,flat:me,legacy:pe,orthographic:ge,frameloop:ye,dpr:Ee,performance:_e,raycaster:Se,camera:Re,scene:Te,size:Oe,onPointerMissed:(...qe)=>Ke.current==null?void 0:Ke.current(...qe),onCreated:qe=>{qe.events.connect==null||qe.events.connect(se?isRef(se)?se.current:se:Ye.current),le&&qe.setEvents({compute:(lt,Et)=>{const ht=lt[le+"X"],dt=lt[le+"Y"];Et.pointer.set(ht/Et.size.width*2-1,-(dt/Et.size.height)*2+1),Et.raycaster.setFromCamera(Et.pointer,Et.camera)}}),Fe==null||Fe(qe)}}),je.current.render(jsxRuntimeExports.jsx(ze,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:gt,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:ut}),children:_})})})))}),reactExports.useEffect(()=>{const Qe=Ve.current;if(Qe)return()=>unmountComponentAtNode(Qe)},[]);const rt=se?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:Ye,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:rt,...ne},...$e,children:jsxRuntimeExports.jsx("div",{ref:Ue,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:Ve,style:{display:"block"},children:K})})})}),Canvas$1=reactExports.forwardRef(function(_,K){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{..._,ref:K})})});function clamp$2(Z,_,K){return Math.max(_,Math.min(Z,K))}const V$2={toVector(Z,_){return Z===void 0&&(Z=_),Array.isArray(Z)?Z:[Z,Z]},add(Z,_){return[Z[0]+_[0],Z[1]+_[1]]},sub(Z,_){return[Z[0]-_[0],Z[1]-_[1]]},addTo(Z,_){Z[0]+=_[0],Z[1]+=_[1]},subTo(Z,_){Z[0]-=_[0],Z[1]-=_[1]}};function rubberband(Z,_,K){return _===0||Math.abs(_)===1/0?Math.pow(Z,K*5):Z*_*K/(_+K*Z)}function rubberbandIfOutOfBounds(Z,_,K,te=.15){return te===0?clamp$2(Z,_,K):Z<_?-rubberband(_-Z,K-_,te)+_:Z>K?+rubberband(Z-K,K-_,te)+K:Z}function computeRubberband(Z,[_,K],[te,ne]){const[[ie,oe],[se,le]]=Z;return[rubberbandIfOutOfBounds(_,ie,oe,te),rubberbandIfOutOfBounds(K,se,le,ne)]}function _toPrimitive$1(Z,_){if(typeof Z!="object"||Z===null)return Z;var K=Z[Symbol.toPrimitive];if(K!==void 0){var te=K.call(Z,_);if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(Z)}function _toPropertyKey$1(Z){var _=_toPrimitive$1(Z,"string");return typeof _=="symbol"?_:String(_)}function _defineProperty$3(Z,_,K){return _=_toPropertyKey$1(_),_ in Z?Object.defineProperty(Z,_,{value:K,enumerable:!0,configurable:!0,writable:!0}):Z[_]=K,Z}function ownKeys$3(Z,_){var K=Object.keys(Z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Z);_&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(Z,ne).enumerable})),K.push.apply(K,te)}return K}function _objectSpread2$1(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$3(Object(K),!0).forEach(function(te){_defineProperty$3(Z,te,K[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):ownKeys$3(Object(K)).forEach(function(te){Object.defineProperty(Z,te,Object.getOwnPropertyDescriptor(K,te))})}return Z}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(Z){return Z?Z[0].toUpperCase()+Z.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(Z=!1,_){return Z&&!actionsWithoutCaptureSupported.includes(_)}function toHandlerProp(Z,_="",K=!1){const te=EVENT_TYPE_MAP[Z],ne=te&&te[_]||_;return"on"+capitalize(Z)+capitalize(ne)+(hasCapture(K,ne)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(Z){let _=Z.substring(2).toLowerCase();const K=!!~_.indexOf("passive");K&&(_=_.replace("passive",""));const te=pointerCaptureEvents.includes(_)?"capturecapture":"capture",ne=!!~_.indexOf(te);return ne&&(_=_.replace("capture","")),{device:_,capture:ne,passive:K}}function toDomEventType(Z,_=""){const K=EVENT_TYPE_MAP[Z],te=K&&K[_]||_;return Z+te}function isTouch(Z){return"touches"in Z}function getPointerType(Z){return isTouch(Z)?"touch":"pointerType"in Z?Z.pointerType:"mouse"}function getCurrentTargetTouchList(Z){return Array.from(Z.touches).filter(_=>{var K,te;return _.target===Z.currentTarget||((K=Z.currentTarget)===null||K===void 0||(te=K.contains)===null||te===void 0?void 0:te.call(K,_.target))})}function getTouchList(Z){return Z.type==="touchend"||Z.type==="touchcancel"?Z.changedTouches:Z.targetTouches}function getValueEvent(Z){return isTouch(Z)?getTouchList(Z)[0]:Z}function touchIds(Z){return getCurrentTargetTouchList(Z).map(_=>_.identifier)}function pointerId(Z){const _=getValueEvent(Z);return isTouch(Z)?_.identifier:_.pointerId}function pointerValues(Z){const _=getValueEvent(Z);return[_.clientX,_.clientY]}function getEventDetails(Z){const _={};if("buttons"in Z&&(_.buttons=Z.buttons),"shiftKey"in Z){const{shiftKey:K,altKey:te,metaKey:ne,ctrlKey:ie}=Z;Object.assign(_,{shiftKey:K,altKey:te,metaKey:ne,ctrlKey:ie})}return _}function call$1(Z,..._){return typeof Z=="function"?Z(..._):Z}function noop$3(){}function chain(...Z){return Z.length===0?noop$3:Z.length===1?Z[0]:function(){let _;for(const K of Z)_=K.apply(this,arguments)||_;return _}}function assignDefault(Z,_){return Object.assign({},_,Z||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(_,K,te){this.ctrl=_,this.args=K,this.key=te,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(_){this.ctrl.state[this.key]=_}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:_,shared:K,ingKey:te,args:ne}=this;K[te]=_._active=_.active=_._blocked=_._force=!1,_._step=[!1,!1],_.intentional=!1,_._movement=[0,0],_._distance=[0,0],_._direction=[0,0],_._delta=[0,0],_._bounds=[[-1/0,1/0],[-1/0,1/0]],_.args=ne,_.axis=void 0,_.memo=void 0,_.elapsedTime=_.timeDelta=0,_.direction=[0,0],_.distance=[0,0],_.overflow=[0,0],_._movementBound=[!1,!1],_.velocity=[0,0],_.movement=[0,0],_.delta=[0,0],_.timeStamp=0}start(_){const K=this.state,te=this.config;K._active||(this.reset(),this.computeInitial(),K._active=!0,K.target=_.target,K.currentTarget=_.currentTarget,K.lastOffset=te.from?call$1(te.from,K):K.offset,K.offset=K.lastOffset,K.startTime=K.timeStamp=_.timeStamp)}computeValues(_){const K=this.state;K._values=_,K.values=this.config.transform(_)}computeInitial(){const _=this.state;_._initial=_._values,_.initial=_.values}compute(_){const{state:K,config:te,shared:ne}=this;K.args=this.args;let ie=0;if(_&&(K.event=_,te.preventDefault&&_.cancelable&&K.event.preventDefault(),K.type=_.type,ne.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,ne.locked=!!document.pointerLockElement,Object.assign(ne,getEventDetails(_)),ne.down=ne.pressed=ne.buttons%2===1||ne.touches>0,ie=_.timeStamp-K.timeStamp,K.timeStamp=_.timeStamp,K.elapsedTime=K.timeStamp-K.startTime),K._active){const $e=K._delta.map(Math.abs);V$2.addTo(K._distance,$e)}this.axisIntent&&this.axisIntent(_);const[oe,se]=K._movement,[le,ce]=te.threshold,{_step:fe,values:me}=K;if(te.hasCustomTransform?(fe[0]===!1&&(fe[0]=Math.abs(oe)>=le&&me[0]),fe[1]===!1&&(fe[1]=Math.abs(se)>=ce&&me[1])):(fe[0]===!1&&(fe[0]=Math.abs(oe)>=le&&Math.sign(oe)*le),fe[1]===!1&&(fe[1]=Math.abs(se)>=ce&&Math.sign(se)*ce)),K.intentional=fe[0]!==!1||fe[1]!==!1,!K.intentional)return;const pe=[0,0];if(te.hasCustomTransform){const[$e,ke]=me;pe[0]=fe[0]!==!1?$e-fe[0]:0,pe[1]=fe[1]!==!1?ke-fe[1]:0}else pe[0]=fe[0]!==!1?oe-fe[0]:0,pe[1]=fe[1]!==!1?se-fe[1]:0;this.restrictToAxis&&!K._blocked&&this.restrictToAxis(pe);const ge=K.offset,ye=K._active&&!K._blocked||K.active;ye&&(K.first=K._active&&!K.active,K.last=!K._active&&K.active,K.active=ne[this.ingKey]=K._active,_&&(K.first&&("bounds"in te&&(K._bounds=call$1(te.bounds,K)),this.setup&&this.setup()),K.movement=pe,this.computeOffset()));const[Ee,_e]=K.offset,[[Se,Re],[Te,Ae]]=K._bounds;K.overflow=[Ee<Se?-1:Ee>Re?1:0,_e<Te?-1:_e>Ae?1:0],K._movementBound[0]=K.overflow[0]?K._movementBound[0]===!1?K._movement[0]:K._movementBound[0]:!1,K._movementBound[1]=K.overflow[1]?K._movementBound[1]===!1?K._movement[1]:K._movementBound[1]:!1;const Fe=K._active?te.rubberband||[0,0]:[0,0];if(K.offset=computeRubberband(K._bounds,K.offset,Fe),K.delta=V$2.sub(K.offset,ge),this.computeMovement(),ye&&(!K.last||ie>BEFORE_LAST_KINEMATICS_DELAY)){K.delta=V$2.sub(K.offset,ge);const $e=K.delta.map(Math.abs);V$2.addTo(K.distance,$e),K.direction=K.delta.map(Math.sign),K._direction=K._delta.map(Math.sign),!K.first&&ie>0&&(K.velocity=[$e[0]/ie,$e[1]/ie],K.timeDelta=ie)}}emit(){const _=this.state,K=this.shared,te=this.config;if(_._active||this.clean(),(_._blocked||!_.intentional)&&!_._force&&!te.triggerAllEvents)return;const ne=this.handler(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},K),_),{},{[this.aliasKey]:_.values}));ne!==void 0&&(_.memo=ne)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([Z,_],K){const te=Math.abs(Z),ne=Math.abs(_);if(te>ne&&te>K)return"x";if(ne>te&&ne>K)return"y"}class CoordinatesEngine extends Engine{constructor(..._){super(..._),_defineProperty$3(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V$2.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V$2.sub(this.state.offset,this.state.lastOffset)}axisIntent(_){const K=this.state,te=this.config;if(!K.axis&&_){const ne=typeof te.axisThreshold=="object"?te.axisThreshold[getPointerType(_)]:te.axisThreshold;K.axis=selectAxis(K._movement,ne)}K._blocked=(te.lockDirection||!!te.axis)&&!K.axis||!!te.axis&&te.axis!==K.axis}restrictToAxis(_){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":_[1]=0;break;case"y":_[0]=0;break}}}const identity=Z=>Z,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(Z=!0){return Z},eventOptions(Z,_,K){return _objectSpread2$1(_objectSpread2$1({},K.shared.eventOptions),Z)},preventDefault(Z=!1){return Z},triggerAllEvents(Z=!1){return Z},rubberband(Z=0){switch(Z){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V$2.toVector(Z)}},from(Z){if(typeof Z=="function")return Z;if(Z!=null)return V$2.toVector(Z)},transform(Z,_,K){const te=Z||K.shared.transform;return this.hasCustomTransform=!!te,te||identity},threshold(Z){return V$2.toVector(Z,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2$1(_objectSpread2$1({},commonConfigResolver),{},{axis(Z,_,{axis:K}){if(this.lockDirection=K==="lock",!this.lockDirection)return K},axisThreshold(Z=DEFAULT_AXIS_THRESHOLD){return Z},bounds(Z={}){if(typeof Z=="function")return ie=>coordinatesConfigResolver.bounds(Z(ie));if("current"in Z)return()=>Z.current;if(typeof HTMLElement=="function"&&Z instanceof HTMLElement)return Z;const{left:_=-1/0,right:K=1/0,top:te=-1/0,bottom:ne=1/0}=Z;return[[_,K],[te,ne]]}}),KEYS_DELTA_MAP={ArrowRight:(Z,_=1)=>[Z*_,0],ArrowLeft:(Z,_=1)=>[-1*Z*_,0],ArrowUp:(Z,_=1)=>[0,-1*Z*_],ArrowDown:(Z,_=1)=>[0,Z*_]};class DragEngine extends CoordinatesEngine{constructor(..._){super(..._),_defineProperty$3(this,"ingKey","dragging")}reset(){super.reset();const _=this.state;_._pointerId=void 0,_._pointerActive=!1,_._keyboardActive=!1,_._preventScroll=!1,_._delayed=!1,_.swipe=[0,0],_.tap=!1,_.canceled=!1,_.cancel=this.cancel.bind(this)}setup(){const _=this.state;if(_._bounds instanceof HTMLElement){const K=_._bounds.getBoundingClientRect(),te=_.currentTarget.getBoundingClientRect(),ne={left:K.left-te.left+_.offset[0],right:K.right-te.right+_.offset[0],top:K.top-te.top+_.offset[1],bottom:K.bottom-te.bottom+_.offset[1]};_._bounds=coordinatesConfigResolver.bounds(ne)}}cancel(){const _=this.state;_.canceled||(_.canceled=!0,_._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(_){const K=this.config,te=this.state;if(_.buttons!=null&&(Array.isArray(K.pointerButtons)?!K.pointerButtons.includes(_.buttons):K.pointerButtons!==-1&&K.pointerButtons!==_.buttons))return;const ne=this.ctrl.setEventIds(_);K.pointerCapture&&_.target.setPointerCapture(_.pointerId),!(ne&&ne.size>1&&te._pointerActive)&&(this.start(_),this.setupPointer(_),te._pointerId=pointerId(_),te._pointerActive=!0,this.computeValues(pointerValues(_)),this.computeInitial(),K.preventScrollAxis&&getPointerType(_)!=="mouse"?(te._active=!1,this.setupScrollPrevention(_)):K.delay>0?(this.setupDelayTrigger(_),K.triggerAllEvents&&(this.compute(_),this.emit())):this.startPointerDrag(_))}startPointerDrag(_){const K=this.state;K._active=!0,K._preventScroll=!0,K._delayed=!1,this.compute(_),this.emit()}pointerMove(_){const K=this.state,te=this.config;if(!K._pointerActive)return;const ne=pointerId(_);if(K._pointerId!==void 0&&ne!==K._pointerId)return;const ie=pointerValues(_);if(document.pointerLockElement===_.target?K._delta=[_.movementX,_.movementY]:(K._delta=V$2.sub(ie,K._values),this.computeValues(ie)),V$2.addTo(K._movement,K._delta),this.compute(_),K._delayed&&K.intentional){this.timeoutStore.remove("dragDelay"),K.active=!1,this.startPointerDrag(_);return}if(te.preventScrollAxis&&!K._preventScroll)if(K.axis)if(K.axis===te.preventScrollAxis||te.preventScrollAxis==="xy"){K._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(_);return}else return;this.emit()}pointerUp(_){this.ctrl.setEventIds(_);try{this.config.pointerCapture&&_.target.hasPointerCapture(_.pointerId)&&_.target.releasePointerCapture(_.pointerId)}catch{}const K=this.state,te=this.config;if(!K._active||!K._pointerActive)return;const ne=pointerId(_);if(K._pointerId!==void 0&&ne!==K._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(_);const[ie,oe]=K._distance;if(K.tap=ie<=te.tapsThreshold&&oe<=te.tapsThreshold,K.tap&&te.filterTaps)K._force=!0;else{const[se,le]=K._delta,[ce,fe]=K._movement,[me,pe]=te.swipe.velocity,[ge,ye]=te.swipe.distance,Ee=te.swipe.duration;if(K.elapsedTime<Ee){const _e=Math.abs(se/K.timeDelta),Se=Math.abs(le/K.timeDelta);_e>me&&Math.abs(ce)>ge&&(K.swipe[0]=Math.sign(se)),Se>pe&&Math.abs(fe)>ye&&(K.swipe[1]=Math.sign(le))}}this.emit()}pointerClick(_){!this.state.tap&&_.detail>0&&(_.preventDefault(),_.stopPropagation())}setupPointer(_){const K=this.config,te=K.device;K.pointerLock&&_.currentTarget.requestPointerLock(),K.pointerCapture||(this.eventStore.add(this.sharedConfig.window,te,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,te,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,te,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(_){this.state._preventScroll&&_.cancelable&&_.preventDefault()}setupScrollPrevention(_){this.state._preventScroll=!1,persistEvent(_);const K=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",K),this.eventStore.add(this.sharedConfig.window,"touch","cancel",K),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,_)}setupDelayTrigger(_){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(_)},this.config.delay)}keyDown(_){const K=KEYS_DELTA_MAP[_.key];if(K){const te=this.state,ne=_.shiftKey?10:_.altKey?.1:1;this.start(_),te._delta=K(this.config.keyboardDisplacement,ne),te._keyboardActive=!0,V$2.addTo(te._movement,te._delta),this.compute(_),this.emit()}}keyUp(_){_.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(_),this.emit())}bind(_){const K=this.config.device;_(K,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(_(K,"change",this.pointerMove.bind(this)),_(K,"end",this.pointerUp.bind(this)),_(K,"cancel",this.pointerUp.bind(this)),_("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(_("key","down",this.keyDown.bind(this)),_("key","up",this.keyUp.bind(this))),this.config.filterTaps&&_("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(Z){"persist"in Z&&typeof Z.persist=="function"&&Z.persist()}const isBrowser$2=typeof window<"u"&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser$2&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser$2&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser$2&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser$2&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser:isBrowser$2,gesture:supportsGestureEvents(),touch:supportsTouchEvents(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_KEYBOARD_DISPLACEMENT=10,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{device(Z,_,{pointer:{touch:K=!1,lock:te=!1,mouse:ne=!1}={}}){return this.pointerLock=te&&SUPPORT.pointerLock,SUPPORT.touch&&K?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!ne?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(Z,_,{preventScroll:K}){if(this.preventScrollDelay=typeof K=="number"?K:K||K===void 0&&Z?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||K===!1))return Z||(K!==void 0?"y":void 0)},pointerCapture(Z,_,{pointer:{capture:K=!0,buttons:te=1,keys:ne=!0}={}}){return this.pointerButtons=te,this.keys=ne,!this.pointerLock&&this.device==="pointer"&&K},threshold(Z,_,{filterTaps:K=!1,tapsThreshold:te=3,axis:ne=void 0}){const ie=V$2.toVector(Z,K?te:ne?1:0);return this.filterTaps=K,this.tapsThreshold=te,ie},swipe({velocity:Z=DEFAULT_SWIPE_VELOCITY,distance:_=DEFAULT_SWIPE_DISTANCE,duration:K=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V$2.toVector(Z)),distance:this.transform(V$2.toVector(_)),duration:K}},delay(Z=0){switch(Z){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return Z}},axisThreshold(Z){return Z?_objectSpread2$1(_objectSpread2$1({},DEFAULT_DRAG_AXIS_THRESHOLD),Z):DEFAULT_DRAG_AXIS_THRESHOLD},keyboardDisplacement(Z=DEFAULT_KEYBOARD_DISPLACEMENT){return Z}});_objectSpread2$1(_objectSpread2$1({},commonConfigResolver),{},{device(Z,_,{shared:K,pointer:{touch:te=!1}={}}){if(K.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&te)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(Z,_,{scaleBounds:K={},angleBounds:te={}}){const ne=oe=>{const se=assignDefault(call$1(K,oe),{min:-1/0,max:1/0});return[se.min,se.max]},ie=oe=>{const se=assignDefault(call$1(te,oe),{min:-1/0,max:1/0});return[se.min,se.max]};return typeof K!="function"&&typeof te!="function"?[ne(),ie()]:oe=>[ne(oe),ie(oe)]},threshold(Z,_,K){return this.lockDirection=K.axis==="lock",V$2.toVector(Z,this.lockDirection?[.1,3]:0)},modifierKey(Z){return Z===void 0?"ctrlKey":Z},pinchOnWheel(Z=!0){return Z}});_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{mouseOnly:(Z=!0)=>Z});_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{mouseOnly:(Z=!0)=>Z});const EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(Z){EngineMap.set(Z.key,Z.engine),ConfigResolverMap.set(Z.key,Z.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver};function _objectWithoutPropertiesLoose$5(Z,_){if(Z==null)return{};var K={},te=Object.keys(Z),ne,ie;for(ie=0;ie<te.length;ie++)ne=te[ie],!(_.indexOf(ne)>=0)&&(K[ne]=Z[ne]);return K}function _objectWithoutProperties$2(Z,_){if(Z==null)return{};var K=_objectWithoutPropertiesLoose$5(Z,_),te,ne;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(Z);for(ne=0;ne<ie.length;ne++)te=ie[ne],!(_.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(Z,te)&&(K[te]=Z[te])}return K}const sharedConfigResolver={target(Z){if(Z)return()=>"current"in Z?Z.current:Z},enabled(Z=!0){return Z},window(Z=SUPPORT.isBrowser?window:void 0){return Z},eventOptions({passive:Z=!0,capture:_=!1}={}){return{passive:Z,capture:_}},transform(Z){return Z}},_excluded$c=["target","eventOptions","window","enabled","transform"];function resolveWith(Z={},_){const K={};for(const[te,ne]of Object.entries(_))switch(typeof ne){case"function":K[te]=ne.call(K,Z[te],te,Z);break;case"object":K[te]=resolveWith(Z[te],ne);break;case"boolean":ne&&(K[te]=Z[te]);break}return K}function parse$1(Z,_,K={}){const te=Z,{target:ne,eventOptions:ie,window:oe,enabled:se,transform:le}=te,ce=_objectWithoutProperties$2(te,_excluded$c);if(K.shared=resolveWith({target:ne,eventOptions:ie,window:oe,enabled:se,transform:le},sharedConfigResolver),_){const fe=ConfigResolverMap.get(_);K[_]=resolveWith(_objectSpread2$1({shared:K.shared},ce),fe)}else for(const fe in ce){const me=ConfigResolverMap.get(fe);me&&(K[fe]=resolveWith(_objectSpread2$1({shared:K.shared},ce[fe]),me))}return K}class EventStore{constructor(_,K){_defineProperty$3(this,"_listeners",new Set),this._ctrl=_,this._gestureKey=K}add(_,K,te,ne,ie){const oe=this._listeners,se=toDomEventType(K,te),le=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},ce=_objectSpread2$1(_objectSpread2$1({},le),ie);_.addEventListener(se,ne,ce);const fe=()=>{_.removeEventListener(se,ne,ce),oe.delete(fe)};return oe.add(fe),fe}clean(){this._listeners.forEach(_=>_()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty$3(this,"_timeouts",new Map)}add(_,K,te=140,...ne){this.remove(_),this._timeouts.set(_,window.setTimeout(K,te,...ne))}remove(_){const K=this._timeouts.get(_);K&&window.clearTimeout(K)}clean(){this._timeouts.forEach(_=>void window.clearTimeout(_)),this._timeouts.clear()}}class Controller{constructor(_){_defineProperty$3(this,"gestures",new Set),_defineProperty$3(this,"_targetEventStore",new EventStore(this)),_defineProperty$3(this,"gestureEventStores",{}),_defineProperty$3(this,"gestureTimeoutStores",{}),_defineProperty$3(this,"handlers",{}),_defineProperty$3(this,"config",{}),_defineProperty$3(this,"pointerIds",new Set),_defineProperty$3(this,"touchIds",new Set),_defineProperty$3(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,_)}setEventIds(_){if(isTouch(_))return this.touchIds=new Set(touchIds(_)),this.touchIds;if("pointerId"in _)return _.type==="pointerup"||_.type==="pointercancel"?this.pointerIds.delete(_.pointerId):_.type==="pointerdown"&&this.pointerIds.add(_.pointerId),this.pointerIds}applyHandlers(_,K){this.handlers=_,this.nativeHandlers=K}applyConfig(_,K){this.config=parse$1(_,K,this.config)}clean(){this._targetEventStore.clean();for(const _ of this.gestures)this.gestureEventStores[_].clean(),this.gestureTimeoutStores[_].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(..._){const K=this.config.shared,te={};let ne;if(!(K.target&&(ne=K.target(),!ne))){if(K.enabled){for(const oe of this.gestures){const se=this.config[oe],le=bindToProps(te,se.eventOptions,!!ne);if(se.enabled){const ce=EngineMap.get(oe);new ce(this,_,oe).bind(le)}}const ie=bindToProps(te,K.eventOptions,!!ne);for(const oe in this.nativeHandlers)ie(oe,"",se=>this.nativeHandlers[oe](_objectSpread2$1(_objectSpread2$1({},this.state.shared),{},{event:se,args:_})),void 0,!0)}for(const ie in te)te[ie]=chain(...te[ie]);if(!ne)return te;for(const ie in te){const{device:oe,capture:se,passive:le}=parseProp(ie);this._targetEventStore.add(ne,oe,"",te[ie],{capture:se,passive:le})}}}}function setupGesture(Z,_){Z.gestures.add(_),Z.gestureEventStores[_]=new EventStore(Z,_),Z.gestureTimeoutStores[_]=new TimeoutStore}function resolveGestures(Z,_){_.drag&&setupGesture(Z,"drag"),_.wheel&&setupGesture(Z,"wheel"),_.scroll&&setupGesture(Z,"scroll"),_.move&&setupGesture(Z,"move"),_.pinch&&setupGesture(Z,"pinch"),_.hover&&setupGesture(Z,"hover")}const bindToProps=(Z,_,K)=>(te,ne,ie,oe={},se=!1)=>{var le,ce;const fe=(le=oe.capture)!==null&&le!==void 0?le:_.capture,me=(ce=oe.passive)!==null&&ce!==void 0?ce:_.passive;let pe=se?te:toHandlerProp(te,ne,fe);K&&me&&(pe+="Passive"),Z[pe]=Z[pe]||[],Z[pe].push(ie)};function useRecognizers(Z,_={},K,te){const ne=React.useMemo(()=>new Controller(Z),[]);if(ne.applyHandlers(Z,te),ne.applyConfig(_,K),React.useEffect(ne.effect.bind(ne)),React.useEffect(()=>ne.clean.bind(ne),[]),_.target===void 0)return ne.bind.bind(ne)}function useDrag$1(Z,_){return registerAction(dragAction),useRecognizers({drag:Z},_||{},"drag")}var __defProp$a=Object.defineProperty,__defNormalProp$a=(Z,_,K)=>_ in Z?__defProp$a(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$a=(Z,_,K)=>(__defNormalProp$a(Z,typeof _!="symbol"?_+"":_,K),K);class SimplexNoise{constructor(_=Math){__publicField$a(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),__publicField$a(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),__publicField$a(this,"p",[]),__publicField$a(this,"perm",[]),__publicField$a(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),__publicField$a(this,"dot",(K,te,ne)=>K[0]*te+K[1]*ne),__publicField$a(this,"dot3",(K,te,ne,ie)=>K[0]*te+K[1]*ne+K[2]*ie),__publicField$a(this,"dot4",(K,te,ne,ie,oe)=>K[0]*te+K[1]*ne+K[2]*ie+K[3]*oe),__publicField$a(this,"noise",(K,te)=>{let ne,ie,oe;const se=.5*(Math.sqrt(3)-1),le=(K+te)*se,ce=Math.floor(K+le),fe=Math.floor(te+le),me=(3-Math.sqrt(3))/6,pe=(ce+fe)*me,ge=ce-pe,ye=fe-pe,Ee=K-ge,_e=te-ye;let Se=0,Re=1;Ee>_e&&(Se=1,Re=0);const Te=Ee-Se+me,Ae=_e-Re+me,Fe=Ee-1+2*me,$e=_e-1+2*me,ke=ce&255,ze=fe&255,Ue=this.perm[ke+this.perm[ze]]%12,Oe=this.perm[ke+Se+this.perm[ze+Re]]%12,Ve=this.perm[ke+1+this.perm[ze+1]]%12;let Ye=.5-Ee*Ee-_e*_e;Ye<0?ne=0:(Ye*=Ye,ne=Ye*Ye*this.dot(this.grad3[Ue],Ee,_e));let Ke=.5-Te*Te-Ae*Ae;Ke<0?ie=0:(Ke*=Ke,ie=Ke*Ke*this.dot(this.grad3[Oe],Te,Ae));let ot=.5-Fe*Fe-$e*$e;return ot<0?oe=0:(ot*=ot,oe=ot*ot*this.dot(this.grad3[Ve],Fe,$e)),70*(ne+ie+oe)}),__publicField$a(this,"noise3d",(K,te,ne)=>{let ie,oe,se,le;const fe=(K+te+ne)*.3333333333333333,me=Math.floor(K+fe),pe=Math.floor(te+fe),ge=Math.floor(ne+fe),ye=1/6,Ee=(me+pe+ge)*ye,_e=me-Ee,Se=pe-Ee,Re=ge-Ee,Te=K-_e,Ae=te-Se,Fe=ne-Re;let $e,ke,ze,Ue,Oe,Ve;Te>=Ae?Ae>=Fe?($e=1,ke=0,ze=0,Ue=1,Oe=1,Ve=0):Te>=Fe?($e=1,ke=0,ze=0,Ue=1,Oe=0,Ve=1):($e=0,ke=0,ze=1,Ue=1,Oe=0,Ve=1):Ae<Fe?($e=0,ke=0,ze=1,Ue=0,Oe=1,Ve=1):Te<Fe?($e=0,ke=1,ze=0,Ue=0,Oe=1,Ve=1):($e=0,ke=1,ze=0,Ue=1,Oe=1,Ve=0);const Ye=Te-$e+ye,Ke=Ae-ke+ye,ot=Fe-ze+ye,ut=Te-Ue+2*ye,ct=Ae-Oe+2*ye,gt=Fe-Ve+2*ye,je=Te-1+3*ye,rt=Ae-1+3*ye,Qe=Fe-1+3*ye,qe=me&255,lt=pe&255,Et=ge&255,ht=this.perm[qe+this.perm[lt+this.perm[Et]]]%12,dt=this.perm[qe+$e+this.perm[lt+ke+this.perm[Et+ze]]]%12,Mt=this.perm[qe+Ue+this.perm[lt+Oe+this.perm[Et+Ve]]]%12,Pt=this.perm[qe+1+this.perm[lt+1+this.perm[Et+1]]]%12;let Wt=.6-Te*Te-Ae*Ae-Fe*Fe;Wt<0?ie=0:(Wt*=Wt,ie=Wt*Wt*this.dot3(this.grad3[ht],Te,Ae,Fe));let Qt=.6-Ye*Ye-Ke*Ke-ot*ot;Qt<0?oe=0:(Qt*=Qt,oe=Qt*Qt*this.dot3(this.grad3[dt],Ye,Ke,ot));let sn=.6-ut*ut-ct*ct-gt*gt;sn<0?se=0:(sn*=sn,se=sn*sn*this.dot3(this.grad3[Mt],ut,ct,gt));let hn=.6-je*je-rt*rt-Qe*Qe;return hn<0?le=0:(hn*=hn,le=hn*hn*this.dot3(this.grad3[Pt],je,rt,Qe)),32*(ie+oe+se+le)}),__publicField$a(this,"noise4d",(K,te,ne,ie)=>{const oe=this.grad4,se=this.simplex,le=this.perm,ce=(Math.sqrt(5)-1)/4,fe=(5-Math.sqrt(5))/20;let me,pe,ge,ye,Ee;const _e=(K+te+ne+ie)*ce,Se=Math.floor(K+_e),Re=Math.floor(te+_e),Te=Math.floor(ne+_e),Ae=Math.floor(ie+_e),Fe=(Se+Re+Te+Ae)*fe,$e=Se-Fe,ke=Re-Fe,ze=Te-Fe,Ue=Ae-Fe,Oe=K-$e,Ve=te-ke,Ye=ne-ze,Ke=ie-Ue,ot=Oe>Ve?32:0,ut=Oe>Ye?16:0,ct=Ve>Ye?8:0,gt=Oe>Ke?4:0,je=Ve>Ke?2:0,rt=Ye>Ke?1:0,Qe=ot+ut+ct+gt+je+rt;let qe,lt,Et,ht,dt,Mt,Pt,Wt,Qt,sn,hn,Dt;qe=se[Qe][0]>=3?1:0,lt=se[Qe][1]>=3?1:0,Et=se[Qe][2]>=3?1:0,ht=se[Qe][3]>=3?1:0,dt=se[Qe][0]>=2?1:0,Mt=se[Qe][1]>=2?1:0,Pt=se[Qe][2]>=2?1:0,Wt=se[Qe][3]>=2?1:0,Qt=se[Qe][0]>=1?1:0,sn=se[Qe][1]>=1?1:0,hn=se[Qe][2]>=1?1:0,Dt=se[Qe][3]>=1?1:0;const Vt=Oe-qe+fe,Ze=Ve-lt+fe,on=Ye-Et+fe,Xt=Ke-ht+fe,an=Oe-dt+2*fe,Yt=Ve-Mt+2*fe,mn=Ye-Pt+2*fe,Jt=Ke-Wt+2*fe,Xe=Oe-Qt+3*fe,He=Ve-sn+3*fe,tt=Ye-hn+3*fe,mt=Ke-Dt+3*fe,Nt=Oe-1+4*fe,_t=Ve-1+4*fe,jt=Ye-1+4*fe,Ot=Ke-1+4*fe,qt=Se&255,Sn=Re&255,Ht=Te&255,Tt=Ae&255,Ft=le[qt+le[Sn+le[Ht+le[Tt]]]]%32,pn=le[qt+qe+le[Sn+lt+le[Ht+Et+le[Tt+ht]]]]%32,cn=le[qt+dt+le[Sn+Mt+le[Ht+Pt+le[Tt+Wt]]]]%32,at=le[qt+Qt+le[Sn+sn+le[Ht+hn+le[Tt+Dt]]]]%32,Ut=le[qt+1+le[Sn+1+le[Ht+1+le[Tt+1]]]]%32;let un=.6-Oe*Oe-Ve*Ve-Ye*Ye-Ke*Ke;un<0?me=0:(un*=un,me=un*un*this.dot4(oe[Ft],Oe,Ve,Ye,Ke));let st=.6-Vt*Vt-Ze*Ze-on*on-Xt*Xt;st<0?pe=0:(st*=st,pe=st*st*this.dot4(oe[pn],Vt,Ze,on,Xt));let Kt=.6-an*an-Yt*Yt-mn*mn-Jt*Jt;Kt<0?ge=0:(Kt*=Kt,ge=Kt*Kt*this.dot4(oe[cn],an,Yt,mn,Jt));let At=.6-Xe*Xe-He*He-tt*tt-mt*mt;At<0?ye=0:(At*=At,ye=At*At*this.dot4(oe[at],Xe,He,tt,mt));let zt=.6-Nt*Nt-_t*_t-jt*jt-Ot*Ot;return zt<0?Ee=0:(zt*=zt,Ee=zt*zt*this.dot4(oe[Ut],Nt,_t,jt,Ot)),27*(me+pe+ge+ye+Ee)});for(let K=0;K<256;K++)this.p[K]=Math.floor(_.random()*256);for(let K=0;K<512;K++)this.perm[K]=this.p[K&255]}}var __defProp$9=Object.defineProperty,__defNormalProp$9=(Z,_,K)=>_ in Z?__defProp$9(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$9=(Z,_,K)=>(__defNormalProp$9(Z,_+"",K),K);class EventDispatcher{constructor(){__publicField$9(this,"_listeners")}addEventListener(_,K){this._listeners===void 0&&(this._listeners={});const te=this._listeners;te[_]===void 0&&(te[_]=[]),te[_].indexOf(K)===-1&&te[_].push(K)}hasEventListener(_,K){if(this._listeners===void 0)return!1;const te=this._listeners;return te[_]!==void 0&&te[_].indexOf(K)!==-1}removeEventListener(_,K){if(this._listeners===void 0)return;const ne=this._listeners[_];if(ne!==void 0){const ie=ne.indexOf(K);ie!==-1&&ne.splice(ie,1)}}dispatchEvent(_){if(this._listeners===void 0)return;const te=this._listeners[_.type];if(te!==void 0){_.target=this;const ne=te.slice(0);for(let ie=0,oe=ne.length;ie<oe;ie++)ne[ie].call(this,_);_.target=null}}}var __defProp$8=Object.defineProperty,__defNormalProp$8=(Z,_,K)=>_ in Z?__defProp$8(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$8=(Z,_,K)=>(__defNormalProp$8(Z,typeof _!="symbol"?_+"":_,K),K);const _ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=(Z,_)=>(Z%_+_)%_;let OrbitControls$1=class extends EventDispatcher{constructor(_,K){super(),__publicField$8(this,"object"),__publicField$8(this,"domElement"),__publicField$8(this,"enabled",!0),__publicField$8(this,"target",new Vector3),__publicField$8(this,"minDistance",0),__publicField$8(this,"maxDistance",1/0),__publicField$8(this,"minZoom",0),__publicField$8(this,"maxZoom",1/0),__publicField$8(this,"minPolarAngle",0),__publicField$8(this,"maxPolarAngle",Math.PI),__publicField$8(this,"minAzimuthAngle",-1/0),__publicField$8(this,"maxAzimuthAngle",1/0),__publicField$8(this,"enableDamping",!1),__publicField$8(this,"dampingFactor",.05),__publicField$8(this,"enableZoom",!0),__publicField$8(this,"zoomSpeed",1),__publicField$8(this,"enableRotate",!0),__publicField$8(this,"rotateSpeed",1),__publicField$8(this,"enablePan",!0),__publicField$8(this,"panSpeed",1),__publicField$8(this,"screenSpacePanning",!0),__publicField$8(this,"keyPanSpeed",7),__publicField$8(this,"zoomToCursor",!1),__publicField$8(this,"autoRotate",!1),__publicField$8(this,"autoRotateSpeed",2),__publicField$8(this,"reverseOrbit",!1),__publicField$8(this,"reverseHorizontalOrbit",!1),__publicField$8(this,"reverseVerticalOrbit",!1),__publicField$8(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField$8(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField$8(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField$8(this,"target0"),__publicField$8(this,"position0"),__publicField$8(this,"zoom0"),__publicField$8(this,"_domElementKeyEvents",null),__publicField$8(this,"getPolarAngle"),__publicField$8(this,"getAzimuthalAngle"),__publicField$8(this,"setPolarAngle"),__publicField$8(this,"setAzimuthalAngle"),__publicField$8(this,"getDistance"),__publicField$8(this,"getZoomScale"),__publicField$8(this,"listenToKeyEvents"),__publicField$8(this,"stopListenToKeyEvents"),__publicField$8(this,"saveState"),__publicField$8(this,"reset"),__publicField$8(this,"update"),__publicField$8(this,"connect"),__publicField$8(this,"dispose"),__publicField$8(this,"dollyIn"),__publicField$8(this,"dollyOut"),__publicField$8(this,"getScale"),__publicField$8(this,"setScale"),this.object=_,this.domElement=K,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>fe.phi,this.getAzimuthalAngle=()=>fe.theta,this.setPolarAngle=at=>{let Ut=moduloWrapAround(at,2*Math.PI),un=fe.phi;un<0&&(un+=2*Math.PI),Ut<0&&(Ut+=2*Math.PI);let st=Math.abs(Ut-un);2*Math.PI-st<st&&(Ut<un?Ut+=2*Math.PI:un+=2*Math.PI),me.phi=Ut-un,te.update()},this.setAzimuthalAngle=at=>{let Ut=moduloWrapAround(at,2*Math.PI),un=fe.theta;un<0&&(un+=2*Math.PI),Ut<0&&(Ut+=2*Math.PI);let st=Math.abs(Ut-un);2*Math.PI-st<st&&(Ut<un?Ut+=2*Math.PI:un+=2*Math.PI),me.theta=Ut-un,te.update()},this.getDistance=()=>te.object.position.distanceTo(te.target),this.listenToKeyEvents=at=>{at.addEventListener("keydown",Ot),this._domElementKeyEvents=at},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ot),this._domElementKeyEvents=null},this.saveState=()=>{te.target0.copy(te.target),te.position0.copy(te.object.position),te.zoom0=te.object.zoom},this.reset=()=>{te.target.copy(te.target0),te.object.position.copy(te.position0),te.object.zoom=te.zoom0,te.object.updateProjectionMatrix(),te.dispatchEvent(ne),te.update(),le=se.NONE},this.update=(()=>{const at=new Vector3,Ut=new Vector3(0,1,0),un=new Quaternion().setFromUnitVectors(_.up,Ut),st=un.clone().invert(),Kt=new Vector3,At=new Quaternion,zt=2*Math.PI;return function(){const gn=te.object.position;un.setFromUnitVectors(_.up,Ut),st.copy(un).invert(),at.copy(gn).sub(te.target),at.applyQuaternion(un),fe.setFromVector3(at),te.autoRotate&&le===se.NONE&&ot(Ye()),te.enableDamping?(fe.theta+=me.theta*te.dampingFactor,fe.phi+=me.phi*te.dampingFactor):(fe.theta+=me.theta,fe.phi+=me.phi);let Dn=te.minAzimuthAngle,tr=te.maxAzimuthAngle;isFinite(Dn)&&isFinite(tr)&&(Dn<-Math.PI?Dn+=zt:Dn>Math.PI&&(Dn-=zt),tr<-Math.PI?tr+=zt:tr>Math.PI&&(tr-=zt),Dn<=tr?fe.theta=Math.max(Dn,Math.min(tr,fe.theta)):fe.theta=fe.theta>(Dn+tr)/2?Math.max(Dn,fe.theta):Math.min(tr,fe.theta)),fe.phi=Math.max(te.minPolarAngle,Math.min(te.maxPolarAngle,fe.phi)),fe.makeSafe(),te.enableDamping===!0?te.target.addScaledVector(ge,te.dampingFactor):te.target.add(ge),te.zoomToCursor&&Ue||te.object.isOrthographicCamera?fe.radius=Et(fe.radius):fe.radius=Et(fe.radius*pe),at.setFromSpherical(fe),at.applyQuaternion(st),gn.copy(te.target).add(at),te.object.matrixAutoUpdate||te.object.updateMatrix(),te.object.lookAt(te.target),te.enableDamping===!0?(me.theta*=1-te.dampingFactor,me.phi*=1-te.dampingFactor,ge.multiplyScalar(1-te.dampingFactor)):(me.set(0,0,0),ge.set(0,0,0));let cr=!1;if(te.zoomToCursor&&Ue){let qn=null;if(te.object instanceof PerspectiveCamera$1&&te.object.isPerspectiveCamera){const Sr=at.length();qn=Et(Sr*pe);const hr=Sr-qn;te.object.position.addScaledVector(ke,hr),te.object.updateMatrixWorld()}else if(te.object.isOrthographicCamera){const Sr=new Vector3(ze.x,ze.y,0);Sr.unproject(te.object),te.object.zoom=Math.max(te.minZoom,Math.min(te.maxZoom,te.object.zoom/pe)),te.object.updateProjectionMatrix(),cr=!0;const hr=new Vector3(ze.x,ze.y,0);hr.unproject(te.object),te.object.position.sub(hr).add(Sr),te.object.updateMatrixWorld(),qn=at.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),te.zoomToCursor=!1;qn!==null&&(te.screenSpacePanning?te.target.set(0,0,-1).transformDirection(te.object.matrix).multiplyScalar(qn).add(te.object.position):(_ray.origin.copy(te.object.position),_ray.direction.set(0,0,-1).transformDirection(te.object.matrix),Math.abs(te.object.up.dot(_ray.direction))<TILT_LIMIT?_.lookAt(te.target):(_plane.setFromNormalAndCoplanarPoint(te.object.up,te.target),_ray.intersectPlane(_plane,te.target))))}else te.object instanceof OrthographicCamera&&te.object.isOrthographicCamera&&(cr=pe!==1,cr&&(te.object.zoom=Math.max(te.minZoom,Math.min(te.maxZoom,te.object.zoom/pe)),te.object.updateProjectionMatrix()));return pe=1,Ue=!1,cr||Kt.distanceToSquared(te.object.position)>ce||8*(1-At.dot(te.object.quaternion))>ce?(te.dispatchEvent(ne),Kt.copy(te.object.position),At.copy(te.object.quaternion),cr=!1,!0):!1}})(),this.connect=at=>{te.domElement=at,te.domElement.style.touchAction="none",te.domElement.addEventListener("contextmenu",Ht),te.domElement.addEventListener("pointerdown",He),te.domElement.addEventListener("pointercancel",mt),te.domElement.addEventListener("wheel",jt)},this.dispose=()=>{var at,Ut,un,st,Kt,At;te.domElement&&(te.domElement.style.touchAction="auto"),(at=te.domElement)==null||at.removeEventListener("contextmenu",Ht),(Ut=te.domElement)==null||Ut.removeEventListener("pointerdown",He),(un=te.domElement)==null||un.removeEventListener("pointercancel",mt),(st=te.domElement)==null||st.removeEventListener("wheel",jt),(Kt=te.domElement)==null||Kt.ownerDocument.removeEventListener("pointermove",tt),(At=te.domElement)==null||At.ownerDocument.removeEventListener("pointerup",mt),te._domElementKeyEvents!==null&&te._domElementKeyEvents.removeEventListener("keydown",Ot)};const te=this,ne={type:"change"},ie={type:"start"},oe={type:"end"},se={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let le=se.NONE;const ce=1e-6,fe=new Spherical,me=new Spherical;let pe=1;const ge=new Vector3,ye=new Vector2,Ee=new Vector2,_e=new Vector2,Se=new Vector2,Re=new Vector2,Te=new Vector2,Ae=new Vector2,Fe=new Vector2,$e=new Vector2,ke=new Vector3,ze=new Vector2;let Ue=!1;const Oe=[],Ve={};function Ye(){return 2*Math.PI/60/60*te.autoRotateSpeed}function Ke(){return Math.pow(.95,te.zoomSpeed)}function ot(at){te.reverseOrbit||te.reverseHorizontalOrbit?me.theta+=at:me.theta-=at}function ut(at){te.reverseOrbit||te.reverseVerticalOrbit?me.phi+=at:me.phi-=at}const ct=(()=>{const at=new Vector3;return function(un,st){at.setFromMatrixColumn(st,0),at.multiplyScalar(-un),ge.add(at)}})(),gt=(()=>{const at=new Vector3;return function(un,st){te.screenSpacePanning===!0?at.setFromMatrixColumn(st,1):(at.setFromMatrixColumn(st,0),at.crossVectors(te.object.up,at)),at.multiplyScalar(un),ge.add(at)}})(),je=(()=>{const at=new Vector3;return function(un,st){const Kt=te.domElement;if(Kt&&te.object instanceof PerspectiveCamera$1&&te.object.isPerspectiveCamera){const At=te.object.position;at.copy(At).sub(te.target);let zt=at.length();zt*=Math.tan(te.object.fov/2*Math.PI/180),ct(2*un*zt/Kt.clientHeight,te.object.matrix),gt(2*st*zt/Kt.clientHeight,te.object.matrix)}else Kt&&te.object instanceof OrthographicCamera&&te.object.isOrthographicCamera?(ct(un*(te.object.right-te.object.left)/te.object.zoom/Kt.clientWidth,te.object.matrix),gt(st*(te.object.top-te.object.bottom)/te.object.zoom/Kt.clientHeight,te.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),te.enablePan=!1)}})();function rt(at){te.object instanceof PerspectiveCamera$1&&te.object.isPerspectiveCamera||te.object instanceof OrthographicCamera&&te.object.isOrthographicCamera?pe=at:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),te.enableZoom=!1)}function Qe(at){rt(pe/at)}function qe(at){rt(pe*at)}function lt(at){if(!te.zoomToCursor||!te.domElement)return;Ue=!0;const Ut=te.domElement.getBoundingClientRect(),un=at.clientX-Ut.left,st=at.clientY-Ut.top,Kt=Ut.width,At=Ut.height;ze.x=un/Kt*2-1,ze.y=-(st/At)*2+1,ke.set(ze.x,ze.y,1).unproject(te.object).sub(te.object.position).normalize()}function Et(at){return Math.max(te.minDistance,Math.min(te.maxDistance,at))}function ht(at){ye.set(at.clientX,at.clientY)}function dt(at){lt(at),Ae.set(at.clientX,at.clientY)}function Mt(at){Se.set(at.clientX,at.clientY)}function Pt(at){Ee.set(at.clientX,at.clientY),_e.subVectors(Ee,ye).multiplyScalar(te.rotateSpeed);const Ut=te.domElement;Ut&&(ot(2*Math.PI*_e.x/Ut.clientHeight),ut(2*Math.PI*_e.y/Ut.clientHeight)),ye.copy(Ee),te.update()}function Wt(at){Fe.set(at.clientX,at.clientY),$e.subVectors(Fe,Ae),$e.y>0?Qe(Ke()):$e.y<0&&qe(Ke()),Ae.copy(Fe),te.update()}function Qt(at){Re.set(at.clientX,at.clientY),Te.subVectors(Re,Se).multiplyScalar(te.panSpeed),je(Te.x,Te.y),Se.copy(Re),te.update()}function sn(at){lt(at),at.deltaY<0?qe(Ke()):at.deltaY>0&&Qe(Ke()),te.update()}function hn(at){let Ut=!1;switch(at.code){case te.keys.UP:je(0,te.keyPanSpeed),Ut=!0;break;case te.keys.BOTTOM:je(0,-te.keyPanSpeed),Ut=!0;break;case te.keys.LEFT:je(te.keyPanSpeed,0),Ut=!0;break;case te.keys.RIGHT:je(-te.keyPanSpeed,0),Ut=!0;break}Ut&&(at.preventDefault(),te.update())}function Dt(){if(Oe.length==1)ye.set(Oe[0].pageX,Oe[0].pageY);else{const at=.5*(Oe[0].pageX+Oe[1].pageX),Ut=.5*(Oe[0].pageY+Oe[1].pageY);ye.set(at,Ut)}}function Vt(){if(Oe.length==1)Se.set(Oe[0].pageX,Oe[0].pageY);else{const at=.5*(Oe[0].pageX+Oe[1].pageX),Ut=.5*(Oe[0].pageY+Oe[1].pageY);Se.set(at,Ut)}}function Ze(){const at=Oe[0].pageX-Oe[1].pageX,Ut=Oe[0].pageY-Oe[1].pageY,un=Math.sqrt(at*at+Ut*Ut);Ae.set(0,un)}function on(){te.enableZoom&&Ze(),te.enablePan&&Vt()}function Xt(){te.enableZoom&&Ze(),te.enableRotate&&Dt()}function an(at){if(Oe.length==1)Ee.set(at.pageX,at.pageY);else{const un=cn(at),st=.5*(at.pageX+un.x),Kt=.5*(at.pageY+un.y);Ee.set(st,Kt)}_e.subVectors(Ee,ye).multiplyScalar(te.rotateSpeed);const Ut=te.domElement;Ut&&(ot(2*Math.PI*_e.x/Ut.clientHeight),ut(2*Math.PI*_e.y/Ut.clientHeight)),ye.copy(Ee)}function Yt(at){if(Oe.length==1)Re.set(at.pageX,at.pageY);else{const Ut=cn(at),un=.5*(at.pageX+Ut.x),st=.5*(at.pageY+Ut.y);Re.set(un,st)}Te.subVectors(Re,Se).multiplyScalar(te.panSpeed),je(Te.x,Te.y),Se.copy(Re)}function mn(at){const Ut=cn(at),un=at.pageX-Ut.x,st=at.pageY-Ut.y,Kt=Math.sqrt(un*un+st*st);Fe.set(0,Kt),$e.set(0,Math.pow(Fe.y/Ae.y,te.zoomSpeed)),Qe($e.y),Ae.copy(Fe)}function Jt(at){te.enableZoom&&mn(at),te.enablePan&&Yt(at)}function Xe(at){te.enableZoom&&mn(at),te.enableRotate&&an(at)}function He(at){var Ut,un;te.enabled!==!1&&(Oe.length===0&&((Ut=te.domElement)==null||Ut.ownerDocument.addEventListener("pointermove",tt),(un=te.domElement)==null||un.ownerDocument.addEventListener("pointerup",mt)),Tt(at),at.pointerType==="touch"?qt(at):Nt(at))}function tt(at){te.enabled!==!1&&(at.pointerType==="touch"?Sn(at):_t(at))}function mt(at){var Ut,un,st;Ft(at),Oe.length===0&&((Ut=te.domElement)==null||Ut.releasePointerCapture(at.pointerId),(un=te.domElement)==null||un.ownerDocument.removeEventListener("pointermove",tt),(st=te.domElement)==null||st.ownerDocument.removeEventListener("pointerup",mt)),te.dispatchEvent(oe),le=se.NONE}function Nt(at){let Ut;switch(at.button){case 0:Ut=te.mouseButtons.LEFT;break;case 1:Ut=te.mouseButtons.MIDDLE;break;case 2:Ut=te.mouseButtons.RIGHT;break;default:Ut=-1}switch(Ut){case MOUSE.DOLLY:if(te.enableZoom===!1)return;dt(at),le=se.DOLLY;break;case MOUSE.ROTATE:if(at.ctrlKey||at.metaKey||at.shiftKey){if(te.enablePan===!1)return;Mt(at),le=se.PAN}else{if(te.enableRotate===!1)return;ht(at),le=se.ROTATE}break;case MOUSE.PAN:if(at.ctrlKey||at.metaKey||at.shiftKey){if(te.enableRotate===!1)return;ht(at),le=se.ROTATE}else{if(te.enablePan===!1)return;Mt(at),le=se.PAN}break;default:le=se.NONE}le!==se.NONE&&te.dispatchEvent(ie)}function _t(at){if(te.enabled!==!1)switch(le){case se.ROTATE:if(te.enableRotate===!1)return;Pt(at);break;case se.DOLLY:if(te.enableZoom===!1)return;Wt(at);break;case se.PAN:if(te.enablePan===!1)return;Qt(at);break}}function jt(at){te.enabled===!1||te.enableZoom===!1||le!==se.NONE&&le!==se.ROTATE||(at.preventDefault(),te.dispatchEvent(ie),sn(at),te.dispatchEvent(oe))}function Ot(at){te.enabled===!1||te.enablePan===!1||hn(at)}function qt(at){switch(pn(at),Oe.length){case 1:switch(te.touches.ONE){case TOUCH.ROTATE:if(te.enableRotate===!1)return;Dt(),le=se.TOUCH_ROTATE;break;case TOUCH.PAN:if(te.enablePan===!1)return;Vt(),le=se.TOUCH_PAN;break;default:le=se.NONE}break;case 2:switch(te.touches.TWO){case TOUCH.DOLLY_PAN:if(te.enableZoom===!1&&te.enablePan===!1)return;on(),le=se.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(te.enableZoom===!1&&te.enableRotate===!1)return;Xt(),le=se.TOUCH_DOLLY_ROTATE;break;default:le=se.NONE}break;default:le=se.NONE}le!==se.NONE&&te.dispatchEvent(ie)}function Sn(at){switch(pn(at),le){case se.TOUCH_ROTATE:if(te.enableRotate===!1)return;an(at),te.update();break;case se.TOUCH_PAN:if(te.enablePan===!1)return;Yt(at),te.update();break;case se.TOUCH_DOLLY_PAN:if(te.enableZoom===!1&&te.enablePan===!1)return;Jt(at),te.update();break;case se.TOUCH_DOLLY_ROTATE:if(te.enableZoom===!1&&te.enableRotate===!1)return;Xe(at),te.update();break;default:le=se.NONE}}function Ht(at){te.enabled!==!1&&at.preventDefault()}function Tt(at){Oe.push(at)}function Ft(at){delete Ve[at.pointerId];for(let Ut=0;Ut<Oe.length;Ut++)if(Oe[Ut].pointerId==at.pointerId){Oe.splice(Ut,1);return}}function pn(at){let Ut=Ve[at.pointerId];Ut===void 0&&(Ut=new Vector2,Ve[at.pointerId]=Ut),Ut.set(at.pageX,at.pageY)}function cn(at){const Ut=at.pointerId===Oe[0].pointerId?Oe[1]:Oe[0];return Ve[Ut.pointerId]}this.dollyIn=(at=Ke())=>{qe(at),te.update()},this.dollyOut=(at=Ke())=>{Qe(at),te.update()},this.getScale=()=>pe,this.setScale=at=>{rt(at),te.update()},this.getZoomScale=()=>Ke(),K!==void 0&&this.connect(K),this.update()}};var __defProp$7=Object.defineProperty,__defNormalProp$7=(Z,_,K)=>_ in Z?__defProp$7(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$7=(Z,_,K)=>(__defNormalProp$7(Z,typeof _!="symbol"?_+"":_,K),K);class Pass{constructor(){__publicField$7(this,"enabled",!0),__publicField$7(this,"needsSwap",!0),__publicField$7(this,"clear",!1),__publicField$7(this,"renderToScreen",!1)}setSize(_,K){}render(_,K,te,ne,ie){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}class FullScreenQuad{constructor(_){__publicField$7(this,"camera",new OrthographicCamera(-1,1,1,-1,0,1)),__publicField$7(this,"geometry",new PlaneGeometry(2,2)),__publicField$7(this,"mesh"),this.mesh=new Mesh(this.geometry,_)}get material(){return this.mesh.material}set material(_){this.mesh.material=_}dispose(){this.mesh.geometry.dispose()}render(_){_.render(this.mesh,this.camera)}}var __defProp$6=Object.defineProperty,__defNormalProp$6=(Z,_,K)=>_ in Z?__defProp$6(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$6=(Z,_,K)=>(__defNormalProp$6(Z,typeof _!="symbol"?_+"":_,K),K);class ShaderPass extends Pass{constructor(_,K="tDiffuse"){super(),__publicField$6(this,"textureID"),__publicField$6(this,"uniforms"),__publicField$6(this,"material"),__publicField$6(this,"fsQuad"),this.textureID=K,_ instanceof ShaderMaterial?(this.uniforms=_.uniforms,this.material=_):(this.uniforms=UniformsUtils.clone(_.uniforms),this.material=new ShaderMaterial({defines:Object.assign({},_.defines),uniforms:this.uniforms,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader})),this.fsQuad=new FullScreenQuad(this.material)}render(_,K,te){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=te.texture),this.fsQuad.material=this.material,this.renderToScreen?(_.setRenderTarget(null),this.fsQuad.render(_)):(_.setRenderTarget(K),this.clear&&_.clear(_.autoClearColor,_.autoClearDepth,_.autoClearStencil),this.fsQuad.render(_))}dispose(){this.fsQuad.dispose(),this.material.dispose()}}const LUTShader={defines:{USE_3DTEXTURE:1},uniforms:{lut3d:{value:null},lut:{value:null},lutSize:{value:0},tDiffuse:{value:null},intensity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`

		uniform float lutSize;
		#if USE_3DTEXTURE
		precision highp sampler3D;
		uniform sampler3D lut3d;
		#else
		uniform sampler2D lut;

		vec3 lutLookup( sampler2D tex, float size, vec3 rgb ) {

			float sliceHeight = 1.0 / size;
			float yPixelHeight = 1.0 / ( size * size );

			// Get the slices on either side of the sample
			float slice = rgb.b * size;
			float interp = fract( slice );
			float slice0 = slice - interp;
			float centeredInterp = interp - 0.5;

			float slice1 = slice0 + sign( centeredInterp );

			// Pull y sample in by half a pixel in each direction to avoid color
			// bleeding from adjacent slices.
			float greenOffset = clamp( rgb.g * sliceHeight, yPixelHeight * 0.5, sliceHeight - yPixelHeight * 0.5 );

			vec2 uv0 = vec2(
				rgb.r,
				slice0 * sliceHeight + greenOffset
			);
			vec2 uv1 = vec2(
				rgb.r,
				slice1 * sliceHeight + greenOffset
			);

			vec3 sample0 = texture2D( tex, uv0 ).rgb;
			vec3 sample1 = texture2D( tex, uv1 ).rgb;

			return mix( sample0, sample1, abs( centeredInterp ) );

		}
		#endif

		varying vec2 vUv;
		uniform float intensity;
		uniform sampler2D tDiffuse;
		void main() {

			vec4 val = texture2D( tDiffuse, vUv );
			vec4 lutVal;

			// pull the sample in by half a pixel so the sample begins
			// at the center of the edge pixels.
			float pixelWidth = 1.0 / lutSize;
			float halfPixelWidth = 0.5 / lutSize;
			vec3 uvw = vec3( halfPixelWidth ) + val.rgb * ( 1.0 - pixelWidth );

			#if USE_3DTEXTURE

			lutVal = vec4( texture( lut3d, uvw ).rgb, val.a );

			#else

			lutVal = vec4( lutLookup( lut, lutSize, uvw ), val.a );

			#endif

			gl_FragColor = vec4( mix( val, lutVal, intensity ) );

		}

	`};class LUTPass extends ShaderPass{set lut(_){const K=this.material;if(_!==this.lut&&(K.uniforms.lut3d.value=null,K.uniforms.lut.value=null,_)){const te=_.isData3DTexture?1:0;te!==K.defines.USE_3DTEXTURE&&(K.defines.USE_3DTEXTURE=te,K.needsUpdate=!0),K.uniforms.lutSize.value=_.image.width,_.isData3DTexture?K.uniforms.lut3d.value=_:K.uniforms.lut.value=_}}get lut(){return this.material.uniforms.lut.value||this.material.uniforms.lut3d.value}set intensity(_){this.material.uniforms.intensity.value=_}get intensity(){return this.material.uniforms.intensity.value}constructor(_={}){super(LUTShader),this.lut=_.lut||null,this.intensity="intensity"in _?_.intensity:1}}const FilmShader={uniforms:{tDiffuse:{value:null},time:{value:0},nIntensity:{value:.5},sIntensity:{value:.05},sCount:{value:4096},grayscale:{value:1}},vertexShader:`
    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`
    #include <common>

    // control parameter
    uniform float time;

    uniform bool grayscale;

    // noise effect intensity value (0 = no effect, 1 = full effect)
    uniform float nIntensity;

    // scanlines effect intensity value (0 = no effect, 1 = full effect)
    uniform float sIntensity;

    // scanlines effect count value (0 = no effect, 4096 = full effect)
    uniform float sCount;

    uniform sampler2D tDiffuse;

    varying vec2 vUv;

    void main() {

    // sample the source
    	vec4 cTextureScreen = texture2D( tDiffuse, vUv );

    // make some noise
    	float dx = rand( vUv + time );

    // add noise
    	vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );

    // get us a sine and cosine
    	vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );

    // add scanlines
    	cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;

    // interpolate between source and result by intensity
    	cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );

    // convert to grayscale if desired
    	if( grayscale ) {

    		cResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );

    	}

    	gl_FragColor =  vec4( cResult, cTextureScreen.a );

    }
  `};var __defProp$5=Object.defineProperty,__defNormalProp$5=(Z,_,K)=>_ in Z?__defProp$5(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$5=(Z,_,K)=>(__defNormalProp$5(Z,typeof _!="symbol"?_+"":_,K),K);class FilmPass extends Pass{constructor(_,K,te,ne){super(),__publicField$5(this,"material"),__publicField$5(this,"fsQuad"),__publicField$5(this,"uniforms"),FilmShader===void 0&&console.error("THREE.FilmPass relies on FilmShader");const ie=FilmShader;this.uniforms=UniformsUtils.clone(ie.uniforms),this.material=new ShaderMaterial({uniforms:this.uniforms,vertexShader:ie.vertexShader,fragmentShader:ie.fragmentShader}),ne!==void 0&&(this.uniforms.grayscale.value=ne),_!==void 0&&(this.uniforms.nIntensity.value=_),K!==void 0&&(this.uniforms.sIntensity.value=K),te!==void 0&&(this.uniforms.sCount.value=te),this.fsQuad=new FullScreenQuad(this.material)}render(_,K,te,ne){this.uniforms.tDiffuse.value=te.texture,this.uniforms.time.value+=ne,this.renderToScreen?(_.setRenderTarget(null),this.fsQuad.render(_)):(_.setRenderTarget(K),this.clear&&_.clear(),this.fsQuad.render(_))}}const CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`
    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`
    uniform float opacity;

    uniform sampler2D tDiffuse;

    varying vec2 vUv;

    void main() {

    	vec4 texel = texture2D( tDiffuse, vUv );
    	gl_FragColor = opacity * texel;

    }
  `},LuminosityHighPassShader={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Color$1(0)},defaultOpacity:{value:0}},vertexShader:`
    varying vec2 vUv;

    void main() {

    	vUv = uv;

    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform vec3 defaultColor;
    uniform float defaultOpacity;
    uniform float luminosityThreshold;
    uniform float smoothWidth;

    varying vec2 vUv;

    void main() {

    	vec4 texel = texture2D( tDiffuse, vUv );

    	vec3 luma = vec3( 0.299, 0.587, 0.114 );

    	float v = dot( texel.xyz, luma );

    	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

    	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

    	gl_FragColor = mix( outputColor, texel, alpha );

    }
  `};var __defProp$4=Object.defineProperty,__defNormalProp$4=(Z,_,K)=>_ in Z?__defProp$4(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$4=(Z,_,K)=>(__defNormalProp$4(Z,typeof _!="symbol"?_+"":_,K),K);const UnrealBloomPass=(()=>{const Z=class extends Pass{constructor(K,te,ne,ie){super(),this.strength=te!==void 0?te:1,this.radius=ne,this.threshold=ie,this.resolution=K!==void 0?new Vector2(K.x,K.y):new Vector2(256,256),this.clearColor=new Color$1(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let oe=Math.round(this.resolution.x/2),se=Math.round(this.resolution.y/2);this.renderTargetBright=new WebGLRenderTarget(oe,se,{type:HalfFloatType}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let pe=0;pe<this.nMips;pe++){const ge=new WebGLRenderTarget(oe,se,{type:HalfFloatType});ge.texture.name="UnrealBloomPass.h"+pe,ge.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(ge);const ye=new WebGLRenderTarget(oe,se,{type:HalfFloatType});ye.texture.name="UnrealBloomPass.v"+pe,ye.texture.generateMipmaps=!1,this.renderTargetsVertical.push(ye),oe=Math.round(oe/2),se=Math.round(se/2)}const le=LuminosityHighPassShader;this.highPassUniforms=UniformsUtils.clone(le.uniforms),this.highPassUniforms.luminosityThreshold.value=ie,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:le.vertexShader,fragmentShader:le.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const ce=[3,5,7,9,11];oe=Math.round(this.resolution.x/2),se=Math.round(this.resolution.y/2);for(let pe=0;pe<this.nMips;pe++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(ce[pe])),this.separableBlurMaterials[pe].uniforms.texSize.value=new Vector2(oe,se),oe=Math.round(oe/2),se=Math.round(se/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=te,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const fe=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=fe,this.bloomTintColors=[new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const me=CopyShader;this.copyUniforms=UniformsUtils.clone(me.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new ShaderMaterial({uniforms:this.copyUniforms,vertexShader:me.vertexShader,fragmentShader:me.fragmentShader,blending:AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Color$1,this.oldClearAlpha=1,this.basic=new MeshBasicMaterial,this.fsQuad=new FullScreenQuad(null)}dispose(){for(let K=0;K<this.renderTargetsHorizontal.length;K++)this.renderTargetsHorizontal[K].dispose();for(let K=0;K<this.renderTargetsVertical.length;K++)this.renderTargetsVertical[K].dispose();this.renderTargetBright.dispose();for(let K=0;K<this.separableBlurMaterials.length;K++)this.separableBlurMaterials[K].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(K,te){let ne=Math.round(K/2),ie=Math.round(te/2);this.renderTargetBright.setSize(ne,ie);for(let oe=0;oe<this.nMips;oe++)this.renderTargetsHorizontal[oe].setSize(ne,ie),this.renderTargetsVertical[oe].setSize(ne,ie),this.separableBlurMaterials[oe].uniforms.texSize.value=new Vector2(ne,ie),ne=Math.round(ne/2),ie=Math.round(ie/2)}render(K,te,ne,ie,oe){K.getClearColor(this._oldClearColor),this.oldClearAlpha=K.getClearAlpha();const se=K.autoClear;K.autoClear=!1,K.setClearColor(this.clearColor,0),oe&&K.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=ne.texture,K.setRenderTarget(null),K.clear(),this.fsQuad.render(K)),this.highPassUniforms.tDiffuse.value=ne.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,K.setRenderTarget(this.renderTargetBright),K.clear(),this.fsQuad.render(K);let le=this.renderTargetBright;for(let ce=0;ce<this.nMips;ce++)this.fsQuad.material=this.separableBlurMaterials[ce],this.separableBlurMaterials[ce].uniforms.colorTexture.value=le.texture,this.separableBlurMaterials[ce].uniforms.direction.value=Z.BlurDirectionX,K.setRenderTarget(this.renderTargetsHorizontal[ce]),K.clear(),this.fsQuad.render(K),this.separableBlurMaterials[ce].uniforms.colorTexture.value=this.renderTargetsHorizontal[ce].texture,this.separableBlurMaterials[ce].uniforms.direction.value=Z.BlurDirectionY,K.setRenderTarget(this.renderTargetsVertical[ce]),K.clear(),this.fsQuad.render(K),le=this.renderTargetsVertical[ce];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,K.setRenderTarget(this.renderTargetsHorizontal[0]),K.clear(),this.fsQuad.render(K),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,oe&&K.state.buffers.stencil.setTest(!0),this.renderToScreen?(K.setRenderTarget(null),this.fsQuad.render(K)):(K.setRenderTarget(ne),this.fsQuad.render(K)),K.setClearColor(this._oldClearColor,this.oldClearAlpha),K.autoClear=se}getSeperableBlurMaterial(K){return new ShaderMaterial({defines:{KERNEL_RADIUS:K,SIGMA:K},uniforms:{colorTexture:{value:null},texSize:{value:new Vector2(.5,.5)},direction:{value:new Vector2(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(K){return new ShaderMaterial({defines:{NUM_MIPS:K},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let _=Z;return __publicField$4(_,"BlurDirectionX",new Vector2(1,0)),__publicField$4(_,"BlurDirectionY",new Vector2(0,1)),_})();var __defProp$3=Object.defineProperty,__defNormalProp$3=(Z,_,K)=>_ in Z?__defProp$3(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$3=(Z,_,K)=>(__defNormalProp$3(Z,typeof _!="symbol"?_+"":_,K),K);class MaskPass extends Pass{constructor(_,K){super(),__publicField$3(this,"scene"),__publicField$3(this,"camera"),__publicField$3(this,"inverse"),this.scene=_,this.camera=K,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(_,K,te){const ne=_.getContext(),ie=_.state;ie.buffers.color.setMask(!1),ie.buffers.depth.setMask(!1),ie.buffers.color.setLocked(!0),ie.buffers.depth.setLocked(!0);let oe,se;this.inverse?(oe=0,se=1):(oe=1,se=0),ie.buffers.stencil.setTest(!0),ie.buffers.stencil.setOp(ne.REPLACE,ne.REPLACE,ne.REPLACE),ie.buffers.stencil.setFunc(ne.ALWAYS,oe,4294967295),ie.buffers.stencil.setClear(se),ie.buffers.stencil.setLocked(!0),_.setRenderTarget(te),this.clear&&_.clear(),_.render(this.scene,this.camera),_.setRenderTarget(K),this.clear&&_.clear(),_.render(this.scene,this.camera),ie.buffers.color.setLocked(!1),ie.buffers.depth.setLocked(!1),ie.buffers.stencil.setLocked(!1),ie.buffers.stencil.setFunc(ne.EQUAL,1,4294967295),ie.buffers.stencil.setOp(ne.KEEP,ne.KEEP,ne.KEEP),ie.buffers.stencil.setLocked(!0)}}class ClearMaskPass extends Pass{constructor(){super(),this.needsSwap=!1}render(_){_.state.buffers.stencil.setLocked(!1),_.state.buffers.stencil.setTest(!1)}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(Z,_,K)=>_ in Z?__defProp$2(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$2=(Z,_,K)=>(__defNormalProp$2(Z,typeof _!="symbol"?_+"":_,K),K);class EffectComposer{constructor(_,K){if(__publicField$2(this,"renderer"),__publicField$2(this,"_pixelRatio"),__publicField$2(this,"_width"),__publicField$2(this,"_height"),__publicField$2(this,"renderTarget1"),__publicField$2(this,"renderTarget2"),__publicField$2(this,"writeBuffer"),__publicField$2(this,"readBuffer"),__publicField$2(this,"renderToScreen"),__publicField$2(this,"passes",[]),__publicField$2(this,"copyPass"),__publicField$2(this,"clock"),this.renderer=_,K===void 0){const te={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat},ne=_.getSize(new Vector2);this._pixelRatio=_.getPixelRatio(),this._width=ne.width,this._height=ne.height,K=new WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,te),K.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=K.width,this._height=K.height;this.renderTarget1=K,this.renderTarget2=K.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,CopyShader===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),ShaderPass===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new ShaderPass(CopyShader),this.copyPass.material.blending=NoBlending,this.clock=new Clock}swapBuffers(){const _=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=_}addPass(_){this.passes.push(_),_.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(_,K){this.passes.splice(K,0,_),_.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(_){const K=this.passes.indexOf(_);K!==-1&&this.passes.splice(K,1)}isLastEnabledPass(_){for(let K=_+1;K<this.passes.length;K++)if(this.passes[K].enabled)return!1;return!0}render(_){_===void 0&&(_=this.clock.getDelta());const K=this.renderer.getRenderTarget();let te=!1;const ne=this.passes.length;for(let ie=0;ie<ne;ie++){const oe=this.passes[ie];if(oe.enabled!==!1){if(oe.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(ie),oe.render(this.renderer,this.writeBuffer,this.readBuffer,_,te),oe.needsSwap){if(te){const se=this.renderer.getContext(),le=this.renderer.state.buffers.stencil;le.setFunc(se.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,_),le.setFunc(se.EQUAL,1,4294967295)}this.swapBuffers()}MaskPass!==void 0&&(oe instanceof MaskPass?te=!0:oe instanceof ClearMaskPass&&(te=!1))}}this.renderer.setRenderTarget(K)}reset(_){if(_===void 0){const K=this.renderer.getSize(new Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=K.width,this._height=K.height,_=this.renderTarget1.clone(),_.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=_,this.renderTarget2=_.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(_,K){this._width=_,this._height=K;const te=this._width*this._pixelRatio,ne=this._height*this._pixelRatio;this.renderTarget1.setSize(te,ne),this.renderTarget2.setSize(te,ne);for(let ie=0;ie<this.passes.length;ie++)this.passes[ie].setSize(te,ne)}setPixelRatio(_){this._pixelRatio=_,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}var __defProp$1=Object.defineProperty,__defNormalProp$1=(Z,_,K)=>_ in Z?__defProp$1(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField$1=(Z,_,K)=>(__defNormalProp$1(Z,typeof _!="symbol"?_+"":_,K),K);class RenderPass extends Pass{constructor(_,K,te,ne,ie=0){super(),__publicField$1(this,"scene"),__publicField$1(this,"camera"),__publicField$1(this,"overrideMaterial"),__publicField$1(this,"clearColor"),__publicField$1(this,"clearAlpha"),__publicField$1(this,"clearDepth",!1),__publicField$1(this,"_oldClearColor",new Color$1),this.scene=_,this.camera=K,this.overrideMaterial=te,this.clearColor=ne,this.clearAlpha=ie,this.clear=!0,this.needsSwap=!1}render(_,K,te){let ne=_.autoClear;_.autoClear=!1;let ie,oe=null;this.overrideMaterial!==void 0&&(oe=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(_.getClearColor(this._oldClearColor),ie=_.getClearAlpha(),_.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&_.clearDepth(),_.setRenderTarget(this.renderToScreen?null:te),this.clear&&_.clear(_.autoClearColor,_.autoClearDepth,_.autoClearStencil),_.render(this.scene,this.camera),this.clearColor&&_.setClearColor(this._oldClearColor,ie),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=oe),_.autoClear=ne}}var __defProp=Object.defineProperty,__defNormalProp=(Z,_,K)=>_ in Z?__defProp(Z,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):Z[_]=K,__publicField=(Z,_,K)=>(__defNormalProp(Z,typeof _!="symbol"?_+"":_,K),K);class WaterPass extends Pass{constructor(){super(),__publicField(this,"material"),__publicField(this,"fsQuad"),__publicField(this,"factor"),__publicField(this,"time"),__publicField(this,"uniforms"),this.uniforms={tex:{value:null},time:{value:0},factor:{value:0},resolution:{value:new Vector2(64,64)}},this.material=new ShaderMaterial({uniforms:this.uniforms,vertexShader:`
      varying vec2 vUv;
      void main(){  
        vUv = uv; 
        vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);
        gl_Position = projectionMatrix * modelViewPosition;
      }`,fragmentShader:`
      uniform float time;
      uniform float factor;
      uniform vec2 resolution;
      uniform sampler2D tex;
      varying vec2 vUv;
      void main() {  
        vec2 uv1 = vUv;
        vec2 uv = gl_FragCoord.xy/resolution.xy;
        float frequency = 6.0 * factor;
        float amplitude = 0.015 * factor;
        float x = uv1.y * frequency + time * .7; 
        float y = uv1.x * frequency + time * .3;
        uv1.x += cos(x+y) * amplitude * cos(y);
        uv1.y += sin(x-y) * amplitude * cos(y);
        vec4 rgba = texture2D(tex, uv1);
        gl_FragColor = rgba;
      }`}),this.fsQuad=new FullScreenQuad(this.material),this.factor=0,this.time=0}render(_,K,te){this.uniforms.tex.value=te.texture,this.uniforms.time.value=this.time,this.uniforms.factor.value=this.factor,this.renderToScreen?(_.setRenderTarget(null),this.fsQuad.render(_)):(_.setRenderTarget(K),this.clear&&_.clear(),this.fsQuad.render(_))}}const GammaCorrectionShader={uniforms:{tDiffuse:{value:null}},vertexShader:`
    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;

    varying vec2 vUv;

    void main() {

    	vec4 tex = texture2D( tDiffuse, vUv );

    	#ifdef LinearTosRGB
    		gl_FragColor = LinearTosRGB( tex );
    	#else
    		gl_FragColor = sRGBTransferOETF( tex );
    	#endif

    }
  `};class Data3DTexture extends Texture{constructor(_=null,K=1,te=1,ne=1){super(null),this.isData3DTexture=!0,this.image={data:_,width:K,height:te,depth:ne},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class LUTCubeLoader extends Loader{load(_,K,te,ne){const ie=new FileLoader(this.manager);ie.setPath(this.path),ie.setResponseType("text"),ie.load(_,oe=>{try{K(this.parse(oe))}catch(se){ne?ne(se):console.error(se),this.manager.itemError(_)}},te,ne)}parse(_){_=_.replace(/^#.*?(\n|\r)/gm,"").replace(/^\s*?(\n|\r)/gm,"").trim();let K=null,te=null;const ne=new Vector3(0,0,0),ie=new Vector3(1,1,1),oe=_.split(/[\n\r]+/g);let se=null,le=0;for(let me=0,pe=oe.length;me<pe;me++){const ge=oe[me].trim(),ye=ge.split(/\s/g);switch(ye[0]){case"TITLE":K=ge.substring(7,ge.length-1);break;case"LUT_3D_SIZE":const Ee=ye[1];te=parseFloat(Ee),se=new Uint8Array(te*te*te*4);break;case"DOMAIN_MIN":ne.x=parseFloat(ye[1]),ne.y=parseFloat(ye[2]),ne.z=parseFloat(ye[3]);break;case"DOMAIN_MAX":ie.x=parseFloat(ye[1]),ie.y=parseFloat(ye[2]),ie.z=parseFloat(ye[3]);break;default:const _e=parseFloat(ye[0]),Se=parseFloat(ye[1]),Re=parseFloat(ye[2]);if(_e>1||_e<0||Se>1||Se<0||Re>1||Re<0)throw new Error("LUTCubeLoader : Non normalized values not supported.");se[le+0]=_e*255,se[le+1]=Se*255,se[le+2]=Re*255,se[le+3]=255,le+=4}}const ce=new DataTexture;ce.image.data=se,ce.image.width=te,ce.image.height=te*te,ce.type=UnsignedByteType,ce.magFilter=LinearFilter,ce.minFilter=LinearFilter,ce.wrapS=ClampToEdgeWrapping,ce.wrapT=ClampToEdgeWrapping,ce.generateMipmaps=!1,ce.needsUpdate=!0;const fe=new Data3DTexture;return fe.image.data=se,fe.image.width=te,fe.image.height=te,fe.image.depth=te,fe.type=UnsignedByteType,fe.magFilter=LinearFilter,fe.minFilter=LinearFilter,fe.wrapS=ClampToEdgeWrapping,fe.wrapT=ClampToEdgeWrapping,fe.wrapR=ClampToEdgeWrapping,fe.generateMipmaps=!1,fe.needsUpdate=!0,{title:K,size:te,domainMin:ne,domainMax:ie,texture:ce,texture3D:fe}}}const Effects=reactExports.forwardRef(({children:Z,multisamping:_=8,renderIndex:K=1,disableRender:te,disableGamma:ne,disableRenderPass:ie,depthBuffer:oe=!0,stencilBuffer:se=!1,anisotropy:le=1,encoding:ce,type:fe,...me},pe)=>{reactExports.useMemo(()=>extend({EffectComposer,RenderPass,ShaderPass}),[]);const ge=reactExports.useRef(null);reactExports.useImperativeHandle(pe,()=>ge.current,[]);const{scene:ye,camera:Ee,gl:_e,size:Se,viewport:Re}=useThree(),[Te]=reactExports.useState(()=>{const Fe=new WebGLRenderTarget(Se.width,Se.height,{type:fe||HalfFloatType,format:RGBAFormat,depthBuffer:oe,stencilBuffer:se,anisotropy:le});return fe===UnsignedByteType&&ce!=null&&("colorSpace"in Fe?Fe.texture.colorSpace=ce:Fe.texture.encoding=ce),Fe.samples=_,Fe});reactExports.useEffect(()=>{var Fe,$e;(Fe=ge.current)==null||Fe.setSize(Se.width,Se.height),($e=ge.current)==null||$e.setPixelRatio(Re.dpr)},[_e,Se,Re.dpr]),useFrame(()=>{var Fe;te||(Fe=ge.current)==null||Fe.render()},K);const Ae=[];return ie||Ae.push(reactExports.createElement("renderPass",{key:"renderpass",attach:`passes-${Ae.length}`,args:[ye,Ee]})),ne||Ae.push(reactExports.createElement("shaderPass",{attach:`passes-${Ae.length}`,key:"gammapass",args:[GammaCorrectionShader]})),reactExports.Children.forEach(Z,Fe=>{Fe&&Ae.push(reactExports.cloneElement(Fe,{key:Ae.length,attach:`passes-${Ae.length}`}))}),reactExports.createElement("effectComposer",_extends$1({ref:ge,args:[_e,Te]},me),Ae)});function useFBO(Z,_,K){const te=useThree(pe=>pe.size),ne=useThree(pe=>pe.viewport),ie=typeof Z=="number"?Z:te.width*ne.dpr,oe=typeof _=="number"?_:te.height*ne.dpr,se=(typeof Z=="number"?K:Z)||{},{samples:le=0,depth:ce,...fe}=se,me=reactExports.useMemo(()=>{const pe=new WebGLRenderTarget(ie,oe,{minFilter:LinearFilter,magFilter:LinearFilter,type:HalfFloatType,...fe});return ce&&(pe.depthTexture=new DepthTexture(ie,oe,FloatType)),pe.samples=le,pe},[]);return reactExports.useLayoutEffect(()=>{me.setSize(ie,oe),le&&(me.samples=le)},[le,me,ie,oe]),reactExports.useEffect(()=>()=>me.dispose(),[]),me}const isFunction$1=Z=>typeof Z=="function",PerspectiveCamera=reactExports.forwardRef(({envMap:Z,resolution:_=256,frames:K=1/0,makeDefault:te,children:ne,...ie},oe)=>{const se=useThree(({set:_e})=>_e),le=useThree(({camera:_e})=>_e),ce=useThree(({size:_e})=>_e),fe=reactExports.useRef(null);reactExports.useImperativeHandle(oe,()=>fe.current,[]);const me=reactExports.useRef(null),pe=useFBO(_);reactExports.useLayoutEffect(()=>{ie.manual||(fe.current.aspect=ce.width/ce.height)},[ce,ie]),reactExports.useLayoutEffect(()=>{fe.current.updateProjectionMatrix()});let ge=0,ye=null;const Ee=isFunction$1(ne);return useFrame(_e=>{Ee&&(K===1/0||ge<K)&&(me.current.visible=!1,_e.gl.setRenderTarget(pe),ye=_e.scene.background,Z&&(_e.scene.background=Z),_e.gl.render(_e.scene,fe.current),_e.scene.background=ye,_e.gl.setRenderTarget(null),me.current.visible=!0,ge++)}),reactExports.useLayoutEffect(()=>{if(te){const _e=le;return se(()=>({camera:fe.current})),()=>se(()=>({camera:_e}))}},[fe,te,se]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("perspectiveCamera",_extends$1({ref:fe},ie),!Ee&&ne),reactExports.createElement("group",{ref:me},Ee&&ne(pe.texture)))}),OrbitControls=reactExports.forwardRef(({makeDefault:Z,camera:_,regress:K,domElement:te,enableDamping:ne=!0,keyEvents:ie=!1,onChange:oe,onStart:se,onEnd:le,...ce},fe)=>{const me=useThree($e=>$e.invalidate),pe=useThree($e=>$e.camera),ge=useThree($e=>$e.gl),ye=useThree($e=>$e.events),Ee=useThree($e=>$e.setEvents),_e=useThree($e=>$e.set),Se=useThree($e=>$e.get),Re=useThree($e=>$e.performance),Te=_||pe,Ae=te||ye.connected||ge.domElement,Fe=reactExports.useMemo(()=>new OrbitControls$1(Te),[Te]);return useFrame(()=>{Fe.enabled&&Fe.update()},-1),reactExports.useEffect(()=>(ie&&Fe.connect(ie===!0?Ae:ie),Fe.connect(Ae),()=>void Fe.dispose()),[ie,Ae,K,Fe,me]),reactExports.useEffect(()=>{const $e=Ue=>{me(),K&&Re.regress(),oe&&oe(Ue)},ke=Ue=>{se&&se(Ue)},ze=Ue=>{le&&le(Ue)};return Fe.addEventListener("change",$e),Fe.addEventListener("start",ke),Fe.addEventListener("end",ze),()=>{Fe.removeEventListener("start",ke),Fe.removeEventListener("end",ze),Fe.removeEventListener("change",$e)}},[oe,se,le,Fe,me,Ee]),reactExports.useEffect(()=>{if(Z){const $e=Se().controls;return _e({controls:Fe}),()=>_e({controls:$e})}},[Z,Fe]),reactExports.createElement("primitive",_extends$1({ref:fe,object:Fe,enableDamping:ne},ce))});var stats_min$1={exports:{}},stats_min=stats_min$1.exports,hasRequiredStats_min;function requireStats_min(){return hasRequiredStats_min||(hasRequiredStats_min=1,function(Z,_){(function(K,te){Z.exports=te()})(stats_min,function(){var K=function(){function te(ge){return oe.appendChild(ge.dom),ge}function ne(ge){for(var ye=0;ye<oe.children.length;ye++)oe.children[ye].style.display=ye===ge?"block":"none";ie=ge}var ie=0,oe=document.createElement("div");oe.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",oe.addEventListener("click",function(ge){ge.preventDefault(),ne(++ie%oe.children.length)},!1);var se=(performance||Date).now(),le=se,ce=0,fe=te(new K.Panel("FPS","#0ff","#002")),me=te(new K.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var pe=te(new K.Panel("MB","#f08","#201"));return ne(0),{REVISION:16,dom:oe,addPanel:te,showPanel:ne,begin:function(){se=(performance||Date).now()},end:function(){ce++;var ge=(performance||Date).now();if(me.update(ge-se,200),ge>le+1e3&&(fe.update(1e3*ce/(ge-le),100),le=ge,ce=0,pe)){var ye=performance.memory;pe.update(ye.usedJSHeapSize/1048576,ye.jsHeapSizeLimit/1048576)}return ge},update:function(){se=this.end()},domElement:oe,setMode:ne}};return K.Panel=function(te,ne,ie){var oe=1/0,se=0,le=Math.round,ce=le(window.devicePixelRatio||1),fe=80*ce,me=48*ce,pe=3*ce,ge=2*ce,ye=3*ce,Ee=15*ce,_e=74*ce,Se=30*ce,Re=document.createElement("canvas");Re.width=fe,Re.height=me,Re.style.cssText="width:80px;height:48px";var Te=Re.getContext("2d");return Te.font="bold "+9*ce+"px Helvetica,Arial,sans-serif",Te.textBaseline="top",Te.fillStyle=ie,Te.fillRect(0,0,fe,me),Te.fillStyle=ne,Te.fillText(te,pe,ge),Te.fillRect(ye,Ee,_e,Se),Te.fillStyle=ie,Te.globalAlpha=.9,Te.fillRect(ye,Ee,_e,Se),{dom:Re,update:function(Ae,Fe){oe=Math.min(oe,Ae),se=Math.max(se,Ae),Te.fillStyle=ie,Te.globalAlpha=1,Te.fillRect(0,0,fe,Ee),Te.fillStyle=ne,Te.fillText(le(Ae)+" "+te+" ("+le(oe)+"-"+le(se)+")",pe,ge),Te.drawImage(Re,ye+ce,Ee,_e-ce,Se,ye,Ee,_e-ce,Se),Te.fillRect(ye+_e-ce,Ee,ce,Se),Te.fillStyle=ie,Te.globalAlpha=.9,Te.fillRect(ye+_e-ce,Ee,ce,le((1-Ae/Fe)*Se))}}},K})}(stats_min$1)),stats_min$1.exports}var stats_minExports=requireStats_min();const StatsImpl=getDefaultExportFromCjs(stats_minExports);function call(Z,_){}function useEffectfulState(Z,_=[],K){const[te,ne]=reactExports.useState();return reactExports.useLayoutEffect(()=>{const ie=Z();return ne(ie),()=>void 0},_),te}function Stats({showPanel:Z=0,className:_,parent:K}){const te=useEffectfulState(()=>new StatsImpl,[]);return reactExports.useEffect(()=>{if(te){const ne=K&&K.current||document.body;te.showPanel(Z),ne==null||ne.appendChild(te.dom);const ie=(_??"").split(" ").filter(le=>le);ie.length&&te.dom.classList.add(...ie);const oe=addEffect(()=>te.begin()),se=addAfterEffect(()=>te.end());return()=>{ie.length&&te.dom.classList.remove(...ie),ne==null||ne.removeChild(te.dom),oe(),se()}}},[K,te,_,Z]),null}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var Z="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=Z,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var Z=requireReactPropTypesSecret();function _(){}function K(){}return K.resetWarningCache=_,factoryWithThrowingShims=function(){function te(oe,se,le,ce,fe,me){if(me!==Z){var pe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw pe.name="Invariant Violation",pe}}te.isRequired=te;function ne(){return te}var ie={array:te,bigint:te,bool:te,func:te,number:te,object:te,string:te,symbol:te,any:te,arrayOf:ne,element:te,elementType:te,instanceOf:ne,node:te,objectOf:ne,oneOf:ne,oneOfType:ne,shape:ne,exact:ne,checkPropTypes:K,resetWarningCache:_};return ie.PropTypes=ie,ie},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),CameraShake=reactExports.forwardRef(({intensity:Z=1,decay:_,decayRate:K=.65,maxYaw:te=.1,maxPitch:ne=.1,maxRoll:ie=.1,yawFrequency:oe=.1,pitchFrequency:se=.1,rollFrequency:le=.1},ce)=>{const fe=useThree(Re=>Re.camera),me=useThree(Re=>Re.controls),pe=reactExports.useRef(Z),ge=reactExports.useRef(fe.rotation.clone()),[ye]=reactExports.useState(()=>new SimplexNoise),[Ee]=reactExports.useState(()=>new SimplexNoise),[_e]=reactExports.useState(()=>new SimplexNoise),Se=()=>{(pe.current<0||pe.current>1)&&(pe.current=pe.current<0?0:1)};return reactExports.useImperativeHandle(ce,()=>({getIntensity:()=>pe.current,setIntensity:Re=>{pe.current=Re,Se()}}),[]),reactExports.useEffect(()=>{if(me){const Re=()=>void(ge.current=fe.rotation.clone());return me.addEventListener("change",Re),Re(),()=>void me.removeEventListener("change",Re)}},[fe,me]),useFrame((Re,Te)=>{const Ae=Math.pow(pe.current,2),Fe=te*Ae*ye.noise(Re.clock.elapsedTime*oe,1),$e=ne*Ae*Ee.noise(Re.clock.elapsedTime*se,1),ke=ie*Ae*_e.noise(Re.clock.elapsedTime*le,1);fe.rotation.set(ge.current.x+$e,ge.current.y+Fe,ge.current.z+ke),_&&pe.current>0&&(pe.current-=K*Te,Se())}),null});function ThreeCanvas({children:Z,showState:_,className:K,style:te}){const{setMousePos:ne}=reactExports.useContext(GlobalStateContext),ie=oe=>{const se=oe;ne({x:se.clientX,y:se.clientY})};return jsxRuntimeExports.jsx(Canvas$1,{className:K==null?void 0:K.trim(),style:te,onPointerMove:ie,fallback:jsxRuntimeExports.jsx("div",{children:"Sorry no WebGL supported!"}),children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Z,_&&jsxRuntimeExports.jsx(Stats,{})]})})}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function $6ed0406888f73fc4$var$setRef$1(Z,_){typeof Z=="function"?Z(_):Z!=null&&(Z.current=_)}function $6ed0406888f73fc4$export$43e446d32b3d21af$1(...Z){return _=>Z.forEach(K=>$6ed0406888f73fc4$var$setRef$1(K,_))}const $5e63c961fc1ce211$export$8c6ed5c666ac1360$1=reactExports.forwardRef((Z,_)=>{const{children:K,...te}=Z,ne=reactExports.Children.toArray(K),ie=ne.find($5e63c961fc1ce211$var$isSlottable$1);if(ie){const oe=ie.props.children,se=ne.map(le=>le===ie?reactExports.Children.count(oe)>1?reactExports.Children.only(null):reactExports.isValidElement(oe)?oe.props.children:null:le);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone$1,_extends$1({},te,{ref:_}),reactExports.isValidElement(oe)?reactExports.cloneElement(oe,void 0,se):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone$1,_extends$1({},te,{ref:_}),K)});$5e63c961fc1ce211$export$8c6ed5c666ac1360$1.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone$1=reactExports.forwardRef((Z,_)=>{const{children:K,...te}=Z;return reactExports.isValidElement(K)?reactExports.cloneElement(K,{...$5e63c961fc1ce211$var$mergeProps$1(te,K.props),ref:$6ed0406888f73fc4$export$43e446d32b3d21af$1(_,K.ref)}):reactExports.Children.count(K)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone$1.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45$1=({children:Z})=>reactExports.createElement(reactExports.Fragment,null,Z);function $5e63c961fc1ce211$var$isSlottable$1(Z){return reactExports.isValidElement(Z)&&Z.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45$1}function $5e63c961fc1ce211$var$mergeProps$1(Z,_){const K={..._};for(const te in _){const ne=Z[te],ie=_[te];/^on[A-Z]/.test(te)?ne&&ie?K[te]=(...se)=>{ie(...se),ne(...se)}:ne&&(K[te]=ne):te==="style"?K[te]={...ne,...ie}:te==="className"&&(K[te]=[ne,ie].filter(Boolean).join(" "))}return{...Z,...K}}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((Z,_)=>{const K=reactExports.forwardRef((te,ne)=>{const{asChild:ie,...oe}=te,se=ie?$5e63c961fc1ce211$export$8c6ed5c666ac1360$1:_;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(se,_extends$1({},oe,{ref:ne}))});return K.displayName=`Primitive.${_}`,{...Z,[_]:K}},{}),$f1701beae083dbae$export$602eac185826482c=reactExports.forwardRef((Z,_)=>{var K;const{container:te=globalThis==null||(K=globalThis.document)===null||K===void 0?void 0:K.body,...ne}=Z;return te?ReactDOM.createPortal(reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},ne,{ref:_})),te):null}),$f1701beae083dbae$export$be92b6f5f03c0fe9=$f1701beae083dbae$export$602eac185826482c;var has=Object.prototype.hasOwnProperty;function dequal(Z,_){var K,te;if(Z===_)return!0;if(Z&&_&&(K=Z.constructor)===_.constructor){if(K===Date)return Z.getTime()===_.getTime();if(K===RegExp)return Z.toString()===_.toString();if(K===Array){if((te=Z.length)===_.length)for(;te--&&dequal(Z[te],_[te]););return te===-1}if(!K||typeof Z=="object"){te=0;for(K in Z)if(has.call(Z,K)&&++te&&!has.call(_,K)||!(K in _)||!dequal(Z[K],_[K]))return!1;return Object.keys(_).length===te}}return Z!==Z&&_!==_}function shallow(Z,_){if(Object.is(Z,_))return!0;if(typeof Z!="object"||Z===null||typeof _!="object"||_===null)return!1;const K=Object.keys(Z);if(K.length!==Object.keys(_).length)return!1;for(let te=0;te<K.length;te++)if(!Object.prototype.hasOwnProperty.call(_,K[te])||!Object.is(Z[K[te]],_[K[te]]))return!1;return!0}var Rule=function(_,K,te,ne){this.name=_,this.fn=K,this.args=te,this.modifiers=ne};Rule.prototype._test=function(_){var K=this.fn;try{testAux(this.modifiers.slice(),K,this)(_)}catch{K=function(){return!1}}try{return testAux(this.modifiers.slice(),K,this)(_)}catch{return!1}};Rule.prototype._check=function(_){try{testAux(this.modifiers.slice(),this.fn,this)(_)}catch{if(testAux(this.modifiers.slice(),function(te){return te},this)(!1))return}if(!testAux(this.modifiers.slice(),this.fn,this)(_))throw null};Rule.prototype._testAsync=function(_){var K=this;return new Promise(function(te,ne){testAsyncAux(K.modifiers.slice(),K.fn,K)(_).then(function(ie){ie?te(_):ne(null)}).catch(function(ie){return ne(ie)})})};function pickFn(Z,_){return _===void 0&&(_="simple"),typeof Z=="object"?Z[_]:Z}function testAux(Z,_,K){if(Z.length){var te=Z.shift(),ne=testAux(Z,_,K);return te.perform(ne,K)}else return pickFn(_)}function testAsyncAux(Z,_,K){if(Z.length){var te=Z.shift(),ne=testAsyncAux(Z,_,K);return te.performAsync(ne,K)}else return function(ie){return Promise.resolve(pickFn(_,"async")(ie))}}var Modifier=function(_,K,te){this.name=_,this.perform=K,this.performAsync=te},ValidationError=function(Z){function _(K,te,ne,ie){for(var oe=[],se=arguments.length-4;se-- >0;)oe[se]=arguments[se+4];Z.call(this,oe),Z.captureStackTrace&&Z.captureStackTrace(this,_),this.rule=K,this.value=te,this.cause=ne,this.target=ie}return Z&&(_.__proto__=Z),_.prototype=Object.create(Z&&Z.prototype),_.prototype.constructor=_,_}(Error),Context=function(_,K){_===void 0&&(_=[]),K===void 0&&(K=[]),this.chain=_,this.nextRuleModifiers=K};Context.prototype._applyRule=function(_,K){var te=this;return function(){for(var ne=[],ie=arguments.length;ie--;)ne[ie]=arguments[ie];return te.chain.push(new Rule(K,_.apply(te,ne),ne,te.nextRuleModifiers)),te.nextRuleModifiers=[],te}};Context.prototype._applyModifier=function(_,K){return this.nextRuleModifiers.push(new Modifier(K,_.simple,_.async)),this};Context.prototype._clone=function(){return new Context(this.chain.slice(),this.nextRuleModifiers.slice())};Context.prototype.test=function(_){return this.chain.every(function(K){return K._test(_)})};Context.prototype.testAll=function(_){var K=[];return this.chain.forEach(function(te){try{te._check(_)}catch(ne){K.push(new ValidationError(te,_,ne))}}),K};Context.prototype.check=function(_){this.chain.forEach(function(K){try{K._check(_)}catch(te){throw new ValidationError(K,_,te)}})};Context.prototype.testAsync=function(_){var K=this;return new Promise(function(te,ne){executeAsyncRules(_,K.chain.slice(),te,ne)})};function executeAsyncRules(Z,_,K,te){if(_.length){var ne=_.shift();ne._testAsync(Z).then(function(){executeAsyncRules(Z,_,K,te)},function(ie){te(new ValidationError(ne,Z,ie))})}else K(Z)}var consideredEmpty=function(Z,_){return _&&typeof Z=="string"&&Z.trim().length===0?!0:Z==null};function optional(Z,_){return _===void 0&&(_=!1),{simple:function(K){return consideredEmpty(K,_)||Z.check(K)===void 0},async:function(K){return consideredEmpty(K,_)||Z.testAsync(K)}}}function v8n(){return typeof Proxy<"u"?proxyContext(new Context):proxylessContext(new Context)}var customRules={};v8n.extend=function(Z){Object.assign(customRules,Z)};v8n.clearCustomRules=function(){customRules={}};function proxyContext(Z){return new Proxy(Z,{get:function(K,te){if(te in K)return K[te];var ne=proxyContext(Z._clone());if(te in availableModifiers)return ne._applyModifier(availableModifiers[te],te);if(te in customRules)return ne._applyRule(customRules[te],te);if(te in availableRules)return ne._applyRule(availableRules[te],te)}})}function proxylessContext(Z){var _=function(ne,ie){return Object.keys(ne).forEach(function(oe){ie[oe]=function(){for(var se=[],le=arguments.length;le--;)se[le]=arguments[le];var ce=proxylessContext(ie._clone()),fe=ce._applyRule(ne[oe],oe).apply(void 0,se);return fe}}),ie},K=_(availableRules,Z),te=_(customRules,K);return Object.keys(availableModifiers).forEach(function(ne){Object.defineProperty(te,ne,{get:function(){var ie=proxylessContext(te._clone());return ie._applyModifier(availableModifiers[ne],ne)}})}),te}var availableModifiers={not:{simple:function(Z){return function(_){return!Z(_)}},async:function(Z){return function(_){return Promise.resolve(Z(_)).then(function(K){return!K}).catch(function(){return!0})}}},some:{simple:function(Z){return function(_){return split(_).some(function(K){try{return Z(K)}catch{return!1}})}},async:function(Z){return function(_){return Promise.all(split(_).map(function(K){try{return Z(K).catch(function(){return!1})}catch{return!1}})).then(function(K){return K.some(Boolean)})}}},every:{simple:function(Z){return function(_){return _!==!1&&split(_).every(Z)}},async:function(Z){return function(_){return Promise.all(split(_).map(Z)).then(function(K){return K.every(Boolean)})}}},strict:{simple:function(Z,_){return function(K){return isSchemaRule(_)&&K&&typeof K=="object"?Object.keys(_.args[0]).length===Object.keys(K).length&&Z(K):Z(K)}},async:function(Z,_){return function(K){return Promise.resolve(Z(K)).then(function(te){return isSchemaRule(_)&&K&&typeof K=="object"?Object.keys(_.args[0]).length===Object.keys(K).length&&te:te}).catch(function(){return!1})}}}};function isSchemaRule(Z){return Z&&Z.name==="schema"&&Z.args.length>0&&typeof Z.args[0]=="object"}function split(Z){return typeof Z=="string"?Z.split(""):Z}var availableRules={equal:function(Z){return function(_){return _==Z}},exact:function(Z){return function(_){return _===Z}},number:function(Z){return Z===void 0&&(Z=!0),function(_){return typeof _=="number"&&(Z||isFinite(_))}},integer:function(){return function(Z){var _=Number.isInteger||isIntegerPolyfill;return _(Z)}},numeric:function(){return function(Z){return!isNaN(parseFloat(Z))&&isFinite(Z)}},string:function(){return testType("string")},boolean:function(){return testType("boolean")},undefined:function(){return testType("undefined")},null:function(){return testType("null")},array:function(){return testType("array")},object:function(){return testType("object")},instanceOf:function(Z){return function(_){return _ instanceof Z}},pattern:function(Z){return function(_){return Z.test(_)}},lowercase:function(){return function(Z){return typeof Z=="boolean"||Z===Z.toLowerCase()&&Z.trim()!==""}},uppercase:function(){return function(Z){return Z===Z.toUpperCase()&&Z.trim()!==""}},vowel:function(){return function(Z){return/^[aeiou]+$/i.test(Z)}},consonant:function(){return function(Z){return/^(?=[^aeiou])([a-z]+)$/i.test(Z)}},first:function(Z){return function(_){return _[0]==Z}},last:function(Z){return function(_){return _[_.length-1]==Z}},empty:function(){return function(Z){return Z.length===0}},length:function(Z,_){return function(K){return K.length>=Z&&K.length<=(_||Z)}},minLength:function(Z){return function(_){return _.length>=Z}},maxLength:function(Z){return function(_){return _.length<=Z}},negative:function(){return function(Z){return Z<0}},positive:function(){return function(Z){return Z>=0}},between:function(Z,_){return function(K){return K>=Z&&K<=_}},range:function(Z,_){return function(K){return K>=Z&&K<=_}},lessThan:function(Z){return function(_){return _<Z}},lessThanOrEqual:function(Z){return function(_){return _<=Z}},greaterThan:function(Z){return function(_){return _>Z}},greaterThanOrEqual:function(Z){return function(_){return _>=Z}},even:function(){return function(Z){return Z%2===0}},odd:function(){return function(Z){return Z%2!==0}},includes:function(Z){return function(_){return~_.indexOf(Z)}},schema:function(Z){return testSchema(Z)},passesAnyOf:function(){for(var Z=[],_=arguments.length;_--;)Z[_]=arguments[_];return function(K){return Z.some(function(te){return te.test(K)})}},optional};function testType(Z){return function(_){return Array.isArray(_)&&Z==="array"||_===null&&Z==="null"||typeof _===Z}}function isIntegerPolyfill(Z){return typeof Z=="number"&&isFinite(Z)&&Math.floor(Z)===Z}function testSchema(Z){return{simple:function(_){var K=[];if(Object.keys(Z).forEach(function(te){var ne=Z[te];try{ne.check((_||{})[te])}catch(ie){ie.target=te,K.push(ie)}}),K.length>0)throw K;return!0},async:function(_){var K=[],te=Object.keys(Z).map(function(ne){var ie=Z[ne];return ie.testAsync((_||{})[ne]).catch(function(oe){oe.target=ne,K.push(oe)})});return Promise.all(te).then(function(){if(K.length>0)throw K;return!0})}}}var e$2="colors",t$2="sizes",r$3="space",n$3={gap:r$3,gridGap:r$3,columnGap:r$3,gridColumnGap:r$3,rowGap:r$3,gridRowGap:r$3,inset:r$3,insetBlock:r$3,insetBlockEnd:r$3,insetBlockStart:r$3,insetInline:r$3,insetInlineEnd:r$3,insetInlineStart:r$3,margin:r$3,marginTop:r$3,marginRight:r$3,marginBottom:r$3,marginLeft:r$3,marginBlock:r$3,marginBlockEnd:r$3,marginBlockStart:r$3,marginInline:r$3,marginInlineEnd:r$3,marginInlineStart:r$3,padding:r$3,paddingTop:r$3,paddingRight:r$3,paddingBottom:r$3,paddingLeft:r$3,paddingBlock:r$3,paddingBlockEnd:r$3,paddingBlockStart:r$3,paddingInline:r$3,paddingInlineEnd:r$3,paddingInlineStart:r$3,top:r$3,right:r$3,bottom:r$3,left:r$3,scrollMargin:r$3,scrollMarginTop:r$3,scrollMarginRight:r$3,scrollMarginBottom:r$3,scrollMarginLeft:r$3,scrollMarginX:r$3,scrollMarginY:r$3,scrollMarginBlock:r$3,scrollMarginBlockEnd:r$3,scrollMarginBlockStart:r$3,scrollMarginInline:r$3,scrollMarginInlineEnd:r$3,scrollMarginInlineStart:r$3,scrollPadding:r$3,scrollPaddingTop:r$3,scrollPaddingRight:r$3,scrollPaddingBottom:r$3,scrollPaddingLeft:r$3,scrollPaddingX:r$3,scrollPaddingY:r$3,scrollPaddingBlock:r$3,scrollPaddingBlockEnd:r$3,scrollPaddingBlockStart:r$3,scrollPaddingInline:r$3,scrollPaddingInlineEnd:r$3,scrollPaddingInlineStart:r$3,fontSize:"fontSizes",background:e$2,backgroundColor:e$2,backgroundImage:e$2,borderImage:e$2,border:e$2,borderBlock:e$2,borderBlockEnd:e$2,borderBlockStart:e$2,borderBottom:e$2,borderBottomColor:e$2,borderColor:e$2,borderInline:e$2,borderInlineEnd:e$2,borderInlineStart:e$2,borderLeft:e$2,borderLeftColor:e$2,borderRight:e$2,borderRightColor:e$2,borderTop:e$2,borderTopColor:e$2,caretColor:e$2,color:e$2,columnRuleColor:e$2,fill:e$2,outline:e$2,outlineColor:e$2,stroke:e$2,textDecorationColor:e$2,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t$2,minBlockSize:t$2,maxBlockSize:t$2,inlineSize:t$2,minInlineSize:t$2,maxInlineSize:t$2,width:t$2,minWidth:t$2,maxWidth:t$2,height:t$2,minHeight:t$2,maxHeight:t$2,flexBasis:t$2,gridTemplateColumns:t$2,gridTemplateRows:t$2,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i$4=(Z,_)=>typeof _=="function"?{"()":Function.prototype.toString.call(_)}:_,o$3=()=>{const Z=Object.create(null);return(_,K,...te)=>{const ne=(ie=>JSON.stringify(ie,i$4))(_);return ne in Z?Z[ne]:Z[ne]=K(_,...te)}},l$3=Symbol.for("sxs.internal"),s$4=(Z,_)=>Object.defineProperties(Z,Object.getOwnPropertyDescriptors(_)),a$3=Z=>{for(const _ in Z)return!0;return!1},{hasOwnProperty:c$4}=Object.prototype,d$4=Z=>Z.includes("-")?Z:Z.replace(/[A-Z]/g,_=>"-"+_.toLowerCase()),g$4=/\s+(?![^()]*\))/,p$4=Z=>_=>Z(...typeof _=="string"?String(_).split(g$4):[_]),u$4={appearance:Z=>({WebkitAppearance:Z,appearance:Z}),backfaceVisibility:Z=>({WebkitBackfaceVisibility:Z,backfaceVisibility:Z}),backdropFilter:Z=>({WebkitBackdropFilter:Z,backdropFilter:Z}),backgroundClip:Z=>({WebkitBackgroundClip:Z,backgroundClip:Z}),boxDecorationBreak:Z=>({WebkitBoxDecorationBreak:Z,boxDecorationBreak:Z}),clipPath:Z=>({WebkitClipPath:Z,clipPath:Z}),content:Z=>({content:Z.includes('"')||Z.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(Z)?Z:`"${Z}"`}),hyphens:Z=>({WebkitHyphens:Z,hyphens:Z}),maskImage:Z=>({WebkitMaskImage:Z,maskImage:Z}),maskSize:Z=>({WebkitMaskSize:Z,maskSize:Z}),tabSize:Z=>({MozTabSize:Z,tabSize:Z}),textSizeAdjust:Z=>({WebkitTextSizeAdjust:Z,textSizeAdjust:Z}),userSelect:Z=>({WebkitUserSelect:Z,userSelect:Z}),marginBlock:p$4((Z,_)=>({marginBlockStart:Z,marginBlockEnd:_||Z})),marginInline:p$4((Z,_)=>({marginInlineStart:Z,marginInlineEnd:_||Z})),maxSize:p$4((Z,_)=>({maxBlockSize:Z,maxInlineSize:_||Z})),minSize:p$4((Z,_)=>({minBlockSize:Z,minInlineSize:_||Z})),paddingBlock:p$4((Z,_)=>({paddingBlockStart:Z,paddingBlockEnd:_||Z})),paddingInline:p$4((Z,_)=>({paddingInlineStart:Z,paddingInlineEnd:_||Z}))},h$4=/([\d.]+)([^]*)/,f$4=(Z,_)=>Z.length?Z.reduce((K,te)=>(K.push(..._.map(ne=>ne.includes("&")?ne.replace(/&/g,/[ +>|~]/.test(te)&&/&.*&/.test(ne)?`:is(${te})`:te):te+" "+ne)),K),[]):_,m$4=(Z,_)=>Z in b$4&&typeof _=="string"?_.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(K,te,ne,ie)=>te+(ne==="stretch"?`-moz-available${ie};${d$4(Z)}:${te}-webkit-fill-available`:`-moz-fit-content${ie};${d$4(Z)}:${te}fit-content`)+ie):String(_),b$4={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S$3=Z=>Z?Z+"-":"",k$3=(Z,_,K)=>Z.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(te,ne,ie,oe,se)=>oe=="$"==!!ie?te:(ne||oe=="--"?"calc(":"")+"var(--"+(oe==="$"?S$3(_)+(se.includes("$")?"":S$3(K))+se.replace(/\$/g,"-"):se)+")"+(ne||oe=="--"?"*"+(ne||"")+(ie||"1")+")":"")),y$4=/\s*,\s*(?![^()]*\))/,B=Object.prototype.toString,$$2=(Z,_,K,te,ne)=>{let ie,oe,se;const le=(ce,fe,me)=>{let pe,ge;const ye=Ee=>{for(pe in Ee){const Re=pe.charCodeAt(0)===64,Te=Re&&Array.isArray(Ee[pe])?Ee[pe]:[Ee[pe]];for(ge of Te){const Ae=/[A-Z]/.test(Se=pe)?Se:Se.replace(/-[^]/g,$e=>$e[1].toUpperCase()),Fe=typeof ge=="object"&&ge&&ge.toString===B&&(!te.utils[Ae]||!fe.length);if(Ae in te.utils&&!Fe){const $e=te.utils[Ae];if($e!==oe){oe=$e,ye($e(ge)),oe=null;continue}}else if(Ae in u$4){const $e=u$4[Ae];if($e!==se){se=$e,ye($e(ge)),se=null;continue}}if(Re&&(_e=pe.slice(1)in te.media?"@media "+te.media[pe.slice(1)]:pe,pe=_e.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,($e,ke,ze,Ue,Oe,Ve)=>{const Ye=h$4.test(ke),Ke=.0625*(Ye?-1:1),[ot,ut]=Ye?[Ue,ke]:[ke,Ue];return"("+(ze[0]==="="?"":ze[0]===">"===Ye?"max-":"min-")+ot+":"+(ze[0]!=="="&&ze.length===1?ut.replace(h$4,(ct,gt,je)=>Number(gt)+Ke*(ze===">"?1:-1)+je):ut)+(Oe?") and ("+(Oe[0]===">"?"min-":"max-")+ot+":"+(Oe.length===1?Ve.replace(h$4,(ct,gt,je)=>Number(gt)+Ke*(Oe===">"?-1:1)+je):Ve):"")+")"})),Fe){const $e=Re?me.concat(pe):[...me],ke=Re?[...fe]:f$4(fe,pe.split(y$4));ie!==void 0&&ne(x$3(...ie)),ie=void 0,le(ge,ke,$e)}else ie===void 0&&(ie=[[],fe,me]),pe=Re||pe.charCodeAt(0)!==36?pe:`--${S$3(te.prefix)}${pe.slice(1).replace(/\$/g,"-")}`,ge=Fe?ge:typeof ge=="number"?ge&&Ae in I$2?String(ge)+"px":String(ge):k$3(m$4(Ae,ge??""),te.prefix,te.themeMap[Ae]),ie[0].push(`${Re?`${pe} `:`${d$4(pe)}:`}${ge}`)}}var _e,Se};ye(ce),ie!==void 0&&ne(x$3(...ie)),ie=void 0};le(Z,_,K)},x$3=(Z,_,K)=>`${K.map(te=>`${te}{`).join("")}${_.length?`${_.join(",")}{`:""}${Z.join(";")}${_.length?"}":""}${Array(K.length?K.length+1:0).join("}")}`,I$2={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R$2=Z=>String.fromCharCode(Z+(Z>25?39:97)),z$1=Z=>(_=>{let K,te="";for(K=Math.abs(_);K>52;K=K/52|0)te=R$2(K%52)+te;return R$2(K%52)+te})(((_,K)=>{let te=K.length;for(;te;)_=33*_^K.charCodeAt(--te);return _})(5381,JSON.stringify(Z))>>>0),W$1=["themed","global","styled","onevar","resonevar","allvar","inline"],j$1=Z=>{if(Z.href&&!Z.href.startsWith(location.origin))return!1;try{return!!Z.cssRules}catch{return!1}},E$1=Z=>{let _;const K=()=>{const{cssRules:ne}=_.sheet;return[].map.call(ne,(ie,oe)=>{const{cssText:se}=ie;let le="";if(se.startsWith("--sxs"))return"";if(ne[oe-1]&&(le=ne[oe-1].cssText).startsWith("--sxs")){if(!ie.cssRules.length)return"";for(const ce in _.rules)if(_.rules[ce].group===ie)return`--sxs{--sxs:${[..._.rules[ce].cache].join(" ")}}${se}`;return ie.cssRules.length?`${le}${se}`:""}return se}).join("")},te=()=>{if(_){const{rules:se,sheet:le}=_;if(!le.deleteRule){for(;Object(Object(le.cssRules)[0]).type===3;)le.cssRules.splice(0,1);le.cssRules=[]}for(const ce in se)delete se[ce]}const ne=Object(Z).styleSheets||[];for(const se of ne)if(j$1(se)){for(let le=0,ce=se.cssRules;ce[le];++le){const fe=Object(ce[le]);if(fe.type!==1)continue;const me=Object(ce[le+1]);if(me.type!==4)continue;++le;const{cssText:pe}=fe;if(!pe.startsWith("--sxs"))continue;const ge=pe.slice(14,-3).trim().split(/\s+/),ye=W$1[ge[0]];ye&&(_||(_={sheet:se,reset:te,rules:{},toString:K}),_.rules[ye]={group:me,index:le,cache:new Set(ge)})}if(_)break}if(!_){const se=(le,ce)=>({type:ce,cssRules:[],insertRule(fe,me){this.cssRules.splice(me,0,se(fe,{import:3,undefined:1}[(fe.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return le==="@media{}"?`@media{${[].map.call(this.cssRules,fe=>fe.cssText).join("")}}`:le}});_={sheet:Z?(Z.head||Z).appendChild(document.createElement("style")).sheet:se("","text/css"),rules:{},reset:te,toString:K}}const{sheet:ie,rules:oe}=_;for(let se=W$1.length-1;se>=0;--se){const le=W$1[se];if(!oe[le]){const ce=W$1[se+1],fe=oe[ce]?oe[ce].index:ie.cssRules.length;ie.insertRule("@media{}",fe),ie.insertRule(`--sxs{--sxs:${se}}`,fe),oe[le]={group:ie.cssRules[fe+1],index:fe,cache:new Set([se])}}v$3(oe[le])}};return te(),_},v$3=Z=>{const _=Z.group;let K=_.cssRules.length;Z.apply=te=>{try{_.insertRule(te,K),++K}catch{}}},T$3=Symbol(),w$2=o$3(),M$1=(Z,_)=>w$2(Z,()=>(...K)=>{let te={type:null,composers:new Set};for(const ne of K)if(ne!=null)if(ne[l$3]){te.type==null&&(te.type=ne[l$3].type);for(const ie of ne[l$3].composers)te.composers.add(ie)}else ne.constructor!==Object||ne.$$typeof?te.type==null&&(te.type=ne):te.composers.add(C$1(ne,Z));return te.type==null&&(te.type="span"),te.composers.size||te.composers.add(["PJLV",{},[],[],{},[]]),P$1(Z,te,_)}),C$1=({variants:Z,compoundVariants:_,defaultVariants:K,...te},ne)=>{const ie=`${S$3(ne.prefix)}c-${z$1(te)}`,oe=[],se=[],le=Object.create(null),ce=[];for(const pe in K)le[pe]=String(K[pe]);if(typeof Z=="object"&&Z)for(const pe in Z){fe=le,me=pe,c$4.call(fe,me)||(le[pe]="undefined");const ge=Z[pe];for(const ye in ge){const Ee={[pe]:String(ye)};String(ye)==="undefined"&&ce.push(pe);const _e=ge[ye],Se=[Ee,_e,!a$3(_e)];oe.push(Se)}}var fe,me;if(typeof _=="object"&&_)for(const pe of _){let{css:ge,...ye}=pe;ge=typeof ge=="object"&&ge||{};for(const _e in ye)ye[_e]=String(ye[_e]);const Ee=[ye,ge,!a$3(ge)];se.push(Ee)}return[ie,te,oe,se,le,ce]},P$1=(Z,_,K)=>{const[te,ne,ie,oe]=L$3(_.composers),se=typeof _.type=="function"||_.type.$$typeof?(me=>{function pe(){for(let ge=0;ge<pe[T$3].length;ge++){const[ye,Ee]=pe[T$3][ge];me.rules[ye].apply(Ee)}return pe[T$3]=[],null}return pe[T$3]=[],pe.rules={},W$1.forEach(ge=>pe.rules[ge]={apply:ye=>pe[T$3].push([ge,ye])}),pe})(K):null,le=(se||K).rules,ce=`.${te}${ne.length>1?`:where(.${ne.slice(1).join(".")})`:""}`,fe=me=>{me=typeof me=="object"&&me||A$1;const{css:pe,...ge}=me,ye={};for(const Se in ie)if(delete ge[Se],Se in me){let Re=me[Se];typeof Re=="object"&&Re?ye[Se]={"@initial":ie[Se],...Re}:(Re=String(Re),ye[Se]=Re!=="undefined"||oe.has(Se)?Re:ie[Se])}else ye[Se]=ie[Se];const Ee=new Set([...ne]);for(const[Se,Re,Te,Ae]of _.composers){K.rules.styled.cache.has(Se)||(K.rules.styled.cache.add(Se),$$2(Re,[`.${Se}`],[],Z,ke=>{le.styled.apply(ke)}));const Fe=O$1(Te,ye,Z.media),$e=O$1(Ae,ye,Z.media,!0);for(const ke of Fe)if(ke!==void 0)for(const[ze,Ue,Oe]of ke){const Ve=`${Se}-${z$1(Ue)}-${ze}`;Ee.add(Ve);const Ye=(Oe?K.rules.resonevar:K.rules.onevar).cache,Ke=Oe?le.resonevar:le.onevar;Ye.has(Ve)||(Ye.add(Ve),$$2(Ue,[`.${Ve}`],[],Z,ot=>{Ke.apply(ot)}))}for(const ke of $e)if(ke!==void 0)for(const[ze,Ue]of ke){const Oe=`${Se}-${z$1(Ue)}-${ze}`;Ee.add(Oe),K.rules.allvar.cache.has(Oe)||(K.rules.allvar.cache.add(Oe),$$2(Ue,[`.${Oe}`],[],Z,Ve=>{le.allvar.apply(Ve)}))}}if(typeof pe=="object"&&pe){const Se=`${te}-i${z$1(pe)}-css`;Ee.add(Se),K.rules.inline.cache.has(Se)||(K.rules.inline.cache.add(Se),$$2(pe,[`.${Se}`],[],Z,Re=>{le.inline.apply(Re)}))}for(const Se of String(me.className||"").trim().split(/\s+/))Se&&Ee.add(Se);const _e=ge.className=[...Ee].join(" ");return{type:_.type,className:_e,selector:ce,props:ge,toString:()=>_e,deferredInjector:se}};return s$4(fe,{className:te,selector:ce,[l$3]:_,toString:()=>(K.rules.styled.cache.has(te)||fe(),te)})},L$3=Z=>{let _="";const K=[],te={},ne=[];for(const[ie,,,,oe,se]of Z){_===""&&(_=ie),K.push(ie),ne.push(...se);for(const le in oe){const ce=oe[le];(te[le]===void 0||ce!=="undefined"||se.includes(ce))&&(te[le]=ce)}}return[_,K,te,new Set(ne)]},O$1=(Z,_,K,te)=>{const ne=[];e:for(let[ie,oe,se]of Z){if(se)continue;let le,ce=0,fe=!1;for(le in ie){const me=ie[le];let pe=_[le];if(pe!==me){if(typeof pe!="object"||!pe)continue e;{let ge,ye,Ee=0;for(const _e in pe){if(me===String(pe[_e])){if(_e!=="@initial"){const Se=_e.slice(1);(ye=ye||[]).push(Se in K?K[Se]:_e.replace(/^@media ?/,"")),fe=!0}ce+=Ee,ge=!0}++Ee}if(ye&&ye.length&&(oe={["@media "+ye.join(", ")]:oe}),!ge)continue e}}}(ne[ce]=ne[ce]||[]).push([te?"cv":`${le}-${ie[le]}`,oe,fe])}return ne},A$1={},N$2=o$3(),D$2=(Z,_)=>N$2(Z,()=>(...K)=>{const te=()=>{for(let ne of K){ne=typeof ne=="object"&&ne||{};let ie=z$1(ne);if(!_.rules.global.cache.has(ie)){if(_.rules.global.cache.add(ie),"@import"in ne){let oe=[].indexOf.call(_.sheet.cssRules,_.rules.themed.group)-1;for(let se of[].concat(ne["@import"]))se=se.includes('"')||se.includes("'")?se:`"${se}"`,_.sheet.insertRule(`@import ${se};`,oe++);delete ne["@import"]}$$2(ne,[],[],Z,oe=>{_.rules.global.apply(oe)})}}return""};return s$4(te,{toString:te})}),H$2=o$3(),V$1=(Z,_)=>H$2(Z,()=>K=>{const te=`${S$3(Z.prefix)}k-${z$1(K)}`,ne=()=>{if(!_.rules.global.cache.has(te)){_.rules.global.cache.add(te);const ie=[];$$2(K,[],[],Z,se=>ie.push(se));const oe=`@keyframes ${te}{${ie.join("")}}`;_.rules.global.apply(oe)}return te};return s$4(ne,{get name(){return ne()},toString:ne})}),G=class{constructor(Z,_,K,te){this.token=Z==null?"":String(Z),this.value=_==null?"":String(_),this.scale=K==null?"":String(K),this.prefix=te==null?"":String(te)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S$3(this.prefix)+S$3(this.scale)+this.token}toString(){return this.computedValue}},F$1=o$3(),J$1=(Z,_)=>F$1(Z,()=>(K,te)=>{te=typeof K=="object"&&K||Object(te);const ne=`.${K=(K=typeof K=="string"?K:"")||`${S$3(Z.prefix)}t-${z$1(te)}`}`,ie={},oe=[];for(const le in te){ie[le]={};for(const ce in te[le]){const fe=`--${S$3(Z.prefix)}${le}-${ce}`,me=k$3(String(te[le][ce]),Z.prefix,le);ie[le][ce]=new G(ce,me,le,Z.prefix),oe.push(`${fe}:${me}`)}}const se=()=>{if(oe.length&&!_.rules.themed.cache.has(K)){_.rules.themed.cache.add(K);const le=`${te===Z.theme?":root,":""}.${K}{${oe.join(";")}}`;_.rules.themed.apply(le)}return K};return{...ie,get className(){return se()},selector:ne,toString:se}}),U$1=o$3(),Y$1=o$3(),q$1=Z=>{const _=(K=>{let te=!1;const ne=U$1(K,ie=>{te=!0;const oe="prefix"in(ie=typeof ie=="object"&&ie||{})?String(ie.prefix):"",se=typeof ie.media=="object"&&ie.media||{},le=typeof ie.root=="object"?ie.root||null:globalThis.document||null,ce=typeof ie.theme=="object"&&ie.theme||{},fe={prefix:oe,media:se,theme:ce,themeMap:typeof ie.themeMap=="object"&&ie.themeMap||{...n$3},utils:typeof ie.utils=="object"&&ie.utils||{}},me=E$1(le),pe={css:M$1(fe,me),globalCss:D$2(fe,me),keyframes:V$1(fe,me),createTheme:J$1(fe,me),reset(){me.reset(),pe.theme.toString()},theme:{},sheet:me,config:fe,prefix:oe,getCssText:me.toString,toString:me.toString};return String(pe.theme=pe.createTheme(ce)),pe});return te||ne.reset(),ne})(Z);return _.styled=(({config:K,sheet:te})=>Y$1(K,()=>{const ne=M$1(K,te);return(...ie)=>{const oe=ne(...ie),se=oe[l$3].type,le=React.forwardRef((ce,fe)=>{const me=ce&&ce.as||se,{props:pe,deferredInjector:ge}=oe(ce);return delete pe.as,pe.ref=fe,ge?React.createElement(React.Fragment,null,React.createElement(me,pe),React.createElement(ge,null)):React.createElement(me,pe)});return le.className=oe.className,le.displayName=`Styled.${se.displayName||se.name||se}`,le.selector=oe.selector,le.toString=()=>oe.selector,le[l$3]=oe[l$3],le}}))(_),_};function $e42e1063c40fb3ef$export$b9ecd428b558ff10(Z,_,{checkForDefaultPrevented:K=!0}={}){return function(ne){if(Z==null||Z(ne),K===!1||!ne.defaultPrevented)return _==null?void 0:_(ne)}}function $6ed0406888f73fc4$var$setRef(Z,_){typeof Z=="function"?Z(_):Z!=null&&(Z.current=_)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...Z){return _=>Z.forEach(K=>$6ed0406888f73fc4$var$setRef(K,_))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...Z){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...Z),Z)}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(Z,_=[]){let K=[];function te(ie,oe){const se=reactExports.createContext(oe),le=K.length;K=[...K,oe];function ce(me){const{scope:pe,children:ge,...ye}=me,Ee=(pe==null?void 0:pe[Z][le])||se,_e=reactExports.useMemo(()=>ye,Object.values(ye));return reactExports.createElement(Ee.Provider,{value:_e},ge)}function fe(me,pe){const ge=(pe==null?void 0:pe[Z][le])||se,ye=reactExports.useContext(ge);if(ye)return ye;if(oe!==void 0)return oe;throw new Error(`\`${me}\` must be used within \`${ie}\``)}return ce.displayName=ie+"Provider",[ce,fe]}const ne=()=>{const ie=K.map(oe=>reactExports.createContext(oe));return function(se){const le=(se==null?void 0:se[Z])||ie;return reactExports.useMemo(()=>({[`__scope${Z}`]:{...se,[Z]:le}}),[se,le])}};return ne.scopeName=Z,[te,$c512c27ab02ef895$var$composeContextScopes(ne,..._)]}function $c512c27ab02ef895$var$composeContextScopes(...Z){const _=Z[0];if(Z.length===1)return _;const K=()=>{const te=Z.map(ne=>({useScope:ne(),scopeName:ne.scopeName}));return function(ie){const oe=te.reduce((se,{useScope:le,scopeName:ce})=>{const me=le(ie)[`__scope${ce}`];return{...se,...me}},{});return reactExports.useMemo(()=>({[`__scope${_.scopeName}`]:oe}),[oe])}};return K.scopeName=_.scopeName,K}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((Z,_)=>{const{children:K,...te}=Z,ne=reactExports.Children.toArray(K),ie=ne.find($5e63c961fc1ce211$var$isSlottable);if(ie){const oe=ie.props.children,se=ne.map(le=>le===ie?reactExports.Children.count(oe)>1?reactExports.Children.only(null):reactExports.isValidElement(oe)?oe.props.children:null:le);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$1({},te,{ref:_}),reactExports.isValidElement(oe)?reactExports.cloneElement(oe,void 0,se):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$1({},te,{ref:_}),K)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((Z,_)=>{const{children:K,...te}=Z;return reactExports.isValidElement(K)?reactExports.cloneElement(K,{...$5e63c961fc1ce211$var$mergeProps(te,K.props),ref:$6ed0406888f73fc4$export$43e446d32b3d21af(_,K.ref)}):reactExports.Children.count(K)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:Z})=>reactExports.createElement(reactExports.Fragment,null,Z);function $5e63c961fc1ce211$var$isSlottable(Z){return reactExports.isValidElement(Z)&&Z.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(Z,_){const K={..._};for(const te in _){const ne=Z[te],ie=_[te];/^on[A-Z]/.test(te)?ne&&ie?K[te]=(...se)=>{ie(...se),ne(...se)}:ne&&(K[te]=ne):te==="style"?K[te]={...ne,...ie}:te==="className"&&(K[te]=[ne,ie].filter(Boolean).join(" "))}return{...Z,...K}}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((Z,_)=>{const K=reactExports.forwardRef((te,ne)=>{const{asChild:ie,...oe}=te,se=ie?$5e63c961fc1ce211$export$8c6ed5c666ac1360:_;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(se,{...oe,ref:ne})});return K.displayName=`Primitive.${_}`,{...Z,[_]:K}},{});function dispatchDiscreteCustomEvent(Z,_){Z&&reactDomExports.flushSync(()=>Z.dispatchEvent(_))}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Z){const _=reactExports.useRef(Z);return reactExports.useEffect(()=>{_.current=Z}),reactExports.useMemo(()=>(...K)=>{var te;return(te=_.current)===null||te===void 0?void 0:te.call(_,...K)},[])}function $addc16e1bbe58fd0$export$3a72a57244d6e765(Z,_=globalThis==null?void 0:globalThis.document){const K=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Z);reactExports.useEffect(()=>{const te=ne=>{ne.key==="Escape"&&K(ne)};return _.addEventListener("keydown",te),()=>_.removeEventListener("keydown",te)},[K,_])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((Z,_)=>{var K;const{disableOutsidePointerEvents:te=!1,onEscapeKeyDown:ne,onPointerDownOutside:ie,onFocusOutside:oe,onInteractOutside:se,onDismiss:le,...ce}=Z,fe=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[me,pe]=reactExports.useState(null),ge=(K=me==null?void 0:me.ownerDocument)!==null&&K!==void 0?K:globalThis==null?void 0:globalThis.document,[,ye]=reactExports.useState({}),Ee=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,ze=>pe(ze)),_e=Array.from(fe.layers),[Se]=[...fe.layersWithOutsidePointerEventsDisabled].slice(-1),Re=_e.indexOf(Se),Te=me?_e.indexOf(me):-1,Ae=fe.layersWithOutsidePointerEventsDisabled.size>0,Fe=Te>=Re,$e=$5cb92bef7577960e$var$usePointerDownOutside(ze=>{const Ue=ze.target,Oe=[...fe.branches].some(Ve=>Ve.contains(Ue));!Fe||Oe||(ie==null||ie(ze),se==null||se(ze),ze.defaultPrevented||le==null||le())},ge),ke=$5cb92bef7577960e$var$useFocusOutside(ze=>{const Ue=ze.target;[...fe.branches].some(Ve=>Ve.contains(Ue))||(oe==null||oe(ze),se==null||se(ze),ze.defaultPrevented||le==null||le())},ge);return $addc16e1bbe58fd0$export$3a72a57244d6e765(ze=>{Te===fe.layers.size-1&&(ne==null||ne(ze),!ze.defaultPrevented&&le&&(ze.preventDefault(),le()))},ge),reactExports.useEffect(()=>{if(me)return te&&(fe.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=ge.body.style.pointerEvents,ge.body.style.pointerEvents="none"),fe.layersWithOutsidePointerEventsDisabled.add(me)),fe.layers.add(me),$5cb92bef7577960e$var$dispatchUpdate(),()=>{te&&fe.layersWithOutsidePointerEventsDisabled.size===1&&(ge.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[me,ge,te,fe]),reactExports.useEffect(()=>()=>{me&&(fe.layers.delete(me),fe.layersWithOutsidePointerEventsDisabled.delete(me),$5cb92bef7577960e$var$dispatchUpdate())},[me,fe]),reactExports.useEffect(()=>{const ze=()=>ye({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,ze),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,ze)},[]),reactExports.createElement(Primitive.div,_extends$1({},ce,{ref:Ee,style:{pointerEvents:Ae?Fe?"auto":"none":void 0,...Z.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onFocusCapture,ke.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onBlurCapture,ke.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onPointerDownCapture,$e.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(Z,_=globalThis==null?void 0:globalThis.document){const K=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Z),te=reactExports.useRef(!1),ne=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const ie=se=>{if(se.target&&!te.current){let ce=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,K,le,{discrete:!0})};const le={originalEvent:se};se.pointerType==="touch"?(_.removeEventListener("click",ne.current),ne.current=ce,_.addEventListener("click",ne.current,{once:!0})):ce()}te.current=!1},oe=window.setTimeout(()=>{_.addEventListener("pointerdown",ie)},0);return()=>{window.clearTimeout(oe),_.removeEventListener("pointerdown",ie),_.removeEventListener("click",ne.current)}},[_,K]),{onPointerDownCapture:()=>te.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(Z,_=globalThis==null?void 0:globalThis.document){const K=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Z),te=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ne=ie=>{ie.target&&!te.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,K,{originalEvent:ie},{discrete:!1})};return _.addEventListener("focusin",ne),()=>_.removeEventListener("focusin",ne)},[_,K]),{onFocusCapture:()=>te.current=!0,onBlurCapture:()=>te.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const Z=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(Z)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(Z,_,K,{discrete:te}){const ne=K.originalEvent.target,ie=new CustomEvent(Z,{bubbles:!1,cancelable:!0,detail:K});_&&ne.addEventListener(Z,_,{once:!0}),te?dispatchDiscreteCustomEvent(ne,ie):ne.dispatchEvent(ie)}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=$2AODx$react.useId||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(Z){const[_,K]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{K(te=>te??String($1746a345f3d73bb7$var$count++))},[Z]),_?`radix-${_}`:""}function t$1(Z){return Z.split("-")[0]}function e$1(Z){return Z.split("-")[1]}function n$2(Z){return["top","bottom"].includes(t$1(Z))?"x":"y"}function r$2(Z){return Z==="y"?"height":"width"}function i$3(Z,_,K){let{reference:te,floating:ne}=Z;const ie=te.x+te.width/2-ne.width/2,oe=te.y+te.height/2-ne.height/2,se=n$2(_),le=r$2(se),ce=te[le]/2-ne[le]/2,fe=se==="x";let me;switch(t$1(_)){case"top":me={x:ie,y:te.y-ne.height};break;case"bottom":me={x:ie,y:te.y+te.height};break;case"right":me={x:te.x+te.width,y:oe};break;case"left":me={x:te.x-ne.width,y:oe};break;default:me={x:te.x,y:te.y}}switch(e$1(_)){case"start":me[se]-=ce*(K&&fe?-1:1);break;case"end":me[se]+=ce*(K&&fe?-1:1)}return me}const o$2=async(Z,_,K)=>{const{placement:te="bottom",strategy:ne="absolute",middleware:ie=[],platform:oe}=K,se=await(oe.isRTL==null?void 0:oe.isRTL(_));let le=await oe.getElementRects({reference:Z,floating:_,strategy:ne}),{x:ce,y:fe}=i$3(le,te,se),me=te,pe={},ge=0;for(let ye=0;ye<ie.length;ye++){const{name:Ee,fn:_e}=ie[ye],{x:Se,y:Re,data:Te,reset:Ae}=await _e({x:ce,y:fe,initialPlacement:te,placement:me,strategy:ne,middlewareData:pe,rects:le,platform:oe,elements:{reference:Z,floating:_}});ce=Se??ce,fe=Re??fe,pe={...pe,[Ee]:{...pe[Ee],...Te}},Ae&&ge<=50&&(ge++,typeof Ae=="object"&&(Ae.placement&&(me=Ae.placement),Ae.rects&&(le=Ae.rects===!0?await oe.getElementRects({reference:Z,floating:_,strategy:ne}):Ae.rects),{x:ce,y:fe}=i$3(le,me,se)),ye=-1)}return{x:ce,y:fe,placement:me,strategy:ne,middlewareData:pe}};function a$2(Z){return typeof Z!="number"?function(_){return{top:0,right:0,bottom:0,left:0,..._}}(Z):{top:Z,right:Z,bottom:Z,left:Z}}function l$2(Z){return{...Z,top:Z.y,left:Z.x,right:Z.x+Z.width,bottom:Z.y+Z.height}}async function s$3(Z,_){var K;_===void 0&&(_={});const{x:te,y:ne,platform:ie,rects:oe,elements:se,strategy:le}=Z,{boundary:ce="clippingAncestors",rootBoundary:fe="viewport",elementContext:me="floating",altBoundary:pe=!1,padding:ge=0}=_,ye=a$2(ge),Ee=se[pe?me==="floating"?"reference":"floating":me],_e=l$2(await ie.getClippingRect({element:(K=await(ie.isElement==null?void 0:ie.isElement(Ee)))==null||K?Ee:Ee.contextElement||await(ie.getDocumentElement==null?void 0:ie.getDocumentElement(se.floating)),boundary:ce,rootBoundary:fe,strategy:le})),Se=l$2(ie.convertOffsetParentRelativeRectToViewportRelativeRect?await ie.convertOffsetParentRelativeRectToViewportRelativeRect({rect:me==="floating"?{...oe.floating,x:te,y:ne}:oe.reference,offsetParent:await(ie.getOffsetParent==null?void 0:ie.getOffsetParent(se.floating)),strategy:le}):oe[me]);return{top:_e.top-Se.top+ye.top,bottom:Se.bottom-_e.bottom+ye.bottom,left:_e.left-Se.left+ye.left,right:Se.right-_e.right+ye.right}}const c$3=Math.min,f$3=Math.max;function u$3(Z,_,K){return f$3(Z,c$3(_,K))}const m$3=Z=>({name:"arrow",options:Z,async fn(_){const{element:K,padding:te=0}=Z??{},{x:ne,y:ie,placement:oe,rects:se,platform:le}=_;if(K==null)return{};const ce=a$2(te),fe={x:ne,y:ie},me=n$2(oe),pe=e$1(oe),ge=r$2(me),ye=await le.getDimensions(K),Ee=me==="y"?"top":"left",_e=me==="y"?"bottom":"right",Se=se.reference[ge]+se.reference[me]-fe[me]-se.floating[ge],Re=fe[me]-se.reference[me],Te=await(le.getOffsetParent==null?void 0:le.getOffsetParent(K));let Ae=Te?me==="y"?Te.clientHeight||0:Te.clientWidth||0:0;Ae===0&&(Ae=se.floating[ge]);const Fe=Se/2-Re/2,$e=ce[Ee],ke=Ae-ye[ge]-ce[_e],ze=Ae/2-ye[ge]/2+Fe,Ue=u$3($e,ze,ke),Oe=(pe==="start"?ce[Ee]:ce[_e])>0&&ze!==Ue&&se.reference[ge]<=se.floating[ge];return{[me]:fe[me]-(Oe?ze<$e?$e-ze:ke-ze:0),data:{[me]:Ue,centerOffset:ze-Ue}}}}),g$3={left:"right",right:"left",bottom:"top",top:"bottom"};function d$3(Z){return Z.replace(/left|right|bottom|top/g,_=>g$3[_])}function p$3(Z,_,K){K===void 0&&(K=!1);const te=e$1(Z),ne=n$2(Z),ie=r$2(ne);let oe=ne==="x"?te===(K?"end":"start")?"right":"left":te==="start"?"bottom":"top";return _.reference[ie]>_.floating[ie]&&(oe=d$3(oe)),{main:oe,cross:d$3(oe)}}const h$3={start:"end",end:"start"};function y$3(Z){return Z.replace(/start|end/g,_=>h$3[_])}const x$2=["top","right","bottom","left"];x$2.reduce((Z,_)=>Z.concat(_,_+"-start",_+"-end"),[]);const b$3=function(Z){return Z===void 0&&(Z={}),{name:"flip",options:Z,async fn(_){var K;const{placement:te,middlewareData:ne,rects:ie,initialPlacement:oe,platform:se,elements:le}=_,{mainAxis:ce=!0,crossAxis:fe=!0,fallbackPlacements:me,fallbackStrategy:pe="bestFit",flipAlignment:ge=!0,...ye}=Z,Ee=t$1(te),_e=me||(Ee===oe||!ge?[d$3(oe)]:function(ze){const Ue=d$3(ze);return[y$3(ze),Ue,y$3(Ue)]}(oe)),Se=[oe,..._e],Re=await s$3(_,ye),Te=[];let Ae=((K=ne.flip)==null?void 0:K.overflows)||[];if(ce&&Te.push(Re[Ee]),fe){const{main:ze,cross:Ue}=p$3(te,ie,await(se.isRTL==null?void 0:se.isRTL(le.floating)));Te.push(Re[ze],Re[Ue])}if(Ae=[...Ae,{placement:te,overflows:Te}],!Te.every(ze=>ze<=0)){var Fe,$e;const ze=((Fe=($e=ne.flip)==null?void 0:$e.index)!=null?Fe:0)+1,Ue=Se[ze];if(Ue)return{data:{index:ze,overflows:Ae},reset:{placement:Ue}};let Oe="bottom";switch(pe){case"bestFit":{var ke;const Ve=(ke=Ae.map(Ye=>[Ye,Ye.overflows.filter(Ke=>Ke>0).reduce((Ke,ot)=>Ke+ot,0)]).sort((Ye,Ke)=>Ye[1]-Ke[1])[0])==null?void 0:ke[0].placement;Ve&&(Oe=Ve);break}case"initialPlacement":Oe=oe}if(te!==Oe)return{reset:{placement:Oe}}}return{}}}};function R$1(Z,_){return{top:Z.top-_.height,right:Z.right-_.width,bottom:Z.bottom-_.height,left:Z.left-_.width}}function A(Z){return x$2.some(_=>Z[_]>=0)}const P=function(Z){let{strategy:_="referenceHidden",...K}=Z===void 0?{}:Z;return{name:"hide",async fn(te){const{rects:ne}=te;switch(_){case"referenceHidden":{const ie=R$1(await s$3(te,{...K,elementContext:"reference"}),ne.reference);return{data:{referenceHiddenOffsets:ie,referenceHidden:A(ie)}}}case"escaped":{const ie=R$1(await s$3(te,{...K,altBoundary:!0}),ne.floating);return{data:{escapedOffsets:ie,escaped:A(ie)}}}default:return{}}}}},T$2=function(Z){return Z===void 0&&(Z=0),{name:"offset",options:Z,async fn(_){const{x:K,y:te}=_,ne=await async function(ie,oe){const{placement:se,platform:le,elements:ce}=ie,fe=await(le.isRTL==null?void 0:le.isRTL(ce.floating)),me=t$1(se),pe=e$1(se),ge=n$2(se)==="x",ye=["left","top"].includes(me)?-1:1,Ee=fe&&ge?-1:1,_e=typeof oe=="function"?oe(ie):oe;let{mainAxis:Se,crossAxis:Re,alignmentAxis:Te}=typeof _e=="number"?{mainAxis:_e,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._e};return pe&&typeof Te=="number"&&(Re=pe==="end"?-1*Te:Te),ge?{x:Re*Ee,y:Se*ye}:{x:Se*ye,y:Re*Ee}}(_,Z);return{x:K+ne.x,y:te+ne.y,data:ne}}}};function O(Z){return Z==="x"?"y":"x"}const D$1=function(Z){return Z===void 0&&(Z={}),{name:"shift",options:Z,async fn(_){const{x:K,y:te,placement:ne}=_,{mainAxis:ie=!0,crossAxis:oe=!1,limiter:se={fn:_e=>{let{x:Se,y:Re}=_e;return{x:Se,y:Re}}},...le}=Z,ce={x:K,y:te},fe=await s$3(_,le),me=n$2(t$1(ne)),pe=O(me);let ge=ce[me],ye=ce[pe];if(ie){const _e=me==="y"?"bottom":"right";ge=u$3(ge+fe[me==="y"?"top":"left"],ge,ge-fe[_e])}if(oe){const _e=pe==="y"?"bottom":"right";ye=u$3(ye+fe[pe==="y"?"top":"left"],ye,ye-fe[_e])}const Ee=se.fn({..._,[me]:ge,[pe]:ye});return{...Ee,data:{x:Ee.x-K,y:Ee.y-te}}}}},L$2=function(Z){return Z===void 0&&(Z={}),{options:Z,fn(_){const{x:K,y:te,placement:ne,rects:ie,middlewareData:oe}=_,{offset:se=0,mainAxis:le=!0,crossAxis:ce=!0}=Z,fe={x:K,y:te},me=n$2(ne),pe=O(me);let ge=fe[me],ye=fe[pe];const Ee=typeof se=="function"?se({...ie,placement:ne}):se,_e=typeof Ee=="number"?{mainAxis:Ee,crossAxis:0}:{mainAxis:0,crossAxis:0,...Ee};if(le){const Fe=me==="y"?"height":"width",$e=ie.reference[me]-ie.floating[Fe]+_e.mainAxis,ke=ie.reference[me]+ie.reference[Fe]-_e.mainAxis;ge<$e?ge=$e:ge>ke&&(ge=ke)}if(ce){var Se,Re,Te,Ae;const Fe=me==="y"?"width":"height",$e=["top","left"].includes(t$1(ne)),ke=ie.reference[pe]-ie.floating[Fe]+($e&&(Se=(Re=oe.offset)==null?void 0:Re[pe])!=null?Se:0)+($e?0:_e.crossAxis),ze=ie.reference[pe]+ie.reference[Fe]+($e?0:(Te=(Ae=oe.offset)==null?void 0:Ae[pe])!=null?Te:0)-($e?_e.crossAxis:0);ye<ke?ye=ke:ye>ze&&(ye=ze)}return{[me]:ge,[pe]:ye}}}},k$2=function(Z){return Z===void 0&&(Z={}),{name:"size",options:Z,async fn(_){const{placement:K,rects:te,platform:ne,elements:ie}=_,{apply:oe,...se}=Z,le=await s$3(_,se),ce=t$1(K),fe=e$1(K);let me,pe;ce==="top"||ce==="bottom"?(me=ce,pe=fe===(await(ne.isRTL==null?void 0:ne.isRTL(ie.floating))?"start":"end")?"left":"right"):(pe=ce,me=fe==="end"?"top":"bottom");const ge=f$3(le.left,0),ye=f$3(le.right,0),Ee=f$3(le.top,0),_e=f$3(le.bottom,0),Se={availableHeight:te.floating.height-(["left","right"].includes(K)?2*(Ee!==0||_e!==0?Ee+_e:f$3(le.top,le.bottom)):le[me]),availableWidth:te.floating.width-(["top","bottom"].includes(K)?2*(ge!==0||ye!==0?ge+ye:f$3(le.left,le.right)):le[pe])},Re=await ne.getDimensions(ie.floating);oe==null||oe({..._,...Se});const Te=await ne.getDimensions(ie.floating);return Re.width!==Te.width||Re.height!==Te.height?{reset:{rects:!0}}:{}}}};function n$1(Z){return Z&&Z.document&&Z.location&&Z.alert&&Z.setInterval}function o$1(Z){if(Z==null)return window;if(!n$1(Z)){const _=Z.ownerDocument;return _&&_.defaultView||window}return Z}function i$2(Z){return o$1(Z).getComputedStyle(Z)}function r$1(Z){return n$1(Z)?"":Z?(Z.nodeName||"").toLowerCase():""}function l$1(){const Z=navigator.userAgentData;return Z!=null&&Z.brands?Z.brands.map(_=>_.brand+"/"+_.version).join(" "):navigator.userAgent}function c$2(Z){return Z instanceof o$1(Z).HTMLElement}function f$2(Z){return Z instanceof o$1(Z).Element}function s$2(Z){return typeof ShadowRoot>"u"?!1:Z instanceof o$1(Z).ShadowRoot||Z instanceof ShadowRoot}function u$2(Z){const{overflow:_,overflowX:K,overflowY:te}=i$2(Z);return/auto|scroll|overlay|hidden/.test(_+te+K)}function d$2(Z){return["table","td","th"].includes(r$1(Z))}function h$2(Z){const _=/firefox/i.test(l$1()),K=i$2(Z);return K.transform!=="none"||K.perspective!=="none"||K.contain==="paint"||["transform","perspective"].includes(K.willChange)||_&&K.willChange==="filter"||_&&!!K.filter&&K.filter!=="none"}function a$1(){return!/^((?!chrome|android).)*safari/i.test(l$1())}const g$2=Math.min,p$2=Math.max,m$2=Math.round;function w$1(Z,_,K){var te,ne,ie,oe;_===void 0&&(_=!1),K===void 0&&(K=!1);const se=Z.getBoundingClientRect();let le=1,ce=1;_&&c$2(Z)&&(le=Z.offsetWidth>0&&m$2(se.width)/Z.offsetWidth||1,ce=Z.offsetHeight>0&&m$2(se.height)/Z.offsetHeight||1);const fe=f$2(Z)?o$1(Z):window,me=!a$1()&&K,pe=(se.left+(me&&(te=(ne=fe.visualViewport)==null?void 0:ne.offsetLeft)!=null?te:0))/le,ge=(se.top+(me&&(ie=(oe=fe.visualViewport)==null?void 0:oe.offsetTop)!=null?ie:0))/ce,ye=se.width/le,Ee=se.height/ce;return{width:ye,height:Ee,top:ge,right:pe+ye,bottom:ge+Ee,left:pe,x:pe,y:ge}}function v$2(Z){return(_=Z,(_ instanceof o$1(_).Node?Z.ownerDocument:Z.document)||window.document).documentElement;var _}function y$2(Z){return f$2(Z)?{scrollLeft:Z.scrollLeft,scrollTop:Z.scrollTop}:{scrollLeft:Z.pageXOffset,scrollTop:Z.pageYOffset}}function x$1(Z){return w$1(v$2(Z)).left+y$2(Z).scrollLeft}function b$2(Z,_,K){const te=c$2(_),ne=v$2(_),ie=w$1(Z,te&&function(le){const ce=w$1(le);return m$2(ce.width)!==le.offsetWidth||m$2(ce.height)!==le.offsetHeight}(_),K==="fixed");let oe={scrollLeft:0,scrollTop:0};const se={x:0,y:0};if(te||!te&&K!=="fixed")if((r$1(_)!=="body"||u$2(ne))&&(oe=y$2(_)),c$2(_)){const le=w$1(_,!0);se.x=le.x+_.clientLeft,se.y=le.y+_.clientTop}else ne&&(se.x=x$1(ne));return{x:ie.left+oe.scrollLeft-se.x,y:ie.top+oe.scrollTop-se.y,width:ie.width,height:ie.height}}function L$1(Z){return r$1(Z)==="html"?Z:Z.assignedSlot||Z.parentNode||(s$2(Z)?Z.host:null)||v$2(Z)}function R(Z){return c$2(Z)&&getComputedStyle(Z).position!=="fixed"?Z.offsetParent:null}function T$1(Z){const _=o$1(Z);let K=R(Z);for(;K&&d$2(K)&&getComputedStyle(K).position==="static";)K=R(K);return K&&(r$1(K)==="html"||r$1(K)==="body"&&getComputedStyle(K).position==="static"&&!h$2(K))?_:K||function(te){let ne=L$1(te);for(s$2(ne)&&(ne=ne.host);c$2(ne)&&!["html","body"].includes(r$1(ne));){if(h$2(ne))return ne;ne=ne.parentNode}return null}(Z)||_}function W(Z){if(c$2(Z))return{width:Z.offsetWidth,height:Z.offsetHeight};const _=w$1(Z);return{width:_.width,height:_.height}}function E(Z){const _=L$1(Z);return["html","body","#document"].includes(r$1(_))?Z.ownerDocument.body:c$2(_)&&u$2(_)?_:E(_)}function H$1(Z,_){var K;_===void 0&&(_=[]);const te=E(Z),ne=te===((K=Z.ownerDocument)==null?void 0:K.body),ie=o$1(te),oe=ne?[ie].concat(ie.visualViewport||[],u$2(te)?te:[]):te,se=_.concat(oe);return ne?se:se.concat(H$1(oe))}function C(Z,_,K){return _==="viewport"?l$2(function(te,ne){const ie=o$1(te),oe=v$2(te),se=ie.visualViewport;let le=oe.clientWidth,ce=oe.clientHeight,fe=0,me=0;if(se){le=se.width,ce=se.height;const pe=a$1();(pe||!pe&&ne==="fixed")&&(fe=se.offsetLeft,me=se.offsetTop)}return{width:le,height:ce,x:fe,y:me}}(Z,K)):f$2(_)?function(te,ne){const ie=w$1(te,!1,ne==="fixed"),oe=ie.top+te.clientTop,se=ie.left+te.clientLeft;return{top:oe,left:se,x:se,y:oe,right:se+te.clientWidth,bottom:oe+te.clientHeight,width:te.clientWidth,height:te.clientHeight}}(_,K):l$2(function(te){var ne;const ie=v$2(te),oe=y$2(te),se=(ne=te.ownerDocument)==null?void 0:ne.body,le=p$2(ie.scrollWidth,ie.clientWidth,se?se.scrollWidth:0,se?se.clientWidth:0),ce=p$2(ie.scrollHeight,ie.clientHeight,se?se.scrollHeight:0,se?se.clientHeight:0);let fe=-oe.scrollLeft+x$1(te);const me=-oe.scrollTop;return i$2(se||ie).direction==="rtl"&&(fe+=p$2(ie.clientWidth,se?se.clientWidth:0)-le),{width:le,height:ce,x:fe,y:me}}(v$2(Z)))}function S$2(Z){const _=H$1(Z),K=["absolute","fixed"].includes(i$2(Z).position)&&c$2(Z)?T$1(Z):Z;return f$2(K)?_.filter(te=>f$2(te)&&function(ne,ie){const oe=ie.getRootNode==null?void 0:ie.getRootNode();if(ne.contains(ie))return!0;if(oe&&s$2(oe)){let se=ie;do{if(se&&ne===se)return!0;se=se.parentNode||se.host}while(se)}return!1}(te,K)&&r$1(te)!=="body"):[]}const D={getClippingRect:function(Z){let{element:_,boundary:K,rootBoundary:te,strategy:ne}=Z;const ie=[...K==="clippingAncestors"?S$2(_):[].concat(K),te],oe=ie[0],se=ie.reduce((le,ce)=>{const fe=C(_,ce,ne);return le.top=p$2(fe.top,le.top),le.right=g$2(fe.right,le.right),le.bottom=g$2(fe.bottom,le.bottom),le.left=p$2(fe.left,le.left),le},C(_,oe,ne));return{width:se.right-se.left,height:se.bottom-se.top,x:se.left,y:se.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(Z){let{rect:_,offsetParent:K,strategy:te}=Z;const ne=c$2(K),ie=v$2(K);if(K===ie)return _;let oe={scrollLeft:0,scrollTop:0};const se={x:0,y:0};if((ne||!ne&&te!=="fixed")&&((r$1(K)!=="body"||u$2(ie))&&(oe=y$2(K)),c$2(K))){const le=w$1(K,!0);se.x=le.x+K.clientLeft,se.y=le.y+K.clientTop}return{..._,x:_.x-oe.scrollLeft+se.x,y:_.y-oe.scrollTop+se.y}},isElement:f$2,getDimensions:W,getOffsetParent:T$1,getDocumentElement:v$2,getElementRects:Z=>{let{reference:_,floating:K,strategy:te}=Z;return{reference:b$2(_,T$1(K),te),floating:{...W(K),x:0,y:0}}},getClientRects:Z=>Array.from(Z.getClientRects()),isRTL:Z=>i$2(Z).direction==="rtl"};function N$1(Z,_,K,te){te===void 0&&(te={});const{ancestorScroll:ne=!0,ancestorResize:ie=!0,elementResize:oe=!0,animationFrame:se=!1}=te,le=ne&&!se,ce=ie&&!se,fe=le||ce?[...f$2(Z)?H$1(Z):[],...H$1(_)]:[];fe.forEach(ye=>{le&&ye.addEventListener("scroll",K,{passive:!0}),ce&&ye.addEventListener("resize",K)});let me,pe=null;if(oe){let ye=!0;pe=new ResizeObserver(()=>{ye||K(),ye=!1}),f$2(Z)&&!se&&pe.observe(Z),pe.observe(_)}let ge=se?w$1(Z):null;return se&&function ye(){const Ee=w$1(Z);!ge||Ee.x===ge.x&&Ee.y===ge.y&&Ee.width===ge.width&&Ee.height===ge.height||K(),ge=Ee,me=requestAnimationFrame(ye)}(),K(),()=>{var ye;fe.forEach(Ee=>{le&&Ee.removeEventListener("scroll",K),ce&&Ee.removeEventListener("resize",K)}),(ye=pe)==null||ye.disconnect(),pe=null,se&&cancelAnimationFrame(me)}}const z=(Z,_,K)=>o$2(Z,_,{platform:D,...K});var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(Z,_){if(Z===_)return!0;if(typeof Z!=typeof _)return!1;if(typeof Z=="function"&&Z.toString()===_.toString())return!0;let K,te,ne;if(Z&&_&&typeof Z=="object"){if(Array.isArray(Z)){if(K=Z.length,K!=_.length)return!1;for(te=K;te--!==0;)if(!deepEqual(Z[te],_[te]))return!1;return!0}if(ne=Object.keys(Z),K=ne.length,K!==Object.keys(_).length)return!1;for(te=K;te--!==0;)if(!Object.prototype.hasOwnProperty.call(_,ne[te]))return!1;for(te=K;te--!==0;){const ie=ne[te];if(!(ie==="_owner"&&Z.$$typeof)&&!deepEqual(Z[ie],_[ie]))return!1}return!0}return Z!==Z&&_!==_}function useLatestRef(Z){const _=reactExports.useRef(Z);return index(()=>{_.current=Z}),_}function useFloating(Z){let{middleware:_,placement:K="bottom",strategy:te="absolute",whileElementsMounted:ne}=Z===void 0?{}:Z;const ie=reactExports.useRef(null),oe=reactExports.useRef(null),se=useLatestRef(ne),le=reactExports.useRef(null),[ce,fe]=reactExports.useState({x:null,y:null,strategy:te,placement:K,middlewareData:{}}),[me,pe]=reactExports.useState(_);deepEqual(me==null?void 0:me.map(Te=>{let{options:Ae}=Te;return Ae}),_==null?void 0:_.map(Te=>{let{options:Ae}=Te;return Ae}))||pe(_);const ge=reactExports.useCallback(()=>{!ie.current||!oe.current||z(ie.current,oe.current,{middleware:me,placement:K,strategy:te}).then(Te=>{ye.current&&reactDomExports.flushSync(()=>{fe(Te)})})},[me,K,te]);index(()=>{ye.current&&ge()},[ge]);const ye=reactExports.useRef(!1);index(()=>(ye.current=!0,()=>{ye.current=!1}),[]);const Ee=reactExports.useCallback(()=>{if(typeof le.current=="function"&&(le.current(),le.current=null),ie.current&&oe.current)if(se.current){const Te=se.current(ie.current,oe.current,ge);le.current=Te}else ge()},[ge,se]),_e=reactExports.useCallback(Te=>{ie.current=Te,Ee()},[Ee]),Se=reactExports.useCallback(Te=>{oe.current=Te,Ee()},[Ee]),Re=reactExports.useMemo(()=>({reference:ie,floating:oe}),[]);return reactExports.useMemo(()=>({...ce,update:ge,refs:Re,reference:_e,floating:Se}),[ce,ge,Re,_e,Se])}const arrow=Z=>{const{element:_,padding:K}=Z;function te(ne){return Object.prototype.hasOwnProperty.call(ne,"current")}return{name:"arrow",options:Z,fn(ne){return te(_)?_.current!=null?m$3({element:_.current,padding:K}).fn(ne):{}:_?m$3({element:_,padding:K}).fn(ne):{}}}},$7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((Z,_)=>{const{children:K,width:te=10,height:ne=5,...ie}=Z;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends$1({},ie,{ref:_,width:te,height:ne,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),Z.asChild?K:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(Z){const[_,K]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(Z){K({width:Z.offsetWidth,height:Z.offsetHeight});const te=new ResizeObserver(ne=>{if(!Array.isArray(ne)||!ne.length)return;const ie=ne[0];let oe,se;if("borderBoxSize"in ie){const le=ie.borderBoxSize,ce=Array.isArray(le)?le[0]:le;oe=ce.inlineSize,se=ce.blockSize}else oe=Z.offsetWidth,se=Z.offsetHeight;K({width:oe,height:se})});return te.observe(Z,{box:"border-box"}),()=>te.unobserve(Z)}else K(void 0)},[Z]),_}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=Z=>{const{__scopePopper:_,children:K}=Z,[te,ne]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:_,anchor:te,onAnchorChange:ne},K)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((Z,_)=>{const{__scopePopper:K,virtualRef:te,...ne}=Z,ie=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,K),oe=reactExports.useRef(null),se=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,oe);return reactExports.useEffect(()=>{ie.onAnchorChange((te==null?void 0:te.current)||oe.current)}),te?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},ne,{ref:se}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),[$cf1ac5d9fe0e8206$var$PositionContextProvider,$cf1ac5d9fe0e8206$var$usePositionContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,{hasParent:!1,positionUpdateFns:new Set}),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((Z,_)=>{var K,te,ne,ie,oe,se,le,ce;const{__scopePopper:fe,side:me="bottom",sideOffset:pe=0,align:ge="center",alignOffset:ye=0,arrowPadding:Ee=0,collisionBoundary:_e=[],collisionPadding:Se=0,sticky:Re="partial",hideWhenDetached:Te=!1,avoidCollisions:Ae=!0,onPlaced:Fe,...$e}=Z,ke=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,fe),[ze,Ue]=reactExports.useState(null),Oe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,He=>Ue(He)),[Ve,Ye]=reactExports.useState(null),Ke=$db6c3485150b8e66$export$1ab7ae714698c4b8(Ve),ot=(K=Ke==null?void 0:Ke.width)!==null&&K!==void 0?K:0,ut=(te=Ke==null?void 0:Ke.height)!==null&&te!==void 0?te:0,ct=me+(ge!=="center"?"-"+ge:""),gt=typeof Se=="number"?Se:{top:0,right:0,bottom:0,left:0,...Se},je=Array.isArray(_e)?_e:[_e],rt=je.length>0,Qe={padding:gt,boundary:je.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:rt},{reference:qe,floating:lt,strategy:Et,x:ht,y:dt,placement:Mt,middlewareData:Pt,update:Wt}=useFloating({strategy:"fixed",placement:ct,whileElementsMounted:N$1,middleware:[$cf1ac5d9fe0e8206$var$anchorCssProperties(),T$2({mainAxis:pe+ut,alignmentAxis:ye}),Ae?D$1({mainAxis:!0,crossAxis:!1,limiter:Re==="partial"?L$2():void 0,...Qe}):void 0,Ve?arrow({element:Ve,padding:Ee}):void 0,Ae?b$3({...Qe}):void 0,k$2({...Qe,apply:({elements:He,availableWidth:tt,availableHeight:mt})=>{He.floating.style.setProperty("--radix-popper-available-width",`${tt}px`),He.floating.style.setProperty("--radix-popper-available-height",`${mt}px`)}}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:ot,arrowHeight:ut}),Te?P({strategy:"referenceHidden"}):void 0].filter($cf1ac5d9fe0e8206$var$isDefined)});$9f79659886946c16$export$e5c5a5f917a5871c(()=>{qe(ke.anchor)},[qe,ke.anchor]);const Qt=ht!==null&&dt!==null,[sn,hn]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Mt),Dt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Fe);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Qt&&(Dt==null||Dt())},[Qt,Dt]);const Vt=(ne=Pt.arrow)===null||ne===void 0?void 0:ne.x,Ze=(ie=Pt.arrow)===null||ie===void 0?void 0:ie.y,on=((oe=Pt.arrow)===null||oe===void 0?void 0:oe.centerOffset)!==0,[Xt,an]=reactExports.useState();$9f79659886946c16$export$e5c5a5f917a5871c(()=>{ze&&an(window.getComputedStyle(ze).zIndex)},[ze]);const{hasParent:Yt,positionUpdateFns:mn}=$cf1ac5d9fe0e8206$var$usePositionContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,fe),Jt=!Yt;reactExports.useLayoutEffect(()=>{if(!Jt)return mn.add(Wt),()=>{mn.delete(Wt)}},[Jt,mn,Wt]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Jt&&Qt&&Array.from(mn).reverse().forEach(He=>requestAnimationFrame(He))},[Jt,Qt,mn]);const Xe={"data-side":sn,"data-align":hn,...$e,ref:Oe,style:{...$e.style,animation:Qt?void 0:"none",opacity:(se=Pt.hide)!==null&&se!==void 0&&se.referenceHidden?0:void 0}};return reactExports.createElement("div",{ref:lt,"data-radix-popper-content-wrapper":"",style:{position:Et,left:0,top:0,transform:Qt?`translate3d(${Math.round(ht)}px, ${Math.round(dt)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Xt,"--radix-popper-transform-origin":[(le=Pt.transformOrigin)===null||le===void 0?void 0:le.x,(ce=Pt.transformOrigin)===null||ce===void 0?void 0:ce.y].join(" ")},dir:Z.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:fe,placedSide:sn,onArrowChange:Ye,arrowX:Vt,arrowY:Ze,shouldHideArrow:on},Jt?reactExports.createElement($cf1ac5d9fe0e8206$var$PositionContextProvider,{scope:fe,hasParent:!0,positionUpdateFns:mn},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,Xe)):reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,Xe)))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function(_,K){const{__scopePopper:te,...ne}=_,ie=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,te),oe=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[ie.placedSide];return reactExports.createElement("span",{ref:ie.onArrowChange,style:{position:"absolute",left:ie.arrowX,top:ie.arrowY,[oe]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ie.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ie.placedSide],visibility:ie.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends$1({},ne,{ref:K,style:{...ne.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isDefined(Z){return Z!==void 0}function $cf1ac5d9fe0e8206$var$isNotNull(Z){return Z!==null}const $cf1ac5d9fe0e8206$var$anchorCssProperties=()=>({name:"anchorCssProperties",fn(Z){const{rects:_,elements:K}=Z,{width:te,height:ne}=_.reference;return K.floating.style.setProperty("--radix-popper-anchor-width",`${te}px`),K.floating.style.setProperty("--radix-popper-anchor-height",`${ne}px`),{}}}),$cf1ac5d9fe0e8206$var$transformOrigin=Z=>({name:"transformOrigin",options:Z,fn(_){var K,te,ne,ie,oe;const{placement:se,rects:le,middlewareData:ce}=_,me=((K=ce.arrow)===null||K===void 0?void 0:K.centerOffset)!==0,pe=me?0:Z.arrowWidth,ge=me?0:Z.arrowHeight,[ye,Ee]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(se),_e={start:"0%",center:"50%",end:"100%"}[Ee],Se=((te=(ne=ce.arrow)===null||ne===void 0?void 0:ne.x)!==null&&te!==void 0?te:0)+pe/2,Re=((ie=(oe=ce.arrow)===null||oe===void 0?void 0:oe.y)!==null&&ie!==void 0?ie:0)+ge/2;let Te="",Ae="";return ye==="bottom"?(Te=me?_e:`${Se}px`,Ae=`${-ge}px`):ye==="top"?(Te=me?_e:`${Se}px`,Ae=`${le.floating.height+ge}px`):ye==="right"?(Te=`${-ge}px`,Ae=me?_e:`${Re}px`):ye==="left"&&(Te=`${le.floating.width+ge}px`,Ae=me?_e:`${Re}px`),{data:{x:Te,y:Ae}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Z){const[_,K="center"]=Z.split("-");return[_,K]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$cf1ac5d9fe0e8206$export$21b07c8f274aebd5=$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0;function $fe963b355347cc68$export$3e6543de14f8614f(Z,_){return reactExports.useReducer((K,te)=>{const ne=_[K][te];return ne??K},Z)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=Z=>{const{present:_,children:K}=Z,te=$921a889cee6df7e8$var$usePresence(_),ne=typeof K=="function"?K({present:te.isPresent}):reactExports.Children.only(K),ie=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(te.ref,ne.ref);return typeof K=="function"||te.isPresent?reactExports.cloneElement(ne,{ref:ie}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(Z){const[_,K]=reactExports.useState(),te=reactExports.useRef({}),ne=reactExports.useRef(Z),ie=reactExports.useRef("none"),oe=Z?"mounted":"unmounted",[se,le]=$fe963b355347cc68$export$3e6543de14f8614f(oe,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const ce=$921a889cee6df7e8$var$getAnimationName(te.current);ie.current=se==="mounted"?ce:"none"},[se]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const ce=te.current,fe=ne.current;if(fe!==Z){const pe=ie.current,ge=$921a889cee6df7e8$var$getAnimationName(ce);Z?le("MOUNT"):ge==="none"||(ce==null?void 0:ce.display)==="none"?le("UNMOUNT"):le(fe&&pe!==ge?"ANIMATION_OUT":"UNMOUNT"),ne.current=Z}},[Z,le]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(_){const ce=me=>{const ge=$921a889cee6df7e8$var$getAnimationName(te.current).includes(me.animationName);me.target===_&&ge&&reactDomExports.flushSync(()=>le("ANIMATION_END"))},fe=me=>{me.target===_&&(ie.current=$921a889cee6df7e8$var$getAnimationName(te.current))};return _.addEventListener("animationstart",fe),_.addEventListener("animationcancel",ce),_.addEventListener("animationend",ce),()=>{_.removeEventListener("animationstart",fe),_.removeEventListener("animationcancel",ce),_.removeEventListener("animationend",ce)}}else le("ANIMATION_END")},[_,le]),{isPresent:["mounted","unmountSuspended"].includes(se),ref:reactExports.useCallback(ce=>{ce&&(te.current=getComputedStyle(ce)),K(ce)},[])}}function $921a889cee6df7e8$var$getAnimationName(Z){return(Z==null?void 0:Z.animationName)||"none"}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:Z,defaultProp:_,onChange:K=()=>{}}){const[te,ne]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:_,onChange:K}),ie=Z!==void 0,oe=ie?Z:te,se=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(K),le=reactExports.useCallback(ce=>{if(ie){const me=typeof ce=="function"?ce(Z):ce;me!==Z&&se(me)}else ne(ce)},[ie,Z,ne,se]);return[oe,le]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:Z,onChange:_}){const K=reactExports.useState(Z),[te]=K,ne=reactExports.useRef(te),ie=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_);return reactExports.useEffect(()=>{ne.current!==te&&(ie(te),ne.current=te)},[te,ne,ie]),K}const $ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((Z,_)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$1({},Z,{ref:_,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...Z.style}}))),$ea1ef594cf570d83$export$be92b6f5f03c0fe9=$ea1ef594cf570d83$export$439d29a4e110a164,[$a093c7e1ec25a057$var$createTooltipContext,$a093c7e1ec25a057$export$1c540a2224f0d865]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Tooltip",[$cf1ac5d9fe0e8206$export$722aac194ae923]),$a093c7e1ec25a057$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$a093c7e1ec25a057$var$PROVIDER_NAME="TooltipProvider",$a093c7e1ec25a057$var$TOOLTIP_OPEN="tooltip.open",[$a093c7e1ec25a057$var$TooltipProviderContextProvider,$a093c7e1ec25a057$var$useTooltipProviderContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME),$a093c7e1ec25a057$var$TOOLTIP_NAME="Tooltip",[$a093c7e1ec25a057$var$TooltipContextProvider,$a093c7e1ec25a057$var$useTooltipContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME),$a093c7e1ec25a057$export$28c660c63b792dea=Z=>{const{__scopeTooltip:_,children:K,open:te,defaultOpen:ne=!1,onOpenChange:ie,disableHoverableContent:oe,delayDuration:se}=Z,le=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME,Z.__scopeTooltip),ce=$a093c7e1ec25a057$var$usePopperScope(_),[fe,me]=reactExports.useState(null),pe=$1746a345f3d73bb7$export$f680877a34711e37(),ge=reactExports.useRef(0),ye=oe??le.disableHoverableContent,Ee=se??le.delayDuration,_e=reactExports.useRef(!1),[Se=!1,Re]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:te,defaultProp:ne,onChange:ke=>{ke?(le.onOpen(),document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN))):le.onClose(),ie==null||ie(ke)}}),Te=reactExports.useMemo(()=>Se?_e.current?"delayed-open":"instant-open":"closed",[Se]),Ae=reactExports.useCallback(()=>{window.clearTimeout(ge.current),_e.current=!1,Re(!0)},[Re]),Fe=reactExports.useCallback(()=>{window.clearTimeout(ge.current),Re(!1)},[Re]),$e=reactExports.useCallback(()=>{window.clearTimeout(ge.current),ge.current=window.setTimeout(()=>{_e.current=!0,Re(!0)},Ee)},[Ee,Re]);return reactExports.useEffect(()=>()=>window.clearTimeout(ge.current),[]),reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,ce,reactExports.createElement($a093c7e1ec25a057$var$TooltipContextProvider,{scope:_,contentId:pe,open:Se,stateAttribute:Te,trigger:fe,onTriggerChange:me,onTriggerEnter:reactExports.useCallback(()=>{le.isOpenDelayed?$e():Ae()},[le.isOpenDelayed,$e,Ae]),onTriggerLeave:reactExports.useCallback(()=>{ye?Fe():window.clearTimeout(ge.current)},[Fe,ye]),onOpen:Ae,onClose:Fe,disableHoverableContent:ye},K))},$a093c7e1ec25a057$var$TRIGGER_NAME="TooltipTrigger",$a093c7e1ec25a057$export$8c610744efcf8a1d=reactExports.forwardRef((Z,_)=>{const{__scopeTooltip:K,...te}=Z,ne=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME,K),ie=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME,K),oe=$a093c7e1ec25a057$var$usePopperScope(K),se=reactExports.useRef(null),le=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,se,ne.onTriggerChange),ce=reactExports.useRef(!1),fe=reactExports.useRef(!1),me=reactExports.useCallback(()=>ce.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",me),[me]),reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends$1({asChild:!0},oe),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$1({"aria-describedby":ne.open?ne.contentId:void 0,"data-state":ne.stateAttribute},te,{ref:le,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onPointerMove,pe=>{pe.pointerType!=="touch"&&!fe.current&&!ie.isPointerInTransitRef.current&&(ne.onTriggerEnter(),fe.current=!0)}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onPointerLeave,()=>{ne.onTriggerLeave(),fe.current=!1}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onPointerDown,()=>{ce.current=!0,document.addEventListener("pointerup",me,{once:!0})}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onFocus,()=>{ce.current||ne.onOpen()}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onBlur,ne.onClose),onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Z.onClick,ne.onClose)})))}),$a093c7e1ec25a057$var$PORTAL_NAME="TooltipPortal",[$a093c7e1ec25a057$var$PortalProvider,$a093c7e1ec25a057$var$usePortalContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,{forceMount:void 0}),$a093c7e1ec25a057$var$CONTENT_NAME="TooltipContent",$a093c7e1ec25a057$export$e9003e2be37ec060=reactExports.forwardRef((Z,_)=>{const K=$a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME,Z.__scopeTooltip),{forceMount:te=K.forceMount,side:ne="top",...ie}=Z,oe=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,Z.__scopeTooltip);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:te||oe.open},oe.disableHoverableContent?reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$1({side:ne},ie,{ref:_})):reactExports.createElement($a093c7e1ec25a057$var$TooltipContentHoverable,_extends$1({side:ne},ie,{ref:_})))}),$a093c7e1ec25a057$var$TooltipContentHoverable=reactExports.forwardRef((Z,_)=>{const K=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,Z.__scopeTooltip),te=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME,Z.__scopeTooltip),ne=reactExports.useRef(null),ie=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,ne),[oe,se]=reactExports.useState(null),{trigger:le,onClose:ce}=K,fe=ne.current,{onPointerInTransitChange:me}=te,pe=reactExports.useCallback(()=>{se(null),me(!1)},[me]),ge=reactExports.useCallback((ye,Ee)=>{const _e=ye.currentTarget,Se={x:ye.clientX,y:ye.clientY},Re=$a093c7e1ec25a057$var$getExitSideFromRect(Se,_e.getBoundingClientRect()),Te=Re==="right"||Re==="bottom"?-5:5,Fe=Re==="right"||Re==="left"?{x:ye.clientX+Te,y:ye.clientY}:{x:ye.clientX,y:ye.clientY+Te},$e=$a093c7e1ec25a057$var$getPointsFromRect(Ee.getBoundingClientRect()),ke=$a093c7e1ec25a057$var$getHull([Fe,...$e]);se(ke),me(!0)},[me]);return reactExports.useEffect(()=>()=>pe(),[pe]),reactExports.useEffect(()=>{if(le&&fe){const ye=_e=>ge(_e,fe),Ee=_e=>ge(_e,le);return le.addEventListener("pointerleave",ye),fe.addEventListener("pointerleave",Ee),()=>{le.removeEventListener("pointerleave",ye),fe.removeEventListener("pointerleave",Ee)}}},[le,fe,ge,pe]),reactExports.useEffect(()=>{if(oe){const ye=Ee=>{const _e=Ee.target,Se={x:Ee.clientX,y:Ee.clientY},Re=(le==null?void 0:le.contains(_e))||(fe==null?void 0:fe.contains(_e)),Te=!$a093c7e1ec25a057$var$isPointInPolygon(Se,oe);Re?pe():Te&&(pe(),ce())};return document.addEventListener("pointermove",ye),()=>document.removeEventListener("pointermove",ye)}},[le,fe,oe,ce,pe]),reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$1({},Z,{ref:ie}))}),[$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,$a093c7e1ec25a057$var$useVisuallyHiddenContentContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME,{isInside:!1}),$a093c7e1ec25a057$var$TooltipContentImpl=reactExports.forwardRef((Z,_)=>{const{__scopeTooltip:K,children:te,"aria-label":ne,onEscapeKeyDown:ie,onPointerDownOutside:oe,...se}=Z,le=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,K),ce=$a093c7e1ec25a057$var$usePopperScope(K),{onClose:fe}=le;return reactExports.useEffect(()=>(document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,fe),()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,fe)),[fe]),reactExports.useEffect(()=>{if(le.trigger){const me=pe=>{const ge=pe.target;ge!=null&&ge.contains(le.trigger)&&fe()};return window.addEventListener("scroll",me,{capture:!0}),()=>window.removeEventListener("scroll",me,{capture:!0})}},[le.trigger,fe]),reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:ie,onPointerDownOutside:oe,onFocusOutside:me=>me.preventDefault(),onDismiss:fe},reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$1({"data-state":le.stateAttribute},ce,se,{ref:_,style:{...se.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),reactExports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,te),reactExports.createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,{scope:K,isInside:!0},reactExports.createElement($ea1ef594cf570d83$export$be92b6f5f03c0fe9,{id:le.contentId,role:"tooltip"},ne||te))))}),$a093c7e1ec25a057$var$ARROW_NAME="TooltipArrow",$a093c7e1ec25a057$export$c27ee0ad710f7559=reactExports.forwardRef((Z,_)=>{const{__scopeTooltip:K,...te}=Z,ne=$a093c7e1ec25a057$var$usePopperScope(K);return $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME,K).isInside?null:reactExports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends$1({},ne,te,{ref:_}))});function $a093c7e1ec25a057$var$getExitSideFromRect(Z,_){const K=Math.abs(_.top-Z.y),te=Math.abs(_.bottom-Z.y),ne=Math.abs(_.right-Z.x),ie=Math.abs(_.left-Z.x);switch(Math.min(K,te,ne,ie)){case ie:return"left";case ne:return"right";case K:return"top";case te:return"bottom";default:return null}}function $a093c7e1ec25a057$var$getPointsFromRect(Z){const{top:_,right:K,bottom:te,left:ne}=Z;return[{x:ne,y:_},{x:K,y:_},{x:K,y:te},{x:ne,y:te}]}function $a093c7e1ec25a057$var$isPointInPolygon(Z,_){const{x:K,y:te}=Z;let ne=!1;for(let ie=0,oe=_.length-1;ie<_.length;oe=ie++){const se=_[ie].x,le=_[ie].y,ce=_[oe].x,fe=_[oe].y;le>te!=fe>te&&K<(ce-se)*(te-le)/(fe-le)+se&&(ne=!ne)}return ne}function $a093c7e1ec25a057$var$getHull(Z){const _=Z.slice();return _.sort((K,te)=>K.x<te.x?-1:K.x>te.x?1:K.y<te.y?-1:K.y>te.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(_)}function $a093c7e1ec25a057$var$getHullPresorted(Z){if(Z.length<=1)return Z.slice();const _=[];for(let te=0;te<Z.length;te++){const ne=Z[te];for(;_.length>=2;){const ie=_[_.length-1],oe=_[_.length-2];if((ie.x-oe.x)*(ne.y-oe.y)>=(ie.y-oe.y)*(ne.x-oe.x))_.pop();else break}_.push(ne)}_.pop();const K=[];for(let te=Z.length-1;te>=0;te--){const ne=Z[te];for(;K.length>=2;){const ie=K[K.length-1],oe=K[K.length-2];if((ie.x-oe.x)*(ne.y-oe.y)>=(ie.y-oe.y)*(ne.x-oe.x))K.pop();else break}K.push(ne)}return K.pop(),_.length===1&&K.length===1&&_[0].x===K[0].x&&_[0].y===K[0].y?_:_.concat(K)}const $a093c7e1ec25a057$export$be92b6f5f03c0fe9=$a093c7e1ec25a057$export$28c660c63b792dea,$a093c7e1ec25a057$export$41fb9f06171c75f4=$a093c7e1ec25a057$export$8c610744efcf8a1d,$a093c7e1ec25a057$export$7c6e2c02157bb7d2=$a093c7e1ec25a057$export$e9003e2be37ec060,$a093c7e1ec25a057$export$21b07c8f274aebd5=$a093c7e1ec25a057$export$c27ee0ad710f7559;function _objectWithoutPropertiesLoose$4(Z,_){if(Z==null)return{};var K={},te=Object.keys(Z),ne,ie;for(ie=0;ie<te.length;ie++)ne=te[ie],!(_.indexOf(ne)>=0)&&(K[ne]=Z[ne]);return K}function _objectWithoutProperties$1(Z,_){if(Z==null)return{};var K=_objectWithoutPropertiesLoose$4(Z,_),te,ne;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(Z);for(ne=0;ne<ie.length;ne++)te=ie[ne],!(_.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(Z,te)&&(K[te]=Z[te])}return K}let LevaErrors;(function(Z){Z[Z.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",Z[Z.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",Z[Z.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",Z[Z.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",Z[Z.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",Z[Z.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",Z[Z.THEME_ERROR=6]="THEME_ERROR",Z[Z.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",Z[Z.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",Z[Z.EMPTY_KEY=9]="EMPTY_KEY"})(LevaErrors||(LevaErrors={}));const ErrorList={[LevaErrors.UNSUPPORTED_INPUT]:(Z,_)=>[`An input with type \`${Z}\` input was found at path \`${_}\` but it's not supported yet.`],[LevaErrors.NO_COMPONENT_FOR_TYPE]:(Z,_)=>[`Type \`${Z}\` found at path \`${_}\` can't be displayed in panel because no component supports it yet.`],[LevaErrors.UNKNOWN_INPUT]:(Z,_)=>[`input at path \`${Z}\` is not recognized.`,_],[LevaErrors.DUPLICATE_KEYS]:(Z,_,K)=>[`Key \`${Z}\` of path \`${_}\` already exists at path \`${K}\`. Even nested keys need to be unique. Rename one of the keys.`],[LevaErrors.ALREADY_REGISTERED_TYPE]:Z=>[`Type ${Z} has already been registered. You can't register a component with the same type.`],[LevaErrors.CLIPBOARD_ERROR]:Z=>["Error copying the value",Z],[LevaErrors.THEME_ERROR]:(Z,_)=>[`Error accessing the theme \`${Z}.${_}\` value.`],[LevaErrors.PATH_DOESNT_EXIST]:Z=>[`Error getting the value at path \`${Z}\`. There is probably an error in your \`render\` function.`],[LevaErrors.PATH_DOESNT_EXIST]:Z=>[`Error accessing the value at path \`${Z}\``],[LevaErrors.INPUT_TYPE_OVERRIDE]:(Z,_,K)=>[`Input at path \`${Z}\` already exists with type: \`${_}\`. Its type cannot be overridden with type \`${K}\`.`],[LevaErrors.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function _log(Z,_,...K){const[te,...ne]=ErrorList[_](...K);console[Z]("LEVA: "+te,...ne)}const warn=_log.bind(null,"warn"),log=_log.bind(null,"log"),_excluded$a=["value"],_excluded2$4=["schema"],_excluded3$1=["value"],Schemas=[],Plugins={};function getValueType(Z){let{value:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$a);for(let te of Schemas){const ne=te(_,K);if(ne)return ne}}function register(Z,_){let{schema:K}=_,te=_objectWithoutProperties$1(_,_excluded2$4);if(Z in Plugins){warn(LevaErrors.ALREADY_REGISTERED_TYPE,Z);return}Schemas.push((ne,ie)=>K(ne,ie)&&Z),Plugins[Z]=te}function createInternalPlugin(Z){return Z}function normalize$3$1(Z,_,K,te){const{normalize:ne}=Plugins[Z];if(ne)return ne(_,K,te);if(typeof _!="object"||!("value"in _))return{value:_};const{value:ie}=_,oe=_objectWithoutProperties$1(_,_excluded3$1);return{value:ie,settings:oe}}function sanitize$4(Z,_,K,te,ne,ie){const{sanitize:oe}=Plugins[Z];return oe?oe(_,K,te,ne,ie):_}function format$2(Z,_,K){const{format:te}=Plugins[Z];return te?te(_,K):_}function _defineProperty$2(Z,_,K){return _ in Z?Object.defineProperty(Z,_,{value:K,enumerable:!0,configurable:!0,writable:!0}):Z[_]=K,Z}function ownKeys$2(Z,_){var K=Object.keys(Z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Z);_&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(Z,ne).enumerable})),K.push.apply(K,te)}return K}function _objectSpread2(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$2(Object(K),!0).forEach(function(te){_defineProperty$2(Z,te,K[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):ownKeys$2(Object(K)).forEach(function(te){Object.defineProperty(Z,te,Object.getOwnPropertyDescriptor(K,te))})}return Z}const clamp$1=(Z,_,K)=>Z>K?K:Z<_?_:Z,parseNumber=Z=>{if(Z===""||typeof Z=="number")return Z;try{const _=evaluate(Z);if(!isNaN(_))return _}catch{}return parseFloat(Z)},log10=Math.log(10);function getStep(Z){let _=Math.abs(+String(Z).replace(".",""));if(_===0)return .01;for(;_!==0&&_%10===0;)_/=10;const K=Math.floor(Math.log(_)/log10)+1,te=Math.floor(Math.log10(Math.abs(Z))),ne=Math.pow(10,te-K);return Math.max(ne,.001)}const range=(Z,_,K)=>K===_?0:(clamp$1(Z,_,K)-_)/(K-_),invertedRange=(Z,_,K)=>Z*(K-_)+_,getUid=()=>"_"+Math.random().toString(36).substr(2,9),parens=/\(([0-9+\-*/^ .]+)\)/,exp=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,mul=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,div=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,add=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,sub=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function evaluate(Z){if(isNaN(Number(Z)))if(parens.test(Z)){const _=Z.replace(parens,(K,te)=>String(evaluate(te)));return evaluate(_)}else if(exp.test(Z)){const _=Z.replace(exp,(K,te,ne)=>String(Math.pow(Number(te),Number(ne))));return evaluate(_)}else if(mul.test(Z)){const _=Z.replace(mul,(K,te,ne)=>String(Number(te)*Number(ne)));return evaluate(_)}else if(div.test(Z)){const _=Z.replace(div,(K,te,ne)=>{if(ne!=0)return String(Number(te)/Number(ne));throw new Error("Division by zero")});return evaluate(_)}else if(add.test(Z)){const _=Z.replace(add,(K,te,ne)=>String(Number(te)+Number(ne)));return evaluate(_)}else if(sub.test(Z)){const _=Z.replace(sub,(K,te,ne)=>String(Number(te)-Number(ne)));return evaluate(_)}else return Number(Z);return Number(Z)}function pick(Z,_){return _.reduce((K,te)=>(Z&&Z.hasOwnProperty(te)&&(K[te]=Z[te]),K),{})}function omit(Z,_){const K=_objectSpread2({},Z);return _.forEach(te=>te in Z&&delete K[te]),K}function mapArrayToKeys(Z,_){return Z.reduce((K,te,ne)=>Object.assign(K,{[_[ne]]:te}),{})}function isObject$1(Z){return Object.prototype.toString.call(Z)==="[object Object]"}const isEmptyObject=Z=>isObject$1(Z)&&Object.keys(Z).length===0;let SpecialInputs;(function(Z){Z.BUTTON="BUTTON",Z.BUTTON_GROUP="BUTTON_GROUP",Z.MONITOR="MONITOR",Z.FOLDER="FOLDER"})(SpecialInputs||(SpecialInputs={}));let LevaInputs;(function(Z){Z.SELECT="SELECT",Z.IMAGE="IMAGE",Z.NUMBER="NUMBER",Z.COLOR="COLOR",Z.STRING="STRING",Z.BOOLEAN="BOOLEAN",Z.INTERVAL="INTERVAL",Z.VECTOR3D="VECTOR3D",Z.VECTOR2D="VECTOR2D"})(LevaInputs||(LevaInputs={}));const _excluded$9=["type","__customInput"],_excluded2$3=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],_excluded3$2=["type"];function parseOptions(Z,_,K={},te){var ne,ie;if(typeof Z!="object"||Array.isArray(Z))return{type:te,input:Z,options:_objectSpread2({key:_,label:_,optional:!1,disabled:!1,order:0},K)};if("__customInput"in Z){const{type:Fe,__customInput:$e}=Z,ke=_objectWithoutProperties$1(Z,_excluded$9);return parseOptions($e,_,ke,Fe)}const{render:oe,label:se,optional:le,order:ce=0,disabled:fe,hint:me,onChange:pe,onEditStart:ge,onEditEnd:ye,transient:Ee}=Z,_e=_objectWithoutProperties$1(Z,_excluded2$3),Se=_objectSpread2({render:oe,key:_,label:se??_,hint:me,transient:Ee??!!pe,onEditStart:ge,onEditEnd:ye,disabled:fe,optional:le,order:ce},K);let{type:Re}=_e,Te=_objectWithoutProperties$1(_e,_excluded3$2);if(Re=te??Re,Re in SpecialInputs)return{type:Re,input:Te,options:Se};let Ae;return te&&isObject$1(Te)&&"value"in Te?Ae=Te.value:Ae=isEmptyObject(Te)?void 0:Te,{type:Re,input:Ae,options:_objectSpread2(_objectSpread2({},Se),{},{onChange:pe,optional:(ne=Se.optional)!==null&&ne!==void 0?ne:!1,disabled:(ie=Se.disabled)!==null&&ie!==void 0?ie:!1})}}function normalizeInput(Z,_,K,te){const ne=parseOptions(Z,_),{type:ie,input:oe,options:se}=ne;if(ie)return ie in SpecialInputs?ne:{type:ie,input:normalize$3$1(ie,oe,K,te),options:se};let le=getValueType(oe);return le?{type:le,input:normalize$3$1(le,oe,K,te),options:se}:(le=getValueType({value:oe}),le?{type:le,input:normalize$3$1(le,{value:oe},K,te),options:se}:!1)}function updateInput(Z,_,K,te,ne){const{value:ie,type:oe,settings:se}=Z;Z.value=sanitizeValue({type:oe,value:ie,settings:se},_,K,te),Z.fromPanel=ne}const ValueError=function(_,K,te){this.type="LEVA_ERROR",this.message="LEVA: "+_,this.previousValue=K,this.error=te};function sanitizeValue({type:Z,value:_,settings:K},te,ne,ie){const oe=Z!=="SELECT"&&typeof te=="function"?te(_):te;let se;try{se=sanitize$4(Z,oe,K,_,ne,ie)}catch(le){throw new ValueError(`The value \`${te}\` did not result in a correct value.`,_,le)}return dequal(se,_)?_:se}const debounce=(Z,_,K=!1)=>{let te=0;return function(){const ne=arguments,ie=K&&!te,oe=()=>Z.apply(this,ne);window.clearTimeout(te),te=window.setTimeout(oe,_),ie&&oe()}},multiplyStep=Z=>Z.shiftKey?5:Z.altKey?1/5:1;function render(Z,_){const K=console.error;console.error=()=>{},ReactDOM.render(Z,_),console.error=K}const _excluded$8$1=["value"],_excluded2$2$1=["min","max"],schema$3=Z=>{if(typeof Z=="number")return!0;if(typeof Z=="string"){const _=parseFloat(Z);return isNaN(_)?!1:Z.substring((""+_).length).trim().length<4}return!1},sanitize$3=(Z,{min:_=-1/0,max:K=1/0,suffix:te})=>{const ne=parseFloat(Z);if(Z===""||isNaN(ne))throw Error("Invalid number");const ie=clamp$1(ne,_,K);return te?ie+te:ie},format$1$1=(Z,{pad:_=0,suffix:K})=>{const te=parseFloat(Z).toFixed(_);return K?te+K:te},normalize$2$1=Z=>{let{value:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$8$1);const{min:te=-1/0,max:ne=1/0}=K,ie=_objectWithoutProperties$1(K,_excluded2$2$1);let oe=parseFloat(_);const se=typeof _=="string"?_.substring((""+oe).length):void 0;oe=clamp$1(oe,te,ne);let le=K.step;le||(Number.isFinite(te)?Number.isFinite(ne)?le=+(Math.abs(ne-te)/100).toPrecision(1):le=+(Math.abs(oe-te)/100).toPrecision(1):Number.isFinite(ne)&&(le=+(Math.abs(ne-oe)/100).toPrecision(1)));const ce=le?getStep(le)*10:getStep(oe);le=le||ce/10;const fe=Math.round(clamp$1(Math.log10(1/ce),0,2));return{value:se?oe+se:oe,settings:_objectSpread2({initialValue:oe,step:le,pad:fe,min:te,max:ne,suffix:se},ie)}},sanitizeStep$1=(Z,{step:_,initialValue:K})=>{const te=Math.round((Z-K)/_);return K+te*_};var props$3=Object.freeze({__proto__:null,schema:schema$3,sanitize:sanitize$3,format:format$1$1,normalize:normalize$2$1,sanitizeStep:sanitizeStep$1});function _extends(){return _extends=Object.assign?Object.assign.bind():function(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_];for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(Z[te]=K[te])}return Z},_extends.apply(this,arguments)}const InputContext=reactExports.createContext({});function useInputContext(){return reactExports.useContext(InputContext)}const ThemeContext$1=reactExports.createContext(null),StoreContext=reactExports.createContext(null),PanelSettingsContext=reactExports.createContext(null);function useStoreContext(){return reactExports.useContext(StoreContext)}function usePanelSettingsContext(){return reactExports.useContext(PanelSettingsContext)}const getDefaultTheme=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function createStateClass(Z,_){const[K,te]=Z.split(" "),ne={};return K!=="none"&&(ne.boxShadow=`${_.inset?"inset ":""}0 0 0 $borderWidths${[_.key]} $colors${K!=="default"&&K||_.borderColor}`),te&&(ne.backgroundColor=te),ne}const utils={$inputStyle:()=>Z=>createStateClass(Z,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>Z=>createStateClass(Z,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>Z=>createStateClass(Z,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>Z=>createStateClass(Z,{key:"$active",borderColor:"$accent1",inset:!0})},{styled,css,createTheme:createTheme$1,globalCss,keyframes}=q$1({prefix:"leva",theme:getDefaultTheme(),utils:_objectSpread2(_objectSpread2({},utils),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:Z=>({"&:focus":utils.$focusStyle()(Z)}),$focusWithin:Z=>({"&:focus-within":utils.$focusStyle()(Z)}),$hover:Z=>({"&:hover":utils.$hoverStyle()(Z)}),$active:Z=>({"&:active":utils.$activeStyle()(Z)})})}),globalStyles=globalCss({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function mergeTheme(Z){const _=getDefaultTheme();if(!Z)return{theme:_,className:""};Object.keys(Z).forEach(te=>{Object.assign(_[te],Z[te])});const K=createTheme$1(_);return{theme:_,className:K.className}}function useTh(Z,_){const{theme:K}=reactExports.useContext(ThemeContext$1);if(!(Z in K)||!(_ in K[Z]))return warn(LevaErrors.THEME_ERROR,Z,_),"";let te=_;for(;;){let ne=K[Z][te];if(typeof ne=="string"&&ne.charAt(0)==="$")te=ne.substr(1);else return ne}}const StyledInput=styled("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),InnerLabel=styled("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${StyledInput}`]:{paddingLeft:0}}),InnerNumberLabel=styled(InnerLabel,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),InputContainer=styled("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),_excluded$7$1=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],_excluded2$1$1=["onUpdate"];function ValueInput(Z){let{innerLabel:_,value:K,onUpdate:te,onChange:ne,onKeyDown:ie,type:oe,id:se,inputType:le="text",rows:ce=0}=Z,fe=_objectWithoutProperties$1(Z,_excluded$7$1);const{id:me,emitOnEditStart:pe,emitOnEditEnd:ge,disabled:ye}=useInputContext(),Ee=se||me,_e=reactExports.useRef(null),Se=ce>0,Re=Se?"textarea":"input",Te=reactExports.useCallback($e=>ke=>{const ze=ke.currentTarget.value;$e(ze)},[]);React.useEffect(()=>{const $e=_e.current,ke=Te(ze=>{te(ze),ge()});return $e==null||$e.addEventListener("blur",ke),()=>$e==null?void 0:$e.removeEventListener("blur",ke)},[Te,te,ge]);const Ae=reactExports.useCallback($e=>{$e.key==="Enter"&&Te(te)($e)},[Te,te]),Fe=Object.assign({as:Re},Se?{rows:ce}:{},fe);return React.createElement(InputContainer,{textArea:Se},_&&typeof _=="string"?React.createElement(InnerLabel,null,_):_,React.createElement(StyledInput,_extends({levaType:oe,ref:_e,id:Ee,type:le,autoComplete:"off",spellCheck:"false",value:K,onChange:Te(ne),onFocus:()=>pe(),onKeyPress:Ae,onKeyDown:ie,disabled:ye},Fe)))}function NumberInput(Z){let{onUpdate:_}=Z,K=_objectWithoutProperties$1(Z,_excluded2$1$1);const te=reactExports.useCallback(ie=>_(parseNumber(ie)),[_]),ne=reactExports.useCallback(ie=>{const oe=ie.key==="ArrowUp"?1:ie.key==="ArrowDown"?-1:0;if(oe){ie.preventDefault();const se=ie.altKey?.1:ie.shiftKey?10:1;_(le=>parseFloat(le)+oe*se)}},[_]);return React.createElement(ValueInput,_extends({},K,{onUpdate:te,onKeyDown:ne,type:"number"}))}const StyledFolder=styled("div",{}),StyledWrapper=styled("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),StyledTitle=styled("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & > svg`]:{opacity:1}}),StyledContent=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${StyledFolder}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),StyledRow=styled("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${StyledContent} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),StyledInputRow=styled(StyledRow,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),CopyLabelContainer=styled("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),StyledOptionalToggle=styled("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),StyledLabel=styled("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),StyledInputWrapper$1=styled("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${StyledLabel}`]:{pointerEvents:"auto"}}}}}),Overlay=styled("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),StyledToolTipContent=styled("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),ToolTipArrow=styled($a093c7e1ec25a057$export$21b07c8f274aebd5,{fill:"$toolTipBackground"});function Portal({children:Z}){const{className:_}=reactExports.useContext(ThemeContext$1);return React.createElement($f1701beae083dbae$export$be92b6f5f03c0fe9,{className:_},Z)}const _excluded$6$1=["align"];function OptionalToggle(){const{id:Z,disable:_,disabled:K}=useInputContext();return React.createElement(React.Fragment,null,React.createElement(StyledOptionalToggle,{id:Z+"__disable",type:"checkbox",checked:!K,onChange:()=>_(!K)}),React.createElement("label",{htmlFor:Z+"__disable"}))}function RawLabel(Z){const{id:_,optional:K,hint:te}=useInputContext(),ne=Z.htmlFor||(_?{htmlFor:_}:null),ie=!te&&typeof Z.children=="string"?{title:Z.children}:null;return React.createElement(React.Fragment,null,K&&React.createElement(OptionalToggle,null),te!==void 0?React.createElement($a093c7e1ec25a057$export$be92b6f5f03c0fe9,null,React.createElement($a093c7e1ec25a057$export$41fb9f06171c75f4,{asChild:!0},React.createElement(StyledLabel,_extends({},ne,Z))),React.createElement($a093c7e1ec25a057$export$7c6e2c02157bb7d2,{side:"top",sideOffset:2},React.createElement(StyledToolTipContent,null,te,React.createElement(ToolTipArrow,null)))):React.createElement(StyledLabel,_extends({},ne,ie,Z)))}function Label(Z){let{align:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$6$1);const{value:te,label:ne,key:ie,disabled:oe}=useInputContext(),{hideCopyButton:se}=usePanelSettingsContext(),le=!se&&ie!==void 0,[ce,fe]=reactExports.useState(!1),me=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[ie]:te??""})),fe(!0)}catch{warn(LevaErrors.CLIPBOARD_ERROR,{[ie]:te})}};return React.createElement(CopyLabelContainer,{align:_,onPointerLeave:()=>fe(!1)},React.createElement(RawLabel,K),le&&!oe&&React.createElement("div",{title:`Click to copy ${typeof ne=="string"?ne:ie} value`},ce?React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),React.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):React.createElement("svg",{onClick:me,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),React.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const _excluded$5$1=["toggled"],Svg=styled("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Chevron(Z){let{toggled:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$5$1);return React.createElement(Svg,_extends({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${_?0:-90}deg)`}},K),React.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const _excluded$4$1=["input"];function Row$1(Z){let{input:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$4$1);return _?React.createElement(StyledInputRow,K):React.createElement(StyledRow,K)}function useInputSetters({value:Z,type:_,settings:K,setValue:te}){const[ne,ie]=reactExports.useState(format$2(_,Z,K)),oe=reactExports.useRef(Z),se=reactExports.useRef(K);se.current=K;const le=reactExports.useCallback(fe=>ie(format$2(_,fe,se.current)),[_]),ce=reactExports.useCallback(fe=>{try{te(fe)}catch(me){const{type:pe,previousValue:ge}=me;if(pe!=="LEVA_ERROR")throw me;le(ge)}},[le,te]);return reactExports.useEffect(()=>{dequal(Z,oe.current)||le(Z),oe.current=Z},[Z,le]),{displayValue:ne,onChange:ie,onUpdate:ce}}function useDrag(Z,_){const{emitOnEditStart:K,emitOnEditEnd:te}=useInputContext();return useDrag$1(ne=>{ne.first&&(document.body.classList.add("leva__panel__dragged"),K==null||K());const ie=Z(ne);return ne.last&&(document.body.classList.remove("leva__panel__dragged"),te==null||te()),ie},_)}function useCanvas2d(Z){const _=reactExports.useRef(null),K=reactExports.useRef(null),te=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ne=debounce(()=>{_.current.width=_.current.offsetWidth*window.devicePixelRatio,_.current.height=_.current.offsetHeight*window.devicePixelRatio,Z(_.current,K.current)},250);return window.addEventListener("resize",ne),te.current||(ne(),te.current=!0),()=>window.removeEventListener("resize",ne)},[Z]),reactExports.useEffect(()=>{K.current=_.current.getContext("2d")},[]),[_,K]}function useTransform(){const Z=reactExports.useRef(null),_=reactExports.useRef({x:0,y:0}),K=reactExports.useCallback(te=>{Object.assign(_.current,te),Z.current&&(Z.current.style.transform=`translate3d(${_.current.x}px, ${_.current.y}px, 0)`)},[]);return[Z,K]}const _excluded$3$1=["__refCount"],getInputAtPath=(Z,_)=>{if(!Z[_])return null;const K=Z[_];return _objectWithoutProperties$1(K,_excluded$3$1)};function useInput(Z){const _=useStoreContext(),[K,te]=reactExports.useState(getInputAtPath(_.getData(),Z)),ne=reactExports.useCallback(ce=>_.setValueAtPath(Z,ce,!0),[Z,_]),ie=reactExports.useCallback(ce=>_.setSettingsAtPath(Z,ce),[Z,_]),oe=reactExports.useCallback(ce=>_.disableInputAtPath(Z,ce),[Z,_]),se=reactExports.useCallback(()=>_.emitOnEditStart(Z),[Z,_]),le=reactExports.useCallback(()=>_.emitOnEditEnd(Z),[Z,_]);return reactExports.useEffect(()=>{te(getInputAtPath(_.getData(),Z));const ce=_.useStore.subscribe(fe=>getInputAtPath(fe.data,Z),te,{equalityFn:shallow});return()=>ce()},[_,Z]),[K,{set:ne,setSettings:ie,disable:oe,storeId:_.storeId,emitOnEditStart:se,emitOnEditEnd:le}]}const RangeGrid=styled("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Range=styled("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Scrubber=styled("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),RangeWrapper=styled("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Indicator=styled("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function RangeSlider({value:Z,min:_,max:K,onDrag:te,step:ne,initialValue:ie}){const oe=reactExports.useRef(null),se=reactExports.useRef(null),le=reactExports.useRef(0),ce=useTh("sizes","scrubberWidth"),fe=useDrag(({event:pe,first:ge,xy:[ye],movement:[Ee],memo:_e})=>{if(ge){const{width:Re,left:Te}=oe.current.getBoundingClientRect();le.current=Re-parseFloat(ce),_e=(pe==null?void 0:pe.target)===se.current?Z:invertedRange((ye-Te)/Re,_,K)}const Se=_e+invertedRange(Ee/le.current,0,K-_);return te(sanitizeStep$1(Se,{step:ne,initialValue:ie})),_e}),me=range(Z,_,K);return React.createElement(RangeWrapper,_extends({ref:oe},fe()),React.createElement(Range,null,React.createElement(Indicator,{style:{left:0,right:`${(1-me)*100}%`}})),React.createElement(Scrubber,{ref:se,style:{left:`calc(${me} * (100% - ${ce}))`}}))}const DraggableLabel=React.memo(({label:Z,onUpdate:_,step:K,innerLabelTrim:te})=>{const[ne,ie]=reactExports.useState(!1),oe=useDrag(({active:se,delta:[le],event:ce,memo:fe=0})=>(ie(se),fe+=le/2,Math.abs(fe)>=1&&(_(me=>parseFloat(me)+Math.floor(fe)*K*multiplyStep(ce)),fe=0),fe));return React.createElement(InnerNumberLabel,_extends({dragging:ne,title:Z.length>1?Z:""},oe()),Z.slice(0,te))});function Number$1({label:Z,id:_,displayValue:K,onUpdate:te,onChange:ne,settings:ie,innerLabelTrim:oe=1}){const se=oe>0&&React.createElement(DraggableLabel,{label:Z,step:ie.step,onUpdate:te,innerLabelTrim:oe});return React.createElement(NumberInput,{id:_,value:String(K),onUpdate:te,onChange:ne,innerLabel:se})}function NumberComponent(){const Z=useInputContext(),{label:_,value:K,onUpdate:te,settings:ne,id:ie}=Z,{min:oe,max:se}=ne,le=se!==1/0&&oe!==-1/0;return React.createElement(Row$1,{input:!0},React.createElement(Label,null,_),React.createElement(RangeGrid,{hasRange:le},le&&React.createElement(RangeSlider,_extends({value:parseFloat(K),onDrag:te},ne)),React.createElement(Number$1,_extends({},Z,{id:ie,label:"value",innerLabelTrim:le?0:1}))))}const{sanitizeStep}=props$3,rest=_objectWithoutProperties$1(props$3,["sanitizeStep"]);var number$1=_objectSpread2({component:NumberComponent},rest);const schema$2$1=(Z,_)=>v8n().schema({options:v8n().passesAnyOf(v8n().object(),v8n().array())}).test(_),sanitize$2$1=(Z,{values:_})=>{if(_.indexOf(Z)<0)throw Error("Selected value doesn't match Select options");return Z},format$3=(Z,{values:_})=>_.indexOf(Z),normalize$1$1=Z=>{let{value:_,options:K}=Z,te,ne;return Array.isArray(K)?(ne=K,te=K.map(ie=>String(ie))):(ne=Object.values(K),te=Object.keys(K)),"value"in Z?ne.includes(_)||(te.unshift(String(_)),ne.unshift(_)):_=ne[0],Object.values(K).includes(_)||(K[String(_)]=_),{value:_,settings:{keys:te,values:ne}}};var props$2$1=Object.freeze({__proto__:null,schema:schema$2$1,sanitize:sanitize$2$1,format:format$3,normalize:normalize$1$1});const SelectContainer=styled("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),NativeSelect=styled("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),PresentationalSelect=styled("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${NativeSelect}:focus + &`]:{$focusStyle:""},[`${NativeSelect}:hover + &`]:{$hoverStyle:""}});function Select({displayValue:Z,value:_,onUpdate:K,id:te,settings:ne,disabled:ie}){const{keys:oe,values:se}=ne,le=reactExports.useRef();return _===se[Z]&&(le.current=oe[Z]),React.createElement(SelectContainer,null,React.createElement(NativeSelect,{id:te,value:Z,onChange:ce=>K(se[Number(ce.currentTarget.value)]),disabled:ie},oe.map((ce,fe)=>React.createElement("option",{key:ce,value:fe},ce))),React.createElement(PresentationalSelect,null,le.current),React.createElement(Chevron,{toggled:!0}))}function SelectComponent(){const{label:Z,value:_,displayValue:K,onUpdate:te,id:ne,disabled:ie,settings:oe}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Select,{id:ne,value:_,displayValue:K,onUpdate:te,settings:oe,disabled:ie}))}var select=_objectSpread2({component:SelectComponent},props$2$1);const schema$1$1=Z=>v8n().string().test(Z),sanitize$1$1=Z=>{if(typeof Z!="string")throw Error("Invalid string");return Z},normalize$4=({value:Z,editable:_=!0,rows:K=!1})=>({value:Z,settings:{editable:_,rows:typeof K=="number"?K:K?5:0}});var props$1$1=Object.freeze({__proto__:null,schema:schema$1$1,sanitize:sanitize$1$1,normalize:normalize$4});const _excluded$2$1=["displayValue","onUpdate","onChange","editable"],NonEditableString=styled("div",{whiteSpace:"pre-wrap"});function String$1(Z){let{displayValue:_,onUpdate:K,onChange:te,editable:ne=!0}=Z,ie=_objectWithoutProperties$1(Z,_excluded$2$1);return ne?React.createElement(ValueInput,_extends({value:_,onUpdate:K,onChange:te},ie)):React.createElement(NonEditableString,null,_)}function StringComponent(){const{label:Z,settings:_,displayValue:K,onUpdate:te,onChange:ne}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(String$1,_extends({displayValue:K,onUpdate:te,onChange:ne},_)))}var string=_objectSpread2({component:StringComponent},props$1$1);const schema$4=Z=>v8n().boolean().test(Z),sanitize$5=Z=>{if(typeof Z!="boolean")throw Error("Invalid boolean");return Z};var props$4=Object.freeze({__proto__:null,schema:schema$4,sanitize:sanitize$5});const StyledInputWrapper=styled("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Boolean$1({value:Z,onUpdate:_,id:K,disabled:te}){return React.createElement(StyledInputWrapper,null,React.createElement("input",{id:K,type:"checkbox",checked:Z,onChange:ne=>_(ne.currentTarget.checked),disabled:te}),React.createElement("label",{htmlFor:K},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function BooleanComponent(){const{label:Z,value:_,onUpdate:K,disabled:te,id:ne}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Boolean$1,{value:_,onUpdate:K,id:ne,disabled:te}))}var boolean=_objectSpread2({component:BooleanComponent},props$4);const _excluded$1$2=["locked"];function Coordinate({value:Z,id:_,valueKey:K,settings:te,onUpdate:ne,innerLabelTrim:ie}){const oe=reactExports.useRef(Z[K]);oe.current=Z[K];const se=reactExports.useCallback(ce=>ne({[K]:sanitizeValue({type:"NUMBER",value:oe.current,settings:te},ce)}),[ne,te,K]),le=useInputSetters({type:"NUMBER",value:Z[K],settings:te,setValue:se});return React.createElement(Number$1,{id:_,label:K,value:Z[K],displayValue:le.displayValue,onUpdate:le.onUpdate,onChange:le.onChange,settings:te,innerLabelTrim:ie})}const Container$2=styled("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Lock(Z){let{locked:_}=Z,K=_objectWithoutProperties$1(Z,_excluded$1$2);return React.createElement("svg",_extends({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K),_?React.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):React.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Vector({value:Z,onUpdate:_,settings:K,innerLabelTrim:te}){const{id:ne,setSettings:ie}=useInputContext(),{lock:oe,locked:se}=K;return React.createElement(Container$2,{withLock:oe},oe&&React.createElement(Lock,{locked:se,onClick:()=>ie({locked:!se})}),Object.keys(Z).map((le,ce)=>React.createElement(Coordinate,{id:ce===0?ne:`${ne}.${le}`,key:le,valueKey:le,value:Z,settings:K[le],onUpdate:_,innerLabelTrim:te})))}const normalizeKeyedNumberSettings=(Z,_)=>{const K={};let te=0,ne=1/0;Object.entries(Z).forEach(([ie,oe])=>{K[ie]=normalize$2$1(_objectSpread2({value:oe},_[ie])).settings,te=Math.max(te,K[ie].step),ne=Math.min(ne,K[ie].pad)});for(let ie in K){const{step:oe,min:se,max:le}=_[ie]||{};!isFinite(oe)&&(!isFinite(se)||!isFinite(le))&&(K[ie].step=te,K[ie].pad=ne)}return K},_excluded$b=["lock"],_excluded2$5=["value"];function getVectorSchema(Z){const _=v8n().array().length(Z).every.number(),K=te=>{if(!te||typeof te!="object")return!1;const ne=Object.values(te);return ne.length===Z&&ne.every(ie=>isFinite(ie))};return te=>_.test(te)||K(te)}function getVectorType(Z){return Array.isArray(Z)?"array":"object"}function convert$1(Z,_,K){return getVectorType(Z)===_?Z:_==="array"?Object.values(Z):mapArrayToKeys(Z,K)}const sanitizeVector=(Z,_,K)=>{const te=convert$1(Z,"object",_.keys);for(let oe in te)te[oe]=sanitize$3(te[oe],_[oe]);const ne=Object.keys(te);let ie={};if(ne.length===_.keys.length)ie=te;else{const oe=convert$1(K,"object",_.keys);if(ne.length===1&&_.locked){const se=ne[0],le=te[se],ce=oe[se],fe=ce!==0?le/ce:1;for(let me in oe)me===se?ie[se]=le:ie[me]=oe[me]*fe}else ie=_objectSpread2(_objectSpread2({},oe),te)}return convert$1(ie,_.format,_.keys)},formatVector=(Z,_)=>convert$1(Z,"object",_.keys),isNumberSettings=Z=>!!Z&&("step"in Z||"min"in Z||"max"in Z);function normalizeVector(Z,_,K=[]){const{lock:te=!1}=_,ne=_objectWithoutProperties$1(_,_excluded$b),ie=Array.isArray(Z)?"array":"object",oe=ie==="object"?Object.keys(Z):K,se=convert$1(Z,"object",oe),le=isNumberSettings(ne)?oe.reduce((fe,me)=>Object.assign(fe,{[me]:ne}),{}):ne,ce=normalizeKeyedNumberSettings(se,le);return{value:ie==="array"?Z:se,settings:_objectSpread2(_objectSpread2({},ce),{},{format:ie,keys:oe,lock:te,locked:!1})}}function getVectorPlugin(Z){return{schema:getVectorSchema(Z.length),normalize:_=>{let{value:K}=_,te=_objectWithoutProperties$1(_,_excluded2$5);return normalizeVector(K,te,Z)},format:(_,K)=>formatVector(_,K),sanitize:(_,K,te)=>sanitizeVector(_,K,te)}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(Z){return typeof Z=="string"?Z.length>0:typeof Z=="number"},n=function(Z,_,K){return _===void 0&&(_=0),K===void 0&&(K=Math.pow(10,_)),Math.round(K*Z)/K+0},e=function(Z,_,K){return _===void 0&&(_=0),K===void 0&&(K=1),Z>K?K:Z>_?Z:_},u$1=function(Z){return(Z=isFinite(Z)?Z%360:0)>0?Z:Z+360},a=function(Z){return{r:e(Z.r,0,255),g:e(Z.g,0,255),b:e(Z.b,0,255),a:e(Z.a)}},o=function(Z){return{r:n(Z.r),g:n(Z.g),b:n(Z.b),a:n(Z.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$1=function(Z){var _=Z.toString(16);return _.length<2?"0"+_:_},h$1=function(Z){var _=Z.r,K=Z.g,te=Z.b,ne=Z.a,ie=Math.max(_,K,te),oe=ie-Math.min(_,K,te),se=oe?ie===_?(K-te)/oe:ie===K?2+(te-_)/oe:4+(_-K)/oe:0;return{h:60*(se<0?se+6:se),s:ie?oe/ie*100:0,v:ie/255*100,a:ne}},b$1=function(Z){var _=Z.h,K=Z.s,te=Z.v,ne=Z.a;_=_/360*6,K/=100,te/=100;var ie=Math.floor(_),oe=te*(1-K),se=te*(1-(_-ie)*K),le=te*(1-(1-_+ie)*K),ce=ie%6;return{r:255*[te,se,oe,oe,le,te][ce],g:255*[le,te,te,se,oe,oe][ce],b:255*[oe,oe,le,te,te,se][ce],a:ne}},g$1=function(Z){return{h:u$1(Z.h),s:e(Z.s,0,100),l:e(Z.l,0,100),a:e(Z.a)}},d$1=function(Z){return{h:n(Z.h),s:n(Z.s),l:n(Z.l),a:n(Z.a,3)}},f$1=function(Z){return b$1((K=(_=Z).s,{h:_.h,s:(K*=((te=_.l)<50?te:100-te)/100)>0?2*K/(te+K)*100:0,v:te+K,a:_.a}));var _,K,te},c$1=function(Z){return{h:(_=h$1(Z)).h,s:(ne=(200-(K=_.s))*(te=_.v)/100)>0&&ne<200?K*te/100/(ne<=100?ne:200-ne)*100:0,l:ne/2,a:_.a};var _,K,te,ne},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(Z){var _=i$1.exec(Z);return _?(Z=_[1]).length<=4?{r:parseInt(Z[0]+Z[0],16),g:parseInt(Z[1]+Z[1],16),b:parseInt(Z[2]+Z[2],16),a:Z.length===4?n(parseInt(Z[3]+Z[3],16)/255,2):1}:Z.length===6||Z.length===8?{r:parseInt(Z.substr(0,2),16),g:parseInt(Z.substr(2,2),16),b:parseInt(Z.substr(4,2),16),a:Z.length===8?n(parseInt(Z.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(Z){var _=v$1.exec(Z)||m$1.exec(Z);return _?_[2]!==_[4]||_[4]!==_[6]?null:a({r:Number(_[1])/(_[2]?100/255:1),g:Number(_[3])/(_[4]?100/255:1),b:Number(_[5])/(_[6]?100/255:1),a:_[7]===void 0?1:Number(_[7])/(_[8]?100:1)}):null},"rgb"],[function(Z){var _=l.exec(Z)||p$1.exec(Z);if(!_)return null;var K,te,ne=g$1({h:(K=_[1],te=_[2],te===void 0&&(te="deg"),Number(K)*(r[te]||1)),s:Number(_[3]),l:Number(_[4]),a:_[5]===void 0?1:Number(_[5])/(_[6]?100:1)});return f$1(ne)},"hsl"]],object:[[function(Z){var _=Z.r,K=Z.g,te=Z.b,ne=Z.a,ie=ne===void 0?1:ne;return t(_)&&t(K)&&t(te)?a({r:Number(_),g:Number(K),b:Number(te),a:Number(ie)}):null},"rgb"],[function(Z){var _=Z.h,K=Z.s,te=Z.l,ne=Z.a,ie=ne===void 0?1:ne;if(!t(_)||!t(K)||!t(te))return null;var oe=g$1({h:Number(_),s:Number(K),l:Number(te),a:Number(ie)});return f$1(oe)},"hsl"],[function(Z){var _=Z.h,K=Z.s,te=Z.v,ne=Z.a,ie=ne===void 0?1:ne;if(!t(_)||!t(K)||!t(te))return null;var oe=function(se){return{h:u$1(se.h),s:e(se.s,0,100),v:e(se.v,0,100),a:e(se.a)}}({h:Number(_),s:Number(K),v:Number(te),a:Number(ie)});return b$1(oe)},"hsv"]]},N=function(Z,_){for(var K=0;K<_.length;K++){var te=_[K][0](Z);if(te)return[te,_[K][1]]}return[null,void 0]},x=function(Z){return typeof Z=="string"?N(Z.trim(),y$1.string):typeof Z=="object"&&Z!==null?N(Z,y$1.object):[null,void 0]},I$1=function(Z){return x(Z)[1]},M=function(Z,_){var K=c$1(Z);return{h:K.h,s:e(K.s+100*_,0,100),l:K.l,a:K.a}},H=function(Z){return(299*Z.r+587*Z.g+114*Z.b)/1e3/255},$$1=function(Z,_){var K=c$1(Z);return{h:K.h,s:K.s,l:e(K.l+100*_,0,100),a:K.a}},j=function(){function Z(_){this.parsed=x(_)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return Z.prototype.isValid=function(){return this.parsed!==null},Z.prototype.brightness=function(){return n(H(this.rgba),2)},Z.prototype.isDark=function(){return H(this.rgba)<.5},Z.prototype.isLight=function(){return H(this.rgba)>=.5},Z.prototype.toHex=function(){return _=o(this.rgba),K=_.r,te=_.g,ne=_.b,oe=(ie=_.a)<1?s$1(n(255*ie)):"","#"+s$1(K)+s$1(te)+s$1(ne)+oe;var _,K,te,ne,ie,oe},Z.prototype.toRgb=function(){return o(this.rgba)},Z.prototype.toRgbString=function(){return _=o(this.rgba),K=_.r,te=_.g,ne=_.b,(ie=_.a)<1?"rgba("+K+", "+te+", "+ne+", "+ie+")":"rgb("+K+", "+te+", "+ne+")";var _,K,te,ne,ie},Z.prototype.toHsl=function(){return d$1(c$1(this.rgba))},Z.prototype.toHslString=function(){return _=d$1(c$1(this.rgba)),K=_.h,te=_.s,ne=_.l,(ie=_.a)<1?"hsla("+K+", "+te+"%, "+ne+"%, "+ie+")":"hsl("+K+", "+te+"%, "+ne+"%)";var _,K,te,ne,ie},Z.prototype.toHsv=function(){return _=h$1(this.rgba),{h:n(_.h),s:n(_.s),v:n(_.v),a:n(_.a,3)};var _},Z.prototype.invert=function(){return w({r:255-(_=this.rgba).r,g:255-_.g,b:255-_.b,a:_.a});var _},Z.prototype.saturate=function(_){return _===void 0&&(_=.1),w(M(this.rgba,_))},Z.prototype.desaturate=function(_){return _===void 0&&(_=.1),w(M(this.rgba,-_))},Z.prototype.grayscale=function(){return w(M(this.rgba,-1))},Z.prototype.lighten=function(_){return _===void 0&&(_=.1),w($$1(this.rgba,_))},Z.prototype.darken=function(_){return _===void 0&&(_=.1),w($$1(this.rgba,-_))},Z.prototype.rotate=function(_){return _===void 0&&(_=15),this.hue(this.hue()+_)},Z.prototype.alpha=function(_){return typeof _=="number"?w({r:(K=this.rgba).r,g:K.g,b:K.b,a:_}):n(this.rgba.a,3);var K},Z.prototype.hue=function(_){var K=c$1(this.rgba);return typeof _=="number"?w({h:_,s:K.s,l:K.l,a:K.a}):n(K.h)},Z.prototype.isEqual=function(_){return this.toHex()===w(_).toHex()},Z}(),w=function(Z){return Z instanceof j?Z:new j(Z)},S$1=[],k$1=function(Z){Z.forEach(function(_){S$1.indexOf(_)<0&&(_(j,y$1),S$1.push(_))})};function namesPlugin(Z,_){var K={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},te={};for(var ne in K)te[K[ne]]=ne;var ie={};Z.prototype.toName=function(oe){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var se,le,ce=te[this.toHex()];if(ce)return ce;if(oe!=null&&oe.closest){var fe=this.toRgb(),me=1/0,pe="black";if(!ie.length)for(var ge in K)ie[ge]=new Z(K[ge]).toRgb();for(var ye in K){var Ee=(se=fe,le=ie[ye],Math.pow(se.r-le.r,2)+Math.pow(se.g-le.g,2)+Math.pow(se.b-le.b,2));Ee<me&&(me=Ee,pe=ye)}return pe}},_.string.push([function(oe){var se=oe.toLowerCase(),le=se==="transparent"?"#0000":K[se];return le?new Z(le).toRgb():null},"name"])}function u(){return(u=Object.assign||function(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_];for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(Z[te]=K[te])}return Z}).apply(this,arguments)}function c(Z,_){if(Z==null)return{};var K,te,ne={},ie=Object.keys(Z);for(te=0;te<ie.length;te++)_.indexOf(K=ie[te])>=0||(ne[K]=Z[K]);return ne}function i(Z){var _=reactExports.useRef(Z),K=reactExports.useRef(function(te){_.current&&_.current(te)});return _.current=Z,K.current}var s=function(Z,_,K){return _===void 0&&(_=0),K===void 0&&(K=1),Z>K?K:Z<_?_:Z},f=function(Z){return"touches"in Z},v=function(Z){return Z&&Z.ownerDocument.defaultView||self},d=function(Z,_,K){var te=Z.getBoundingClientRect(),ne=f(_)?function(ie,oe){for(var se=0;se<ie.length;se++)if(ie[se].identifier===oe)return ie[se];return ie[0]}(_.touches,K):_;return{left:s((ne.pageX-(te.left+v(Z).pageXOffset))/te.width),top:s((ne.pageY-(te.top+v(Z).pageYOffset))/te.height)}},h=function(Z){!f(Z)&&Z.preventDefault()},m=React.memo(function(Z){var _=Z.onMove,K=Z.onKey,te=c(Z,["onMove","onKey"]),ne=reactExports.useRef(null),ie=i(_),oe=i(K),se=reactExports.useRef(null),le=reactExports.useRef(!1),ce=reactExports.useMemo(function(){var ge=function(_e){h(_e),(f(_e)?_e.touches.length>0:_e.buttons>0)&&ne.current?ie(d(ne.current,_e,se.current)):Ee(!1)},ye=function(){return Ee(!1)};function Ee(_e){var Se=le.current,Re=v(ne.current),Te=_e?Re.addEventListener:Re.removeEventListener;Te(Se?"touchmove":"mousemove",ge),Te(Se?"touchend":"mouseup",ye)}return[function(_e){var Se=_e.nativeEvent,Re=ne.current;if(Re&&(h(Se),!function(Ae,Fe){return Fe&&!f(Ae)}(Se,le.current)&&Re)){if(f(Se)){le.current=!0;var Te=Se.changedTouches||[];Te.length&&(se.current=Te[0].identifier)}Re.focus(),ie(d(Re,Se,se.current)),Ee(!0)}},function(_e){var Se=_e.which||_e.keyCode;Se<37||Se>40||(_e.preventDefault(),oe({left:Se===39?.05:Se===37?-.05:0,top:Se===40?.05:Se===38?-.05:0}))},Ee]},[oe,ie]),fe=ce[0],me=ce[1],pe=ce[2];return reactExports.useEffect(function(){return pe},[pe]),React.createElement("div",u({},te,{onTouchStart:fe,onMouseDown:fe,className:"react-colorful__interactive",ref:ne,onKeyDown:me,tabIndex:0,role:"slider"}))}),g=function(Z){return Z.filter(Boolean).join(" ")},p=function(Z){var _=Z.color,K=Z.left,te=Z.top,ne=te===void 0?.5:te,ie=g(["react-colorful__pointer",Z.className]);return React.createElement("div",{className:ie,style:{top:100*ne+"%",left:100*K+"%"}},React.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:_}}))},b=function(Z,_,K){return _===void 0&&(_=0),K===void 0&&(K=Math.pow(10,_)),Math.round(K*Z)/K},y=function(Z){var _=Z.s,K=Z.v,te=Z.a,ne=(200-_)*K/100;return{h:b(Z.h),s:b(ne>0&&ne<200?_*K/100/(ne<=100?ne:200-ne)*100:0),l:b(ne/2),a:b(te,2)}},q=function(Z){var _=y(Z);return"hsl("+_.h+", "+_.s+"%, "+_.l+"%)"},k=function(Z){var _=y(Z);return"hsla("+_.h+", "+_.s+"%, "+_.l+"%, "+_.a+")"},I=function(Z){var _=Z.h,K=Z.s,te=Z.v,ne=Z.a;_=_/360*6,K/=100,te/=100;var ie=Math.floor(_),oe=te*(1-K),se=te*(1-(_-ie)*K),le=te*(1-(1-_+ie)*K),ce=ie%6;return{r:b(255*[te,se,oe,oe,le,te][ce]),g:b(255*[le,te,te,se,oe,oe][ce]),b:b(255*[oe,oe,le,te,te,se][ce]),a:b(ne,2)}},L=function(Z){var _=Z.r,K=Z.g,te=Z.b,ne=Z.a,ie=Math.max(_,K,te),oe=ie-Math.min(_,K,te),se=oe?ie===_?(K-te)/oe:ie===K?2+(te-_)/oe:4+(_-K)/oe:0;return{h:b(60*(se<0?se+6:se)),s:b(ie?oe/ie*100:0),v:b(ie/255*100),a:ne}},S=React.memo(function(Z){var _=Z.hue,K=Z.onChange,te=g(["react-colorful__hue",Z.className]);return React.createElement("div",{className:te},React.createElement(m,{onMove:function(ne){K({h:360*ne.left})},onKey:function(ne){K({h:s(_+360*ne.left,0,360)})},"aria-label":"Hue","aria-valuenow":b(_),"aria-valuemax":"360","aria-valuemin":"0"},React.createElement(p,{className:"react-colorful__hue-pointer",left:_/360,color:q({h:_,s:100,v:100,a:1})})))}),T=React.memo(function(Z){var _=Z.hsva,K=Z.onChange,te={backgroundColor:q({h:_.h,s:100,v:100,a:1})};return React.createElement("div",{className:"react-colorful__saturation",style:te},React.createElement(m,{onMove:function(ne){K({s:100*ne.left,v:100-100*ne.top})},onKey:function(ne){K({s:s(_.s+100*ne.left,0,100),v:s(_.v-100*ne.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+b(_.s)+"%, Brightness "+b(_.v)+"%"},React.createElement(p,{className:"react-colorful__saturation-pointer",top:1-_.v/100,left:_.s/100,color:q(_)})))}),F=function(Z,_){if(Z===_)return!0;for(var K in Z)if(Z[K]!==_[K])return!1;return!0};function Y(Z,_,K){var te=i(K),ne=reactExports.useState(function(){return Z.toHsva(_)}),ie=ne[0],oe=ne[1],se=reactExports.useRef({color:_,hsva:ie});reactExports.useEffect(function(){if(!Z.equal(_,se.current.color)){var ce=Z.toHsva(_);se.current={hsva:ce,color:_},oe(ce)}},[_,Z]),reactExports.useEffect(function(){var ce;F(ie,se.current.hsva)||Z.equal(ce=Z.fromHsva(ie),se.current.color)||(se.current={hsva:ie,color:ce},te(ce))},[ie,Z,te]);var le=reactExports.useCallback(function(ce){oe(function(fe){return Object.assign({},fe,ce)})},[]);return[ie,le]}var V=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},J=new Map,Q=function(Z){V(function(){var _=Z.current?Z.current.ownerDocument:document;if(_!==void 0&&!J.has(_)){var K=_.createElement("style");K.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,J.set(_,K);var te=$();te&&K.setAttribute("nonce",te),_.head.appendChild(K)}},[])},U=function(Z){var _=Z.className,K=Z.colorModel,te=Z.color,ne=te===void 0?K.defaultColor:te,ie=Z.onChange,oe=c(Z,["className","colorModel","color","onChange"]),se=reactExports.useRef(null);Q(se);var le=Y(K,ne,ie),ce=le[0],fe=le[1],me=g(["react-colorful",_]);return React.createElement("div",u({},oe,{ref:se,className:me}),React.createElement(T,{hsva:ce,onChange:fe}),React.createElement(S,{hue:ce.h,onChange:fe,className:"react-colorful__last-control"}))},ee=function(Z){var _=Z.className,K=Z.hsva,te=Z.onChange,ne={backgroundImage:"linear-gradient(90deg, "+k(Object.assign({},K,{a:0}))+", "+k(Object.assign({},K,{a:1}))+")"},ie=g(["react-colorful__alpha",_]),oe=b(100*K.a);return React.createElement("div",{className:ie},React.createElement("div",{className:"react-colorful__alpha-gradient",style:ne}),React.createElement(m,{onMove:function(se){te({a:se.left})},onKey:function(se){te({a:s(K.a+se.left)})},"aria-label":"Alpha","aria-valuetext":oe+"%","aria-valuenow":oe,"aria-valuemin":"0","aria-valuemax":"100"},React.createElement(p,{className:"react-colorful__alpha-pointer",left:K.a,color:k(K)})))},re=function(Z){var _=Z.className,K=Z.colorModel,te=Z.color,ne=te===void 0?K.defaultColor:te,ie=Z.onChange,oe=c(Z,["className","colorModel","color","onChange"]),se=reactExports.useRef(null);Q(se);var le=Y(K,ne,ie),ce=le[0],fe=le[1],me=g(["react-colorful",_]);return React.createElement("div",u({},oe,{ref:se,className:me}),React.createElement(T,{hsva:ce,onChange:fe}),React.createElement(S,{hue:ce.h,onChange:fe}),React.createElement(ee,{hsva:ce,onChange:fe,className:"react-colorful__last-control"}))},xe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L,fromHsva:I,equal:F},Ce=function(Z){return React.createElement(re,u({},Z,{colorModel:xe}))},Me={defaultColor:{r:0,g:0,b:0},toHsva:function(Z){return L({r:Z.r,g:Z.g,b:Z.b,a:1})},fromHsva:function(Z){return{r:(_=I(Z)).r,g:_.g,b:_.b};var _},equal:F},Ne=function(Z){return React.createElement(U,u({},Z,{colorModel:Me}))};function __rest(Z,_){var K={};for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&_.indexOf(te)<0&&(K[te]=Z[te]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,te=Object.getOwnPropertySymbols(Z);ne<te.length;ne++)_.indexOf(te[ne])<0&&Object.prototype.propertyIsEnumerable.call(Z,te[ne])&&(K[te[ne]]=Z[te[ne]]);return K}function __awaiter(Z,_,K,te){function ne(ie){return ie instanceof K?ie:new K(function(oe){oe(ie)})}return new(K||(K=Promise))(function(ie,oe){function se(fe){try{ce(te.next(fe))}catch(me){oe(me)}}function le(fe){try{ce(te.throw(fe))}catch(me){oe(me)}}function ce(fe){fe.done?ie(fe.value):ne(fe.value).then(se,le)}ce((te=te.apply(Z,_||[])).next())})}function __generator(Z,_){var K={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},te,ne,ie,oe=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return oe.next=se(0),oe.throw=se(1),oe.return=se(2),typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function se(ce){return function(fe){return le([ce,fe])}}function le(ce){if(te)throw new TypeError("Generator is already executing.");for(;oe&&(oe=0,ce[0]&&(K=0)),K;)try{if(te=1,ne&&(ie=ce[0]&2?ne.return:ce[0]?ne.throw||((ie=ne.return)&&ie.call(ne),0):ne.next)&&!(ie=ie.call(ne,ce[1])).done)return ie;switch(ne=0,ie&&(ce=[ce[0]&2,ie.value]),ce[0]){case 0:case 1:ie=ce;break;case 4:return K.label++,{value:ce[1],done:!1};case 5:K.label++,ne=ce[1],ce=[0];continue;case 7:ce=K.ops.pop(),K.trys.pop();continue;default:if(ie=K.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(ce[0]===6||ce[0]===2)){K=0;continue}if(ce[0]===3&&(!ie||ce[1]>ie[0]&&ce[1]<ie[3])){K.label=ce[1];break}if(ce[0]===6&&K.label<ie[1]){K.label=ie[1],ie=ce;break}if(ie&&K.label<ie[2]){K.label=ie[2],K.ops.push(ce);break}ie[2]&&K.ops.pop(),K.trys.pop();continue}ce=_.call(Z,K)}catch(fe){ce=[6,fe],ne=0}finally{te=ie=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}}function __read(Z,_){var K=typeof Symbol=="function"&&Z[Symbol.iterator];if(!K)return Z;var te=K.call(Z),ne,ie=[],oe;try{for(;(_===void 0||_-- >0)&&!(ne=te.next()).done;)ie.push(ne.value)}catch(se){oe={error:se}}finally{try{ne&&!ne.done&&(K=te.return)&&K.call(te)}finally{if(oe)throw oe.error}}return ie}function __spread(){for(var Z=[],_=0;_<arguments.length;_++)Z=Z.concat(__read(arguments[_]));return Z}typeof SuppressedError=="function"&&SuppressedError;var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(Z,_){var K=withMimeType(Z);if(typeof K.path!="string"){var te=Z.webkitRelativePath;Object.defineProperty(K,"path",{value:typeof _=="string"?_:typeof te=="string"&&te.length>0?te:Z.name,writable:!1,configurable:!1,enumerable:!0})}return K}function withMimeType(Z){var _=Z.name,K=_&&_.lastIndexOf(".")!==-1;if(K&&!Z.type){var te=_.split(".").pop().toLowerCase(),ne=COMMON_MIME_TYPES.get(te);ne&&Object.defineProperty(Z,"type",{value:ne,writable:!1,configurable:!1,enumerable:!0})}return Z}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(Z){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return isObject(Z)&&isDataTransfer(Z)?[2,getDataTransferFiles(Z.dataTransfer,Z.type)]:isChangeEvt(Z)?[2,getInputFiles(Z)]:Array.isArray(Z)&&Z.every(function(K){return"getFile"in K&&typeof K.getFile=="function"})?[2,getFsHandleFiles(Z)]:[2,[]]})})}function isDataTransfer(Z){return isObject(Z.dataTransfer)}function isChangeEvt(Z){return isObject(Z)&&isObject(Z.target)}function isObject(Z){return typeof Z=="object"&&Z!==null}function getInputFiles(Z){return fromList(Z.target.files).map(function(_){return toFileWithPath(_)})}function getFsHandleFiles(Z){return __awaiter(this,void 0,void 0,function(){var _;return __generator(this,function(K){switch(K.label){case 0:return[4,Promise.all(Z.map(function(te){return te.getFile()}))];case 1:return _=K.sent(),[2,_.map(function(te){return toFileWithPath(te)})]}})})}function getDataTransferFiles(Z,_){return __awaiter(this,void 0,void 0,function(){var K,te;return __generator(this,function(ne){switch(ne.label){case 0:return Z===null?[2,[]]:Z.items?(K=fromList(Z.items).filter(function(ie){return ie.kind==="file"}),_!=="drop"?[2,K]:[4,Promise.all(K.map(toFilePromises))]):[3,2];case 1:return te=ne.sent(),[2,noIgnoredFiles(flatten(te))];case 2:return[2,noIgnoredFiles(fromList(Z.files).map(function(ie){return toFileWithPath(ie)}))]}})})}function noIgnoredFiles(Z){return Z.filter(function(_){return FILES_TO_IGNORE.indexOf(_.name)===-1})}function fromList(Z){if(Z===null)return[];for(var _=[],K=0;K<Z.length;K++){var te=Z[K];_.push(te)}return _}function toFilePromises(Z){if(typeof Z.webkitGetAsEntry!="function")return fromDataTransferItem(Z);var _=Z.webkitGetAsEntry();return _&&_.isDirectory?fromDirEntry(_):fromDataTransferItem(Z)}function flatten(Z){return Z.reduce(function(_,K){return __spread(_,Array.isArray(K)?flatten(K):[K])},[])}function fromDataTransferItem(Z){var _=Z.getAsFile();if(!_)return Promise.reject(Z+" is not a File");var K=toFileWithPath(_);return Promise.resolve(K)}function fromEntry(Z){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return[2,Z.isDirectory?fromDirEntry(Z):fromFileEntry(Z)]})})}function fromDirEntry(Z){var _=Z.createReader();return new Promise(function(K,te){var ne=[];function ie(){var oe=this;_.readEntries(function(se){return __awaiter(oe,void 0,void 0,function(){var le,ce,fe;return __generator(this,function(me){switch(me.label){case 0:if(se.length)return[3,5];me.label=1;case 1:return me.trys.push([1,3,,4]),[4,Promise.all(ne)];case 2:return le=me.sent(),K(le),[3,4];case 3:return ce=me.sent(),te(ce),[3,4];case 4:return[3,6];case 5:fe=Promise.all(se.map(fromEntry)),ne.push(fe),ie(),me.label=6;case 6:return[2]}})})},function(se){te(se)})}ie()})}function fromFileEntry(Z){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return[2,new Promise(function(K,te){Z.file(function(ne){var ie=toFileWithPath(ne,Z.fullPath);K(ie)},function(ne){te(ne)})})]})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(Z,_){if(Z&&_){var K=Array.isArray(_)?_:_.split(",");if(K.length===0)return!0;var te=Z.name||"",ne=(Z.type||"").toLowerCase(),ie=ne.replace(/\/.*$/,"");return K.some(function(oe){var se=oe.trim().toLowerCase();return se.charAt(0)==="."?te.toLowerCase().endsWith(se):se.endsWith("/*")?ie===se.replace(/\/.*$/,""):ne===se})}return!0}),es}var esExports=requireEs();const accepts=getDefaultExportFromCjs(esExports);function ownKeys$1(Z,_){var K=Object.keys(Z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Z);_&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(Z,ne).enumerable})),K.push.apply(K,te)}return K}function _objectSpread$1(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1(Object(K),!0).forEach(function(te){_defineProperty$1(Z,te,K[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):ownKeys$1(Object(K)).forEach(function(te){Object.defineProperty(Z,te,Object.getOwnPropertyDescriptor(K,te))})}return Z}function _defineProperty$1(Z,_,K){return _ in Z?Object.defineProperty(Z,_,{value:K,enumerable:!0,configurable:!0,writable:!0}):Z[_]=K,Z}function _slicedToArray$1(Z,_){return _arrayWithHoles$1(Z)||_iterableToArrayLimit$1(Z,_)||_unsupportedIterableToArray$1(Z,_)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(Z,_){if(Z){if(typeof Z=="string")return _arrayLikeToArray$1(Z,_);var K=Object.prototype.toString.call(Z).slice(8,-1);if(K==="Object"&&Z.constructor&&(K=Z.constructor.name),K==="Map"||K==="Set")return Array.from(Z);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return _arrayLikeToArray$1(Z,_)}}function _arrayLikeToArray$1(Z,_){(_==null||_>Z.length)&&(_=Z.length);for(var K=0,te=new Array(_);K<_;K++)te[K]=Z[K];return te}function _iterableToArrayLimit$1(Z,_){var K=Z==null?null:typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(K!=null){var te=[],ne=!0,ie=!1,oe,se;try{for(K=K.call(Z);!(ne=(oe=K.next()).done)&&(te.push(oe.value),!(_&&te.length===_));ne=!0);}catch(le){ie=!0,se=le}finally{try{!ne&&K.return!=null&&K.return()}finally{if(ie)throw se}}return te}}function _arrayWithHoles$1(Z){if(Array.isArray(Z))return Z}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(_){_=Array.isArray(_)&&_.length===1?_[0]:_;var K=Array.isArray(_)?"one of ".concat(_.join(", ")):_;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(K)}},getTooLargeRejectionErr=function(_){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(_," ").concat(_===1?"byte":"bytes")}},getTooSmallRejectionErr=function(_){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(_," ").concat(_===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(Z,_){var K=Z.type==="application/x-moz-file"||accepts(Z,_);return[K,K?null:getInvalidTypeRejectionErr(_)]}function fileMatchSize(Z,_,K){if(isDefined(Z.size))if(isDefined(_)&&isDefined(K)){if(Z.size>K)return[!1,getTooLargeRejectionErr(K)];if(Z.size<_)return[!1,getTooSmallRejectionErr(_)]}else{if(isDefined(_)&&Z.size<_)return[!1,getTooSmallRejectionErr(_)];if(isDefined(K)&&Z.size>K)return[!1,getTooLargeRejectionErr(K)]}return[!0,null]}function isDefined(Z){return Z!=null}function allFilesAccepted(Z){var _=Z.files,K=Z.accept,te=Z.minSize,ne=Z.maxSize,ie=Z.multiple,oe=Z.maxFiles;return!ie&&_.length>1||ie&&oe>=1&&_.length>oe?!1:_.every(function(se){var le=fileAccepted(se,K),ce=_slicedToArray$1(le,1),fe=ce[0],me=fileMatchSize(se,te,ne),pe=_slicedToArray$1(me,1),ge=pe[0];return fe&&ge})}function isPropagationStopped(Z){return typeof Z.isPropagationStopped=="function"?Z.isPropagationStopped():typeof Z.cancelBubble<"u"?Z.cancelBubble:!1}function isEvtWithFiles(Z){return Z.dataTransfer?Array.prototype.some.call(Z.dataTransfer.types,function(_){return _==="Files"||_==="application/x-moz-file"}):!!Z.target&&!!Z.target.files}function onDocumentDragOver(Z){Z.preventDefault()}function isIe(Z){return Z.indexOf("MSIE")!==-1||Z.indexOf("Trident/")!==-1}function isEdge(Z){return Z.indexOf("Edge/")!==-1}function isIeOrEdge(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(Z)||isEdge(Z)}function composeEventHandlers$1(){for(var Z=arguments.length,_=new Array(Z),K=0;K<Z;K++)_[K]=arguments[K];return function(te){for(var ne=arguments.length,ie=new Array(ne>1?ne-1:0),oe=1;oe<ne;oe++)ie[oe-1]=arguments[oe];return _.some(function(se){return!isPropagationStopped(te)&&se&&se.apply(void 0,[te].concat(ie)),isPropagationStopped(te)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function filePickerOptionsTypes(Z){return Z=typeof Z=="string"?Z.split(","):Z,[{description:"everything",accept:Array.isArray(Z)?Z.filter(function(_){return _==="audio/*"||_==="video/*"||_==="image/*"||_==="text/*"||/\w+\/[-+.\w]+/g.test(_)}).reduce(function(_,K){return _objectSpread$1(_objectSpread$1({},_),{},_defineProperty$1({},K,[]))},{}):{}}]}function isAbort(Z){return Z instanceof DOMException&&(Z.name==="AbortError"||Z.code===Z.ABORT_ERR)}function isSecurityError(Z){return Z instanceof DOMException&&(Z.name==="SecurityError"||Z.code===Z.SECURITY_ERR)}var _excluded$8=["children"],_excluded2$2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(Z){return _arrayWithoutHoles(Z)||_iterableToArray(Z)||_unsupportedIterableToArray(Z)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(Z){if(typeof Symbol<"u"&&Z[Symbol.iterator]!=null||Z["@@iterator"]!=null)return Array.from(Z)}function _arrayWithoutHoles(Z){if(Array.isArray(Z))return _arrayLikeToArray(Z)}function _slicedToArray(Z,_){return _arrayWithHoles(Z)||_iterableToArrayLimit(Z,_)||_unsupportedIterableToArray(Z,_)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(Z,_){if(Z){if(typeof Z=="string")return _arrayLikeToArray(Z,_);var K=Object.prototype.toString.call(Z).slice(8,-1);if(K==="Object"&&Z.constructor&&(K=Z.constructor.name),K==="Map"||K==="Set")return Array.from(Z);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return _arrayLikeToArray(Z,_)}}function _arrayLikeToArray(Z,_){(_==null||_>Z.length)&&(_=Z.length);for(var K=0,te=new Array(_);K<_;K++)te[K]=Z[K];return te}function _iterableToArrayLimit(Z,_){var K=Z==null?null:typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(K!=null){var te=[],ne=!0,ie=!1,oe,se;try{for(K=K.call(Z);!(ne=(oe=K.next()).done)&&(te.push(oe.value),!(_&&te.length===_));ne=!0);}catch(le){ie=!0,se=le}finally{try{!ne&&K.return!=null&&K.return()}finally{if(ie)throw se}}return te}}function _arrayWithHoles(Z){if(Array.isArray(Z))return Z}function ownKeys(Z,_){var K=Object.keys(Z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Z);_&&(te=te.filter(function(ne){return Object.getOwnPropertyDescriptor(Z,ne).enumerable})),K.push.apply(K,te)}return K}function _objectSpread(Z){for(var _=1;_<arguments.length;_++){var K=arguments[_]!=null?arguments[_]:{};_%2?ownKeys(Object(K),!0).forEach(function(te){_defineProperty(Z,te,K[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):ownKeys(Object(K)).forEach(function(te){Object.defineProperty(Z,te,Object.getOwnPropertyDescriptor(K,te))})}return Z}function _defineProperty(Z,_,K){return _ in Z?Object.defineProperty(Z,_,{value:K,enumerable:!0,configurable:!0,writable:!0}):Z[_]=K,Z}function _objectWithoutProperties(Z,_){if(Z==null)return{};var K=_objectWithoutPropertiesLoose$3(Z,_),te,ne;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(Z);for(ne=0;ne<ie.length;ne++)te=ie[ne],!(_.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(Z,te)&&(K[te]=Z[te])}return K}function _objectWithoutPropertiesLoose$3(Z,_){if(Z==null)return{};var K={},te=Object.keys(Z),ne,ie;for(ie=0;ie<te.length;ie++)ne=te[ie],!(_.indexOf(ne)>=0)&&(K[ne]=Z[ne]);return K}var Dropzone=reactExports.forwardRef(function(Z,_){var K=Z.children,te=_objectWithoutProperties(Z,_excluded$8),ne=useDropzone(te),ie=ne.open,oe=_objectWithoutProperties(ne,_excluded2$2);return reactExports.useImperativeHandle(_,function(){return{open:ie}},[ie]),React.createElement(reactExports.Fragment,null,K(_objectSpread(_objectSpread({},oe),{},{open:ie})))});Dropzone.displayName="Dropzone";var defaultProps$e={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Dropzone.defaultProps=defaultProps$e;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function useDropzone(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=_objectSpread(_objectSpread({},defaultProps$e),Z),K=_.accept,te=_.disabled,ne=_.getFilesFromEvent,ie=_.maxSize,oe=_.minSize,se=_.multiple,le=_.maxFiles,ce=_.onDragEnter,fe=_.onDragLeave,me=_.onDragOver,pe=_.onDrop,ge=_.onDropAccepted,ye=_.onDropRejected,Ee=_.onFileDialogCancel,_e=_.onFileDialogOpen,Se=_.useFsAccessApi,Re=_.preventDropOnDocument,Te=_.noClick,Ae=_.noKeyboard,Fe=_.noDrag,$e=_.noDragEventsBubbling,ke=_.validator,ze=reactExports.useMemo(function(){return typeof _e=="function"?_e:noop$2},[_e]),Ue=reactExports.useMemo(function(){return typeof Ee=="function"?Ee:noop$2},[Ee]),Oe=reactExports.useRef(null),Ve=reactExports.useRef(null),Ye=reactExports.useReducer(reducer,initialState),Ke=_slicedToArray(Ye,2),ot=Ke[0],ut=Ke[1],ct=ot.isFocused,gt=ot.isFileDialogActive,je=ot.draggedFiles,rt=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&Se&&canUseFileSystemAccessAPI()),Qe=function(){!rt.current&&gt&&setTimeout(function(){if(Ve.current){var mt=Ve.current.files;mt.length||(ut({type:"closeDialog"}),Ue())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Qe,!1),function(){window.removeEventListener("focus",Qe,!1)}},[Ve,gt,Ue,rt]);var qe=reactExports.useRef([]),lt=function(mt){Oe.current&&Oe.current.contains(mt.target)||(mt.preventDefault(),qe.current=[])};reactExports.useEffect(function(){return Re&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",lt,!1)),function(){Re&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",lt))}},[Oe,Re]);var Et=reactExports.useCallback(function(tt){tt.preventDefault(),tt.persist(),Xt(tt),qe.current=[].concat(_toConsumableArray(qe.current),[tt.target]),isEvtWithFiles(tt)&&Promise.resolve(ne(tt)).then(function(mt){isPropagationStopped(tt)&&!$e||(ut({draggedFiles:mt,isDragActive:!0,type:"setDraggedFiles"}),ce&&ce(tt))})},[ne,ce,$e]),ht=reactExports.useCallback(function(tt){tt.preventDefault(),tt.persist(),Xt(tt);var mt=isEvtWithFiles(tt);if(mt&&tt.dataTransfer)try{tt.dataTransfer.dropEffect="copy"}catch{}return mt&&me&&me(tt),!1},[me,$e]),dt=reactExports.useCallback(function(tt){tt.preventDefault(),tt.persist(),Xt(tt);var mt=qe.current.filter(function(_t){return Oe.current&&Oe.current.contains(_t)}),Nt=mt.indexOf(tt.target);Nt!==-1&&mt.splice(Nt,1),qe.current=mt,!(mt.length>0)&&(ut({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),isEvtWithFiles(tt)&&fe&&fe(tt))},[Oe,fe,$e]),Mt=reactExports.useCallback(function(tt,mt){var Nt=[],_t=[];tt.forEach(function(jt){var Ot=fileAccepted(jt,K),qt=_slicedToArray(Ot,2),Sn=qt[0],Ht=qt[1],Tt=fileMatchSize(jt,oe,ie),Ft=_slicedToArray(Tt,2),pn=Ft[0],cn=Ft[1],at=ke?ke(jt):null;if(Sn&&pn&&!at)Nt.push(jt);else{var Ut=[Ht,cn];at&&(Ut=Ut.concat(at)),_t.push({file:jt,errors:Ut.filter(function(un){return un})})}}),(!se&&Nt.length>1||se&&le>=1&&Nt.length>le)&&(Nt.forEach(function(jt){_t.push({file:jt,errors:[TOO_MANY_FILES_REJECTION]})}),Nt.splice(0)),ut({acceptedFiles:Nt,fileRejections:_t,type:"setFiles"}),pe&&pe(Nt,_t,mt),_t.length>0&&ye&&ye(_t,mt),Nt.length>0&&ge&&ge(Nt,mt)},[ut,se,K,oe,ie,le,pe,ge,ye,ke]),Pt=reactExports.useCallback(function(tt){tt.preventDefault(),tt.persist(),Xt(tt),qe.current=[],isEvtWithFiles(tt)&&Promise.resolve(ne(tt)).then(function(mt){isPropagationStopped(tt)&&!$e||Mt(mt,tt)}),ut({type:"reset"})},[ne,Mt,$e]),Wt=reactExports.useCallback(function(){if(rt.current){ut({type:"openDialog"}),ze();var tt={multiple:se,types:filePickerOptionsTypes(K)};window.showOpenFilePicker(tt).then(function(mt){return ne(mt)}).then(function(mt){Mt(mt,null),ut({type:"closeDialog"})}).catch(function(mt){isAbort(mt)?(Ue(mt),ut({type:"closeDialog"})):isSecurityError(mt)&&(rt.current=!1,Ve.current&&(Ve.current.value=null,Ve.current.click()))});return}Ve.current&&(ut({type:"openDialog"}),ze(),Ve.current.value=null,Ve.current.click())},[ut,ze,Ue,Se,Mt,K,se]),Qt=reactExports.useCallback(function(tt){!Oe.current||!Oe.current.isEqualNode(tt.target)||(tt.key===" "||tt.key==="Enter"||tt.keyCode===32||tt.keyCode===13)&&(tt.preventDefault(),Wt())},[Oe,Wt]),sn=reactExports.useCallback(function(){ut({type:"focus"})},[]),hn=reactExports.useCallback(function(){ut({type:"blur"})},[]),Dt=reactExports.useCallback(function(){Te||(isIeOrEdge()?setTimeout(Wt,0):Wt())},[Te,Wt]),Vt=function(mt){return te?null:mt},Ze=function(mt){return Ae?null:Vt(mt)},on=function(mt){return Fe?null:Vt(mt)},Xt=function(mt){$e&&mt.stopPropagation()},an=reactExports.useMemo(function(){return function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},mt=tt.refKey,Nt=mt===void 0?"ref":mt,_t=tt.role,jt=tt.onKeyDown,Ot=tt.onFocus,qt=tt.onBlur,Sn=tt.onClick,Ht=tt.onDragEnter,Tt=tt.onDragOver,Ft=tt.onDragLeave,pn=tt.onDrop,cn=_objectWithoutProperties(tt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:Ze(composeEventHandlers$1(jt,Qt)),onFocus:Ze(composeEventHandlers$1(Ot,sn)),onBlur:Ze(composeEventHandlers$1(qt,hn)),onClick:Vt(composeEventHandlers$1(Sn,Dt)),onDragEnter:on(composeEventHandlers$1(Ht,Et)),onDragOver:on(composeEventHandlers$1(Tt,ht)),onDragLeave:on(composeEventHandlers$1(Ft,dt)),onDrop:on(composeEventHandlers$1(pn,Pt)),role:typeof _t=="string"&&_t!==""?_t:"button"},Nt,Oe),!te&&!Ae?{tabIndex:0}:{}),cn)}},[Oe,Qt,sn,hn,Dt,Et,ht,dt,Pt,Ae,Fe,te]),Yt=reactExports.useCallback(function(tt){tt.stopPropagation()},[]),mn=reactExports.useMemo(function(){return function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},mt=tt.refKey,Nt=mt===void 0?"ref":mt,_t=tt.onChange,jt=tt.onClick,Ot=_objectWithoutProperties(tt,_excluded4),qt=_defineProperty({accept:K,multiple:se,type:"file",style:{display:"none"},onChange:Vt(composeEventHandlers$1(_t,Pt)),onClick:Vt(composeEventHandlers$1(jt,Yt)),tabIndex:-1},Nt,Ve);return _objectSpread(_objectSpread({},qt),Ot)}},[Ve,K,se,Pt,te]),Jt=je.length,Xe=Jt>0&&allFilesAccepted({files:je,accept:K,minSize:oe,maxSize:ie,multiple:se,maxFiles:le}),He=Jt>0&&!Xe;return _objectSpread(_objectSpread({},ot),{},{isDragAccept:Xe,isDragReject:He,isFocused:ct&&!te,getRootProps:an,getInputProps:mn,rootRef:Oe,inputRef:Ve,open:Vt(Wt)})}function reducer(Z,_){switch(_.type){case"focus":return _objectSpread(_objectSpread({},Z),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},Z),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},Z),{},{isFileDialogActive:!1});case"setDraggedFiles":var K=_.isDragActive,te=_.draggedFiles;return _objectSpread(_objectSpread({},Z),{},{draggedFiles:te,isDragActive:K});case"setFiles":return _objectSpread(_objectSpread({},Z),{},{acceptedFiles:_.acceptedFiles,fileRejections:_.fileRejections});case"reset":return _objectSpread({},initialState);default:return Z}}function noop$2(){}function createStore(Z){let _;const K=new Set,te=(ce,fe)=>{const me=typeof ce=="function"?ce(_):ce;if(me!==_){const pe=_;_=fe?me:Object.assign({},_,me),K.forEach(ge=>ge(_,pe))}},ne=()=>_,ie=(ce,fe=ne,me=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let pe=fe(_);function ge(){const ye=fe(_);if(!me(pe,ye)){const Ee=pe;ce(pe=ye,Ee)}}return K.add(ge),()=>K.delete(ge)},le={setState:te,getState:ne,subscribe:(ce,fe,me)=>fe||me?ie(ce,fe,me):(K.add(ce),()=>K.delete(ce)),destroy:()=>K.clear()};return _=Z(te,ne,le),le}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(Z){const _=typeof Z=="function"?createStore(Z):Z,K=(te=_.getState,ne=Object.is)=>{const[,ie]=reactExports.useReducer(_e=>_e+1,0),oe=_.getState(),se=reactExports.useRef(oe),le=reactExports.useRef(te),ce=reactExports.useRef(ne),fe=reactExports.useRef(!1),me=reactExports.useRef();me.current===void 0&&(me.current=te(oe));let pe,ge=!1;(se.current!==oe||le.current!==te||ce.current!==ne||fe.current)&&(pe=te(oe),ge=!ne(me.current,pe)),useIsomorphicLayoutEffect$1(()=>{ge&&(me.current=pe),se.current=oe,le.current=te,ce.current=ne,fe.current=!1});const ye=reactExports.useRef(oe);useIsomorphicLayoutEffect$1(()=>{const _e=()=>{try{const Re=_.getState(),Te=le.current(Re);ce.current(me.current,Te)||(se.current=Re,me.current=Te,ie())}catch{fe.current=!0,ie()}},Se=_.subscribe(_e);return _.getState()!==ye.current&&_e(),Se},[]);const Ee=ge?pe:me.current;return reactExports.useDebugValue(Ee),Ee};return Object.assign(K,_),K[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const te=[K,_];return{next(){const ne=te.length<=0;return{value:te.shift(),done:ne}}}},K}const subscribeWithSelector=Z=>(_,K,te)=>{const ne=te.subscribe;return te.subscribe=(oe,se,le)=>{let ce=oe;if(se){const fe=(le==null?void 0:le.equalityFn)||Object.is;let me=oe(te.getState());ce=pe=>{const ge=oe(pe);if(!fe(me,ge)){const ye=me;se(me=ge,ye)}},le!=null&&le.fireImmediately&&se(me,me)}return ne(ce)},Z(_,K,te)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isobject,hasRequiredIsobject;function requireIsobject(){return hasRequiredIsobject||(hasRequiredIsobject=1,isobject=function(_){return _!=null&&typeof _=="object"&&Array.isArray(_)===!1}),isobject}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isPlainObject,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject;hasRequiredIsPlainObject=1;var Z=requireIsobject();function _(K){return Z(K)===!0&&Object.prototype.toString.call(K)==="[object Object]"}return isPlainObject=function(te){var ne,ie;return!(_(te)===!1||(ne=te.constructor,typeof ne!="function")||(ie=ne.prototype,_(ie)===!1)||ie.hasOwnProperty("isPrototypeOf")===!1)},isPlainObject}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isExtendable$2,hasRequiredIsExtendable$2;function requireIsExtendable$2(){if(hasRequiredIsExtendable$2)return isExtendable$2;hasRequiredIsExtendable$2=1;var Z=requireIsPlainObject();return isExtendable$2=function(K){return Z(K)||typeof K=="function"||Array.isArray(K)},isExtendable$2}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var forIn,hasRequiredForIn;function requireForIn(){return hasRequiredForIn||(hasRequiredForIn=1,forIn=function(_,K,te){for(var ne in _)if(K.call(te,_[ne],ne,_)===!1)break}),forIn}var mixinDeep_1,hasRequiredMixinDeep;function requireMixinDeep(){if(hasRequiredMixinDeep)return mixinDeep_1;hasRequiredMixinDeep=1;var Z=requireIsExtendable$2(),_=requireForIn();function K(oe,se){for(var le=arguments.length,ce=0;++ce<le;){var fe=arguments[ce];ne(fe)&&_(fe,te,oe)}return oe}function te(oe,se){if(ie(se)){var le=this[se];ne(oe)&&ne(le)?K(le,oe):this[se]=oe}}function ne(oe){return Z(oe)&&!Array.isArray(oe)}function ie(oe){return oe!=="__proto__"&&oe!=="constructor"&&oe!=="prototype"}return mixinDeep_1=K,mixinDeep_1}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var getValue$1,hasRequiredGetValue;function requireGetValue(){if(hasRequiredGetValue)return getValue$1;hasRequiredGetValue=1,getValue$1=function(K,te,ne,ie,oe){if(!Z(K)||!te)return K;if(te=_(te),ne&&(te+="."+_(ne)),ie&&(te+="."+_(ie)),oe&&(te+="."+_(oe)),te in K)return K[te];for(var se=te.split("."),le=se.length,ce=-1;K&&++ce<le;){for(var fe=se[ce];fe[fe.length-1]==="\\";)fe=fe.slice(0,-1)+"."+se[++ce];K=K[fe]}return K};function Z(K){return K!==null&&(typeof K=="object"||typeof K=="function")}function _(K){return K?Array.isArray(K)?K.join("."):K:""}return getValue$1}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var assignSymbols,hasRequiredAssignSymbols;function requireAssignSymbols(){return hasRequiredAssignSymbols||(hasRequiredAssignSymbols=1,assignSymbols=function(Z,_){if(Z===null||typeof Z>"u")throw new TypeError("expected first argument to be an object.");if(typeof _>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return Z;for(var K=Object.prototype.propertyIsEnumerable,te=Object(Z),ne=arguments.length,ie=0;++ie<ne;)for(var oe=Object(arguments[ie]),se=Object.getOwnPropertySymbols(oe),le=0;le<se.length;le++){var ce=se[le];K.call(oe,ce)&&(te[ce]=oe[ce])}return te}),assignSymbols}var extendShallow$1,hasRequiredExtendShallow$1;function requireExtendShallow$1(){if(hasRequiredExtendShallow$1)return extendShallow$1;hasRequiredExtendShallow$1=1;var Z=requireIsExtendable$2(),_=requireAssignSymbols();extendShallow$1=Object.assign||function(se){if(se===null||typeof se>"u")throw new TypeError("Cannot convert undefined or null to object");ie(se)||(se={});for(var le=1;le<arguments.length;le++){var ce=arguments[le];te(ce)&&(ce=ne(ce)),ie(ce)&&(K(se,ce),_(se,ce))}return se};function K(se,le){for(var ce in le)oe(le,ce)&&(se[ce]=le[ce])}function te(se){return se&&typeof se=="string"}function ne(se){var le={};for(var ce in se)le[ce]=se[ce];return le}function ie(se){return se&&typeof se=="object"||Z(se)}function oe(se,le){return Object.prototype.hasOwnProperty.call(se,le)}return extendShallow$1}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var splitString,hasRequiredSplitString;function requireSplitString(){if(hasRequiredSplitString)return splitString;hasRequiredSplitString=1;var Z=requireExtendShallow$1();splitString=function(ne,ie,oe){if(typeof ne!="string")throw new TypeError("expected a string");typeof ie=="function"&&(oe=ie,ie=null),typeof ie=="string"&&(ie={sep:ie});var se=Z({sep:"."},ie),le=se.quotes||['"',"'","`"],ce;se.brackets===!0?ce={"<":">","(":")","[":"]","{":"}"}:se.brackets&&(ce=se.brackets);var fe=[],me=[],pe=[""],ge=se.sep,ye=ne.length,Ee=-1,_e;function Se(){if(ce&&me.length)return ce[me[me.length-1]]}for(;++Ee<ye;){var Re=ne[Ee],Te=ne[Ee+1],Ae={val:Re,idx:Ee,arr:pe,str:ne};if(fe.push(Ae),Re==="\\"){Ae.val=te(se,ne,Ee)===!0?Re+Te:Te,Ae.escaped=!0,typeof oe=="function"&&oe(Ae),pe[pe.length-1]+=Ae.val,Ee++;continue}if(ce&&ce[Re]){me.push(Re);var Fe=Se(),$e=Ee+1;if(ne.indexOf(Fe,$e+1)!==-1)for(;me.length&&$e<ye;){var ke=ne[++$e];if(ke==="\\"){ke++;continue}if(le.indexOf(ke)!==-1){$e=_(ne,ke,$e+1);continue}if(Fe=Se(),me.length&&ne.indexOf(Fe,$e+1)===-1)break;if(ce[ke]){me.push(ke);continue}Fe===ke&&me.pop()}if(_e=$e,_e===-1){pe[pe.length-1]+=Re;continue}Re=ne.slice(Ee,_e+1),Ae.val=Re,Ae.idx=Ee=_e}if(le.indexOf(Re)!==-1){if(_e=_(ne,Re,Ee+1),_e===-1){pe[pe.length-1]+=Re;continue}K(Re,se)===!0?Re=ne.slice(Ee,_e+1):Re=ne.slice(Ee+1,_e),Ae.val=Re,Ae.idx=Ee=_e}if(typeof oe=="function"&&(oe(Ae,fe),Re=Ae.val,Ee=Ae.idx),Ae.val===ge&&Ae.split!==!1){pe.push("");continue}pe[pe.length-1]+=Ae.val}return pe};function _(ne,ie,oe,se){var le=ne.indexOf(ie,oe);return ne.charAt(le-1)==="\\"?_(ne,ie,le+1):le}function K(ne,ie){return ie.keepDoubleQuotes===!0&&ne==='"'||ie.keepSingleQuotes===!0&&ne==="'"?!0:ie.keepQuotes}function te(ne,ie,oe){return typeof ne.keepEscaping=="function"?ne.keepEscaping(ie,oe):ne.keepEscaping===!0||ie[oe+1]==="\\"}return splitString}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable$1,hasRequiredIsExtendable$1;function requireIsExtendable$1(){return hasRequiredIsExtendable$1||(hasRequiredIsExtendable$1=1,isExtendable$1=function(_){return typeof _<"u"&&_!==null&&(typeof _=="object"||typeof _=="function")}),isExtendable$1}var extendShallow,hasRequiredExtendShallow;function requireExtendShallow(){if(hasRequiredExtendShallow)return extendShallow;hasRequiredExtendShallow=1;var Z=requireIsExtendable$1();extendShallow=function(ne){Z(ne)||(ne={});for(var ie=arguments.length,oe=1;oe<ie;oe++){var se=arguments[oe];Z(se)&&_(ne,se)}return ne};function _(te,ne){for(var ie in ne)K(ne,ie)&&(te[ie]=ne[ie])}function K(te,ne){return Object.prototype.hasOwnProperty.call(te,ne)}return extendShallow}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable,hasRequiredIsExtendable;function requireIsExtendable(){return hasRequiredIsExtendable||(hasRequiredIsExtendable=1,isExtendable=function(_){return typeof _<"u"&&_!==null&&(typeof _=="object"||typeof _=="function")}),isExtendable}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var setValue,hasRequiredSetValue;function requireSetValue(){if(hasRequiredSetValue)return setValue;hasRequiredSetValue=1;var Z=requireSplitString(),_=requireExtendShallow(),K=requireIsPlainObject(),te=requireIsExtendable();setValue=function(ie,oe,se){if(!te(ie)||(Array.isArray(oe)&&(oe=[].concat.apply([],oe).join(".")),typeof oe!="string"))return ie;for(var le=Z(oe,{sep:".",brackets:!0}).filter(ne),ce=le.length,fe=-1,me=ie;++fe<ce;){var pe=le[fe];if(fe!==ce-1){te(me[pe])||(me[pe]={}),me=me[pe];continue}K(me[pe])&&K(se)?me[pe]=_({},me[pe],se):me[pe]=se}return ie};function ne(ie){return ie!=="__proto__"&&ie!=="constructor"&&ie!=="prototype"}return setValue}var mergeValue,hasRequiredMergeValue;function requireMergeValue(){if(hasRequiredMergeValue)return mergeValue;hasRequiredMergeValue=1;var Z=requireIsExtendable$2(),_=requireMixinDeep(),K=requireGetValue(),te=requireSetValue();return mergeValue=function(ie,oe,se){if(!Z(ie))throw new TypeError("expected an object");if(typeof oe!="string"||se==null)return _.apply(null,arguments);if(typeof se=="string")return te(ie,oe,se),ie;var le=K(ie,oe);return Z(se)&&Z(le)&&(se=_({},le,se)),te(ie,oe,se),ie},mergeValue}var mergeValueExports=requireMergeValue();const merge=getDefaultExportFromCjs(mergeValueExports),join=(...Z)=>Z.filter(Boolean).join(".");function getKeyPath(Z){const _=Z.split(".");return[_.pop(),_.join(".")||void 0]}function getValuesForPaths(Z,_){return Object.entries(pick(Z,_)).reduce((K,[,{value:te,disabled:ne,key:ie}])=>(K[ie]=ne?void 0:te,K),{})}function useCompareMemoize(Z,_){const K=reactExports.useRef();return dequal(Z,K.current)||(K.current=Z),K.current}function useDeepMemo(Z,_){return reactExports.useMemo(Z,useCompareMemoize(_))}function useToggle(Z){const _=reactExports.useRef(null),K=reactExports.useRef(null),te=reactExports.useRef(!0);return reactExports.useLayoutEffect(()=>{Z||(_.current.style.height="0px",_.current.style.overflow="hidden")},[]),reactExports.useEffect(()=>{if(te.current){te.current=!1;return}let ne;const ie=_.current,oe=()=>{Z&&(ie.style.removeProperty("height"),ie.style.removeProperty("overflow"),K.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};ie.addEventListener("transitionend",oe,{once:!0});const{height:se}=K.current.getBoundingClientRect();return ie.style.height=se+"px",Z||(ie.style.overflow="hidden",ne=window.setTimeout(()=>ie.style.height="0px",50)),()=>{ie.removeEventListener("transitionend",oe),clearTimeout(ne)}},[Z]),{wrapperRef:_,contentRef:K}}const useVisiblePaths=Z=>{const[_,K]=reactExports.useState(Z.getVisiblePaths());return reactExports.useEffect(()=>{K(Z.getVisiblePaths());const te=Z.useStore.subscribe(Z.getVisiblePaths,K,{equalityFn:shallow});return()=>te()},[Z]),_};function useValuesForPath(Z,_,K){return Z.useStore(ne=>{const ie=_objectSpread2(_objectSpread2({},K),ne.data);return getValuesForPaths(ie,_)},shallow)}function usePopin(Z=3){const _=reactExports.useRef(null),K=reactExports.useRef(null),[te,ne]=reactExports.useState(!1),ie=reactExports.useCallback(()=>ne(!0),[]),oe=reactExports.useCallback(()=>ne(!1),[]);return reactExports.useLayoutEffect(()=>{if(te){const{bottom:se,top:le,left:ce}=_.current.getBoundingClientRect(),{height:fe}=K.current.getBoundingClientRect(),me=se+fe>window.innerHeight-40?"up":"down";K.current.style.position="fixed",K.current.style.zIndex="10000",K.current.style.left=ce+"px",me==="down"?K.current.style.top=se+Z+"px":K.current.style.bottom=window.innerHeight-le+Z+"px"}},[Z,te]),{popinRef:_,wrapperRef:K,shown:te,show:ie,hide:oe}}k$1([namesPlugin]);const convertMap={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};v8n.extend({color:()=>Z=>w(Z).isValid()});const schema$2=Z=>v8n().color().test(Z);function convert(Z,{format:_,hasAlpha:K,isString:te}){const ne=convertMap[_]+(te&&_!=="hex"?"String":""),ie=Z[ne]();return typeof ie=="object"&&!K?omit(ie,["a"]):ie}const sanitize$2=(Z,_)=>{const K=w(Z);if(!K.isValid())throw Error("Invalid color");return convert(K,_)},format$1=(Z,_)=>convert(w(Z),_objectSpread2(_objectSpread2({},_),{},{isString:!0,format:"hex"})),normalize$3=({value:Z})=>{const _=I$1(Z),K=_==="name"?"hex":_,te=typeof Z=="object"?"a"in Z:_==="hex"&&Z.length===8||/^(rgba)|(hsla)|(hsva)/.test(Z),ne={format:K,hasAlpha:te,isString:typeof Z=="string"};return{value:sanitize$2(Z,ne),settings:ne}};var props$2=Object.freeze({__proto__:null,schema:schema$2,sanitize:sanitize$2,format:format$1,normalize:normalize$3});const ColorPreview=styled("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),PickerContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),PickerWrapper=styled("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function convertToRgb(Z,_){return _!=="rgb"?w(Z).toRgb():Z}function Color({value:Z,displayValue:_,settings:K,onUpdate:te}){const{emitOnEditStart:ne,emitOnEditEnd:ie}=useInputContext(),{format:oe,hasAlpha:se}=K,{popinRef:le,wrapperRef:ce,shown:fe,show:me,hide:pe}=usePopin(),ge=reactExports.useRef(0),[ye,Ee]=reactExports.useState(()=>convertToRgb(Z,oe)),_e=se?Ce:Ne,Se=()=>{Ee(convertToRgb(Z,oe)),me(),ne()},Re=()=>{pe(),ie(),window.clearTimeout(ge.current)},Te=()=>{ge.current=window.setTimeout(Re,500)};return reactExports.useEffect(()=>()=>window.clearTimeout(ge.current),[]),React.createElement(React.Fragment,null,React.createElement(ColorPreview,{ref:le,active:fe,onClick:()=>Se(),style:{color:_}}),fe&&React.createElement(Portal,null,React.createElement(Overlay,{onPointerUp:Re}),React.createElement(PickerWrapper,{ref:ce,onMouseEnter:()=>window.clearTimeout(ge.current),onMouseLeave:Ae=>Ae.buttons===0&&Te()},React.createElement(_e,{color:ye,onChange:te}))))}function ColorComponent(){const{value:Z,displayValue:_,label:K,onChange:te,onUpdate:ne,settings:ie}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,K),React.createElement(PickerContainer,null,React.createElement(Color,{value:Z,displayValue:_,onChange:te,onUpdate:ne,settings:ie}),React.createElement(ValueInput,{value:_,onChange:te,onUpdate:ne})))}var color=_objectSpread2({component:ColorComponent},props$2);function Vector3dComponent(){const{label:Z,displayValue:_,onUpdate:K,settings:te}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Vector,{value:_,settings:te,onUpdate:K}))}var vector3d=_objectSpread2({component:Vector3dComponent},getVectorPlugin(["x","y","z"]));const JoystickTrigger=styled("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),JoystickPlayground=styled("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Joystick({value:Z,settings:_,onUpdate:K}){const te=reactExports.useRef(),ne=reactExports.useRef(0),ie=reactExports.useRef(0),oe=reactExports.useRef(1),[se,le]=reactExports.useState(!1),[ce,fe]=reactExports.useState(!1),[me,pe]=useTransform(),ge=reactExports.useRef(null),ye=reactExports.useRef(null);reactExports.useLayoutEffect(()=>{if(se){const{top:Ye,left:Ke,width:ot,height:ut}=ge.current.getBoundingClientRect();ye.current.style.left=Ke+ot/2+"px",ye.current.style.top=Ye+ut/2+"px"}},[se]);const{keys:[Ee,_e],joystick:Se}=_,Re=Se==="invertY"?1:-1,{[Ee]:{step:Te},[_e]:{step:Ae}}=_,Fe=useTh("sizes","joystickWidth"),$e=useTh("sizes","joystickHeight"),ke=parseFloat(Fe)*.8/2,ze=parseFloat($e)*.8/2,Ue=reactExports.useCallback(()=>{te.current||(fe(!0),ne.current&&pe({x:ne.current*ke}),ie.current&&pe({y:ie.current*-ze}),te.current=window.setInterval(()=>{K(Ye=>{const Ke=Te*ne.current*oe.current,ot=Re*Ae*ie.current*oe.current;return Array.isArray(Ye)?{[Ee]:Ye[0]+Ke,[_e]:Ye[1]+ot}:{[Ee]:Ye[Ee]+Ke,[_e]:Ye[_e]+ot}})},16))},[ke,ze,K,pe,Te,Ae,Ee,_e,Re]),Oe=reactExports.useCallback(()=>{window.clearTimeout(te.current),te.current=void 0,fe(!1)},[]);reactExports.useEffect(()=>{function Ye(Ke){oe.current=multiplyStep(Ke)}return window.addEventListener("keydown",Ye),window.addEventListener("keyup",Ye),()=>{window.clearTimeout(te.current),window.removeEventListener("keydown",Ye),window.removeEventListener("keyup",Ye)}},[]);const Ve=useDrag(({first:Ye,active:Ke,delta:[ot,ut],movement:[ct,gt]})=>{Ye&&le(!0);const je=clamp$1(ct,-ke,ke),rt=clamp$1(gt,-ze,ze);ne.current=Math.abs(ct)>Math.abs(je)?Math.sign(ct-je):0,ie.current=Math.abs(gt)>Math.abs(rt)?Math.sign(rt-gt):0;let Qe=Z[Ee],qe=Z[_e];Ke?(ne.current||(Qe+=ot*Te*oe.current,pe({x:je})),ie.current||(qe-=Re*ut*Ae*oe.current,pe({y:rt})),ne.current||ie.current?Ue():Oe(),K({[Ee]:Qe,[_e]:qe})):(le(!1),ne.current=0,ie.current=0,pe({x:0,y:0}),Oe())});return React.createElement(JoystickTrigger,_extends({ref:ge},Ve()),se&&React.createElement(Portal,null,React.createElement(JoystickPlayground,{ref:ye,isOutOfBounds:ce},React.createElement("div",null),React.createElement("span",{ref:me}))))}const Container$1=styled("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Vector2dComponent(){const{label:Z,displayValue:_,onUpdate:K,settings:te}=useInputContext();return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Container$1,{withJoystick:!!te.joystick},te.joystick&&React.createElement(Joystick,{value:_,settings:te,onUpdate:K}),React.createElement(Vector,{value:_,settings:te,onUpdate:K})))}const _excluded$7=["joystick"],plugin=getVectorPlugin(["x","y"]),normalize$2=Z=>{let{joystick:_=!0}=Z,K=_objectWithoutProperties$1(Z,_excluded$7);const{value:te,settings:ne}=plugin.normalize(K);return{value:te,settings:_objectSpread2(_objectSpread2({},ne),{},{joystick:_})}};var vector2d=_objectSpread2(_objectSpread2({component:Vector2dComponent},plugin),{},{normalize:normalize$2});const sanitize$1=Z=>{if(Z!==void 0){if(Z instanceof File)try{return URL.createObjectURL(Z)}catch{return}if(typeof Z=="string"&&Z.indexOf("blob:")===0)return Z;throw Error("Invalid image format [undefined | blob |File].")}},schema$1=(Z,_)=>typeof _=="object"&&"image"in _,normalize$1=({image:Z})=>({value:Z});var props$1=Object.freeze({__proto__:null,sanitize:sanitize$1,schema:schema$1,normalize:normalize$1});const ImageContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),DropZone=styled("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ImagePreview=styled("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ImageLargePreview=styled("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Instructions=styled("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Remove=styled("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function ImageComponent(){const{label:Z,value:_,onUpdate:K,disabled:te}=useInputContext(),{popinRef:ne,wrapperRef:ie,shown:oe,show:se,hide:le}=usePopin(),ce=reactExports.useCallback(ye=>{ye.length&&K(ye[0])},[K]),fe=reactExports.useCallback(ye=>{ye.stopPropagation(),K(void 0)},[K]),{getRootProps:me,getInputProps:pe,isDragAccept:ge}=useDropzone({maxFiles:1,accept:"image/*",onDrop:ce,disabled:te});return React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(ImageContainer,null,React.createElement(ImagePreview,{ref:ne,hasImage:!!_,onPointerDown:()=>!!_&&se(),onPointerUp:le,style:{backgroundImage:_?`url(${_})`:"none"}}),oe&&!!_&&React.createElement(Portal,null,React.createElement(Overlay,{onPointerUp:le,style:{cursor:"pointer"}}),React.createElement(ImageLargePreview,{ref:ie,style:{backgroundImage:`url(${_})`}})),React.createElement(DropZone,me({isDragAccept:ge}),React.createElement("input",pe()),React.createElement(Instructions,null,ge?"drop image":"click or drop")),React.createElement(Remove,{onClick:fe,disabled:!_})))}var image=_objectSpread2({component:ImageComponent},props$1);const number=v8n().number(),schema=(Z,_)=>v8n().array().length(2).every.number().test(Z)&&v8n().schema({min:number,max:number}).test(_),format=Z=>({min:Z[0],max:Z[1]}),sanitize=(Z,{bounds:[_,K]},te)=>{const ne=Array.isArray(Z)?format(Z):Z,ie={min:te[0],max:te[1]},{min:oe,max:se}=_objectSpread2(_objectSpread2({},ie),ne);return[clamp$1(Number(oe),_,Math.max(_,se)),clamp$1(Number(se),Math.min(K,oe),K)]},normalize=({value:Z,min:_,max:K})=>{const te={min:_,max:K},ne=normalizeKeyedNumberSettings(format(Z),{min:te,max:te}),ie=[_,K],oe=_objectSpread2(_objectSpread2({},ne),{},{bounds:ie});return{value:sanitize(format(Z),oe,Z),settings:oe}};var props=Object.freeze({__proto__:null,schema,format,sanitize,normalize});const _excluded$6=["value","bounds","onDrag"],_excluded2$1=["bounds"],Container=styled("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function IntervalSlider(Z){let{value:_,bounds:[K,te],onDrag:ne}=Z,ie=_objectWithoutProperties$1(Z,_excluded$6);const oe=reactExports.useRef(null),se=reactExports.useRef(null),le=reactExports.useRef(null),ce=reactExports.useRef(0),fe=useTh("sizes","scrubberWidth"),me=useDrag(({event:ye,first:Ee,xy:[_e],movement:[Se],memo:Re={}})=>{if(Ee){const{width:Ae,left:Fe}=oe.current.getBoundingClientRect();ce.current=Ae-parseFloat(fe);const $e=(ye==null?void 0:ye.target)===se.current||(ye==null?void 0:ye.target)===le.current;Re.pos=invertedRange((_e-Fe)/Ae,K,te);const ke=Math.abs(Re.pos-_.min)-Math.abs(Re.pos-_.max);Re.key=ke<0||ke===0&&Re.pos<=_.min?"min":"max",$e&&(Re.pos=_[Re.key])}const Te=Re.pos+invertedRange(Se/ce.current,0,te-K);return ne({[Re.key]:sanitizeStep(Te,ie[Re.key])}),Re}),pe=`calc(${range(_.min,K,te)} * (100% - ${fe} - 8px) + 4px)`,ge=`calc(${1-range(_.max,K,te)} * (100% - ${fe} - 8px) + 4px)`;return React.createElement(RangeWrapper,_extends({ref:oe},me()),React.createElement(Range,null,React.createElement(Indicator,{style:{left:pe,right:ge}})),React.createElement(Scrubber,{position:"left",ref:se,style:{left:pe}}),React.createElement(Scrubber,{position:"right",ref:le,style:{right:ge}}))}function IntervalComponent(){const{label:Z,displayValue:_,onUpdate:K,settings:te}=useInputContext(),ne=_objectWithoutProperties$1(te,_excluded2$1);return React.createElement(React.Fragment,null,React.createElement(Row$1,{input:!0},React.createElement(Label,null,Z),React.createElement(Container,null,React.createElement(IntervalSlider,_extends({value:_},te,{onDrag:K})),React.createElement(Vector,{value:_,settings:ne,onUpdate:K,innerLabelTrim:0}))))}var interval=_objectSpread2({component:IntervalComponent},props);const createEventEmitter=()=>{const Z=new Map;return{on:(_,K)=>{let te=Z.get(_);te===void 0&&(te=new Set,Z.set(_,te)),te.add(K)},off:(_,K)=>{const te=Z.get(_);te!==void 0&&(te.delete(K),te.size===0&&Z.delete(_))},emit:(_,...K)=>{const te=Z.get(_);if(te!==void 0)for(const ne of te)ne(...K)}}},_excluded$5=["type","value"],_excluded2=["onChange","transient","onEditStart","onEditEnd"],Store=function(){const _=create(subscribeWithSelector(()=>({data:{}}))),K=createEventEmitter();this.storeId=getUid(),this.useStore=_;const te={},ne=new Set;this.getVisiblePaths=()=>{const oe=this.getData(),se=Object.keys(oe),le=[];Object.entries(te).forEach(([fe,me])=>{me.render&&se.some(pe=>pe.indexOf(fe)===0)&&!me.render(this.get)&&le.push(fe+".")});const ce=[];return ne.forEach(fe=>{fe in oe&&oe[fe].__refCount>0&&le.every(me=>fe.indexOf(me)===-1)&&(!oe[fe].render||oe[fe].render(this.get))&&ce.push(fe)}),ce},this.setOrderedPaths=oe=>{oe.forEach(se=>ne.add(se))},this.orderPaths=oe=>(this.setOrderedPaths(oe),oe),this.disposePaths=oe=>{_.setState(se=>{const le=se.data;return oe.forEach(ce=>{if(ce in le){const fe=le[ce];fe.__refCount--,fe.__refCount===0&&fe.type in SpecialInputs&&delete le[ce]}}),{data:le}})},this.dispose=()=>{_.setState(()=>({data:{}}))},this.getFolderSettings=oe=>te[oe]||{},this.getData=()=>_.getState().data,this.addData=(oe,se)=>{_.setState(le=>{const ce=le.data;return Object.entries(oe).forEach(([fe,me])=>{let pe=ce[fe];if(pe){const{type:ge,value:ye}=me,Ee=_objectWithoutProperties$1(me,_excluded$5);ge!==pe.type?warn(LevaErrors.INPUT_TYPE_OVERRIDE,ge):((pe.__refCount===0||se)&&Object.assign(pe,Ee),pe.__refCount++)}else ce[fe]=_objectSpread2(_objectSpread2({},me),{},{__refCount:1})}),{data:ce}})},this.setValueAtPath=(oe,se,le)=>{_.setState(ce=>{const fe=ce.data;return updateInput(fe[oe],se,oe,this,le),{data:fe}})},this.setSettingsAtPath=(oe,se)=>{_.setState(le=>{const ce=le.data;return ce[oe].settings=_objectSpread2(_objectSpread2({},ce[oe].settings),se),{data:ce}})},this.disableInputAtPath=(oe,se)=>{_.setState(le=>{const ce=le.data;return ce[oe].disabled=se,{data:ce}})},this.set=(oe,se)=>{_.setState(le=>{const ce=le.data;return Object.entries(oe).forEach(([fe,me])=>{try{updateInput(ce[fe],me,void 0,void 0,se)}catch{}}),{data:ce}})},this.getInput=oe=>{try{return this.getData()[oe]}catch{warn(LevaErrors.PATH_DOESNT_EXIST,oe)}},this.get=oe=>{var se;return(se=this.getInput(oe))===null||se===void 0?void 0:se.value},this.emitOnEditStart=oe=>{K.emit(`onEditStart:${oe}`,this.get(oe),oe,_objectSpread2(_objectSpread2({},this.getInput(oe)),{},{get:this.get}))},this.emitOnEditEnd=oe=>{K.emit(`onEditEnd:${oe}`,this.get(oe),oe,_objectSpread2(_objectSpread2({},this.getInput(oe)),{},{get:this.get}))},this.subscribeToEditStart=(oe,se)=>{const le=`onEditStart:${oe}`;return K.on(le,se),()=>K.off(le,se)},this.subscribeToEditEnd=(oe,se)=>{const le=`onEditEnd:${oe}`;return K.on(le,se),()=>K.off(le,se)};const ie=(oe,se,le)=>{const ce={};return Object.entries(oe).forEach(([fe,me])=>{if(fe==="")return warn(LevaErrors.EMPTY_KEY);let pe=join(se,fe);if(me.type===SpecialInputs.FOLDER){const ge=ie(me.schema,pe,le);Object.assign(ce,ge),pe in te||(te[pe]=me.settings)}else if(fe in le)warn(LevaErrors.DUPLICATE_KEYS,fe,pe,le[fe].path);else{const ge=normalizeInput(me,fe,pe,ce);if(ge){const{type:ye,options:Ee,input:_e}=ge,{onChange:Se,transient:Re,onEditStart:Te,onEditEnd:Ae}=Ee,Fe=_objectWithoutProperties$1(Ee,_excluded2);ce[pe]=_objectSpread2(_objectSpread2(_objectSpread2({type:ye},Fe),_e),{},{fromPanel:!0}),le[fe]={path:pe,onChange:Se,transient:Re,onEditStart:Te,onEditEnd:Ae}}else warn(LevaErrors.UNKNOWN_INPUT,pe,me)}}),ce};this.getDataFromSchema=oe=>{const se={};return[ie(oe,"",se),se]}},levaStore=new Store,defaultSettings$2={collapsed:!1};function folder(Z,_){return{type:SpecialInputs.FOLDER,schema:Z,settings:_objectSpread2(_objectSpread2({},defaultSettings$2),_)}}const isInput=Z=>"__levaInput"in Z,buildTree=(Z,_)=>{const K={},te=_?_.toLowerCase():null;return Z.forEach(ne=>{const[ie,oe]=getKeyPath(ne);(!te||ie.toLowerCase().indexOf(te)>-1)&&merge(K,oe,{[ie]:{__levaInput:!0,path:ne}})}),K},_excluded$4=["type","label","path","valueKey","value","settings","setValue","disabled"];function ControlInput(Z){let{type:_,label:K,path:te,valueKey:ne,value:ie,settings:oe,setValue:se,disabled:le}=Z,ce=_objectWithoutProperties$1(Z,_excluded$4);const{displayValue:fe,onChange:me,onUpdate:pe}=useInputSetters({type:_,value:ie,settings:oe,setValue:se}),ge=Plugins[_].component;return ge?React.createElement(InputContext.Provider,{value:_objectSpread2({key:ne,path:te,id:""+te,label:K,displayValue:fe,value:ie,onChange:me,onUpdate:pe,settings:oe,setValue:se,disabled:le},ce)},React.createElement(StyledInputWrapper$1,{disabled:le},React.createElement(ge,null))):(warn(LevaErrors.NO_COMPONENT_FOR_TYPE,_,te),null)}const StyledButton=styled("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Button$1({onClick:Z,settings:_,label:K}){const te=useStoreContext();return React.createElement(Row$1,null,React.createElement(StyledButton,{disabled:_.disabled,onClick:()=>Z(te.get)},K))}const StyledButtonGroup=styled("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),StyledButtonGroupButton=styled("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),getOpts=({label:Z,opts:_})=>{let K=typeof Z=="string"&&Z.trim()===""?null:Z,te=_;return typeof _.opts=="object"&&(te.label!==void 0&&(K=_.label),te=_.opts),{label:K,opts:te}};function ButtonGroup(Z){const{label:_,opts:K}=getOpts(Z),te=useStoreContext();return React.createElement(Row$1,{input:!!_},_&&React.createElement(Label,null,_),React.createElement(StyledButtonGroup,null,Object.entries(K).map(([ne,ie])=>React.createElement(StyledButtonGroupButton,{key:ne,onClick:()=>ie(te.get)},ne))))}const Canvas=styled("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),POINTS=100;function push(Z,_){Z.push(_),Z.length>POINTS&&Z.shift()}const MonitorCanvas=reactExports.forwardRef(function({initialValue:Z},_){const K=useTh("colors","highlight3"),te=useTh("colors","elevation2"),ne=useTh("colors","highlight1"),[ie,oe]=reactExports.useMemo(()=>[w(ne).alpha(.4).toRgbString(),w(ne).alpha(.1).toRgbString()],[ne]),se=reactExports.useRef([Z]),le=reactExports.useRef(Z),ce=reactExports.useRef(Z),fe=reactExports.useRef(),me=reactExports.useCallback((ye,Ee)=>{if(!ye)return;const{width:_e,height:Se}=ye,Re=new Path2D,Te=_e/POINTS,Ae=Se*.05;for(let ke=0;ke<se.current.length;ke++){const ze=range(se.current[ke],le.current,ce.current),Ue=Te*ke,Oe=Se-ze*(Se-Ae*2)-Ae;Re.lineTo(Ue,Oe)}Ee.clearRect(0,0,_e,Se);const Fe=new Path2D(Re);Fe.lineTo(Te*(se.current.length+1),Se),Fe.lineTo(0,Se),Fe.lineTo(0,0);const $e=Ee.createLinearGradient(0,0,0,Se);$e.addColorStop(0,ie),$e.addColorStop(1,oe),Ee.fillStyle=$e,Ee.fill(Fe),Ee.strokeStyle=te,Ee.lineJoin="round",Ee.lineWidth=14,Ee.stroke(Re),Ee.strokeStyle=K,Ee.lineWidth=2,Ee.stroke(Re)},[K,te,ie,oe]),[pe,ge]=useCanvas2d(me);return reactExports.useImperativeHandle(_,()=>({frame:ye=>{(le.current===void 0||ye<le.current)&&(le.current=ye),(ce.current===void 0||ye>ce.current)&&(ce.current=ye),push(se.current,ye),fe.current=requestAnimationFrame(()=>me(pe.current,ge.current))}}),[pe,ge,me]),reactExports.useEffect(()=>()=>cancelAnimationFrame(fe.current),[]),React.createElement(Canvas,{ref:pe})}),parse=Z=>Number.isFinite(Z)?Z.toPrecision(2):Z.toString(),MonitorLog=reactExports.forwardRef(function({initialValue:Z},_){const[K,te]=reactExports.useState(parse(Z));return reactExports.useImperativeHandle(_,()=>({frame:ne=>te(parse(ne))}),[]),React.createElement("div",null,K)});function getValue(Z){return typeof Z=="function"?Z():Z.current}function Monitor({label:Z,objectOrFn:_,settings:K}){const te=reactExports.useRef(),ne=reactExports.useRef(getValue(_));return reactExports.useEffect(()=>{const ie=window.setInterval(()=>{var oe;document.hidden||(oe=te.current)===null||oe===void 0||oe.frame(getValue(_))},K.interval);return()=>window.clearInterval(ie)},[_,K.interval]),React.createElement(Row$1,{input:!0},React.createElement(Label,{align:"top"},Z),K.graph?React.createElement(MonitorCanvas,{ref:te,initialValue:ne.current}):React.createElement(MonitorLog,{ref:te,initialValue:ne.current}))}const _excluded$3=["type","label","key"],specialComponents={[SpecialInputs.BUTTON]:Button$1,[SpecialInputs.BUTTON_GROUP]:ButtonGroup,[SpecialInputs.MONITOR]:Monitor},Control=React.memo(({path:Z})=>{const[_,{set:K,setSettings:te,disable:ne,storeId:ie,emitOnEditStart:oe,emitOnEditEnd:se}]=useInput(Z);if(!_)return null;const{type:le,label:ce,key:fe}=_,me=_objectWithoutProperties$1(_,_excluded$3);if(le in SpecialInputs){const pe=specialComponents[le];return React.createElement(pe,_extends({label:ce,path:Z},me))}return le in Plugins?React.createElement(ControlInput,_extends({key:ie+Z,type:le,label:ce,storeId:ie,path:Z,valueKey:fe,setValue:K,setSettings:te,disable:ne,emitOnEditStart:oe,emitOnEditEnd:se},me)):(log(LevaErrors.UNSUPPORTED_INPUT,le,Z),null)});function FolderTitle({toggle:Z,toggled:_,name:K}){return React.createElement(StyledTitle,{onClick:()=>Z()},React.createElement(Chevron,{toggled:_}),React.createElement("div",null,K))}const Folder=({name:Z,path:_,tree:K})=>{const te=useStoreContext(),ne=join(_,Z),{collapsed:ie,color:oe}=te.getFolderSettings(ne),[se,le]=reactExports.useState(!ie),ce=reactExports.useRef(null),fe=useTh("colors","folderWidgetColor"),me=useTh("colors","folderTextColor");return reactExports.useLayoutEffect(()=>{ce.current.style.setProperty("--leva-colors-folderWidgetColor",oe||fe),ce.current.style.setProperty("--leva-colors-folderTextColor",oe||me)},[oe,fe,me]),React.createElement(StyledFolder,{ref:ce},React.createElement(FolderTitle,{name:Z,toggled:se,toggle:()=>le(pe=>!pe)}),React.createElement(TreeWrapper,{parent:ne,tree:K,toggled:se}))},TreeWrapper=React.memo(({isRoot:Z=!1,fill:_=!1,flat:K=!1,parent:te,tree:ne,toggled:ie})=>{const{wrapperRef:oe,contentRef:se}=useToggle(ie),le=useStoreContext(),ce=([me,pe])=>{var ge;return(isInput(pe)?(ge=le.getInput(pe.path))===null||ge===void 0?void 0:ge.order:le.getFolderSettings(join(te,me)).order)||0},fe=Object.entries(ne).sort((me,pe)=>ce(me)-ce(pe));return React.createElement(StyledWrapper,{ref:oe,isRoot:Z,fill:_,flat:K},React.createElement(StyledContent,{ref:se,isRoot:Z,toggled:ie},fe.map(([me,pe])=>isInput(pe)?React.createElement(Control,{key:pe.path,valueKey:pe.valueKey,path:pe.path}):React.createElement(Folder,{key:me,name:me,path:te,tree:pe}))))}),StyledRoot=styled("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${StyledInputRow}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),iconWidth=40,Icon=styled("i",{$flexCenter:"",width:iconWidth,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),StyledTitleWithFilter=styled("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),FilterWrapper=styled("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Icon}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),StyledFilterInput=styled("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),TitleContainer=styled("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:iconWidth}}}}),FilterInput=React.forwardRef(({setFilter:Z,toggle:_},K)=>{const[te,ne]=reactExports.useState(""),ie=reactExports.useMemo(()=>debounce(Z,250),[Z]),oe=()=>{Z(""),ne("")},se=le=>{const ce=le.currentTarget.value;_(!0),ne(ce)};return reactExports.useEffect(()=>{ie(te)},[te,ie]),React.createElement(React.Fragment,null,React.createElement(StyledFilterInput,{ref:K,value:te,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:le=>le.stopPropagation(),onChange:se}),React.createElement(Icon,{onClick:()=>oe(),style:{visibility:te?"visible":"hidden"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function TitleWithFilter({setFilter:Z,onDrag:_,onDragStart:K,onDragEnd:te,toggle:ne,toggled:ie,title:oe,drag:se,filterEnabled:le,from:ce}){const[fe,me]=reactExports.useState(!1),pe=reactExports.useRef(null);reactExports.useEffect(()=>{var ye,Ee;fe?(ye=pe.current)===null||ye===void 0||ye.focus():(Ee=pe.current)===null||Ee===void 0||Ee.blur()},[fe]);const ge=useDrag(({offset:[ye,Ee],first:_e,last:Se})=>{_({x:ye,y:Ee}),_e&&K({x:ye,y:Ee}),Se&&te({x:ye,y:Ee})},{filterTaps:!0,from:({offset:[ye,Ee]})=>[(ce==null?void 0:ce.x)||ye,(ce==null?void 0:ce.y)||Ee]});return reactExports.useEffect(()=>{const ye=Ee=>{Ee.key==="L"&&Ee.shiftKey&&Ee.metaKey&&me(_e=>!_e)};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[]),React.createElement(React.Fragment,null,React.createElement(StyledTitleWithFilter,{mode:se?"drag":void 0},React.createElement(Icon,{active:!ie,onClick:()=>ne()},React.createElement(Chevron,{toggled:ie,width:12,height:8})),React.createElement(TitleContainer,_extends({},se?ge():{},{drag:se,filterEnabled:le}),oe===void 0&&se?React.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},React.createElement("circle",{cx:"2",cy:"2",r:"2"}),React.createElement("circle",{cx:"14",cy:"2",r:"2"}),React.createElement("circle",{cx:"26",cy:"2",r:"2"}),React.createElement("circle",{cx:"2",cy:"12",r:"2"}),React.createElement("circle",{cx:"14",cy:"12",r:"2"}),React.createElement("circle",{cx:"26",cy:"12",r:"2"})):oe),le&&React.createElement(Icon,{active:fe,onClick:()=>me(ye=>!ye)},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},React.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),React.createElement(FilterWrapper,{toggled:fe},React.createElement(FilterInput,{ref:pe,setFilter:Z,toggle:ne})))}const _excluded$2=["store","hidden","theme","collapsed"];function LevaRoot(Z){let{store:_,hidden:K=!1,theme:te,collapsed:ne=!1}=Z,ie=_objectWithoutProperties$1(Z,_excluded$2);const oe=useDeepMemo(()=>mergeTheme(te),[te]),[se,le]=reactExports.useState(!ne),ce=typeof ne=="object"?!ne.collapsed:se,fe=reactExports.useMemo(()=>typeof ne=="object"?me=>{typeof me=="function"?ne.onChange(!me(!ne.collapsed)):ne.onChange(!me)}:le,[ne]);return!_||K?null:React.createElement(ThemeContext$1.Provider,{value:oe},React.createElement(LevaCore,_extends({store:_},ie,{toggled:ce,setToggle:fe,rootClass:oe.className})))}const LevaCore=React.memo(({store:Z,rootClass:_,fill:K=!1,flat:te=!1,neverHide:ne=!1,oneLineLabels:ie=!1,titleBar:oe={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:se=!1,toggled:le,setToggle:ce})=>{var fe,me;const pe=useVisiblePaths(Z),[ge,ye]=reactExports.useState(""),Ee=reactExports.useMemo(()=>buildTree(pe,ge),[pe,ge]),[_e,Se]=useTransform(),Re=ne||pe.length>0,Te=typeof oe=="object"&&oe.title||void 0,Ae=typeof oe=="object"&&(fe=oe.drag)!==null&&fe!==void 0?fe:!0,Fe=typeof oe=="object"&&(me=oe.filter)!==null&&me!==void 0?me:!0,$e=typeof oe=="object"&&oe.position||void 0,ke=typeof oe=="object"&&oe.onDrag||void 0,ze=typeof oe=="object"&&oe.onDragStart||void 0,Ue=typeof oe=="object"&&oe.onDragEnd||void 0;return React.useEffect(()=>{Se({x:$e==null?void 0:$e.x,y:$e==null?void 0:$e.y})},[$e,Se]),globalStyles(),React.createElement(PanelSettingsContext.Provider,{value:{hideCopyButton:se}},React.createElement(StyledRoot,{ref:_e,className:_,fill:K,flat:te,oneLineLabels:ie,hideTitleBar:!oe,style:{display:Re?"block":"none"}},oe&&React.createElement(TitleWithFilter,{onDrag:Oe=>{Se(Oe),ke==null||ke(Oe)},onDragStart:Oe=>ze==null?void 0:ze(Oe),onDragEnd:Oe=>Ue==null?void 0:Ue(Oe),setFilter:ye,toggle:Oe=>ce(Ve=>Oe??!Ve),toggled:le,title:Te,drag:Ae,filterEnabled:Fe,from:$e}),Re&&React.createElement(StoreContext.Provider,{value:Z},React.createElement(TreeWrapper,{isRoot:!0,fill:K,flat:te,tree:Ee,toggled:le}))))}),_excluded$1$1=["isRoot"];let rootInitialized=!1,rootEl=null;function Leva(Z){let{isRoot:_=!1}=Z,K=_objectWithoutProperties$1(Z,_excluded$1$1);return reactExports.useEffect(()=>(rootInitialized=!0,!_&&rootEl&&(rootEl.remove(),rootEl=null),()=>{_||(rootInitialized=!1)}),[_]),React.createElement(LevaRoot,_extends({store:levaStore},K))}function useRenderRoot(Z){reactExports.useEffect(()=>{Z&&!rootInitialized&&(rootEl||(rootEl=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(rootEl),render(React.createElement(Leva,{isRoot:!0}),rootEl))),rootInitialized=!0)},[Z])}function parseArgs(Z,_,K,te,ne){let ie,oe,se,le,ce;return typeof Z=="string"?(oe=Z,ie=_,Array.isArray(K)&&(ce=K)):(ie=Z,Array.isArray(_)?ce=_:(le=_,ce=K)),{schema:ie,folderName:oe,folderSettings:se,hookSettings:le,deps:ce||[]}}function useControls(Z,_,K,te,ne){const{folderName:ie,schema:oe,folderSettings:se,hookSettings:le,deps:ce}=parseArgs(Z,_,K),fe=typeof oe=="function",me=reactExports.useRef(!1),pe=reactExports.useRef(!0),ge=useDeepMemo(()=>{me.current=!0;const Ve=typeof oe=="function"?oe():oe;return ie?{[ie]:folder(Ve,se)}:Ve},ce),ye=!(le!=null&&le.store);useRenderRoot(ye);const[Ee]=reactExports.useState(()=>(le==null?void 0:le.store)||levaStore),[_e,Se]=reactExports.useMemo(()=>Ee.getDataFromSchema(ge),[Ee,ge]),[Re,Te,Ae,Fe,$e]=reactExports.useMemo(()=>{const Ve=[],Ye=[],Ke={},ot={},ut={};return Object.values(Se).forEach(({path:ct,onChange:gt,onEditStart:je,onEditEnd:rt,transient:Qe})=>{Ve.push(ct),gt?(Ke[ct]=gt,Qe||Ye.push(ct)):Ye.push(ct),je&&(ot[ct]=je),rt&&(ut[ct]=rt)}),[Ve,Ye,Ke,ot,ut]},[Se]),ke=reactExports.useMemo(()=>Ee.orderPaths(Re),[Re,Ee]),ze=useValuesForPath(Ee,Te,_e),Ue=reactExports.useCallback(Ve=>{const Ye=Object.entries(Ve).reduce((Ke,[ot,ut])=>Object.assign(Ke,{[Se[ot].path]:ut}),{});Ee.set(Ye,!1)},[Ee,Se]),Oe=reactExports.useCallback(Ve=>Ee.get(Se[Ve].path),[Ee,Se]);return reactExports.useEffect(()=>{const Ve=!pe.current&&me.current;return Ee.addData(_e,Ve),pe.current=!1,me.current=!1,()=>Ee.disposePaths(ke)},[Ee,ke,_e]),reactExports.useEffect(()=>{const Ve=[];return Object.entries(Ae).forEach(([Ye,Ke])=>{Ke(Ee.get(Ye),Ye,_objectSpread2({initial:!0,get:Ee.get},Ee.getInput(Ye)));const ot=Ee.useStore.subscribe(ut=>{const ct=ut.data[Ye];return[ct.disabled?void 0:ct.value,ct]},([ut,ct])=>Ke(ut,Ye,_objectSpread2({initial:!1,get:Ee.get},ct)),{equalityFn:shallow});Ve.push(ot)}),()=>Ve.forEach(Ye=>Ye())},[Ee,Ae]),reactExports.useEffect(()=>{const Ve=[];return Object.entries(Fe).forEach(([Ye,Ke])=>Ve.push(Ee.subscribeToEditStart(Ye,Ke))),Object.entries($e).forEach(([Ye,Ke])=>Ve.push(Ee.subscribeToEditEnd(Ye,Ke))),()=>Ve.forEach(Ye=>Ye())},[Fe,$e,Ee]),fe?[ze,Ue,Oe]:ze}register(LevaInputs.SELECT,select);register(LevaInputs.IMAGE,image);register(LevaInputs.NUMBER,number$1);register(LevaInputs.COLOR,color);register(LevaInputs.STRING,string);register(LevaInputs.BOOLEAN,boolean);register(LevaInputs.INTERVAL,interval);register(LevaInputs.VECTOR3D,vector3d);register(LevaInputs.VECTOR2D,vector2d);function preprocessGLSLForThree(Z){return Z.replace(/^#version.*$/gm,"")}function unprojectPointer(Z,_){const K=Z.x/window.innerWidth*2-1,te=-(Z.y/window.innerHeight)*2+1;return new Vector3(K,te,0).unproject(_)}const addStyles=Z=>{const _=document.createElement("style");_.innerHTML=Z,document.body.appendChild(_)},BASE_PATH="/scifi-portfolio/";console.log("Base Path:",BASE_PATH);const getAssetPath=Z=>(Z.startsWith("/")&&(Z=Z.slice(1)),BASE_PATH+Z);extend({WaterPass,UnrealBloomPass,FilmPass,LUTPass});function PostProc(){const Z=reactExports.useRef(null),_=useLoader(LUTCubeLoader,getAssetPath("/cubicle.CUBE")),{size:K}=useThree(),te=useControls({waterFactor:{value:.39,min:0,max:1,step:.01},bloomStrength:{value:.8,min:0,max:2,step:.01},bloomRadius:{value:.2,min:0,max:2,step:.01},bloomThreshold:{value:.001,min:0,max:1,step:.001},filmNoiseIntensity:{value:.2,min:0,max:1,step:.01},filmScanlinesIntensity:{value:.3,min:0,max:1,step:.01},filmScanlinesCount:{value:1500,min:0,max:3e3,step:1},lutIntensity:{value:.3,min:0,max:1,step:.01}});return useFrame(ne=>{Z.current&&(Z.current.time=ne.clock.elapsedTime*4)}),jsxRuntimeExports.jsxs(Effects,{disableGamma:!0,children:[jsxRuntimeExports.jsx("waterPass",{ref:Z,factor:te.waterFactor}),jsxRuntimeExports.jsx("unrealBloomPass",{resolution:new Vector2(K.width,K.height),strength:te.bloomStrength,radius:te.bloomRadius,threshold:te.bloomThreshold}),jsxRuntimeExports.jsx("filmPass",{args:[te.filmNoiseIntensity,te.filmScanlinesIntensity,te.filmScanlinesCount,!1]}),jsxRuntimeExports.jsx("lUTPass",{lut:_.texture,intensity:te.lutIntensity})]})}const memo=(Z,_)=>reactExports.memo(Z,_),mergeRefs$2=(...Z)=>_=>{Z.filter(Boolean).forEach(K=>{typeof K=="function"?K(_):K&&typeof K=="object"&&(K.current=_)})},useUpdateEffect$1=(Z,_)=>{const K=reactExports.useRef(!0);reactExports.useEffect(()=>{if(K.current){K.current=!1;return}Z()},_)},ANIMATOR_STATES=Object.freeze({entered:"entered",entering:"entering",exiting:"exiting",exited:"exited"}),ANIMATOR_ACTIONS=Object.freeze({setup:"setup",enter:"enter",enterEnd:"enterEnd",exit:"exit",exitEnd:"exitEnd",update:"update",refresh:"refresh"}),ANIMATOR_MANAGER_NAMES=Object.freeze({parallel:"parallel",stagger:"stagger",staggerReverse:"staggerReverse",sequence:"sequence",sequenceReverse:"sequenceReverse",switch:"switch"}),ANIMATOR_DEFAULT_DURATION=Object.freeze({enter:.4,exit:.4,delay:0,offset:0,stagger:.04,limit:-1}),ANIMATOR_DEFAULT_SETTINGS=Object.freeze({active:!0,duration:ANIMATOR_DEFAULT_DURATION,manager:ANIMATOR_MANAGER_NAMES.parallel,merge:!1,combine:!1,initialState:"exited"}),isBrowser$1=()=>typeof window<"u",cx=(...Z)=>Z.filter(Boolean).join(" "),ID_DEFAULT="";function createTOScheduler(){const Z=new Map,_=(ie=ID_DEFAULT)=>Z.has(ie),K=(ie=ID_DEFAULT)=>{const oe=Z.get(ie);oe&&oe(),Z.delete(ie)};return Object.freeze({isPending:_,stop:K,stopAll:()=>{Array.from(Z.keys()).forEach(K)},start:(ie,oe,se)=>{const le=se?ie:ID_DEFAULT,ce=(se?oe:ie)*1e3,fe=se||oe;K(le);const me=setTimeout(()=>{Z.delete(le),fe()},ce);Z.set(le,()=>{clearTimeout(me)})}})}const randomizeList=Z=>{const _=Z.slice(0);for(let K=_.length-1;K>0;K--){const te=Math.floor(Math.random()*(K+1));[_[K],_[te]]=[_[te],_[K]]}return _},filterProps=Z=>{const _={},K=Object.keys(Z);for(const te of K)Z[te]!==void 0&&(_[te]=Z[te]);return _},createAnimatorManagerParallel=Z=>{const _=ie=>(ie||Array.from(Z._children)).reduce((se,le)=>{const{duration:ce}=le.settings;return Math.max(se,ce.delay+ce.enter)},0),K=ie=>{for(const oe of ie){const{duration:se}=oe.settings;oe._scheduler.start(se.delay,()=>oe.send(ANIMATOR_ACTIONS.enter))}},te=ie=>{for(const oe of ie)oe._scheduler.start(0,()=>oe.send(ANIMATOR_ACTIONS.exit))},ne=()=>{};return Object.freeze({name:ANIMATOR_MANAGER_NAMES.parallel,getDurationEnter:_,enterChildren:K,exitChildren:te,destroy:ne})},createAnimatorManagerStagger=(Z,_)=>{const K=new Map;return Object.freeze({name:_,getDurationEnter:se=>{let le=se||Array.from(Z._children);if(!le.length)return 0;_===ANIMATOR_MANAGER_NAMES.staggerReverse&&(le=le.reverse());const{duration:{stagger:ce}}=Z._getUserSettings();let fe=0,me=0,pe=0;for(const ge of le){const{enter:ye,offset:Ee=0,delay:_e=0}=ge.settings.duration;me+=Ee,fe=Math.max(fe,pe*ce+me+ye+_e),pe++}return fe},enterChildren:se=>{let le=se||Array.from(Z._children);if(!le.length)return;_===ANIMATOR_MANAGER_NAMES.staggerReverse&&(le=[...le].reverse());const ce=Date.now(),fe=Z._getUserSettings(),me=fe.duration.stagger*1e3,pe=fe.duration.limit;for(const ge of le){if(K.has(ge))continue;const{duration:ye}=ge.settings,Ee=ye.offset*1e3,_e=ye.enter*1e3+Ee,Se=Array.from(K).map(([,ke])=>ke).filter(([ke,,ze])=>ke+ze>=ce).sort((ke,ze)=>ke[0]-ze[0]);let Re=Ee,Te=0;for(const[ke]of Se){if(Te===Se.length-1){Re=Math.max(0,ke+me+Ee-ce);break}const[ze,Ue]=Se[Te+1];if(ze-ke-Ue>=me*2+Ee){Re=Math.max(0,ke+me+Ee-ce);break}Te++}pe>=0&&(Re=Math.min(Re,pe*me)),K.set(ge,[ce+Re,Ee,_e]);const Ae=()=>{K.delete(ge)},Fe=()=>{ge.state!==ANIMATOR_STATES.entering&&(Ae(),ge._watchers.delete(Ae),ge._subscribers.delete(Fe))};ge._watchers.add(Ae),ge._subscribers.add(Fe);const $e=Re/1e3+ye.delay;ge._scheduler.start($e,()=>ge.send(ANIMATOR_ACTIONS.enter))}},exitChildren:se=>{for(const le of se)K.delete(le),le._scheduler.start(0,()=>le.send(ANIMATOR_ACTIONS.exit))},destroy:()=>{K.clear()}})},createAnimatorManagerSequence=(Z,_)=>{const K=new Map;return Object.freeze({name:_,getDurationEnter:se=>{let le=se||Array.from(Z._children);if(!le.length)return 0;_===ANIMATOR_MANAGER_NAMES.sequenceReverse&&(le=[...le].reverse());let ce=0,fe=0;for(const me of le){const{enter:pe,offset:ge=0,delay:ye=0}=me.settings.duration;fe+=ge+pe,ce=Math.max(ce,fe+ye)}return ce},enterChildren:se=>{let le=se||Array.from(Z._children);if(!le.length)return;_===ANIMATOR_MANAGER_NAMES.sequenceReverse&&(le=[...le].reverse());const ce=Date.now(),me=Z._getUserSettings().duration.limit;for(const pe of le){if(K.has(pe))continue;const{duration:ge}=pe.settings,ye=ge.enter*1e3+ge.offset*1e3,Ee=Array.from(K).map(([,Fe])=>Fe).filter(([Fe,$e])=>Fe+$e>=ce).sort((Fe,$e)=>Fe[0]-$e[0]);let _e=0,Se=0;for(const[Fe,$e]of Ee){const ke=Fe+$e;if(Se===Ee.length-1){_e=Math.max(0,ke-ce);break}const[ze]=Ee[Se+1];if(ze-ke>=ye){_e=Math.max(0,ke-ce);break}Se++}if(me>0&&Ee.length>=me){const[Fe]=Ee[me-1];_e=Fe-ce}K.set(pe,[ce+_e,ye]);const Re=()=>{K.delete(pe)},Te=()=>{pe.state!==ANIMATOR_STATES.entering&&(Re(),pe._watchers.delete(Re),pe._subscribers.delete(Te))};pe._watchers.add(Re),pe._subscribers.add(Te);const Ae=_e/1e3+ge.offset+ge.delay;pe._scheduler.start(Ae,()=>pe.send(ANIMATOR_ACTIONS.enter))}},exitChildren:se=>{for(const le of se)K.delete(le),le._scheduler.start(0,()=>le.send(ANIMATOR_ACTIONS.exit))},destroy:()=>{K.clear()}})},createAnimatorManagerSwitch=Z=>{let _,K,te;const ne=()=>{if(K)return K.settings.duration.enter;const le=Array.from(Z._children).find(ce=>{const{condition:fe}=ce._getUserSettings();return typeof fe=="function"?fe(ce):typeof fe=="boolean"?fe:!0});return le?le.settings.duration.enter:0},ie=()=>{te==null||te(),te=void 0;const le=Array.from(Z._children),ce=le.find(me=>{const{condition:pe}=me._getUserSettings();return typeof pe=="function"?pe(me):typeof pe=="boolean"?pe:!0}),fe=()=>{ce?ce===K?ce.send(ANIMATOR_ACTIONS.enter):(K?(_=K,te=_.subscribe(me=>{me.state===ANIMATOR_STATES.exited&&(te==null||te(),te=void 0,_=void 0,ce.send(ANIMATOR_ACTIONS.enter))}),_==null||_.send(ANIMATOR_ACTIONS.exit)):(ce.send(ANIMATOR_ACTIONS.enter),_=void 0),K=ce):(_=K,K=void 0)};_?te=_.subscribe(me=>{me.state===ANIMATOR_STATES.exited&&fe()}):fe(),le.filter(me=>me!==ce).forEach(me=>me.send(ANIMATOR_ACTIONS.exit))},oe=le=>{for(const ce of le)ce._scheduler.start(0,()=>ce.send(ANIMATOR_ACTIONS.exit))},se=()=>{_=void 0,K=void 0,te==null||te(),te=void 0};return Object.freeze({name:ANIMATOR_MANAGER_NAMES.switch,getDurationEnter:ne,enterChildren:ie,exitChildren:oe,destroy:se})},createAnimatorManager=(Z,_)=>{switch(_){case ANIMATOR_MANAGER_NAMES.stagger:return createAnimatorManagerStagger(Z,ANIMATOR_MANAGER_NAMES.stagger);case ANIMATOR_MANAGER_NAMES.staggerReverse:return createAnimatorManagerStagger(Z,ANIMATOR_MANAGER_NAMES.staggerReverse);case ANIMATOR_MANAGER_NAMES.sequence:return createAnimatorManagerSequence(Z,ANIMATOR_MANAGER_NAMES.sequence);case ANIMATOR_MANAGER_NAMES.sequenceReverse:return createAnimatorManagerSequence(Z,ANIMATOR_MANAGER_NAMES.sequenceReverse);case ANIMATOR_MANAGER_NAMES.switch:return createAnimatorManagerSwitch(Z,ANIMATOR_MANAGER_NAMES.switch);default:return createAnimatorManagerParallel(Z,ANIMATOR_MANAGER_NAMES.parallel)}},createAnimatorMachine=(Z,_)=>{let K=_;const te={[ANIMATOR_STATES.exited]:{onActions:{[ANIMATOR_ACTIONS.enter]:ANIMATOR_STATES.entering,[ANIMATOR_ACTIONS.setup]:()=>{const ce=Z._getUserSettings();if(Z._parent){const fe=Z._parent._getUserSettings(),{condition:me}=ce;switch(Z._parent.state){case ANIMATOR_STATES.entering:{const pe=typeof me=="function"?me(Z):typeof me=="boolean"?me:!0;(fe.combine||ce.merge)&&pe&&Z._parent._manager.enterChildren([Z]);break}case ANIMATOR_STATES.entered:{(typeof me=="function"?me(Z):typeof me=="boolean"?me:!0)&&Z._parent._manager.enterChildren([Z]);break}}}else if(ce.active===void 0||ce.active)return ce.duration.delay>0?{duration:ce.duration.delay,state:ANIMATOR_STATES.entering}:ANIMATOR_STATES.entering}}},[ANIMATOR_STATES.entering]:{onEntry:{execute:()=>{const ce=Z._getUserSettings(),fe=Array.from(Z._children).filter(me=>{const pe=me._getUserSettings();if(ce.combine||pe.merge){const{condition:ge}=pe;return typeof ge=="function"?ge(me):typeof ge=="boolean"?ge:!0}return!1});Z._manager.enterChildren(fe)},schedule:()=>({duration:Z.settings.duration.enter,action:ANIMATOR_ACTIONS.enterEnd})},onActions:{[ANIMATOR_ACTIONS.enterEnd]:ANIMATOR_STATES.entered,[ANIMATOR_ACTIONS.exit]:ANIMATOR_STATES.exiting}},[ANIMATOR_STATES.entered]:{onEntry:{execute:()=>{if(Z._getUserSettings().combine)return;const fe=Array.from(Z._children).filter(me=>{const pe=me._getUserSettings(),{condition:ge}=pe,ye=typeof ge=="function"?ge(me):typeof ge=="boolean"?ge:!0;return!pe.merge&&ye});Z._manager.enterChildren(fe)}},onActions:{[ANIMATOR_ACTIONS.exit]:ANIMATOR_STATES.exiting}},[ANIMATOR_STATES.exiting]:{onEntry:{execute:()=>{Z._manager.exitChildren(Array.from(Z._children))},schedule:()=>({duration:Z.settings.duration.exit,action:ANIMATOR_ACTIONS.exitEnd})},onActions:{[ANIMATOR_ACTIONS.exitEnd]:ANIMATOR_STATES.exited,[ANIMATOR_ACTIONS.enter]:ANIMATOR_STATES.entering}},"*":{onActions:{[ANIMATOR_ACTIONS.update]:()=>{var fe,me;const ce=Z._getUserSettings();if(ce.manager!==Z._manager.name&&((me=(fe=Z._manager).destroy)==null||me.call(fe),Z._manager=createAnimatorManager(Z,ce.manager)),!Z._parent){const pe=ce.active===!0||ce.active===void 0;if((K===ANIMATOR_STATES.exited||K===ANIMATOR_STATES.exiting)&&pe)return ce.duration.delay>0?{duration:ce.duration.delay,state:ANIMATOR_STATES.entering}:ANIMATOR_STATES.entering;if((K===ANIMATOR_STATES.entered||K===ANIMATOR_STATES.entering)&&!pe)return ANIMATOR_STATES.exiting}},[ANIMATOR_ACTIONS.refresh]:()=>{const ce=Z._getUserSettings(),fe=Array.from(Z._children).map(me=>({node:me,settings:me._getUserSettings()}));if(Z.state===ANIMATOR_STATES.entering||Z.state===ANIMATOR_STATES.entered){const me=fe.filter(ge=>ge.node.state===ANIMATOR_STATES.entering||ge.node.state===ANIMATOR_STATES.entered).filter(ge=>Z.state===ANIMATOR_STATES.entering?ce.combine||ge.settings.merge:!0).filter(ge=>{const{condition:ye}=ge.settings;return!(typeof ye=="function"?ye(ge.node):typeof ye=="boolean"?ye:!0)}).map(ge=>ge.node),pe=fe.filter(ge=>ge.node.state===ANIMATOR_STATES.exiting||ge.node.state===ANIMATOR_STATES.exited).filter(ge=>{const{condition:ye}=ge.settings;return typeof ye=="function"?ye(ge.node):typeof ye=="boolean"?ye:!0}).map(ge=>ge.node);Z._manager.exitChildren(me),Z._manager.enterChildren(pe)}}}}},ne=ce=>{if(!ce||K===ce)return;K=ce;const{onEntry:fe}=te[K]||{},{onTransition:me}=Z.control.getSettings();if(Z._scheduler.stopAll(),fe!=null&&fe.execute&&fe.execute(),fe!=null&&fe.schedule){const pe=fe.schedule();Z._scheduler.start(pe.duration,()=>se(pe.action))}me==null||me(Z);for(const pe of Z._subscribers)pe(Z)},ie=ce=>{if(ce!==void 0)if(typeof ce=="string")ne(ce);else{const fe=ce();typeof fe=="object"&&fe!==null?Z._scheduler.start(fe.duration,()=>ne(fe.state)):fe&&ne(fe)}},oe=()=>K,se=ce=>{var fe,me,pe,ge;isBrowser$1()&&(ie((me=(fe=te[K])==null?void 0:fe.onActions)==null?void 0:me[ce]),ie((ge=(pe=te["*"])==null?void 0:pe.onActions)==null?void 0:ge[ce]))};return Object.freeze({getState:oe,send:se})},isNodeConditionCorrect=(Z,_)=>typeof _=="function"?_(Z):typeof _=="boolean"?_:!0,createAnimatorSystem=()=>{const Z=`s${Math.random()}`.replace(".","");let _=0,K;const te=(ce,fe)=>{const me=`${Z}-n${_++}`,pe={id:me};let ge=null,ye=null;const Ee=Object.freeze({getSettings:()=>{const Ae=(fe==null?void 0:fe.getSettings())||{},Fe=ge||{};return{...Ae,...Fe,duration:{...Ae.duration,...Fe.duration},condition:Fe.condition!==void 0?Fe.condition:Ae.condition!==void 0?Ae.condition:void 0,onTransition:$e=>{var ke,ze;(ke=Ae.onTransition)==null||ke.call(Ae,$e),(ze=Fe.onTransition)==null||ze.call(Fe,$e)}}},setSettings:Ae=>{if(Ae===null){ge=null;return}ge={...ge,...Ae,duration:{...ge==null?void 0:ge.duration,...Ae.duration}}},getForeign:()=>ye,setForeign:Ae=>{ye=Ae}}),_e=Ee.getSettings(),Se=createAnimatorMachine(pe,_e.initialState??ANIMATOR_DEFAULT_SETTINGS.initialState),Re=createAnimatorManager(pe,_e.manager??ANIMATOR_DEFAULT_SETTINGS.manager),Te={_parent:{value:ce,enumerable:!0},_children:{value:new Set,enumerable:!0},_subscribers:{value:new Set,enumerable:!0},_watchers:{value:new Set,enumerable:!0},_scheduler:{value:createTOScheduler(),enumerable:!0},_getUserSettings:{value:()=>{const Ae=pe.control.getSettings();return{...ANIMATOR_DEFAULT_SETTINGS,...filterProps(Ae),duration:{...ANIMATOR_DEFAULT_SETTINGS.duration,...Ae.duration?filterProps(Ae.duration):null}}},enumerable:!0},_manager:{value:Re,enumerable:!0,writable:!0},id:{value:me,enumerable:!0},state:{get:()=>Se.getState(),enumerable:!0},control:{value:Ee,enumerable:!0},settings:{get:()=>{const Ae=pe._getUserSettings();let Fe=Ae.duration.enter;if(Ae.combine){const $e=Array.from(pe._children).filter(ke=>{const{condition:ze}=ke.control.getSettings();return isNodeConditionCorrect(ke,ze)});Fe=pe._manager.getDurationEnter($e)}return{...Ae,duration:{...Ae.duration,enter:Fe}}},enumerable:!0},subscribe:{value:Ae=>(pe._subscribers.add(Ae),Ae(pe),()=>pe._subscribers.delete(Ae)),enumerable:!0},unsubscribe:{value:Ae=>{pe._subscribers.delete(Ae)},enumerable:!0},send:{value:Se.send,enumerable:!0}};return Object.defineProperties(pe,Te),ce&&ce._children.add(pe),pe},ne=ce=>{ce._scheduler.stopAll();for(const fe of ce._children)ne(fe);ce._parent&&ce._parent._children.delete(ce),ce._children.clear(),ce._subscribers.clear(),ce._watchers.clear()},ie=(ce,fe)=>{if(ce==null){if(K)throw new Error("ARWES animator root node must be unregistered before registering another root node.");return K=te(void 0,fe),K}if(!K)throw new Error("ARWES animator system requires an animator root node before registering children nodes. This means the provided animator parent node does not belong to the system.");return te(ce,fe)},oe=ce=>{if(K){for(const fe of ce._watchers)fe(ce);ne(ce),K.id===ce.id&&(K=void 0)}},se={};return Object.defineProperties(se,{id:{value:Z,enumerable:!0},root:{get:()=>K,enumerable:!0},register:{value:ie,enumerable:!0},unregister:{value:oe,enumerable:!0}}),se},AnimatorContext=reactExports.createContext(void 0),AnimatorGeneralContext=reactExports.createContext(void 0),setNodeRefValue=(Z,_)=>{typeof Z=="function"?Z(_):Z&&(Z.current=_)},Animator$1=Z=>{const{root:_,disabled:K,dismissed:te,unmountOnExited:ne,unmountOnEntered:ie,unmountOnDisabled:oe,refreshOn:se,nodeRef:le,children:ce,...fe}=Z,me=reactExports.useContext(AnimatorContext),pe=reactExports.useContext(AnimatorGeneralContext),ge=reactExports.useRef(fe),ye=reactExports.useRef(void 0),Ee=reactExports.useRef(!0);ge.current=fe;const _e=pe==null?void 0:pe.getSettings(),Se=!!_||!me,Re=te!==void 0?!!te:!!(_e!=null&&_e.dismissed),Te=K!==void 0?!!K:!!(_e!=null&&_e.disabled),Ae=reactExports.useMemo(()=>{if(ye.current&&ye.current.system.unregister(ye.current.node),Re)return setNodeRefValue(le,null),me;if(Te){setNodeRefValue(le,null);return}const Ue=Se?createAnimatorSystem():me.system,Oe=()=>{const Ye=pe==null?void 0:pe.getSettings(),Ke={...Ye==null?void 0:Ye.duration,...ge.current.duration};return{...Ye,...ge.current,duration:Ke}},Ve=Se?Ue.register(void 0,{getSettings:Oe}):Ue.register(me.node,{getSettings:Oe});return setNodeRefValue(le,Ve),Object.freeze({system:Ue,node:Ve})},[me,Se,Te,Re]);ye.current=Ae;const[Fe,$e]=reactExports.useState(()=>ne&&(Ae==null?void 0:Ae.node.state)===ANIMATOR_STATES.exited||ie&&(Ae==null?void 0:Ae.node.state)===ANIMATOR_STATES.entered||oe&&Te);reactExports.useEffect(()=>()=>{Ee.current=!1,ye.current&&ye.current.system.unregister(ye.current.node)},[]),reactExports.useEffect(()=>{Ae&&queueMicrotask(()=>{Ee.current&&Ae.node.send(ANIMATOR_ACTIONS.setup)})},[!!Ae]);const ke=reactExports.useRef(!0);reactExports.useEffect(()=>{if(ke.current){ke.current=!1;return}Ae&&queueMicrotask(()=>{Ee.current&&Ae.node.send(ANIMATOR_ACTIONS.update)})},[fe.active,fe.manager,fe.merge,fe.combine]),reactExports.useEffect(()=>{if(Ae){const Ue=Ae.node.subscribe(Oe=>{$e(ne&&Oe.state===ANIMATOR_STATES.exited||ie&&Oe.state===ANIMATOR_STATES.entered)});return()=>Ue()}else $e(oe)},[Ae,ne,ie,oe]);const ze=reactExports.useRef(!0);return reactExports.useEffect(()=>{if(ze.current){ze.current=!1;return}Ae&&queueMicrotask(()=>{Ee.current&&Ae.node.send(ANIMATOR_ACTIONS.refresh)})},se??[]),reactExports.createElement(AnimatorContext.Provider,{value:Ae},Fe?null:ce)},Animator=memo(Animator$1),useAnimator=()=>reactExports.useContext(AnimatorContext),AnimatorGeneralProvider=Z=>{const{children:_,...K}=Z,te=reactExports.useRef(K);te.current=K;const ne=reactExports.useMemo(()=>Object.freeze({getSettings:()=>te.current}),[]);return reactExports.createElement(AnimatorGeneralContext.Provider,{value:ne},_)};memo(AnimatorGeneralProvider);const pow=Math.pow,sqrt=Math.sqrt,sin=Math.sin,cos=Math.cos,PI=Math.PI,c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*PI/3,c5=2*PI/4.5,bounceOut=Z=>Z<1/2.75?7.5625*Z*Z:Z<2/2.75?7.5625*(Z-=1.5/2.75)*Z+.75:Z<2.5/2.75?7.5625*(Z-=2.25/2.75)*Z+.9375:7.5625*(Z-=2.625/2.75)*Z+.984375,easing={linear:Z=>Z,inQuad:Z=>Z*Z,outQuad:Z=>1-(1-Z)*(1-Z),inOutQuad:Z=>Z<.5?2*Z*Z:1-pow(-2*Z+2,2)/2,inCubic:Z=>Z*Z*Z,outCubic:Z=>1-pow(1-Z,3),inOutCubic:Z=>Z<.5?4*Z*Z*Z:1-pow(-2*Z+2,3)/2,inQuart:Z=>Z*Z*Z*Z,outQuart:Z=>1-pow(1-Z,4),inOutQuart:Z=>Z<.5?8*Z*Z*Z*Z:1-pow(-2*Z+2,4)/2,inQuint:Z=>Z*Z*Z*Z*Z,outQuint:Z=>1-pow(1-Z,5),inOutQuint:Z=>Z<.5?16*Z*Z*Z*Z*Z:1-pow(-2*Z+2,5)/2,inSine:Z=>1-cos(Z*PI/2),outSine:Z=>sin(Z*PI/2),inOutSine:Z=>-(cos(PI*Z)-1)/2,inExpo:Z=>Z===0?0:pow(2,10*Z-10),outExpo:Z=>Z===1?1:1-pow(2,-10*Z),inOutExpo:Z=>Z===0?0:Z===1?1:Z<.5?pow(2,20*Z-10)/2:(2-pow(2,-20*Z+10))/2,inCirc:Z=>1-sqrt(1-pow(Z,2)),outCirc:Z=>sqrt(1-pow(Z-1,2)),inOutCirc:Z=>Z<.5?(1-sqrt(1-pow(2*Z,2)))/2:(sqrt(1-pow(-2*Z+2,2))+1)/2,inBack:Z=>c3*Z*Z*Z-c1*Z*Z,outBack:Z=>1+c3*pow(Z-1,3)+c1*pow(Z-1,2),inOutBack:Z=>Z<.5?pow(2*Z,2)*((c2+1)*2*Z-c2)/2:(pow(2*Z-2,2)*((c2+1)*(Z*2-2)+c2)+2)/2,inElastic:Z=>Z===0?0:Z===1?1:-pow(2,10*Z-10)*sin((Z*10-10.75)*c4),outElastic:Z=>Z===0?0:Z===1?1:pow(2,-10*Z)*sin((Z*10-.75)*c4)+1,inOutElastic:Z=>Z===0?0:Z===1?1:Z<.5?-(pow(2,20*Z-10)*sin((20*Z-11.125)*c5))/2:pow(2,-20*Z+10)*sin((20*Z-11.125)*c5)/2+1,inBounce:Z=>1-bounceOut(1-Z),outBounce:bounceOut,inOutBounce:Z=>Z<.5?(1-bounceOut(1-2*Z))/2:(1+bounceOut(2*Z-1))/2},easeAmong=Z=>_=>{if(Z.length===1)return _*Z[0];if(_<=0)return Z[0];if(_>=1)return Z[Z.length-1];const K=1/(Z.length-1),te=Math.floor(_/K),ne=_/K-te,ie=Math.floor(_*(Z.length-1)),oe=ie+1,se=Z[ie],le=Z[oe];if(le>se){const fe=le-se;return se+fe*ne}const ce=se-le;return se-ce*ne},propsTransformDistances={x:"translateX",y:"translateY",z:"translateZ"},propsTransformAngles={rotate:"rotate",rotateX:"rotateX",rotateY:"rotateY",rotateZ:"rotateZ",skew:"skew",skewX:"skewX",skewY:"skewY"},propsTransformUnitless={scale:"scale",scaleX:"scaleX",scaleY:"scaleY",scaleZ:"scaleZ"},formatAnimatedCSSProps=Z=>{const _={};let K="";return Object.keys(Z).forEach(te=>{const ne=Z[te];if(propsTransformDistances[te]){const ie=propsTransformDistances[te],oe=Number.isFinite(ne)?`${ne}px`:String(ne);K+=` ${ie}(var(--motion-${ie}))`,_[`--motion-${ie}`]=oe}else if(propsTransformAngles[te]){const ie=propsTransformAngles[te],oe=Number.isFinite(ne)?`${ne}deg`:String(ne);K+=` ${ie}(var(--motion-${ie}))`,_[`--motion-${ie}`]=oe}else if(propsTransformUnitless[te]){const ie=propsTransformUnitless[te];K+=` ${ie}(var(--motion-${ie}))`,_[`--motion-${ie}`]=ne}else _[te]=ne}),K=K.trim(),K&&(_.transform=K),_},applyAnimatedCSSProps=(Z,_)=>{const K=formatAnimatedCSSProps(_);Object.keys(K).forEach(te=>{/^--[a-zA-Z]/.test(te)?Z.style.setProperty(te,K[te]):Z.style[te]=K[te]})};function addUniqueItem(Z,_){Z.indexOf(_)===-1&&Z.push(_)}function removeItem(Z,_){const K=Z.indexOf(_);K>-1&&Z.splice(K,1)}const clamp=(Z,_,K)=>Math.min(Math.max(K,Z),_),defaults$1={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},isNumber=Z=>typeof Z=="number",isEasingList=Z=>Array.isArray(Z)&&!isNumber(Z[0]),wrap=(Z,_,K)=>{const te=_-Z;return((K-Z)%te+te)%te+Z};function getEasingForSegment(Z,_){return isEasingList(Z)?Z[wrap(0,Z.length,_)]:Z}const mix=(Z,_,K)=>-K*Z+K*_+Z,noop$1=()=>{},noopReturn=Z=>Z,progress=(Z,_,K)=>_-Z===0?1:(K-Z)/(_-Z);function fillOffset(Z,_){const K=Z[Z.length-1];for(let te=1;te<=_;te++){const ne=progress(0,_,te);Z.push(mix(K,1,ne))}}function defaultOffset(Z){const _=[0];return fillOffset(_,Z-1),_}function interpolate(Z,_=defaultOffset(Z.length),K=noopReturn){const te=Z.length,ne=te-_.length;return ne>0&&fillOffset(_,ne),ie=>{let oe=0;for(;oe<te-2&&!(ie<_[oe+1]);oe++);let se=clamp(0,1,progress(_[oe],_[oe+1],ie));return se=getEasingForSegment(K,oe)(se),mix(Z[oe],Z[oe+1],se)}}const isCubicBezier=Z=>Array.isArray(Z)&&isNumber(Z[0]),isEasingGenerator=Z=>typeof Z=="object"&&!!Z.createAnimation,isFunction=Z=>typeof Z=="function",isString=Z=>typeof Z=="string",time={ms:Z=>Z*1e3,s:Z=>Z/1e3};function velocityPerSecond(Z,_){return _?Z*(1e3/_):0}const calcBezier=(Z,_,K)=>(((1-3*K+3*_)*Z+(3*K-6*_))*Z+3*_)*Z,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(Z,_,K,te,ne){let ie,oe,se=0;do oe=_+(K-_)/2,ie=calcBezier(oe,te,ne)-Z,ie>0?K=oe:_=oe;while(Math.abs(ie)>subdivisionPrecision&&++se<subdivisionMaxIterations);return oe}function cubicBezier(Z,_,K,te){if(Z===_&&K===te)return noopReturn;const ne=ie=>binarySubdivide(ie,0,1,Z,K);return ie=>ie===0||ie===1?ie:calcBezier(ne(ie),_,te)}const steps=(Z,_="end")=>K=>{K=_==="end"?Math.min(K,.999):Math.max(K,.001);const te=K*Z,ne=_==="end"?Math.floor(te):Math.ceil(te);return clamp(0,1,ne/Z)},namedEasings={ease:cubicBezier(.25,.1,.25,1),"ease-in":cubicBezier(.42,0,1,1),"ease-in-out":cubicBezier(.42,0,.58,1),"ease-out":cubicBezier(0,0,.58,1)},functionArgsRegex=/\((.*?)\)/;function getEasingFunction(Z){if(isFunction(Z))return Z;if(isCubicBezier(Z))return cubicBezier(...Z);const _=namedEasings[Z];if(_)return _;if(Z.startsWith("steps")){const K=functionArgsRegex.exec(Z);if(K){const te=K[1].split(",");return steps(parseFloat(te[0]),te[1].trim())}}return noopReturn}class Animation{constructor(_,K=[0,1],{easing:te,duration:ne=defaults$1.duration,delay:ie=defaults$1.delay,endDelay:oe=defaults$1.endDelay,repeat:se=defaults$1.repeat,offset:le,direction:ce="normal",autoplay:fe=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=noopReturn,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((pe,ge)=>{this.resolve=pe,this.reject=ge}),te=te||defaults$1.easing,isEasingGenerator(te)){const pe=te.createAnimation(K);te=pe.easing,K=pe.keyframes||K,ne=pe.duration||ne}this.repeat=se,this.easing=isEasingList(te)?noopReturn:getEasingFunction(te),this.updateDuration(ne);const me=interpolate(K,le,isEasingList(te)?te.map(getEasingFunction):noopReturn);this.tick=pe=>{var ge;ie=ie;let ye=0;this.pauseTime!==void 0?ye=this.pauseTime:ye=(pe-this.startTime)*this.rate,this.t=ye,ye/=1e3,ye=Math.max(ye-ie,0),this.playState==="finished"&&this.pauseTime===void 0&&(ye=this.totalDuration);const Ee=ye/this.duration;let _e=Math.floor(Ee),Se=Ee%1;!Se&&Ee>=1&&(Se=1),Se===1&&_e--;const Re=_e%2;(ce==="reverse"||ce==="alternate"&&Re||ce==="alternate-reverse"&&!Re)&&(Se=1-Se);const Te=ye>=this.totalDuration?1:Math.min(Se,1),Ae=me(this.easing(Te));_(Ae),this.pauseTime===void 0&&(this.playState==="finished"||ye>=this.totalDuration+oe)?(this.playState="finished",(ge=this.resolve)===null||ge===void 0||ge.call(this,Ae)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},fe&&this.play()}play(){const _=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=_-this.pauseTime:this.startTime||(this.startTime=_),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var _;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(_=this.reject)===null||_===void 0||_.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(_){this.duration=_,this.totalDuration=_*(this.repeat+1)}get currentTime(){return this.t}set currentTime(_){this.pauseTime!==void 0||this.rate===0?this.pauseTime=_:this.startTime=performance.now()-_/this.rate}get playbackRate(){return this.rate}set playbackRate(_){this.rate=_}}var invariant$1=function(){};class MotionValue{setAnimation(_){this.animation=_,_==null||_.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const data=new WeakMap;function getAnimationData(Z){return data.has(Z)||data.set(Z,{transforms:[],values:new Map}),data.get(Z)}function getMotionValue(Z,_){return Z.has(_)||Z.set(_,new MotionValue),Z.get(_)}const axes=["","X","Y","Z"],order=["translate","scale","rotate","skew"],transformAlias={x:"translateX",y:"translateY",z:"translateZ"},rotation={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:Z=>Z+"deg"},baseTransformProperties={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:Z=>Z+"px"},rotate:rotation,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:noopReturn},skew:rotation},transformDefinitions=new Map,asTransformCssVar=Z=>`--motion-${Z}`,transforms=["x","y","z"];order.forEach(Z=>{axes.forEach(_=>{transforms.push(Z+_),transformDefinitions.set(asTransformCssVar(Z+_),baseTransformProperties[Z])})});const compareTransformOrder=(Z,_)=>transforms.indexOf(Z)-transforms.indexOf(_),transformLookup=new Set(transforms),isTransform$1=Z=>transformLookup.has(Z),addTransformToElement=(Z,_)=>{transformAlias[_]&&(_=transformAlias[_]);const{transforms:K}=getAnimationData(Z);addUniqueItem(K,_),Z.style.transform=buildTransformTemplate(K)},buildTransformTemplate=Z=>Z.sort(compareTransformOrder).reduce(transformListToString,"").trim(),transformListToString=(Z,_)=>`${Z} ${_}(var(${asTransformCssVar(_)}))`,isCssVar=Z=>Z.startsWith("--"),registeredProperties=new Set;function registerCssVariable(Z){if(!registeredProperties.has(Z)){registeredProperties.add(Z);try{const{syntax:_,initialValue:K}=transformDefinitions.has(Z)?transformDefinitions.get(Z):{};CSS.registerProperty({name:Z,inherits:!1,syntax:_,initialValue:K})}catch{}}}const testAnimation=(Z,_)=>document.createElement("div").animate(Z,_),featureTests={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{testAnimation({opacity:[1]})}catch{return!1}return!0},finished:()=>!!testAnimation({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{testAnimation({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},results={},supports={};for(const Z in featureTests)supports[Z]=()=>(results[Z]===void 0&&(results[Z]=featureTests[Z]()),results[Z]);const resolution=.015,generateLinearEasingPoints=(Z,_)=>{let K="";const te=Math.round(_/resolution);for(let ne=0;ne<te;ne++)K+=Z(progress(0,te-1,ne))+", ";return K.substring(0,K.length-2)},convertEasing=(Z,_)=>isFunction(Z)?supports.linearEasing()?`linear(${generateLinearEasingPoints(Z,_)})`:defaults$1.easing:isCubicBezier(Z)?cubicBezierAsString(Z):Z,cubicBezierAsString=([Z,_,K,te])=>`cubic-bezier(${Z}, ${_}, ${K}, ${te})`;function hydrateKeyframes(Z,_){for(let K=0;K<Z.length;K++)Z[K]===null&&(Z[K]=K?Z[K-1]:_());return Z}const keyframesList=Z=>Array.isArray(Z)?Z:[Z];function getStyleName(Z){return transformAlias[Z]&&(Z=transformAlias[Z]),isTransform$1(Z)?asTransformCssVar(Z):Z}const style$1={get:(Z,_)=>{_=getStyleName(_);let K=isCssVar(_)?Z.style.getPropertyValue(_):getComputedStyle(Z)[_];if(!K&&K!==0){const te=transformDefinitions.get(_);te&&(K=te.initialValue)}return K},set:(Z,_,K)=>{_=getStyleName(_),isCssVar(_)?Z.style.setProperty(_,K):Z.style[_]=K}};function stopAnimation(Z,_=!0){if(!(!Z||Z.playState==="finished"))try{Z.stop?Z.stop():(_&&Z.commitStyles(),Z.cancel())}catch{}}function getUnitConverter(Z,_){var K;let te=(_==null?void 0:_.toDefaultUnit)||noopReturn;const ne=Z[Z.length-1];if(isString(ne)){const ie=((K=ne.match(/(-?[\d.]+)([a-z%]*)/))===null||K===void 0?void 0:K[2])||"";ie&&(te=oe=>oe+ie)}return te}function getDevToolsRecord(){return window.__MOTION_DEV_TOOLS_RECORD}function animateStyle(Z,_,K,te={},ne){const ie=getDevToolsRecord(),oe=te.record!==!1&&ie;let se,{duration:le=defaults$1.duration,delay:ce=defaults$1.delay,endDelay:fe=defaults$1.endDelay,repeat:me=defaults$1.repeat,easing:pe=defaults$1.easing,persist:ge=!1,direction:ye,offset:Ee,allowWebkitAcceleration:_e=!1,autoplay:Se=!0}=te;const Re=getAnimationData(Z),Te=isTransform$1(_);let Ae=supports.waapi();Te&&addTransformToElement(Z,_);const Fe=getStyleName(_),$e=getMotionValue(Re.values,Fe),ke=transformDefinitions.get(Fe);return stopAnimation($e.animation,!(isEasingGenerator(pe)&&$e.generator)&&te.record!==!1),()=>{const ze=()=>{var Ve,Ye;return(Ye=(Ve=style$1.get(Z,Fe))!==null&&Ve!==void 0?Ve:ke==null?void 0:ke.initialValue)!==null&&Ye!==void 0?Ye:0};let Ue=hydrateKeyframes(keyframesList(K),ze);const Oe=getUnitConverter(Ue,ke);if(isEasingGenerator(pe)){const Ve=pe.createAnimation(Ue,_!=="opacity",ze,Fe,$e);pe=Ve.easing,Ue=Ve.keyframes||Ue,le=Ve.duration||le}if(isCssVar(Fe)&&(supports.cssRegisterProperty()?registerCssVariable(Fe):Ae=!1),Te&&!supports.linearEasing()&&(isFunction(pe)||isEasingList(pe)&&pe.some(isFunction))&&(Ae=!1),Ae){ke&&(Ue=Ue.map(Ke=>isNumber(Ke)?ke.toDefaultUnit(Ke):Ke)),Ue.length===1&&(!supports.partialKeyframes()||oe)&&Ue.unshift(ze());const Ve={delay:time.ms(ce),duration:time.ms(le),endDelay:time.ms(fe),easing:isEasingList(pe)?void 0:convertEasing(pe,le),direction:ye,iterations:me+1,fill:"both"};se=Z.animate({[Fe]:Ue,offset:Ee,easing:isEasingList(pe)?pe.map(Ke=>convertEasing(Ke,le)):void 0},Ve),se.finished||(se.finished=new Promise((Ke,ot)=>{se.onfinish=Ke,se.oncancel=ot}));const Ye=Ue[Ue.length-1];se.finished.then(()=>{ge||(style$1.set(Z,Fe,Ye),se.cancel())}).catch(noop$1),_e||(se.playbackRate=1.000001)}else if(ne&&Te)Ue=Ue.map(Ve=>typeof Ve=="string"?parseFloat(Ve):Ve),Ue.length===1&&Ue.unshift(parseFloat(ze())),se=new ne(Ve=>{style$1.set(Z,Fe,Oe?Oe(Ve):Ve)},Ue,Object.assign(Object.assign({},te),{duration:le,easing:pe}));else{const Ve=Ue[Ue.length-1];style$1.set(Z,Fe,ke&&isNumber(Ve)?ke.toDefaultUnit(Ve):Ve)}return oe&&ie(Z,_,Ue,{duration:le,delay:ce,easing:pe,repeat:me,offset:Ee},"motion-one"),$e.setAnimation(se),se&&!Se&&se.pause(),se}}const getOptions=(Z,_)=>Z[_]?Object.assign(Object.assign({},Z),Z[_]):Object.assign({},Z);function resolveElements(Z,_){var K;return typeof Z=="string"?_?((K=_[Z])!==null&&K!==void 0||(_[Z]=document.querySelectorAll(Z)),Z=_[Z]):Z=document.querySelectorAll(Z):Z instanceof Element&&(Z=[Z]),Array.from(Z||[])}const createAnimation$1=Z=>Z(),withControls=(Z,_,K=defaults$1.duration)=>new Proxy({animations:Z.map(createAnimation$1).filter(Boolean),duration:K,options:_},controls),getActiveAnimation=Z=>Z.animations[0],controls={get:(Z,_)=>{const K=getActiveAnimation(Z);switch(_){case"duration":return Z.duration;case"currentTime":return time.s((K==null?void 0:K[_])||0);case"playbackRate":case"playState":return K==null?void 0:K[_];case"finished":return Z.finished||(Z.finished=Promise.all(Z.animations.map(selectFinished)).catch(noop$1)),Z.finished;case"stop":return()=>{Z.animations.forEach(te=>stopAnimation(te))};case"forEachNative":return te=>{Z.animations.forEach(ne=>te(ne,Z))};default:return typeof(K==null?void 0:K[_])>"u"?void 0:()=>Z.animations.forEach(te=>te[_]())}},set:(Z,_,K)=>{switch(_){case"currentTime":K=time.ms(K);case"playbackRate":for(let te=0;te<Z.animations.length;te++)Z.animations[te][_]=K;return!0}return!1}},selectFinished=Z=>Z.finished;function stagger(Z=.1,{start:_=0,from:K=0,easing:te}={}){return(ne,ie)=>{const oe=isNumber(K)?K:getFromIndex(K,ie),se=Math.abs(oe-ne);let le=Z*se;if(te){const ce=ie*Z;le=getEasingFunction(te)(le/ce)*ce}return _+le}}function getFromIndex(Z,_){if(Z==="first")return 0;{const K=_-1;return Z==="last"?K:K/2}}function resolveOption(Z,_,K){return isFunction(Z)?Z(_,K):Z}function createAnimate(Z){return function(K,te,ne={}){K=resolveElements(K);const ie=K.length,oe=[];for(let se=0;se<ie;se++){const le=K[se];for(const ce in te){const fe=getOptions(ne,ce);fe.delay=resolveOption(fe.delay,se,ie);const me=animateStyle(le,ce,te[ce],fe,Z);oe.push(me)}}return withControls(oe,ne,ne.duration)}}const animate$1=createAnimate(Animation);function calcNextTime(Z,_,K,te){var ne;return isNumber(_)?_:_.startsWith("-")||_.startsWith("+")?Math.max(0,Z+parseFloat(_)):_==="<"?K:(ne=te.get(_))!==null&&ne!==void 0?ne:Z}function eraseKeyframes(Z,_,K){for(let te=0;te<Z.length;te++){const ne=Z[te];ne.at>_&&ne.at<K&&(removeItem(Z,ne),te--)}}function addKeyframes(Z,_,K,te,ne,ie){eraseKeyframes(Z,ne,ie);for(let oe=0;oe<_.length;oe++)Z.push({value:_[oe],at:mix(ne,ie,te[oe]),easing:getEasingForSegment(K,oe)})}function compareByTime(Z,_){return Z.at===_.at?Z.value===null?1:-1:Z.at-_.at}function timeline(Z,_={}){var K;const te=createAnimationsFromTimeline(Z,_),ne=te.map(ie=>animateStyle(...ie,Animation)).filter(Boolean);return withControls(ne,_,(K=te[0])===null||K===void 0?void 0:K[3].duration)}function createAnimationsFromTimeline(Z,_={}){var{defaultOptions:K={}}=_,te=__rest(_,["defaultOptions"]);const ne=[],ie=new Map,oe={},se=new Map;let le=0,ce=0,fe=0;for(let me=0;me<Z.length;me++){const pe=Z[me];if(isString(pe)){se.set(pe,ce);continue}else if(!Array.isArray(pe)){se.set(pe.name,calcNextTime(ce,pe.at,le,se));continue}const[ge,ye,Ee={}]=pe;Ee.at!==void 0&&(ce=calcNextTime(ce,Ee.at,le,se));let _e=0;const Se=resolveElements(ge,oe),Re=Se.length;for(let Te=0;Te<Re;Te++){const Ae=Se[Te],Fe=getElementSequence(Ae,ie);for(const $e in ye){const ke=getValueSequence($e,Fe);let ze=keyframesList(ye[$e]);const Ue=getOptions(Ee,$e);let{duration:Oe=K.duration||defaults$1.duration,easing:Ve=K.easing||defaults$1.easing}=Ue;if(isEasingGenerator(Ve)){invariant$1($e==="opacity"||ze.length>1);const gt=Ve.createAnimation(ze,$e!=="opacity",()=>0,$e);Ve=gt.easing,ze=gt.keyframes||ze,Oe=gt.duration||Oe}const Ye=resolveOption(Ee.delay,Te,Re)||0,Ke=ce+Ye,ot=Ke+Oe;let{offset:ut=defaultOffset(ze.length)}=Ue;ut.length===1&&ut[0]===0&&(ut[1]=1);const ct=ut.length-ze.length;ct>0&&fillOffset(ut,ct),ze.length===1&&ze.unshift(null),addKeyframes(ke,ze,Ve,ut,Ke,ot),_e=Math.max(Ye+Oe,_e),fe=Math.max(ot,fe)}}le=ce,ce+=_e}return ie.forEach((me,pe)=>{for(const ge in me){const ye=me[ge];ye.sort(compareByTime);const Ee=[],_e=[],Se=[];for(let Re=0;Re<ye.length;Re++){const{at:Te,value:Ae,easing:Fe}=ye[Re];Ee.push(Ae),_e.push(progress(0,fe,Te)),Se.push(Fe||defaults$1.easing)}_e[0]!==0&&(_e.unshift(0),Ee.unshift(Ee[0]),Se.unshift("linear")),_e[_e.length-1]!==1&&(_e.push(1),Ee.push(null)),ne.push([pe,ge,Ee,Object.assign(Object.assign(Object.assign({},K),{duration:fe,easing:Se,offset:_e}),te)])}}),ne}function getElementSequence(Z,_){return!_.has(Z)&&_.set(Z,{}),_.get(Z)}function getValueSequence(Z,_){return _[Z]||(_[Z]=[]),_[Z]}const sampleT=5;function calcGeneratorVelocity(Z,_,K){const te=Math.max(_-sampleT,0);return velocityPerSecond(K-Z(te),_-te)}const defaults={stiffness:100,damping:10,mass:1},calcDampingRatio=(Z=defaults.stiffness,_=defaults.damping,K=defaults.mass)=>_/(2*Math.sqrt(Z*K));function hasReachedTarget(Z,_,K){return Z<_&&K>=_||Z>_&&K<=_}const spring$1=({stiffness:Z=defaults.stiffness,damping:_=defaults.damping,mass:K=defaults.mass,from:te=0,to:ne=1,velocity:ie=0,restSpeed:oe,restDistance:se}={})=>{ie=ie?time.s(ie):0;const le={done:!1,hasReachedTarget:!1,current:te,target:ne},ce=ne-te,fe=Math.sqrt(Z/K)/1e3,me=calcDampingRatio(Z,_,K),pe=Math.abs(ce)<5;oe||(oe=pe?.01:2),se||(se=pe?.005:.5);let ge;if(me<1){const ye=fe*Math.sqrt(1-me*me);ge=Ee=>ne-Math.exp(-me*fe*Ee)*((-ie+me*fe*ce)/ye*Math.sin(ye*Ee)+ce*Math.cos(ye*Ee))}else ge=ye=>ne-Math.exp(-fe*ye)*(ce+(-ie+fe*ce)*ye);return ye=>{le.current=ge(ye);const Ee=ye===0?ie:calcGeneratorVelocity(ge,ye,le.current),_e=Math.abs(Ee)<=oe,Se=Math.abs(ne-le.current)<=se;return le.done=_e&&Se,le.hasReachedTarget=hasReachedTarget(te,ne,le.current),le}},glide$1=({from:Z=0,velocity:_=0,power:K=.8,decay:te=.325,bounceDamping:ne,bounceStiffness:ie,changeTarget:oe,min:se,max:le,restDistance:ce=.5,restSpeed:fe})=>{te=time.ms(te);const me={hasReachedTarget:!1,done:!1,current:Z,target:Z},pe=ke=>se!==void 0&&ke<se||le!==void 0&&ke>le,ge=ke=>se===void 0?le:le===void 0||Math.abs(se-ke)<Math.abs(le-ke)?se:le;let ye=K*_;const Ee=Z+ye,_e=oe===void 0?Ee:oe(Ee);me.target=_e,_e!==Ee&&(ye=_e-Z);const Se=ke=>-ye*Math.exp(-ke/te),Re=ke=>_e+Se(ke),Te=ke=>{const ze=Se(ke),Ue=Re(ke);me.done=Math.abs(ze)<=ce,me.current=me.done?_e:Ue};let Ae,Fe;const $e=ke=>{pe(me.current)&&(Ae=ke,Fe=spring$1({from:me.current,to:ge(me.current),velocity:calcGeneratorVelocity(Re,ke,me.current),damping:ne,stiffness:ie,restDistance:ce,restSpeed:fe}))};return $e(0),ke=>{let ze=!1;return!Fe&&Ae===void 0&&(ze=!0,Te(ke),$e(ke)),Ae!==void 0&&ke>Ae?(me.hasReachedTarget=!0,Fe(ke-Ae)):(me.hasReachedTarget=!1,!ze&&Te(ke),me)}},timeStep=10,maxDuration=1e4;function pregenerateKeyframes(Z,_=noopReturn){let K,te=timeStep,ne=Z(0);const ie=[_(ne.current)];for(;!ne.done&&te<maxDuration;)ne=Z(te),ie.push(_(ne.done?ne.target:ne.current)),K===void 0&&ne.hasReachedTarget&&(K=te),te+=timeStep;const oe=te-timeStep;return ie.length===1&&ie.push(ne.current),{keyframes:ie,duration:oe/1e3,overshootDuration:(K??oe)/1e3}}function canGenerate(Z){return isNumber(Z)&&!isNaN(Z)}function getAsNumber(Z){return isString(Z)?parseFloat(Z):Z}function createGeneratorEasing(Z){const _=new WeakMap;return(K={})=>{const te=new Map,ne=(oe=0,se=100,le=0,ce=!1)=>{const fe=`${oe}-${se}-${le}-${ce}`;return te.has(fe)||te.set(fe,Z(Object.assign({from:oe,to:se,velocity:le},K))),te.get(fe)},ie=(oe,se)=>(_.has(oe)||_.set(oe,pregenerateKeyframes(oe,se)),_.get(oe));return{createAnimation:(oe,se=!0,le,ce,fe)=>{let me,pe,ge,ye=0,Ee=noopReturn;const _e=oe.length;if(se){Ee=getUnitConverter(oe,ce?transformDefinitions.get(getStyleName(ce)):void 0);const Se=oe[_e-1];if(ge=getAsNumber(Se),_e>1&&oe[0]!==null)pe=getAsNumber(oe[0]);else{const Re=fe==null?void 0:fe.generator;if(Re){const{animation:Te,generatorStartTime:Ae}=fe,Fe=(Te==null?void 0:Te.startTime)||Ae||0,$e=(Te==null?void 0:Te.currentTime)||performance.now()-Fe,ke=Re($e).current;pe=ke,ye=calcGeneratorVelocity(ze=>Re(ze).current,$e,ke)}else le&&(pe=getAsNumber(le()))}}if(canGenerate(pe)&&canGenerate(ge)){const Se=ne(pe,ge,ye,ce==null?void 0:ce.includes("scale"));me=Object.assign(Object.assign({},ie(Se,Ee)),{easing:"linear"}),fe&&(fe.generator=Se,fe.generatorStartTime=performance.now())}return me||(me={easing:"ease",duration:ie(ne(0,100)).overshootDuration}),me}}}}const spring=createGeneratorEasing(spring$1),glide=createGeneratorEasing(glide$1);function animateProgress(Z,_={}){return withControls([()=>{const K=new Animation(Z,[0,1],_);return K.finished.catch(()=>{}),K}],_,_.duration)}function animate(Z,_,K){return(isFunction(Z)?animateProgress:animate$1)(Z,_,K)}const animateDraw=Z=>{const{element:_,duration:K,delay:te,isEntering:ne=!0}=Z;if(!(_ instanceof SVGPathElement))throw new Error("ARWES animateDraw() requires a SVGPathElement.");const ie=_.getTotalLength(),oe=typeof Z.easing=="string"?easing[Z.easing]:Z.easing;_.style.strokeDashoffset=String(ne?ie:0),_.style.strokeDasharray=String(ie);const se=animate(_,{strokeDashoffset:ne?[ie,0]:[0,ie]},{duration:K,delay:te,easing:oe||(ne?easing.outExpo:easing.outSine)});return ne&&se.finished.then(()=>{_.style.strokeDashoffset="",_.style.strokeDasharray=""}),se},transition=(Z,_,K,te,ne)=>({transitions:{entering:{[Z]:[_,K],easing:ne},exiting:{[Z]:[K,te??_],easing:ne}}}),fadeTransition=Object.freeze({transitions:{entering:{opacity:[0,1]},exiting:{opacity:[1,0]}}}),fade=()=>fadeTransition,flickerTransition=Object.freeze({transitions:{entering:{opacity:[0,1,.5,1],easing:easing.outSine},exiting:{opacity:[1,0,.5,0],easing:easing.outSine}}}),flicker=()=>flickerTransition,draw=(Z,_)=>({transitions:{entering:({element:K,duration:te})=>animateDraw({isEntering:!0,element:K,duration:Z??te,easing:_}),exiting:({element:K,duration:te})=>animateDraw({isEntering:!1,element:K,duration:Z??te,easing:_})}}),createAnimation=Z=>{if(Z.duration!==void 0&&Z.duration<0)throw new Error("Arwes createAnimation() does not support negative durations.");const{duration:_,easing:K="outSine",direction:te="normal",repeat:ne=0,onUpdate:ie,onFinish:oe,onCancel:se}=Z,le=typeof K=="function"?K:easing[K],ce=_*1e3;let fe=null,me,pe=0,ge,ye=0;const Ee=new Promise(Fe=>{ge=Fe}),_e=Fe=>Ee.then(Fe),Se=Fe=>{me||(me=Fe),pe=Math.max(Fe-me,0);const $e=le(ce===0?1:Math.min(1,Math.max(0,pe/ce)));ie(te==="normal"?$e:1-$e);let ke=ce>0&&pe<ce;!ke&&ne>0&&ye<ne&&(me=Fe,ke=!0,ye++),ke?fe=window.requestAnimationFrame(Se):(fe=null,oe==null||oe(),ge())},Re=()=>fe!==null,Te=()=>{fe!==null&&(window.cancelAnimationFrame(fe),fe=null,se==null||se(),ge())},Ae=()=>{fe!==null&&(window.cancelAnimationFrame(fe),fe=null,ie(le(te==="reverse"?0:1)),oe==null||oe(),ge())};return fe=window.requestAnimationFrame(Se),Object.freeze({then:_e,isPending:Re,cancel:Te,complete:Ae})},animatedPresets={fade,flicker,draw},createAnimatedElement=Z=>{const{element:_,animator:K}=Z,te=()=>({hideOnExited:!0,renderInitials:!0,...filterProps(Z.settingsRef.current)}),ne=new Set,ie=te();if(ie.renderInitials){const{animated:le}=ie,fe=(Array.isArray(le)?le:[le]).map(ge=>typeof ge=="string"||Array.isArray(ge)?void 0:ge).filter(Boolean),me=fe.map(ge=>ge?ge.initialAttributes:null).reduce((ge,ye)=>({...ge,...ye}),{});Object.keys(me).forEach(ge=>{_.setAttribute(ge,me[ge])});const pe=fe.map(ge=>ge?ge.initialStyle:null).reduce((ge,ye)=>({...ge,...ye}),{});applyAnimatedCSSProps(_,pe)}const oe=K.subscribe(le=>{const{animated:ce,hideOnExited:fe,hideOnEntered:me,onTransition:pe}=te();_.style.visibility=fe&&le.state==="exited"||me&&le.state==="entered"?"hidden":"";const ye=le.settings.duration,Ee=le.state==="entering"||le.state==="entered"?ye.enter:ye.exit,_e=Te=>Array.from(_.querySelectorAll(Te));(Array.isArray(ce)?ce:[ce]).filter(Boolean).filter(Boolean).map(Te=>{if(typeof Te=="string"){const Ae=animatedPresets[Te];if(!Ae)throw new Error(`ARWES createAnimatedElement() unexpected animated preset "${Te}".`);return Ae()}return Array.isArray(Te)?transition(...Te):Te}).map(Te=>{var Ae;return Te?(Ae=Te.transitions)==null?void 0:Ae[le.state]:null}).filter(Boolean).forEach(Te=>{if(typeof Te=="function"){const Ae=Te({element:_,$:_e,duration:Ee,nodeDuration:ye,easing,animate,timeline,stagger,spring,glide});Ae&&(ne.add(Ae),Ae.then?Ae.then(()=>{ne.delete(Ae)}):Ae.finished&&Ae.finished.then(()=>{ne.delete(Ae)}))}else if(Te){const{duration:Ae,delay:Fe,easing:$e,repeat:ke,direction:ze,options:Ue,...Oe}=Te,Ve=Ae||Ee;if(Ve<=0)throw new Error("ARWES createAnimatedElement() animation duration must be greater than 0.");try{const Ye=animate(_,Oe,{duration:Ve,delay:Fe,easing:typeof $e=="string"?easing[$e]??$e:$e,repeat:ke,direction:ze,...Ue});ne.add(Ye),Ye.finished.then(()=>{ne.delete(Ye)})}catch(Ye){throw new Error(`ARWES createAnimatedElement() animation error:
${String(Ye)}`)}}}),pe==null||pe(_,le)}),se=()=>{oe(),ne.forEach(le=>le.cancel()),ne.clear()};return Object.freeze({settingsRef:Z.settingsRef,cancel:se})},createAnimatedXElement=Z=>{const{element:_}=Z,K=()=>({hideOnStates:[],renderInitials:!0,...filterProps(Z.settingsRef.current)});let te=Z.settingsRef.current.state;const ne=new Set,ie=K();if(ie.renderInitials){const{animated:ce}=ie,me=(Array.isArray(ce)?ce:[ce]).filter(Boolean),pe=me.map(ye=>ye==null?void 0:ye.initialAttributes).reduce((ye,Ee)=>({...ye,...Ee}),{});Object.keys(pe).forEach(ye=>{_.setAttribute(ye,pe[ye])});const ge=me.map(ye=>ye==null?void 0:ye.initialStyle).reduce((ye,Ee)=>({...ye,...Ee}),{});applyAnimatedCSSProps(_,ge)}const oe=()=>{const{state:ce,animated:fe,hideOnStates:me}=K();te=ce;const ge=(Array.isArray(fe)?fe:[fe]).filter(Boolean);_.style.visibility=me!=null&&me.includes(ce)?"hidden":"";const ye=Ee=>Array.from(_.querySelectorAll(Ee));ge.map(Ee=>{var _e;return(_e=Ee.transitions)==null?void 0:_e[ce]}).filter(Boolean).forEach(Ee=>{if(typeof Ee=="function"){const _e=Ee({element:_,$:ye,easing,animate,timeline,stagger,spring,glide});_e&&(ne.add(_e),_e.then?_e.then(()=>{ne.delete(_e)}):_e.finished&&_e.finished.then(()=>{ne.delete(_e)}))}else{const{duration:_e,delay:Se,easing:Re,repeat:Te,direction:Ae,options:Fe,...$e}=Ee;if(Number.isFinite(_e)&&_e<=0)throw new Error("ARWES createAnimatedXElement() animation duration must be greater than 0.");try{const ke=animate(_,$e,{duration:_e,delay:Se,easing:typeof Re=="string"?easing[Re]:Re,repeat:Te,direction:Ae,...Fe});ne.add(ke),ke.finished.then(()=>{ne.delete(ke)})}catch(ke){throw new Error(`ARWES createAnimatedXElement() animation error:
${String(ke)}`)}}})};return oe(),Object.freeze({refresh:()=>{te!==Z.settingsRef.current.state&&oe()},cancel:()=>{ne.forEach(ce=>ce.cancel()),ne.clear()}})},getDistanceBetweenTwoPoints=(Z,_,K,te)=>Math.sqrt((K-Z)**2+(te-_)**2),getDistanceFromOriginToCornerProgress=(Z,_,K,te,ne)=>{switch(ne){case"left":return K/Z;case"right":return 1-K/Z;case"top":return te/_;case"bottom":return 1-te/_;case"center":ne=[.5,.5];break}const[ie,oe]=ne,se=Z*ie,le=_*oe,ce=getDistanceBetweenTwoPoints(K,te,se,le),fe=se<Z/2?Z:0,me=le<_/2?_:0,pe=getDistanceBetweenTwoPoints(se,le,fe,me);return ce/pe},defaultProps$d={color:"#777",type:"box",distance:30,size:4,crossSize:1,origin:"center",originInverted:!1,easing:easing.inSine},createBackgroundDots=Z=>{const{canvas:_,animator:K}=Z,te=_.getContext("2d");if(!te)return{cancel:()=>{}};const ne=Math.min(window.devicePixelRatio||2,2);let ie,oe,se;const le=()=>({...defaultProps$d,...Z.settingsRef.current}),ce=()=>{const{width:Ee,height:_e}=_.getBoundingClientRect();(_.width!==Ee*ne||_.height!==_e*ne)&&(_.width=Ee*ne,_.height=_e*ne),te.setTransform(1,0,0,1,0,0),te.scale(ne,ne)},fe=(Ee,_e)=>{if(!te)return;const{color:Se,type:Re,distance:Te,size:Ae,crossSize:Fe,origin:$e,originInverted:ke}=le(),{width:ze,height:Ue}=_,Oe=1+Math.floor(ze/Te),Ve=1+Math.floor(Ue/Te),Ye=ze%Te,Ke=Ue%Te;te.clearRect(0,0,ze,Ue);for(let ot=0;ot<Oe;ot++){const ut=Ye/2+ot*Te;for(let ct=0;ct<Ve;ct++){const gt=Ke/2+ct*Te,je=getDistanceFromOriginToCornerProgress(ze/ne,Ue/ne,ut,gt,$e),rt=Ee&&ke||!Ee&&!ke?1-je:je,Qe=_e/rt,qe=Math.max(0,Math.min(1,Qe));if(te.beginPath(),te.globalAlpha=Ee?qe:1-qe,Re==="circle")te.arc(ut,gt,Ae,0,2*Math.PI);else if(Re==="cross"){const lt=Ae/2,Et=Fe/2;te.moveTo(ut-lt,gt+Et),te.lineTo(ut-lt,gt-Et),te.lineTo(ut-Et,gt-Et),te.lineTo(ut-Et,gt-lt),te.lineTo(ut+Et,gt-lt),te.lineTo(ut+Et,gt-Et),te.lineTo(ut+lt,gt-Et),te.lineTo(ut+lt,gt+Et),te.lineTo(ut+Et,gt+Et),te.lineTo(ut+Et,gt+lt),te.lineTo(ut-Et,gt+lt),te.lineTo(ut-Et,gt+Et)}else te.rect(ut-Ae/2,gt-Ae/2,Ae,Ae);te.fillStyle=Se,te.fill(),te.closePath()}}},me=()=>{_.style.opacity="1",typeof window<"u"&&!oe&&(oe=new window.ResizeObserver(()=>{if(ce(),K)switch(K.state){case"entered":{fe(!0,1);break}}else fe(!0,1)}),oe.observe(_),ce())},pe=()=>{_.style.opacity="0",oe==null||oe.disconnect(),oe=void 0,ie==null||ie.cancel(),ie=void 0},ge=()=>{if(!K){me(),fe(!0,1);return}se=K.subscribe(Ee=>{const _e=le();switch(Ee.state){case"entering":{me(),ie==null||ie.cancel(),ie=createAnimation({duration:Ee.settings.duration.enter,easing:_e.easing,onUpdate(Se){fe(!0,Se)}});break}case"entered":{me(),ie==null||ie.cancel(),fe(!0,1);break}case"exiting":{me(),ie==null||ie.cancel(),ie=createAnimation({duration:Ee.settings.duration.exit,easing:_e.easing,onUpdate(Se){fe(!1,Se)}});break}case"exited":{pe();break}}})},ye=()=>{se==null||se(),pe()};return ge(),Object.freeze({cancel:ye})},defaultProps$c={color:"#777",quantity:10,padding:50,xOffset:[0,0],yOffset:[-10,-100],radiusInitial:4,radiusOffset:[4,40],sets:5},minmaxOverflow01$1=Z=>Math.min(1,Math.max(0,Z===1?1:Z%1)),createBackgroundPuffs=Z=>{const{canvas:_,animator:K}=Z,te=_.getContext("2d");if(!te)return{cancel:()=>{}};let ne,ie,oe,se,le,ce=[];const fe=()=>({...defaultProps$c,...Z.settingsRef.current}),me=(Fe,$e)=>{const{padding:ke,xOffset:ze,yOffset:Ue,radiusInitial:Oe,radiusOffset:Ve}=fe(),Ye=ke+Math.random()*(Fe-ke*2),Ke=ke+Math.random()*($e-ke*2),ot=Oe,ut=ze[0]+Math.random()*ze[1],ct=Ue[0]+Math.random()*Ue[1],gt=Ve[0]+Math.random()*Ve[1];return{x:Ye,y:Ke,r:ot,xo:ut,yo:ct,ro:gt}},pe=(Fe,$e)=>{const{quantity:ke,sets:ze}=fe(),Ue=Math.round(ke/ze);return Array(ze).fill(null).map(()=>Array(Ue).fill(null).map(()=>me(Fe,$e)))},ge=()=>{const Fe=Math.min(window.devicePixelRatio||2,2),{width:$e,height:ke}=_.getBoundingClientRect();(_.width!==$e*Fe||_.height!==ke*Fe)&&(_.width=$e*Fe,_.height=ke*Fe),te.setTransform(1,0,0,1,0,0),te.scale(Fe,Fe),ce=pe($e,ke)},ye=(Fe,$e)=>{const{color:ke}=fe();te.globalAlpha=$e<=.5?$e*2:-2*$e+2,Fe.forEach(ze=>{const Ue=ze.x+$e*ze.xo,Oe=ze.y+$e*ze.yo,Ve=ze.r+$e*ze.ro,Ye=te.createRadialGradient(Ue,Oe,0,Ue,Oe,Ve);Ye.addColorStop(0,ke),Ye.addColorStop(1,"transparent"),te.beginPath(),te.fillStyle=Ye,te.arc(Ue,Oe,Ve,0,2*Math.PI),te.fill(),te.closePath()})},Ee=Fe=>{const{sets:$e}=fe(),{width:ke,height:ze}=_,Ue=1/$e;te.clearRect(0,0,ke,ze),ce.forEach((Oe,Ve)=>{const Ye=Ue*Ve,Ke=minmaxOverflow01$1(Fe+Ye);ye(Oe,easing.outSine(Ke))})},_e=()=>{if(!K)return;const{duration:{interval:Fe=2,intervalPause:$e=0}}=K.settings;oe==null||oe.cancel(),oe=createAnimation({duration:Fe,easing:"linear",onUpdate(ke){Ee(ke)},onFinish(){const ke=$e*1e3;window.clearTimeout(le),le=window.setTimeout(_e,ke)}})},Se=()=>{typeof window<"u"&&!ne&&(ne=new window.ResizeObserver(()=>{ge(),K||Ee(1)}),ne.observe(_),ge())},Re=()=>{ne==null||ne.disconnect(),ne=void 0,ie==null||ie.cancel(),ie=void 0,oe==null||oe.cancel(),oe=void 0,window.clearTimeout(le),le=void 0},Te=()=>{if(!K){Se(),Ee(1),_.style.opacity="1";return}se=K.subscribe(Fe=>{switch(Fe.state){case"entering":{Se(),oe===void 0&&_e(),ie==null||ie.cancel(),ie=createAnimation({duration:Fe.settings.duration.enter,onUpdate($e){_.style.opacity=String($e)}});break}case"entered":{Se(),oe===void 0&&_e(),_.style.opacity="1";break}case"exiting":{ie==null||ie.cancel(),ie=createAnimation({duration:Fe.settings.duration.exit,onUpdate($e){_.style.opacity=String(1-$e)}});break}case"exited":{Re(),_.style.opacity="0";break}}})},Ae=()=>{se==null||se(),Re(),_.style.opacity="0"};return Te(),Object.freeze({cancel:Ae})},defaultProps$b={lineWidth:1,lineColor:"#777",horizontalLineDash:[4],verticalLineDash:[],distance:30},createBackgroundGridLines=Z=>{const{canvas:_,animator:K}=Z,te=_.getContext("2d");if(!te)return{cancel:()=>{}};let ne,ie,oe;const se=()=>({...defaultProps$b,...Z.settingsRef.current}),le=()=>{const ye=Math.min(window.devicePixelRatio||2,2),{width:Ee,height:_e}=_.getBoundingClientRect();(_.width!==Ee*ye||_.height!==_e*ye)&&(_.width=Ee*ye,_.height=_e*ye),te.setTransform(1,0,0,1,0,0),te.scale(ye,ye)},ce=()=>{const{lineWidth:ye,lineColor:Ee,horizontalLineDash:_e,verticalLineDash:Se,distance:Re}=se(),{width:Te,height:Ae}=_,Fe=1+Math.floor(Te/Re),$e=1+Math.floor(Ae/Re),ke=Te%Re,ze=Ae%Re;te.clearRect(0,0,Te,Ae),te.lineWidth=ye,te.strokeStyle=Ee,te.setLineDash(_e);for(let Ue=0;Ue<$e;Ue++){const Oe=ze/2+Ue*Re;te.beginPath(),te.moveTo(0,Oe),te.lineTo(Te,Oe),te.stroke(),te.closePath()}te.setLineDash(Se);for(let Ue=0;Ue<Fe;Ue++){const Oe=ke/2+Ue*Re;te.beginPath(),te.moveTo(Oe,0),te.lineTo(Oe,Ae),te.stroke(),te.closePath()}},fe=()=>{typeof window<"u"&&!ne&&(ne=new window.ResizeObserver(()=>{le(),ce()}),ne.observe(_),le())},me=()=>{ne==null||ne.disconnect(),ne=void 0,ie==null||ie.cancel(),ie=void 0},pe=()=>{if(!K){fe(),ce(),_.style.opacity="1";return}oe=K.subscribe(ye=>{switch(ye.state){case"entering":{fe(),ce(),ie=createAnimation({duration:ye.settings.duration.enter,onUpdate(Ee){_.style.opacity=String(Ee)}});break}case"entered":{fe(),ce(),_.style.opacity="1";break}case"exiting":{ie=createAnimation({duration:ye.settings.duration.exit,onUpdate(Ee){_.style.opacity=String(1-Ee)}});break}case"exited":{me(),_.style.opacity="0";break}}})},ge=()=>{oe==null||oe(),me(),_.style.opacity="0"};return pe(),Object.freeze({cancel:ge})},defaultProps$a={lineWidth:1,lineColor:"#777",distance:30,sets:5},random=(Z,_)=>(_-Z)*Math.random(),minmaxOverflow01=Z=>Math.min(1,Math.max(0,Z===1?1:Z%1)),createLinesSet=Z=>{const{distance:_,positionsLength:K,margin:te,size:ne}=Z,ie=Math.floor(random(.1,.5)*K),oe=Array(K).fill(0).map((ce,fe)=>fe);return randomizeList(oe).slice(0,ie).map(ce=>{const fe=te/2+ce*_,me=Math.random()*(ne/2),pe=Math.floor(random(.1,.5)*ne);return{axis1:fe,axis2Initial:me,length:pe}})},createBackgroundMovingLines=Z=>{const{canvas:_,animator:K}=Z,te=_.getContext("2d");if(!te)return{cancel:()=>{}};let ne,ie,oe,se,le=[];const ce=()=>({...defaultProps$a,...Z.settingsRef.current}),fe=()=>{const Se=Math.min(window.devicePixelRatio||2,2),{width:Re,height:Te}=_.getBoundingClientRect();(_.width!==Re*Se||_.height!==Te*Se)&&(_.width=Re*Se,_.height=Te*Se),te.setTransform(1,0,0,1,0,0),te.scale(Se,Se)},me=Se=>{const{lineWidth:Re,lineColor:Te,distance:Ae,sets:Fe}=ce(),{width:$e,height:ke}=_,ze=_.width!==$e||_.height!==ke,Ue=$e,Oe=ke,Ve=1+Math.floor(Ue/Ae),Ye=Ue%Ae;te.clearRect(0,0,$e,ke),te.lineWidth=Re,te.strokeStyle=Te,te.shadowBlur=Re,te.shadowOffsetX=0,te.shadowOffsetY=0,te.shadowColor=Te,(le.length===0||ze)&&(le=Array(Fe).fill(null).map(()=>createLinesSet({positionsLength:Ve,margin:Ye,distance:Ae,size:Oe}))),le.forEach((Ke,ot)=>{const ut=1/Fe*ot,ct=minmaxOverflow01(Se+ut),gt=easing.inOutCubic(ct);Ke.forEach(je=>{const{axis1:rt,axis2Initial:Qe,length:qe}=je,lt=Oe*2*gt-Oe;te.beginPath(),te.moveTo(rt,Oe-(Qe+lt)),te.lineTo(rt,Oe-(Qe+qe+lt)),te.stroke(),te.closePath()})})},pe=()=>{if(!K)return;const{duration:{interval:Se=10}}=K.settings;oe==null||oe.cancel(),oe=createAnimation({duration:Se,easing:"linear",repeat:1/0,onUpdate:me})},ge=()=>{typeof window<"u"&&!ne&&(ne=new window.ResizeObserver(()=>{fe(),K||me(1)}),ne.observe(_),fe())},ye=()=>{ne==null||ne.disconnect(),ne=void 0,ie==null||ie.cancel(),ie=void 0,oe==null||oe.cancel(),oe=void 0},Ee=()=>{if(!K){ge(),me(1),_.style.opacity="1";return}se=K.subscribe(Se=>{switch(Se.state){case"entering":{ge(),oe===void 0&&pe(),ie=createAnimation({duration:Se.settings.duration.enter,onUpdate(Re){_.style.opacity=String(Re)}});break}case"entered":{ge(),oe===void 0&&pe(),_.style.opacity="1";break}case"exiting":{ie=createAnimation({duration:Se.settings.duration.exit,onUpdate(Re){_.style.opacity=String(1-Re)}});break}case"exited":{ye(),_.style.opacity="0";break}}})},_e=()=>{se==null||se(),ye(),_.style.opacity="0"};return Ee(),Object.freeze({cancel:_e})},positionedStyle$1={position:"absolute",inset:0,display:"block",border:0,margin:0,padding:0,width:"100%",height:"100%"},Dots=memo(Z=>{const{elementRef:_,id:K,className:te,style:ne,positioned:ie=!0}=Z,oe=useAnimator(),se=reactExports.useRef(null),le=reactExports.useRef(Z);return le.current=Z,reactExports.useEffect(()=>{const ce=se.current;if(!ce)return;const fe=createBackgroundDots({canvas:ce,animator:oe==null?void 0:oe.node,settingsRef:le});return()=>fe.cancel()},[oe]),React.createElement("canvas",{role:"presentation",ref:mergeRefs$2(se,_),id:K,className:cx("arwes-bgs-dots",te),style:{...ie?positionedStyle$1:null,...ne}})});memo(Z=>{const{elementRef:_,id:K,className:te,style:ne,positioned:ie=!0}=Z,oe=useAnimator(),se=reactExports.useRef(null),le=reactExports.useRef(Z);return le.current=Z,reactExports.useEffect(()=>{const ce=se.current;if(!ce)return;const fe=createBackgroundPuffs({canvas:ce,animator:oe==null?void 0:oe.node,settingsRef:le});return()=>fe.cancel()},[oe]),React.createElement("canvas",{role:"presentation",ref:mergeRefs$2(se,_),id:K,className:cx("arwes-bgs-puffs",te),style:{...ie?positionedStyle$1:null,...ne}})});const GridLines=memo(Z=>{const{elementRef:_,id:K,className:te,style:ne,positioned:ie=!0}=Z,oe=useAnimator(),se=reactExports.useRef(null),le=reactExports.useRef(Z);return le.current=Z,reactExports.useEffect(()=>{const ce=se.current;if(!ce)return;const fe=createBackgroundGridLines({canvas:ce,animator:oe==null?void 0:oe.node,settingsRef:le});return()=>fe.cancel()},[oe]),React.createElement("canvas",{role:"presentation",ref:mergeRefs$2(se,_),id:K,className:cx("arwes-bgs-gridlines",te),style:{...ie?positionedStyle$1:null,...ne}})}),MovingLines=memo(Z=>{const{elementRef:_,id:K,className:te,style:ne,positioned:ie=!0}=Z,oe=useAnimator(),se=reactExports.useRef(null),le=reactExports.useRef(Z);return le.current=Z,reactExports.useEffect(()=>{const ce=se.current;if(!ce)return;const fe=createBackgroundMovingLines({canvas:ce,animator:oe==null?void 0:oe.node,settingsRef:le});return()=>fe.cancel()},[oe]),React.createElement("canvas",{role:"presentation",ref:mergeRefs$2(se,_),id:K,className:cx("arwes-bgs-movinglines",te),style:{...ie?positionedStyle$1:null,...ne}})}),BACKGROUND_COLOR_CANVAS_ON="rgba(0, 9, 6, 0.05)",ScifiBackground=()=>{const[Z,_]=reactExports.useState(!0);return reactExports.useEffect(()=>{const K=setInterval(()=>{_(!Z)},Z?5e3:1e3);return()=>clearTimeout(K)},[Z]),jsxRuntimeExports.jsx(Animator,{active:Z,duration:{enter:1,interval:10},children:jsxRuntimeExports.jsxs("div",{className:"scifi-background",style:{opacity:1,backgroundColor:BACKGROUND_COLOR_CANVAS_ON},children:[jsxRuntimeExports.jsx(GridLines,{lineColor:"hsla(180, 100%, 75%, 0.05)",distance:30}),jsxRuntimeExports.jsx(Dots,{color:"hsla(180, 100%, 75%, 0.05)",distance:30}),jsxRuntimeExports.jsx(MovingLines,{lineColor:"hsla(180, 100%, 75%, 0.07)",distance:30,sets:20})]})})},createThemeMultiplier=Z=>_=>{if(Number.isFinite(Z))return Z*_;if(Array.isArray(Z)){if(!Z.length)return 0;const te=Z,ne=Math.round(_);return te[ne>te.length-1?te.length-1:ne]}return Z(_)},getSeriesItem=(Z,_)=>{const K=Math.round(_);return Z[K>Z.length-1?Z.length-1:K]},createThemeUnit=Z=>_=>{if(typeof _=="string")return _;const K=Array.isArray(_)?_:[_];return Array.isArray(Z)?Z.length?K.map(te=>typeof te=="string"?te:getSeriesItem(Z,te)).join(" "):"":K.map(te=>typeof te=="string"?te:Z(te)).join(" ")},minMax=(Z,_)=>K=>Math.min(_,Math.max(Z,K)),minMax0to100=minMax(0,100),minMax0to230=minMax(0,230),minMax0to360=minMax(0,360),minMax0to1=minMax(0,1),searchRegExp=(Z,_)=>{const K=Z.match(_);return Array.isArray(K)?String(K[0]):null},colorOptionsDefault={},fromArrayToHSL=(Z,_=colorOptionsDefault)=>{const[K,te,ne,ie=1]=Z,{alpha:oe=1}=_,se=minMax0to360(K),le=minMax0to100(te),ce=minMax0to100(ne),fe=minMax0to1(ie)*minMax0to1(oe);return`hsl(${se},${le}%,${ce}%,${fe})`},fromArrayToRGB=(Z,_=colorOptionsDefault)=>{const[K,te,ne,ie=1]=Z,{alpha:oe=1}=_,se=minMax0to100(K),le=minMax0to100(te),ce=minMax0to100(ne),fe=minMax0to1(ie)*minMax0to1(oe);return`rgb(${se}%,${le}%,${ce}%,${fe})`},fromArrayToLCH=(Z,_=colorOptionsDefault)=>{const[K,te,ne,ie=1]=Z,{alpha:oe=1}=_,se=minMax0to100(K),le=minMax0to230(te),ce=minMax0to360(ne),fe=minMax0to1(ie)*minMax0to1(oe);return`lch(${se} ${le} ${ce} / ${fe})`},fromArrayToHWB=(Z,_=colorOptionsDefault)=>{const[K,te,ne,ie=1]=Z,{alpha:oe=1}=_,se=minMax0to360(K),le=minMax0to100(te),ce=minMax0to100(ne),fe=minMax0to1(ie)*minMax0to1(oe);return`hwb(${se} ${le}% ${ce}% / ${fe})`},formatColor=(Z,_=colorOptionsDefault)=>{const{alpha:K}=_;if(K==null||!/^(hsla?|rgba?|lch|hwb)\([a-zA-Z0-9,./% -]+\)$/.test(Z))return Z;const ne=Array.from(Z.matchAll(/(,\s?|\s?\/\s?|\s)/g)).length===3,ie=Z.includes(","),oe=minMax0to1(K);if(ne){const se=searchRegExp(Z,/\d+(\.\d+)?%?\)$/),le=se.includes("%");let ce=Number(se.replace(/%?\)$/g,""));return ce=le?minMax0to100(ce):minMax0to1(ce),Z.replace(/\d+(\.\d+)?%?\)$/,`${ce*oe}${le?"%":""})`)}return Z.replace(/\)$/,ie?`,${oe})`:` / ${oe})`)},createThemeColorBySeries=(Z,_)=>(K,te)=>{if(!_.length)return"";const ne=Math.round(K),ie=_[ne>_.length-1?_.length-1:ne];return typeof ie=="string"?formatColor(ie,te):Z==="rgb"?fromArrayToRGB(ie,te):Z==="lch"?fromArrayToLCH(ie,te):Z==="hwb"?fromArrayToHWB(ie,te):fromArrayToHSL(ie,te)},createThemeColorByFunction=(Z,_)=>(K,te)=>{const ne=Math.round(K),ie=_(ne);return typeof ie=="string"?formatColor(ie,te):Z==="rgb"?fromArrayToRGB(ie,te):Z==="lch"?fromArrayToLCH(ie,te):Z==="hwb"?fromArrayToHWB(ie,te):fromArrayToHSL(ie,te)},createThemeColor=Z=>{if(Array.isArray(Z))return createThemeColorBySeries("hsl",Z);if(typeof Z=="function")return createThemeColorByFunction("hsl",Z);if(Array.isArray(Z.list))return createThemeColorBySeries(Z.color,Z.list);const _=Z.create;if(typeof _!="function")throw new Error("ARWES createThemeColor requires a valid list of colors or a color creator.");return createThemeColorByFunction(Z.color,_)},createThemeStyle=Z=>_=>{if(!Z.length)return{};const K=Math.round(_);return Z[K]||Z[Z.length-1]},createThemeBreakpoints=(Z=[])=>{const _=Z.filter(oe=>typeof oe!="string").map(oe=>oe.key),K=oe=>{if(typeof oe=="string"){for(const le of Z)if(typeof le!="string"&&le.key===oe)return le.value;return oe}const se=Z[oe>Z.length-1?Z.length-1:oe];return typeof se=="string"?se:se.value};return Object.freeze({breakpoints:_,settings:Z,up:(oe,se)=>`${se!=null&&se.strip?"":"@media "}(min-width: ${K(oe)})`,down:(oe,se)=>`${se!=null&&se.strip?"":"@media "}(max-width: calc(${K(oe)} - 1px))`,between:(oe,se,le)=>{const ce=le!=null&&le.strip?"":"@media ",fe=K(oe),me=K(se);return`${ce}(min-width: ${fe}) and (max-width: calc(${me} - 1px))`}})},extendDeepObject=(Z,_,K)=>{const te={};return Object.keys(Z).forEach(ne=>{if(typeof Z[ne]=="object"){if(Z[ne]===null)throw new Error("Theme structure values can not be null.");if(!_[ne]||typeof _[ne]!="object")throw new Error("Theme default value should match theme structure object.");te[ne]=extendDeepObject(Z[ne],_[ne],K==null?void 0:K[ne])}else te[ne]=(K==null?void 0:K[ne])??_[ne]}),te},createDeepThemeSetup=(Z,_)=>{const K={};return Object.keys(Z).forEach(te=>{if(typeof Z[te]=="object")K[te]=createDeepThemeSetup(Z[te],_[te]);else switch(Z[te]){case"multiplier":K[te]=createThemeMultiplier(_[te]);break;case"unit":K[te]=createThemeUnit(_[te]);break;case"color":K[te]=createThemeColor(_[te]);break;case"style":K[te]=createThemeStyle(_[te]);break;case"breakpoints":K[te]=createThemeBreakpoints(_[te]);break;case"other":K[te]=_[te];break;default:throw new Error(`Invalid theme structure key "${Z[te]}" provided.`)}}),K},createCreateTheme=(Z,_)=>(te={})=>{let ne;return Array.isArray(te)?ne=te.reduce((ie,oe)=>oe?extendDeepObject(Z,ie,oe):ie,_):ne=extendDeepObject(Z,_,te),createDeepThemeSetup(Z,ne)},BLEEPS_CATEGORIES={background:"background",transition:"transition",interaction:"interaction",notification:"notification",voice:"voice"},createBleepSource=Z=>{const{context:_,buffer:K,gain:te,loop:ne,onStop:ie}=Z,oe=_.createBufferSource();let se=!1,le=!1;oe.buffer=K,oe.loop=!!ne,ne&&(oe.loopStart=0,oe.loopEnd=K.duration);const ce=()=>{se||(oe.start(),se=!0)},fe=()=>{le||(oe.stop(),oe.disconnect(te),le=!0,ie==null||ie())};return oe.connect(te),oe.onended=()=>{le||ie==null||ie()},{get started(){return se},get stopped(){return le},start:ce,stop:fe}},createBleep=Z=>{const _=typeof window<"u",K=_&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome");if(!(_&&!!window.AudioContext))return null;const{sources:ne,preload:ie=!0,asyncLoad:oe,loop:se,fetchHeaders:le,masterGain:ce,maxPlaybackDelay:fe=.25,muteOnWindowBlur:me}=Z;let pe=Z.volume??1,ge=!!Z.muted,ye=!1,Ee=!1,_e=!1,Se=!1,Re=0,Te,Ae=null,Fe=null,$e=0,ke;const ze=Z.context??new window.AudioContext,Ue=ze.createGain(),Oe=new Set,Ve=(Et,ht,dt)=>{try{window.fetch(Et,{method:"GET",headers:le}).then(Mt=>{if(!Mt.ok)throw new Error("ARWES bleep source could not be fetched.");return Mt}).then(Mt=>Mt.arrayBuffer()).then(Mt=>ze.decodeAudioData(Mt)).then(Mt=>{Fe=Mt,$e=Fe.duration}).catch(Mt=>{_e=!0,console.error(`ARWES bleep with source URL "${Et}" and type "${ht}" could not be used:`,Mt)}).then(()=>{Ee=!1,dt()})}catch{_e=!0,Ee=!1,console.error("ARWES bleep throws when fetched.")}};function Ye(){if(Fe||Ee||_e)return;if(!ne.length){_e=!0,console.error("ARWES bleep must have at least one source with a valid audio file URL and type.");return}const Et=new window.Audio,ht=ne.find(Pt=>{if(K&&Pt.type.includes("audio/webm"))return!1;const Wt=Et.canPlayType(Pt.type||"");return Wt==="probably"||Wt==="maybe"});if(!ht){_e=!0,console.error(`ARWES bleep sources "${JSON.stringify(ne)}" are not supported on this navigator.`);return}const{src:dt,type:Mt}=ht;Ee=!0,ke=new Promise(Pt=>{oe?Te=window.setTimeout(()=>{Ve(dt,Mt,Pt)},0):Ve(dt,Mt,Pt)})}function Ke(){window.removeEventListener("click",Ke),ze.state==="suspended"&&ze.resume()}function ot(){me&&(ye=!1,Qe({}))}function ut(){me&&(ye=!0,Qe({}))}function ct(Et){const ht=()=>{Date.now()<=Re+fe*1e3&&ct(Et)};if(Re=Date.now(),!_e){if(Ee){ke.then(ht);return}if(!Fe){Ye(),ke.then(ht);return}if(Et!==void 0&&Oe.add(Et),!(se&&Se)){if(ze.state==="suspended"){window.addEventListener("click",Ke),ze.resume().then(ht).catch(dt=>{const Mt=JSON.stringify(ne);console.error(`ARWES bleep audio context with sources "${Mt}" could not be resumed to be played:`,dt)});return}Ae&&Ae.stop(),Ae=createBleepSource({context:ze,buffer:Fe,gain:Ue,loop:se,onStop(){Se=!1}}),Se=!0,Ae.start()}}}function gt(Et){if(!Fe)return;Et!==void 0&&Oe.delete(Et),(se?!Oe.size:!0)&&(Ae&&Ae.stop(),Se=!1)}function je(){Ye()}function rt(){Ae&&Ae.stop(),Ae=null,Fe=null,Ee=!1,_e=!1,Se=!1,window.clearTimeout(Te),window.removeEventListener("click",Ke),window.removeEventListener("focus",ot),window.removeEventListener("blur",ut)}function Qe(Et){Et.volume!==void 0&&(pe=Math.max(0,Math.min(1,Et.volume))),Et.muted!==void 0&&(ge=!!Et.muted);const ht=ge||ye?0:pe;ht!==Ue.gain.value&&(Ue.gain.value=ht)}const qe={};return Object.defineProperties(qe,{duration:{get:()=>$e,enumerable:!0},volume:{get:()=>pe,set:Et=>Qe({volume:Et}),enumerable:!0},muted:{get:()=>ge,set:Et=>Qe({muted:Et}),enumerable:!0},isPlaying:{get:()=>Se,enumerable:!0},isLoaded:{get:()=>!!Fe,enumerable:!0},play:{value:ct,enumerable:!0},stop:{value:gt,enumerable:!0},load:{value:je,enumerable:!0},unload:{value:rt,enumerable:!0},update:{value:Qe,enumerable:!0}}),ce?Ue.connect(ce):Ue.connect(ze.destination),Qe({volume:pe}),ie&&Ye(),me&&(window.addEventListener("focus",ot),window.addEventListener("blur",ut)),qe},categoryNames=Object.keys(BLEEPS_CATEGORIES),createBleepsManager=Z=>{const _=structuredClone(Z),K=typeof window<"u"&&!!window.AudioContext,te=K?new window.AudioContext:null,ne=K?te.createGain():null,ie=new Set(Object.keys(_.bleeps)),oe={},se=()=>{var Ee;const ye=Math.max(0,Math.min(1,((Ee=_.master)==null?void 0:Ee.volume)??1));ne.gain.setValueAtTime(ye,te.currentTime)},le=ye=>{var Te,Ae;const Ee=_.bleeps[ye],_e=Ee.category??((Te=_.common)==null?void 0:Te.category),Se=_e?(Ae=_.categories)==null?void 0:Ae[_e]:null;return{...{..._.common,...Se},...Ee,context:te,masterGain:ne}},ce=()=>{K&&ie.forEach(ye=>{var Ee;(Ee=oe[ye])==null||Ee.unload()})},fe=ye=>{ye.master&&(_.master={..._.master,...filterProps(ye.master)}),ye.common&&(_.common={..._.common,...filterProps(ye.common)});const Ee=ye.categories;Ee&&categoryNames.forEach(Se=>{var Re;_.categories=_.categories??{},_.categories[Se]={...(Re=_.categories)==null?void 0:Re[Se],...Ee[Se]}});const _e=ye.bleeps;_e&&(Object.keys(_e).forEach(Se=>ie.add(Se)),ie.forEach(Se=>{_.bleeps[Se]={..._.bleeps[Se],..._e[Se]}}))},me=()=>{ie.forEach(ye=>{const Ee=le(ye);if(Ee.disabled){const _e=oe[ye];_e&&(_e.muted=!0,_e.unload()),oe[ye]=null}else{const _e=oe[ye];_e?_e.update(Ee):oe[ye]=createBleep(Ee)}})},pe=ye=>{K&&(fe(ye),se(),me())};K&&(ne.connect(te.destination),se(),me());const ge=new Proxy(oe,{get(ye,Ee){const _e=Ee;return ie.has(_e)?ye[_e]:(console.error(`ARWES bleeps manager bleep "${_e}" was not found and can not be played.`),null)}});return Object.freeze({bleeps:ge,unload:ce,update:pe})},walkTextNodes=(Z,_)=>{Array.from(Z.childNodes).forEach(K=>{K.nodeType===Node.TEXT_NODE?_(K):K.nodeType===Node.ELEMENT_NODE&&walkTextNodes(K,_)})},setTextNodesContent=(Z,_,K,te)=>{let ne=0;for(let ie=0;ie<Z.length;ie++){const oe=Z[ie],se=_[ie],le=ne+se.length;if(le<=K)oe.textContent!==se&&(oe.textContent=se),le===K&&(te==null||te(oe));else if(ne<K){const ce=K-ne,fe=se.substring(0,ce);oe.textContent!==fe&&(oe.textContent=fe),te==null||te(oe)}else oe.textContent!==""&&(oe.textContent=""),K===0&&ie===0&&(te==null||te(oe));ne=le}},animateTextSequence=Z=>{const{rootElement:_,contentElement:K,duration:te,easing:ne="linear",blink:ie=!0,blinkDuration:oe=.1,isEntering:se=!0,hideOnExited:le=!0,hideOnEntered:ce}=filterProps(Z);if(!_||!K)throw new Error("ARWES animateTextSequence() requires valid DOM elements.");let fe,me;const pe=K.cloneNode(!0);Object.assign(pe.style,{position:"absolute",inset:0,visibility:"visible",opacity:1}),ie&&(fe=document.createElement("span"),fe.classList.add("arwes-text__blink"),fe.innerHTML="&#9614;",Object.assign(fe.style,{position:"relative",display:"inline-block",width:0,height:0,lineHeight:"0",color:"inherit"}));const ge=[],ye=[];walkTextNodes(pe,_e=>{ge.push(_e),ye.push(_e.textContent||""),se&&(_e.textContent="")});const Ee=ye.join("").length;if(_.appendChild(pe),K.style.visibility="hidden",ie&&fe){const _e=easeAmong([0,1,2]),Se=["transparent","inherit","transparent"];me=createAnimation({duration:oe,easing:"linear",repeat:1/0,onUpdate(Re){const Te=Math.round(_e(Re));fe.style.color=Se[Te]}})}return createAnimation({duration:te,easing:ne,direction:se?"normal":"reverse",onUpdate:_e=>{const Se=Math.round(_e*Ee);setTextNodesContent(ge,ye,Se,Re=>{fe&&Re.parentNode&&Re.parentNode!==fe.parentNode&&Re.parentNode.appendChild(fe)})},onFinish:()=>{K.style.visibility=se&&ce||!se&&le?"hidden":"",pe.remove(),me==null||me.cancel()},onCancel:()=>{K.style.visibility="",pe.remove(),me==null||me.cancel()}})},CIPHERED_CHARACTERS="    ----____abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",animateTextDecipher=Z=>{const{rootElement:_,contentElement:K,duration:te,easing:ne="linear",isEntering:ie=!0,hideOnExited:oe=!0,hideOnEntered:se,characters:le=CIPHERED_CHARACTERS}=filterProps(Z);if(!_||!K)throw new Error("ARWES animateTextDecipher() requires valid DOM elements.");const ce=K.cloneNode(!0);Object.assign(ce.style,{position:"absolute",inset:0,visibility:"visible",opacity:1});const fe=[],me=[];walkTextNodes(ce,Ee=>{fe.push(Ee),me.push(Ee.textContent||"")});const pe=me.join("").length,ge=randomizeList(Array(pe).fill(null).map((Ee,_e)=>_e)),ye={};return _.appendChild(ce),K.style.visibility="hidden",createAnimation({duration:te,easing:ne,direction:ie?"normal":"reverse",onUpdate:Ee=>{const _e=Math.round(pe*Ee);for(let Re=0;Re<pe;Re++)ye[ge[Re]]=Re<_e;const Se=me.map(Re=>Re.split("").map((Te,Ae)=>Te===" "?" ":ye[Ae]?Te:le[Math.round(Math.random()*(le.length-1))]).join(""));setTextNodesContent(fe,Se,pe)},onFinish:()=>{K.style.visibility=ie&&se||!ie&&oe?"hidden":"",ce.remove()},onCancel:()=>{K.style.visibility="",ce.remove()}})},getAnimationTextDuration=Z=>{const{length:_,maxDuration:K=4,charactersPerSecond:te=100}=Z,ne=1e3/te*_/1e3;return Math.min(ne,K)},renderFrameElements=(Z,_,K,te)=>{const ne=Array.from(Z.children);for(let ie=0;ie<_.length;ie++){const oe=_[ie],se=ne[ie]??document.createElementNS("http://www.w3.org/2000/svg",oe.type??"path"),{name:le,id:ce,className:fe,style:me}=oe;switch(le&&(se.dataset.name=le),ce&&(se.id=ce),fe&&(se.classList.value=fe),me&&applyAnimatedCSSProps(se,me),oe.type==="svg"&&se.setAttribute("xmlns","http://www.w3.org/2000/svg"),oe.type){case"svg":case"g":case"defs":case"clipPath":case"mask":{typeof oe.elements=="string"?se.innerHTML=oe.elements:renderFrameElements(se,oe.elements,K,te);break}}if(K&&oe.animated){const pe=te.get(se)??new Map,ge=pe.get("__animator__");if(ge)ge.settingsRef.current={...oe.animatedSettings,animated:oe.animated};else{const ye=createAnimatedElement({element:se,animator:K,settingsRef:{current:{...oe.animatedSettings,animated:oe.animated}}});pe.set("__animator__",ye)}te.set(se,pe)}se.parentNode||Z.appendChild(se)}},formatFrameDimension=(size,dimension)=>{if(typeof dimension=="number")return String(dimension);if(/[^\d.\-+*/%\s()]/.test(dimension))throw new Error("ARWES frames does not support formulas with text different from math expressions.");const formula=String(dimension).replace(/(\d{1,}\.)?\d{1,}%/g,Z=>String(size*(Number(Z.replace("%",""))/100)));return String(eval(formula))},formatCommand=(Z,_,K)=>{if(Array.isArray(K)){const[te,...ne]=K;if(te==="H"||te==="h")return`${te} ${formatFrameDimension(Z,ne[0])}`;if(te==="V"||te==="v")return`${te} ${formatFrameDimension(_,ne[0])}`;if(te==="A"||te==="a"){const[oe,se,le,ce,fe,me,pe]=ne,ge=[formatFrameDimension(Z,oe),formatFrameDimension(_,se),le,ce,fe,formatFrameDimension(Z,me),formatFrameDimension(_,pe)].join(",");return te+" "+ge}const ie=ne.map((oe,se)=>{const ce=se%2===0?Z:_;return formatFrameDimension(ce,oe)}).join(",");return te+" "+ie}return K},formatFramePath=(Z,_,K)=>K.map(te=>formatCommand(Z,_,te)).join(" "),drawFrameElements=(Z,_,K,te,ne)=>{const ie=Array.from(Z.children);for(let oe=0;oe<te.length;oe++){const se=ie[oe],le={...te[oe]},ce=le.contexts?Object.keys(le.contexts):[];if(!se)throw new Error("ARWES frame elements did not match the original setup on drawing.");if(le.type===void 0||le.type==="path"){for(const me of ce){const pe=ne[me],ge=le.contexts[me][pe];ge&&ge.path&&(le.path=ge.path)}const fe=typeof le.path=="string"?le.path:typeof le.path=="function"?le.path({width:_,height:K}):formatFramePath(_,K,le.path);se.getAttribute("d")!==fe&&se.setAttribute("d",fe)}else if(le.type==="rect"){for(const fe of ce){const me=ne[fe],pe=le.contexts[fe][me];pe&&(pe.x!==void 0&&(le.x=pe.x),pe.y!==void 0&&(le.y=pe.y),pe.width!==void 0&&(le.width=pe.width),pe.height!==void 0&&(le.height=pe.height),pe.rx!==void 0&&(le.rx=pe.rx),pe.ry!==void 0&&(le.ry=pe.ry))}se.setAttribute("x",formatFrameDimension(_,le.x)),se.setAttribute("y",formatFrameDimension(K,le.y)),se.setAttribute("width",formatFrameDimension(_,le.width)),se.setAttribute("height",formatFrameDimension(K,le.height)),le.rx!==void 0&&se.setAttribute("rx",String(le.rx)),le.ry!==void 0&&se.setAttribute("ry",String(le.ry))}else if(le.type==="ellipse"){let fe=le.cx,me=le.cy,pe=le.rx,ge=le.ry;for(const ye of ce){const Ee=ne[ye],_e=le.contexts[ye][Ee];_e&&(_e.cx!==void 0&&(fe=_e.cx),_e.cy!==void 0&&(me=_e.cy),_e.rx!==void 0&&(pe=_e.rx),_e.ry!==void 0&&(ge=_e.ry))}fe=formatFrameDimension(_,fe),me=formatFrameDimension(K,me),pe=formatFrameDimension(_,pe),ge=formatFrameDimension(K,ge),se.setAttribute("cx",fe),se.setAttribute("cy",me),se.setAttribute("rx",pe),se.setAttribute("ry",ge)}else if(le.type==="svg"){let fe=le.viewBox,me=le.x,pe=le.y,ge=le.width,ye=le.height;for(const Ee of ce){const _e=ne[Ee],Se=le.contexts[Ee][_e];Se&&(Se.viewBox!==void 0&&(fe=Se.viewBox),Se.x!==void 0&&(me=Se.x),Se.y!==void 0&&(pe=Se.y),Se.width!==void 0&&(ge=Se.width),Se.height!==void 0&&(ye=Se.height))}ge=formatFrameDimension(_,ge),ye=formatFrameDimension(K,ye),me=formatFrameDimension(_,me),pe=formatFrameDimension(K,pe),se.setAttribute("viewBox",fe),se.setAttribute("x",me),se.setAttribute("y",pe),se.setAttribute("width",ge),se.setAttribute("height",ye),Array.isArray(le.elements)&&drawFrameElements(se,+ge,+ye,le.elements,ne)}switch(le.type){case"g":case"defs":case"clipPath":case"mask":{Array.isArray(le.elements)&&drawFrameElements(se,_,K,le.elements,ne);break}}le.draw&&le.draw({element:se,width:_,height:K})}},transitionElement=(Z,_,K,te)=>{var ie;if(!te.contexts)return;const ne=Object.keys(te.contexts);ne.map(oe=>te.contexts[oe]).filter(Boolean).map(oe=>Object.keys(oe).map(se=>oe[se]).map(se=>se==null?void 0:se.className)).flat().filter(Boolean).forEach(oe=>Z.classList.remove(oe));for(const oe of ne){const le=te.contexts[oe][_[oe]];if(le&&(le.className&&Z.classList.add(le.className),le.style&&applyAnimatedCSSProps(Z,le.style),le.animate)){const ce=K.get(Z)??new Map;(ie=ce.get(oe))==null||ie.cancel();const fe=createAnimatedXElement({element:Z,settingsRef:{current:{state:"initial",animated:{transitions:{initial:le.animate}}}}});ce.set(oe,fe)}}},transitionFrameElements=(Z,_,K,te)=>{const ne=Array.from(Z.children);for(let ie=0;ie<te.length;ie++){const oe=ne[ie],se=te[ie];if(!oe)throw new Error("ARWES frame elements did not match the original setup on transition.");switch(transitionElement(oe,_,K,se),se.type){case"svg":case"g":case"defs":case"clipPath":case"mask":{Array.isArray(se.elements)&&transitionFrameElements(oe,_,K,se.elements);break}}}},createFrame=(Z,_)=>{if(!(Z instanceof SVGSVGElement))throw new Error("ARWES createFrame requires a <svg> element.");const{animator:K}=_;let te=0,ne=0,ie;const oe=_.container??document.createElementNS("http://www.w3.org/2000/svg","g"),se={..._.contexts},le=new Map,ce=()=>{te=Math.floor(Z.clientWidth),ne=Math.floor(Z.clientHeight),Z.getAttribute("viewBox")!==`0 0 ${te} ${ne}`&&Z.setAttribute("viewBox",`0 0 ${te} ${ne}`)},fe=()=>{renderFrameElements(oe,_.elements,K,le)},me=()=>{te<=0||ne<=0||drawFrameElements(oe,te,ne,_.elements,se)},pe=(_e,Se)=>{se[_e]=Se,me(),transitionFrameElements(oe,se,le,_.elements)},ge=()=>{ie.disconnect(),le.forEach(_e=>_e.forEach(Se=>Se.cancel()))},ye=()=>{ge(),Array.from(oe.children).forEach(_e=>_e.remove())};if(oe.dataset.frame="",oe.style.setProperty("vector-effect","non-scaling-stroke"),ce(),fe(),me(),se){const _e=Object.keys(se);for(const Se of _e)pe(Se,se[Se])}oe.parentNode||Z.appendChild(oe);let Ee=!0;return ie=new ResizeObserver(()=>{if(Ee){Ee=!1;return}ce(),me()}),ie.observe(Z),Object.freeze({get contexts(){return Object.freeze({...se})},render:()=>{ce(),fe(),me()},transition:pe,cancel:ge,remove:ye})},defaultProps$9={styled:!0,animated:!0,padding:0,squareSize:16,strokeWidth:1},createFrameUnderlineSettings=Z=>{const{styled:_,animated:K,squareSize:te,strokeWidth:ne,padding:ie}={...defaultProps$9,...Z?filterProps(Z):null},oe=ne/2;return{elements:[{name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&["fade"],path:[["M",ie,ie],["L",ie,`100% - ${ie}`],["L",`100% - ${te} - ${ie}`,`100% - ${ie}`],["L",`100% - ${ie}`,`100% - ${te} - ${ie}`],["L",`100% - ${ie}`,ie]]},{name:"line",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ne)},animated:K&&{transitions:{entering:({element:se,duration:le})=>animateDraw({isEntering:!0,element:se,duration:le}),exiting:({element:se,duration:le})=>animateDraw({isEntering:!1,element:se,duration:le})}},path:[["M",oe+ie,`100% - ${oe} - ${ie}`],["L",`100% - ${te} - ${ie}`,`100% - ${oe} - ${ie}`],["L",`100% - ${oe} - ${ie}`,`100% - ${te-oe} - ${ie}`]]}]}},defaultProps$8={styled:!0,animated:!0,padding:0,largeLineWidth:1,smallLineWidth:1,smallLineLength:16},createFrameLinesSettings=Z=>{const{styled:_,animated:K,padding:te,largeLineWidth:ne,smallLineWidth:ie,smallLineLength:oe}={...defaultProps$8,...Z?filterProps(Z):null},se=[[["M",te,te+ne/2],["H","50% + 0.1"]],[["M",`100% - ${te+ne/2}`,te+ne/2],["H","50% - 0.1"]],[["M",te+ne/2,`100% - ${te+ne/2}`],["H","50% + 0.1"]],[["M",`100% - ${te+ne/2}`,`100% - ${te+ne/2}`],["H","50% - 0.1"]]],le=[[["M",te,te+ie/2],["h",oe]],[["M",`100% - ${te}`,te+ie/2],["h",-oe]],[["M",te,`100% - ${te+ie/2}`],["h",oe]],[["M",`100% - ${te}`,`100% - ${te+ie/2}`],["h",-oe]]];return{elements:[{type:"rect",name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&["fade"],x:te,y:te,width:`100% - ${te*2}`,height:`100% - ${te*2}`},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeWidth:String(ne)},elements:se.map(ce=>({name:"line",animated:K&&["draw"],path:ce}))},{type:"g",style:{filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,strokeWidth:String(ie)},animated:K&&{transitions:{entering:({element:ce,duration:fe,animate:me})=>me(ce,{opacity:[0,1,.5,1]},{duration:fe/2}),exiting:({element:ce,duration:fe,animate:me})=>me(ce,{opacity:[1,0,.5,0]},{duration:fe/2})}},elements:le.map(ce=>({name:"deco",path:ce}))}]}},defaultProps$7={styled:!0,animated:!0,padding:0,strokeWidth:1,cornerLength:16},createFrameCornersSettings=Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,cornerLength:ie}={...defaultProps$7,...Z?filterProps(Z):null},oe=ne/2,se=[[["M",oe+te,oe+te],["L",oe+te,ie+te]],[["M",oe+te,oe+te],["L",ie+te,oe+te]],[["M",`100% - ${oe} - ${te}`,oe+te],["L",`100% - ${ie} - ${te}`,oe+te]],[["M",`100% - ${oe} - ${te}`,oe+te],["L",`100% - ${oe} - ${te}`,ie+te]],[["M",`100% - ${oe} - ${te}`,`100% - ${oe} - ${te}`],["L",`100% - ${oe} - ${te}`,`100% - ${ie} - ${te}`]],[["M",`100% - ${oe} - ${te}`,`100% - ${oe} - ${te}`],["L",`100% - ${ie} - ${te}`,`100% - ${oe} - ${te}`]],[["M",oe+te,`100% - ${oe} - ${te}`],["L",ie+te,`100% - ${oe} - ${te}`]],[["M",oe+te,`100% - ${oe} - ${te}`],["L",oe+te,`100% - ${ie} - ${te}`]]];return{elements:[{type:"rect",name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&["fade"],x:te+ne,y:te+ne,width:`100% - ${(te+ne)*2}`,height:`100% - ${(te+ne)*2}`},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ne)},elements:se.map(le=>({type:"path",name:"line",animated:K&&{transitions:{entering:({element:ce,duration:fe})=>animateDraw({isEntering:!0,element:ce,duration:fe}),exiting:({element:ce,duration:fe})=>animateDraw({isEntering:!1,element:ce,duration:fe})}},path:le}))}]}},defaultProps$6={styled:!0,animated:!0,padding:0,leftTop:!0,rightTop:!0,rightBottom:!0,leftBottom:!0,squareSize:16,strokeWidth:1},createFrameOctagonSettings=Z=>{const{styled:_,animated:K,padding:te,leftTop:ne,rightTop:ie,rightBottom:oe,leftBottom:se,squareSize:le,strokeWidth:ce}={...defaultProps$6,...Z?filterProps(Z):null},fe=ce/2;return{elements:[{type:"path",name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&["fade"],path:[...ne?[["M",te+fe,te+fe+le],["l",le,-le]]:[["M",te+fe,te+fe]],...ie?[["H",`100% - ${te+fe+le}`],["l",le,le]]:[["H",`100% - ${te+fe}`]],...oe?[["V",`100% - ${te+fe+le}`],["l",-le,le]]:[["V",`100% - ${te+fe}`]],...se?[["H",te+fe+le],["l",-le,-le]]:[["H",te+fe]],"Z"]},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ce)},elements:[{type:"path",name:"line",animated:K&&["draw"],path:[...ne?[["M",te+fe,te+fe+le],["l",le,-le]]:[["M",te+fe,te+fe]],...ie?[["H",`100% - ${te+fe+le}`],["l",le,le]]:[["H",`100% - ${te+fe}`]],...oe?[["V",`100% - ${te+fe+le}`]]:[["V",`100% - ${te+fe}`]]]},{type:"path",name:"line",animated:K&&["draw"],path:[...oe?[["M",`100% - ${te+fe}`,`100% - ${te+fe+le}`],["l",-le,le]]:[["M",`100% - ${te+fe}`,`100% - ${te+fe}`]],...se?[["H",te+fe+le],["l",-le,-le]]:[["H",te+fe]],...ne?[["V",te+fe+le]]:[["V",te+fe]]]}]}]}},defaultProps$5={styled:!0,animated:!0,padding:0,cornerLength:24,cornerWidth:2},createFrameNeroSettings=Z=>{const{styled:_,animated:K,padding:te,cornerWidth:ne,cornerLength:ie}={...defaultProps$5,...Z?filterProps(Z):null},oe=ie/2,se=ie/2-ne*2;return{elements:[{type:"rect",name:"bg",x:te,y:te,width:`100% - ${te*2}`,height:`100% - ${te*2}`,style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:_?"0":void 0},animated:K&&{initialStyle:{opacity:0},transitions:{entering:({element:le,duration:ce,animate:fe})=>fe(le,{opacity:1},{delay:ce/2,duration:ce/2}),exiting:({element:le,duration:ce,animate:fe})=>fe(le,{opacity:0},{duration:ce/2})}}},{type:"g",style:{filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,strokeWidth:_?"0":void 0},animated:K&&{transitions:{entering:({element:le,duration:ce,animate:fe})=>fe(le,{opacity:[0,1,.5,1]},{duration:ce/2}),exiting:({element:le,duration:ce,animate:fe})=>fe(le,{opacity:[1,0,.5,0]},{delay:ce/2,duration:ce/2})}},elements:[{type:"path",name:"deco",animated:K&&[["x",oe,0,void 0,"outExpo"],["y",oe,0,void 0,"outExpo"]],path:[["M",te,te],["h",ie],["l",-ne,ne],["h",-oe],["l",-se,se],["v",oe],["l",-ne,ne],"z"]},{type:"path",name:"deco",animated:K&&[["x",-oe,0,void 0,"outExpo"],["y",oe,0,void 0,"outExpo"]],path:[["M",`100% - ${te}`,te],["v",ie],["l",-ne,-ne],["v",-oe],["l",-se,-se],["h",-oe],["l",-ne,-ne],"z"]},{type:"path",name:"deco",animated:K&&[["x",-oe,0,void 0,"outExpo"],["y",-oe,0,void 0,"outExpo"]],path:[["M",`100% - ${te}`,`100% - ${te}`],["h",-ie],["l",ne,-ne],["h",oe],["l",se,-se],["v",-oe],["l",ne,-ne],"z"]},{type:"path",name:"deco",animated:K&&[["x",oe,0,void 0,"outExpo"],["y",-oe,0,void 0,"outExpo"]],path:[["M",te,`100% - ${te}`],["h",ie],["l",-ne,-ne],["h",-oe],["l",-se,-se],["v",-oe],["l",-ne,-ne],"z"]}]}]}},defaultProps$4={styled:!0,animated:!0,padding:0,leftTop:!0,leftBottom:!1,rightTop:!1,rightBottom:!0,squareSize:16,strokeWidth:1,smallLineLength:16,largeLineLength:64},createFrameNefrexSettings=Z=>{const{styled:_,animated:K,padding:te,leftTop:ne,leftBottom:ie,rightTop:oe,rightBottom:se,squareSize:le,strokeWidth:ce,smallLineLength:fe,largeLineLength:me}={...defaultProps$4,...Z?filterProps(Z):null},pe=ce/2,ge=ne?[["M",te+pe,te+pe+le+fe],["v",-fe],["l",le,-le],["h",me]]:[["M",te+pe,te+pe]],ye=oe?[["L",`100% - ${te+pe+le+me}`,te+pe],["h",me],["l",le,le],["v",fe]]:[["L",`100% - ${te+pe}`,te+pe]],Ee=se?[["L",`100% - ${te+pe}`,`100% - ${te+pe+le+fe}`],["v",fe],["l",-le,le],["h",-me]]:[["L",`100% - ${te+pe}`,`100% - ${te+pe}`]],_e=ie?[["L",te+pe+le+me,`100% - ${te+pe}`],["h",-me],["l",-le,-le],["v",-fe]]:[["L",te+pe,`100% - ${te+pe}`]];return{elements:[{name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0},animated:K&&{transitions:{entering:({element:Re,duration:Te,animate:Ae})=>Ae(Re,{opacity:[0,1]},{duration:Te/2,delay:Te/2}),exiting:({element:Re,duration:Te,animate:Ae,easing:Fe})=>Ae(Re,{opacity:[1,0]},{duration:Te/2,easing:Fe.outExpo})}},path:ge.concat(ye).concat(Ee).concat(_e)},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ce)},elements:[{type:"g",animated:K&&[["x",le,0,void 0,"outExpo"]],elements:[ne&&{name:"line",animated:K&&["draw"],path:[["M",te+pe,te+pe+le+fe],["v",-fe],["l",le,-le],["h",me]]},ie&&{name:"line",animated:K&&["draw"],path:[["M",te+pe,`100% - ${te+pe+le+fe}`],["v",fe],["l",le,le],["h",me]]}].filter(Boolean)},{type:"g",animated:K&&[["x",-le,0,void 0,"outExpo"]],elements:[oe&&{name:"line",animated:K&&["draw"],path:[["M",`100% - ${te+pe}`,te+pe+le+fe],["v",-fe],["l",-le,-le],["h",-me]]},se&&{name:"line",animated:K&&["draw"],path:[["M",`100% - ${te+pe}`,`100% - ${te+pe+le+fe}`],["v",fe],["l",-le,le],["h",-me]]}].filter(Boolean)}]}]}},defaultProps$3={styled:!0,animated:!0,padding:0,strokeWidth:2,bgStrokeWidth:0,squareSize:16,smallLineLength:16,largeLineLength:64},toPath=Z=>Z.map((_,K)=>[K===0?"M":"L",..._]),createFrameKranoxSettings=Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,bgStrokeWidth:ie,squareSize:oe,smallLineLength:se,largeLineLength:le}={...defaultProps$3,...Z?filterProps(Z):null},ce=ne/2,fe=ie/2,me=[[te+fe+oe*2,`100% - ${te+fe+ne*2}`],[te+fe+oe,`100% - ${te+fe+ne*2+oe}`],[te+fe+oe,te+fe+ne*2+le+oe*3+se],[te+fe,te+fe+ne*2+le+oe*2+se],[te+fe,te+fe+ne*2+oe*2+se],[te+fe+oe,te+fe+ne*2+se+oe],[te+fe+oe,te+fe+ne+oe],[te+fe+oe*2-ne,te+fe+ne*2],[`100% - ${te+fe+oe*2}`,te+fe+ne*2]],pe=[[`100% - ${te+fe+oe*2}`,te+fe+ne*2],[`100% - ${te+fe+oe}`,te+fe+ne*2+oe],[`100% - ${te+fe+oe}`,`100% - ${te+fe+ne*2+oe*3+se+le}`],[`100% - ${te+fe}`,`100% - ${te+fe+ne*2+oe*2+se+le}`],[`100% - ${te+fe}`,`100% - ${te+fe+ne*2+oe*2+se}`],[`100% - ${te+fe+oe}`,`100% - ${te+fe+ne*2+oe+se}`],[`100% - ${te+fe+oe}`,`100% - ${te+fe+ne+oe}`],[`100% - ${te+fe+oe*2-ne}`,`100% - ${te+fe+ne*2}`],[fe+te+oe*2,`100% - ${te+fe+ne*2}`]],ge=[[te+ce-ne*2+oe,te+ce+oe+se],[te+ce-ne*2+oe,te+ce+oe],[te+ce-ne*2+oe*2,te+ce],[te+ce-ne*2+oe*2+le,te+ce]],ye=[[`100% - ${te+ce+oe} + ${ne*2}`,`100% - ${te+ce+oe+se}`],[`100% - ${te+ce+oe} + ${ne*2}`,`100% - ${te+ce+oe}`],[`100% - ${te+ce+oe*2} + ${ne*2}`,`100% - ${te+ce}`],[`100% - ${te+ce+oe*2+le} + ${ne*2}`,`100% - ${te+ce}`]];return{elements:[{name:"bg",style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,stroke:_?"var(--arwes-frames-bg-stroke, currentcolor)":void 0,strokeWidth:String(ie)},animated:K&&["fade"],path:toPath(me.concat(pe))},{type:"g",style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeLinecap:_?"round":void 0,strokeLinejoin:_?"round":void 0,strokeWidth:String(ne)},elements:[{name:"line",animated:K&&["draw"],path:toPath(ge)},{name:"line",animated:K&&["draw"],path:toPath(ye)}]}]}},defaultProps$2={styled:!0,animated:!0,padding:0,strokeWidth:1,decoWidth:4,direction:"horizontal",align:"left",contentLength:0},createFrameHeaderSettings=Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,decoWidth:ie,direction:oe,align:se,contentLength:le}={...defaultProps$2,...Z?filterProps(Z):null},ce=ne/2,fe={filter:_?"var(--arwes-frames-line-filter)":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,fill:_?"none":void 0,strokeWidth:String(ne)},me={filter:_?"var(--arwes-frames-deco-filter)":void 0,stroke:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,fill:_?"none":void 0,strokeWidth:String(ne)},pe={filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,strokeWidth:"0"},ge=K?{transitions:{entering:({element:Re,duration:Te})=>animate(Re,{opacity:[0,1,.5,1]},{duration:Te*.4}),exiting:({element:Re,duration:Te})=>animate(Re,{opacity:[1,0,.5,0]},{duration:Te*.4,delay:Te*.6})}}:void 0,ye=K?["draw"]:void 0,Ee=K?{transitions:{entering:({element:Re,duration:Te})=>animate(Re,{opacity:[0,1,.5,1]},{delay:Te*.6,duration:Te*.4}),exiting:{opacity:[1,0,.5,0]}}}:void 0,_e=[{type:"rect",x:0,y:0,width:"100%",height:"20%"},{type:"rect",x:0,y:"40%",width:"100%",height:"20%"},{type:"rect",x:0,y:"80%",width:"100%",height:"20%"}];if(oe==="vertical")return se==="bottom"?{elements:[{type:"path",name:"deco",style:me,animated:ge,path:[["M",le?`100% - ${te+ce}`:te+ce,`100% - ${te}`],["v",-ie*2],["m",0,-ie],["v",-ie*2]]},{type:"path",name:"line",style:fe,animated:ye,path:({width:Re,height:Te})=>["M",le?Re-(te+ce):te+ce,Te-(te+ie*6),"v",-Math.max(0,le-ie*6),"L",le?Re*.5:te+ce,Te-(te+le+Re*.5),"V",te+ie*6.5].join(" ")},{type:"g",name:"deco",style:{...pe,skewY:-45,transformOrigin:le?"top center":"top left"},animated:Ee,elements:[{type:"svg",viewBox:`0 0 ${ie*2} ${ie*5}`,x:le?`50% - ${ce}`:te,y:te+ie*2,width:ie*2,height:ie*5,elements:_e}]}]}:{elements:[{type:"path",name:"deco",style:me,animated:ge,path:[["M",le?`100% - ${te+ce}`:te+ce,te],["v",ie*2],["m",0,ie],["v",ie*2]]},{type:"path",name:"line",style:fe,animated:ye,path:({width:Re,height:Te})=>["M",le?Re-(te+ce):te+ce,te+ie*6,"v",Math.max(0,le-ie*6),"L",le?Re*.5:te+ce,te+le+Re*.5,"V",Te-(te+ie*6.5)].join(" ")},{type:"g",name:"deco",style:{...pe,transformOrigin:le?"bottom center":"bottom left",skewY:45},animated:Ee,elements:[{type:"svg",viewBox:`0 0 ${ie*2} ${ie*5}`,x:le?`50% - ${ce}`:te,y:`100% - ${te+ie*7}`,width:ie*2,height:ie*5,elements:_e}]}]};const Se=[{type:"rect",x:0,y:0,width:"20%",height:"100%"},{type:"rect",x:"40%",y:0,width:"20%",height:"100%"},{type:"rect",x:"80%",y:0,width:"20%",height:"100%"}];return se==="right"?{elements:[{type:"path",name:"deco",style:me,animated:ge,path:[["M",`100% - ${te}`,le?`100% - ${te+ce}`:te+ce],["h",-ie*2],["m",-ie,0],["h",-ie*2]]},{type:"path",name:"line",style:fe,animated:ye,path:({width:Re,height:Te})=>["M",Re-(te+ie*6),le?Te-(te+ce):te+ce,"h",-Math.max(0,le-ie*6),"L",Re-(te+le+Te*.5),le?Te*.5:te+ce,"H",te+ie*6.5].join(" ")},{type:"g",name:"deco",animated:Ee,style:{...pe,transformOrigin:le?"left center":"left top",skewX:-45},elements:[{type:"svg",viewBox:`0 0 ${ie*5} ${ie*2}`,x:te+ie*2,y:le?`50% - ${ce}`:te,width:ie*5,height:ie*2,elements:Se}]}]}:{elements:[{type:"path",name:"deco",style:me,animated:ge,path:[["M",te,le?`100% - ${te+ce}`:te+ce],["h",ie*2],["m",ie,0],["h",ie*2]]},{type:"path",name:"line",style:fe,animated:ye,path:({width:Re,height:Te})=>["M",te+ie*6,le?Te-(te+ce):te+ce,"h",Math.max(0,le-ie*6),"L",te+le+Te*.5,le?Te*.5:te+ce,"H",Re-(te+ie*6.5)].join(" ")},{type:"g",name:"deco",animated:Ee,style:{...pe,transformOrigin:le?"right center":"right top",skewX:45},elements:[{type:"svg",viewBox:`0 0 ${ie*5} ${ie*2}`,x:`100% - ${te+ie*7}`,y:le?`50% - ${ce}`:te,width:ie*5,height:ie*2,elements:Se}]}]}},defaultProps$1={styled:!0,animated:!0,padding:0,strokeWidth:1,separation:0,sideWidth:24},createFrameCircleSettings=Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,separation:ie,sideWidth:oe}={...defaultProps$1,...Z?filterProps(Z):null},se=ne/2;return{elements:[{type:"g",style:{transformOrigin:"center"},animated:K&&{initialStyle:{rotate:-45},transitions:{entering:{rotate:[-45,0],easing:"outExpo"},exiting:{rotate:[0,45],easing:"outExpo"}}},elements:[{type:"g",animated:K&&{transitions:{entering:({element:le,duration:ce})=>animate(le,{opacity:[0,1]},{delay:ce/2,duration:ce/2}),exiting:({element:le,duration:ce})=>animate(le,{opacity:[1,0]},{duration:ce/2})}},elements:[{type:"ellipse",name:"bg",cx:"50%",cy:"50%",rx:`50% - ${te+ne+ne*3+ie}`,ry:`50% - ${te+ne+ne*3+ie}`,style:{filter:_?"var(--arwes-frames-bg-filter)":void 0,fill:_?"var(--arwes-frames-bg-color, currentcolor)":void 0,strokeWidth:0}},{type:"ellipse",name:"line",cx:"50%",cy:"50%",rx:`50% - ${te+se+ne*3}`,ry:`50% - ${te+se+ne*3}`,style:{filter:_?"var(--arwes-frames-line-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-line-color, currentcolor)":void 0,strokeWidth:String(ne)}}]},{type:"g",name:"deco",style:{transformOrigin:"center"},animated:K&&{transitions:{entering:({element:le,duration:ce})=>animate(le,{opacity:[0,1,.5,1],scale:[.9,1]},{duration:ce/2}),exiting:({element:le,duration:ce})=>animate(le,{opacity:[1,0,.5,0],scale:[1,.9]},{delay:ce/2,duration:ce/2})}},elements:[{type:"ellipse",cx:"50%",cy:"50%",rx:`50% - ${te+se+ne*3}`,ry:`50% - ${te+se+ne*3}`,style:{filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"none":void 0,stroke:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,strokeWidth:String(ne),transformOrigin:"center",rotate:-22.5},draw:({element:le})=>{const fe=Number(le.getAttribute("rx"))*Math.PI*2;le.setAttribute("stroke-dasharray",String(fe/8))}},{type:"g",style:{filter:_?"var(--arwes-frames-deco-filter)":void 0,fill:_?"var(--arwes-frames-deco-color, currentcolor)":void 0,stroke:_?"none":void 0,strokeWidth:"0"},elements:[{type:"path",path:[["M",te,`50% - ${oe*.2}`],["l",ne*2,-oe*.3],["h",ne*2],["v",oe],["h",-ne*2],["l",-ne*2,-oe*.3],"z"]},{type:"path",path:[["M",`100% - ${te}`,`50% - ${oe*.2}`],["l",-ne*2,-oe*.3],["h",-ne*2],["v",oe],["h",ne*2],["l",ne*2,-oe*.3],"z"]},{type:"path",path:[["M",`50% + ${oe*.2}`,te],["l",oe*.3,ne*2],["v",ne*2],["h",-oe],["v",-ne*2],["l",oe*.3,-ne*2],"z"]},{type:"path",path:[["M",`50% + ${oe*.2}`,`100% - ${te}`],["l",oe*.3,-ne*2],["v",-ne*2],["h",-oe],["v",ne*2],["l",oe*.3,ne*2],"z"]}]}]}]}]}},animateFrameAssembler=Z=>{const{element:_,duration:K,isEntering:te=!0}=Z,ne=Array.from(_.querySelectorAll("[data-name=bg]")),ie=Array.from(_.querySelectorAll("[data-name=line]")),oe=Array.from(_.querySelectorAll("[data-name=deco]")),se=[...ne,...ie,...oe];for(const fe of ie){const me=fe.getTotalLength();fe.style.opacity="1",fe.style.strokeDasharray=String(me),fe.dataset.length=String(me)}const le=ie.map(fe=>{const me=Number(fe.dataset.length);return[fe,{strokeDashoffset:[me,0]},{at:0,duration:K,easing:easing.outSine}]}),ce=timeline([[ne,{opacity:[0,1]},{at:0,duration:K/2,easing:easing.outSine}],[oe,{opacity:[0,1,.5,1]},{at:K/2,duration:K/2,easing:easing.outSine}],...le],{direction:te?"normal":"reverse"});return ce.finished.then(()=>{for(const fe of se)fe.style.opacity=te?"1":"0";for(const fe of ie)fe.style.strokeDasharray="",fe.style.strokeDashoffset=""}),ce},styleFrameClipOctagon=Z=>{const{squareSize:_="16px",leftTop:K=!0,leftBottom:te=!0,rightTop:ne=!0,rightBottom:ie=!0}=Z??{},oe=typeof _=="number"?`${_}px`:_,se=K?`0 ${oe},
${oe} 0,`:"0 0,",le=ne?`calc(100% - ${oe}) 0,
100% ${oe},`:"100% 0,",ce=ie?`100% calc(100% - ${oe}),
calc(100% - ${oe}) 100%,`:"100% 100%,",fe=te?`${oe} 100%,
0 calc(100% - ${oe})`:"0 100%";return`polygon(
${se}
${le}
${ce}
${fe}
)`},createEffectIlluminator=Z=>{const{container:_,color:K="hsl(0 0% 50% / 5%)",size:te=300,className:ne,style:ie}=Z,oe=document.createElement("div");oe.role="presentation",oe.dataset.name="illuminator",ne&&(oe.className=ne),Object.assign(oe.style,{position:"absolute",left:0,top:0,width:`${te}px`,height:`${te}px`,background:`radial-gradient(closest-side, ${K}, transparent)`,opacity:0,transition:"opacity 200ms ease-out",pointerEvents:"none",...ie});let se,le,ce,fe,me;const pe=Ee=>{se=_.getBoundingClientRect(),le=Ee.clientX-se.left,ce=Ee.clientY-se.top,fe=le>=-(te/2)&&le<=se.width+te/2&&ce>=-(te/2)&&ce<=se.height+te/2,me=fe?"1":"0",oe.style.opacity!==me&&(oe.style.opacity=me),fe&&(oe.style.transform=`translate(calc(${le}px - 50%), calc(${ce}px - 50%))`)},ge=()=>{oe.style.opacity!=="0"&&(oe.style.opacity="0")};return _.appendChild(oe),document.addEventListener("mousemove",pe),document.addEventListener("mouseleave",ge),Object.freeze({cancel:()=>{oe.remove(),document.removeEventListener("mousemove",pe),document.removeEventListener("mouseleave",ge)}})},createEffectIlluminatorSVG=Z=>{const{svg:_,container:K,color:te="hsl(0 0% 50% / 5%)",size:ne=300,className:ie,style:oe}=Z,se=document.createElementNS("http://www.w3.org/2000/svg","g"),le=`illuminator-${Math.random()}`;se.dataset.name="illuminator",ie&&se.classList.add(ie),Object.assign(se.style,oe),se.innerHTML=`
    <defs>
      <radialGradient id="${le}">
        <stop offset="0%" stop-color="${te}" />
        <stop offset="100%" stop-color="transparent" />
      </radialGradient>
    </defs>
    <circle
      r="${ne/2}"
      style="
        position: absolute;
        transition: opacity 200ms ease-out;
        opacity: 0;
      "
      fill="url(#${le})"
    />
  `;const ce=se.querySelector("circle");ce.style.transform=`translate(-${ne/2}px, -${ne/2}px)`;const fe=ge=>{const ye=_.getBoundingClientRect(),Ee=ge.clientX-ye.left+ne/2,_e=ge.clientY-ye.top+ne/2;ce.style.opacity="1",ce.setAttribute("cx",String(Ee)),ce.setAttribute("cy",String(_e))},me=()=>{ce.style.opacity="0"};return K.appendChild(se),document.addEventListener("mousemove",fe),document.addEventListener("mouseleave",me),Object.freeze({cancel:()=>{se.remove(),document.removeEventListener("mousemove",fe),document.removeEventListener("mouseleave",me)}})},useAnimated=(Z,_,K)=>{const te=useAnimator(),ne=reactExports.useRef({animated:void 0});ne.current={...K,animated:_},reactExports.useEffect(()=>{const ie=Z.current;if(!ie||!te)return;const oe=createAnimatedElement({element:ie,animator:te.node,settingsRef:ne});return()=>oe.cancel()},[te])},AnimatedComponent=Z=>{const{as:_,animated:K,className:te,style:ne,elementRef:ie,hideOnExited:oe=!0,hideOnEntered:se,onTransition:le,...ce}=Z,fe=useAnimator(),me=reactExports.useMemo(()=>_||"div",[]),pe=reactExports.useRef(null);useAnimated(pe,K,{renderInitials:!1,hideOnExited:oe,hideOnEntered:se,onTransition:le});const ye=(Array.isArray(K)?K:[K]).map(Se=>typeof Se=="string"||Array.isArray(Se)?void 0:Se).filter(Boolean);let Ee;fe&&(Ee=ye.map(Se=>Se?Se.initialAttributes:void 0).reduce((Se,Re)=>({...Se,...Re}),{}));let _e;return fe&&(_e=ye.map(Se=>Se?Se.initialStyle:void 0).filter(Boolean).map(Se=>formatAnimatedCSSProps(Se)).reduce((Se,Re)=>({...Se,...Re}),{})),reactExports.createElement(me,{...ce,...Ee,ref:mergeRefs$2(ie,pe),className:te,style:{...ne,visibility:fe&&(oe&&fe.node.state==="exited"||se&&fe.node.state==="entered")?"hidden":"",..._e}})},Animated$1=memo(AnimatedComponent),Animated=reactExports.memo(reactExports.forwardRef((Z,_)=>reactExports.createElement(Animated$1,{elementRef:_,...Z}))),useAnimatedX=(Z,_,K,te)=>{const ne=reactExports.useRef({});ne.current={...te,state:Z,animated:K},reactExports.useEffect(()=>{const ie=_.current;if(Z==null||!ie)return;const oe=createAnimatedXElement({element:ie,settingsRef:ne});return()=>oe.cancel()},[Z])},AnimatedX=Z=>{const{as:_,state:K,hideOnStates:te=[],animated:ne,className:ie,style:oe,elementRef:se,...le}=Z,ce=K!=null,fe=reactExports.useMemo(()=>_||"div",[]),me=reactExports.useRef(null);useAnimatedX(K,me,ne,{renderInitials:!1,hideOnStates:te});const ge=(Array.isArray(ne)?ne:[ne]).filter(Boolean);let ye;ce&&(ye=ge.map(_e=>_e==null?void 0:_e.initialAttributes).reduce((_e,Se)=>({..._e,...Se}),{}));let Ee;return ce&&(Ee=ge.map(_e=>_e.initialStyle).filter(Boolean).map(_e=>formatAnimatedCSSProps(_e)).reduce((_e,Se)=>({..._e,...Se}),{})),reactExports.createElement(fe,{...le,...ye,ref:mergeRefs$2(se,me),className:ie,style:{...oe,visibility:ce&&te.includes(K)?"hidden":"",...Ee}})};reactExports.memo(reactExports.forwardRef((Z,_)=>reactExports.createElement(AnimatedX,{elementRef:_,...Z})));const BleepsManagerContext=reactExports.createContext(null),BleepsProvider$1=Z=>{const{master:_,common:K,categories:te,bleeps:ne,children:ie}=Z,oe=reactExports.useMemo(()=>createBleepsManager({master:_,common:K,categories:te,bleeps:ne}),[]);return reactExports.useEffect(()=>{oe==null||oe.update({master:_,common:K,categories:te,bleeps:ne})},[_,K,te,ne]),reactExports.useEffect(()=>()=>{oe==null||oe.update({common:{muted:!0}}),oe==null||oe.unload()},[]),React.createElement(BleepsManagerContext.Provider,{value:oe},ie)},BleepsProvider=memo(BleepsProvider$1),defaultProps={},useBleeps=(Z=defaultProps)=>{if(Z.disabled)return{};const _=reactExports.useContext(BleepsManagerContext);return(_==null?void 0:_.bleeps)??{}},Text$1=memo(Z=>{const{as:_="p",className:K,contentClassName:te,contentStyle:ne,children:ie,manager:oe,easing:se,fixed:le,blink:ce,blinkDuration:fe,characters:me,hideOnEntered:pe,hideOnExited:ge=!0,elementRef:ye,...Ee}=Z,_e=reactExports.useMemo(()=>_,[]),[Se,Re]=reactExports.useState(""),Te=reactExports.useRef(null),Ae=reactExports.useRef(null),Fe=reactExports.useRef(null),$e=useAnimator();return reactExports.useEffect(()=>{var ke;Re(((ke=Ae.current)==null?void 0:ke.textContent)??"")},[ie]),reactExports.useEffect(()=>{const ke=Te.current,ze=Ae.current;if(!$e||!Se.length||!ke||!ze)return;if(!le){const{settings:Ve}=$e.node,Ye=getAnimationTextDuration({length:Se.length,maxDuration:Ve.duration.enter}),Ke=getAnimationTextDuration({length:Se.length,maxDuration:Ve.duration.exit});$e.node.control.setSettings({duration:{enter:Ye,exit:Ke}})}const Ue=(Ve,Ye)=>{var ot;const Ke={rootElement:ke,contentElement:ze,duration:Ve,isEntering:Ye,easing:se,hideOnExited:ge,hideOnEntered:pe};(ot=Fe.current)==null||ot.cancel(),oe==="decipher"?Fe.current=animateTextDecipher({...Ke,characters:me}):Fe.current=animateTextSequence({...Ke,blink:ce,blinkDuration:fe})},Oe=$e.node.subscribe(Ve=>{switch(Ve.state){case"entering":{Ue(Ve.settings.duration.enter,!0);break}case"entered":{Fe.current||Ue(Ve.settings.duration.enter,!0);break}case"exiting":{Ue(Ve.settings.duration.exit,!1);break}}});return()=>{var Ve;Oe(),(Ve=Fe.current)==null||Ve.cancel(),Fe.current=null}},[$e,Se]),reactExports.createElement(_e,{...Ee,className:cx("arwes-text-text",K),style:{position:"relative",...Ee.style},ref:mergeRefs$2(ye,Te)},reactExports.createElement("span",{ref:Ae,className:cx("arwes-text-text__content",te),style:{position:"relative",visibility:$e?$e.node.state==="exited"&&ge||$e.node.state==="entered"&&pe?"hidden":"":void 0,...ne}},ie))}),positionedStyle={position:"absolute",inset:0,display:"block",border:0,margin:0,padding:0,width:"100%",height:"100%"},FrameBase=memo(Z=>{const{elementRef:_,positioned:K=!0,settings:te,className:ne,style:ie,preserveAspectRatio:oe="none",children:se}=Z,le=useAnimator(),ce=reactExports.useRef(null),fe=reactExports.useRef(null),me=reactExports.useRef(te);return Object.assign(me.current,te,{animator:le==null?void 0:le.node}),reactExports.useEffect(()=>{const pe=ce.current;if(pe)return fe.current=createFrame(pe,me.current),()=>{var ge;return(ge=fe.current)==null?void 0:ge.remove()}},[le]),useUpdateEffect$1(()=>{var pe;(pe=fe.current)==null||pe.render()},[te]),React.createElement("svg",{role:"presentation",ref:mergeRefs$2(ce,_),className:cx("arwes-frames-frame",ne),style:{...K?positionedStyle:null,...ie},xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:oe},se)}),FrameOctagon=memo(Z=>{const{styled:_,animated:K,padding:te,leftTop:ne,rightTop:ie,rightBottom:oe,leftBottom:se,squareSize:le,strokeWidth:ce}=Z,fe=reactExports.useMemo(()=>createFrameOctagonSettings({styled:_,animated:K,padding:te,leftTop:ne,rightTop:ie,rightBottom:oe,leftBottom:se,squareSize:le,strokeWidth:ce}),[_,K,te,ne,ie,oe,se,le,ce]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-frameoctagon",Z.className),settings:fe})}),FrameUnderline=memo(Z=>{const{styled:_,squareSize:K,strokeWidth:te,padding:ne}=Z,ie=reactExports.useMemo(()=>createFrameUnderlineSettings({styled:_,squareSize:K,strokeWidth:te,padding:ne}),[_,K,te,ne]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-frameunderline",Z.className),settings:ie})}),FrameCorners=memo(Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,cornerLength:ie}=Z,oe=reactExports.useMemo(()=>createFrameCornersSettings({styled:_,animated:K,padding:te,strokeWidth:ne,cornerLength:ie}),[_,K,te,ne,ie]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framecorners",Z.className),settings:oe})}),FrameLines=memo(Z=>{const{styled:_,animated:K,padding:te,largeLineWidth:ne,smallLineWidth:ie,smallLineLength:oe}=Z,se=reactExports.useMemo(()=>createFrameLinesSettings({styled:_,animated:K,padding:te,largeLineWidth:ne,smallLineWidth:ie,smallLineLength:oe}),[_,K,te,ne,ie,oe]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framelines",Z.className),settings:se})}),FrameNero=memo(Z=>{const{styled:_,animated:K,padding:te,cornerLength:ne,cornerWidth:ie}=Z,oe=reactExports.useMemo(()=>createFrameNeroSettings({styled:_,animated:K,padding:te,cornerLength:ne,cornerWidth:ie}),[_,K,te,ne,ie]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framenero",Z.className),settings:oe})}),FrameNefrex=memo(Z=>{const{styled:_,animated:K,padding:te,leftTop:ne,leftBottom:ie,rightTop:oe,rightBottom:se,squareSize:le,strokeWidth:ce,smallLineLength:fe,largeLineLength:me}=Z,pe=reactExports.useMemo(()=>createFrameNefrexSettings({styled:_,animated:K,padding:te,leftTop:ne,leftBottom:ie,rightTop:oe,rightBottom:se,squareSize:le,strokeWidth:ce,smallLineLength:fe,largeLineLength:me}),[_,K,te,ne,ie,oe,se,le,ce,fe,me]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framenefrex",Z.className),settings:pe})}),FrameKranox=memo(Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,bgStrokeWidth:ie,squareSize:oe,smallLineLength:se,largeLineLength:le}=Z,ce=reactExports.useMemo(()=>createFrameKranoxSettings({styled:_,animated:K,padding:te,strokeWidth:ne,bgStrokeWidth:ie,squareSize:oe,smallLineLength:se,largeLineLength:le}),[_,K,te,ne,ie,oe,se,le]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framekranox",Z.className),settings:ce})}),FrameHeader=memo(Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,decoWidth:ie,direction:oe,align:se,contentLength:le}=Z,ce=reactExports.useMemo(()=>createFrameHeaderSettings({styled:_,animated:K,padding:te,strokeWidth:ne,decoWidth:ie,direction:oe,align:se,contentLength:le}),[_,K,te,ne,ie,oe,se,le]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-frameheader",Z.className),settings:ce})}),FrameCircle=memo(Z=>{const{styled:_,animated:K,padding:te,strokeWidth:ne,separation:ie,sideWidth:oe}=Z,se=reactExports.useMemo(()=>createFrameCircleSettings({styled:_,animated:K,padding:te,strokeWidth:ne,separation:ie,sideWidth:oe}),[_,K,te,ne,ie,oe]);return React.createElement(FrameBase,{...Z,className:cx("arwes-frames-framecircle",Z.className),settings:se})}),useFrameAssembler=Z=>{const _=useAnimator();reactExports.useEffect(()=>{const K=Z.current;if(!_||!K)return;let te;const ne=_.node.subscribe(ie=>{switch(ie.state){case"entering":{te==null||te.cancel(),te=animateFrameAssembler({element:K,duration:ie.settings.duration.enter,isEntering:!0});break}case"exiting":{te==null||te.cancel(),te=animateFrameAssembler({element:K,duration:ie.settings.duration.exit,isEntering:!1});break}}});return()=>{te==null||te.cancel(),ne()}},[_])},BleepsOnAnimator=Z=>{const{id:_,transitions:K,continuous:te}=Z,ne=reactExports.useId(),ie=reactExports.useRef(K),oe=useAnimator(),se=useBleeps();ie.current=K;const le=_??ne;return reactExports.useEffect(()=>{if(!oe)return;let ce=null;const fe=oe.node.subscribe(me=>{const pe=ie.current[me.state];if(te||ce==null||ce.stop(le),pe){const ge=se[pe];ge&&(ce==null||ce.stop(le),ce=ge,ce.play(le))}});return()=>{fe(),ce==null||ce.stop(le)}},[le,oe,se]),React.createElement(React.Fragment,null)};memo(BleepsOnAnimator);const themeStructure={space:"unit",spacen:"multiplier",outline:"multiplier",font:"style",color:{primary:"color",secondary:"color"}},themeDefaults={space:createThemeUnit(Z=>`${Z*.25}rem`),spacen:createThemeMultiplier(Z=>Z*4),outline:1,font:[{fontFamily:"Electrolize",fontWeight:600,fontSize:"2rem"},{fontFamily:"Tomorrow",fontWeight:500,fontSize:"2rem"},{fontFamily:'"Titillium Web"',fontWeight:300,fontSize:"1.5rem"}],color:{primary:Z=>[199,65+Z,90.5-Z*9.44],secondary:Z=>[60,60+Z,92.5-Z*9.44]}},createTheme=createCreateTheme(themeStructure,themeDefaults),theme=createTheme({outline:3}),bleepsSettings={master:{volume:.5},categories:{background:{volume:.25},transition:{volume:.5},interaction:{volume:.75},notification:{volume:1}},bleeps:{hover:{category:"background",sources:[{src:getAssetPath("/assets/sounds/hover.webm"),type:"audio/webm"}]},click:{category:"interaction",sources:[{src:getAssetPath("/assets/sounds/click.webm"),type:"audio/webm"}]},type:{category:"background",sources:[{src:getAssetPath("/assets/sounds/type.mp3"),type:"audio/mpeg"}]}}},Illuminator=memo(Z=>{const{elementRef:_,color:K,size:te,...ne}=Z,ie=reactExports.useRef(null);return reactExports.useEffect(()=>{const oe=ie.current;if(!oe)return;const se=createEffectIlluminator({container:oe,color:K,size:te});return()=>se.cancel()},[K,te]),React.createElement("div",{ref:mergeRefs$2(ie,_),role:"presentation",...ne,className:cx("arwes-frames-illuminator",ne.className),style:{position:"absolute",inset:0,overflow:"hidden",width:"100%",height:"100%",...ne.style}})});memo(Z=>{const{elementRef:_,svgRef:K,color:te,size:ne,...ie}=Z,oe=reactExports.useRef(null);return reactExports.useEffect(()=>{const se=K.current,le=oe.current;if(!se||!le)return;const ce=createEffectIlluminatorSVG({svg:se,container:le,size:ne,color:te});return()=>ce.cancel()},[ne,te]),React.createElement("g",{ref:mergeRefs$2(oe,_),...ie,className:cx("arwes-frames-illuminatorsvg",ie.className),style:{pointerEvents:"none",...ie.style}})});function Text({as:Z,children:_,style:K,className:te,onClick:ne,onMouseEnter:ie,decipher:oe=!1,duration:se={enter:3}}){return jsxRuntimeExports.jsx(Animator,{duration:se,children:jsxRuntimeExports.jsx(Text$1,{as:Z,blink:!0,blinkDuration:.1,className:te||void 0,onClick:ne,onMouseEnter:ie,manager:oe?"decipher":"sequence",easing:oe?"outSine":"linear",fixed:oe,style:{pointerEvents:"auto",fontFamily:theme.font(0).fontFamily,fontWeight:theme.font(0).fontWeight,color:theme.color.primary(4),...K},children:_})})}const ThemeButton=reactExports.memo(Z=>{const{className:_,style:K,color:te="primary",variant:ne="fill",animated:ie,children:oe,onClick:se,active:le=!0}=Z,ce=useBleeps(),fe=reactExports.useRef(null);return useFrameAssembler(fe),jsxRuntimeExports.jsx(Animator,{active:le,duration:{enter:1},children:jsxRuntimeExports.jsxs(Animated,{as:"button",className:cx("theme-button",`theme-button-${te}`,`theme-button-${ne}`,_),style:K,animated:["fade",...Array.isArray(ie)?ie:[ie]],onMouseEnter:()=>{var me;(me=ce.hover)==null||me.play()},onClick:me=>{var pe;(pe=ce.click)==null||pe.play(),se==null||se(me)},children:[jsxRuntimeExports.jsx("div",{className:"theme-button-back",children:jsxRuntimeExports.jsx(Illuminator,{size:theme.spacen(50),color:theme.color[te](3,{alpha:.2})})}),jsxRuntimeExports.jsx(FrameOctagon,{elementRef:fe,style:{zIndex:0},squareSize:theme.spacen(2)}),jsxRuntimeExports.jsx(Text,{as:"div",className:"theme-button-content",children:oe})]})})});addStyles(`
.theme-button {
    position: relative;
    display: inline-flex;
    outline: none;
    margin: 0;
    border: none;
    padding: 0 ${theme.space(8)};
    line-height: ${theme.space(8)};
    font-size: 0.75rem;
    font-family: ${theme.font(0).fontFamily};
    letter-spacing: 1px;
    text-transform: uppercase;
    color: ${theme.color.primary(5)};
    background: transparent;
    cursor: pointer;
    user-select: none;
    transition-property: opacity, color;
    transition-duration: 0.2s;
    transition-timing-function: ease-out;
}

.theme-button-back {
    position: absolute;
    inset: 0;
    overflow: hidden;
    clip-path: ${styleFrameClipOctagon({squareSize:theme.spacen(2)})};
}

.theme-button-content {
    position: relative;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: ${theme.space(2)};
}

.theme-button:hover .theme-button-content{
    color: ${theme.color.secondary(4)};
}

.theme-button .arwes-frames-framesvg {
    transition-property: opacity, transform;
    transition-duration: 0.2s;
    transition-timing-function: ease-out;
}
.theme-button:hover .arwes-frames-framesvg,
.theme-button:focus .arwes-frames-framesvg {
    transform: scale(1.05);
}
.theme-button [data-frame] {
    transition-property: opacity, color;
    transition-duration: 0.2s;
    transition-timing-function: ease-out;
}
.theme-button [data-name=line] {
    color: ${theme.color.primary(5)};
}
.theme-button:hover [data-name=line],
.theme-button:focus [data-name=line] {
    color: ${theme.color.primary(4)};
}
.theme-button [data-name=bg] {
    color: ${theme.color.primary(9)};
}
.theme-button:hover [data-name=bg],
.theme-button:focus [data-name=bg] {
    color: ${theme.color.primary(8)};
}

.theme-button-secondary {
    color: ${theme.color.secondary(5)};
}
.theme-button-secondary [data-name=line] {
    color: ${theme.color.secondary(5)};
}
.theme-button-secondary:hover [data-name=line],
.theme-button-secondary:focus [data-name=line] {
    color: ${theme.color.secondary(4)};
}
.theme-button-secondary [data-name=bg] {
    color: ${theme.color.secondary(9)};
}
.theme-button-secondary:hover [data-name=bg],
.theme-button-secondary:focus [data-name=bg] {
    color: ${theme.color.secondary(8)};
}

.theme-button-fill {}

.theme-button-outline {}
.theme-button-outline [data-name=bg] {
    display: none;
}
`);var FrameType=(Z=>(Z[Z.LINES=0]="LINES",Z[Z.UNDERLINE=1]="UNDERLINE",Z[Z.CORNERS=2]="CORNERS",Z[Z.OCTAGON=3]="OCTAGON",Z[Z.NERO=4]="NERO",Z[Z.NEFREX=5]="NEFREX",Z[Z.KRANOX=6]="KRANOX",Z[Z.CIRCLE=7]="CIRCLE",Z[Z.HEADER=8]="HEADER",Z))(FrameType||{});function Frame({className:Z="",style:_={},type:K,children:te}){const ne={"--arwes-frames-bg-color":`${theme.color.primary(9,{alpha:.3})}`,"--arwes-frames-line-color":`${theme.color.primary(3)}`,"--arwes-frames-deco-color":`${theme.color.primary(0)}`},ie=reactExports.useMemo(()=>{switch(K){case 0:return jsxRuntimeExports.jsx(FrameLines,{style:ne});case 1:return jsxRuntimeExports.jsx(FrameUnderline,{style:ne});case 3:return jsxRuntimeExports.jsx(FrameOctagon,{style:ne});case 4:return jsxRuntimeExports.jsx(FrameNero,{style:ne});case 5:return jsxRuntimeExports.jsx(FrameNefrex,{style:ne});case 6:return jsxRuntimeExports.jsx(FrameKranox,{style:ne});case 7:return jsxRuntimeExports.jsx(FrameCircle,{style:ne});case 8:return jsxRuntimeExports.jsx(FrameHeader,{style:ne,contentLength:60});case 2:default:return jsxRuntimeExports.jsx(FrameCorners,{style:ne})}},[K]);return jsxRuntimeExports.jsx(Animator,{children:jsxRuntimeExports.jsxs("div",{className:`theme-frame ${Z}`.trim(),style:{..._},children:[ie,te]})})}var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=oe,dist.serialize=ce;const Z=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,_=/^[\u0021-\u003A\u003C-\u007E]*$/,K=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,te=/^[\u0020-\u003A\u003D-\u007E]*$/,ne=Object.prototype.toString,ie=(()=>{const pe=function(){};return pe.prototype=Object.create(null),pe})();function oe(pe,ge){const ye=new ie,Ee=pe.length;if(Ee<2)return ye;const _e=(ge==null?void 0:ge.decode)||fe;let Se=0;do{const Re=pe.indexOf("=",Se);if(Re===-1)break;const Te=pe.indexOf(";",Se),Ae=Te===-1?Ee:Te;if(Re>Ae){Se=pe.lastIndexOf(";",Re-1)+1;continue}const Fe=se(pe,Se,Re),$e=le(pe,Re,Fe),ke=pe.slice(Fe,$e);if(ye[ke]===void 0){let ze=se(pe,Re+1,Ae),Ue=le(pe,Ae,ze);const Oe=_e(pe.slice(ze,Ue));ye[ke]=Oe}Se=Ae+1}while(Se<Ee);return ye}function se(pe,ge,ye){do{const Ee=pe.charCodeAt(ge);if(Ee!==32&&Ee!==9)return ge}while(++ge<ye);return ye}function le(pe,ge,ye){for(;ge>ye;){const Ee=pe.charCodeAt(--ge);if(Ee!==32&&Ee!==9)return ge+1}return ye}function ce(pe,ge,ye){const Ee=(ye==null?void 0:ye.encode)||encodeURIComponent;if(!Z.test(pe))throw new TypeError(`argument name is invalid: ${pe}`);const _e=Ee(ge);if(!_.test(_e))throw new TypeError(`argument val is invalid: ${ge}`);let Se=pe+"="+_e;if(!ye)return Se;if(ye.maxAge!==void 0){if(!Number.isInteger(ye.maxAge))throw new TypeError(`option maxAge is invalid: ${ye.maxAge}`);Se+="; Max-Age="+ye.maxAge}if(ye.domain){if(!K.test(ye.domain))throw new TypeError(`option domain is invalid: ${ye.domain}`);Se+="; Domain="+ye.domain}if(ye.path){if(!te.test(ye.path))throw new TypeError(`option path is invalid: ${ye.path}`);Se+="; Path="+ye.path}if(ye.expires){if(!me(ye.expires)||!Number.isFinite(ye.expires.valueOf()))throw new TypeError(`option expires is invalid: ${ye.expires}`);Se+="; Expires="+ye.expires.toUTCString()}if(ye.httpOnly&&(Se+="; HttpOnly"),ye.secure&&(Se+="; Secure"),ye.partitioned&&(Se+="; Partitioned"),ye.priority)switch(typeof ye.priority=="string"?ye.priority.toLowerCase():void 0){case"low":Se+="; Priority=Low";break;case"medium":Se+="; Priority=Medium";break;case"high":Se+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${ye.priority}`)}if(ye.sameSite)switch(typeof ye.sameSite=="string"?ye.sameSite.toLowerCase():ye.sameSite){case!0:case"strict":Se+="; SameSite=Strict";break;case"lax":Se+="; SameSite=Lax";break;case"none":Se+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${ye.sameSite}`)}return Se}function fe(pe){if(pe.indexOf("%")===-1)return pe;try{return decodeURIComponent(pe)}catch{return pe}}function me(pe){return ne.call(pe)==="[object Date]"}return dist}requireDist();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createHashHistory(Z={}){function _(ne,ie){let{pathname:oe="/",search:se="",hash:le=""}=parsePath(ne.location.hash.substring(1));return!oe.startsWith("/")&&!oe.startsWith(".")&&(oe="/"+oe),createLocation("",{pathname:oe,search:se,hash:le},ie.state&&ie.state.usr||null,ie.state&&ie.state.key||"default")}function K(ne,ie){let oe=ne.document.querySelector("base"),se="";if(oe&&oe.getAttribute("href")){let le=ne.location.href,ce=le.indexOf("#");se=ce===-1?le:le.slice(0,ce)}return se+"#"+(typeof ie=="string"?ie:createPath(ie))}function te(ne,ie){warning(ne.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(ie)})`)}return getUrlBasedHistory(_,K,te,Z)}function invariant(Z,_){if(Z===!1||Z===null||typeof Z>"u")throw new Error(_)}function warning(Z,_){if(!Z){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Z,_){return{usr:Z.state,key:Z.key,idx:_}}function createLocation(Z,_,K=null,te){return{pathname:typeof Z=="string"?Z:Z.pathname,search:"",hash:"",...typeof _=="string"?parsePath(_):_,state:K,key:_&&_.key||te||createKey()}}function createPath({pathname:Z="/",search:_="",hash:K=""}){return _&&_!=="?"&&(Z+=_.charAt(0)==="?"?_:"?"+_),K&&K!=="#"&&(Z+=K.charAt(0)==="#"?K:"#"+K),Z}function parsePath(Z){let _={};if(Z){let K=Z.indexOf("#");K>=0&&(_.hash=Z.substring(K),Z=Z.substring(0,K));let te=Z.indexOf("?");te>=0&&(_.search=Z.substring(te),Z=Z.substring(0,te)),Z&&(_.pathname=Z)}return _}function getUrlBasedHistory(Z,_,K,te={}){let{window:ne=document.defaultView,v5Compat:ie=!1}=te,oe=ne.history,se="POP",le=null,ce=fe();ce==null&&(ce=0,oe.replaceState({...oe.state,idx:ce},""));function fe(){return(oe.state||{idx:null}).idx}function me(){se="POP";let _e=fe(),Se=_e==null?null:_e-ce;ce=_e,le&&le({action:se,location:Ee.location,delta:Se})}function pe(_e,Se){se="PUSH";let Re=createLocation(Ee.location,_e,Se);K&&K(Re,_e),ce=fe()+1;let Te=getHistoryState(Re,ce),Ae=Ee.createHref(Re);try{oe.pushState(Te,"",Ae)}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="DataCloneError")throw Fe;ne.location.assign(Ae)}ie&&le&&le({action:se,location:Ee.location,delta:1})}function ge(_e,Se){se="REPLACE";let Re=createLocation(Ee.location,_e,Se);K&&K(Re,_e),ce=fe();let Te=getHistoryState(Re,ce),Ae=Ee.createHref(Re);oe.replaceState(Te,"",Ae),ie&&le&&le({action:se,location:Ee.location,delta:0})}function ye(_e){let Se=ne.location.origin!=="null"?ne.location.origin:ne.location.href,Re=typeof _e=="string"?_e:createPath(_e);return Re=Re.replace(/ $/,"%20"),invariant(Se,`No window.location.(origin|href) available to create URL for href: ${Re}`),new URL(Re,Se)}let Ee={get action(){return se},get location(){return Z(ne,oe)},listen(_e){if(le)throw new Error("A history only accepts one active listener");return ne.addEventListener(PopStateEventType,me),le=_e,()=>{ne.removeEventListener(PopStateEventType,me),le=null}},createHref(_e){return _(ne,_e)},createURL:ye,encodeLocation(_e){let Se=ye(_e);return{pathname:Se.pathname,search:Se.search,hash:Se.hash}},push:pe,replace:ge,go(_e){return oe.go(_e)}};return Ee}function matchRoutes(Z,_,K="/"){return matchRoutesImpl(Z,_,K,!1)}function matchRoutesImpl(Z,_,K,te){let ne=typeof _=="string"?parsePath(_):_,ie=stripBasename(ne.pathname||"/",K);if(ie==null)return null;let oe=flattenRoutes(Z);rankRouteBranches(oe);let se=null;for(let le=0;se==null&&le<oe.length;++le){let ce=decodePath(ie);se=matchRouteBranch(oe[le],ce,te)}return se}function flattenRoutes(Z,_=[],K=[],te=""){let ne=(ie,oe,se)=>{let le={relativePath:se===void 0?ie.path||"":se,caseSensitive:ie.caseSensitive===!0,childrenIndex:oe,route:ie};le.relativePath.startsWith("/")&&(invariant(le.relativePath.startsWith(te),`Absolute route path "${le.relativePath}" nested under path "${te}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),le.relativePath=le.relativePath.slice(te.length));let ce=joinPaths([te,le.relativePath]),fe=K.concat(le);ie.children&&ie.children.length>0&&(invariant(ie.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ce}".`),flattenRoutes(ie.children,_,fe,ce)),!(ie.path==null&&!ie.index)&&_.push({path:ce,score:computeScore(ce,ie.index),routesMeta:fe})};return Z.forEach((ie,oe)=>{var se;if(ie.path===""||!((se=ie.path)!=null&&se.includes("?")))ne(ie,oe);else for(let le of explodeOptionalSegments(ie.path))ne(ie,oe,le)}),_}function explodeOptionalSegments(Z){let _=Z.split("/");if(_.length===0)return[];let[K,...te]=_,ne=K.endsWith("?"),ie=K.replace(/\?$/,"");if(te.length===0)return ne?[ie,""]:[ie];let oe=explodeOptionalSegments(te.join("/")),se=[];return se.push(...oe.map(le=>le===""?ie:[ie,le].join("/"))),ne&&se.push(...oe),se.map(le=>Z.startsWith("/")&&le===""?"/":le)}function rankRouteBranches(Z){Z.sort((_,K)=>_.score!==K.score?K.score-_.score:compareIndexes(_.routesMeta.map(te=>te.childrenIndex),K.routesMeta.map(te=>te.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Z=>Z==="*";function computeScore(Z,_){let K=Z.split("/"),te=K.length;return K.some(isSplat)&&(te+=splatPenalty),_&&(te+=indexRouteValue),K.filter(ne=>!isSplat(ne)).reduce((ne,ie)=>ne+(paramRe.test(ie)?dynamicSegmentValue:ie===""?emptySegmentValue:staticSegmentValue),te)}function compareIndexes(Z,_){return Z.length===_.length&&Z.slice(0,-1).every((te,ne)=>te===_[ne])?Z[Z.length-1]-_[_.length-1]:0}function matchRouteBranch(Z,_,K=!1){let{routesMeta:te}=Z,ne={},ie="/",oe=[];for(let se=0;se<te.length;++se){let le=te[se],ce=se===te.length-1,fe=ie==="/"?_:_.slice(ie.length)||"/",me=matchPath({path:le.relativePath,caseSensitive:le.caseSensitive,end:ce},fe),pe=le.route;if(!me&&ce&&K&&!te[te.length-1].route.index&&(me=matchPath({path:le.relativePath,caseSensitive:le.caseSensitive,end:!1},fe)),!me)return null;Object.assign(ne,me.params),oe.push({params:ne,pathname:joinPaths([ie,me.pathname]),pathnameBase:normalizePathname(joinPaths([ie,me.pathnameBase])),route:pe}),me.pathnameBase!=="/"&&(ie=joinPaths([ie,me.pathnameBase]))}return oe}function matchPath(Z,_){typeof Z=="string"&&(Z={path:Z,caseSensitive:!1,end:!0});let[K,te]=compilePath(Z.path,Z.caseSensitive,Z.end),ne=_.match(K);if(!ne)return null;let ie=ne[0],oe=ie.replace(/(.)\/+$/,"$1"),se=ne.slice(1);return{params:te.reduce((ce,{paramName:fe,isOptional:me},pe)=>{if(fe==="*"){let ye=se[pe]||"";oe=ie.slice(0,ie.length-ye.length).replace(/(.)\/+$/,"$1")}const ge=se[pe];return me&&!ge?ce[fe]=void 0:ce[fe]=(ge||"").replace(/%2F/g,"/"),ce},{}),pathname:ie,pathnameBase:oe,pattern:Z}}function compilePath(Z,_=!1,K=!0){warning(Z==="*"||!Z.endsWith("*")||Z.endsWith("/*"),`Route path "${Z}" will be treated as if it were "${Z.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Z.replace(/\*$/,"/*")}".`);let te=[],ne="^"+Z.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(oe,se,le)=>(te.push({paramName:se,isOptional:le!=null}),le?"/?([^\\/]+)?":"/([^\\/]+)"));return Z.endsWith("*")?(te.push({paramName:"*"}),ne+=Z==="*"||Z==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):K?ne+="\\/*$":Z!==""&&Z!=="/"&&(ne+="(?:(?=\\/|$))"),[new RegExp(ne,_?void 0:"i"),te]}function decodePath(Z){try{return Z.split("/").map(_=>decodeURIComponent(_).replace(/\//g,"%2F")).join("/")}catch(_){return warning(!1,`The URL path "${Z}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${_}).`),Z}}function stripBasename(Z,_){if(_==="/")return Z;if(!Z.toLowerCase().startsWith(_.toLowerCase()))return null;let K=_.endsWith("/")?_.length-1:_.length,te=Z.charAt(K);return te&&te!=="/"?null:Z.slice(K)||"/"}function resolvePath(Z,_="/"){let{pathname:K,search:te="",hash:ne=""}=typeof Z=="string"?parsePath(Z):Z;return{pathname:K?K.startsWith("/")?K:resolvePathname(K,_):_,search:normalizeSearch(te),hash:normalizeHash(ne)}}function resolvePathname(Z,_){let K=_.replace(/\/+$/,"").split("/");return Z.split("/").forEach(ne=>{ne===".."?K.length>1&&K.pop():ne!=="."&&K.push(ne)}),K.length>1?K.join("/"):"/"}function getInvalidPathError(Z,_,K,te){return`Cannot include a '${Z}' character in a manually specified \`to.${_}\` field [${JSON.stringify(te)}].  Please separate it out to the \`to.${K}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Z){return Z.filter((_,K)=>K===0||_.route.path&&_.route.path.length>0)}function getResolveToMatches(Z){let _=getPathContributingMatches(Z);return _.map((K,te)=>te===_.length-1?K.pathname:K.pathnameBase)}function resolveTo(Z,_,K,te=!1){let ne;typeof Z=="string"?ne=parsePath(Z):(ne={...Z},invariant(!ne.pathname||!ne.pathname.includes("?"),getInvalidPathError("?","pathname","search",ne)),invariant(!ne.pathname||!ne.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ne)),invariant(!ne.search||!ne.search.includes("#"),getInvalidPathError("#","search","hash",ne)));let ie=Z===""||ne.pathname==="",oe=ie?"/":ne.pathname,se;if(oe==null)se=K;else{let me=_.length-1;if(!te&&oe.startsWith("..")){let pe=oe.split("/");for(;pe[0]==="..";)pe.shift(),me-=1;ne.pathname=pe.join("/")}se=me>=0?_[me]:"/"}let le=resolvePath(ne,se),ce=oe&&oe!=="/"&&oe.endsWith("/"),fe=(ie||oe===".")&&K.endsWith("/");return!le.pathname.endsWith("/")&&(ce||fe)&&(le.pathname+="/"),le}var joinPaths=Z=>Z.join("/").replace(/\/\/+/g,"/"),normalizePathname=Z=>Z.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Z=>!Z||Z==="?"?"":Z.startsWith("?")?Z:"?"+Z,normalizeHash=Z=>!Z||Z==="#"?"":Z.startsWith("#")?Z:"#"+Z;function isRouteErrorResponse(Z){return Z!=null&&typeof Z.status=="number"&&typeof Z.statusText=="string"&&typeof Z.internal=="boolean"&&"data"in Z}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Z,{relative:_}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:K,navigator:te}=reactExports.useContext(NavigationContext),{hash:ne,pathname:ie,search:oe}=useResolvedPath(Z,{relative:_}),se=ie;return K!=="/"&&(se=ie==="/"?K:joinPaths([K,ie])),te.createHref({pathname:se,search:oe,hash:ne})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(Z){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Z)}function useNavigate(){let{isDataRoute:Z}=reactExports.useContext(RouteContext);return Z?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Z=reactExports.useContext(DataRouterContext),{basename:_,navigator:K}=reactExports.useContext(NavigationContext),{matches:te}=reactExports.useContext(RouteContext),{pathname:ne}=useLocation(),ie=JSON.stringify(getResolveToMatches(te)),oe=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{oe.current=!0}),reactExports.useCallback((le,ce={})=>{if(warning(oe.current,navigateEffectWarning),!oe.current)return;if(typeof le=="number"){K.go(le);return}let fe=resolveTo(le,JSON.parse(ie),ne,ce.relative==="path");Z==null&&_!=="/"&&(fe.pathname=fe.pathname==="/"?_:joinPaths([_,fe.pathname])),(ce.replace?K.replace:K.push)(fe,ce.state,ce)},[_,K,ie,ne,Z])}reactExports.createContext(null);function useParams(){let{matches:Z}=reactExports.useContext(RouteContext),_=Z[Z.length-1];return _?_.params:{}}function useResolvedPath(Z,{relative:_}={}){let{matches:K}=reactExports.useContext(RouteContext),{pathname:te}=useLocation(),ne=JSON.stringify(getResolveToMatches(K));return reactExports.useMemo(()=>resolveTo(Z,JSON.parse(ne),te,_==="path"),[Z,ne,te,_])}function useRoutes(Z,_){return useRoutesImpl(Z,_)}function useRoutesImpl(Z,_,K,te){var Re;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:ne,static:ie}=reactExports.useContext(NavigationContext),{matches:oe}=reactExports.useContext(RouteContext),se=oe[oe.length-1],le=se?se.params:{},ce=se?se.pathname:"/",fe=se?se.pathnameBase:"/",me=se&&se.route;{let Te=me&&me.path||"";warningOnce(ce,!me||Te.endsWith("*")||Te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${ce}" (under <Route path="${Te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Te}"> to <Route path="${Te==="/"?"*":`${Te}/*`}">.`)}let pe=useLocation(),ge;if(_){let Te=typeof _=="string"?parsePath(_):_;invariant(fe==="/"||((Re=Te.pathname)==null?void 0:Re.startsWith(fe)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${fe}" but pathname "${Te.pathname}" was given in the \`location\` prop.`),ge=Te}else ge=pe;let ye=ge.pathname||"/",Ee=ye;if(fe!=="/"){let Te=fe.replace(/^\//,"").split("/");Ee="/"+ye.replace(/^\//,"").split("/").slice(Te.length).join("/")}let _e=!ie&&K&&K.matches&&K.matches.length>0?K.matches:matchRoutes(Z,{pathname:Ee});warning(me||_e!=null,`No routes matched location "${ge.pathname}${ge.search}${ge.hash}" `),warning(_e==null||_e[_e.length-1].route.element!==void 0||_e[_e.length-1].route.Component!==void 0||_e[_e.length-1].route.lazy!==void 0,`Matched leaf route at location "${ge.pathname}${ge.search}${ge.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Se=_renderMatches(_e&&_e.map(Te=>Object.assign({},Te,{params:Object.assign({},le,Te.params),pathname:joinPaths([fe,ne.encodeLocation?ne.encodeLocation(Te.pathname).pathname:Te.pathname]),pathnameBase:Te.pathnameBase==="/"?fe:joinPaths([fe,ne.encodeLocation?ne.encodeLocation(Te.pathnameBase).pathname:Te.pathnameBase])})),oe,K,te);return _&&Se?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ge},navigationType:"POP"}},Se):Se}function DefaultErrorComponent(){let Z=useRouteError(),_=isRouteErrorResponse(Z)?`${Z.status} ${Z.statusText}`:Z instanceof Error?Z.message:JSON.stringify(Z),K=Z instanceof Error?Z.stack:null,te="rgba(200,200,200, 0.5)",ne={padding:"0.5rem",backgroundColor:te},ie={padding:"2px 4px",backgroundColor:te},oe=null;return console.error("Error handled by React Router default ErrorBoundary:",Z),oe=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:ie},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:ie},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_),K?reactExports.createElement("pre",{style:ne},K):null,oe)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Z){super(Z),this.state={location:Z.location,revalidation:Z.revalidation,error:Z.error}}static getDerivedStateFromError(Z){return{error:Z}}static getDerivedStateFromProps(Z,_){return _.location!==Z.location||_.revalidation!=="idle"&&Z.revalidation==="idle"?{error:Z.error,location:Z.location,revalidation:Z.revalidation}:{error:Z.error!==void 0?Z.error:_.error,location:_.location,revalidation:Z.revalidation||_.revalidation}}componentDidCatch(Z,_){console.error("React Router caught the following error during render",Z,_)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Z,match:_,children:K}){let te=reactExports.useContext(DataRouterContext);return te&&te.static&&te.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(te.staticContext._deepestRenderedBoundaryId=_.route.id),reactExports.createElement(RouteContext.Provider,{value:Z},K)}function _renderMatches(Z,_=[],K=null,te=null){if(Z==null){if(!K)return null;if(K.errors)Z=K.matches;else if(_.length===0&&!K.initialized&&K.matches.length>0)Z=K.matches;else return null}let ne=Z,ie=K==null?void 0:K.errors;if(ie!=null){let le=ne.findIndex(ce=>ce.route.id&&(ie==null?void 0:ie[ce.route.id])!==void 0);invariant(le>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(ie).join(",")}`),ne=ne.slice(0,Math.min(ne.length,le+1))}let oe=!1,se=-1;if(K)for(let le=0;le<ne.length;le++){let ce=ne[le];if((ce.route.HydrateFallback||ce.route.hydrateFallbackElement)&&(se=le),ce.route.id){let{loaderData:fe,errors:me}=K,pe=ce.route.loader&&!fe.hasOwnProperty(ce.route.id)&&(!me||me[ce.route.id]===void 0);if(ce.route.lazy||pe){oe=!0,se>=0?ne=ne.slice(0,se+1):ne=[ne[0]];break}}}return ne.reduceRight((le,ce,fe)=>{let me,pe=!1,ge=null,ye=null;K&&(me=ie&&ce.route.id?ie[ce.route.id]:void 0,ge=ce.route.errorElement||defaultErrorElement,oe&&(se<0&&fe===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),pe=!0,ye=null):se===fe&&(pe=!0,ye=ce.route.hydrateFallbackElement||null)));let Ee=_.concat(ne.slice(0,fe+1)),_e=()=>{let Se;return me?Se=ge:pe?Se=ye:ce.route.Component?Se=reactExports.createElement(ce.route.Component,null):ce.route.element?Se=ce.route.element:Se=le,reactExports.createElement(RenderedRoute,{match:ce,routeContext:{outlet:le,matches:Ee,isDataRoute:K!=null},children:Se})};return K&&(ce.route.ErrorBoundary||ce.route.errorElement||fe===0)?reactExports.createElement(RenderErrorBoundary,{location:K.location,revalidation:K.revalidation,component:ge,error:me,children:_e(),routeContext:{outlet:null,matches:Ee,isDataRoute:!0}}):_e()},null)}function getDataRouterConsoleError(Z){return`${Z} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Z){let _=reactExports.useContext(DataRouterContext);return invariant(_,getDataRouterConsoleError(Z)),_}function useDataRouterState(Z){let _=reactExports.useContext(DataRouterStateContext);return invariant(_,getDataRouterConsoleError(Z)),_}function useRouteContext(Z){let _=reactExports.useContext(RouteContext);return invariant(_,getDataRouterConsoleError(Z)),_}function useCurrentRouteId(Z){let _=useRouteContext(Z),K=_.matches[_.matches.length-1];return invariant(K.route.id,`${Z} can only be used on routes that contain a unique "id"`),K.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var te;let Z=reactExports.useContext(RouteErrorContext),_=useDataRouterState("useRouteError"),K=useCurrentRouteId("useRouteError");return Z!==void 0?Z:(te=_.errors)==null?void 0:te[K]}function useNavigateStable(){let{router:Z}=useDataRouterContext("useNavigate"),_=useCurrentRouteId("useNavigate"),K=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{K.current=!0}),reactExports.useCallback(async(ne,ie={})=>{warning(K.current,navigateEffectWarning),K.current&&(typeof ne=="number"?Z.navigate(ne):await Z.navigate(ne,{fromRouteId:_,...ie}))},[Z,_])}var alreadyWarned={};function warningOnce(Z,_,K){!_&&!alreadyWarned[Z]&&(alreadyWarned[Z]=!0,warning(!1,K))}reactExports.memo(DataRoutes);function DataRoutes({routes:Z,future:_,state:K}){return useRoutesImpl(Z,void 0,K,_)}function Route(Z){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Z="/",children:_=null,location:K,navigationType:te="POP",navigator:ne,static:ie=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let oe=Z.replace(/^\/*/,"/"),se=reactExports.useMemo(()=>({basename:oe,navigator:ne,static:ie,future:{}}),[oe,ne,ie]);typeof K=="string"&&(K=parsePath(K));let{pathname:le="/",search:ce="",hash:fe="",state:me=null,key:pe="default"}=K,ge=reactExports.useMemo(()=>{let ye=stripBasename(le,oe);return ye==null?null:{location:{pathname:ye,search:ce,hash:fe,state:me,key:pe},navigationType:te}},[oe,le,ce,fe,me,pe,te]);return warning(ge!=null,`<Router basename="${oe}"> is not able to match the URL "${le}${ce}${fe}" because it does not start with the basename, so the <Router> won't render anything.`),ge==null?null:reactExports.createElement(NavigationContext.Provider,{value:se},reactExports.createElement(LocationContext.Provider,{children:_,value:ge}))}function Routes({children:Z,location:_}){return useRoutes(createRoutesFromChildren(Z),_)}function createRoutesFromChildren(Z,_=[]){let K=[];return reactExports.Children.forEach(Z,(te,ne)=>{if(!reactExports.isValidElement(te))return;let ie=[..._,ne];if(te.type===reactExports.Fragment){K.push.apply(K,createRoutesFromChildren(te.props.children,ie));return}invariant(te.type===Route,`[${typeof te.type=="string"?te.type:te.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!te.props.index||!te.props.children,"An index route cannot have child routes.");let oe={id:te.props.id||ie.join("-"),caseSensitive:te.props.caseSensitive,element:te.props.element,Component:te.props.Component,index:te.props.index,path:te.props.path,loader:te.props.loader,action:te.props.action,hydrateFallbackElement:te.props.hydrateFallbackElement,HydrateFallback:te.props.HydrateFallback,errorElement:te.props.errorElement,ErrorBoundary:te.props.ErrorBoundary,hasErrorBoundary:te.props.hasErrorBoundary===!0||te.props.ErrorBoundary!=null||te.props.errorElement!=null,shouldRevalidate:te.props.shouldRevalidate,handle:te.props.handle,lazy:te.props.lazy};te.props.children&&(oe.children=createRoutesFromChildren(te.props.children,ie)),K.push(oe)}),K}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Z){return Z!=null&&typeof Z.tagName=="string"}function isButtonElement(Z){return isHtmlElement(Z)&&Z.tagName.toLowerCase()==="button"}function isFormElement(Z){return isHtmlElement(Z)&&Z.tagName.toLowerCase()==="form"}function isInputElement(Z){return isHtmlElement(Z)&&Z.tagName.toLowerCase()==="input"}function isModifiedEvent(Z){return!!(Z.metaKey||Z.altKey||Z.ctrlKey||Z.shiftKey)}function shouldProcessLinkClick(Z,_){return Z.button===0&&(!_||_==="_self")&&!isModifiedEvent(Z)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Z){return Z!=null&&!supportedFormEncTypes.has(Z)?(warning(!1,`"${Z}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Z}function getFormSubmissionInfo(Z,_){let K,te,ne,ie,oe;if(isFormElement(Z)){let se=Z.getAttribute("action");te=se?stripBasename(se,_):null,K=Z.getAttribute("method")||defaultMethod,ne=getFormEncType(Z.getAttribute("enctype"))||defaultEncType,ie=new FormData(Z)}else if(isButtonElement(Z)||isInputElement(Z)&&(Z.type==="submit"||Z.type==="image")){let se=Z.form;if(se==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let le=Z.getAttribute("formaction")||se.getAttribute("action");if(te=le?stripBasename(le,_):null,K=Z.getAttribute("formmethod")||se.getAttribute("method")||defaultMethod,ne=getFormEncType(Z.getAttribute("formenctype"))||getFormEncType(se.getAttribute("enctype"))||defaultEncType,ie=new FormData(se,Z),!isFormDataSubmitterSupported()){let{name:ce,type:fe,value:me}=Z;if(fe==="image"){let pe=ce?`${ce}.`:"";ie.append(`${pe}x`,"0"),ie.append(`${pe}y`,"0")}else ce&&ie.append(ce,me)}}else{if(isHtmlElement(Z))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');K=defaultMethod,te=null,ne=defaultEncType,oe=Z}return ie&&ne==="text/plain"&&(oe=ie,ie=void 0),{action:te,method:K.toLowerCase(),encType:ne,formData:ie,body:oe}}function invariant2(Z,_){if(Z===!1||Z===null||typeof Z>"u")throw new Error(_)}async function loadRouteModule(Z,_){if(Z.id in _)return _[Z.id];try{let K=await import(Z.module);return _[Z.id]=K,K}catch(K){return console.error(`Error loading route module \`${Z.module}\`, reloading page...`),console.error(K),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Z){return Z==null?!1:Z.href==null?Z.rel==="preload"&&typeof Z.imageSrcSet=="string"&&typeof Z.imageSizes=="string":typeof Z.rel=="string"&&typeof Z.href=="string"}async function getKeyedPrefetchLinks(Z,_,K){let te=await Promise.all(Z.map(async ne=>{let ie=_.routes[ne.route.id];if(ie){let oe=await loadRouteModule(ie,K);return oe.links?oe.links():[]}return[]}));return dedupeLinkDescriptors(te.flat(1).filter(isHtmlLinkDescriptor).filter(ne=>ne.rel==="stylesheet"||ne.rel==="preload").map(ne=>ne.rel==="stylesheet"?{...ne,rel:"prefetch",as:"style"}:{...ne,rel:"prefetch"}))}function getNewMatchesForLinks(Z,_,K,te,ne,ie){let oe=(le,ce)=>K[ce]?le.route.id!==K[ce].route.id:!0,se=(le,ce)=>{var fe;return K[ce].pathname!==le.pathname||((fe=K[ce].route.path)==null?void 0:fe.endsWith("*"))&&K[ce].params["*"]!==le.params["*"]};return ie==="assets"?_.filter((le,ce)=>oe(le,ce)||se(le,ce)):ie==="data"?_.filter((le,ce)=>{var me;let fe=te.routes[le.route.id];if(!fe||!fe.hasLoader)return!1;if(oe(le,ce)||se(le,ce))return!0;if(le.route.shouldRevalidate){let pe=le.route.shouldRevalidate({currentUrl:new URL(ne.pathname+ne.search+ne.hash,window.origin),currentParams:((me=K[0])==null?void 0:me.params)||{},nextUrl:new URL(Z,window.origin),nextParams:le.params,defaultShouldRevalidate:!0});if(typeof pe=="boolean")return pe}return!0}):[]}function getModuleLinkHrefs(Z,_,{includeHydrateFallback:K}={}){return dedupeHrefs(Z.map(te=>{let ne=_.routes[te.route.id];if(!ne)return[];let ie=[ne.module];return ne.clientActionModule&&(ie=ie.concat(ne.clientActionModule)),ne.clientLoaderModule&&(ie=ie.concat(ne.clientLoaderModule)),K&&ne.hydrateFallbackModule&&(ie=ie.concat(ne.hydrateFallbackModule)),ne.imports&&(ie=ie.concat(ne.imports)),ie}).flat(1))}function dedupeHrefs(Z){return[...new Set(Z)]}function sortKeys(Z){let _={},K=Object.keys(Z).sort();for(let te of K)_[te]=Z[te];return _}function dedupeLinkDescriptors(Z,_){let K=new Set;return new Set(_),Z.reduce((te,ne)=>{let ie=JSON.stringify(sortKeys(ne));return K.has(ie)||(K.add(ie),te.push({key:ie,link:ne})),te},[])}function singleFetchUrl(Z){let _=typeof Z=="string"?new URL(Z,typeof window>"u"?"server://singlefetch/":window.location.origin):Z;return _.pathname==="/"?_.pathname="_root.data":_.pathname=`${_.pathname.replace(/\/$/,"")}.data`,_}function useDataRouterContext2(){let Z=reactExports.useContext(DataRouterContext);return invariant2(Z,"You must render this element inside a <DataRouterContext.Provider> element"),Z}function useDataRouterStateContext(){let Z=reactExports.useContext(DataRouterStateContext);return invariant2(Z,"You must render this element inside a <DataRouterStateContext.Provider> element"),Z}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Z=reactExports.useContext(FrameworkContext);return invariant2(Z,"You must render this element inside a <HydratedRouter> element"),Z}function usePrefetchBehavior(Z,_){let K=reactExports.useContext(FrameworkContext),[te,ne]=reactExports.useState(!1),[ie,oe]=reactExports.useState(!1),{onFocus:se,onBlur:le,onMouseEnter:ce,onMouseLeave:fe,onTouchStart:me}=_,pe=reactExports.useRef(null);reactExports.useEffect(()=>{if(Z==="render"&&oe(!0),Z==="viewport"){let Ee=Se=>{Se.forEach(Re=>{oe(Re.isIntersecting)})},_e=new IntersectionObserver(Ee,{threshold:.5});return pe.current&&_e.observe(pe.current),()=>{_e.disconnect()}}},[Z]),reactExports.useEffect(()=>{if(te){let Ee=setTimeout(()=>{oe(!0)},100);return()=>{clearTimeout(Ee)}}},[te]);let ge=()=>{ne(!0)},ye=()=>{ne(!1),oe(!1)};return K?Z!=="intent"?[ie,pe,{}]:[ie,pe,{onFocus:composeEventHandlers(se,ge),onBlur:composeEventHandlers(le,ye),onMouseEnter:composeEventHandlers(ce,ge),onMouseLeave:composeEventHandlers(fe,ye),onTouchStart:composeEventHandlers(me,ge)}]:[!1,pe,{}]}function composeEventHandlers(Z,_){return K=>{Z&&Z(K),K.defaultPrevented||_(K)}}function PrefetchPageLinks({page:Z,..._}){let{router:K}=useDataRouterContext2(),te=reactExports.useMemo(()=>matchRoutes(K.routes,Z,K.basename),[K.routes,Z,K.basename]);return te?reactExports.createElement(PrefetchPageLinksImpl,{page:Z,matches:te,..._}):null}function useKeyedPrefetchLinks(Z){let{manifest:_,routeModules:K}=useFrameworkContext(),[te,ne]=reactExports.useState([]);return reactExports.useEffect(()=>{let ie=!1;return getKeyedPrefetchLinks(Z,_,K).then(oe=>{ie||ne(oe)}),()=>{ie=!0}},[Z,_,K]),te}function PrefetchPageLinksImpl({page:Z,matches:_,...K}){let te=useLocation(),{manifest:ne,routeModules:ie}=useFrameworkContext(),{loaderData:oe,matches:se}=useDataRouterStateContext(),le=reactExports.useMemo(()=>getNewMatchesForLinks(Z,_,se,ne,te,"data"),[Z,_,se,ne,te]),ce=reactExports.useMemo(()=>getNewMatchesForLinks(Z,_,se,ne,te,"assets"),[Z,_,se,ne,te]),fe=reactExports.useMemo(()=>{if(Z===te.pathname+te.search+te.hash)return[];let ge=new Set,ye=!1;if(_.forEach(_e=>{var Re;let Se=ne.routes[_e.route.id];!Se||!Se.hasLoader||(!le.some(Te=>Te.route.id===_e.route.id)&&_e.route.id in oe&&((Re=ie[_e.route.id])!=null&&Re.shouldRevalidate)||Se.hasClientLoader?ye=!0:ge.add(_e.route.id))}),ge.size===0)return[];let Ee=singleFetchUrl(Z);return ye&&ge.size>0&&Ee.searchParams.set("_routes",_.filter(_e=>ge.has(_e.route.id)).map(_e=>_e.route.id).join(",")),[Ee.pathname+Ee.search]},[oe,te,ne,le,_,Z,ie]),me=reactExports.useMemo(()=>getModuleLinkHrefs(ce,ne),[ce,ne]),pe=useKeyedPrefetchLinks(ce);return reactExports.createElement(reactExports.Fragment,null,fe.map(ge=>reactExports.createElement("link",{key:ge,rel:"prefetch",as:"fetch",href:ge,...K})),me.map(ge=>reactExports.createElement("link",{key:ge,rel:"modulepreload",href:ge,...K})),pe.map(({key:ge,link:ye})=>reactExports.createElement("link",{key:ge,...ye})))}function mergeRefs$1(...Z){return _=>{Z.forEach(K=>{typeof K=="function"?K(_):K!=null&&(K.current=_)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.2.0")}catch(Z){}function HashRouter({basename:Z,children:_,window:K}){let te=reactExports.useRef();te.current==null&&(te.current=createHashHistory({window:K,v5Compat:!0}));let ne=te.current,[ie,oe]=reactExports.useState({action:ne.action,location:ne.location}),se=reactExports.useCallback(le=>{reactExports.startTransition(()=>oe(le))},[oe]);return reactExports.useLayoutEffect(()=>ne.listen(se),[ne,se]),reactExports.createElement(Router,{basename:Z,children:_,location:ie.location,navigationType:ie.action,navigator:ne})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function Z({onClick:_,discover:K="render",prefetch:te="none",relative:ne,reloadDocument:ie,replace:oe,state:se,target:le,to:ce,preventScrollReset:fe,viewTransition:me,...pe},ge){let{basename:ye}=reactExports.useContext(NavigationContext),Ee=typeof ce=="string"&&ABSOLUTE_URL_REGEX2.test(ce),_e,Se=!1;if(typeof ce=="string"&&Ee&&(_e=ce,isBrowser))try{let Ue=new URL(window.location.href),Oe=ce.startsWith("//")?new URL(Ue.protocol+ce):new URL(ce),Ve=stripBasename(Oe.pathname,ye);Oe.origin===Ue.origin&&Ve!=null?ce=Ve+Oe.search+Oe.hash:Se=!0}catch{warning(!1,`<Link to="${ce}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Re=useHref(ce,{relative:ne}),[Te,Ae,Fe]=usePrefetchBehavior(te,pe),$e=useLinkClickHandler(ce,{replace:oe,state:se,target:le,preventScrollReset:fe,relative:ne,viewTransition:me});function ke(Ue){_&&_(Ue),Ue.defaultPrevented||$e(Ue)}let ze=reactExports.createElement("a",{...pe,...Fe,href:_e||Re,onClick:Se||ie?_:ke,ref:mergeRefs$1(ge,Ae),target:le,"data-discover":!Ee&&K==="render"?"true":void 0});return Te&&!Ee?reactExports.createElement(reactExports.Fragment,null,ze,reactExports.createElement(PrefetchPageLinks,{page:Re})):ze});Link.displayName="Link";var NavLink=reactExports.forwardRef(function Z({"aria-current":_="page",caseSensitive:K=!1,className:te="",end:ne=!1,style:ie,to:oe,viewTransition:se,children:le,...ce},fe){let me=useResolvedPath(oe,{relative:ce.relative}),pe=useLocation(),ge=reactExports.useContext(DataRouterStateContext),{navigator:ye,basename:Ee}=reactExports.useContext(NavigationContext),_e=ge!=null&&useViewTransitionState(me)&&se===!0,Se=ye.encodeLocation?ye.encodeLocation(me).pathname:me.pathname,Re=pe.pathname,Te=ge&&ge.navigation&&ge.navigation.location?ge.navigation.location.pathname:null;K||(Re=Re.toLowerCase(),Te=Te?Te.toLowerCase():null,Se=Se.toLowerCase()),Te&&Ee&&(Te=stripBasename(Te,Ee)||Te);const Ae=Se!=="/"&&Se.endsWith("/")?Se.length-1:Se.length;let Fe=Re===Se||!ne&&Re.startsWith(Se)&&Re.charAt(Ae)==="/",$e=Te!=null&&(Te===Se||!ne&&Te.startsWith(Se)&&Te.charAt(Se.length)==="/"),ke={isActive:Fe,isPending:$e,isTransitioning:_e},ze=Fe?_:void 0,Ue;typeof te=="function"?Ue=te(ke):Ue=[te,Fe?"active":null,$e?"pending":null,_e?"transitioning":null].filter(Boolean).join(" ");let Oe=typeof ie=="function"?ie(ke):ie;return reactExports.createElement(Link,{...ce,"aria-current":ze,className:Ue,ref:fe,style:Oe,to:oe,viewTransition:se},typeof le=="function"?le(ke):le)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Z="render",fetcherKey:_,navigate:K,reloadDocument:te,replace:ne,state:ie,method:oe=defaultMethod,action:se,onSubmit:le,relative:ce,preventScrollReset:fe,viewTransition:me,...pe},ge)=>{let ye=useSubmit(),Ee=useFormAction(se,{relative:ce}),_e=oe.toLowerCase()==="get"?"get":"post",Se=typeof se=="string"&&ABSOLUTE_URL_REGEX2.test(se),Re=Te=>{if(le&&le(Te),Te.defaultPrevented)return;Te.preventDefault();let Ae=Te.nativeEvent.submitter,Fe=(Ae==null?void 0:Ae.getAttribute("formmethod"))||oe;ye(Ae||Te.currentTarget,{fetcherKey:_,method:Fe,navigate:K,replace:ne,state:ie,relative:ce,preventScrollReset:fe,viewTransition:me})};return reactExports.createElement("form",{ref:ge,method:_e,action:Ee,onSubmit:te?le:Re,...pe,"data-discover":!Se&&Z==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Z){return`${Z} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Z){let _=reactExports.useContext(DataRouterContext);return invariant(_,getDataRouterConsoleError2(Z)),_}function useLinkClickHandler(Z,{target:_,replace:K,state:te,preventScrollReset:ne,relative:ie,viewTransition:oe}={}){let se=useNavigate(),le=useLocation(),ce=useResolvedPath(Z,{relative:ie});return reactExports.useCallback(fe=>{if(shouldProcessLinkClick(fe,_)){fe.preventDefault();let me=K!==void 0?K:createPath(le)===createPath(ce);se(Z,{replace:me,state:te,preventScrollReset:ne,relative:ie,viewTransition:oe})}},[le,se,ce,K,te,_,Z,ne,ie,oe])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Z}=useDataRouterContext3("useSubmit"),{basename:_}=reactExports.useContext(NavigationContext),K=useRouteId();return reactExports.useCallback(async(te,ne={})=>{let{action:ie,method:oe,encType:se,formData:le,body:ce}=getFormSubmissionInfo(te,_);if(ne.navigate===!1){let fe=ne.fetcherKey||getUniqueFetcherId();await Z.fetch(fe,K,ne.action||ie,{preventScrollReset:ne.preventScrollReset,formData:le,body:ce,formMethod:ne.method||oe,formEncType:ne.encType||se,flushSync:ne.flushSync})}else await Z.navigate(ne.action||ie,{preventScrollReset:ne.preventScrollReset,formData:le,body:ce,formMethod:ne.method||oe,formEncType:ne.encType||se,replace:ne.replace,state:ne.state,fromRouteId:K,flushSync:ne.flushSync,viewTransition:ne.viewTransition})},[Z,_,K])}function useFormAction(Z,{relative:_}={}){let{basename:K}=reactExports.useContext(NavigationContext),te=reactExports.useContext(RouteContext);invariant(te,"useFormAction must be used inside a RouteContext");let[ne]=te.matches.slice(-1),ie={...useResolvedPath(Z||".",{relative:_})},oe=useLocation();if(Z==null){ie.search=oe.search;let se=new URLSearchParams(ie.search),le=se.getAll("index");if(le.some(fe=>fe==="")){se.delete("index"),le.filter(me=>me).forEach(me=>se.append("index",me));let fe=se.toString();ie.search=fe?`?${fe}`:""}}return(!Z||Z===".")&&ne.route.index&&(ie.search=ie.search?ie.search.replace(/^\?/,"?index&"):"?index"),K!=="/"&&(ie.pathname=ie.pathname==="/"?K:joinPaths([K,ie.pathname])),createPath(ie)}function useViewTransitionState(Z,_={}){let K=reactExports.useContext(ViewTransitionContext);invariant(K!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:te}=useDataRouterContext3("useViewTransitionState"),ne=useResolvedPath(Z,{relative:_.relative});if(!K.isTransitioning)return!1;let ie=stripBasename(K.currentLocation.pathname,te)||K.currentLocation.pathname,oe=stripBasename(K.nextLocation.pathname,te)||K.nextLocation.pathname;return matchPath(ne.pathname,oe)!=null||matchPath(ne.pathname,ie)!=null}new TextEncoder;function Welcome({}){const Z=useNavigate();return jsxRuntimeExports.jsx("div",{className:"welcome-container h-100",children:jsxRuntimeExports.jsx(Animator,{active:!0,duration:{enter:1,exit:1},children:jsxRuntimeExports.jsx("div",{style:{position:"relative",width:400,height:400},children:jsxRuntimeExports.jsx(Frame,{type:FrameType.CIRCLE,style:{width:400,height:400},children:jsxRuntimeExports.jsxs("div",{className:"w-100 h-100 d-flex flex-column justify-content-center align-items-center",children:[jsxRuntimeExports.jsx(Text,{as:"h1",style:{...theme.font(0),margin:theme.space([0,0,4]),paddingBottom:theme.space(4),color:theme.color.primary(4)},children:"WELCOME"}),jsxRuntimeExports.jsx(Text,{children:"Click to activate sounds"}),jsxRuntimeExports.jsx(ThemeButton,{onClick:()=>{Z("/profile")},children:"Proceed"})]})})})})})}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,function(Z){(function(){var _={}.hasOwnProperty;function K(){for(var ie="",oe=0;oe<arguments.length;oe++){var se=arguments[oe];se&&(ie=ne(ie,te(se)))}return ie}function te(ie){if(typeof ie=="string"||typeof ie=="number")return ie;if(typeof ie!="object")return"";if(Array.isArray(ie))return K.apply(null,ie);if(ie.toString!==Object.prototype.toString&&!ie.toString.toString().includes("[native code]"))return ie.toString();var oe="";for(var se in ie)_.call(ie,se)&&ie[se]&&(oe=ne(oe,se));return oe}function ne(ie,oe){return oe?ie?ie+" "+oe:ie+oe:ie}Z.exports?(K.default=K,Z.exports=K):window.classNames=K})()}(classnames)),classnames.exports}var classnamesExports=requireClassnames();const classNames=getDefaultExportFromCjs(classnamesExports);function _objectWithoutPropertiesLoose$2(Z,_){if(Z==null)return{};var K={};for(var te in Z)if({}.hasOwnProperty.call(Z,te)){if(_.includes(te))continue;K[te]=Z[te]}return K}function defaultKey(Z){return"default"+Z.charAt(0).toUpperCase()+Z.substr(1)}function _toPropertyKey(Z){var _=_toPrimitive(Z,"string");return typeof _=="symbol"?_:String(_)}function _toPrimitive(Z,_){if(typeof Z!="object"||Z===null)return Z;var K=Z[Symbol.toPrimitive];if(K!==void 0){var te=K.call(Z,_);if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}function useUncontrolledProp(Z,_,K){var te=reactExports.useRef(Z!==void 0),ne=reactExports.useState(_),ie=ne[0],oe=ne[1],se=Z!==void 0,le=te.current;return te.current=se,!se&&le&&ie!==_&&oe(_),[se?Z:ie,reactExports.useCallback(function(ce){for(var fe=arguments.length,me=new Array(fe>1?fe-1:0),pe=1;pe<fe;pe++)me[pe-1]=arguments[pe];K&&K.apply(void 0,[ce].concat(me)),oe(ce)},[K])]}function useUncontrolled(Z,_){return Object.keys(_).reduce(function(K,te){var ne,ie=K,oe=ie[defaultKey(te)],se=ie[te],le=_objectWithoutPropertiesLoose$2(ie,[defaultKey(te),te].map(_toPropertyKey)),ce=_[te],fe=useUncontrolledProp(se,oe,Z[ce]),me=fe[0],pe=fe[1];return _extends$1({},le,(ne={},ne[te]=me,ne[ce]=pe,ne))},Z)}function _setPrototypeOf(Z,_){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,te){return K.__proto__=te,K},_setPrototypeOf(Z,_)}function _inheritsLoose(Z,_){Z.prototype=Object.create(_.prototype),Z.prototype.constructor=Z,_setPrototypeOf(Z,_)}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT}),{Consumer,Provider}=ThemeContext;function useBootstrapPrefix(Z,_){const{prefixes:K}=reactExports.useContext(ThemeContext);return Z||K[_]||_}function useBootstrapBreakpoints(){const{breakpoints:Z}=reactExports.useContext(ThemeContext);return Z}function useBootstrapMinBreakpoint(){const{minBreakpoint:Z}=reactExports.useContext(ThemeContext);return Z}function useIsRTL(){const{dir:Z}=reactExports.useContext(ThemeContext);return Z==="rtl"}function ownerDocument(Z){return Z&&Z.ownerDocument||document}function ownerWindow(Z){var _=ownerDocument(Z);return _&&_.defaultView||window}function getComputedStyle$1(Z,_){return ownerWindow(Z).getComputedStyle(Z,_)}var rUpper=/([A-Z])/g;function hyphenate(Z){return Z.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(Z){return hyphenate(Z).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(Z){return!!(Z&&supportedTransforms.test(Z))}function style(Z,_){var K="",te="";if(typeof _=="string")return Z.style.getPropertyValue(hyphenateStyleName(_))||getComputedStyle$1(Z).getPropertyValue(hyphenateStyleName(_));Object.keys(_).forEach(function(ne){var ie=_[ne];!ie&&ie!==0?Z.style.removeProperty(hyphenateStyleName(ne)):isTransform(ne)?te+=ne+"("+ie+") ":K+=hyphenateStyleName(ne)+": "+ie+";"}),te&&(K+="transform: "+te+";"),Z.style.cssText+=";"+K}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function Z(_){return _.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(Z){_inheritsLoose(_,Z);function _(te,ne){var ie;ie=Z.call(this,te,ne)||this;var oe=ne,se=oe&&!oe.isMounting?te.enter:te.appear,le;return ie.appearStatus=null,te.in?se?(le=EXITED,ie.appearStatus=ENTERING):le=ENTERED:te.unmountOnExit||te.mountOnEnter?le=UNMOUNTED:le=EXITED,ie.state={status:le},ie.nextCallback=null,ie}_.getDerivedStateFromProps=function(ne,ie){var oe=ne.in;return oe&&ie.status===UNMOUNTED?{status:EXITED}:null};var K=_.prototype;return K.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},K.componentDidUpdate=function(ne){var ie=null;if(ne!==this.props){var oe=this.state.status;this.props.in?oe!==ENTERING&&oe!==ENTERED&&(ie=ENTERING):(oe===ENTERING||oe===ENTERED)&&(ie=EXITING)}this.updateStatus(!1,ie)},K.componentWillUnmount=function(){this.cancelNextCallback()},K.getTimeouts=function(){var ne=this.props.timeout,ie,oe,se;return ie=oe=se=ne,ne!=null&&typeof ne!="number"&&(ie=ne.exit,oe=ne.enter,se=ne.appear!==void 0?ne.appear:oe),{exit:ie,enter:oe,appear:se}},K.updateStatus=function(ne,ie){if(ne===void 0&&(ne=!1),ie!==null)if(this.cancelNextCallback(),ie===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var oe=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);oe&&forceReflow(oe)}this.performEnter(ne)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},K.performEnter=function(ne){var ie=this,oe=this.props.enter,se=this.context?this.context.isMounting:ne,le=this.props.nodeRef?[se]:[ReactDOM.findDOMNode(this),se],ce=le[0],fe=le[1],me=this.getTimeouts(),pe=se?me.appear:me.enter;if(!ne&&!oe||config.disabled){this.safeSetState({status:ENTERED},function(){ie.props.onEntered(ce)});return}this.props.onEnter(ce,fe),this.safeSetState({status:ENTERING},function(){ie.props.onEntering(ce,fe),ie.onTransitionEnd(pe,function(){ie.safeSetState({status:ENTERED},function(){ie.props.onEntered(ce,fe)})})})},K.performExit=function(){var ne=this,ie=this.props.exit,oe=this.getTimeouts(),se=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!ie||config.disabled){this.safeSetState({status:EXITED},function(){ne.props.onExited(se)});return}this.props.onExit(se),this.safeSetState({status:EXITING},function(){ne.props.onExiting(se),ne.onTransitionEnd(oe.exit,function(){ne.safeSetState({status:EXITED},function(){ne.props.onExited(se)})})})},K.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},K.safeSetState=function(ne,ie){ie=this.setNextCallback(ie),this.setState(ne,ie)},K.setNextCallback=function(ne){var ie=this,oe=!0;return this.nextCallback=function(se){oe&&(oe=!1,ie.nextCallback=null,ne(se))},this.nextCallback.cancel=function(){oe=!1},this.nextCallback},K.onTransitionEnd=function(ne,ie){this.setNextCallback(ie);var oe=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),se=ne==null&&!this.props.addEndListener;if(!oe||se){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var le=this.props.nodeRef?[this.nextCallback]:[oe,this.nextCallback],ce=le[0],fe=le[1];this.props.addEndListener(ce,fe)}ne!=null&&setTimeout(this.nextCallback,ne)},K.render=function(){var ne=this.state.status;if(ne===UNMOUNTED)return null;var ie=this.props,oe=ie.children;ie.in,ie.mountOnEnter,ie.unmountOnExit,ie.appear,ie.enter,ie.exit,ie.timeout,ie.addEndListener,ie.onEnter,ie.onEntering,ie.onEntered,ie.onExit,ie.onExiting,ie.onExited,ie.nodeRef;var se=_objectWithoutPropertiesLoose$2(ie,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof oe=="function"?oe(ne,se):React.cloneElement(React.Children.only(oe),se))},_}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch(Z){}function addEventListener(Z,_,K,te){if(te&&typeof te!="boolean"&&!onceSupported){var ne=te.once,ie=te.capture,oe=K;!onceSupported&&ne&&(oe=K.__once||function se(le){this.removeEventListener(_,se,ie),K.call(this,le)},K.__once=oe),Z.addEventListener(_,oe,optionsSupported?te:ie)}Z.addEventListener(_,K,te)}function removeEventListener(Z,_,K,te){var ne=te&&typeof te!="boolean"?te.capture:te;Z.removeEventListener(_,K,ne),K.__once&&Z.removeEventListener(_,K.__once,ne)}function listen(Z,_,K,te){return addEventListener(Z,_,K,te),function(){removeEventListener(Z,_,K,te)}}function triggerEvent(Z,_,K,te){if(te===void 0&&(te=!0),Z){var ne=document.createEvent("HTMLEvents");ne.initEvent(_,K,te),Z.dispatchEvent(ne)}}function parseDuration$1(Z){var _=style(Z,"transitionDuration")||"",K=_.indexOf("ms")===-1?1e3:1;return parseFloat(_)*K}function emulateTransitionEnd(Z,_,K){K===void 0&&(K=5);var te=!1,ne=setTimeout(function(){te||triggerEvent(Z,"transitionend",!0)},_+K),ie=listen(Z,"transitionend",function(){te=!0},{once:!0});return function(){clearTimeout(ne),ie()}}function transitionEnd(Z,_,K,te){K==null&&(K=parseDuration$1(Z)||0);var ne=emulateTransitionEnd(Z,K,te),ie=listen(Z,"transitionend",_);return function(){ne(),ie()}}function parseDuration(Z,_){const K=style(Z,_)||"",te=K.indexOf("ms")===-1?1e3:1;return parseFloat(K)*te}function transitionEndListener(Z,_){const K=parseDuration(Z,"transitionDuration"),te=parseDuration(Z,"transitionDelay"),ne=transitionEnd(Z,ie=>{ie.target===Z&&(ne(),_(ie))},K+te)}function triggerBrowserReflow(Z){Z.offsetHeight}const toFnRef=Z=>!Z||typeof Z=="function"?Z:_=>{Z.current=_};function mergeRefs(Z,_){const K=toFnRef(Z),te=toFnRef(_);return ne=>{K&&K(ne),te&&te(ne)}}function useMergedRefs(Z,_){return reactExports.useMemo(()=>mergeRefs(Z,_),[Z,_])}function safeFindDOMNode(Z){return Z&&"setState"in Z?ReactDOM.findDOMNode(Z):Z??null}const TransitionWrapper=React.forwardRef(({onEnter:Z,onEntering:_,onEntered:K,onExit:te,onExiting:ne,onExited:ie,addEndListener:oe,children:se,childRef:le,...ce},fe)=>{const me=reactExports.useRef(null),pe=useMergedRefs(me,le),ge=$e=>{pe(safeFindDOMNode($e))},ye=$e=>ke=>{$e&&me.current&&$e(me.current,ke)},Ee=reactExports.useCallback(ye(Z),[Z]),_e=reactExports.useCallback(ye(_),[_]),Se=reactExports.useCallback(ye(K),[K]),Re=reactExports.useCallback(ye(te),[te]),Te=reactExports.useCallback(ye(ne),[ne]),Ae=reactExports.useCallback(ye(ie),[ie]),Fe=reactExports.useCallback(ye(oe),[oe]);return jsxRuntimeExports.jsx(Transition,{ref:fe,...ce,onEnter:Ee,onEntered:Se,onEntering:_e,onExit:Re,onExited:Ae,onExiting:Te,addEndListener:Fe,nodeRef:me,children:typeof se=="function"?($e,ke)=>se($e,{...ke,ref:ge}):React.cloneElement(se,{ref:ge})})});function useCommittedRef$1(Z){const _=reactExports.useRef(Z);return reactExports.useEffect(()=>{_.current=Z},[Z]),_}function useEventCallback$1(Z){const _=useCommittedRef$1(Z);return reactExports.useCallback(function(...K){return _.current&&_.current(...K)},[_])}function useCommittedRef(Z){const _=reactExports.useRef(Z);return reactExports.useEffect(()=>{_.current=Z},[Z]),_}function useEventCallback(Z){const _=useCommittedRef(Z);return reactExports.useCallback(function(...K){return _.current&&_.current(...K)},[_])}const _excluded$1=["as","disabled"];function _objectWithoutPropertiesLoose$1(Z,_){if(Z==null)return{};var K={};for(var te in Z)if({}.hasOwnProperty.call(Z,te)){if(_.indexOf(te)>=0)continue;K[te]=Z[te]}return K}function isTrivialHref$1(Z){return!Z||Z.trim()==="#"}function useButtonProps({tagName:Z,disabled:_,href:K,target:te,rel:ne,role:ie,onClick:oe,tabIndex:se=0,type:le}){Z||(K!=null||te!=null||ne!=null?Z="a":Z="button");const ce={tagName:Z};if(Z==="button")return[{type:le||"button",disabled:_},ce];const fe=pe=>{if((_||Z==="a"&&isTrivialHref$1(K))&&pe.preventDefault(),_){pe.stopPropagation();return}oe==null||oe(pe)},me=pe=>{pe.key===" "&&(pe.preventDefault(),fe(pe))};return Z==="a"&&(K||(K="#"),_&&(K=void 0)),[{role:ie??"button",disabled:void 0,tabIndex:_?void 0:se,href:K,target:Z==="a"?te:void 0,"aria-disabled":_||void 0,rel:Z==="a"?ne:void 0,onClick:fe,onKeyDown:me},ce]}const Button=reactExports.forwardRef((Z,_)=>{let{as:K,disabled:te}=Z,ne=_objectWithoutPropertiesLoose$1(Z,_excluded$1);const[ie,{tagName:oe}]=useButtonProps(Object.assign({tagName:K,disabled:te},ne));return jsxRuntimeExports.jsx(oe,Object.assign({},ne,ie,{ref:_}))});Button.displayName="Button";const _excluded=["onKeyDown"];function _objectWithoutPropertiesLoose(Z,_){if(Z==null)return{};var K={};for(var te in Z)if({}.hasOwnProperty.call(Z,te)){if(_.indexOf(te)>=0)continue;K[te]=Z[te]}return K}function isTrivialHref(Z){return!Z||Z.trim()==="#"}const Anchor=reactExports.forwardRef((Z,_)=>{let{onKeyDown:K}=Z,te=_objectWithoutPropertiesLoose(Z,_excluded);const[ne]=useButtonProps(Object.assign({tagName:"a"},te)),ie=useEventCallback(oe=>{ne.onKeyDown(oe),K==null||K(oe)});return isTrivialHref(te.href)||te.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:_},te,ne,{onKeyDown:ie})):jsxRuntimeExports.jsx("a",Object.assign({ref:_},te,{onKeyDown:K}))});Anchor.displayName="Anchor";function useUpdateEffect(Z,_){const K=reactExports.useRef(!0);reactExports.useEffect(()=>{if(K.current){K.current=!1;return}return Z()},_)}function useMounted(){const Z=reactExports.useRef(!0),_=reactExports.useRef(()=>Z.current);return reactExports.useEffect(()=>(Z.current=!0,()=>{Z.current=!1}),[]),_.current}function useUpdatedRef(Z){const _=reactExports.useRef(Z);return _.current=Z,_}function useWillUnmount(Z){const _=useUpdatedRef(Z);reactExports.useEffect(()=>()=>_.current(),[])}const MAX_DELAY_MS=2**31-1;function setChainedTimeout(Z,_,K){const te=K-Date.now();Z.current=te<=MAX_DELAY_MS?setTimeout(_,te):setTimeout(()=>setChainedTimeout(Z,_,K),MAX_DELAY_MS)}function useTimeout(){const Z=useMounted(),_=reactExports.useRef();return useWillUnmount(()=>clearTimeout(_.current)),reactExports.useMemo(()=>{const K=()=>clearTimeout(_.current);function te(ne,ie=0){Z()&&(K(),ie<=MAX_DELAY_MS?_.current=setTimeout(ne,ie):setChainedTimeout(_,ne,Date.now()+ie))}return{set:te,clear:K,handleRef:_}},[])}const CarouselCaption=reactExports.forwardRef(({className:Z,bsPrefix:_,as:K="div",...te},ne)=>(_=useBootstrapPrefix(_,"carousel-caption"),jsxRuntimeExports.jsx(K,{ref:ne,className:classNames(Z,_),...te})));CarouselCaption.displayName="CarouselCaption";const CarouselItem=reactExports.forwardRef(({as:Z="div",bsPrefix:_,className:K,...te},ne)=>{const ie=classNames(K,useBootstrapPrefix(_,"carousel-item"));return jsxRuntimeExports.jsx(Z,{ref:ne,...te,className:ie})});CarouselItem.displayName="CarouselItem";function map(Z,_){let K=0;return reactExports.Children.map(Z,te=>reactExports.isValidElement(te)?_(te,K++):te)}function forEach(Z,_){let K=0;reactExports.Children.forEach(Z,te=>{reactExports.isValidElement(te)&&_(te,K++)})}const SWIPE_THRESHOLD=40;function isVisible(Z){if(!Z||!Z.style||!Z.parentNode||!Z.parentNode.style)return!1;const _=getComputedStyle(Z);return _.display!=="none"&&_.visibility!=="hidden"&&getComputedStyle(Z.parentNode).display!=="none"}const Carousel=reactExports.forwardRef(({defaultActiveIndex:Z=0,..._},K)=>{const{as:te="div",bsPrefix:ne,slide:ie=!0,fade:oe=!1,controls:se=!0,indicators:le=!0,indicatorLabels:ce=[],activeIndex:fe,onSelect:me,onSlide:pe,onSlid:ge,interval:ye=5e3,keyboard:Ee=!0,onKeyDown:_e,pause:Se="hover",onMouseOver:Re,onMouseOut:Te,wrap:Ae=!0,touch:Fe=!0,onTouchStart:$e,onTouchMove:ke,onTouchEnd:ze,prevIcon:Ue=jsxRuntimeExports.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Oe="Previous",nextIcon:Ve=jsxRuntimeExports.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:Ye="Next",variant:Ke,className:ot,children:ut,...ct}=useUncontrolled({defaultActiveIndex:Z,..._},{activeIndex:"onSelect"}),gt=useBootstrapPrefix(ne,"carousel"),je=useIsRTL(),rt=reactExports.useRef(null),[Qe,qe]=reactExports.useState("next"),[lt,Et]=reactExports.useState(!1),[ht,dt]=reactExports.useState(!1),[Mt,Pt]=reactExports.useState(fe||0);reactExports.useEffect(()=>{!ht&&fe!==Mt&&(rt.current?qe(rt.current):qe((fe||0)>Mt?"next":"prev"),ie&&dt(!0),Pt(fe||0))},[fe,ht,Mt,ie]),reactExports.useEffect(()=>{rt.current&&(rt.current=null)});let Wt=0,Qt;forEach(ut,(Tt,Ft)=>{++Wt,Ft===fe&&(Qt=Tt.props.interval)});const sn=useCommittedRef$1(Qt),hn=reactExports.useCallback(Tt=>{if(ht)return;let Ft=Mt-1;if(Ft<0){if(!Ae)return;Ft=Wt-1}rt.current="prev",me==null||me(Ft,Tt)},[ht,Mt,me,Ae,Wt]),Dt=useEventCallback$1(Tt=>{if(ht)return;let Ft=Mt+1;if(Ft>=Wt){if(!Ae)return;Ft=0}rt.current="next",me==null||me(Ft,Tt)}),Vt=reactExports.useRef();reactExports.useImperativeHandle(K,()=>({element:Vt.current,prev:hn,next:Dt}));const Ze=useEventCallback$1(()=>{!document.hidden&&isVisible(Vt.current)&&(je?hn():Dt())}),on=Qe==="next"?"start":"end";useUpdateEffect(()=>{ie||(pe==null||pe(Mt,on),ge==null||ge(Mt,on))},[Mt]);const Xt=`${gt}-item-${Qe}`,an=`${gt}-item-${on}`,Yt=reactExports.useCallback(Tt=>{triggerBrowserReflow(Tt),pe==null||pe(Mt,on)},[pe,Mt,on]),mn=reactExports.useCallback(()=>{dt(!1),ge==null||ge(Mt,on)},[ge,Mt,on]),Jt=reactExports.useCallback(Tt=>{if(Ee&&!/input|textarea/i.test(Tt.target.tagName))switch(Tt.key){case"ArrowLeft":Tt.preventDefault(),je?Dt(Tt):hn(Tt);return;case"ArrowRight":Tt.preventDefault(),je?hn(Tt):Dt(Tt);return}_e==null||_e(Tt)},[Ee,_e,hn,Dt,je]),Xe=reactExports.useCallback(Tt=>{Se==="hover"&&Et(!0),Re==null||Re(Tt)},[Se,Re]),He=reactExports.useCallback(Tt=>{Et(!1),Te==null||Te(Tt)},[Te]),tt=reactExports.useRef(0),mt=reactExports.useRef(0),Nt=useTimeout(),_t=reactExports.useCallback(Tt=>{tt.current=Tt.touches[0].clientX,mt.current=0,Se==="hover"&&Et(!0),$e==null||$e(Tt)},[Se,$e]),jt=reactExports.useCallback(Tt=>{Tt.touches&&Tt.touches.length>1?mt.current=0:mt.current=Tt.touches[0].clientX-tt.current,ke==null||ke(Tt)},[ke]),Ot=reactExports.useCallback(Tt=>{if(Fe){const Ft=mt.current;Math.abs(Ft)>SWIPE_THRESHOLD&&(Ft>0?hn(Tt):Dt(Tt))}Se==="hover"&&Nt.set(()=>{Et(!1)},ye||void 0),ze==null||ze(Tt)},[Fe,Se,hn,Dt,Nt,ye,ze]),qt=ye!=null&&!lt&&!ht,Sn=reactExports.useRef();reactExports.useEffect(()=>{var Tt,Ft;if(!qt)return;const pn=je?hn:Dt;return Sn.current=window.setInterval(document.visibilityState?Ze:pn,(Tt=(Ft=sn.current)!=null?Ft:ye)!=null?Tt:void 0),()=>{Sn.current!==null&&clearInterval(Sn.current)}},[qt,hn,Dt,sn,ye,Ze,je]);const Ht=reactExports.useMemo(()=>le&&Array.from({length:Wt},(Tt,Ft)=>pn=>{me==null||me(Ft,pn)}),[le,Wt,me]);return jsxRuntimeExports.jsxs(te,{ref:Vt,...ct,onKeyDown:Jt,onMouseOver:Xe,onMouseOut:He,onTouchStart:_t,onTouchMove:jt,onTouchEnd:Ot,className:classNames(ot,gt,ie&&"slide",oe&&`${gt}-fade`,Ke&&`${gt}-${Ke}`),children:[le&&jsxRuntimeExports.jsx("div",{className:`${gt}-indicators`,children:map(ut,(Tt,Ft)=>jsxRuntimeExports.jsx("button",{type:"button","data-bs-target":"","aria-label":ce!=null&&ce.length?ce[Ft]:`Slide ${Ft+1}`,className:Ft===Mt?"active":void 0,onClick:Ht?Ht[Ft]:void 0,"aria-current":Ft===Mt},Ft))}),jsxRuntimeExports.jsx("div",{className:`${gt}-inner`,children:map(ut,(Tt,Ft)=>{const pn=Ft===Mt;return ie?jsxRuntimeExports.jsx(TransitionWrapper,{in:pn,onEnter:pn?Yt:void 0,onEntered:pn?mn:void 0,addEndListener:transitionEndListener,children:(cn,at)=>reactExports.cloneElement(Tt,{...at,className:classNames(Tt.props.className,pn&&cn!=="entered"&&Xt,(cn==="entered"||cn==="exiting")&&"active",(cn==="entering"||cn==="exiting")&&an)})}):reactExports.cloneElement(Tt,{className:classNames(Tt.props.className,pn&&"active")})})}),se&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(Ae||fe!==0)&&jsxRuntimeExports.jsxs(Anchor,{className:`${gt}-control-prev`,onClick:hn,children:[Ue,Oe&&jsxRuntimeExports.jsx("span",{className:"visually-hidden",children:Oe})]}),(Ae||fe!==Wt-1)&&jsxRuntimeExports.jsxs(Anchor,{className:`${gt}-control-next`,onClick:Dt,children:[Ve,Ye&&jsxRuntimeExports.jsx("span",{className:"visually-hidden",children:Ye})]})]})]})});Carousel.displayName="Carousel";const Carousel$1=Object.assign(Carousel,{Caption:CarouselCaption,Item:CarouselItem});function useCol({as:Z,bsPrefix:_,className:K,...te}){_=useBootstrapPrefix(_,"col");const ne=useBootstrapBreakpoints(),ie=useBootstrapMinBreakpoint(),oe=[],se=[];return ne.forEach(le=>{const ce=te[le];delete te[le];let fe,me,pe;typeof ce=="object"&&ce!=null?{span:fe,offset:me,order:pe}=ce:fe=ce;const ge=le!==ie?`-${le}`:"";fe&&oe.push(fe===!0?`${_}${ge}`:`${_}${ge}-${fe}`),pe!=null&&se.push(`order${ge}-${pe}`),me!=null&&se.push(`offset${ge}-${me}`)}),[{...te,className:classNames(K,...oe,...se)},{as:Z,bsPrefix:_,spans:oe}]}const Col=reactExports.forwardRef((Z,_)=>{const[{className:K,...te},{as:ne="div",bsPrefix:ie,spans:oe}]=useCol(Z);return jsxRuntimeExports.jsx(ne,{...te,ref:_,className:classNames(K,!oe.length&&ie)})});Col.displayName="Col";const ROUND_PRECISION=1e3;function getPercentage(Z,_,K){const te=(Z-_)/(K-_)*100;return Math.round(te*ROUND_PRECISION)/ROUND_PRECISION}function renderProgressBar({min:Z,now:_,max:K,label:te,visuallyHidden:ne,striped:ie,animated:oe,className:se,style:le,variant:ce,bsPrefix:fe,...me},pe){return jsxRuntimeExports.jsx("div",{ref:pe,...me,role:"progressbar",className:classNames(se,`${fe}-bar`,{[`bg-${ce}`]:ce,[`${fe}-bar-animated`]:oe,[`${fe}-bar-striped`]:oe||ie}),style:{width:`${getPercentage(_,Z,K)}%`,...le},"aria-valuenow":_,"aria-valuemin":Z,"aria-valuemax":K,children:ne?jsxRuntimeExports.jsx("span",{className:"visually-hidden",children:te}):te})}const ProgressBar=reactExports.forwardRef(({isChild:Z=!1,..._},K)=>{const te={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,..._};if(te.bsPrefix=useBootstrapPrefix(te.bsPrefix,"progress"),Z)return renderProgressBar(te,K);const{min:ne,now:ie,max:oe,label:se,visuallyHidden:le,striped:ce,animated:fe,bsPrefix:me,variant:pe,className:ge,children:ye,...Ee}=te;return jsxRuntimeExports.jsx("div",{ref:K,...Ee,className:classNames(ge,me),children:ye?map(ye,_e=>reactExports.cloneElement(_e,{isChild:!0})):renderProgressBar({min:ne,now:ie,max:oe,label:se,visuallyHidden:le,striped:ce,animated:fe,bsPrefix:me,variant:pe},K)})});ProgressBar.displayName="ProgressBar";const Row=reactExports.forwardRef(({bsPrefix:Z,className:_,as:K="div",...te},ne)=>{const ie=useBootstrapPrefix(Z,"row"),oe=useBootstrapBreakpoints(),se=useBootstrapMinBreakpoint(),le=`${ie}-cols`,ce=[];return oe.forEach(fe=>{const me=te[fe];delete te[fe];let pe;me!=null&&typeof me=="object"?{cols:pe}=me:pe=me;const ge=fe!==se?`-${fe}`:"";pe!=null&&ce.push(`${le}${ge}-${pe}`)}),jsxRuntimeExports.jsx(K,{ref:ne,...te,className:classNames(_,ie,...ce)})});Row.displayName="Row";function Header(){const[Z,_]=reactExports.useState();return reactExports.useEffect(()=>{fetch(getAssetPath("/resources/header_icons.json")).then(K=>K.json()).then(K=>{const te=K.map((ne,ie)=>jsxRuntimeExports.jsx("a",{target:"_blank",href:ne.url,style:{pointerEvents:"auto"},children:jsxRuntimeExports.jsx(Animated,{as:"i",className:`fa-3x fab ${ne.font_awesome}`,style:{marginRight:theme.space(4)},animated:["flicker",["rotate",-45,0]]})},`icon-${ie}`));_(te)}).catch(K=>console.error("Error fetching JSON:",K))},[]),jsxRuntimeExports.jsx(Animator,{children:jsxRuntimeExports.jsx(Frame,{type:FrameType.OCTAGON,children:jsxRuntimeExports.jsxs(Row,{className:"position-relative align-items-center",style:{padding:"10px 0"},children:[jsxRuntimeExports.jsxs(Col,{className:"d-flex align-items-center",style:{marginLeft:theme.space(3)},children:[jsxRuntimeExports.jsx(Animator,{duration:{enter:.8},children:jsxRuntimeExports.jsx(Animated,{as:"img",className:"logo-image",animated:["flicker",["rotate",-45,0]],src:"assets/images/logoicon.svg"})}),jsxRuntimeExports.jsx(Text,{as:"span",style:{fontSize:`${theme.font(0).fontSize}`,textTransform:"uppercase",marginLeft:theme.space(3),color:theme.color.primary(3),textShadow:`0 0 2px ${theme.color.primary(3)}`},children:"///Acess Granted///"})]}),jsxRuntimeExports.jsx(Col,{className:"d-flex justify-content-end",style:{marginRight:theme.space(3)},children:Z})]})})})}addStyles(`
.logo-image::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none; /* Prevent blocking the image */
  background-color: ${theme.color.primary(3)};
}
`);function SidebarItem({label:Z,duration:_,subItems:K,selectedItem:te,selectedSubItem:ne,onItemSelect:ie,onSubItemSelect:oe}){const se=useNavigate(),[le,ce]=reactExports.useState(null),[fe,me]=reactExports.useState(!1),pe=useBleeps();return reactExports.useEffect(()=>{te&&me(te.toLowerCase()===Z.toLowerCase())},[te,Z]),reactExports.useEffect(()=>{if(K){const ge=K.map((ye,Ee)=>{const _e=ne&&fe&&ne.toLowerCase()===ye.label.toLowerCase();return jsxRuntimeExports.jsx(Text,{as:"li",className:`sidebar-sub-item ${_e?"active":""}`.trim(),onClick:()=>{var Re;(Re=pe.click)==null||Re.play(),ie==null||ie(Z),oe==null||oe(ye.label);const Se=`/profile/${Z.toLowerCase()}/${Ee}`;se(Se,{replace:!0})},onMouseEnter:()=>{var Se;(Se=pe.hover)==null||Se.play()},style:{fontFamily:theme.font(0).fontFamily,fontWeight:theme.font(0).fontWeight,fontSize:"1.3rem",color:theme.color.primary(4)},duration:{delay:Ee*.1},children:ye.label},`sub-item-${Ee}`)});ce(ge)}},[pe,fe,K,te,ne,oe,ie,Z]),jsxRuntimeExports.jsx(Animator,{duration:_,children:jsxRuntimeExports.jsxs("div",{className:"sidebar-item-wrapper",children:[jsxRuntimeExports.jsx("div",{className:`sidebar-item ${fe?"active":""}`,style:{pointerEvents:K?"none":"auto"},onClick:()=>{ie&&ie(Z),K||se("/profile/"+Z.toLowerCase(),{replace:!0})},onMouseEnter:()=>{var ge;(ge=pe.hover)==null||ge.play()},children:jsxRuntimeExports.jsx(Text,{as:"div",style:{textTransform:"uppercase",fontStyle:"italic",fontFamily:theme.font(0).fontFamily,fontWeight:theme.font(0).fontWeight,fontSize:"1.5rem",color:theme.color.primary(4)},children:Z})}),K&&le&&jsxRuntimeExports.jsx("ol",{className:"sidebar-sub-items-wrapper",children:le})]})})}function Sidebar({profileData:Z}){const[_,K]=reactExports.useState([]),[te,ne]=reactExports.useState(null),[ie,oe]=reactExports.useState(null);return reactExports.useEffect(()=>{if(Z){const se=Object.entries(Z).map(([le,ce],fe)=>jsxRuntimeExports.jsx(SidebarItem,{label:le,subItems:Array.isArray(ce)?ce:null,selectedItem:te,selectedSubItem:ie,onItemSelect:ne,onSubItemSelect:oe,duration:{delay:fe*.1}},`sidebar-item-${le}`));K(se)}},[Z,te,ie,ne,oe]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Frame,{style:{width:"100%",position:"relative",height:"auto"},type:FrameType.OCTAGON,children:jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",display:"flex",flexDirection:"column",padding:theme.space(4)},children:_})})})}addStyles(`
.sidebar-item-wrapper{
    margin-bottom: ${theme.space(2)};
}

.sidebar-item{
    width: 100%;
    border-bottom: 2px solid ${theme.color.primary(2)};
    margin-bottom: ${theme.space(2)};
    cursor: pointer;
}

.sidebar-item.active, .sidebar-item:hover, .sidebar-item:focus{
    border-bottom: 2px solid ${theme.color.secondary(4)};
}

.sidebar-item.active span, .sidebar-item:hover span, .sidebar-item:focus span {
    color: ${theme.color.secondary(4)};
}

.sidebar-sub-items-wrapper{
    margin-left: ${theme.space(2)};
}

.sidebar-sub-item{
    width: 100%;
    border-bottom: 1px solid ${theme.color.primary(2)};
    margin-bottom: ${theme.space(2)};
    cursor: pointer;
    pointer-events: auto;
}

.sidebar-sub-item.active, .sidebar-sub-item:hover, .sidebar-sub-item:focus{
    border-bottom: 1px solid ${theme.color.secondary(4)};
}

.sidebar-sub-item.active span, .sidebar-sub-item:hover span, .sidebar-sub-item:focus span {
    color: ${theme.color.secondary(4)};
}

`);const SciFiCarousel=({images:Z,styles:_,className:K})=>jsxRuntimeExports.jsx(Carousel$1,{className:`sci-fi-carousel ${K}`.trim(),interval:5e3,wrap:!0,style:_,children:Z.map((te,ne)=>jsxRuntimeExports.jsx(Carousel$1.Item,{children:jsxRuntimeExports.jsx("img",{className:"d-block w-100 sci-fi-img",src:te,alt:`Sci-Fi Image ${ne+1}`})},ne))});addStyles(`
.sci-fi-img {
  border-radius: 15px;
  filter: brightness(0.8);
  transition: filter 0.3s ease-in-out;
  height: 100%;
  width: 100%;
  object-fit: cover;
  object-position: center;
}

.sci-fi-img:hover {
  filter: brightness(1) contrast(1.1);
}

.sci-fi-carousel {
  box-shadow: 0 0 30px ${theme.color.primary(9,{alpha:.5})};
  border-radius: 15px;
  pointer-events: auto;
}


.carousel-inner {
  background: radial-gradient(circle at center, #1a1a1a, #0f0f0f);
  /*border: 1px solid ${theme.color.primary(6)}; #00ff99 Glowing border effect */
  box-shadow: 0 0 30px ${theme.color.primary(9,{alpha:.5})}; /* rgba(0, 255, 153, 0.5)Glowing effect */
}

.carousel-control-prev,
.carousel-control-next {
  background-color: transparent;
}
.carousel-control-prev-icon,
.carousel-control-next-icon {
  pointer-events: auto;
  color: ${theme.color.primary(6)}; /* #00ff99Sci-fi glow */
}
`);const RESOURCE_DIR_ROOT=getAssetPath("/resources/projects/");function Project({projectsData:Z}){const{index:_}=useParams(),[K,te]=reactExports.useState(""),[ne,ie]=reactExports.useState(""),[oe,se]=reactExports.useState(),[le,ce]=reactExports.useState(),[fe,me]=reactExports.useState("");return reactExports.useEffect(()=>{if(Z&&_!==void 0){const pe=Z[parseInt(_)];te(pe.label),ie(pe.description),se(pe.demo_url),me(pe.link);const ge=pe.screenshots.map(ye=>RESOURCE_DIR_ROOT+pe.resource_directory+"/"+ye);ce(ge)}},[Z,_]),K?jsxRuntimeExports.jsxs("div",{className:"w-100",children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",marginTop:theme.space(5),display:"flex",justifyContent:"center",paddingBottom:theme.space(2),borderBottom:`1px solid ${theme.color.primary(3)}`,boxShadow:`0 10px 15px ${theme.color.primary(6,{alpha:.5})}`},children:jsxRuntimeExports.jsx(Text,{as:"h1",children:K})}),fe&&jsxRuntimeExports.jsx("a",{target:"_blank",href:fe,style:{pointerEvents:"auto",position:"absolute",right:theme.space(6),top:theme.space(5)},children:jsxRuntimeExports.jsx(Animated,{as:"i",className:"fa-2x fas fa-external-link-alt",style:{marginRight:theme.space(4)},animated:["flicker",["rotate",-45,0]]})})]})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{sm:{offset:1,span:10},md:{offset:2,span:8},children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Text,{as:"p",className:"project-description",style:{marginTop:theme.space(4),textAlign:"justify"},children:ne})}),oe&&jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Frame,{className:"demo-frame",type:FrameType.NERO,style:{position:"relative",width:"100%",marginTop:theme.space(4),marginBottom:theme.space(6),padding:"5px"},children:jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",paddingTop:"56.25%",pointerEvents:"auto",borderRadius:"15px",border:`1px solid ${theme.color.primary(6)}`},children:jsxRuntimeExports.jsx("iframe",{src:oe,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},allowFullScreen:!0})})})}),le&&le.length>0&&jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Frame,{className:"carousel-frame",style:{padding:"5px",marginBottom:theme.space(6)},type:FrameType.NERO,children:jsxRuntimeExports.jsx(SciFiCarousel,{styles:{width:"100%",position:"relative",borderRadius:"15px",border:`1px solid ${theme.color.primary(6)}`},images:le})})})]})})]}):jsxRuntimeExports.jsx("div",{className:"w-100",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(Text,{as:"h1",children:"No project found"})})})})}function Profile(){const[Z,_]=reactExports.useState();return reactExports.useEffect(()=>{fetch(getAssetPath("/resources/profile_data.json")).then(K=>K.json()).then(K=>{_(K)}).catch(K=>console.error("Error fetching JSON:",K))},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Row,{style:{marginTop:theme.space(4)},children:jsxRuntimeExports.jsxs(Animator,{children:[jsxRuntimeExports.jsx(Col,{className:"left-panel",xl:3,md:4,sm:5,children:jsxRuntimeExports.jsx(Sidebar,{profileData:Z})}),jsxRuntimeExports.jsx(Col,{className:"right-panel",style:{width:"100%",position:"relative"},children:jsxRuntimeExports.jsx(Frame,{type:FrameType.OCTAGON,children:jsxRuntimeExports.jsx(Routes,{children:Z&&jsxRuntimeExports.jsx(Route,{path:"/projects/:index",element:jsxRuntimeExports.jsx(Project,{projectsData:Z.projects})})})})})]})})]})}function MainOverlay({styles:Z}){return jsxRuntimeExports.jsx(BleepsProvider,{...bleepsSettings,children:jsxRuntimeExports.jsx("div",{className:"main-overlay",style:Z,children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Welcome,{})}),jsxRuntimeExports.jsx(Route,{path:"/profile/*",element:jsxRuntimeExports.jsx(Profile,{})})]})})})}const LoadingScreen=()=>{const[Z,_]=reactExports.useState(58),[K,te]=reactExports.useState(!0);return reactExports.useEffect(()=>{const ne=setInterval(()=>{_(ie=>{if(ie===100)return te(!1),clearInterval(ne),100;const oe=Math.random()*40;return Math.min(ie+oe,100)})},400);return()=>{clearInterval(ne)}},[]),jsxRuntimeExports.jsx("div",{className:`loading-screen ${K?"":"fade-out"}`,children:jsxRuntimeExports.jsxs("div",{className:"progress-bar-wrapper",children:[jsxRuntimeExports.jsx(ProgressBar,{animated:!0,now:Z,label:`${Math.floor(Z)}%`}),jsxRuntimeExports.jsx("p",{children:"Optimizing your patience... please wait."})]})})},MobileBlocker=()=>jsxRuntimeExports.jsxs("div",{className:"mobile-block",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-3x fa-exclamation-triangle"}),jsxRuntimeExports.jsx(Animator,{children:jsxRuntimeExports.jsxs(Text,{style:{marginTop:"1rem"},as:"div",children:["Unsupported platform detected.",jsxRuntimeExports.jsx("br",{}),"Please use a PC browser for the best experience",jsxRuntimeExports.jsx("br",{}),":)"]})})]});var lib={},uaParser_min$1={exports:{}},uaParser_min=uaParser_min$1.exports,hasRequiredUaParser_min;function requireUaParser_min(){return hasRequiredUaParser_min||(hasRequiredUaParser_min=1,function(Z,_){(function(K,te){var ne="1.0.40",ie="",oe="?",se="function",le="undefined",ce="object",fe="string",me="major",pe="model",ge="name",ye="type",Ee="vendor",_e="version",Se="architecture",Re="console",Te="mobile",Ae="tablet",Fe="smarttv",$e="wearable",ke="embedded",ze=500,Ue="Amazon",Oe="Apple",Ve="ASUS",Ye="BlackBerry",Ke="Browser",ot="Chrome",ut="Edge",ct="Firefox",gt="Google",je="Huawei",rt="LG",Qe="Microsoft",qe="Motorola",lt="Opera",Et="Samsung",ht="Sharp",dt="Sony",Mt="Xiaomi",Pt="Zebra",Wt="Facebook",Qt="Chromium OS",sn="Mac OS",hn=" Browser",Dt=function(_t,jt){var Ot={};for(var qt in _t)jt[qt]&&jt[qt].length%2===0?Ot[qt]=jt[qt].concat(_t[qt]):Ot[qt]=_t[qt];return Ot},Vt=function(_t){for(var jt={},Ot=0;Ot<_t.length;Ot++)jt[_t[Ot].toUpperCase()]=_t[Ot];return jt},Ze=function(_t,jt){return typeof _t===fe?on(jt).indexOf(on(_t))!==-1:!1},on=function(_t){return _t.toLowerCase()},Xt=function(_t){return typeof _t===fe?_t.replace(/[^\d\.]/g,ie).split(".")[0]:te},an=function(_t,jt){if(typeof _t===fe)return _t=_t.replace(/^\s\s*/,ie),typeof jt===le?_t:_t.substring(0,ze)},Yt=function(_t,jt){for(var Ot=0,qt,Sn,Ht,Tt,Ft,pn;Ot<jt.length&&!Ft;){var cn=jt[Ot],at=jt[Ot+1];for(qt=Sn=0;qt<cn.length&&!Ft&&cn[qt];)if(Ft=cn[qt++].exec(_t),Ft)for(Ht=0;Ht<at.length;Ht++)pn=Ft[++Sn],Tt=at[Ht],typeof Tt===ce&&Tt.length>0?Tt.length===2?typeof Tt[1]==se?this[Tt[0]]=Tt[1].call(this,pn):this[Tt[0]]=Tt[1]:Tt.length===3?typeof Tt[1]===se&&!(Tt[1].exec&&Tt[1].test)?this[Tt[0]]=pn?Tt[1].call(this,pn,Tt[2]):te:this[Tt[0]]=pn?pn.replace(Tt[1],Tt[2]):te:Tt.length===4&&(this[Tt[0]]=pn?Tt[3].call(this,pn.replace(Tt[1],Tt[2])):te):this[Tt]=pn||te;Ot+=2}},mn=function(_t,jt){for(var Ot in jt)if(typeof jt[Ot]===ce&&jt[Ot].length>0){for(var qt=0;qt<jt[Ot].length;qt++)if(Ze(jt[Ot][qt],_t))return Ot===oe?te:Ot}else if(Ze(jt[Ot],_t))return Ot===oe?te:Ot;return jt.hasOwnProperty("*")?jt["*"]:_t},Jt={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Xe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},He={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_e,[ge,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[_e,[ge,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ge,_e],[/opios[\/ ]+([\w\.]+)/i],[_e,[ge,lt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[_e,[ge,lt+" GX"]],[/\bopr\/([\w\.]+)/i],[_e,[ge,lt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[_e,[ge,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[_e,[ge,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[ge,_e],[/quark(?:pc)?\/([-\w\.]+)/i],[_e,[ge,"Quark"]],[/\bddg\/([\w\.]+)/i],[_e,[ge,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[_e,[ge,"UC"+Ke]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[_e,[ge,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_e,[ge,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[_e,[ge,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[_e,[ge,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[_e,[ge,"Smart Lenovo "+Ke]],[/(avast|avg)\/([\w\.]+)/i],[[ge,/(.+)/,"$1 Secure "+Ke],_e],[/\bfocus\/([\w\.]+)/i],[_e,[ge,ct+" Focus"]],[/\bopt\/([\w\.]+)/i],[_e,[ge,lt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[_e,[ge,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_e,[ge,"Dolphin"]],[/coast\/([\w\.]+)/i],[_e,[ge,lt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[_e,[ge,"MIUI"+hn]],[/fxios\/([\w\.-]+)/i],[_e,[ge,ct]],[/\bqihoobrowser\/?([\w\.]*)/i],[_e,[ge,"360"]],[/\b(qq)\/([\w\.]+)/i],[[ge,/(.+)/,"$1Browser"],_e],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[ge,/(.+)/,"$1"+hn],_e],[/samsungbrowser\/([\w\.]+)/i],[_e,[ge,Et+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[_e,[ge,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[ge,"Sogou Mobile"],_e],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[ge,_e],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[ge],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[_e,ge],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ge,Wt],_e],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[ge,_e],[/\bgsa\/([\w\.]+) .*safari\//i],[_e,[ge,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[_e,[ge,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[_e,[ge,ot+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ge,ot+" WebView"],_e],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[_e,[ge,"Android "+Ke]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ge,_e],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[_e,[ge,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[_e,ge],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ge,[_e,mn,Jt]],[/(webkit|khtml)\/([\w\.]+)/i],[ge,_e],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ge,"Netscape"],_e],[/(wolvic|librewolf)\/([\w\.]+)/i],[ge,_e],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[_e,[ge,ct+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[ge,[_e,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[ge,[_e,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Se,"amd64"]],[/(ia32(?=;))/i],[[Se,on]],[/((?:i[346]|x)86)[;\)]/i],[[Se,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Se,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Se,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Se,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Se,/ower/,ie,on]],[/(sun4\w)[;\)]/i],[[Se,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Se,on]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[pe,[Ee,Et],[ye,Ae]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[pe,[Ee,Et],[ye,Te]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[pe,[Ee,Oe],[ye,Te]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[pe,[Ee,Oe],[ye,Ae]],[/(macintosh);/i],[pe,[Ee,Oe]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[pe,[Ee,ht],[ye,Te]],[/(?:honor)([-\w ]+)[;\)]/i],[pe,[Ee,"Honor"],[ye,Te]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[pe,[Ee,je],[ye,Ae]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[pe,[Ee,je],[ye,Te]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[pe,/_/g," "],[Ee,Mt],[ye,Te]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[pe,/_/g," "],[Ee,Mt],[ye,Ae]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[pe,[Ee,"OPPO"],[ye,Te]],[/\b(opd2\d{3}a?) bui/i],[pe,[Ee,"OPPO"],[ye,Ae]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[pe,[Ee,"Vivo"],[ye,Te]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[pe,[Ee,"Realme"],[ye,Te]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[pe,[Ee,qe],[ye,Te]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[pe,[Ee,qe],[ye,Ae]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[pe,[Ee,rt],[ye,Ae]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[pe,[Ee,rt],[ye,Te]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[pe,[Ee,"Lenovo"],[ye,Ae]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[pe,/_/g," "],[Ee,"Nokia"],[ye,Te]],[/(pixel c)\b/i],[pe,[Ee,gt],[ye,Ae]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[pe,[Ee,gt],[ye,Te]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[pe,[Ee,dt],[ye,Te]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[pe,"Xperia Tablet"],[Ee,dt],[ye,Ae]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[pe,[Ee,"OnePlus"],[ye,Te]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[pe,[Ee,Ue],[ye,Ae]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[pe,/(.+)/g,"Fire Phone $1"],[Ee,Ue],[ye,Te]],[/(playbook);[-\w\),; ]+(rim)/i],[pe,Ee,[ye,Ae]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[pe,[Ee,Ye],[ye,Te]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[pe,[Ee,Ve],[ye,Ae]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[pe,[Ee,Ve],[ye,Te]],[/(nexus 9)/i],[pe,[Ee,"HTC"],[ye,Ae]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Ee,[pe,/_/g," "],[ye,Te]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[pe,[Ee,"TCL"],[ye,Ae]],[/(itel) ((\w+))/i],[[Ee,on],pe,[ye,mn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[pe,[Ee,"Acer"],[ye,Ae]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[pe,[Ee,"Meizu"],[ye,Te]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[pe,[Ee,"Ulefone"],[ye,Te]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[pe,[Ee,"Energizer"],[ye,Te]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[pe,[Ee,"Cat"],[ye,Te]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[pe,[Ee,"Smartfren"],[ye,Te]],[/droid.+; (a(?:015|06[35]|142p?))/i],[pe,[Ee,"Nothing"],[ye,Te]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Ee,pe,[ye,Te]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Ee,pe,[ye,Ae]],[/(surface duo)/i],[pe,[Ee,Qe],[ye,Ae]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[pe,[Ee,"Fairphone"],[ye,Te]],[/(u304aa)/i],[pe,[Ee,"AT&T"],[ye,Te]],[/\bsie-(\w*)/i],[pe,[Ee,"Siemens"],[ye,Te]],[/\b(rct\w+) b/i],[pe,[Ee,"RCA"],[ye,Ae]],[/\b(venue[\d ]{2,7}) b/i],[pe,[Ee,"Dell"],[ye,Ae]],[/\b(q(?:mv|ta)\w+) b/i],[pe,[Ee,"Verizon"],[ye,Ae]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[pe,[Ee,"Barnes & Noble"],[ye,Ae]],[/\b(tm\d{3}\w+) b/i],[pe,[Ee,"NuVision"],[ye,Ae]],[/\b(k88) b/i],[pe,[Ee,"ZTE"],[ye,Ae]],[/\b(nx\d{3}j) b/i],[pe,[Ee,"ZTE"],[ye,Te]],[/\b(gen\d{3}) b.+49h/i],[pe,[Ee,"Swiss"],[ye,Te]],[/\b(zur\d{3}) b/i],[pe,[Ee,"Swiss"],[ye,Ae]],[/\b((zeki)?tb.*\b) b/i],[pe,[Ee,"Zeki"],[ye,Ae]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Ee,"Dragon Touch"],pe,[ye,Ae]],[/\b(ns-?\w{0,9}) b/i],[pe,[Ee,"Insignia"],[ye,Ae]],[/\b((nxa|next)-?\w{0,9}) b/i],[pe,[Ee,"NextBook"],[ye,Ae]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Ee,"Voice"],pe,[ye,Te]],[/\b(lvtel\-)?(v1[12]) b/i],[[Ee,"LvTel"],pe,[ye,Te]],[/\b(ph-1) /i],[pe,[Ee,"Essential"],[ye,Te]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[pe,[Ee,"Envizen"],[ye,Ae]],[/\b(trio[-\w\. ]+) b/i],[pe,[Ee,"MachSpeed"],[ye,Ae]],[/\btu_(1491) b/i],[pe,[Ee,"Rotor"],[ye,Ae]],[/(shield[\w ]+) b/i],[pe,[Ee,"Nvidia"],[ye,Ae]],[/(sprint) (\w+)/i],[Ee,pe,[ye,Te]],[/(kin\.[onetw]{3})/i],[[pe,/\./g," "],[Ee,Qe],[ye,Te]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[pe,[Ee,Pt],[ye,Ae]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[pe,[Ee,Pt],[ye,Te]],[/smart-tv.+(samsung)/i],[Ee,[ye,Fe]],[/hbbtv.+maple;(\d+)/i],[[pe,/^/,"SmartTV"],[Ee,Et],[ye,Fe]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Ee,rt],[ye,Fe]],[/(apple) ?tv/i],[Ee,[pe,Oe+" TV"],[ye,Fe]],[/crkey/i],[[pe,ot+"cast"],[Ee,gt],[ye,Fe]],[/droid.+aft(\w+)( bui|\))/i],[pe,[Ee,Ue],[ye,Fe]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[pe,[Ee,ht],[ye,Fe]],[/(bravia[\w ]+)( bui|\))/i],[pe,[Ee,dt],[ye,Fe]],[/(mitv-\w{5}) bui/i],[pe,[Ee,Mt],[ye,Fe]],[/Hbbtv.*(technisat) (.*);/i],[Ee,pe,[ye,Fe]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Ee,an],[pe,an],[ye,Fe]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[ye,Fe]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Ee,pe,[ye,Re]],[/droid.+; (shield) bui/i],[pe,[Ee,"Nvidia"],[ye,Re]],[/(playstation [345portablevi]+)/i],[pe,[Ee,dt],[ye,Re]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[pe,[Ee,Qe],[ye,Re]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[pe,[Ee,Et],[ye,$e]],[/((pebble))app/i],[Ee,pe,[ye,$e]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[pe,[Ee,Oe],[ye,$e]],[/droid.+; (glass) \d/i],[pe,[Ee,gt],[ye,$e]],[/droid.+; (wt63?0{2,3})\)/i],[pe,[Ee,Pt],[ye,$e]],[/droid.+; (glass) \d/i],[pe,[Ee,gt],[ye,$e]],[/(pico) (4|neo3(?: link|pro)?)/i],[Ee,pe,[ye,$e]],[/; (quest( \d| pro)?)/i],[pe,[Ee,Wt],[ye,$e]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Ee,[ye,ke]],[/(aeobc)\b/i],[pe,[Ee,Ue],[ye,ke]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[pe,[ye,Te]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[pe,[ye,Ae]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[ye,Ae]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[ye,Te]],[/(android[-\w\. ]{0,9});.+buil/i],[pe,[Ee,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[_e,[ge,ut+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[ge,_e],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_e,[ge,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[ge,_e],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_e,ge]],os:[[/microsoft (windows) (vista|xp)/i],[ge,_e],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[ge,[_e,mn,Xe]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[_e,mn,Xe],[ge,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[_e,/_/g,"."],[ge,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ge,sn],[_e,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[_e,ge],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ge,_e],[/\(bb(10);/i],[_e,[ge,Ye]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[_e,[ge,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[_e,[ge,ct+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_e,[ge,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[_e,[ge,"watchOS"]],[/crkey\/([\d\.]+)/i],[_e,[ge,ot+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[ge,Qt],_e],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ge,_e],[/(sunos) ?([\w\.\d]*)/i],[[ge,"Solaris"],_e],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[ge,_e]]},tt=function(_t,jt){if(typeof _t===ce&&(jt=_t,_t=te),!(this instanceof tt))return new tt(_t,jt).getResult();var Ot=typeof K!==le&&K.navigator?K.navigator:te,qt=_t||(Ot&&Ot.userAgent?Ot.userAgent:ie),Sn=Ot&&Ot.userAgentData?Ot.userAgentData:te,Ht=jt?Dt(He,jt):He,Tt=Ot&&Ot.userAgent==qt;return this.getBrowser=function(){var Ft={};return Ft[ge]=te,Ft[_e]=te,Yt.call(Ft,qt,Ht.browser),Ft[me]=Xt(Ft[_e]),Tt&&Ot&&Ot.brave&&typeof Ot.brave.isBrave==se&&(Ft[ge]="Brave"),Ft},this.getCPU=function(){var Ft={};return Ft[Se]=te,Yt.call(Ft,qt,Ht.cpu),Ft},this.getDevice=function(){var Ft={};return Ft[Ee]=te,Ft[pe]=te,Ft[ye]=te,Yt.call(Ft,qt,Ht.device),Tt&&!Ft[ye]&&Sn&&Sn.mobile&&(Ft[ye]=Te),Tt&&Ft[pe]=="Macintosh"&&Ot&&typeof Ot.standalone!==le&&Ot.maxTouchPoints&&Ot.maxTouchPoints>2&&(Ft[pe]="iPad",Ft[ye]=Ae),Ft},this.getEngine=function(){var Ft={};return Ft[ge]=te,Ft[_e]=te,Yt.call(Ft,qt,Ht.engine),Ft},this.getOS=function(){var Ft={};return Ft[ge]=te,Ft[_e]=te,Yt.call(Ft,qt,Ht.os),Tt&&!Ft[ge]&&Sn&&Sn.platform&&Sn.platform!="Unknown"&&(Ft[ge]=Sn.platform.replace(/chrome os/i,Qt).replace(/macos/i,sn)),Ft},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return qt},this.setUA=function(Ft){return qt=typeof Ft===fe&&Ft.length>ze?an(Ft,ze):Ft,this},this.setUA(qt),this};tt.VERSION=ne,tt.BROWSER=Vt([ge,_e,me]),tt.CPU=Vt([Se]),tt.DEVICE=Vt([pe,Ee,ye,Re,Te,Fe,Ae,$e,ke]),tt.ENGINE=tt.OS=Vt([ge,_e]),Z.exports&&(_=Z.exports=tt),_.UAParser=tt;var mt=typeof K!==le&&(K.jQuery||K.Zepto);if(mt&&!mt.ua){var Nt=new tt;mt.ua=Nt.getResult(),mt.ua.get=function(){return Nt.getUA()},mt.ua.set=function(_t){Nt.setUA(_t);var jt=Nt.getResult();for(var Ot in jt)mt.ua[Ot]=jt[Ot]}}})(typeof window=="object"?window:uaParser_min)}(uaParser_min$1,uaParser_min$1.exports)),uaParser_min$1.exports}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0});function Z(bt){return bt&&typeof bt=="object"&&"default"in bt?bt.default:bt}var _=requireReact(),K=Z(_),te=requireUaParser_min(),ne=new te,ie=ne.getBrowser(),oe=ne.getCPU(),se=ne.getDevice(),le=ne.getEngine(),ce=ne.getOS(),fe=ne.getUA(),me=function(et){return ne.setUA(et)},pe=function(et){if(!et){console.error("No userAgent string was provided");return}var it=new te(et);return{UA:it,browser:it.getBrowser(),cpu:it.getCPU(),device:it.getDevice(),engine:it.getEngine(),os:it.getOS(),ua:it.getUA(),setUserAgent:function(Zt){return it.setUA(Zt)}}},ge=Object.freeze({ClientUAInstance:ne,browser:ie,cpu:oe,device:se,engine:le,os:ce,ua:fe,setUa:me,parseUserAgent:pe});function ye(bt,et){var it=Object.keys(bt);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(bt);et&&(Bt=Bt.filter(function(Zt){return Object.getOwnPropertyDescriptor(bt,Zt).enumerable})),it.push.apply(it,Bt)}return it}function Ee(bt){for(var et=1;et<arguments.length;et++){var it=arguments[et]!=null?arguments[et]:{};et%2?ye(Object(it),!0).forEach(function(Bt){Ae(bt,Bt,it[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(it)):ye(Object(it)).forEach(function(Bt){Object.defineProperty(bt,Bt,Object.getOwnPropertyDescriptor(it,Bt))})}return bt}function _e(bt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(et){return typeof et}:_e=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_e(bt)}function Se(bt,et){if(!(bt instanceof et))throw new TypeError("Cannot call a class as a function")}function Re(bt,et){for(var it=0;it<et.length;it++){var Bt=et[it];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(bt,Bt.key,Bt)}}function Te(bt,et,it){return et&&Re(bt.prototype,et),bt}function Ae(bt,et,it){return et in bt?Object.defineProperty(bt,et,{value:it,enumerable:!0,configurable:!0,writable:!0}):bt[et]=it,bt}function Fe(){return Fe=Object.assign||function(bt){for(var et=1;et<arguments.length;et++){var it=arguments[et];for(var Bt in it)Object.prototype.hasOwnProperty.call(it,Bt)&&(bt[Bt]=it[Bt])}return bt},Fe.apply(this,arguments)}function $e(bt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(et&&et.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),et&&ze(bt,et)}function ke(bt){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(it){return it.__proto__||Object.getPrototypeOf(it)},ke(bt)}function ze(bt,et){return ze=Object.setPrototypeOf||function(Bt,Zt){return Bt.__proto__=Zt,Bt},ze(bt,et)}function Ue(bt,et){if(bt==null)return{};var it={},Bt=Object.keys(bt),Zt,Fn;for(Fn=0;Fn<Bt.length;Fn++)Zt=Bt[Fn],!(et.indexOf(Zt)>=0)&&(it[Zt]=bt[Zt]);return it}function Oe(bt,et){if(bt==null)return{};var it=Ue(bt,et),Bt,Zt;if(Object.getOwnPropertySymbols){var Fn=Object.getOwnPropertySymbols(bt);for(Zt=0;Zt<Fn.length;Zt++)Bt=Fn[Zt],!(et.indexOf(Bt)>=0)&&Object.prototype.propertyIsEnumerable.call(bt,Bt)&&(it[Bt]=bt[Bt])}return it}function Ve(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function Ye(bt,et){if(et&&(typeof et=="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ve(bt)}function Ke(bt,et){return ot(bt)||ut(bt,et)||ct(bt,et)||je()}function ot(bt){if(Array.isArray(bt))return bt}function ut(bt,et){var it=bt==null?null:typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(it!=null){var Bt=[],Zt=!0,Fn=!1,rr,kr;try{for(it=it.call(bt);!(Zt=(rr=it.next()).done)&&(Bt.push(rr.value),!(et&&Bt.length===et));Zt=!0);}catch(Ko){Fn=!0,kr=Ko}finally{try{!Zt&&it.return!=null&&it.return()}finally{if(Fn)throw kr}}return Bt}}function ct(bt,et){if(bt){if(typeof bt=="string")return gt(bt,et);var it=Object.prototype.toString.call(bt).slice(8,-1);if(it==="Object"&&bt.constructor&&(it=bt.constructor.name),it==="Map"||it==="Set")return Array.from(bt);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return gt(bt,et)}}function gt(bt,et){(et==null||et>bt.length)&&(et=bt.length);for(var it=0,Bt=new Array(et);it<et;it++)Bt[it]=bt[it];return Bt}function je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Qe={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},qe={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},lt={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Et=function(et){switch(et){case rt.Mobile:return{isMobile:!0};case rt.Tablet:return{isTablet:!0};case rt.SmartTv:return{isSmartTV:!0};case rt.Console:return{isConsole:!0};case rt.Wearable:return{isWearable:!0};case rt.Browser:return{isBrowser:!0};case rt.Embedded:return{isEmbedded:!0};default:return lt}},ht=function(et){return me(et)},dt=function(et){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return et||it},Mt=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},Pt=function(et){var it=Mt();return it&&it.platform&&(it.platform.indexOf(et)!==-1||it.platform==="MacIntel"&&it.maxTouchPoints>1&&!window.MSStream)},Wt=function(et,it,Bt,Zt,Fn){return{isBrowser:et,browserMajorVersion:dt(it.major),browserFullVersion:dt(it.version),browserName:dt(it.name),engineName:dt(Bt.name),engineVersion:dt(Bt.version),osName:dt(Zt.name),osVersion:dt(Zt.version),userAgent:dt(Fn)}},Qt=function(et,it,Bt,Zt){return Ee({},et,{vendor:dt(it.vendor),model:dt(it.model),os:dt(Bt.name),osVersion:dt(Bt.version),ua:dt(Zt)})},sn=function(et,it,Bt,Zt){return{isSmartTV:et,engineName:dt(it.name),engineVersion:dt(it.version),osName:dt(Bt.name),osVersion:dt(Bt.version),userAgent:dt(Zt)}},hn=function(et,it,Bt,Zt){return{isConsole:et,engineName:dt(it.name),engineVersion:dt(it.version),osName:dt(Bt.name),osVersion:dt(Bt.version),userAgent:dt(Zt)}},Dt=function(et,it,Bt,Zt){return{isWearable:et,engineName:dt(it.name),engineVersion:dt(it.version),osName:dt(Bt.name),osVersion:dt(Bt.version),userAgent:dt(Zt)}},Vt=function(et,it,Bt,Zt,Fn){return{isEmbedded:et,vendor:dt(it.vendor),model:dt(it.model),engineName:dt(Bt.name),engineVersion:dt(Bt.version),osName:dt(Zt.name),osVersion:dt(Zt.version),userAgent:dt(Fn)}};function Ze(bt){var et=bt?pe(bt):ge,it=et.device,Bt=et.browser,Zt=et.engine,Fn=et.os,rr=et.ua,kr=Et(it.type),Ko=kr.isBrowser,Zs=kr.isMobile,Qs=kr.isTablet,li=kr.isSmartTV,Ia=kr.isConsole,_i=kr.isWearable,Js=kr.isEmbedded;if(Ko)return Wt(Ko,Bt,Zt,Fn,rr);if(li)return sn(li,Zt,Fn,rr);if(Ia)return hn(Ia,Zt,Fn,rr);if(Zs||Qs)return Qt(kr,it,Fn,rr);if(_i)return Dt(_i,Zt,Fn,rr);if(Js)return Vt(Js,it,Zt,Fn,rr)}var on=function(et){var it=et.type;return it===rt.Mobile},Xt=function(et){var it=et.type;return it===rt.Tablet},an=function(et){var it=et.type;return it===rt.Mobile||it===rt.Tablet},Yt=function(et){var it=et.type;return it===rt.SmartTv},mn=function(et){var it=et.type;return it===rt.Browser},Jt=function(et){var it=et.type;return it===rt.Wearable},Xe=function(et){var it=et.type;return it===rt.Console},He=function(et){var it=et.type;return it===rt.Embedded},tt=function(et){var it=et.vendor;return dt(it)},mt=function(et){var it=et.model;return dt(it)},Nt=function(et){var it=et.type;return dt(it,"browser")},_t=function(et){var it=et.name;return it===qe.Android},jt=function(et){var it=et.name;return it===qe.Windows},Ot=function(et){var it=et.name;return it===qe.MAC_OS},qt=function(et){var it=et.name;return it===qe.WindowsPhone},Sn=function(et){var it=et.name;return it===qe.IOS},Ht=function(et){var it=et.version;return dt(it)},Tt=function(et){var it=et.name;return dt(it)},Ft=function(et){var it=et.name;return it===Qe.Chrome},pn=function(et){var it=et.name;return it===Qe.Firefox},cn=function(et){var it=et.name;return it===Qe.Chromium},at=function(et){var it=et.name;return it===Qe.Edge},Ut=function(et){var it=et.name;return it===Qe.Yandex},un=function(et){var it=et.name;return it===Qe.Safari||it===Qe.MobileSafari},st=function(et){var it=et.name;return it===Qe.MobileSafari},Kt=function(et){var it=et.name;return it===Qe.Opera},At=function(et){var it=et.name;return it===Qe.InternetExplorer||it===Qe.Ie},zt=function(et){var it=et.name;return it===Qe.MIUI},yn=function(et){var it=et.name;return it===Qe.SamsungBrowser},gn=function(et){var it=et.version;return dt(it)},Dn=function(et){var it=et.major;return dt(it)},tr=function(et){var it=et.name;return dt(it)},cr=function(et){var it=et.name;return dt(it)},qn=function(et){var it=et.version;return dt(it)},Sr=function(){var et=Mt(),it=et&&et.userAgent&&et.userAgent.toLowerCase();return typeof it=="string"?/electron/.test(it):!1},hr=function(et){return typeof et=="string"&&et.indexOf("Edg/")!==-1},_o=function(){var et=Mt();return et&&(/iPad|iPhone|iPod/.test(et.platform)||et.platform==="MacIntel"&&et.maxTouchPoints>1)&&!window.MSStream},Fr=function(){return Pt("iPad")},Ai=function(){return Pt("iPhone")},vi=function(){return Pt("iPod")},co=function(et){return dt(et)};function yi(bt){var et=bt||ge,it=et.device,Bt=et.browser,Zt=et.os,Fn=et.engine,rr=et.ua;return{isSmartTV:Yt(it),isConsole:Xe(it),isWearable:Jt(it),isEmbedded:He(it),isMobileSafari:st(Bt)||Fr(),isChromium:cn(Bt),isMobile:an(it)||Fr(),isMobileOnly:on(it),isTablet:Xt(it)||Fr(),isBrowser:mn(it),isDesktop:mn(it),isAndroid:_t(Zt),isWinPhone:qt(Zt),isIOS:Sn(Zt)||Fr(),isChrome:Ft(Bt),isFirefox:pn(Bt),isSafari:un(Bt),isOpera:Kt(Bt),isIE:At(Bt),osVersion:Ht(Zt),osName:Tt(Zt),fullBrowserVersion:gn(Bt),browserVersion:Dn(Bt),browserName:tr(Bt),mobileVendor:tt(it),mobileModel:mt(it),engineName:cr(Fn),engineVersion:qn(Fn),getUA:co(rr),isEdge:at(Bt)||hr(rr),isYandex:Ut(Bt),deviceType:Nt(it),isIOS13:_o(),isIPad13:Fr(),isIPhone13:Ai(),isIPod13:vi(),isElectron:Sr(),isEdgeChromium:hr(rr),isLegacyEdge:at(Bt)&&!hr(rr),isWindows:jt(Zt),isMacOs:Ot(Zt),isMIUI:zt(Bt),isSamsungBrowser:yn(Bt)}}var Qi=Yt(se),fs=Xe(se),So=Jt(se),Ws=He(se),Ui=st(ie)||Fr(),js=cn(ie),Eo=an(se)||Fr(),ds=on(se),hs=Xt(se)||Fr(),ps=mn(se),We=mn(se),xt=_t(ce),It=qt(ce),Lt=Sn(ce)||Fr(),pt=Ft(ie),tn=pn(ie),vn=un(ie),_n=Kt(ie),wn=At(ie),Un=Ht(ce),Nn=Tt(ce),Tn=gn(ie),bn=Dn(ie),Ln=tr(ie),Kn=tt(se),Zn=mt(se),Gn=cr(le),Pn=qn(le),ur=co(fe),Bn=at(ie)||hr(fe),Rr=Ut(ie),xi=Nt(se),zr=_o(),Bi=Fr(),sr=Ai(),pr=vi(),Vr=Sr(),wr=hr(fe),Gr=at(ie)&&!hr(fe),zi=jt(ce),Xn=Ot(ce),Xo=zt(ie),ms=yn(ie),Pa=function(et){if(!et||typeof et!="string"){console.error("No valid user agent string was provided");return}var it=pe(et),Bt=it.device,Zt=it.browser,Fn=it.os,rr=it.engine,kr=it.ua;return yi({device:Bt,browser:Zt,os:Fn,engine:rr,ua:kr})},hl=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return xt?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},qs=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return ps?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},Xs=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return wn?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},bo=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return Lt?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},Ys=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return Eo?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},Vi=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return hs?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},Qn=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return It?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},Ji=function(et){var it=et.renderWithFragment,Bt=et.children;et.viewClassName,et.style;var Zt=Oe(et,["renderWithFragment","children","viewClassName","style"]);return ds?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},wo=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return Qi?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},Yo=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return fs?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},uo=function(et){var it=et.renderWithFragment,Bt=et.children,Zt=Oe(et,["renderWithFragment","children"]);return So?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Zt,Bt):null},ic=function(et){var it=et.renderWithFragment,Bt=et.children;et.viewClassName,et.style;var Zt=et.condition,Fn=Oe(et,["renderWithFragment","children","viewClassName","style","condition"]);return Zt?it?K.createElement(_.Fragment,null,Bt):K.createElement("div",Fn,Bt):null};function Ir(bt){return function(et){$e(it,et);function it(Bt){var Zt;return Se(this,it),Zt=Ye(this,ke(it).call(this,Bt)),Zt.isEventListenerAdded=!1,Zt.handleOrientationChange=Zt.handleOrientationChange.bind(Ve(Zt)),Zt.onOrientationChange=Zt.onOrientationChange.bind(Ve(Zt)),Zt.onPageLoad=Zt.onPageLoad.bind(Ve(Zt)),Zt.state={isLandscape:!1,isPortrait:!1},Zt}return Te(it,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Zt=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Zt===0,isLandscape:Zt===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_e(window))!==void 0&&Eo&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return K.createElement(bt,Fe({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),it}(K.Component)}function Mo(){var bt=_.useState(function(){var Fn=window.innerWidth>window.innerHeight?90:0;return{isPortrait:Fn===0,isLandscape:Fn===90,orientation:Fn===0?"portrait":"landscape"}}),et=Ke(bt,2),it=et[0],Bt=et[1],Zt=_.useCallback(function(){var Fn=window.innerWidth>window.innerHeight?90:0,rr={isPortrait:Fn===0,isLandscape:Fn===90,orientation:Fn===0?"portrait":"landscape"};it.orientation!==rr.orientation&&Bt(rr)},[it.orientation]);return _.useEffect(function(){return(typeof window>"u"?"undefined":_e(window))!==void 0&&Eo&&(Zt(),window.addEventListener("load",Zt,!1),window.addEventListener("resize",Zt,!1)),function(){window.removeEventListener("resize",Zt,!1),window.removeEventListener("load",Zt,!1)}},[Zt]),it}function pl(bt){var et=bt||window.navigator.userAgent;return pe(et)}function Ks(bt){var et=bt||window.navigator.userAgent,it=pl(et),Bt=yi(it);return[Bt,it]}return lib.AndroidView=hl,lib.BrowserTypes=Qe,lib.BrowserView=qs,lib.ConsoleView=Yo,lib.CustomView=ic,lib.IEView=Xs,lib.IOSView=bo,lib.MobileOnlyView=Ji,lib.MobileView=Ys,lib.OsTypes=qe,lib.SmartTVView=wo,lib.TabletView=Vi,lib.WearableView=uo,lib.WinPhoneView=Qn,lib.browserName=Ln,lib.browserVersion=bn,lib.deviceDetect=Ze,lib.deviceType=xi,lib.engineName=Gn,lib.engineVersion=Pn,lib.fullBrowserVersion=Tn,lib.getSelectorsByUserAgent=Pa,lib.getUA=ur,lib.isAndroid=xt,lib.isBrowser=ps,lib.isChrome=pt,lib.isChromium=js,lib.isConsole=fs,lib.isDesktop=We,lib.isEdge=Bn,lib.isEdgeChromium=wr,lib.isElectron=Vr,lib.isEmbedded=Ws,lib.isFirefox=tn,lib.isIE=wn,lib.isIOS=Lt,lib.isIOS13=zr,lib.isIPad13=Bi,lib.isIPhone13=sr,lib.isIPod13=pr,lib.isLegacyEdge=Gr,lib.isMIUI=Xo,lib.isMacOs=Xn,lib.isMobile=Eo,lib.isMobileOnly=ds,lib.isMobileSafari=Ui,lib.isOpera=_n,lib.isSafari=vn,lib.isSamsungBrowser=ms,lib.isSmartTV=Qi,lib.isTablet=hs,lib.isWearable=So,lib.isWinPhone=It,lib.isWindows=zi,lib.isYandex=Rr,lib.mobileModel=Zn,lib.mobileVendor=Kn,lib.osName=Nn,lib.osVersion=Un,lib.parseUserAgent=pe,lib.setUserAgent=ht,lib.useDeviceData=pl,lib.useDeviceSelectors=Ks,lib.useMobileOrientation=Mo,lib.withOrientationChange=Ir,lib}var libExports=requireLib();const AsyncParticleSphere=React.lazy(()=>__vitePreload(()=>import("./ParticleSphere-CPMXYvgL.js"),[])),AsyncCityModel=React.lazy(()=>__vitePreload(()=>import("./CityModel-BhGs_QSM.js"),[])),mode="prod";console.log("App Mode:",mode);addStyles(`
    #leva__root {
      display: none;
    }  
  `);function App(){const{didCatch:Z,error:_}=a$4(),K=useControls({camZoom:{value:1.26,min:0,max:5,step:.01}});return libExports.isMobile?jsxRuntimeExports.jsx(MobileBlocker,{}):Z?jsxRuntimeExports.jsx("div",{children:_.message}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(GlobalStateProvider,{children:jsxRuntimeExports.jsxs("div",{className:"app",children:[jsxRuntimeExports.jsx(ScifiBackground,{}),jsxRuntimeExports.jsx(MainOverlay,{}),jsxRuntimeExports.jsx(LoadingScreen,{}),jsxRuntimeExports.jsxs(ThreeCanvas,{className:"main-canvas",style:{position:"fixed",width:"100vw",height:"100vh"},showState:mode==="dev",children:[jsxRuntimeExports.jsx(PerspectiveCamera,{makeDefault:!0,position:[0,0,5],zoom:K.camZoom}),jsxRuntimeExports.jsx(OrbitControls,{enableZoom:!1,enablePan:!1,enableRotate:!1,zoomSpeed:1,onChange:te=>console.log(te)}),jsxRuntimeExports.jsx(CameraShake,{yawFrequency:1,maxYaw:.03,pitchFrequency:.2,maxPitch:.03,rollFrequency:.5,maxRoll:.3,intensity:.2}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(AsyncCityModel,{})}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(AsyncParticleSphere,{})}),jsxRuntimeExports.jsx(PostProc,{})]})]})})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(App,{})}));export{LineBasicMaterial as $,InterleavedBuffer as A,BufferAttribute as B,Color$1 as C,DataTexture as D,LinearMipmapLinearFilter as E,FloatType as F,GlobalStateContext as G,NearestMipmapLinearFilter as H,InstancedMesh as I,LinearMipmapNearestFilter as J,NearestMipmapNearestFilter as K,Loader as L,MathUtils as M,NormalBlending as N,OrthographicCamera as O,PointLight as P,Quaternion as Q,RGBAFormat as R,ShaderMaterial as S,TrianglesDrawMode as T,LinearFilter as U,Vector4 as V,RepeatWrapping as W,MirroredRepeatWrapping as X,ClampToEdgeWrapping as Y,PointsMaterial as Z,Material as _,Vector3 as a,MeshStandardMaterial as a0,DoubleSide as a1,MeshBasicMaterial as a2,PropertyBinding as a3,BufferGeometry as a4,SkinnedMesh as a5,Mesh as a6,LineSegments as a7,Line as a8,LineLoop as a9,Points as aa,Group as ab,PerspectiveCamera$1 as ac,Skeleton as ad,AnimationClip as ae,Bone as af,InterpolateDiscrete as ag,InterpolateLinear as ah,InterleavedBufferAttribute as ai,Texture as aj,VectorKeyframeTrack as ak,NumberKeyframeTrack as al,QuaternionKeyframeTrack as am,FrontSide as an,Interpolant as ao,Box3 as ap,Sphere as aq,useThree as ar,useLoader as as,getAssetPath as at,Scene as b,unprojectPointer as c,useFrame as d,createPortal as e,extend as f,NearestFilter as g,useControls as h,REVISION as i,jsxRuntimeExports as j,TriangleFanDrawMode as k,TriangleStripDrawMode as l,LoaderUtils as m,FileLoader as n,MeshPhysicalMaterial as o,preprocessGLSLForThree as p,Vector2 as q,reactExports as r,SpotLight as s,DirectionalLight as t,useFBO as u,Matrix4 as v,InstancedBufferAttribute as w,Object3D as x,TextureLoader as y,ImageBitmapLoader as z};
